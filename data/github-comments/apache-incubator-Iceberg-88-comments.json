[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819358405","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819358405","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819358405,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTM1ODQwNQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T09:02:04Z","updated_at":"2021-04-14T09:02:04Z","author_association":"CONTRIBUTOR","body":"> > @snazy: Could it be that it is the same as #2448\r\n> \r\n> I doubt. 2448 \"just\" adds timeouts to tests, so they can \"fail earlier\" instead of running infinitely. But I think, the underlying problem's the same.\r\n\r\nThere is a minimal [change](https://github.com/apache/iceberg/pull/2448/files#diff-2da837fbcd9c1789e9c32826e7638ff55c1d8ffb5779017759f51561f35d807cR82) hidden there which might solve the issue:\r\n```\r\n-    metastore.start(new HiveConf(hs2Conf));\r\n+    metastore.start(new HiveConf(hs2Conf), 10);\r\n```\r\n\r\nThe timeout helped to identify why are the tests are waiting.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819358405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819363467","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-819363467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":819363467,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTM2MzQ2Nw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T09:08:46Z","updated_at":"2021-04-14T09:08:46Z","author_association":"CONTRIBUTOR","body":"> Hi, @rymurr I've updated the pr with your suggestions. Please take a look.\r\n> Some Java CI tests, however, timed out. I read in the community mailing list that CI has some issues. Is this related?\r\n\r\nThanks a lot @mayursrivastava I will take a look first thing tomorrow.\r\n\r\nThe build does indeed appear to be unstable, we can rebase this once its back again. Lets see what #2475 and #2474 turn up","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819363467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819603730","html_url":"https://github.com/apache/iceberg/pull/2478#issuecomment-819603730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2478","id":819603730,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTYwMzczMA==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T15:22:17Z","updated_at":"2021-04-14T15:22:17Z","author_association":"COLLABORATOR","body":"Thanks @rymurr ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819603730/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819628854","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819628854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819628854,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTYyODg1NA==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T15:56:54Z","updated_at":"2021-04-14T15:56:54Z","author_association":"MEMBER","body":"Some update on this one:\r\n* #2448 didn't help :(\r\n* Adding `mustRunAfter()` to `build.gradle` for the two suspect `test` tasks mentioned in the description didn't help :(\r\n* Adding `mustRunAfter()` to `build.gradle` for every `test` task (so that at most one `test` task runs at a time) didn't help :(\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819628854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819638925","html_url":"https://github.com/apache/iceberg/issues/2446#issuecomment-819638925","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2446","id":819638925,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTYzODkyNQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T16:10:50Z","updated_at":"2021-04-14T16:10:50Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi could you request the new repo `iceberg-site`? Only PMC can request new repositories.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819638925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819639170","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819639170","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819639170,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTYzOTE3MA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T16:11:11Z","updated_at":"2021-04-14T16:11:11Z","author_association":"CONTRIBUTOR","body":"Do you have links to runs with #2448?\r\n\r\nI would love to see the `test logs` for the tests, and #2448 aims to timeout the test themselves before the github timeout comes. So github can collect the logs for the run.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819639170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819640200","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819640200","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819640200,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY0MDIwMA==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T16:12:47Z","updated_at":"2021-04-14T16:16:21Z","author_association":"MEMBER","body":"> Do you have links to runs with #2448?\r\n\r\nIt's on the [commit](https://github.com/apache/iceberg/commit/c3640afadc5af759bee531368c8be16e2a2b7f5d) in master, don't have anything else. It's maybe not just these tests but something else (see [here](https://github.com/apache/iceberg/runs/2341885191) and in [here as well](https://github.com/apache/iceberg/pull/2450/checks?check_run_id=2344793278), when that run's finished).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819640200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819642534","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819642534","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819642534,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY0MjUzNA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T16:16:06Z","updated_at":"2021-04-14T16:16:06Z","author_association":"CONTRIBUTOR","body":"So we have to add timeout to the `TestHiveIcebergStorageHandlerWithMultipleCatalogs` as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819642534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819642997","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819642997","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819642997,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY0Mjk5Nw==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T16:16:51Z","updated_at":"2021-04-14T16:18:53Z","author_association":"MEMBER","body":"The last run I've seen it got stuck in `:iceberg-hive3:test` (see [here](https://github.com/apache/iceberg/pull/2450/checks?check_run_id=2343384901) - that was the run with at most one `test` task at a time).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819642997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819646004","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819646004","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819646004,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY0NjAwNA==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T16:21:16Z","updated_at":"2021-04-14T16:24:12Z","author_association":"MEMBER","body":"I'm currently trying to reduce that maxHeapSize setting [here](https://github.com/apache/iceberg/blob/master/build.gradle#L950-L951). Maybe it's hitting the instance limits (2 vCPUs, 7GB vRAM, 14G disk) - I'm just poking around.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819646004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819647800","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819647800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819647800,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY0NzgwMA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T16:24:06Z","updated_at":"2021-04-14T16:24:06Z","author_association":"CONTRIBUTOR","body":"Maybe we should add timeout for all of the `TestHiveIcebergStorageHandler*` tests. The failure on the commit was about the failing `TestHiveIcebergStorageHandlerWithMultipleCatalogs`. For the others I do not see which test is stuck.\r\n\r\nAlso I have noticed that the annotation based timeout does not override the rule base timeout. So this will still mean that the timeout will happen after 40 sec.\r\n```\r\n  @Rule\r\n  public Timeout timeout = new Timeout(40000, TimeUnit.MILLISECONDS);\r\n[..]\r\n  @Test(timeout = 100000)\r\n  public void testSelectDistinctFromTable() throws IOException {\r\n[..]\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819647800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819674109","html_url":"https://github.com/apache/iceberg/pull/2451#issuecomment-819674109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2451","id":819674109,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY3NDEwOQ==","user":{"login":"lhotari","id":66864,"node_id":"MDQ6VXNlcjY2ODY0","avatar_url":"https://avatars.githubusercontent.com/u/66864?v=4","gravatar_id":"","url":"https://api.github.com/users/lhotari","html_url":"https://github.com/lhotari","followers_url":"https://api.github.com/users/lhotari/followers","following_url":"https://api.github.com/users/lhotari/following{/other_user}","gists_url":"https://api.github.com/users/lhotari/gists{/gist_id}","starred_url":"https://api.github.com/users/lhotari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lhotari/subscriptions","organizations_url":"https://api.github.com/users/lhotari/orgs","repos_url":"https://api.github.com/users/lhotari/repos","events_url":"https://api.github.com/users/lhotari/events{/privacy}","received_events_url":"https://api.github.com/users/lhotari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T17:02:42Z","updated_at":"2021-04-14T17:02:42Z","author_association":"MEMBER","body":"Root cause: reverse name lookups for the current host name is broken in GitHub Actions Runner VMs: https://github.com/actions/virtual-environments/issues/3185 \r\nbuilds@apache.org mailing list thread:\r\nhttps://lists.apache.org/thread.html/r40b2da182952f21a3b94696e6f1bf8594e7ff16e1c5979fe8b2d51c8%40%3Cbuilds.apache.org%3E","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819674109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819678785","html_url":"https://github.com/apache/iceberg/pull/2451#issuecomment-819678785","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2451","id":819678785,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY3ODc4NQ==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T17:09:17Z","updated_at":"2021-04-14T17:09:17Z","author_association":"MEMBER","body":"Interesting, maybe that's also causing the new-ish CI failures (#2475)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819678785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819682315","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819682315","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819682315,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTY4MjMxNQ==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T17:14:36Z","updated_at":"2021-04-14T17:14:36Z","author_association":"MEMBER","body":"[Another run](https://github.com/apache/iceberg/pull/2450/checks?check_run_id=2345407451) with the GitHub-Ubuntu-runner workaround mentioned in #2451 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819682315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819732049","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819732049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819732049,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTczMjA0OQ==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:17:30Z","updated_at":"2021-04-14T18:17:30Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi, @RussellSpitzer , @ggershinsky, can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819732049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819735306","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819735306","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819735306,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTczNTMwNg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:22:44Z","updated_at":"2021-04-14T18:22:44Z","author_association":"MEMBER","body":"So I have no problem here as long as we want this to be the version of jackson from Spark. If we want to keep shading I also think it's fine to shade Avro's Jackson separately then remove it's exclusion. \r\n\r\nIE Before\r\n\r\nParquet has shaded Jackson\r\nAvro changed references of jackson to point to the Parquet shaded lib\r\nWe exclude Jackson from avro runtime so it won't be included in the in fat jar and we instead rely on the jars appearing from the Parquet shaded libs\r\n\r\n\r\nNow\r\n\r\nParquet has no shaded jackson\r\nWe can relocate Avro's jackson references \r\nDon't exclude jackson from Avro runtime and shade it\r\n\r\n\r\nThat said i'm still not sure how important shading jackson is in this context so the solution of just pulling the relocation may be fine as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819735306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819739173","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819739173","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819739173,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTczOTE3Mw==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:28:29Z","updated_at":"2021-04-14T18:28:29Z","author_association":"MEMBER","body":"Aha! So it seems that [this commit](https://github.com/apache/iceberg/pull/2450/commits/2cda7cdc7c4579963becbe6b7c2bb74e5055fc2d) fixed it. I'll setup a PR with just that change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819739173/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819744509","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819744509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819744509,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc0NDUwOQ==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:37:07Z","updated_at":"2021-04-14T18:38:44Z","author_association":"CONTRIBUTOR","body":"Hi @RussellSpitzer, not sure I fully understand your point. Parquet still have a Jackson lib and shaded it, but it is not `org.codehaus.jackson`, Parquet uses `com.fasterxml.jackson` instead now. Per this PR https://github.com/apache/parquet-mr/pull/616, Parquet community was trying to get rid of codehaus jackson dependency, and use fasterxml jackson instead.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819744509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819745802","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819745802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819745802,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc0NTgwMg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:39:11Z","updated_at":"2021-04-14T18:39:11Z","author_association":"MEMBER","body":"I'm saying we may still want to shade the org.codehaus.jackson version that Avro needs, rather than relying on Spark (I believe that's where we are getting it from?). But instead of shading it to point at the Parquet reference, we shade and include the version from Avro dependencies.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819745802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819748749","html_url":"https://github.com/apache/iceberg/pull/2450#issuecomment-819748749","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2450","id":819748749,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc0ODc0OQ==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:43:56Z","updated_at":"2021-04-14T18:43:56Z","author_association":"MEMBER","body":"(Removed all the \"try to fix CI commits\" except #2480)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819748749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819758285","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819758285","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819758285,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc1ODI4NQ==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:59:31Z","updated_at":"2021-04-14T19:02:18Z","author_association":"CONTRIBUTOR","body":"Neither avro and parquet-avro have transitive dependency on org.codehaus.jackson. These versions are used by Iceberg. Do we still need to shade it?\r\n```\r\n[INFO] \\- org.apache.avro:avro:jar:1.9.2:compile\r\n[INFO]    +- com.fasterxml.jackson.core:jackson-core:jar:2.10.2:compile\r\n[INFO]    +- com.fasterxml.jackson.core:jackson-databind:jar:2.10.2:compile\r\n[INFO]    |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.10.2:compile\r\n[INFO]    +- org.apache.commons:commons-compress:jar:1.19:compile\r\n[INFO]    \\- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n```\r\n```\r\n[INFO] \\- org.apache.parquet:parquet-avro:jar:1.11.1:compile\r\n[INFO]    +- org.apache.parquet:parquet-column:jar:1.11.1:compile\r\n[INFO]    |  +- org.apache.parquet:parquet-common:jar:1.11.1:compile\r\n[INFO]    |  |  \\- org.apache.yetus:audience-annotations:jar:0.11.0:compile\r\n[INFO]    |  \\- org.apache.parquet:parquet-encoding:jar:1.11.1:compile\r\n[INFO]    +- org.apache.parquet:parquet-hadoop:jar:1.11.1:compile\r\n[INFO]    |  +- org.apache.parquet:parquet-jackson:jar:1.11.1:compile\r\n[INFO]    |  +- org.xerial.snappy:snappy-java:jar:1.1.7.3:compile\r\n[INFO]    |  \\- commons-pool:commons-pool:jar:1.6:compile\r\n[INFO]    +- org.apache.parquet:parquet-format-structures:jar:1.11.1:compile\r\n[INFO]    |  +- org.slf4j:slf4j-api:jar:1.7.22:compile\r\n[INFO]    |  \\- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n[INFO]    \\- org.apache.avro:avro:jar:1.9.2:compile\r\n[INFO]       +- com.fasterxml.jackson.core:jackson-core:jar:2.10.2:compile\r\n[INFO]       +- com.fasterxml.jackson.core:jackson-databind:jar:2.10.2:compile\r\n[INFO]       |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.10.2:compile\r\n[INFO]       \\- org.apache.commons:commons-compress:jar:1.19:compile\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819758285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819759366","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819759366","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819759366,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc1OTM2Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T19:01:28Z","updated_at":"2021-04-14T19:04:19Z","author_association":"MEMBER","body":"I have no problem if no one is using it, but then i'm confused whose jackson were we shading if this broke things?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819759366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819770976","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819770976","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819770976,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc3MDk3Ng==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T19:20:55Z","updated_at":"2021-04-14T19:20:55Z","author_association":"CONTRIBUTOR","body":"Good question, @RussellSpitzer. The Parquet 1.12 introduced PME, which uses org.codehaus.jackson back, but org.codehaus.jackson is in \"provided\" scope with hadoop-common. I think this is something need to be fixed in Parquet to get  rid of org.codehaus.jackson again. \r\n\r\nHowever, only package `org/apache/parquet/crypto/keytools/` use org.codehaus.jackson in the whole Parquet project. As @ggershinsky mentioned, Iceberg won't use that part of code as we are doing the Iceberg/PME integration. That's a relieve.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819770976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819779537","html_url":"https://github.com/apache/iceberg/issues/2475#issuecomment-819779537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2475","id":819779537,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc3OTUzNw==","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T19:34:02Z","updated_at":"2021-04-14T19:34:02Z","author_association":"MEMBER","body":"Thanks to @lhotari for pointing out the GH-runner issue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819779537/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819785957","html_url":"https://github.com/apache/iceberg/pull/2480#issuecomment-819785957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2480","id":819785957,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc4NTk1Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T19:45:35Z","updated_at":"2021-04-14T19:45:35Z","author_association":"MEMBER","body":"I think this is fine to do, especially if other projects are doing similar fixes to get around these issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819785957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819789315","html_url":"https://github.com/apache/iceberg/pull/2480#issuecomment-819789315","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2480","id":819789315,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc4OTMxNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T19:51:27Z","updated_at":"2021-04-14T19:51:27Z","author_association":"MEMBER","body":"@snazy Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819789315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819791777","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819791777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819791777,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc5MTc3Nw==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T19:55:40Z","updated_at":"2021-04-14T19:55:40Z","author_association":"CONTRIBUTOR","body":"Just change the description from \"will fail\" to \"may fail\". :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819791777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819793101","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819793101","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819793101,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc5MzEwMQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T19:58:02Z","updated_at":"2021-04-14T19:58:02Z","author_association":"MEMBER","body":"Ha! I just want to make sure we know what these changes will do to the build as is. It sounds like you've investigated it pretty throughly now and the only issue is this one usage of codehouse in Parquet encryption? So the relocation code would have previously done nothing but now since we use encryption it can relocate a necessary class to a path that doesn't actually have codehouse in it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819793101/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819936421","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819936421","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819936421,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTkzNjQyMQ==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T00:34:44Z","updated_at":"2021-04-15T00:34:44Z","author_association":"CONTRIBUTOR","body":"The following Java CI test failure is not related. It works in my local machine.\r\n```\r\norg.apache.iceberg.mr.hive.TestHiveIcebergStorageHandlerWithMultipleCatalogs > testJoinTablesFromDifferentCatalogs[fileFormat1=PARQUET, fileFormat2=ORC, engine=tez, tableType1=HIVE_CATALOG, catalogName1=table1_catalog, tableType2=HADOOP_TABLE, catalogName2=table2_catalog] FAILED\r\n    java.lang.IllegalArgumentException: Failed to execute Hive query 'SELECT c2.customer_id, c2.first_name, c2.last_name FROM default.customers2 c2 JOIN default.customers1 c1 ON c2.customer_id = c1.customer_id ORDER BY c2.customer_id': Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask\r\n        at org.apache.iceberg.mr.hive.TestHiveShell.executeStatement(TestHiveShell.java:151)\r\n        at org.apache.iceberg.mr.hive.TestHiveIcebergStorageHandlerWithMultipleCatalogs.testJoinTablesFromDifferentCatalogs(TestHiveIcebergStorageHandlerWithMultipleCatalogs.java:123)\r\n\r\n        Caused by:\r\n        org.apache.hive.service.cli.HiveSQLException: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask\r\n            at org.apache.hive.service.cli.operation.Operation.toSQLException(Operation.java:335)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819936421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819936659","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819936659","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819936659,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTkzNjY1OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T00:35:34Z","updated_at":"2021-04-15T00:35:34Z","author_association":"MEMBER","body":"@flyrain Rebase on master, @snazy fixed this today","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819936659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819937843","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819937843","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819937843,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTkzNzg0Mw==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T00:39:22Z","updated_at":"2021-04-15T00:39:22Z","author_association":"CONTRIBUTOR","body":"> @flyrain Rebase on master, @snazy fixed this today\r\n\r\nHow do I rebase here? Do I need another PR? Or just trigger a new CI?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819937843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819938535","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819938535","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819938535,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTkzODUzNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T00:41:24Z","updated_at":"2021-04-15T00:42:53Z","author_association":"MEMBER","body":"```bash\r\ngit fetch apache \r\ngit rebase apache/master\r\ngit push origin removeCodehausJackson -f\r\n```\r\n\r\nThat's in order\r\n1. Update your remote for apache\r\n2. rebase the current branch your on top of the latest commit on master\r\n3. force push to flyrain:removeCodehauseJackson the branch now rebased on the latest master, this has to be a force because it no longer would cleanly apply on the original branch","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819938535/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819940352","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-819940352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":819940352,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTk0MDM1Mg==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T00:47:03Z","updated_at":"2021-04-15T00:47:03Z","author_association":"CONTRIBUTOR","body":"Thanks @RussellSpitzer! Rebased. The new CI is running.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/819940352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820511170","html_url":"https://github.com/apache/iceberg/issues/2481#issuecomment-820511170","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2481","id":820511170,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDUxMTE3MA==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T15:16:46Z","updated_at":"2021-04-15T15:16:46Z","author_association":"COLLABORATOR","body":"cc @aokolnychyi  for any thoughts, potential issues","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820511170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820538631","html_url":"https://github.com/apache/iceberg/issues/2481#issuecomment-820538631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2481","id":820538631,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDUzODYzMQ==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T15:52:31Z","updated_at":"2021-04-15T15:52:46Z","author_association":"COLLABORATOR","body":"Actually taking a look through the code, this use case can be probably be solved by SnapshotUpdate.stageOnly() flag, taking a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820538631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820901730","html_url":"https://github.com/apache/iceberg/pull/2272#issuecomment-820901730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2272","id":820901730,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDkwMTczMA==","user":{"login":"SreeramGarlapati","id":11813428,"node_id":"MDQ6VXNlcjExODEzNDI4","avatar_url":"https://avatars.githubusercontent.com/u/11813428?v=4","gravatar_id":"","url":"https://api.github.com/users/SreeramGarlapati","html_url":"https://github.com/SreeramGarlapati","followers_url":"https://api.github.com/users/SreeramGarlapati/followers","following_url":"https://api.github.com/users/SreeramGarlapati/following{/other_user}","gists_url":"https://api.github.com/users/SreeramGarlapati/gists{/gist_id}","starred_url":"https://api.github.com/users/SreeramGarlapati/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SreeramGarlapati/subscriptions","organizations_url":"https://api.github.com/users/SreeramGarlapati/orgs","repos_url":"https://api.github.com/users/SreeramGarlapati/repos","events_url":"https://api.github.com/users/SreeramGarlapati/events{/privacy}","received_events_url":"https://api.github.com/users/SreeramGarlapati/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T04:43:36Z","updated_at":"2021-04-16T04:43:36Z","author_association":"COLLABORATOR","body":"Hi @XuQianJin-Stars - is there anything pending in this PR. Pl. let me know if you need any help to push this. Happy to collaborate & contribute.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820901730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820941786","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-820941786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":820941786,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDk0MTc4Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T06:24:48Z","updated_at":"2021-04-16T06:24:48Z","author_association":"CONTRIBUTOR","body":"Did I understand correctly that org.codehaus.jackson is now \"provided\" in Parquet and our shading breaks modular encryption in Parquet 1.12.x? Then this change seems reasonable to me but I'd want @rdblue to take a look as well. Ryan did the shading in the first place so it would be great to have his eyes on this change to avoid any surprises later.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820941786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820944593","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-820944593","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":820944593,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDk0NDU5Mw==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T06:30:34Z","updated_at":"2021-04-16T06:30:34Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, thanks for the review. You got that right.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820944593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820956752","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-820956752","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":820956752,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDk1Njc1Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T06:52:46Z","updated_at":"2021-04-16T06:52:46Z","author_association":"CONTRIBUTOR","body":"@rdblue @yyanyy @RussellSpitzer @flyrain @karuppayya, could you do one more review round?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/820956752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821007908","html_url":"https://github.com/apache/iceberg/issues/2122#issuecomment-821007908","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2122","id":821007908,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTAwNzkwOA==","user":{"login":"davseitsev","id":1793410,"node_id":"MDQ6VXNlcjE3OTM0MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1793410?v=4","gravatar_id":"","url":"https://api.github.com/users/davseitsev","html_url":"https://github.com/davseitsev","followers_url":"https://api.github.com/users/davseitsev/followers","following_url":"https://api.github.com/users/davseitsev/following{/other_user}","gists_url":"https://api.github.com/users/davseitsev/gists{/gist_id}","starred_url":"https://api.github.com/users/davseitsev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davseitsev/subscriptions","organizations_url":"https://api.github.com/users/davseitsev/orgs","repos_url":"https://api.github.com/users/davseitsev/repos","events_url":"https://api.github.com/users/davseitsev/events{/privacy}","received_events_url":"https://api.github.com/users/davseitsev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T08:20:53Z","updated_at":"2021-04-16T08:20:53Z","author_association":"NONE","body":"Related issues: https://github.com/apache/iceberg/issues/2388 and https://github.com/apache/iceberg/issues/2244","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821007908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821290918","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-821290918","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":821290918,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTI5MDkxOA==","user":{"login":"mayursrivastava","id":8659624,"node_id":"MDQ6VXNlcjg2NTk2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8659624?v=4","gravatar_id":"","url":"https://api.github.com/users/mayursrivastava","html_url":"https://github.com/mayursrivastava","followers_url":"https://api.github.com/users/mayursrivastava/followers","following_url":"https://api.github.com/users/mayursrivastava/following{/other_user}","gists_url":"https://api.github.com/users/mayursrivastava/gists{/gist_id}","starred_url":"https://api.github.com/users/mayursrivastava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayursrivastava/subscriptions","organizations_url":"https://api.github.com/users/mayursrivastava/orgs","repos_url":"https://api.github.com/users/mayursrivastava/repos","events_url":"https://api.github.com/users/mayursrivastava/events{/privacy}","received_events_url":"https://api.github.com/users/mayursrivastava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T16:23:02Z","updated_at":"2021-04-16T16:23:02Z","author_association":"CONTRIBUTOR","body":"Hi @rymurr, I've updated the pr as per comments. Please take a look when you get a chance. Thanks, Mayur ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821290918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821308714","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-821308714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":821308714,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTMwODcxNA==","user":{"login":"mayursrivastava","id":8659624,"node_id":"MDQ6VXNlcjg2NTk2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8659624?v=4","gravatar_id":"","url":"https://api.github.com/users/mayursrivastava","html_url":"https://github.com/mayursrivastava","followers_url":"https://api.github.com/users/mayursrivastava/followers","following_url":"https://api.github.com/users/mayursrivastava/following{/other_user}","gists_url":"https://api.github.com/users/mayursrivastava/gists{/gist_id}","starred_url":"https://api.github.com/users/mayursrivastava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayursrivastava/subscriptions","organizations_url":"https://api.github.com/users/mayursrivastava/orgs","repos_url":"https://api.github.com/users/mayursrivastava/repos","events_url":"https://api.github.com/users/mayursrivastava/events{/privacy}","received_events_url":"https://api.github.com/users/mayursrivastava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T16:54:17Z","updated_at":"2021-04-16T16:54:17Z","author_association":"CONTRIBUTOR","body":"Support for decimal types should not be difficult. If complex types are supported in the parquet to arrow reader, then it should require adding classes to represent child (similar to Spark) and adding tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821308714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821473610","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-821473610","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":821473610,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTQ3MzYxMA==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T18:53:58Z","updated_at":"2021-04-16T18:54:42Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks @aokolnychyi. Abstraction is always challenging. Seeing with fresh eyes, are schema, partitionSpec, and partition Id part of table as well? Not sure if it is reasonable to combine them together though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821473610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821518248","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-821518248","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":821518248,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTUxODI0OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T19:35:23Z","updated_at":"2021-04-16T19:35:23Z","author_association":"CONTRIBUTOR","body":"> schema, partitionSpec, and partition Id part of table as well\r\n\r\nWe used to derive this information from the table object and pass individual things as the table wasn't serializable. Each time we needed one more entity, we had to modify a lot of places. Hopefully, this won't be needed after this change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821518248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821526734","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-821526734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":821526734,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTUyNjczNA==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T19:53:42Z","updated_at":"2021-04-16T19:53:42Z","author_association":"CONTRIBUTOR","body":"> > schema, partitionSpec, and partition Id part of table as well\r\n> \r\n> We used to derive this information from the table object and pass individual things as the table wasn't serializable. Each time we needed one more entity, we had to modify a lot of places. Hopefully, this won't be needed after this change.\r\n\r\nI meant this place, but it makes sense since rewrite may need a different partitionSec, sorry for the confusing.\r\n```\r\npublic OutputFileFactory(Table table, PartitionSpec spec, FileFormat format, int partitionId, long taskId) {\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821526734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821528746","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-821528746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":821528746,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTUyODc0Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T19:57:42Z","updated_at":"2021-04-16T19:57:42Z","author_association":"CONTRIBUTOR","body":"Oh, that one will be replaced with a builder in a follow-up PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821528746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821566943","html_url":"https://github.com/apache/iceberg/pull/2472#issuecomment-821566943","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2472","id":821566943,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTU2Njk0Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T21:13:08Z","updated_at":"2021-04-16T21:13:08Z","author_association":"CONTRIBUTOR","body":"@rdblue, we would need your eyes on this one too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821566943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821759982","html_url":"https://github.com/apache/iceberg/pull/1559#issuecomment-821759982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1559","id":821759982,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTc1OTk4Mg==","user":{"login":"sylvon","id":1510044,"node_id":"MDQ6VXNlcjE1MTAwNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1510044?v=4","gravatar_id":"","url":"https://api.github.com/users/sylvon","html_url":"https://github.com/sylvon","followers_url":"https://api.github.com/users/sylvon/followers","following_url":"https://api.github.com/users/sylvon/following{/other_user}","gists_url":"https://api.github.com/users/sylvon/gists{/gist_id}","starred_url":"https://api.github.com/users/sylvon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sylvon/subscriptions","organizations_url":"https://api.github.com/users/sylvon/orgs","repos_url":"https://api.github.com/users/sylvon/repos","events_url":"https://api.github.com/users/sylvon/events{/privacy}","received_events_url":"https://api.github.com/users/sylvon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-17T03:45:06Z","updated_at":"2021-04-17T03:45:06Z","author_association":"NONE","body":"@lcspinter @rdblue we observed a few times in our job that when the program exits say due to OOM right after the delete but before the rename, we will no longer be able to find the table. What we have to do is manually find the latest version and craft a version-hint file by hand. Since we do this delete and rename operation, can we also generate a version-hint by file listing when the file is not found?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821759982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821849274","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-821849274","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":821849274,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTg0OTI3NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-17T16:26:15Z","updated_at":"2021-04-17T16:26:54Z","author_association":"MEMBER","body":"@yyanyy I think i understand this one and I think we just need to force contains NaN to true (i guess i'm not sure what the right value when missing is) if it is missing in the Manifest file read. This is I believe a backwards compatibility issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821849274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821907154","html_url":"https://github.com/apache/iceberg/pull/2465#issuecomment-821907154","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2465","id":821907154,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTkwNzE1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T00:19:43Z","updated_at":"2021-04-18T00:19:43Z","author_association":"CONTRIBUTOR","body":"Thanks, @jackye1995! I think overall the direction is looking right with `identifierFieldIds`. I just noted a few things to fix:\r\n* Need to add `setIdentifierFields`\r\n* Needs some implementation fixes (track by ID, etc.)\r\n* Need to refactor tests into separate cases","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821907154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821908350","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-821908350","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":821908350,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTkwODM1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T00:32:52Z","updated_at":"2021-04-18T00:32:52Z","author_association":"CONTRIBUTOR","body":"> Integration with Parquet 1.12 may fail due to this.\r\n\r\nPlease add more context around claims like this in PR descriptions. I don't think that this is enough information to take action.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821908350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821909340","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-821909340","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":821909340,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTkwOTM0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T00:44:13Z","updated_at":"2021-04-18T00:44:13Z","author_association":"CONTRIBUTOR","body":"Okay, if I'm reading this thread correctly, the relevant information is:\r\n* Parquet moved to the newer Jackson package names, in `com.fasterxml.jackson`\r\n* Parquet encryption has an undeclared transitive dependency on classes in the old `org.codehaus.jackson` modues\r\n* Our re-shading of `org.codehaus.jackson` breaks Parquet encryption because Parquet no longer produces `parquet.org.codehaus.jackson` and we assume that it does\r\n\r\nIs Avro also broken? If not, why not? We still need to avoid leaking `org.codehaus.jackson` from Avro. It looks like we now need to include a copy and relocate it. That should fix both Avro and the Parquet classes that depend on the older Jackson.\r\n\r\n@flyrain, how long has this been a problem? Do we need to fix master or are the 0.11.x releases also affected?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821909340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821910059","html_url":"https://github.com/apache/iceberg/pull/2472#issuecomment-821910059","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2472","id":821910059,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTkxMDA1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T00:51:55Z","updated_at":"2021-04-18T00:51:55Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, looks good overall. I made a couple of minor comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821910059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821920661","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-821920661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":821920661,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTkyMDY2MQ==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T02:41:01Z","updated_at":"2021-04-18T02:41:01Z","author_association":"CONTRIBUTOR","body":"> @flyrain, how long has this been a problem? Do we need to fix master or are the 0.11.x releases also affected?\r\n\r\nHi @rdblue , you got that right. It is problem when we were integrating Parquet 1.12 with Iceberg internally, specifically, Parquet Modular encryption(PME) uses the runtime libs of `org.codehaus.jackson`. With the current shading we have in Iceberg, it reported class not found.\r\n\r\nBoth the master branch and 0.11.x releases are OK since they use parquet 1.11 now. But the community is trying to use Parquet 1.12 to enable PME. So I suggest to fix it in master, and leave 0.11.x alone. We probably won't enable PME in 0.11.x.\r\n\r\nBesides, even without Parquet 1.12 integration, this shading is unnecessary since it shades a non-exist package `org.apache.parquet.shaded.org.codehaus.jackson`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821920661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821921177","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-821921177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":821921177,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTkyMTE3Nw==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T02:47:35Z","updated_at":"2021-04-18T02:47:35Z","author_association":"CONTRIBUTOR","body":"BTW, we didn't notice any Avro issue. As I mentioned, Avro doesn't depends on `org.codehaus.jackson` any more. I don't think Avro leaks `org.codehaus.jackson`. It may happen before, but the version used in Iceberg master doesn't.\r\n```\r\n[INFO] \\- org.apache.avro:avro:jar:1.9.2:compile\r\n[INFO]    +- com.fasterxml.jackson.core:jackson-core:jar:2.10.2:compile\r\n[INFO]    +- com.fasterxml.jackson.core:jackson-databind:jar:2.10.2:compile\r\n[INFO]    |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.10.2:compile\r\n[INFO]    +- org.apache.commons:commons-compress:jar:1.19:compile\r\n[INFO]    \\- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821921177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821940635","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-821940635","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":821940635,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTk0MDYzNQ==","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T06:10:13Z","updated_at":"2021-04-18T06:10:13Z","author_association":"CONTRIBUTOR","body":"> the community is trying to use Parquet 1.12 to enable PME\r\n\r\n> Our re-shading of org.codehaus.jackson breaks Parquet encryption\r\n\r\nSome clarification. According to the current design draft in the community, Iceberg will use a part of PME in Parquet-1.12 - the part that implements the spec, and doesn't need the codehaus jackson (or any other json lib). The other part, that implements a Parquet version of key management, will not be used, because Iceberg will have project-wide modules with encryption API and key management that work the same for Parquet, ORC, Avro data files and for all metadata files. Only these modules will need a json lib; Iceberg will be free from PME key manager dependency on codehaus jackson.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821940635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821958434","html_url":"https://github.com/apache/iceberg/pull/2272#issuecomment-821958434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2272","id":821958434,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTk1ODQzNA==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T09:02:34Z","updated_at":"2021-04-18T09:02:34Z","author_association":"CONTRIBUTOR","body":"> Hi @XuQianJin-Stars - is there anything pending in this PR. Pl. let me know if you need any help to push this. Happy to collaborate & contribute.\r\n\r\nYes, thank you very much, this function is already available in our internal work, and I want to improve this function in the community.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/821958434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822143584","html_url":"https://github.com/apache/iceberg/pull/2430#issuecomment-822143584","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2430","id":822143584,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjE0MzU4NA==","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T03:38:19Z","updated_at":"2021-04-19T03:38:19Z","author_association":"CONTRIBUTOR","body":"@rdblue  Can you give some help for how to trigger a retest for this pr?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822143584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822237843","html_url":"https://github.com/apache/iceberg/pull/2430#issuecomment-822237843","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2430","id":822237843,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjIzNzg0Mw==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T07:24:51Z","updated_at":"2021-04-19T07:24:51Z","author_association":"MEMBER","body":"> @rdblue Can you give some help for how to trigger a retest for this pr?\r\n\r\nYou can push empty commit to trigger CI","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822237843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822239718","html_url":"https://github.com/apache/iceberg/pull/2430#issuecomment-822239718","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2430","id":822239718,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjIzOTcxOA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T07:27:52Z","updated_at":"2021-04-19T07:27:52Z","author_association":"CONTRIBUTOR","body":"@leoluan2009 Rebasing against latest master would be best :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822239718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822310871","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-822310871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":822310871,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjMxMDg3MQ==","user":{"login":"lcspinter","id":47777102,"node_id":"MDQ6VXNlcjQ3Nzc3MTAy","avatar_url":"https://avatars.githubusercontent.com/u/47777102?v=4","gravatar_id":"","url":"https://api.github.com/users/lcspinter","html_url":"https://github.com/lcspinter","followers_url":"https://api.github.com/users/lcspinter/followers","following_url":"https://api.github.com/users/lcspinter/following{/other_user}","gists_url":"https://api.github.com/users/lcspinter/gists{/gist_id}","starred_url":"https://api.github.com/users/lcspinter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcspinter/subscriptions","organizations_url":"https://api.github.com/users/lcspinter/orgs","repos_url":"https://api.github.com/users/lcspinter/repos","events_url":"https://api.github.com/users/lcspinter/events{/privacy}","received_events_url":"https://api.github.com/users/lcspinter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T09:14:29Z","updated_at":"2021-04-19T09:14:29Z","author_association":"CONTRIBUTOR","body":"@marton-bod @pvary Could you please review this PR? Thank you","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822310871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822369509","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-822369509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":822369509,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjM2OTUwOQ==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T10:42:21Z","updated_at":"2021-04-19T10:42:21Z","author_association":"COLLABORATOR","body":"@aokolnychyi @RussellSpitzer can you please take a look as well, since it touches the Spark/Data modules?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822369509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822396388","html_url":"https://github.com/apache/iceberg/pull/2430#issuecomment-822396388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2430","id":822396388,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjM5NjM4OA==","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T11:31:41Z","updated_at":"2021-04-19T11:31:41Z","author_association":"CONTRIBUTOR","body":"@pan3793 @Fokko  thanks for your suggestion","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822396388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822615385","html_url":"https://github.com/apache/iceberg/pull/2479#issuecomment-822615385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2479","id":822615385,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjYxNTM4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T16:43:28Z","updated_at":"2021-04-19T16:43:28Z","author_association":"CONTRIBUTOR","body":"Okay, I think that this looks good then. Sounds like both Avro and Parquet now use com.fasterxml.jackson, which we also relocate so now we only have one copy of Jackson. That's an improvement!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822615385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822686579","html_url":"https://github.com/apache/iceberg/pull/2472#issuecomment-822686579","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2472","id":822686579,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjY4NjU3OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T18:35:43Z","updated_at":"2021-04-19T18:35:58Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @RussellSpitzer @rdblue. I'll wait with merging this until #2362 is in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822686579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822741273","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822741273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822741273,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjc0MTI3Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T19:52:25Z","updated_at":"2021-04-19T19:52:25Z","author_association":"CONTRIBUTOR","body":"It looks like @RussellSpitzer's analysis is correct. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822741273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822764095","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-822764095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":822764095,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjc2NDA5NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T20:29:24Z","updated_at":"2021-04-19T20:29:24Z","author_association":"CONTRIBUTOR","body":"Let me take a look in a few hours. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822764095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822779814","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822779814","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822779814,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjc3OTgxNA==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T20:57:12Z","updated_at":"2021-04-19T20:58:04Z","author_association":"CONTRIBUTOR","body":"Sorry for the late response, I think you are right. I think we should default it to true if this value is missing, meanwhile I think we may need to modify the other parts of this class to account for the possibility that min/max could be NaN and thus comparison with the input value produces incorrect outcome. Thanks for looking into it and raising the PR to fix it! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822779814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822781551","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822781551","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822781551,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjc4MTU1MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T21:00:20Z","updated_at":"2021-04-19T21:00:20Z","author_association":"MEMBER","body":"@yyanyy NP I put a PR up ^ so you could just check that if you like :) Let me know if we have to handle NAN in min/max but I think that's ok since comparisons with nan are valid","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822781551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822785139","html_url":"https://github.com/apache/iceberg/pull/2272#issuecomment-822785139","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2272","id":822785139,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjc4NTEzOQ==","user":{"login":"SreeramGarlapati","id":11813428,"node_id":"MDQ6VXNlcjExODEzNDI4","avatar_url":"https://avatars.githubusercontent.com/u/11813428?v=4","gravatar_id":"","url":"https://api.github.com/users/SreeramGarlapati","html_url":"https://github.com/SreeramGarlapati","followers_url":"https://api.github.com/users/SreeramGarlapati/followers","following_url":"https://api.github.com/users/SreeramGarlapati/following{/other_user}","gists_url":"https://api.github.com/users/SreeramGarlapati/gists{/gist_id}","starred_url":"https://api.github.com/users/SreeramGarlapati/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SreeramGarlapati/subscriptions","organizations_url":"https://api.github.com/users/SreeramGarlapati/orgs","repos_url":"https://api.github.com/users/SreeramGarlapati/repos","events_url":"https://api.github.com/users/SreeramGarlapati/events{/privacy}","received_events_url":"https://api.github.com/users/SreeramGarlapati/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T21:06:43Z","updated_at":"2021-04-26T18:01:57Z","author_association":"COLLABORATOR","body":"@XuQianJin-Stars - this is great. Is there anything pending in this PR? Or are you waiting on any inputs? \r\nThanks a lot for your contribution.\r\n\r\n@rdblue @RussellSpitzer @aokolnychyi - can you folks pl. add your review/inputs.\r\nWe are in need of this change - truly appreciate your help.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822785139/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822798267","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-822798267","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":822798267,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjc5ODI2Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T21:29:57Z","updated_at":"2021-04-19T21:29:57Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer @flyrain, could you take a look too?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822798267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822812288","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822812288","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822812288,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgxMjI4OA==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T21:55:23Z","updated_at":"2021-04-19T21:55:23Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer Thank you for the quick fix! Regarding handling NaN in min/max, I think you are right that they seem fine today if they are created by iceberg library: \r\n- `compare(NaN, xxx) = 1`; `compare(xxx, NaN) = -1`\r\n- when we [create them before handling NaN](https://github.com/apache/iceberg/blob/469f6c3f640293df6c629a693450736350aa6fab/core/src/main/java/org/apache/iceberg/PartitionSummary.java#L88-L92), if input is NaN, min will never be NaN but max will always be NaN\r\n- In [`ManifestFileUtil`](https://github.com/apache/iceberg/blob/469f6c3f640293df6c629a693450736350aa6fab/core/src/main/java/org/apache/iceberg/util/ManifestFileUtil.java#L72-L76) now, input as NaN should be intercepted before reaching these comparison evaluation, and we can ignore comparison with lower bound since it won't be NaN. When comparison with upper bound, `comparator.compare(typedValue, NaN) > 0`  will always be false and thus the method `canContain` will reach true. \r\n\r\nHowever I guess this is when it's guaranteed that the summary is generated by iceberg library. Since direct comparison with NaN will also be false (e.g. `3D > Double.NaN` -> false, `Double.NaN > 3D` -> false), I think if there are custom implementations for this summary info that uses this approach, the assumption that `lowerBound` will not be `NaN` may not hold. and in this case `compare(xxx, lowerBound) < 0` will lead to true which lets the `canContain` return false which may not be correct. In this case I think it might be safer if we add a logic to explicitly check for `lowerbound` for NaN value. What do you think? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822812288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822817446","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822817446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822817446,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgxNzQ0Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:05:52Z","updated_at":"2021-04-19T22:05:52Z","author_association":"MEMBER","body":"I'm a little confused. Are you saying that lowerBound could be NaN? If that's the case then that should mean that no values are less than NaN, which is only true if all values are NaN. Since NaN > all values. If NaN is set as the lower bound and there are values which are non NaN then the lower bound has been set incorrectly I think,","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822817446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822824869","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-822824869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":822824869,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgyNDg2OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:21:46Z","updated_at":"2021-04-19T22:21:46Z","author_association":"MEMBER","body":"Looks good to me aside from naming of the utility class and the formatting issues  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822824869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822827789","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822827789","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822827789,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgyNzc4OQ==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:27:41Z","updated_at":"2021-04-19T22:27:41Z","author_association":"CONTRIBUTOR","body":"Sorry let me make it more clear: I think it could happen if people have their custom implementation for summary info, and I'm not sure if it would be a bug on their side if they assign the lower bound in some way similar to the following:\r\n```\r\nif (isGreaterThanBound(max, val)) {\r\n  max = val;\r\n}\r\n\r\nif (!isGreaterThanBound(min, val)) { <--\r\n  min = val;\r\n}\r\n...\r\nprivate boolean isGreaterThanBound(int bound, int val) {\r\n  return val > bound;\r\n}\r\n```\r\nI guess the code seems unnatural, but an additional check on lower bound may not be that expensive to account for this? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822827789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822828383","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822828383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822828383,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgyODM4Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:28:57Z","updated_at":"2021-04-19T22:29:47Z","author_association":"MEMBER","body":"Fair enough, i'll add that in tonight! Thanks for reviewing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822828383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822829286","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822829286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822829286,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgyOTI4Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:30:59Z","updated_at":"2021-04-19T22:30:59Z","author_association":"MEMBER","body":"Actually i'm not sure how we safely check this, are we saying that if the lower bound is NaN then we can't trust the lower bound check? Seems like we are doing unnecessary reads of files that are all NaN then?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822829286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822834084","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822834084","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822834084,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgzNDA4NA==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:37:10Z","updated_at":"2021-04-19T22:37:10Z","author_association":"CONTRIBUTOR","body":"Yeah I was thinking to include the file if lower bound is NaN, and you are right we will do unnecessary reads for files only contain NaN for the given column. Do you think it's unlikely/unnecessary? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822834084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822835349","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822835349","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822835349,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjgzNTM0OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:40:01Z","updated_at":"2021-04-19T22:40:01Z","author_association":"MEMBER","body":"Do you think if lower and upper bounds are NaN, then we are probably safe right? We could just add in a bail out if (lowerBounds == upperBounds && value < lowerBounds ) return False ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822835349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822842065","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822842065","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822842065,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjg0MjA2NQ==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:56:34Z","updated_at":"2021-04-19T22:56:34Z","author_association":"CONTRIBUTOR","body":"Sorry to make sure I understand, are you suggesting if both upper/lower bounds are NaN, the column will only contain NaN so that we can return false? I think it's possible that a column may contain a mix of NaN and normal values but still report min/max as both NaN, which is what ORC files metric collection does today: https://github.com/apache/iceberg/blob/master/core/src/test/java/org/apache/iceberg/TestMetrics.java#L373-L374\r\n\r\nBut after thinking about it for a bit, I think it may not worth adding this logic to avoid including unnecessary files, as 1) the chance might be low if people to do their own implementation on it since implementing manifest list may be non-trivial, 2) it's not a new thing we introduced, and 3) we start to mention in spec that upper/lower shouldn't include NaN: https://iceberg.apache.org/spec/#snapshots:\r\n\r\n```\r\n510 lower_bound\r\n...\r\nLower bound for the non-null, non-NaN values in the partition field, or null if all values are null or NaN [2]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822842065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822843292","html_url":"https://github.com/apache/iceberg/pull/2495#issuecomment-822843292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2495","id":822843292,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjg0MzI5Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T22:59:48Z","updated_at":"2021-04-19T22:59:48Z","author_association":"CONTRIBUTOR","body":"LGTM. I'd probably do the check once in the constructor but I am not sure it is a big deal.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822843292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822891334","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822891334","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822891334,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjg5MTMzNA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T00:56:42Z","updated_at":"2021-04-20T00:56:42Z","author_association":"MEMBER","body":"That makes me more cautious about adding in the check anyway, I'm not sure we want defensive coding against things that are outside of spec. If the lower_bound is NaN then isn't the file invalid compared to the spec?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822891334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822906574","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-822906574","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":822906574,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkwNjU3NA==","user":{"login":"shenodaguirguis","id":45050883,"node_id":"MDQ6VXNlcjQ1MDUwODgz","avatar_url":"https://avatars.githubusercontent.com/u/45050883?v=4","gravatar_id":"","url":"https://api.github.com/users/shenodaguirguis","html_url":"https://github.com/shenodaguirguis","followers_url":"https://api.github.com/users/shenodaguirguis/followers","following_url":"https://api.github.com/users/shenodaguirguis/following{/other_user}","gists_url":"https://api.github.com/users/shenodaguirguis/gists{/gist_id}","starred_url":"https://api.github.com/users/shenodaguirguis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenodaguirguis/subscriptions","organizations_url":"https://api.github.com/users/shenodaguirguis/orgs","repos_url":"https://api.github.com/users/shenodaguirguis/repos","events_url":"https://api.github.com/users/shenodaguirguis/events{/privacy}","received_events_url":"https://api.github.com/users/shenodaguirguis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T01:38:44Z","updated_at":"2021-04-20T01:38:44Z","author_association":"NONE","body":"@shardulm94  @wmoustafa ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822906574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822910673","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-822910673","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":822910673,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkxMDY3Mw==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T01:50:42Z","updated_at":"2021-04-20T01:50:42Z","author_association":"CONTRIBUTOR","body":"cc: @rdblue @aokolnychyi @RussellSpitzer @omalley @rymurr ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822910673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822913380","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-822913380","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":822913380,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkxMzM4MA==","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T01:58:05Z","updated_at":"2021-04-20T01:58:05Z","author_association":"CONTRIBUTOR","body":"Other than the naming and formatting issue, should it be in package org.apache.iceberg.util? Does it make sense to put them in class `PartitionUtil`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822913380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822921081","html_url":"https://github.com/apache/iceberg/pull/2496#issuecomment-822921081","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2496","id":822921081,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkyMTA4MQ==","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T02:18:41Z","updated_at":"2021-04-20T02:18:41Z","author_association":"CONTRIBUTOR","body":"linkedin/iceberg version of this patch can be found at: https://github.com/linkedin/iceberg/pull/63.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822921081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822921963","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822921963","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822921963,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkyMTk2Mw==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T02:20:58Z","updated_at":"2021-04-20T02:20:58Z","author_association":"CONTRIBUTOR","body":"You are right, the only caveat is that I think this requirement of not including NaN is only introduced not long ago. But yeah, I think we probably shouldn't alter the current behavior. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822921963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822925481","html_url":"https://github.com/apache/iceberg/issues/2492#issuecomment-822925481","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2492","id":822925481,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkyNTQ4MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T02:29:24Z","updated_at":"2021-04-20T02:29:24Z","author_association":"MEMBER","body":"@yyanyy we can always patch it later if it causes an issue, but it least it won't be a regression i'm introducing in this pr :P","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822925481/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822935951","html_url":"https://github.com/apache/iceberg/pull/2465#issuecomment-822935951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2465","id":822935951,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkzNTk1MQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T02:57:40Z","updated_at":"2021-04-20T02:57:40Z","author_association":"CONTRIBUTOR","body":"@rdblue @openinx @yyanyy should be ready for another view, thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822935951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822936276","html_url":"https://github.com/apache/iceberg/pull/2497#issuecomment-822936276","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2497","id":822936276,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkzNjI3Ng==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T02:58:40Z","updated_at":"2021-04-20T02:58:40Z","author_association":"MEMBER","body":"cc @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822936276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822936670","html_url":"https://github.com/apache/iceberg/pull/2497#issuecomment-822936670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2497","id":822936670,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjkzNjY3MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T02:59:55Z","updated_at":"2021-04-20T02:59:55Z","author_association":"MEMBER","body":"I think this is safe to do :+1 but @aokolnychyi did the original copy so let's get his approval too :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/822936670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823012452","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-823012452","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":823012452,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzAxMjQ1Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T06:33:31Z","updated_at":"2021-04-20T06:33:31Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, everyone! I've merged this to unblock other PRs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823012452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823075017","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-823075017","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":823075017,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzA3NTAxNw==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T08:12:39Z","updated_at":"2021-04-20T08:12:39Z","author_association":"COLLABORATOR","body":"My impression is that `PartitionUtil` is supposed to define operations on Iceberg partitions, whereas here we are dealing with listing Hive partitions so it might not be a good idea to mix the two. I'd prefer keeping this migration-related logic in this separate `TableMigrationUtil` class, especially if more methods will be added to it as migration efforts pick up pace.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823075017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823211573","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-823211573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":823211573,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzIxMTU3Mw==","user":{"login":"lcspinter","id":47777102,"node_id":"MDQ6VXNlcjQ3Nzc3MTAy","avatar_url":"https://avatars.githubusercontent.com/u/47777102?v=4","gravatar_id":"","url":"https://api.github.com/users/lcspinter","html_url":"https://github.com/lcspinter","followers_url":"https://api.github.com/users/lcspinter/followers","following_url":"https://api.github.com/users/lcspinter/following{/other_user}","gists_url":"https://api.github.com/users/lcspinter/gists{/gist_id}","starred_url":"https://api.github.com/users/lcspinter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcspinter/subscriptions","organizations_url":"https://api.github.com/users/lcspinter/orgs","repos_url":"https://api.github.com/users/lcspinter/repos","events_url":"https://api.github.com/users/lcspinter/events{/privacy}","received_events_url":"https://api.github.com/users/lcspinter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T11:52:31Z","updated_at":"2021-04-20T11:52:31Z","author_association":"CONTRIBUTOR","body":"I've uploaded a new PR with the requested formatting/renaming changes. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823211573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823221895","html_url":"https://github.com/apache/iceberg/pull/2494#issuecomment-823221895","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2494","id":823221895,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzIyMTg5NQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T12:10:00Z","updated_at":"2021-04-20T12:10:00Z","author_association":"MEMBER","body":"Yeah, because of classloader issues I was only able two write tests for parquet. Both orc and Avro are set to ignore in the procedure/action tests\n\nSent from my iPhone\n\n> On Apr 20, 2021, at 6:48 AM, Lszl Pintr ***@***.***> wrote:\n> \n> \n> @lcspinter commented on this pull request.\n> \n> In data/src/main/java/org/apache/iceberg/data/DataUtil.java:\n> \n> > +    } else if (format.contains(\"orc\")) {\n> +      return listOrcPartition(partitionKeys, uri, spec, conf, metricsConfig, mapping);\n> +    } else {\n> +      throw new UnsupportedOperationException(\"Unknown partition format: \" + format);\n> +    }\n> +  }\n> +\n> +  private static List<DataFile> listAvroPartition(Map<String, String> partitionPath, String partitionUri,\n> +                                                  PartitionSpec spec, Configuration conf) {\n> +    try {\n> +      Path partition = new Path(partitionUri);\n> +      FileSystem fs = partition.getFileSystem(conf);\n> +      return Arrays.stream(fs.listStatus(partition, HIDDEN_PATH_FILTER))\n> +              .filter(FileStatus::isFile)\n> +              .map(stat -> {\n> +                  // Avro file statistics cannot be calculated without reading the file.\n> @aokolnychyi I changed back to the original value (-1L) and I will open a separate PR to address this issue.\n> With -1 set as rowCount will result in [failure|https://github.com/apache/iceberg/blob/a79de571860a290f6e96ac562d616c9c6be2071e/core/src/main/java/org/apache/iceberg/DataFiles.java#L288] when calling DataFiles.Builder.build(). I checked the associated test suite TestSparkTableUtil, and it seems that the import of spark tables having data files in avro file format [was not tested|https://github.com/apache/iceberg/blob/a79de571860a290f6e96ac562d616c9c6be2071e/spark2/src/test/java/org/apache/iceberg/spark/source/TestSparkTableUtil.java#L139] at all.\n> \n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823221895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823421527","html_url":"https://github.com/apache/iceberg/issues/2435#issuecomment-823421527","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2435","id":823421527,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzQyMTUyNw==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T16:30:40Z","updated_at":"2021-04-20T16:30:56Z","author_association":"COLLABORATOR","body":"@aokolnychyi @karuppayya  as we discussed a little offline, also if you guys have any more thoughts (from our sync, the idea is to not focus necessarily first on filters, but just implement the logic for a full table scan and then iterate).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823421527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823422378","html_url":"https://github.com/apache/iceberg/pull/2497#issuecomment-823422378","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2497","id":823422378,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzQyMjM3OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T16:31:54Z","updated_at":"2021-04-20T16:31:54Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks for fixing this, @pan3793!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823422378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823505372","html_url":"https://github.com/apache/iceberg/pull/2452#issuecomment-823505372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2452","id":823505372,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzUwNTM3Mg==","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T18:27:00Z","updated_at":"2021-04-20T18:27:00Z","author_association":"CONTRIBUTOR","body":"From the discussions above, pushing the responsibility of aggregating the file names to caller seems to be the better idea.\r\nClosing this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823505372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823513056","html_url":"https://github.com/apache/iceberg/pull/2472#issuecomment-823513056","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2472","id":823513056,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzUxMzA1Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T18:39:33Z","updated_at":"2021-04-20T18:39:33Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @rdblue @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823513056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823601596","html_url":"https://github.com/apache/iceberg/pull/2500#issuecomment-823601596","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2500","id":823601596,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzYwMTU5Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T21:08:17Z","updated_at":"2021-04-20T21:08:17Z","author_association":"CONTRIBUTOR","body":"@rdblue @RussellSpitzer @flyrain @szehon-ho @chenjunjiedada @jackye1995 @yyanyy, could you review, please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/823601596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]