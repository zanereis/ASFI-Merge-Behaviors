[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502185581","html_url":"https://github.com/apache/pinot/pull/10585#issuecomment-1502185581","issue_url":"https://api.github.com/repos/apache/pinot/issues/10585","id":1502185581,"node_id":"IC_kwDOATCU_c5ZiYht","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T19:00:55Z","updated_at":"2023-04-10T19:00:55Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10585](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (83d77bf) into [master](https://codecov.io/gh/apache/pinot/commit/440a938106a9c97a1e56ccc975ac009c8c705eaa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (440a938) will **decrease** coverage by `0.02%`.\n> The diff coverage is `94.44%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10585      +/-   ##\n============================================\n- Coverage     70.38%   70.36%   -0.02%     \n- Complexity     5616     6481     +865     \n============================================\n  Files          2106     2106              \n  Lines        112890   112891       +1     \n  Branches      17001    17000       -1     \n============================================\n- Hits          79456    79435      -21     \n- Misses        27872    27888      +16     \n- Partials       5562     5568       +6     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.49% <0.00%> (+0.02%)` | :arrow_up: |\n| integration2 | `24.09% <0.00%> (+<0.01%)` | :arrow_up: |\n| unittests1 | `67.90% <94.44%> (-0.02%)` | :arrow_down: |\n| unittests2 | `13.89% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...pinot/segment/spi/index/creator/H3IndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L2NyZWF0b3IvSDNJbmRleENvbmZpZy5qYXZh) | `70.58% <75.00%> (ø)` | |\n| [...pinot/segment/spi/index/DictionaryIndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0RpY3Rpb25hcnlJbmRleENvbmZpZy5qYXZh) | `68.18% <83.33%> (ø)` | |\n| [...he/pinot/segment/spi/index/ForwardIndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0ZvcndhcmRJbmRleENvbmZpZy5qYXZh) | `62.00% <100.00%> (ø)` | |\n| [...apache/pinot/segment/spi/index/FstIndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0ZzdEluZGV4Q29uZmlnLmphdmE=) | `66.66% <100.00%> (ø)` | |\n| [...ache/pinot/segment/spi/index/RangeIndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L1JhbmdlSW5kZXhDb25maWcuamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| [...pache/pinot/segment/spi/index/TextIndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L1RleHRJbmRleENvbmZpZy5qYXZh) | `83.78% <100.00%> (ø)` | |\n| [...ache/pinot/spi/config/table/BloomFilterConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0Jsb29tRmlsdGVyQ29uZmlnLmphdmE=) | `68.00% <100.00%> (ø)` | |\n| [...org/apache/pinot/spi/config/table/IndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0luZGV4Q29uZmlnLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...apache/pinot/spi/config/table/JsonIndexConfig.java](https://codecov.io/gh/apache/pinot/pull/10585?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0pzb25JbmRleENvbmZpZy5qYXZh) | `91.89% <100.00%> (ø)` | |\n\n... and [24 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10585/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502185581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502324517","html_url":"https://github.com/apache/pinot/issues/10558#issuecomment-1502324517","issue_url":"https://api.github.com/repos/apache/pinot/issues/10558","id":1502324517,"node_id":"IC_kwDOATCU_c5Zi6cl","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T21:06:06Z","updated_at":"2023-04-10T21:06:06Z","author_association":"CONTRIBUTOR","body":"Fixed in https://github.com/apache/pinot/issues/10559","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502324517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502357690","html_url":"https://github.com/apache/pinot/pull/10583#issuecomment-1502357690","issue_url":"https://api.github.com/repos/apache/pinot/issues/10583","id":1502357690,"node_id":"IC_kwDOATCU_c5ZjCi6","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T21:34:16Z","updated_at":"2023-04-10T21:34:16Z","author_association":"CONTRIBUTOR","body":"> Seems we handle `null` value everywhere, and the only place not handled is `BaseDataTable` constructor. Should we fix that instead?\r\n\r\nI will merge this one for now. Will let @61yao  to decide if the `ByteBuffer` based constructor should be moved to `BaseDataTable`.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502357690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502398407","html_url":"https://github.com/apache/pinot/issues/10554#issuecomment-1502398407","issue_url":"https://api.github.com/repos/apache/pinot/issues/10554","id":1502398407,"node_id":"IC_kwDOATCU_c5ZjMfH","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T22:14:44Z","updated_at":"2023-04-10T22:17:19Z","author_association":"CONTRIBUTOR","body":"@gortiz, i think we need to look at other fields as well. No I'm seeing `Loading on-heap dictionary for column` which we also don't have turned on. For the table I just tested on, these were the only dictionary related configs\r\n\r\n```\r\n\"optimizeDictionary\": false,\r\n\"optimizeDictionaryForMetrics\": false,\r\n\"noDictionarySizeRatioThreshold\": 0,\r\n\"rangeIndexVersion\": 2,\r\n\"varLengthDictionaryColumns\": [\r\n  \"<col1>,\r\n  \"<col2>\"\r\n],\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502398407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502410324","html_url":"https://github.com/apache/pinot/pull/10588#issuecomment-1502410324","issue_url":"https://api.github.com/repos/apache/pinot/issues/10588","id":1502410324,"node_id":"IC_kwDOATCU_c5ZjPZU","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T22:22:36Z","updated_at":"2023-04-10T22:22:36Z","author_association":"CONTRIBUTOR","body":"@walterddr  / @Jackie-Jiang : Please review","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502410324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502424292","html_url":"https://github.com/apache/pinot/issues/10550#issuecomment-1502424292","issue_url":"https://api.github.com/repos/apache/pinot/issues/10550","id":1502424292,"node_id":"IC_kwDOATCU_c5ZjSzk","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T22:37:20Z","updated_at":"2023-04-10T22:37:20Z","author_association":"CONTRIBUTOR","body":"@gortiz are you going to work on this one? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502424292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502455309","html_url":"https://github.com/apache/pinot/pull/10588#issuecomment-1502455309","issue_url":"https://api.github.com/repos/apache/pinot/issues/10588","id":1502455309,"node_id":"IC_kwDOATCU_c5ZjaYN","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T23:12:55Z","updated_at":"2023-04-12T06:28:18Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10588?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10588](https://codecov.io/gh/apache/pinot/pull/10588?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (afb2035) into [master](https://codecov.io/gh/apache/pinot/commit/47b275f2e796db4fa67565cf5744bab30872a341?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (47b275f) will **decrease** coverage by `56.50%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10588       +/-   ##\n=============================================\n- Coverage     70.39%   13.90%   -56.50%     \n+ Complexity     6494      439     -6055     \n=============================================\n  Files          2106     2052       -54     \n  Lines        112992   110507     -2485     \n  Branches      17019    16722      -297     \n=============================================\n- Hits          79541    15361    -64180     \n- Misses        27880    93890    +66010     \n+ Partials       5571     1256     -4315     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.90% <100.00%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...va/org/apache/pinot/spi/utils/CommonConstants.java](https://codecov.io/gh/apache/pinot/pull/10588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `0.00% <ø> (-24.40%)` | :arrow_down: |\n| [...pinot/broker/broker/BrokerAdminApiApplication.java](https://codecov.io/gh/apache/pinot/pull/10588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0Jyb2tlckFkbWluQXBpQXBwbGljYXRpb24uamF2YQ==) | `84.05% <100.00%> (-2.51%)` | :arrow_down: |\n\n... and [1660 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10588/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502455309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502462531","html_url":"https://github.com/apache/pinot/issues/10554#issuecomment-1502462531","issue_url":"https://api.github.com/repos/apache/pinot/issues/10554","id":1502462531,"node_id":"IC_kwDOATCU_c5ZjcJD","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T23:22:07Z","updated_at":"2023-04-10T23:22:07Z","author_association":"CONTRIBUTOR","body":"I actually can't quite tell what that log message is saying. I don't see elevated heap after segments are loaded.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502462531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502481877","html_url":"https://github.com/apache/pinot/pull/10582#issuecomment-1502481877","issue_url":"https://api.github.com/repos/apache/pinot/issues/10582","id":1502481877,"node_id":"IC_kwDOATCU_c5Zjg3V","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T23:52:41Z","updated_at":"2023-04-11T00:02:28Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10582?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10582](https://codecov.io/gh/apache/pinot/pull/10582?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a2fd55a) into [master](https://codecov.io/gh/apache/pinot/commit/7f4c4d2da26f2f93496d584c8755dd54b85cb29c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7f4c4d2) will **increase** coverage by `1.38%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10582      +/-   ##\n============================================\n+ Coverage     69.01%   70.39%   +1.38%     \n  Complexity     6489     6489              \n============================================\n  Files          2106     2106              \n  Lines        112972   112970       -2     \n  Branches      17014    17014              \n============================================\n+ Hits          77968    79530    +1562     \n+ Misses        29519    27862    -1657     \n- Partials       5485     5578      +93     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.58% <ø> (?)` | |\n| integration2 | `24.07% <ø> (-0.09%)` | :arrow_down: |\n| unittests1 | `67.92% <ø> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.88% <ø> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 160 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10582/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502481877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502518906","html_url":"https://github.com/apache/pinot/issues/10552#issuecomment-1502518906","issue_url":"https://api.github.com/repos/apache/pinot/issues/10552","id":1502518906,"node_id":"IC_kwDOATCU_c5Zjp56","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T00:35:10Z","updated_at":"2023-04-11T00:35:10Z","author_association":"CONTRIBUTOR","body":"@zhtaoxiang : can you pick up this issue, in case there is more follow-up/debugging to do? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502518906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502553125","html_url":"https://github.com/apache/pinot/issues/10523#issuecomment-1502553125","issue_url":"https://api.github.com/repos/apache/pinot/issues/10523","id":1502553125,"node_id":"IC_kwDOATCU_c5ZjyQl","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T01:24:31Z","updated_at":"2023-04-11T01:24:31Z","author_association":"CONTRIBUTOR","body":"@ankitsultana / @walterddr I am planning to start work on this. Just checking, do you guys think it's good to start work and not be dependent on any other work? Thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502553125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502584758","html_url":"https://github.com/apache/pinot/pull/10589#issuecomment-1502584758","issue_url":"https://api.github.com/repos/apache/pinot/issues/10589","id":1502584758,"node_id":"IC_kwDOATCU_c5Zj5-2","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T02:04:45Z","updated_at":"2023-04-11T02:04:45Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10589?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10589](https://codecov.io/gh/apache/pinot/pull/10589?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (75e1817) into [master](https://codecov.io/gh/apache/pinot/commit/cde82bb88377751f7ce1fe73a8231a37fc7fdcd6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (cde82bb) will **decrease** coverage by `8.37%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10589      +/-   ##\n============================================\n- Coverage     68.99%   60.62%   -8.37%     \n+ Complexity     6488     6088     -400     \n============================================\n  Files          2106     2090      -16     \n  Lines        112970   112541     -429     \n  Branches      17014    16959      -55     \n============================================\n- Hits          77943    68231    -9712     \n- Misses        29543    39295    +9752     \n+ Partials       5484     5015     -469     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `24.12% <0.00%> (+0.01%)` | :arrow_up: |\n| unittests1 | `67.96% <ø> (+0.03%)` | :arrow_up: |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10589?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/10589?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `59.18% <0.00%> (-10.08%)` | :arrow_down: |\n\n... and [304 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10589/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502584758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502856849","html_url":"https://github.com/apache/pinot/pull/10553#issuecomment-1502856849","issue_url":"https://api.github.com/repos/apache/pinot/issues/10553","id":1502856849,"node_id":"IC_kwDOATCU_c5Zk8aR","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T07:52:33Z","updated_at":"2023-04-11T07:52:33Z","author_association":"CONTRIBUTOR","body":"In order to add the ability to override configs by adding a tiered field, here you follow a pattern that is quite common in Pinot but I tried to avoid in `index-spi`. This pattern is the following:\r\n1. We add a new concept that modify several different parts of the code.\r\n2. This new concept change how different parts of the code behave.\r\n3. We drag this concept until the specific parts of the code that are actually modified by the new concept.\r\n\r\nA clear example of this (used in the index spi PEP) is the bloom filter config. The first Pinot versions that supported bloom filter expected to configure them in `bloomFilterColumns` attribute. Then we wanted to be able to configure the bloom filter on each column, so we added `bloomFilterConfigs`. Then each time we wanted to know the bloom filter config for a column we had to first look for the column in `bloomFIlterConfig` and in case we don't find it, look for it in `bloomFilterColumns` (and if we found it there we generate a default config). Not being centralized, we needed to do that several times in different parts of the code. This is a problem because each time we add a new concept like that we have to be sure we touch all the places where this logic is affected. In index-spi PEP I said that this is a problem I associate with not having different models for user specific syntax (in this case, the different ways a user may define a bloom filter) and internal and developer oriented syntax (where we don't care about the different ways the user may configure a bloom filter, we just want them to be unified in a single model). `index-spi` solved this problem by extracting all the different ways an index can be configured in the TableConfig (customer specific syntax/model) and returning a single config object (developer specific model).\r\n\r\nIn this PR I think we are falling in the same pattern. The new concept is the ability to override configs by tier. The customer specific syntax is still the TableConfig and instead of centralize the transformation between how the user writes something and how the code reacts to it, we are again spreading the logic in several parts of the code. In this case, index types and startree indexes need to know about tiered (when in fact they don't actually care). IICU the code, encodingType is not actually being override, so we should also add this logic in at least another place.\r\n\r\nInstead of doing this, I suggest to try to follow another pattern. For example:\r\n1. We still add `tiered` concept in different places in TableConfig\r\n2. We add a preprocessor layer where the original TableConfig with N tiered configs is transformed into N+1 TableConfig objects without tiered.\r\n3. For each N+1 TableConfig, we apply the logic we have right now.\r\n\r\nI think it is easier to see this with an example. In this PR you modifies the airlineStats_offline_table_config.json in order to add the following in FieldConfigList (I'm going to ignore the changes in Startree indexes, but it would also apply there):\r\n```js\r\n{\r\n      \"name\": \"ArrTimeBlk\",\r\n      \"encodingType\": \"DICTIONARY\",\r\n      \"indexes\": {\r\n        \"inverted\": {\r\n          \"enabled\": \"true\"\r\n        }\r\n      },\r\n      \"tierOverwrites\": {\r\n        \"hotTier\": {\r\n          \"encodingType\": \"DICTIONARY\",\r\n          \"indexes\": {\r\n            \"bloom\": {\r\n              \"enabled\": \"true\"\r\n            }\r\n          }\r\n        },\r\n        \"coldTier\": {\r\n          \"encodingType\": \"RAW\",\r\n          \"indexes\": {\r\n            \"text\": {\r\n              \"enabled\": \"true\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n```\r\n\r\nThis means that we have 2 tiers plus the default one, so the preprocessor would generate 3 tables that will be equal except for the FieldConfig named `ArrTimeBlk`, where we will have 3 different versions:\r\n\r\nThe default would be:\r\n```js\r\n      \"name\": \"ArrTimeBlk\",\r\n      \"encodingType\": \"DICTIONARY\",\r\n      \"indexes\": {\r\n        \"inverted\": {\r\n          \"enabled\": \"true\"\r\n        }\r\n      }\r\n```\r\n\r\nThe hotTier would be:\r\n```js\r\n      \"name\": \"ArrTimeBlk\",\r\n      \"encodingType\": \"DICTIONARY\",\r\n      \"indexes\": {\r\n        \"inverted\": {\r\n          \"enabled\": \"true\"\r\n        },\r\n        \"bloom\": {\r\n          \"enabled\": \"true\"\r\n        }\r\n      }\r\n```\r\n\r\nThe coldTier would be:\r\n\r\n```js\r\n      \"name\": \"ArrTimeBlk\",\r\n      \"encodingType\": \"RAW\", // This was also modified!\r\n      \"indexes\": {\r\n        \"inverted\": {\r\n          \"enabled\": \"true\"\r\n        },\r\n        \"indexes\": {\r\n          \"text\": {\r\n            \"enabled\": \"true\"\r\n          }\r\n        }\r\n      }\r\n```\r\n\r\nIn these 3 new TableConfigs there is no tierOverride, so we can read indexes (and any other config!) without actually needed to know about them. \r\n\r\nThe preprocessor should not be very complex. It needs to know how to merge jsons (which is not that difficult) and needs to verify that the thing that has been override is correct (for example in this case we could forbid to override the name).\r\n\r\nIn the abstract void, this approach seems more elegant than the other. The separation of responsibilities is clear: The preprocessor takes care of the tieredOverride, the IndexType.getConfig() take a TableConfig without overrides and generates an index config. The main issue here is that I don't know how much it may affect the rest of the code. In fact I would like to use different classes for TableConfigWithTieredOverride and TieredConfigWithoutOverride, but that would imply so many changes in the code that I don't think it would be feasible right now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1502856849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1503100571","html_url":"https://github.com/apache/pinot/pull/10590#issuecomment-1503100571","issue_url":"https://api.github.com/repos/apache/pinot/issues/10590","id":1503100571,"node_id":"IC_kwDOATCU_c5Zl36b","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T10:49:04Z","updated_at":"2023-04-11T11:14:31Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10590?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10590](https://codecov.io/gh/apache/pinot/pull/10590?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (28d69a4) into [master](https://codecov.io/gh/apache/pinot/commit/fe7a72b9d27d8764670778474595ebe18d101e16?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fe7a72b) will **increase** coverage by `1.48%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10590      +/-   ##\n============================================\n+ Coverage     68.96%   70.44%   +1.48%     \n- Complexity     6495     6496       +1     \n============================================\n  Files          2106     2106              \n  Lines        112992   112997       +5     \n  Branches      17019    17021       +2     \n============================================\n+ Hits          77921    79604    +1683     \n+ Misses        29590    27821    -1769     \n- Partials       5481     5572      +91     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.39% <0.00%> (?)` | |\n| integration2 | `24.18% <0.00%> (+0.11%)` | :arrow_up: |\n| unittests1 | `67.98% <ø> (+0.01%)` | :arrow_up: |\n| unittests2 | `13.90% <0.00%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10590?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ontroller/api/resources/PinotControllerLogger.java](https://codecov.io/gh/apache/pinot/pull/10590?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90Q29udHJvbGxlckxvZ2dlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n\n... and [155 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10590/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1503100571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1503507334","html_url":"https://github.com/apache/pinot/pull/10565#issuecomment-1503507334","issue_url":"https://api.github.com/repos/apache/pinot/issues/10565","id":1503507334,"node_id":"IC_kwDOATCU_c5ZnbOG","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T14:44:48Z","updated_at":"2023-04-11T14:44:48Z","author_association":"CONTRIBUTOR","body":"Posted partial review. Still reviewing some `Operator` and `PlanNode` code. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1503507334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1503888502","html_url":"https://github.com/apache/pinot/issues/10580#issuecomment-1503888502","issue_url":"https://api.github.com/repos/apache/pinot/issues/10580","id":1503888502,"node_id":"IC_kwDOATCU_c5Zo4R2","user":{"login":"ksnijjer","id":85707391,"node_id":"MDQ6VXNlcjg1NzA3Mzkx","avatar_url":"https://avatars.githubusercontent.com/u/85707391?v=4","gravatar_id":"","url":"https://api.github.com/users/ksnijjer","html_url":"https://github.com/ksnijjer","followers_url":"https://api.github.com/users/ksnijjer/followers","following_url":"https://api.github.com/users/ksnijjer/following{/other_user}","gists_url":"https://api.github.com/users/ksnijjer/gists{/gist_id}","starred_url":"https://api.github.com/users/ksnijjer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ksnijjer/subscriptions","organizations_url":"https://api.github.com/users/ksnijjer/orgs","repos_url":"https://api.github.com/users/ksnijjer/repos","events_url":"https://api.github.com/users/ksnijjer/events{/privacy}","received_events_url":"https://api.github.com/users/ksnijjer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T18:29:56Z","updated_at":"2023-04-11T18:29:56Z","author_association":"NONE","body":"@matthew.helmke@startree.ai","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1503888502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504119891","html_url":"https://github.com/apache/pinot/pull/10553#issuecomment-1504119891","issue_url":"https://api.github.com/repos/apache/pinot/issues/10553","id":1504119891,"node_id":"IC_kwDOATCU_c5ZpwxT","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T21:34:33Z","updated_at":"2023-04-11T21:34:33Z","author_association":"CONTRIBUTOR","body":"@gortiz thanks for the comments. I like your idea of generating different TableConfig instances for tiers for better separation. The Index.getConfig() encapsulates a lot of details of assembling index configs from everywhere in TableConfig, so I'd +1 to reuse it than make it more complex for being aware of tier (which is the idea of current change). Below are a few points about current change, but I'll think more about your idea anyway.\r\n\r\n> ... encodingType is not actually being override, so we should also add this logic in at least another place...\r\n\r\nThe current change allows to overwrite the encodingType via `FieldConfig.withTierOverwrites(tier)`\r\n\r\n> ... In these 3 new TableConfigs there is no tierOverride, so we can read indexes (and any other config!) without actually needed to know about them... \r\n\r\nThe current change can use any other config as well. If tier is provided, the tier specific ones take precedence.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504119891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504202920","html_url":"https://github.com/apache/pinot/issues/10591#issuecomment-1504202920","issue_url":"https://api.github.com/repos/apache/pinot/issues/10591","id":1504202920,"node_id":"IC_kwDOATCU_c5ZqFCo","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T22:22:21Z","updated_at":"2023-04-11T22:22:21Z","author_association":"CONTRIBUTOR","body":"cc @xiangfu0 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504202920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504238702","html_url":"https://github.com/apache/pinot/issues/10591#issuecomment-1504238702","issue_url":"https://api.github.com/repos/apache/pinot/issues/10591","id":1504238702,"node_id":"IC_kwDOATCU_c5ZqNxu","user":{"login":"dd-willgan","id":87046728,"node_id":"MDQ6VXNlcjg3MDQ2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/87046728?v=4","gravatar_id":"","url":"https://api.github.com/users/dd-willgan","html_url":"https://github.com/dd-willgan","followers_url":"https://api.github.com/users/dd-willgan/followers","following_url":"https://api.github.com/users/dd-willgan/following{/other_user}","gists_url":"https://api.github.com/users/dd-willgan/gists{/gist_id}","starred_url":"https://api.github.com/users/dd-willgan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dd-willgan/subscriptions","organizations_url":"https://api.github.com/users/dd-willgan/orgs","repos_url":"https://api.github.com/users/dd-willgan/repos","events_url":"https://api.github.com/users/dd-willgan/events{/privacy}","received_events_url":"https://api.github.com/users/dd-willgan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T23:07:14Z","updated_at":"2023-04-11T23:07:14Z","author_association":"CONTRIBUTOR","body":"I can try to take a stab at this 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504238702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504340869","html_url":"https://github.com/apache/pinot/pull/10572#issuecomment-1504340869","issue_url":"https://api.github.com/repos/apache/pinot/issues/10572","id":1504340869,"node_id":"IC_kwDOATCU_c5ZqmuF","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T00:40:56Z","updated_at":"2023-04-12T00:40:56Z","author_association":"CONTRIBUTOR","body":"> Currently the deduplication is handled using the same way as upsert as a short term solution (not production ready). We have done a lot of bugfixes to the upsert implementation, but not actively maintain the dedup implementation.\r\n> \r\n> My suggestion would be to redesign dedup from scratch since it is not the same as upsert (no need to maintain valid docs, no need to track segment etc.), and TTL (dedup window) should be a must have for dedup. If we have proper TTL, the key size should be much smaller.\r\n> \r\n> After that if we still need disk based KV store we can introduce that as a plug-in. We don't want to introduce RocksDB dependency in default distribution\r\n\r\nI think the redesign of dedup makes sense but it'll be a much larger and involved effort, and unlikely for @raghavgautam to take. I think it makes sense to start a separate effort of dedup V2, but in the meantime it's fine for the community to add features and make improvements over V1, assuming it'll take some time for V2 to be ready.\r\n\r\nFor depedency on KV store, I left a similar comment that we'd better move this to a plugin for simpler dependencies of the core.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504340869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504425318","html_url":"https://github.com/apache/pinot/pull/10553#issuecomment-1504425318","issue_url":"https://api.github.com/repos/apache/pinot/issues/10553","id":1504425318,"node_id":"IC_kwDOATCU_c5Zq7Vm","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T02:01:28Z","updated_at":"2023-04-12T02:01:28Z","author_association":"CONTRIBUTOR","body":"@klsince would you please add some more description to the PR, giving examples of the final config you are going with (based on  @gortiz feedback)?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504425318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504580595","html_url":"https://github.com/apache/pinot/pull/10563#issuecomment-1504580595","issue_url":"https://api.github.com/repos/apache/pinot/issues/10563","id":1504580595,"node_id":"IC_kwDOATCU_c5ZrhPz","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T04:20:17Z","updated_at":"2023-04-12T04:20:17Z","author_association":"CONTRIBUTOR","body":"@61yao Can you add a bit more information on the PR message on the change for this PR?\r\n\r\n```\r\nWe are not able to fully support null in array related functions because we only store one null bit for the whole multi value row.\r\n```\r\n\r\nThe above message is calling out the current limitation of PR or is this PR addressing the above issue?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504580595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504627616","html_url":"https://github.com/apache/pinot/pull/10563#issuecomment-1504627616","issue_url":"https://api.github.com/repos/apache/pinot/issues/10563","id":1504627616,"node_id":"IC_kwDOATCU_c5Zrsug","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T05:00:48Z","updated_at":"2023-04-12T05:00:48Z","author_association":"CONTRIBUTOR","body":"> @61yao Can you add a bit more information on the PR message on the change for this PR?\r\n> \r\n> ```\r\n> We are not able to fully support null in array related functions because we only store one null bit for the whole multi value row.\r\n> ```\r\n> \r\n> The above message is calling out the current limitation of PR or is this PR addressing the above issue?\r\n\r\n@snleee Sorry for the short description. Added extra explanation. Let me know if you need more context. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504627616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504672662","html_url":"https://github.com/apache/pinot/pull/10563#issuecomment-1504672662","issue_url":"https://api.github.com/repos/apache/pinot/issues/10563","id":1504672662,"node_id":"IC_kwDOATCU_c5Zr3uW","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T05:32:43Z","updated_at":"2023-04-12T05:32:43Z","author_association":"CONTRIBUTOR","body":"iiuc, we can only support if an array is null or not. But we cannot support if an element of an array is null or not.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504672662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504673669","html_url":"https://github.com/apache/pinot/pull/10563#issuecomment-1504673669","issue_url":"https://api.github.com/repos/apache/pinot/issues/10563","id":1504673669,"node_id":"IC_kwDOATCU_c5Zr3-F","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T05:33:47Z","updated_at":"2023-04-12T05:34:14Z","author_association":"CONTRIBUTOR","body":"> > @61yao Can you add a bit more information on the PR message on the change for this PR?\r\n> > ```\r\n> > We are not able to fully support null in array related functions because we only store one null bit for the whole multi value row.\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > The above message is calling out the current limitation of PR or is this PR addressing the above issue?\r\n> \r\n> @snleee Sorry for the short description. Added extra explanation. Let me know if you need more context.\r\n\r\nCan you also link to either design document or gitbhub issue for all the null support related PRs? Any person who review this PR would be interested in knowing the entire picture that we want to implement since each PR will include the partial changes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504673669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504680000","html_url":"https://github.com/apache/pinot/pull/10562#issuecomment-1504680000","issue_url":"https://api.github.com/repos/apache/pinot/issues/10562","id":1504680000,"node_id":"IC_kwDOATCU_c5Zr5hA","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T05:39:05Z","updated_at":"2023-04-12T05:39:05Z","author_association":"CONTRIBUTOR","body":"We earlier added `nullableParameters = true` in ScalarFunction annotation. IMO, we should also remove that since all functions can now support null. This is only used internally in the codebase so shouldn't be an issue.\r\n\r\nWe do need to make sure the methods which uses this flag though work correctly.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504680000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504693740","html_url":"https://github.com/apache/pinot/pull/10563#issuecomment-1504693740","issue_url":"https://api.github.com/repos/apache/pinot/issues/10563","id":1504693740,"node_id":"IC_kwDOATCU_c5Zr83s","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T05:50:27Z","updated_at":"2023-04-12T05:50:27Z","author_association":"CONTRIBUTOR","body":"> > > @61yao Can you add a bit more information on the PR message on the change for this PR?\r\n> > > ```\r\n> > > We are not able to fully support null in array related functions because we only store one null bit for the whole multi value row.\r\n> > > ```\r\n> > > \r\n> > > \r\n> > >     \r\n> > >       \r\n> > >     \r\n> > > \r\n> > >       \r\n> > >     \r\n> > > \r\n> > >     \r\n> > >   \r\n> > > The above message is calling out the current limitation of PR or is this PR addressing the above issue?\r\n> > \r\n> > \r\n> > @snleee Sorry for the short description. Added extra explanation. Let me know if you need more context.\r\n> \r\n> Can you also link to either design document or gitbhub issue for all the null support related PRs? Any person who review this PR would be interested in knowing the entire picture that we want to implement since each PR will include the partial changes.\r\n\r\nyeah. good point. Added the github issue and design doc. @snleee Thanks for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504693740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504712277","html_url":"https://github.com/apache/pinot/pull/10594#issuecomment-1504712277","issue_url":"https://api.github.com/repos/apache/pinot/issues/10594","id":1504712277,"node_id":"IC_kwDOATCU_c5ZsBZV","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T06:07:46Z","updated_at":"2023-05-11T22:41:28Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10594](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a94d766) into [master](https://app.codecov.io/gh/apache/pinot/commit/866c796bd56cf846b654f29f024f3e610557b2c7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (866c796) will **increase** coverage by `0.09%`.\n> The diff coverage is `43.98%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10594      +/-   ##\n============================================\n+ Coverage     70.25%   70.34%   +0.09%     \n+ Complexity     6503     6471      -32     \n============================================\n  Files          2108     2153      +45     \n  Lines        113866   115731    +1865     \n  Branches      17181    17477     +296     \n============================================\n+ Hits          79991    81409    +1418     \n- Misses        28283    28650     +367     \n- Partials       5592     5672      +80     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.08% <11.24%> (-0.24%)` | :arrow_down: |\n| integration2 | `23.83% <12.82%> (-0.23%)` | :arrow_down: |\n| unittests1 | `67.88% <43.98%> (+0.07%)` | :arrow_up: |\n| unittests2 | `13.70% <0.00%> (-0.13%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ator/transform/function/CaseTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQ2FzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `46.60% <42.04%> (-22.63%)` | :arrow_down: |\n| [.../transform/function/CoalesceTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQ29hbGVzY2VUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `50.53% <51.35%> (-36.77%)` | :arrow_down: |\n| [...ator/transform/function/BaseTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmFzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `51.28% <100.00%> (+6.11%)` | :arrow_up: |\n| [...transform/function/IsNotNullTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSXNOb3ROdWxsVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `100.00% <100.00%> (+33.33%)` | :arrow_up: |\n| [...or/transform/function/IsNullTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSXNOdWxsVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `93.33% <100.00%> (+10.57%)` | :arrow_up: |\n\n... and [262 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10594/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504712277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504720847","html_url":"https://github.com/apache/pinot/issues/10523#issuecomment-1504720847","issue_url":"https://api.github.com/repos/apache/pinot/issues/10523","id":1504720847,"node_id":"IC_kwDOATCU_c5ZsDfP","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T06:15:34Z","updated_at":"2023-04-12T06:15:34Z","author_association":"CONTRIBUTOR","body":"Hi @abhioncbr , thanks for showing interest.\r\n\r\nAt this point we are not sure what's the right approach for this. Both of the approaches have pros and cons. Would be best to wait for now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504720847/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504753772","html_url":"https://github.com/apache/pinot/issues/10550#issuecomment-1504753772","issue_url":"https://api.github.com/repos/apache/pinot/issues/10550","id":1504753772,"node_id":"IC_kwDOATCU_c5ZsLhs","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T06:49:24Z","updated_at":"2023-04-12T06:49:24Z","author_association":"CONTRIBUTOR","body":"Not right now. If someone is interested on it, feel free to work on it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1504753772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505668507","html_url":"https://github.com/apache/pinot/pull/10572#issuecomment-1505668507","issue_url":"https://api.github.com/repos/apache/pinot/issues/10572","id":1505668507,"node_id":"IC_kwDOATCU_c5Zvq2b","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T17:33:43Z","updated_at":"2023-04-12T17:33:43Z","author_association":"CONTRIBUTOR","body":"> I think the redesign of dedup makes sense but it'll be a much larger and involved effort, and unlikely for @raghavgautam to take. I think it makes sense to start a separate effort of dedup V2, but in the meantime it's fine for the community to add features and make improvements over V1, assuming it'll take some time for V2 to be ready.\r\n\r\nMy concern for the current dedup implementation is that it is not maintained properly (not production ready), and the bugfixes for upsert is not added to dedup. If we decide to keep V1, we want to first apply all the changes to upsert to dedup as well.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505668507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505685210","html_url":"https://github.com/apache/pinot/pull/10572#issuecomment-1505685210","issue_url":"https://api.github.com/repos/apache/pinot/issues/10572","id":1505685210,"node_id":"IC_kwDOATCU_c5Zvu7a","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T17:43:27Z","updated_at":"2023-04-12T17:43:27Z","author_association":"CONTRIBUTOR","body":"> > I think the redesign of dedup makes sense but it'll be a much larger and involved effort, and unlikely for @raghavgautam to take. I think it makes sense to start a separate effort of dedup V2, but in the meantime it's fine for the community to add features and make improvements over V1, assuming it'll take some time for V2 to be ready.\r\n> \r\n> My concern for the current dedup implementation is that it is not maintained properly (not production ready), and the bugfixes for upsert is not added to dedup. If we decide to keep V1, we want to first apply all the changes to upsert to dedup as well.\r\n\r\nThis sounds like a bigger problem that dedup is not ready for the community but we released it. I don't see any warning in [Pinot doc](https://docs.pinot.apache.org/basics/data-import/dedup)...\r\n\r\nI think we either maintain V1, or not advocate its use (e.g. mark it as experimental, or remove it). @kishoreg @icefury71 wdyt? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505685210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505759545","html_url":"https://github.com/apache/pinot/pull/10562#issuecomment-1505759545","issue_url":"https://api.github.com/repos/apache/pinot/issues/10562","id":1505759545,"node_id":"IC_kwDOATCU_c5ZwBE5","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T18:44:58Z","updated_at":"2023-04-12T18:45:14Z","author_association":"CONTRIBUTOR","body":"> nullableParameters\r\n\r\nnullableParameters is still needed because when it is set to false, we return null if any of the argument is null:\r\n\r\nYou can check this file for details: https://github.com/apache/pinot/pull/10376/files#diff-688b9166dc63a0dbc1f1726deb4847284cc4f2ebbf9ccbab64c4631e68c33c23\r\n\r\n@KKcorps ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505759545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505773236","html_url":"https://github.com/apache/pinot/pull/10553#issuecomment-1505773236","issue_url":"https://api.github.com/repos/apache/pinot/issues/10553","id":1505773236,"node_id":"IC_kwDOATCU_c5ZwEa0","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T18:56:52Z","updated_at":"2023-04-12T18:56:52Z","author_association":"CONTRIBUTOR","body":"@gortiz @npawar I updated PR, trying to implement the new idea proposed by @gortiz pls take another look. \r\nbtw, PR description is updated for the new way of implementing the feature.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505773236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505798961","html_url":"https://github.com/apache/pinot/pull/10336#issuecomment-1505798961","issue_url":"https://api.github.com/repos/apache/pinot/issues/10336","id":1505798961,"node_id":"IC_kwDOATCU_c5ZwKsx","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T19:18:03Z","updated_at":"2023-04-12T19:18:03Z","author_association":"MEMBER","body":"looks like this broke explain","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505798961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505833943","html_url":"https://github.com/apache/pinot/pull/10593#issuecomment-1505833943","issue_url":"https://api.github.com/repos/apache/pinot/issues/10593","id":1505833943,"node_id":"IC_kwDOATCU_c5ZwTPX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T19:49:11Z","updated_at":"2023-04-12T20:07:49Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10593?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10593](https://codecov.io/gh/apache/pinot/pull/10593?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6331def) into [master](https://codecov.io/gh/apache/pinot/commit/7c1d10a358b4974b3ddc0b56c8d4328e0d6d579c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7c1d10a) will **increase** coverage by `1.37%`.\n> The diff coverage is `41.66%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10593      +/-   ##\n============================================\n+ Coverage     69.04%   70.41%   +1.37%     \n- Complexity     6496     6498       +2     \n============================================\n  Files          2106     2106              \n  Lines        113004   113008       +4     \n  Branches      17026    17028       +2     \n============================================\n+ Hits          78021    79576    +1555     \n+ Misses        29495    27850    -1645     \n- Partials       5488     5582      +94     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.51% <0.00%> (?)` | |\n| integration2 | `24.09% <25.00%> (-0.06%)` | :arrow_down: |\n| unittests1 | `68.01% <ø> (+0.03%)` | :arrow_up: |\n| unittests2 | `13.88% <41.66%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10593?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ller/api/resources/PinotSchemaRestletResource.java](https://codecov.io/gh/apache/pinot/pull/10593?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2NoZW1hUmVzdGxldFJlc291cmNlLmphdmE=) | `68.32% <10.00%> (-1.30%)` | :arrow_down: |\n| [...ler/api/resources/TableConfigsRestletResource.java](https://codecov.io/gh/apache/pinot/pull/10593?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1RhYmxlQ29uZmlnc1Jlc3RsZXRSZXNvdXJjZS5qYXZh) | `79.34% <50.00%> (-0.23%)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/10593?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `71.05% <70.00%> (+0.72%)` | :arrow_up: |\n\n... and [147 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10593/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505833943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505838082","html_url":"https://github.com/apache/pinot/pull/10336#issuecomment-1505838082","issue_url":"https://api.github.com/repos/apache/pinot/issues/10336","id":1505838082,"node_id":"IC_kwDOATCU_c5ZwUQC","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T19:53:18Z","updated_at":"2023-04-12T19:53:18Z","author_association":"CONTRIBUTOR","body":"Yeah this had. @tibrewalpratik17 had merged this which should have fixed it: https://github.com/apache/pinot/pull/10505\r\n\r\nAre explain queries still failing?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505838082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505928299","html_url":"https://github.com/apache/pinot/issues/10595#issuecomment-1505928299","issue_url":"https://api.github.com/repos/apache/pinot/issues/10595","id":1505928299,"node_id":"IC_kwDOATCU_c5ZwqRr","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T20:56:11Z","updated_at":"2023-04-12T20:56:11Z","author_association":"CONTRIBUTOR","body":"If there is alignment that we can do this minor change and bump the version to V5 (provided we don't have to duplicate rest of the code), then I think we should do it soon. Otherwise, we can fold it along with any other future major change that will require protocol and version change.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1505928299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506011496","html_url":"https://github.com/apache/pinot/pull/10596#issuecomment-1506011496","issue_url":"https://api.github.com/repos/apache/pinot/issues/10596","id":1506011496,"node_id":"IC_kwDOATCU_c5Zw-lo","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T21:55:53Z","updated_at":"2023-04-12T21:55:53Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10596?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10596](https://codecov.io/gh/apache/pinot/pull/10596?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e585755) into [master](https://codecov.io/gh/apache/pinot/commit/7c1d10a358b4974b3ddc0b56c8d4328e0d6d579c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7c1d10a) will **decrease** coverage by `41.29%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10596       +/-   ##\n=============================================\n- Coverage     69.04%   27.75%   -41.29%     \n+ Complexity     6496       58     -6438     \n=============================================\n  Files          2106     2090       -16     \n  Lines        113004   112572      -432     \n  Branches      17026    16971       -55     \n=============================================\n- Hits          78021    31243    -46778     \n- Misses        29495    78213    +48718     \n+ Partials       5488     3116     -2372     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.46% <0.00%> (?)` | |\n| integration2 | `24.04% <0.00%> (-0.11%)` | :arrow_down: |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10596?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...lanner/partitioning/FieldSelectionKeySelector.java](https://codecov.io/gh/apache/pinot/pull/10596?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9wYXJ0aXRpb25pbmcvRmllbGRTZWxlY3Rpb25LZXlTZWxlY3Rvci5qYXZh) | `0.00% <0.00%> (-60.00%)` | :arrow_down: |\n\n... and [1550 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10596/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506011496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506045108","html_url":"https://github.com/apache/pinot/issues/10595#issuecomment-1506045108","issue_url":"https://api.github.com/repos/apache/pinot/issues/10595","id":1506045108,"node_id":"IC_kwDOATCU_c5ZxGy0","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T22:25:29Z","updated_at":"2023-04-12T22:25:29Z","author_association":"CONTRIBUTOR","body":"There's also a long pending need to switch to uuid based requestIds. If we are doing data table version updates can we also consider adding support for this?\r\n\r\nInteger based requestIds can have collisions since multiple brokers may have the same counter value. Right now the Multistage scheduler uses the long requestIds created by the broker for scheduling which can lead to weird scheduling bugs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506045108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506047968","html_url":"https://github.com/apache/pinot/pull/10334#issuecomment-1506047968","issue_url":"https://api.github.com/repos/apache/pinot/issues/10334","id":1506047968,"node_id":"IC_kwDOATCU_c5ZxHfg","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T22:29:00Z","updated_at":"2023-04-12T22:29:00Z","author_association":"CONTRIBUTOR","body":"This will be superseded by the ongoing changes for moving the colocation logic to Calcite.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506047968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506118577","html_url":"https://github.com/apache/pinot/pull/10596#issuecomment-1506118577","issue_url":"https://api.github.com/repos/apache/pinot/issues/10596","id":1506118577,"node_id":"IC_kwDOATCU_c5ZxYux","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T00:02:48Z","updated_at":"2023-04-13T00:02:48Z","author_association":"CONTRIBUTOR","body":"> LG. can you check test failure?\r\n\r\nThanks. Filed a separate issue for it: https://github.com/apache/pinot/issues/10597\r\n\r\nIt might be a flaky test. The code change in this is unrelated since `FieldSelectionKeySelector` is only used for multistage queries during query execution, and the error in the UT was from some pulsar consumer test.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506118577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506119140","html_url":"https://github.com/apache/pinot/issues/10597#issuecomment-1506119140","issue_url":"https://api.github.com/repos/apache/pinot/issues/10597","id":1506119140,"node_id":"IC_kwDOATCU_c5ZxY3k","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T00:03:27Z","updated_at":"2023-04-13T00:03:27Z","author_association":"CONTRIBUTOR","body":"cc @KKcorps ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506119140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506176771","html_url":"https://github.com/apache/pinot/pull/10598#issuecomment-1506176771","issue_url":"https://api.github.com/repos/apache/pinot/issues/10598","id":1506176771,"node_id":"IC_kwDOATCU_c5Zxm8D","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T01:16:42Z","updated_at":"2023-05-12T21:02:08Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10598](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (197ccd6) into [master](https://app.codecov.io/gh/apache/pinot/commit/9e1160272aec88591d9e768d15104b72521b2ffb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9e11602) will **increase** coverage by `1.80%`.\n> The diff coverage is `87.50%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10598      +/-   ##\n============================================\n+ Coverage     68.51%   70.32%   +1.80%     \n- Complexity     5637     6472     +835     \n============================================\n  Files          2153     2153              \n  Lines        115731   115736       +5     \n  Branches      17477    17477              \n============================================\n+ Hits          79290    81387    +2097     \n+ Misses        30836    28687    -2149     \n- Partials       5605     5662      +57     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.04% <37.50%> (-0.04%)` | :arrow_down: |\n| integration2 | `23.74% <37.50%> (?)` | |\n| unittests1 | `67.93% <87.50%> (+0.03%)` | :arrow_up: |\n| unittests2 | `13.70% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...transform/function/DateTruncTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vRGF0ZVRydW5jVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `83.87% <0.00%> (-2.80%)` | :arrow_down: |\n| [.../function/DateTimeConversionTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vRGF0ZVRpbWVDb252ZXJzaW9uVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `77.50% <100.00%> (+0.57%)` | :arrow_up: |\n| [.../transform/function/DateTimeTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vRGF0ZVRpbWVUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `91.39% <100.00%> (+1.18%)` | :arrow_up: |\n| [...r/transform/function/ExtractTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vRXh0cmFjdFRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `87.17% <100.00%> (+2.96%)` | :arrow_up: |\n| [...form/function/TimeConversionTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVGltZUNvbnZlcnNpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `100.00% <100.00%> (ø)` | |\n\n... and [184 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10598/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506176771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506711378","html_url":"https://github.com/apache/pinot/pull/10546#issuecomment-1506711378","issue_url":"https://api.github.com/repos/apache/pinot/issues/10546","id":1506711378,"node_id":"IC_kwDOATCU_c5ZzpdS","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T10:14:58Z","updated_at":"2023-04-13T10:14:58Z","author_association":"CONTRIBUTOR","body":"@walterddr raised a fix to improve the error message in case of non-existent table in #10599 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506711378/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506758562","html_url":"https://github.com/apache/pinot/pull/10599#issuecomment-1506758562","issue_url":"https://api.github.com/repos/apache/pinot/issues/10599","id":1506758562,"node_id":"IC_kwDOATCU_c5Zz0-i","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T10:55:10Z","updated_at":"2023-04-16T23:46:49Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10599?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10599](https://codecov.io/gh/apache/pinot/pull/10599?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (73102a6) into [master](https://codecov.io/gh/apache/pinot/commit/0cb456a3b03805dbba5b7b34db7c0d877c08c58d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0cb456a) will **decrease** coverage by `0.01%`.\n> The diff coverage is `71.42%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10599      +/-   ##\n============================================\n- Coverage     70.37%   70.36%   -0.01%     \n- Complexity     6495     6496       +1     \n============================================\n  Files          2106     2106              \n  Lines        113004   113016      +12     \n  Branches      17026    17028       +2     \n============================================\n+ Hits          79521    79526       +5     \n  Misses        27917    27917              \n- Partials       5566     5573       +7     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.43% <71.42%> (-0.11%)` | :arrow_down: |\n| integration2 | `24.10% <0.00%> (+0.09%)` | :arrow_up: |\n| unittests1 | `67.98% <ø> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.89% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...t/controller/api/resources/PinotQueryResource.java](https://codecov.io/gh/apache/pinot/pull/10599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90UXVlcnlSZXNvdXJjZS5qYXZh) | `60.86% <71.42%> (+1.31%)` | :arrow_up: |\n\n... and [30 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10599/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506758562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506760421","html_url":"https://github.com/apache/pinot/issues/10601#issuecomment-1506760421","issue_url":"https://api.github.com/repos/apache/pinot/issues/10601","id":1506760421,"node_id":"IC_kwDOATCU_c5Zz1bl","user":{"login":"elonazoulay","id":1587350,"node_id":"MDQ6VXNlcjE1ODczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1587350?v=4","gravatar_id":"","url":"https://api.github.com/users/elonazoulay","html_url":"https://github.com/elonazoulay","followers_url":"https://api.github.com/users/elonazoulay/followers","following_url":"https://api.github.com/users/elonazoulay/following{/other_user}","gists_url":"https://api.github.com/users/elonazoulay/gists{/gist_id}","starred_url":"https://api.github.com/users/elonazoulay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elonazoulay/subscriptions","organizations_url":"https://api.github.com/users/elonazoulay/orgs","repos_url":"https://api.github.com/users/elonazoulay/repos","events_url":"https://api.github.com/users/elonazoulay/events{/privacy}","received_events_url":"https://api.github.com/users/elonazoulay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T10:56:44Z","updated_at":"2023-04-13T10:56:44Z","author_association":"CONTRIBUTOR","body":"Related to #10600 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506760421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506858024","html_url":"https://github.com/apache/pinot/pull/10602#issuecomment-1506858024","issue_url":"https://api.github.com/repos/apache/pinot/issues/10602","id":1506858024,"node_id":"IC_kwDOATCU_c5Z0NQo","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T12:11:24Z","updated_at":"2023-04-14T00:04:29Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10602](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (35db74a) into [master](https://codecov.io/gh/apache/pinot/commit/0cb456a3b03805dbba5b7b34db7c0d877c08c58d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0cb456a) will **decrease** coverage by `1.82%`.\n> The diff coverage is `71.42%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10602      +/-   ##\n============================================\n- Coverage     70.37%   68.55%   -1.82%     \n+ Complexity     6495     6486       -9     \n============================================\n  Files          2106     2106              \n  Lines        113004   113023      +19     \n  Branches      17026    17028       +2     \n============================================\n- Hits          79521    77487    -2034     \n- Misses        27917    30021    +2104     \n+ Partials       5566     5515      -51     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.59% <71.42%> (+0.05%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `67.97% <0.00%> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.88% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...t/segment/local/data/manager/TableDataManager.java](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kYXRhL21hbmFnZXIvVGFibGVEYXRhTWFuYWdlci5qYXZh) | `0.00% <ø> (ø)` | |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `41.66% <50.00%> (-25.76%)` | :arrow_down: |\n| [...server/starter/helix/HelixInstanceDataManager.java](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXIuamF2YQ==) | `67.91% <57.14%> (-5.66%)` | :arrow_down: |\n| [.../pinot/core/data/manager/BaseTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvQmFzZVRhYmxlRGF0YU1hbmFnZXIuamF2YQ==) | `75.85% <100.00%> (+0.25%)` | :arrow_up: |\n| [.../data/manager/offline/OfflineTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/10602?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvb2ZmbGluZS9PZmZsaW5lVGFibGVEYXRhTWFuYWdlci5qYXZh) | `100.00% <100.00%> (ø)` | |\n\n... and [169 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10602/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1506858024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507196334","html_url":"https://github.com/apache/pinot/issues/10603#issuecomment-1507196334","issue_url":"https://api.github.com/repos/apache/pinot/issues/10603","id":1507196334,"node_id":"IC_kwDOATCU_c5Z1f2u","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T15:44:34Z","updated_at":"2023-04-13T15:44:34Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang  Should we just create a background thread to take care of waiting in the controller because we do need to return some response to the user that deletion is being taken care of and not keep on waiting for X seconds.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507196334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507223775","html_url":"https://github.com/apache/pinot/issues/10603#issuecomment-1507223775","issue_url":"https://api.github.com/repos/apache/pinot/issues/10603","id":1507223775,"node_id":"IC_kwDOATCU_c5Z1mjf","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T16:04:02Z","updated_at":"2023-04-13T16:04:02Z","author_association":"CONTRIBUTOR","body":"cc:@jtao15","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507223775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507300674","html_url":"https://github.com/apache/pinot/issues/10603#issuecomment-1507300674","issue_url":"https://api.github.com/repos/apache/pinot/issues/10603","id":1507300674,"node_id":"IC_kwDOATCU_c5Z15VC","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:00:29Z","updated_at":"2023-04-13T17:00:29Z","author_association":"CONTRIBUTOR","body":"I think we can either:\r\n1. Make it blocking, but client side needs to wait if externalview is slow to converge.\r\n2. As @KKcorps mentioned, create a background job and return the job id to the client. Maybe we need to add a new table deletion api since it's not backward compatible and deprecate the existing one? And add another api to check the job status.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507300674/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507325220","html_url":"https://github.com/apache/pinot/issues/10580#issuecomment-1507325220","issue_url":"https://api.github.com/repos/apache/pinot/issues/10580","id":1507325220,"node_id":"IC_kwDOATCU_c5Z1_Uk","user":{"login":"matthewhelmke","id":660205,"node_id":"MDQ6VXNlcjY2MDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/660205?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewhelmke","html_url":"https://github.com/matthewhelmke","followers_url":"https://api.github.com/users/matthewhelmke/followers","following_url":"https://api.github.com/users/matthewhelmke/following{/other_user}","gists_url":"https://api.github.com/users/matthewhelmke/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewhelmke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewhelmke/subscriptions","organizations_url":"https://api.github.com/users/matthewhelmke/orgs","repos_url":"https://api.github.com/users/matthewhelmke/repos","events_url":"https://api.github.com/users/matthewhelmke/events{/privacy}","received_events_url":"https://api.github.com/users/matthewhelmke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:15:50Z","updated_at":"2023-04-13T17:15:50Z","author_association":"NONE","body":"I'm happy to update the docs once I can connect with @mayankshriv and I can be sure I have the best up-to-date info.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507325220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507359268","html_url":"https://github.com/apache/pinot/issues/10603#issuecomment-1507359268","issue_url":"https://api.github.com/repos/apache/pinot/issues/10603","id":1507359268,"node_id":"IC_kwDOATCU_c5Z2Hok","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:34:35Z","updated_at":"2023-04-13T17:34:47Z","author_association":"CONTRIBUTOR","body":"@jtao15 I am planning to go with background job option because EV convergence can take long especially when upserts are enabled.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507359268/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507410627","html_url":"https://github.com/apache/pinot/pull/10553#issuecomment-1507410627","issue_url":"https://api.github.com/repos/apache/pinot/issues/10553","id":1507410627,"node_id":"IC_kwDOATCU_c5Z2ULD","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T18:11:22Z","updated_at":"2023-04-13T18:11:22Z","author_association":"CONTRIBUTOR","body":"I would like to take a look to the tests tomorrow, but it looks good to me. Let's see what actual committers think about it :)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507410627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507466424","html_url":"https://github.com/apache/pinot/pull/10604#issuecomment-1507466424","issue_url":"https://api.github.com/repos/apache/pinot/issues/10604","id":1507466424,"node_id":"IC_kwDOATCU_c5Z2hy4","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T18:54:51Z","updated_at":"2023-04-21T00:27:26Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10604?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10604](https://codecov.io/gh/apache/pinot/pull/10604?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9733d94) into [master](https://codecov.io/gh/apache/pinot/commit/0cb456a3b03805dbba5b7b34db7c0d877c08c58d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0cb456a) will **decrease** coverage by `9.96%`.\n> The diff coverage is `90.69%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10604      +/-   ##\n============================================\n- Coverage     70.37%   60.41%   -9.96%     \n+ Complexity     6495     5218    -1277     \n============================================\n  Files          2106     2092      -14     \n  Lines        113004   113143     +139     \n  Branches      17026    17074      +48     \n============================================\n- Hits          79521    68356   -11165     \n- Misses        27917    39786   +11869     \n+ Partials       5566     5001     -565     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `23.81% <0.00%> (-0.19%)` | :arrow_down: |\n| unittests1 | `67.89% <90.69%> (-0.09%)` | :arrow_down: |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...form/function/BinaryOperatorTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/10604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmluYXJ5T3BlcmF0b3JUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `70.03% <ø> (-0.30%)` | :arrow_down: |\n| [...tor/transform/function/NotInTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/10604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTm90SW5UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `88.88% <0.00%> (-11.12%)` | :arrow_down: |\n| [...erator/transform/function/InTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/10604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSW5UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `64.82% <92.30%> (+8.28%)` | :arrow_up: |\n| [...ator/transform/function/BaseTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/10604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmFzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `44.54% <100.00%> (-0.63%)` | :arrow_down: |\n\n... and [455 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10604/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507466424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507517125","html_url":"https://github.com/apache/pinot/issues/10603#issuecomment-1507517125","issue_url":"https://api.github.com/repos/apache/pinot/issues/10603","id":1507517125,"node_id":"IC_kwDOATCU_c5Z2uLF","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T19:40:30Z","updated_at":"2023-04-13T19:40:30Z","author_association":"CONTRIBUTOR","body":"Background job sounds good to me. We can build it similar to reload job.\r\nThere is another issue we want to address: we delete segments from deep store and ZK metadata separately. If controller crashes after ZK metadata is deleted, but before segments are deleted, the segments will left orphan, and rerun the table deletion won't be able to find the segments. The fix should be always first delete the segment from deep store, then delete the ZK metadata for each segment","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507517125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507616841","html_url":"https://github.com/apache/pinot/issues/10607#issuecomment-1507616841","issue_url":"https://api.github.com/repos/apache/pinot/issues/10607","id":1507616841,"node_id":"IC_kwDOATCU_c5Z3GhJ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T21:13:02Z","updated_at":"2023-04-13T21:13:02Z","author_association":"CONTRIBUTOR","body":"@jackjlli Can you help take a look? Seems like a bug in minimize data movement when more instances are added","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507616841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507618877","html_url":"https://github.com/apache/pinot/issues/10600#issuecomment-1507618877","issue_url":"https://api.github.com/repos/apache/pinot/issues/10600","id":1507618877,"node_id":"IC_kwDOATCU_c5Z3HA9","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T21:15:11Z","updated_at":"2023-04-13T21:15:11Z","author_association":"CONTRIBUTOR","body":"This issue should be solved with #10444. Can you verify if it works?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507618877/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507619737","html_url":"https://github.com/apache/pinot/issues/10601#issuecomment-1507619737","issue_url":"https://api.github.com/repos/apache/pinot/issues/10601","id":1507619737,"node_id":"IC_kwDOATCU_c5Z3HOZ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T21:16:01Z","updated_at":"2023-04-13T21:16:01Z","author_association":"CONTRIBUTOR","body":"This issue should be solved with #10444. Can you verify if it works?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507619737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507636284","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1507636284","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1507636284,"node_id":"IC_kwDOATCU_c5Z3LQ8","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T21:32:37Z","updated_at":"2023-04-13T21:32:37Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang @walterddr : just fyi, the behavior of like is not compliant with Postgres. LIKE is case sensitive there but in Pinot it is case insensitive.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507636284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507662597","html_url":"https://github.com/apache/pinot/issues/10601#issuecomment-1507662597","issue_url":"https://api.github.com/repos/apache/pinot/issues/10601","id":1507662597,"node_id":"IC_kwDOATCU_c5Z3RsF","user":{"login":"elonazoulay","id":1587350,"node_id":"MDQ6VXNlcjE1ODczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1587350?v=4","gravatar_id":"","url":"https://api.github.com/users/elonazoulay","html_url":"https://github.com/elonazoulay","followers_url":"https://api.github.com/users/elonazoulay/followers","following_url":"https://api.github.com/users/elonazoulay/following{/other_user}","gists_url":"https://api.github.com/users/elonazoulay/gists{/gist_id}","starred_url":"https://api.github.com/users/elonazoulay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elonazoulay/subscriptions","organizations_url":"https://api.github.com/users/elonazoulay/orgs","repos_url":"https://api.github.com/users/elonazoulay/repos","events_url":"https://api.github.com/users/elonazoulay/events{/privacy}","received_events_url":"https://api.github.com/users/elonazoulay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T22:04:11Z","updated_at":"2023-04-13T22:04:11Z","author_association":"CONTRIBUTOR","body":"Awesome! Will do. For the trino connector we will have to wait until the next release though (for the maven artifacts).\r\nThanks @Jackie-Jiang !","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507662597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507662932","html_url":"https://github.com/apache/pinot/issues/10600#issuecomment-1507662932","issue_url":"https://api.github.com/repos/apache/pinot/issues/10600","id":1507662932,"node_id":"IC_kwDOATCU_c5Z3RxU","user":{"login":"elonazoulay","id":1587350,"node_id":"MDQ6VXNlcjE1ODczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1587350?v=4","gravatar_id":"","url":"https://api.github.com/users/elonazoulay","html_url":"https://github.com/elonazoulay","followers_url":"https://api.github.com/users/elonazoulay/followers","following_url":"https://api.github.com/users/elonazoulay/following{/other_user}","gists_url":"https://api.github.com/users/elonazoulay/gists{/gist_id}","starred_url":"https://api.github.com/users/elonazoulay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elonazoulay/subscriptions","organizations_url":"https://api.github.com/users/elonazoulay/orgs","repos_url":"https://api.github.com/users/elonazoulay/repos","events_url":"https://api.github.com/users/elonazoulay/events{/privacy}","received_events_url":"https://api.github.com/users/elonazoulay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T22:04:31Z","updated_at":"2023-04-13T22:04:31Z","author_association":"CONTRIBUTOR","body":"Awesome! Will do:)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507662932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507699125","html_url":"https://github.com/apache/pinot/issues/10566#issuecomment-1507699125","issue_url":"https://api.github.com/repos/apache/pinot/issues/10566","id":1507699125,"node_id":"IC_kwDOATCU_c5Z3am1","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T22:49:07Z","updated_at":"2023-04-13T23:04:05Z","author_association":"CONTRIBUTOR","body":"I took another look, this is not a bug. So the assignment now looks like\r\n| | Replica0 | Replica1 |\r\n| ------------- | ------------- | ------------- |\r\n|Partition 0_0| 8001 (0) | 8005 (1) |\r\n|Partition 0_1| 8004 (1) | 8003 (0) |\r\n|Partition 1_0| 8002 (0) | 8006 (1) |\r\n|Partition 1_1| 8001 (0) | 8005 (1) |\r\n\r\nWhich has FD diversity at each row @soumitra-st ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507699125/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507699824","html_url":"https://github.com/apache/pinot/issues/10607#issuecomment-1507699824","issue_url":"https://api.github.com/repos/apache/pinot/issues/10607","id":1507699824,"node_id":"IC_kwDOATCU_c5Z3axw","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T22:50:16Z","updated_at":"2023-04-13T22:51:20Z","author_association":"MEMBER","body":"Discussed with @priyen offline. The issue was that `numInstancesPerPartition` in the `instanceAssignmentConfigMap` was set to 5, so only 5 instances are retained in the instance partitions mapping, thus only 10 servers out of 30 are selected in total. Setting it to 15 should fix the mapping. I don't think there is any issue in the existing logic for minimize data movement in this case. We can close this issue now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507699824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507710299","html_url":"https://github.com/apache/pinot/issues/10566#issuecomment-1507710299","issue_url":"https://api.github.com/repos/apache/pinot/issues/10566","id":1507710299,"node_id":"IC_kwDOATCU_c5Z3dVb","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T23:02:53Z","updated_at":"2023-04-13T23:02:53Z","author_association":"CONTRIBUTOR","body":"(replica-group: 0, partition: 0) means partition p0_0 and p0_1  in the first rg, which are laid out vertically not horizontally in the above chart.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507710299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507753856","html_url":"https://github.com/apache/pinot/pull/10610#issuecomment-1507753856","issue_url":"https://api.github.com/repos/apache/pinot/issues/10610","id":1507753856,"node_id":"IC_kwDOATCU_c5Z3n-A","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T00:09:13Z","updated_at":"2023-04-14T00:35:34Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10610?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10610](https://codecov.io/gh/apache/pinot/pull/10610?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (916b75a) into [master](https://codecov.io/gh/apache/pinot/commit/0cb456a3b03805dbba5b7b34db7c0d877c08c58d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0cb456a) will **increase** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10610      +/-   ##\n============================================\n+ Coverage     70.37%   70.38%   +0.01%     \n  Complexity     6495     6495              \n============================================\n  Files          2106     2106              \n  Lines        113004   113010       +6     \n  Branches      17026    17027       +1     \n============================================\n+ Hits          79521    79547      +26     \n+ Misses        27917    27887      -30     \n- Partials       5566     5576      +10     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.51% <ø> (-0.02%)` | :arrow_down: |\n| integration2 | `24.08% <ø> (+0.07%)` | :arrow_up: |\n| unittests1 | `67.98% <ø> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.88% <ø> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10610?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...rg/apache/pinot/spi/config/table/UpsertConfig.java](https://codecov.io/gh/apache/pinot/pull/10610?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1Vwc2VydENvbmZpZy5qYXZh) | `84.61% <ø> (+0.40%)` | :arrow_up: |\n\n... and [37 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10610/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507753856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507851543","html_url":"https://github.com/apache/pinot/issues/10611#issuecomment-1507851543","issue_url":"https://api.github.com/repos/apache/pinot/issues/10611","id":1507851543,"node_id":"IC_kwDOATCU_c5Z3_0X","user":{"login":"travis-cook-sfdc","id":119886245,"node_id":"U_kgDOByVRpQ","avatar_url":"https://avatars.githubusercontent.com/u/119886245?v=4","gravatar_id":"","url":"https://api.github.com/users/travis-cook-sfdc","html_url":"https://github.com/travis-cook-sfdc","followers_url":"https://api.github.com/users/travis-cook-sfdc/followers","following_url":"https://api.github.com/users/travis-cook-sfdc/following{/other_user}","gists_url":"https://api.github.com/users/travis-cook-sfdc/gists{/gist_id}","starred_url":"https://api.github.com/users/travis-cook-sfdc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/travis-cook-sfdc/subscriptions","organizations_url":"https://api.github.com/users/travis-cook-sfdc/orgs","repos_url":"https://api.github.com/users/travis-cook-sfdc/repos","events_url":"https://api.github.com/users/travis-cook-sfdc/events{/privacy}","received_events_url":"https://api.github.com/users/travis-cook-sfdc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T02:43:28Z","updated_at":"2023-04-14T02:43:28Z","author_association":"NONE","body":"I spent a little bit more time with this and now understand why 4️⃣ was an issue.\r\n\r\n```java\r\npublic class FileTest {\r\n\r\n    public static void matches(Path path, String glob){\r\n        PathMatcher matcher = FileSystems.getDefault().getPathMatcher(glob);\r\n        System.out.println(matcher.matches(path));\r\n    }\r\n    public static void main(String[] args) throws IOException {\r\n        Path path = Paths.get(\"s3://redactedCompanyName/metrics_rollup_dev/redactedTableName/v/4/ds=2023-03-02/part-00000-d60ed2b8-30cd-4e7c-82e0-309f854991f5.c000.gz.parquet\");\r\n        System.out.println(path.toString());\r\n        matches(path, \"regex:^s3://redactedCompanyName/metrics_rollup_dev/redactedTableName/v/4/ds=(2023-03-02)/.*[.]parquet$\");\r\n        matches(path, \"regex:^s3:/redactedCompanyName/metrics_rollup_dev/redactedTableName/v/4/ds=(2023-03-02)/.*[.]parquet$\");\r\n    }\r\n}\r\n\r\nFileTest.main(new String[] {})\r\n\r\n```\r\n\r\nReturns\r\n```\r\ns3:/redactedCompanyName/metrics_rollup_dev/redactedTableName/v/4/ds=2023-03-02/part-00000-d60ed2b8-30cd-4e7c-82e0-309f854991f5.c000.gz.parquet\r\nfalse\r\ntrue\r\n```\r\n\r\nBecause Pinot regex matches on the Java Path object using `getPathMatcher`, and java path's convert `//` to `/`, it's critical that the regex matches that are sent for ingestion are aware of that fact.\r\n\r\nI think it would be useful to clean up the documentation significantly.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507851543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507864015","html_url":"https://github.com/apache/pinot/pull/10612#issuecomment-1507864015","issue_url":"https://api.github.com/repos/apache/pinot/issues/10612","id":1507864015,"node_id":"IC_kwDOATCU_c5Z4C3P","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T03:02:59Z","updated_at":"2023-04-15T00:31:22Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10612?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10612](https://codecov.io/gh/apache/pinot/pull/10612?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0805990) into [master](https://codecov.io/gh/apache/pinot/commit/13a792f03f267bf53e36fc06340d43d8fc1d7af4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (13a792f) will **increase** coverage by `1.34%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10612      +/-   ##\n============================================\n+ Coverage     69.03%   70.37%   +1.34%     \n+ Complexity     6499     6498       -1     \n============================================\n  Files          2106     2106              \n  Lines        113010   113010              \n  Branches      17027    17027              \n============================================\n+ Hits          78015    79534    +1519     \n+ Misses        29515    27911    -1604     \n- Partials       5480     5565      +85     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.44% <ø> (?)` | |\n| integration2 | `24.09% <ø> (+0.04%)` | :arrow_up: |\n| unittests1 | `68.01% <ø> (-0.02%)` | :arrow_down: |\n| unittests2 | `13.88% <ø> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 158 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10612/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507864015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507933264","html_url":"https://github.com/apache/pinot/pull/10613#issuecomment-1507933264","issue_url":"https://api.github.com/repos/apache/pinot/issues/10613","id":1507933264,"node_id":"IC_kwDOATCU_c5Z4TxQ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T05:12:01Z","updated_at":"2023-05-25T20:16:36Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10613](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (5ec5a99) into [master](https://app.codecov.io/gh/apache/pinot/commit/ded7e8f5ed63dbf41fb1cdff2e6bc86672e496aa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (ded7e8f) will **increase** coverage by `0.01%`.\n> The diff coverage is `55.67%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10613      +/-   ##\n============================================\n+ Coverage     70.26%   70.27%   +0.01%     \n- Complexity     6517     6520       +3     \n============================================\n  Files          2164     2164              \n  Lines        116311   116387      +76     \n  Branches      17590    17620      +30     \n============================================\n+ Hits          81721    81795      +74     \n+ Misses        28874    28860      -14     \n- Partials       5716     5732      +16     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `23.98% <22.68%> (-0.08%)` | :arrow_down: |\n| integration2 | `23.96% <46.39%> (+0.28%)` | :arrow_up: |\n| unittests1 | `67.76% <32.98%> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.65% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...ator/transform/function/CaseTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQ2FzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `46.78% <0.00%> (+0.17%)` | :arrow_up: |\n| [...core/operator/docvalsets/TransformBlockValSet.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1RyYW5zZm9ybUJsb2NrVmFsU2V0LmphdmE=) | `49.69% <43.83%> (-20.12%)` | :arrow_down: |\n| [...e/pinot/core/common/RowBasedBlockValueFetcher.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vUm93QmFzZWRCbG9ja1ZhbHVlRmV0Y2hlci5qYXZh) | `94.11% <80.00%> (-0.89%)` | :arrow_down: |\n| [...che/pinot/core/operator/blocks/TransformBlock.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvVHJhbnNmb3JtQmxvY2suamF2YQ==) | `90.90% <100.00%> (+0.90%)` | :arrow_up: |\n| [...not/core/operator/transform/TransformOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vVHJhbnNmb3JtT3BlcmF0b3IuamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| [...or/transform/function/GroovyTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vR3Jvb3Z5VHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `71.96% <100.00%> (+0.13%)` | :arrow_up: |\n| [...r/transform/function/InIdSetTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSW5JZFNldFRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `48.83% <100.00%> (+1.21%)` | :arrow_up: |\n| [...form/function/JsonExtractKeyTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSnNvbkV4dHJhY3RLZXlUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `82.60% <100.00%> (+0.79%)` | :arrow_up: |\n| [...m/function/JsonExtractScalarTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSnNvbkV4dHJhY3RTY2FsYXJUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `54.22% <100.00%> (+0.16%)` | :arrow_up: |\n| [...or/transform/function/LookupTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTG9va3VwVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `77.48% <100.00%> (+0.11%)` | :arrow_up: |\n| ... and [5 more](https://app.codecov.io/gh/apache/pinot/pull/10613?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | |\n\n... and [39 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10613/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507933264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507945592","html_url":"https://github.com/apache/pinot/pull/10562#issuecomment-1507945592","issue_url":"https://api.github.com/repos/apache/pinot/issues/10562","id":1507945592,"node_id":"IC_kwDOATCU_c5Z4Wx4","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T05:32:10Z","updated_at":"2023-04-14T05:32:10Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/pinot/pull/10562#discussion_r1164780161\r\n\r\nThis will be taken care in another PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507945592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507956471","html_url":"https://github.com/apache/pinot/pull/10604#issuecomment-1507956471","issue_url":"https://api.github.com/repos/apache/pinot/issues/10604","id":1507956471,"node_id":"IC_kwDOATCU_c5Z4Zb3","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T05:50:19Z","updated_at":"2023-04-14T05:50:19Z","author_association":"CONTRIBUTOR","body":"Can we add to comments and PR's description that when we expect null from these functions? \r\n\r\nLet's also mention the design doc and related github issues \r\nNull support issue:\r\nhttps://github.com/apache/pinot/issues/10252\r\n\r\nDesign doc:\r\nhttps://docs.google.com/document/d/1w2eBuZrS73xE2JIw8MYlySy5pNaX9iE8kZr_YAL20CM/edit","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1507956471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1508096820","html_url":"https://github.com/apache/pinot/pull/10614#issuecomment-1508096820","issue_url":"https://api.github.com/repos/apache/pinot/issues/10614","id":1508096820,"node_id":"IC_kwDOATCU_c5Z47s0","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T08:00:05Z","updated_at":"2023-04-18T23:42:23Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10614?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10614](https://codecov.io/gh/apache/pinot/pull/10614?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (827c537) into [master](https://codecov.io/gh/apache/pinot/commit/13a792f03f267bf53e36fc06340d43d8fc1d7af4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (13a792f) will **increase** coverage by `1.36%`.\n> The diff coverage is `70.58%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10614      +/-   ##\n============================================\n+ Coverage     69.03%   70.40%   +1.36%     \n+ Complexity     6499     5629     -870     \n============================================\n  Files          2106     2106              \n  Lines        113010   113674     +664     \n  Branches      17027    17216     +189     \n============================================\n+ Hits          78015    80029    +2014     \n+ Misses        29515    28050    -1465     \n- Partials       5480     5595     +115     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.74% <8.82%> (?)` | |\n| integration2 | `24.08% <8.82%> (+0.03%)` | :arrow_up: |\n| unittests1 | `67.88% <100.00%> (-0.15%)` | :arrow_down: |\n| unittests2 | `14.03% <58.82%> (+0.12%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...pinot/broker/broker/BrokerAdminApiApplication.java](https://codecov.io/gh/apache/pinot/pull/10614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0Jyb2tlckFkbWluQXBpQXBwbGljYXRpb24uamF2YQ==) | `78.48% <20.00%> (-8.48%)` | :arrow_down: |\n| [...ker/broker/BrokerManagedAsyncExecutorProvider.java](https://codecov.io/gh/apache/pinot/pull/10614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0Jyb2tlck1hbmFnZWRBc3luY0V4ZWN1dG9yUHJvdmlkZXIuamF2YQ==) | `90.00% <90.00%> (ø)` | |\n| [...a/org/apache/pinot/common/metrics/BrokerMeter.java](https://codecov.io/gh/apache/pinot/pull/10614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJNZXRlci5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...va/org/apache/pinot/spi/utils/CommonConstants.java](https://codecov.io/gh/apache/pinot/pull/10614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `27.05% <100.00%> (+2.66%)` | :arrow_up: |\n\n... and [183 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10614/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1508096820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1508780627","html_url":"https://github.com/apache/pinot/issues/10607#issuecomment-1508780627","issue_url":"https://api.github.com/repos/apache/pinot/issues/10607","id":1508780627,"node_id":"IC_kwDOATCU_c5Z7ipT","user":{"login":"priyen","id":10234864,"node_id":"MDQ6VXNlcjEwMjM0ODY0","avatar_url":"https://avatars.githubusercontent.com/u/10234864?v=4","gravatar_id":"","url":"https://api.github.com/users/priyen","html_url":"https://github.com/priyen","followers_url":"https://api.github.com/users/priyen/followers","following_url":"https://api.github.com/users/priyen/following{/other_user}","gists_url":"https://api.github.com/users/priyen/gists{/gist_id}","starred_url":"https://api.github.com/users/priyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyen/subscriptions","organizations_url":"https://api.github.com/users/priyen/orgs","repos_url":"https://api.github.com/users/priyen/repos","events_url":"https://api.github.com/users/priyen/events{/privacy}","received_events_url":"https://api.github.com/users/priyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T15:20:11Z","updated_at":"2023-04-14T15:21:58Z","author_association":"CONTRIBUTOR","body":"@jackjlli , I dont think this is desired. Your proposal here of changing numInstancesPerPartition to 15 means every partition is on all 15 servers, which is not the desired case here.\r\n\r\nTake segments 1-15, let's say 1-5 are partition 1, 5-10 are partition 2, 10-15 are partition 3,\r\n\r\nTake current numInstancesPerPartition = 5:\r\nWhat we saw:\r\n10 servers being utilized (5 per replica) out of total 15 / replica.\r\nAll partitions split among those 5 servers / replica, with 10 per replica getting no assignment.\r\n\r\nCorrect behaviour when numInstancesPerPartition = 5\r\ninstances 1-5 => get partition 1's segments\r\ninstances 6-10 => get partition 2's segments\r\ninstances 11-15 => get partition 3's segments.\r\n\r\nIf you change numInstancesPerPartition to 15, all 3 partitions' segments are on all the segments, which is NOT the desired, **we dont want to change numInstancesPerPartition to 15** ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1508780627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1508948736","html_url":"https://github.com/apache/pinot/issues/10607#issuecomment-1508948736","issue_url":"https://api.github.com/repos/apache/pinot/issues/10607","id":1508948736,"node_id":"IC_kwDOATCU_c5Z8LsA","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T16:50:08Z","updated_at":"2023-04-14T16:50:08Z","author_association":"CONTRIBUTOR","body":"@priyen Have you set `numPartitions` in your config? Seems that is missing\r\n\r\n@jackjlli I don't think this is desired behavior as minimize movement causes multiple servers not assigned anything, and if you remove that it flag, all servers are assigned","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1508948736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509049692","html_url":"https://github.com/apache/pinot/pull/10616#issuecomment-1509049692","issue_url":"https://api.github.com/repos/apache/pinot/issues/10616","id":1509049692,"node_id":"IC_kwDOATCU_c5Z8kVc","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T18:18:17Z","updated_at":"2023-04-14T18:18:17Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10616?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10616](https://codecov.io/gh/apache/pinot/pull/10616?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (369c124) into [master](https://codecov.io/gh/apache/pinot/commit/13a792f03f267bf53e36fc06340d43d8fc1d7af4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (13a792f) will **decrease** coverage by `55.15%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10616       +/-   ##\n=============================================\n- Coverage     69.03%   13.88%   -55.15%     \n+ Complexity     6499      439     -6060     \n=============================================\n  Files          2106     2052       -54     \n  Lines        113010   110523     -2487     \n  Branches      17027    16730      -297     \n=============================================\n- Hits          78015    15349    -62666     \n- Misses        29515    93921    +64406     \n+ Partials       5480     1253     -4227     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.88% <ø> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1639 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10616/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509049692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509113652","html_url":"https://github.com/apache/pinot/pull/10604#issuecomment-1509113652","issue_url":"https://api.github.com/repos/apache/pinot/issues/10604","id":1509113652,"node_id":"IC_kwDOATCU_c5Z8z80","user":{"login":"shenyu0127","id":6668780,"node_id":"MDQ6VXNlcjY2Njg3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/6668780?v=4","gravatar_id":"","url":"https://api.github.com/users/shenyu0127","html_url":"https://github.com/shenyu0127","followers_url":"https://api.github.com/users/shenyu0127/followers","following_url":"https://api.github.com/users/shenyu0127/following{/other_user}","gists_url":"https://api.github.com/users/shenyu0127/gists{/gist_id}","starred_url":"https://api.github.com/users/shenyu0127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenyu0127/subscriptions","organizations_url":"https://api.github.com/users/shenyu0127/orgs","repos_url":"https://api.github.com/users/shenyu0127/repos","events_url":"https://api.github.com/users/shenyu0127/events{/privacy}","received_events_url":"https://api.github.com/users/shenyu0127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T19:20:24Z","updated_at":"2023-04-14T19:20:24Z","author_association":"CONTRIBUTOR","body":"> Can we add to comments and PR's description that when we expect null from these functions?\r\n> \r\n> Let's also mention the design doc and related github issues Null support issue: #10252\r\n> \r\n> Design doc: https://docs.google.com/document/d/1w2eBuZrS73xE2JIw8MYlySy5pNaX9iE8kZr_YAL20CM/edit\r\n\r\nDone. (Added the issue in the PR description, which links to the design doc.)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509113652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509178521","html_url":"https://github.com/apache/pinot/pull/10617#issuecomment-1509178521","issue_url":"https://api.github.com/repos/apache/pinot/issues/10617","id":1509178521,"node_id":"IC_kwDOATCU_c5Z9DyZ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T20:06:49Z","updated_at":"2023-04-19T16:25:44Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10617](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (42fcd03) into [master](https://codecov.io/gh/apache/pinot/commit/f2afe21b9962a0d676a7887edc999bcbee6c441d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f2afe21) will **decrease** coverage by `1.43%`.\n> The diff coverage is `86.51%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10617      +/-   ##\n============================================\n- Coverage     70.31%   68.89%   -1.43%     \n  Complexity     6495     6495              \n============================================\n  Files          2106     2106              \n  Lines        113381   113444      +63     \n  Branches      17090    17097       +7     \n============================================\n- Hits          79728    78157    -1571     \n- Misses        28059    29787    +1728     \n+ Partials       5594     5500      -94     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `23.87% <41.57%> (-0.09%)` | :arrow_down: |\n| unittests1 | `67.88% <90.90%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.88% <25.84%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...requesthandler/MultiStageBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvTXVsdGlTdGFnZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `15.67% <0.00%> (-47.30%)` | :arrow_down: |\n| [...t/controller/api/resources/PinotQueryResource.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90UXVlcnlSZXNvdXJjZS5qYXZh) | `41.47% <0.00%> (-19.40%)` | :arrow_down: |\n| [...ache/pinot/query/planner/logical/StagePlanner.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1N0YWdlUGxhbm5lci5qYXZh) | `94.33% <ø> (ø)` | |\n| [.../org/apache/pinot/query/routing/WorkerManager.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9Xb3JrZXJNYW5hZ2VyLmphdmE=) | `86.86% <88.00%> (-0.32%)` | :arrow_down: |\n| [...che/pinot/broker/routing/BrokerRoutingManager.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9Ccm9rZXJSb3V0aW5nTWFuYWdlci5qYXZh) | `73.61% <90.24%> (-12.14%)` | :arrow_down: |\n| [.../java/org/apache/pinot/query/QueryEnvironment.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvUXVlcnlFbnZpcm9ubWVudC5qYXZh) | `93.47% <93.33%> (+0.70%)` | :arrow_up: |\n| [...uery/planner/physical/DispatchablePlanContext.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9EaXNwYXRjaGFibGVQbGFuQ29udGV4dC5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...uery/planner/physical/DispatchablePlanVisitor.java](https://codecov.io/gh/apache/pinot/pull/10617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9EaXNwYXRjaGFibGVQbGFuVmlzaXRvci5qYXZh) | `100.00% <100.00%> (ø)` | |\n\n... and [146 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10617/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509178521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509318317","html_url":"https://github.com/apache/pinot/pull/10617#issuecomment-1509318317","issue_url":"https://api.github.com/repos/apache/pinot/issues/10617","id":1509318317,"node_id":"IC_kwDOATCU_c5Z9l6t","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T21:47:44Z","updated_at":"2023-04-15T02:11:59Z","author_association":"CONTRIBUTOR","body":"I wonder how can the decision always be random ? I mean shouldn't it be deterministic otherwise it won't even work ?\r\n\r\nFor example, if the intermediate stage is running `BROADCAST JOIN` on tables that are in 2 different tenants, then the leaf stage sender should be sending (broadcasting) the right table T1 from tenant1 to instances of left table T2 from tenant2. So here it is clear that intermediate stage (that will run JOIN) will run on the enabled instances of tenant2 ? Is this scenario handled ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509318317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509322526","html_url":"https://github.com/apache/pinot/pull/10617#issuecomment-1509322526","issue_url":"https://api.github.com/repos/apache/pinot/issues/10617","id":1509322526,"node_id":"IC_kwDOATCU_c5Z9m8e","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T21:53:59Z","updated_at":"2023-04-14T21:53:59Z","author_association":"CONTRIBUTOR","body":"More generally speaking -- For the scenario where tables from different tenants (with disjoint instances) are participating in the intermediary stage and it is not clear to the planner where to set up that stage, can we pick a fair share of hosts from each tenant rather that doing complete random otherwise it may end up running completely on the set of hosts belonging to one of the tenants ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509322526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509370845","html_url":"https://github.com/apache/pinot/pull/10617#issuecomment-1509370845","issue_url":"https://api.github.com/repos/apache/pinot/issues/10617","id":1509370845,"node_id":"IC_kwDOATCU_c5Z9yvd","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T22:54:48Z","updated_at":"2023-04-14T22:54:48Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia  The current WorkerAssignment strategy assigns all the servers for intermediate stage processing. The only case where we assign a random server is for SINGLETON (eg: empty over())\r\n\r\nJust to clarify, this PR doesn't modify the intermediate stage's worker assignment strategy. This PR ensures that server hosts outside the tables' tenants are not considered when the worker assignment is done. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509370845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509374058","html_url":"https://github.com/apache/pinot/issues/10606#issuecomment-1509374058","issue_url":"https://api.github.com/repos/apache/pinot/issues/10606","id":1509374058,"node_id":"IC_kwDOATCU_c5Z9zhq","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T22:59:23Z","updated_at":"2023-04-14T22:59:23Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @siddharthteotia I think query events are already tracked at LinkedIn. Can you share how you achieve that and also help review the design?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509374058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509400665","html_url":"https://github.com/apache/pinot/issues/10606#issuecomment-1509400665","issue_url":"https://api.github.com/repos/apache/pinot/issues/10606","id":1509400665,"node_id":"IC_kwDOATCU_c5Z96BZ","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T23:50:38Z","updated_at":"2023-04-14T23:51:14Z","author_association":"CONTRIBUTOR","body":"Right now, we use the query statistics returned from the broker.  Overall, a listener seems to be a good idea. We need to get the schema correctly, so that the result has all the elements we need, whether they be emitted as a result of V1 or V2 engine (in stages). \r\n\r\nEven in V2 engine, we will need the aggregate across all servers on the event emitted in the broker (at least aggregate thread-cpu used across consuming/completed/offline segments, with posibility of adding other things later). So, i assume that even if V2 engine is used, there will be a final event emitted from the broker right? (a cursory look at th edesign doc says it is only emitted from the servers)\r\n\r\n@siddharthteotia , @GSharayu what do you think?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509400665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509404993","html_url":"https://github.com/apache/pinot/issues/10607#issuecomment-1509404993","issue_url":"https://api.github.com/repos/apache/pinot/issues/10607","id":1509404993,"node_id":"IC_kwDOATCU_c5Z97FB","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T23:58:43Z","updated_at":"2023-04-14T23:59:08Z","author_association":"MEMBER","body":"Discussed with @priyen offline. We modified the existing unit test in order to print out the output of the instance partition mapping, and we don't see the scenarios where only partial of the pool are assigned. We suspect that some configs might have been messed up during that time. Based on the output of the edited unit test, we don't see the current algorithm behaves abnormally.  \r\nThe below is the edited unit test:\r\n```\r\n@Test\r\n  public void testPoolBased() {\r\n    // 10 instances in 2 pools, each with 5 instances. Pool 0: 0-4, Pool 1: 5-9\r\n    int numInstances = 10;\r\n    int numPools = 2;\r\n    int numInstancesPerPool = numInstances / numPools;\r\n    int numReplicaGroups = 2;\r\n    List<InstanceConfig> instanceConfigs = new ArrayList<>(numInstances);\r\n    for (int i = 0; i < numInstances; i++) {\r\n      InstanceConfig instanceConfig = new InstanceConfig(SERVER_INSTANCE_ID_PREFIX + i);\r\n      instanceConfig.addTag(OFFLINE_TAG);\r\n      int pool = i / numInstancesPerPool;\r\n      instanceConfig.getRecord()\r\n          .setMapField(InstanceUtils.POOL_KEY, Collections.singletonMap(OFFLINE_TAG, Integer.toString(pool)));\r\n      instanceConfigs.add(instanceConfig);\r\n    }\r\n\r\n    InstanceReplicaGroupPartitionConfig replicaPartitionConfig = new InstanceReplicaGroupPartitionConfig(true, 10, numReplicaGroups, 5, 24, 5, true);\r\n    InstanceTagPoolConfig tagPoolConfig = new InstanceTagPoolConfig(OFFLINE_TAG, true, numPools, null);\r\n    TableConfig tableConfig = new TableConfigBuilder(TableType.OFFLINE).setTableName(RAW_TABLE_NAME)\r\n        .setInstanceAssignmentConfigMap(Collections.singletonMap(InstancePartitionsType.OFFLINE.toString(),\r\n            new InstanceAssignmentConfig(tagPoolConfig, null, replicaPartitionConfig))).build();\r\n    tableConfig.setInstanceAssignmentConfigMap(Collections.singletonMap(InstancePartitionsType.OFFLINE.toString(),\r\n        new InstanceAssignmentConfig(tagPoolConfig, null, replicaPartitionConfig)));\r\n    InstanceAssignmentDriver driver = new InstanceAssignmentDriver(tableConfig);\r\n\r\n    InstancePartitions existingInstancePartitions = null;\r\n    InstancePartitions instancePartitions =\r\n        driver.assignInstances(InstancePartitionsType.OFFLINE, instanceConfigs, existingInstancePartitions);\r\n    assertEquals(instancePartitions.getNumReplicaGroups(), numReplicaGroups);\r\n    assertEquals(instancePartitions.getNumPartitions(), 24);\r\n    System.out.println(instancePartitions);\r\n\r\n    // Now 30 instances in 2 pools, each with 15 instances.  Pool 0: 10-19, Pool 1: 20-29\r\n    numInstances = 30;\r\n    int moreNumInstancesPerPool = 10;\r\n    for (int i = 10; i < numInstances; i++) {\r\n      InstanceConfig instanceConfig = new InstanceConfig(SERVER_INSTANCE_ID_PREFIX + i);\r\n      instanceConfig.addTag(OFFLINE_TAG);\r\n      int pool = (i - 10) / moreNumInstancesPerPool;\r\n      instanceConfig.getRecord()\r\n          .setMapField(InstanceUtils.POOL_KEY, Collections.singletonMap(OFFLINE_TAG, Integer.toString(pool)));\r\n      instanceConfigs.add(instanceConfig);\r\n    }\r\n\r\n    replicaPartitionConfig = new InstanceReplicaGroupPartitionConfig(true, 30, numReplicaGroups, 15, 24, 5, true);\r\n    tableConfig.setInstanceAssignmentConfigMap(Collections.singletonMap(InstancePartitionsType.OFFLINE.toString(),\r\n        new InstanceAssignmentConfig(tagPoolConfig, null, replicaPartitionConfig)));\r\n    driver = new InstanceAssignmentDriver(tableConfig);\r\n    instancePartitions =\r\n        driver.assignInstances(InstancePartitionsType.OFFLINE, instanceConfigs, existingInstancePartitions);\r\n    assertEquals(instancePartitions.getNumReplicaGroups(), numReplicaGroups);\r\n    assertEquals(instancePartitions.getNumPartitions(), 24);\r\n    System.out.println(instancePartitions);\r\n  }\r\n```\r\nSince there is no issue found out from the tests, I don't think it's worthy of keeping this issue open. I'll close this issue for now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509404993/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509407442","html_url":"https://github.com/apache/pinot/issues/10606#issuecomment-1509407442","issue_url":"https://api.github.com/repos/apache/pinot/issues/10606","id":1509407442,"node_id":"IC_kwDOATCU_c5Z97rS","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T00:02:34Z","updated_at":"2023-04-15T00:02:34Z","author_association":"CONTRIBUTOR","body":"There'll be events emitted in both brokers and servers.\r\n\r\nOur goal is to make it very flexible: some users may only be interested in broker events, some may be interested in both broker and server events, so we'll have separate interfaces for these and users can plug in howsoever they wish.\r\n\r\nThe interface can take in the query-info in a dedicated POJO, which can make it easy to add more details later without having to worry about backwards incompatibility. e.g. `BrokerQueryEventInfo::trigger(QueryInfo)`.\r\n\r\n`QueryInfo` here may be something like:\r\n\r\n```\r\nQueryInfo {\r\nprivate String _sqlQuery;\r\nprivate long _requestId;\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509407442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509468679","html_url":"https://github.com/apache/pinot/pull/10617#issuecomment-1509468679","issue_url":"https://api.github.com/repos/apache/pinot/issues/10617","id":1509468679,"node_id":"IC_kwDOATCU_c5Z-KoH","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T02:10:53Z","updated_at":"2023-04-15T02:10:53Z","author_association":"CONTRIBUTOR","body":"> @siddharthteotia The current WorkerAssignment strategy assigns all the servers for intermediate stage processing. The only case where we assign a random server is for SINGLETON (eg: empty over())\r\n> \r\n> Just to clarify, this PR doesn't modify the intermediate stage's worker assignment strategy. This PR ensures that server hosts outside the tables' tenants are not considered when the worker assignment is done.\r\n\r\nYes I am aligned on the scope of this PR.  What I was asking especially for the broadcast join scenario must be done as a follow-up to improve the strategy itself imo. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509468679/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509726154","html_url":"https://github.com/apache/pinot/pull/10620#issuecomment-1509726154","issue_url":"https://api.github.com/repos/apache/pinot/issues/10620","id":1509726154,"node_id":"IC_kwDOATCU_c5Z_JfK","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T10:53:23Z","updated_at":"2023-04-18T13:26:31Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10620?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10620](https://codecov.io/gh/apache/pinot/pull/10620?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d48e56) into [master](https://codecov.io/gh/apache/pinot/commit/44fe6940e19cbf29d2f5f606124c2f6b77e85360?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (44fe694) will **increase** coverage by `42.61%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10620       +/-   ##\n=============================================\n+ Coverage     27.79%   70.40%   +42.61%     \n- Complexity       58     6509     +6451     \n=============================================\n  Files          2090     2106       +16     \n  Lines        112648   113079      +431     \n  Branches      16988    17043       +55     \n=============================================\n+ Hits          31307    79616    +48309     \n+ Misses        78232    27878    -50354     \n- Partials       3109     5585     +2476     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.39% <0.00%> (-0.19%)` | :arrow_down: |\n| integration2 | `24.08% <0.00%> (+0.11%)` | :arrow_up: |\n| unittests1 | `68.01% <100.00%> (?)` | |\n| unittests2 | `13.88% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10620?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...me/impl/invertedindex/RealtimeLuceneTextIndex.java](https://codecov.io/gh/apache/pinot/pull/10620?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2ludmVydGVkaW5kZXgvUmVhbHRpbWVMdWNlbmVUZXh0SW5kZXguamF2YQ==) | `65.51% <100.00%> (+65.51%)` | :arrow_up: |\n\n... and [1480 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10620/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509726154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509869802","html_url":"https://github.com/apache/pinot/pull/10620#issuecomment-1509869802","issue_url":"https://api.github.com/repos/apache/pinot/issues/10620","id":1509869802,"node_id":"IC_kwDOATCU_c5Z_sjq","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T15:19:37Z","updated_at":"2023-04-15T15:19:37Z","author_association":"CONTRIBUTOR","body":"Any performance numbers to share, given that this can lead to high thread contention for high throughput use cases?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509869802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509884791","html_url":"https://github.com/apache/pinot/pull/10620#issuecomment-1509884791","issue_url":"https://api.github.com/repos/apache/pinot/issues/10620","id":1509884791,"node_id":"IC_kwDOATCU_c5Z_wN3","user":{"login":"INNOCENT-BOY","id":38196564,"node_id":"MDQ6VXNlcjM4MTk2NTY0","avatar_url":"https://avatars.githubusercontent.com/u/38196564?v=4","gravatar_id":"","url":"https://api.github.com/users/INNOCENT-BOY","html_url":"https://github.com/INNOCENT-BOY","followers_url":"https://api.github.com/users/INNOCENT-BOY/followers","following_url":"https://api.github.com/users/INNOCENT-BOY/following{/other_user}","gists_url":"https://api.github.com/users/INNOCENT-BOY/gists{/gist_id}","starred_url":"https://api.github.com/users/INNOCENT-BOY/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INNOCENT-BOY/subscriptions","organizations_url":"https://api.github.com/users/INNOCENT-BOY/orgs","repos_url":"https://api.github.com/users/INNOCENT-BOY/repos","events_url":"https://api.github.com/users/INNOCENT-BOY/events{/privacy}","received_events_url":"https://api.github.com/users/INNOCENT-BOY/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T16:14:51Z","updated_at":"2023-04-15T16:14:51Z","author_association":"CONTRIBUTOR","body":"@mayankshriv Hi we haven't have any test numbers now，but we used the same lock with other index，such as inverted index that submitted by @Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509884791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509936302","html_url":"https://github.com/apache/pinot/issues/10608#issuecomment-1509936302","issue_url":"https://api.github.com/repos/apache/pinot/issues/10608","id":1509936302,"node_id":"IC_kwDOATCU_c5Z_8yu","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T19:22:26Z","updated_at":"2023-04-15T19:22:26Z","author_association":"CONTRIBUTOR","body":"I would like to try if no one is working on this. Thanks. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509936302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509936501","html_url":"https://github.com/apache/pinot/issues/10567#issuecomment-1509936501","issue_url":"https://api.github.com/repos/apache/pinot/issues/10567","id":1509936501,"node_id":"IC_kwDOATCU_c5Z_811","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T19:23:40Z","updated_at":"2023-04-15T19:23:40Z","author_association":"CONTRIBUTOR","body":"First [PR](https://github.com/apache/pinot/pull/10612) of the cleanup.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1509936501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1510421762","html_url":"https://github.com/apache/pinot/pull/10620#issuecomment-1510421762","issue_url":"https://api.github.com/repos/apache/pinot/issues/10620","id":1510421762,"node_id":"IC_kwDOATCU_c5aBzUC","user":{"login":"INNOCENT-BOY","id":38196564,"node_id":"MDQ6VXNlcjM4MTk2NTY0","avatar_url":"https://avatars.githubusercontent.com/u/38196564?v=4","gravatar_id":"","url":"https://api.github.com/users/INNOCENT-BOY","html_url":"https://github.com/INNOCENT-BOY","followers_url":"https://api.github.com/users/INNOCENT-BOY/followers","following_url":"https://api.github.com/users/INNOCENT-BOY/following{/other_user}","gists_url":"https://api.github.com/users/INNOCENT-BOY/gists{/gist_id}","starred_url":"https://api.github.com/users/INNOCENT-BOY/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INNOCENT-BOY/subscriptions","organizations_url":"https://api.github.com/users/INNOCENT-BOY/orgs","repos_url":"https://api.github.com/users/INNOCENT-BOY/repos","events_url":"https://api.github.com/users/INNOCENT-BOY/events{/privacy}","received_events_url":"https://api.github.com/users/INNOCENT-BOY/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-16T16:05:57Z","updated_at":"2023-04-16T16:12:00Z","author_association":"CONTRIBUTOR","body":"> The fix looks good. Have you verified this in your environment?\r\n\r\nHi @Jackie-Jiang ,although i tried some ways to add readwritelock to lucenetextindex,  it doesn't work.  Currently the only way to avoid generating parseException is to add ReentrantLock. I have tested it in our lab env, it behaves as usual. I will continue to test this modification in our beta env and production env. Meanwhile I will continue to debug why readwritelock won't work. And If you have any good idea, please let me know.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1510421762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1510775641","html_url":"https://github.com/apache/pinot/pull/10553#issuecomment-1510775641","issue_url":"https://api.github.com/repos/apache/pinot/issues/10553","id":1510775641,"node_id":"IC_kwDOATCU_c5aDJtZ","user":{"login":"saurabhd336","id":7672118,"node_id":"MDQ6VXNlcjc2NzIxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7672118?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhd336","html_url":"https://github.com/saurabhd336","followers_url":"https://api.github.com/users/saurabhd336/followers","following_url":"https://api.github.com/users/saurabhd336/following{/other_user}","gists_url":"https://api.github.com/users/saurabhd336/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhd336/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhd336/subscriptions","organizations_url":"https://api.github.com/users/saurabhd336/orgs","repos_url":"https://api.github.com/users/saurabhd336/repos","events_url":"https://api.github.com/users/saurabhd336/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhd336/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T06:24:46Z","updated_at":"2023-04-17T06:24:46Z","author_association":"CONTRIBUTOR","body":"@klsince Is there a reason we're not setting `_tableConfig` to the TableConfigUtils.overwriteTableConfigForTier(_tableConfig, _segmentTier) inside IndexLoadingConfig?\r\nIs there a reason we'd want to preserve original tableConfig?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1510775641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511134948","html_url":"https://github.com/apache/pinot/pull/10622#issuecomment-1511134948","issue_url":"https://api.github.com/repos/apache/pinot/issues/10622","id":1511134948,"node_id":"IC_kwDOATCU_c5aEhbk","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T11:03:32Z","updated_at":"2023-05-03T17:37:48Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10622](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (767b1c1) into [master](https://app.codecov.io/gh/apache/pinot/commit/cad764dcbe8793f7fb1cbec37051c27a753e4f30?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (cad764d) will **decrease** coverage by `0.04%`.\n> The diff coverage is `70.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10622      +/-   ##\n============================================\n- Coverage     70.32%   70.28%   -0.04%     \n+ Complexity     6429     5642     -787     \n============================================\n  Files          2112     2116       +4     \n  Lines        114056   114143      +87     \n  Branches      17226    17240      +14     \n============================================\n+ Hits          80213    80230      +17     \n- Misses        28244    28310      +66     \n- Partials       5599     5603       +4     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.28% <0.00%> (-0.07%)` | :arrow_down: |\n| integration2 | `23.86% <0.00%> (-0.17%)` | :arrow_down: |\n| unittests1 | `67.84% <70.00%> (+0.01%)` | :arrow_up: |\n| unittests2 | `13.81% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../pinot/query/runtime/operator/utils/SortUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci91dGlscy9Tb3J0VXRpbHMuamF2YQ==) | `66.66% <0.00%> (-33.34%)` | :arrow_down: |\n| [...t/query/runtime/plan/ServerRequestPlanVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1NlcnZlclJlcXVlc3RQbGFuVmlzaXRvci5qYXZh) | `85.47% <0.00%> (-0.74%)` | :arrow_down: |\n| [...ache/pinot/query/runtime/operator/SetOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9TZXRPcGVyYXRvci5qYXZh) | `76.08% <76.08%> (ø)` | |\n| [.../pinot/query/runtime/plan/PhysicalPlanVisitor.java](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1BoeXNpY2FsUGxhblZpc2l0b3IuamF2YQ==) | `94.82% <84.61%> (+1.21%)` | :arrow_up: |\n| [...he/pinot/query/runtime/operator/UnionOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9Vbmlvbk9wZXJhdG9yLmphdmE=) | `90.00% <90.00%> (ø)` | |\n| [...inot/query/runtime/operator/IntersectOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9JbnRlcnNlY3RPcGVyYXRvci5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...he/pinot/query/runtime/operator/MinusOperator.java](https://app.codecov.io/gh/apache/pinot/pull/10622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NaW51c09wZXJhdG9yLmphdmE=) | `100.00% <100.00%> (ø)` | |\n\n... and [34 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10622/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511134948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511206505","html_url":"https://github.com/apache/pinot/pull/10624#issuecomment-1511206505","issue_url":"https://api.github.com/repos/apache/pinot/issues/10624","id":1511206505,"node_id":"IC_kwDOATCU_c5aEy5p","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T11:59:47Z","updated_at":"2023-04-17T12:04:45Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10624?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10624](https://codecov.io/gh/apache/pinot/pull/10624?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c83d3c0) into [master](https://codecov.io/gh/apache/pinot/commit/c7e05a7b58f5435080ab26e9ef8888e2b07dd974?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c7e05a7) will **increase** coverage by `40.88%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10624       +/-   ##\n=============================================\n+ Coverage     27.66%   68.54%   +40.88%     \n- Complexity       58     6486     +6428     \n=============================================\n  Files          2090     2106       +16     \n  Lines        112578   113010      +432     \n  Branches      16972    17027       +55     \n=============================================\n+ Hits          31145    77467    +46322     \n+ Misses        78333    30033    -48300     \n- Partials       3100     5510     +2410     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.49% <ø> (+0.03%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `67.98% <ø> (?)` | |\n| unittests2 | `13.88% <ø> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 1562 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10624/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511206505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511216924","html_url":"https://github.com/apache/pinot/pull/10625#issuecomment-1511216924","issue_url":"https://api.github.com/repos/apache/pinot/issues/10625","id":1511216924,"node_id":"IC_kwDOATCU_c5aE1cc","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T12:06:15Z","updated_at":"2023-04-19T22:13:55Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10625](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (25ebf03) into [master](https://codecov.io/gh/apache/pinot/commit/0cb456a3b03805dbba5b7b34db7c0d877c08c58d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0cb456a) will **decrease** coverage by `0.05%`.\n> The diff coverage is `73.36%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10625      +/-   ##\n============================================\n- Coverage     70.37%   70.32%   -0.05%     \n- Complexity     6495     6498       +3     \n============================================\n  Files          2106     2108       +2     \n  Lines        113004   113638     +634     \n  Branches      17026    17126     +100     \n============================================\n+ Hits          79521    79918     +397     \n- Misses        27917    28113     +196     \n- Partials       5566     5607      +41     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.41% <21.19%> (-0.13%)` | :arrow_down: |\n| integration2 | `24.02% <22.28%> (+0.01%)` | :arrow_up: |\n| unittests1 | `67.89% <0.00%> (-0.09%)` | :arrow_down: |\n| unittests2 | `13.99% <70.10%> (+0.09%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ommon/messages/TableDeletionControllerMessage.java](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvVGFibGVEZWxldGlvbkNvbnRyb2xsZXJNZXNzYWdlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...apache/pinot/controller/BaseControllerStarter.java](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9CYXNlQ29udHJvbGxlclN0YXJ0ZXIuamF2YQ==) | `82.93% <ø> (ø)` | |\n| [...er/ControllerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyVXNlckRlZmluZWRNZXNzYWdlSGFuZGxlckZhY3RvcnkuamF2YQ==) | `43.20% <70.00%> (+26.54%)` | :arrow_up: |\n| [...oller/api/resources/PinotTableRestletResource.java](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | `54.58% <73.68%> (+1.38%)` | :arrow_up: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `71.62% <95.52%> (+0.67%)` | :arrow_up: |\n| [...mmon/metadata/controllerjob/ControllerJobType.java](https://codecov.io/gh/apache/pinot/pull/10625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvY29udHJvbGxlcmpvYi9Db250cm9sbGVySm9iVHlwZS5qYXZh) | `100.00% <100.00%> (ø)` | |\n\n... and [85 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10625/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511216924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511645897","html_url":"https://github.com/apache/pinot/issues/10550#issuecomment-1511645897","issue_url":"https://api.github.com/repos/apache/pinot/issues/10550","id":1511645897,"node_id":"IC_kwDOATCU_c5aGeLJ","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T15:57:49Z","updated_at":"2023-04-17T15:57:49Z","author_association":"CONTRIBUTOR","body":"On a related note - I was recently looking into index auto tuning (eg: dictionary overrides), specifically **optimizeDictionaryForMetrics**, mentioned in this doc. Perhaps these types of auto tuning logic (to enable/disable) should also belong to IndexType interface ? \r\nhttps://docs.pinot.apache.org/configuration-reference/table#table-index-config","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511645897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511651452","html_url":"https://github.com/apache/pinot/issues/10467#issuecomment-1511651452","issue_url":"https://api.github.com/repos/apache/pinot/issues/10467","id":1511651452,"node_id":"IC_kwDOATCU_c5aGfh8","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T15:59:35Z","updated_at":"2023-04-17T15:59:35Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang we saw a case today where the `_tmp` folder created was huge in size (~60% disk size) and the total disk usage went up to 100%. The server crashed and during restart tries as the disk size was full, the server was unable to come back up. This led to the `_tmp` folder not getting deleted because of this change and we had to manually delete the folder to bring the server back up. \r\nAny idea why we are seeing such huge `_tmp` folder sizes? I don't find anything suspicious from the logs. And how can we make sure that if segment seal fails or something, there is a proper cleanup of `_tmp` folder.\r\nPS: `_tmp` folder is not even reported in size on Pinot controller UI so debugging the right table responsible for high disk usage becomes tedious.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511651452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511683058","html_url":"https://github.com/apache/pinot/issues/10550#issuecomment-1511683058","issue_url":"https://api.github.com/repos/apache/pinot/issues/10550","id":1511683058,"node_id":"IC_kwDOATCU_c5aGnPy","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T16:13:13Z","updated_at":"2023-04-17T16:13:13Z","author_association":"CONTRIBUTOR","body":"Related to what @swaminathanmanish said, I've been working on some changes related to the index documentation. You can find the changes [here](https://github.com/pinot-contrib/pinot-docs/pull/162).\r\n\r\nWe could move that logic into the dictionary index. But right now the logic applies to all columns. The index configuration is column specific. I think an option like `optimizeDictionaryForMetrics` should be configured per column (I think it makes sense to do not use the same value for all columns), so we could move it there.\r\n\r\nBut right now there is no way to use the new index configuration objects to configure a property on all columns","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511683058/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511714710","html_url":"https://github.com/apache/pinot/issues/9971#issuecomment-1511714710","issue_url":"https://api.github.com/repos/apache/pinot/issues/9971","id":1511714710,"node_id":"IC_kwDOATCU_c5aGu-W","user":{"login":"t0mpere","id":24777707,"node_id":"MDQ6VXNlcjI0Nzc3NzA3","avatar_url":"https://avatars.githubusercontent.com/u/24777707?v=4","gravatar_id":"","url":"https://api.github.com/users/t0mpere","html_url":"https://github.com/t0mpere","followers_url":"https://api.github.com/users/t0mpere/followers","following_url":"https://api.github.com/users/t0mpere/following{/other_user}","gists_url":"https://api.github.com/users/t0mpere/gists{/gist_id}","starred_url":"https://api.github.com/users/t0mpere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t0mpere/subscriptions","organizations_url":"https://api.github.com/users/t0mpere/orgs","repos_url":"https://api.github.com/users/t0mpere/repos","events_url":"https://api.github.com/users/t0mpere/events{/privacy}","received_events_url":"https://api.github.com/users/t0mpere/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T16:36:53Z","updated_at":"2023-04-17T16:36:53Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/pinot/pull/10328 This functionality was implemented here :) ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511714710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511740475","html_url":"https://github.com/apache/pinot/pull/10623#issuecomment-1511740475","issue_url":"https://api.github.com/repos/apache/pinot/issues/10623","id":1511740475,"node_id":"IC_kwDOATCU_c5aG1Q7","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T16:54:55Z","updated_at":"2023-04-17T16:54:55Z","author_association":"CONTRIBUTOR","body":"What is this \"new format\"? Is there a document on this? Or, at least a description in the PR? If we are versioning the tableconfig, then let us use version numbers instead of \"old\" and \"new\" (and sometime later \"newer\" ) formats.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1511740475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]