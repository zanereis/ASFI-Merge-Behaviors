[{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498519175","html_url":"https://github.com/apache/openwhisk/pull/4499#issuecomment-498519175","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4499","id":498519175,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODUxOTE3NQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T04:45:26Z","updated_at":"2019-06-04T04:45:26Z","author_association":"MEMBER","body":"My response was more related to sclafmt discussion ... did not realized that you were trying to figure out the build failure root cause. For this PR the build is failing due to a [test][1] which fails intermittently and not related to your changes.\r\n\r\nI have restarted the build. If you see failure unrelated to your change then try closing and reopening the PR as that would cause travis to retrigger the build\r\n\r\n[1]: https://scans.gradle.com/s/vi47kj5lb5rno/tests/failed","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498519175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498621171","html_url":"https://github.com/apache/openwhisk/pull/4505#issuecomment-498621171","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4505","id":498621171,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODYyMTE3MQ==","user":{"login":"dragos","id":133742,"node_id":"MDQ6VXNlcjEzMzc0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/133742?v=4","gravatar_id":"","url":"https://api.github.com/users/dragos","html_url":"https://github.com/dragos","followers_url":"https://api.github.com/users/dragos/followers","following_url":"https://api.github.com/users/dragos/following{/other_user}","gists_url":"https://api.github.com/users/dragos/gists{/gist_id}","starred_url":"https://api.github.com/users/dragos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragos/subscriptions","organizations_url":"https://api.github.com/users/dragos/orgs","repos_url":"https://api.github.com/users/dragos/repos","events_url":"https://api.github.com/users/dragos/events{/privacy}","received_events_url":"https://api.github.com/users/dragos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T10:48:53Z","updated_at":"2019-06-04T10:48:53Z","author_association":"CONTRIBUTOR","body":"Sorry about the formatting issue. I force-pushed a fix.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498621171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498621446","html_url":"https://github.com/apache/openwhisk/pull/4505#issuecomment-498621446","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4505","id":498621446,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODYyMTQ0Ng==","user":{"login":"dragos","id":133742,"node_id":"MDQ6VXNlcjEzMzc0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/133742?v=4","gravatar_id":"","url":"https://api.github.com/users/dragos","html_url":"https://github.com/dragos","followers_url":"https://api.github.com/users/dragos/followers","following_url":"https://api.github.com/users/dragos/following{/other_user}","gists_url":"https://api.github.com/users/dragos/gists{/gist_id}","starred_url":"https://api.github.com/users/dragos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragos/subscriptions","organizations_url":"https://api.github.com/users/dragos/orgs","repos_url":"https://api.github.com/users/dragos/repos","events_url":"https://api.github.com/users/dragos/events{/privacy}","received_events_url":"https://api.github.com/users/dragos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T10:49:54Z","updated_at":"2019-06-04T10:49:54Z","author_association":"CONTRIBUTOR","body":"I have a [few contributions to Apache Spark](https://github.com/apache/spark/pulls?q=is%3Apr+author%3Adragos+is%3Aclosed), but I can't find a confirmation of having signed the CLA, though I'm pretty sure it should be somewhere.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498621446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498623350","html_url":"https://github.com/apache/openwhisk/pull/4505#issuecomment-498623350","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4505","id":498623350,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODYyMzM1MA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T10:56:56Z","updated_at":"2019-06-04T10:56:56Z","author_association":"MEMBER","body":"Thanks @dragos and @dotta for these fixes and the background links. For the `Exec` related change, it looks like the offending issue is this reference to the object from outside the `core` package:\r\n\r\nhttps://github.com/apache/incubator-openwhisk/blob/0ffc98352ff87542d4a36cc1e2561bfa8a260784/tests/src/test/scala/actionContainers/ActionContainer.scala#L66\r\n\r\nDo you know if there are any other references? (I crudely searched for `Exec.` in `tests)","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498623350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498625952","html_url":"https://github.com/apache/openwhisk/pull/4505#issuecomment-498625952","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4505","id":498625952,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODYyNTk1Mg==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T11:06:16Z","updated_at":"2019-06-04T11:06:16Z","author_association":"MEMBER","body":"@dragos sorry it appears we both fixed the formatting error. I restarted the Travis build. I did not find a CLA although this change is small enough that it's fine. For reference I looked here http://people.apache.org/unlistedclas.html and here http://people.apache.org/committer-index.html.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498625952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498627192","html_url":"https://github.com/apache/openwhisk/pull/4494#issuecomment-498627192","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4494","id":498627192,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODYyNzE5Mg==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T11:10:43Z","updated_at":"2019-06-04T11:10:43Z","author_association":"MEMBER","body":"@SugandhaAgrawal any luck adding a test for this fix?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498627192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498638512","html_url":"https://github.com/apache/openwhisk/pull/4505#issuecomment-498638512","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4505","id":498638512,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODYzODUxMg==","user":{"login":"dragos","id":133742,"node_id":"MDQ6VXNlcjEzMzc0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/133742?v=4","gravatar_id":"","url":"https://api.github.com/users/dragos","html_url":"https://github.com/dragos","followers_url":"https://api.github.com/users/dragos/followers","following_url":"https://api.github.com/users/dragos/following{/other_user}","gists_url":"https://api.github.com/users/dragos/gists{/gist_id}","starred_url":"https://api.github.com/users/dragos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragos/subscriptions","organizations_url":"https://api.github.com/users/dragos/orgs","repos_url":"https://api.github.com/users/dragos/repos","events_url":"https://api.github.com/users/dragos/events{/privacy}","received_events_url":"https://api.github.com/users/dragos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T11:50:01Z","updated_at":"2019-06-04T11:50:01Z","author_association":"CONTRIBUTOR","body":"Thanks @rabbah! That's indeed the only reference I could find for `Exec`.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498638512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498645600","html_url":"https://github.com/apache/openwhisk/pull/4505#issuecomment-498645600","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4505","id":498645600,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODY0NTYwMA==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T12:13:28Z","updated_at":"2019-06-04T12:13:28Z","author_association":"MEMBER","body":"Thanks @dragos and @dotta for the fixes. Intellij is now all green !!","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498645600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498677541","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-498677541","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":498677541,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODY3NzU0MQ==","user":{"login":"axiqia","id":22564578,"node_id":"MDQ6VXNlcjIyNTY0NTc4","avatar_url":"https://avatars.githubusercontent.com/u/22564578?v=4","gravatar_id":"","url":"https://api.github.com/users/axiqia","html_url":"https://github.com/axiqia","followers_url":"https://api.github.com/users/axiqia/followers","following_url":"https://api.github.com/users/axiqia/following{/other_user}","gists_url":"https://api.github.com/users/axiqia/gists{/gist_id}","starred_url":"https://api.github.com/users/axiqia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/axiqia/subscriptions","organizations_url":"https://api.github.com/users/axiqia/orgs","repos_url":"https://api.github.com/users/axiqia/repos","events_url":"https://api.github.com/users/axiqia/events{/privacy}","received_events_url":"https://api.github.com/users/axiqia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T13:44:01Z","updated_at":"2019-06-04T13:46:09Z","author_association":"CONTRIBUTOR","body":"Dear all，\r\nI met the issue again! \r\n\r\nWhen I ran openwhisk.yml, it failed by `Connection refused`.\r\n```\r\nAILED - RETRYING: wait until the Controller in this host is up and running (4 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (3 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (2 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (1 retries left).\r\nfatal: [controller0]: FAILED! => {\"attempts\": 12, \"changed\": false, \"content\": \"\", \"msg\": \"Status code was -1 and not [200]: Request failed: <urlopen error [Errno 111] Connection refused>\", \"redirected\": false, \"status\": -1, \"url\": \"https://172.17.0.1:10001/ping\"}\r\n\r\nStatus code was -1 and not [200]: Request failed: <urlopen error [Errno\r\n111] Connection refused>\r\n\r\nPLAY RECAP ****************************************************************************************************************************************************************************\r\ncontroller0                : ok=25   changed=7    unreachable=0    failed=1\r\nkafka0                     : ok=11   changed=5    unreachable=0    failed=0\r\n\r\n```\r\n\r\n\r\nSo I checked the log file immediately, and there is no error. As you can see, the log timestamp stoped at 13:17:47.\r\n```\r\n.........\r\n[2019-06-04T13:16:21.424Z] [INFO] [#tid_sid_unknown] [Config] environment set value for limits.actions.sequence.maxLength\r\n[2019-06-04T13:16:21.424Z] [INFO] [#tid_sid_unknown] [Config] environment set value for limits.actions.invokes.concurrent\r\n[2019-06-04T13:16:21.425Z] [INFO] [#tid_sid_unknown] [Config] environment set value for controller.instances\r\n[2019-06-04T13:16:21.425Z] [INFO] [#tid_sid_unknown] [Config] environment set value for limits.actions.invokes.perMinute\r\n[2019-06-04T13:16:21.425Z] [INFO] [#tid_sid_unknown] [Config] environment set value for runtimes.manifest\r\n[2019-06-04T13:16:21.426Z] [INFO] [#tid_sid_unknown] [Config] environment set value for kafka.hosts\r\n[2019-06-04T13:16:21.426Z] [INFO] [#tid_sid_unknown] [Config] environment set value for port\r\n[2019-06-04T13:16:28.344Z] [INFO] [#tid_sid_unknown] [KafkaMessagingProvider] created topic completed0\r\n[2019-06-04T13:16:56.275Z] [INFO] [#tid_sid_unknown] [KafkaMessagingProvider] created topic health\r\n[2019-06-04T13:17:47.819Z] [INFO] [#tid_sid_unknown] [KafkaMessagingProvider] created topic cacheInvalidation\r\n\r\n```\r\n\r\n\r\nBut five minutes later, I checked the log file again, and it contained more information as below.\r\n\r\n```\r\n[2019-06-04T13:19:47.953Z] [WARN] [#tid_sid_unknown] [KafkaMessagingProvider] topic events could not be created because of org.apache.kafka.common.errors.TimeoutException: The request timed out., retries left: 5\r\n[2019-06-04T13:20:31.962Z] [INFO] [#tid_sid_unknown] [KafkaMessagingProvider] topic events already existed\r\n[2019-06-04T13:20:32.200Z] [INFO] [#tid_sid_controller] [Controller] starting controller instance 0 [marker:controller_startup0_counter:250778]\r\n[2019-06-04T13:20:32.201Z] [INFO] Starting the Kamon(SystemMetrics) module\r\n[2019-06-04T13:20:32.968Z] [INFO] [#tid_sid_dispatcher] [MessageFeed] handler capacity = 128, pipeline fill at = 128, pipeline depth = 256\r\n[2019-06-04T13:20:33.113Z] [INFO] [#tid_sid_loadbalancer] [ShardingContainerPoolBalancerState] managedFraction = 0.9, blackboxFraction = 0.1\r\n[2019-06-04T13:20:33.141Z] [INFO] [#tid_sid_dispatcher] [MessageFeed] handler capacity = 128, pipeline fill at = 128, pipeline depth = 256\r\n[2019-06-04T13:20:33.407Z] [INFO] [#tid_sid_loadbalancer] [WhiskAction] [GET] serving from datastore: CacheKey(whisk.system/invokerHealthTestAction0) [marker:database_cacheMiss_counter:251985]\r\n[2019-06-04T13:20:33.443Z] [INFO] [#tid_sid_loadbalancer] [CouchDbRestStore] [GET] 'whisk_local_whisks' finding document: 'id: whisk.system/invokerHealthTestAction0' [marker:database_getDocument_start:252022]\r\n[2019-06-04T13:20:33.760Z] [INFO] [#tid_sid_loadbalancer] [CouchDbRestStore]  [marker:database_getDocument_finish:252339:315]\r\n[2019-06-04T13:20:33.763Z] [INFO] [#tid_sid_loadbalancer] [WhiskAction] invalidating CacheKey(whisk.system/invokerHealthTestAction0)\r\n[2019-06-04T13:20:33.771Z] [INFO] [#tid_sid_loadbalancer] [WhiskAction] write initiated on new cache entry\r\n[2019-06-04T13:20:33.776Z] [INFO] [#tid_sid_loadbalancer] [CouchDbRestStore] [PUT] 'whisk_local_whisks' saving document: 'id: whisk.system/invokerHealthTestAction0, rev: null' [marker:database_saveDocument_start:252355]\r\n[2019-06-04T13:20:33.798Z] [INFO] [#tid_sid_loadbalancer] [InvokerPool] test action for invoker health now exists\r\n[2019-06-04T13:20:33.913Z] [INFO] [#tid_sid_controller] [Controller] loadbalancer initialized: ShardingContainerPoolBalancer\r\n[2019-06-04T13:20:33.915Z] [INFO] [#tid_sid_dispatcher] [MessageFeed] handler capacity = 128, pipeline fill at = 128, pipeline depth = 256\r\n[2019-06-04T13:20:33.919Z] [INFO] [#tid_sid_loadbalancer] [CouchDbRestStore]  [marker:database_saveDocument_finish:252496:141]\r\n[2019-06-04T13:20:33.927Z] [INFO] [#tid_sid_loadbalancer] [WhiskAction] write all done, caching CacheKey(whisk.system/invokerHealthTestAction0) Cached\r\n[2019-06-04T13:20:33.995Z] [INFO] [#tid_sid_controller] [KindRestrictor] all kinds are allowed, the white-list is not specified\r\n[2019-06-04T13:20:34.394Z] [INFO] [#tid_sid_controller] [ActionsApi] actionSequenceLimit '99'\r\n[2019-06-04T13:23:24.224Z] [ERROR] [Consumer clientId=consumer-health, groupId=health0] Offset commit failed on partition health-0 at offset 0: The coordinator is not aware of this member.\r\n[2019-06-04T13:23:24.232Z] [ERROR] [#tid_sid_dispatcher] [MessageFeed] failed to commit ping consumer offset: org.apache.kafka.clients.consumer.CommitFailedException: Commit cannot be completed since the group has already rebalanced and assigned the partitions to another member. This means that the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time message processing. You can address this either by increasing the session timeout or by reducing the maximum size of batches returned in poll() with max.poll.records.\r\n```\r\n\r\nWhich means that the issue arises between 13:17:47 and 13:19:47. Is it caused by kafka creating topic events? And how can I handle it?\r\n\r\nAny response will be appreciated！","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498677541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498688221","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-498688221","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":498688221,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODY4ODIyMQ==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T14:09:49Z","updated_at":"2019-06-04T14:09:49Z","author_association":"MEMBER","body":"Are there any logs from the kafka or zookeeper containers to indicate they had problems?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498688221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498696014","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-498696014","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":498696014,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODY5NjAxNA==","user":{"login":"axiqia","id":22564578,"node_id":"MDQ6VXNlcjIyNTY0NTc4","avatar_url":"https://avatars.githubusercontent.com/u/22564578?v=4","gravatar_id":"","url":"https://api.github.com/users/axiqia","html_url":"https://github.com/axiqia","followers_url":"https://api.github.com/users/axiqia/followers","following_url":"https://api.github.com/users/axiqia/following{/other_user}","gists_url":"https://api.github.com/users/axiqia/gists{/gist_id}","starred_url":"https://api.github.com/users/axiqia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/axiqia/subscriptions","organizations_url":"https://api.github.com/users/axiqia/orgs","repos_url":"https://api.github.com/users/axiqia/repos","events_url":"https://api.github.com/users/axiqia/events{/privacy}","received_events_url":"https://api.github.com/users/axiqia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T14:28:19Z","updated_at":"2019-06-04T14:28:19Z","author_association":"CONTRIBUTOR","body":"Thanks for your insight.  @dgrove-oss. There are some problems with kafka and zookeeper.\r\n\r\n**kafka logs**\r\n```\r\n[2019-06-04 13:15:38,788] INFO Client environment:user.dir=/ (org.apache.zookeeper.ZooKeeper)\r\n[2019-06-04 13:15:38,789] INFO Initiating client connection, connectString=172.17.0.1:2181 sessionTimeout=6000 watcher=org.I0Itec.zkclient.ZkClient@6ac13091 (org.apache.zookeeper.ZooKeeper)\r\n[2019-06-04 13:15:38,799] INFO Waiting for keeper state SyncConnected (org.I0Itec.zkclient.ZkClient)\r\n[2019-06-04 13:15:38,802] INFO Opening socket connection to server 172.17.0.1/172.17.0.1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2019-06-04 13:15:38,809] INFO Socket connection established to 172.17.0.1/172.17.0.1:2181, initiating session (org.apache.zookeeper.ClientCnxn)\r\n[2019-06-04 13:15:38,863] INFO Session establishment complete on server 172.17.0.1/172.17.0.1:2181, sessionid = 0x1008af844210000, negotiated timeout = 6000 (org.apache.zookeeper.ClientCnxn)\r\n[2019-06-04 13:15:38,865] INFO zookeeper state changed (SyncConnected) (org.I0Itec.zkclient.ZkClient)\r\n[2019-06-04 13:15:39,102] WARN Session 0x1008af844210000 for server 172.17.0.1/172.17.0.1:2181, unexpected error, closing socket connection and attempting reconnect (org.apache.zookeeper.ClientCnxn)\r\njava.io.IOException: Connection reset by peer\r\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\r\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\r\n        at sun.nio.ch.IOUtil.read(IOUtil.java:192)\r\n        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:68)\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:366)\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1141)\r\n[2019-06-04 13:15:39,207] INFO zookeeper state changed (Disconnected) (org.I0Itec.zkclient.ZkClient)\r\n[2019-06-04 13:15:39,211] INFO Waiting for keeper state SyncConnected (org.I0Itec.zkclient.ZkClient)\r\n\r\n```\r\n\r\n**zookeeper logs** \r\n\r\n```\r\n2019-06-04 13:15:02,976 [myid:] - INFO  [main:QuorumPeerConfig@136] - Reading configuration from: /conf/zoo.cfg\r\n2019-06-04 13:15:02,995 [myid:] - INFO  [main:QuorumPeer$QuorumServer@185] - Resolved hostname: 0.0.0.0 to address: /0.0.0.0\r\n2019-06-04 13:15:02,995 [myid:] - ERROR [main:QuorumPeerConfig@347] - Invalid configuration, only one server specified (ignoring)\r\n2019-06-04 13:15:02,998 [myid:] - INFO  [main:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3\r\n2019-06-04 13:15:02,998 [myid:] - INFO  [main:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0\r\n2019-06-04 13:15:02,998 [myid:] - INFO  [main:DatadirCleanupManager@101] - Purge task is not scheduled.\r\n2019-06-04 13:15:02,998 [myid:] - WARN  [main:QuorumPeerMain@116] - Either no config or no quorum defined in config, running  in standalone mode\r\n2019-06-04 13:15:03,013 [myid:] - INFO  [main:QuorumPeerConfig@136] - Reading configuration from: /conf/zoo.cfg\r\n2019-06-04 13:15:03,013 [myid:] - INFO  [main:QuorumPeer$QuorumServer@185] - Resolved hostname: 0.0.0.0 to address: /0.0.0.0\r\n2019-06-04 13:15:03,014 [myid:] - ERROR [main:QuorumPeerConfig@347] - Invalid configuration, only one server specified (ignoring)\r\n2019-06-04 13:15:03,014 [myid:] - INFO  [main:ZooKeeperServerMain@98] - Starting server\r\n2019-06-04 13:15:03,022 [myid:] - INFO  [main:Environment@100] - Server environment:zookeeper.version=3.4.14-4c25d480e66aadd371de8bd2fd8da255ac140bcf, built on 03/06/2019 16:18 GMT\r\n2019-06-04 13:15:03,022 [myid:] - INFO  [main:Environment@100] - Server environment:host.name=71affe7844d3\r\n2019-06-04 13:15:03,022 [myid:] - INFO  [main:Environment@100] - Server environment:java.version=1.8.0_212\r\n2019-06-04 13:15:03,022 [myid:] - INFO  [main:Environment@100] - Server environment:java.vendor=Oracle Corporation\r\n2019-06-04 13:15:03,022 [myid:] - INFO  [main:Environment@100] - Server environment:java.home=/usr/local/openjdk-8\r\n2019-06-04 13:15:03,024 [myid:] - INFO  [main:Environment@100] - Server environment:java.class.path=/zookeeper-3.4.14/bin/../zookeeper-server/target/classes:/zookeeper-3.4.14/bin/../build/classes:/zookeeper-3.4.14/bin/../zookeeper-server/target/lib/*.jar:/zookeeper-3.4.14/bin/../build/lib/*.jar:/zookeeper-3.4.14/bin/../lib/slf4j-log4j12-1.7.25.jar:/zookeeper-3.4.14/bin/../lib/slf4j-api-1.7.25.jar:/zookeeper-3.4.14/bin/../lib/netty-3.10.6.Final.jar:/zookeeper-3.4.14/bin/../lib/log4j-1.2.17.jar:/zookeeper-3.4.14/bin/../lib/jline-0.9.94.jar:/zookeeper-3.4.14/bin/../lib/audience-annotations-0.5.0.jar:/zookeeper-3.4.14/bin/../zookeeper-3.4.14.jar:/zookeeper-3.4.14/bin/../zookeeper-server/src/main/resources/lib/*.jar:/conf:\r\n2019-06-04 13:15:03,024 [myid:] - INFO  [main:Environment@100] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\r\n2019-06-04 13:15:03,025 [myid:] - INFO  [main:Environment@100] - Server environment:java.io.tmpdir=/tmp\r\n2019-06-04 13:15:03,025 [myid:] - INFO  [main:Environment@100] - Server environment:java.compiler=<NA>\r\n2019-06-04 13:15:03,025 [myid:] - INFO  [main:Environment@100] - Server environment:os.name=Linux\r\n2019-06-04 13:15:03,025 [myid:] - INFO  [main:Environment@100] - Server environment:os.arch=amd64\r\n2019-06-04 13:15:03,025 [myid:] - INFO  [main:Environment@100] - Server environment:os.version=4.15.0-47-generic\r\n2019-06-04 13:15:03,025 [myid:] - INFO  [main:Environment@100] - Server environment:user.name=zookeeper\r\n2019-06-04 13:15:03,025 [myid:] - INFO  [main:Environment@100] - Server environment:user.home=/home/zookeeper\r\n2019-06-04 13:15:03,026 [myid:] - INFO  [main:Environment@100] - Server environment:user.dir=/zookeeper-3.4.14\r\n2019-06-04 13:15:03,037 [myid:] - INFO  [main:ZooKeeperServer@836] - tickTime set to 2000\r\n2019-06-04 13:15:03,037 [myid:] - INFO  [main:ZooKeeperServer@845] - minSessionTimeout set to -1\r\n2019-06-04 13:15:03,037 [myid:] - INFO  [main:ZooKeeperServer@854] - maxSessionTimeout set to -1\r\n2019-06-04 13:15:03,045 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory\r\n2019-06-04 13:15:03,048 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:2181\r\n2019-06-04 13:15:09,398 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxnFactory@222] - Accepted socket connection from /172.17.0.1:42872\r\n2019-06-04 13:15:09,406 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ServerCnxn@324] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, 2003003507=wchs, 2003003504=wchp, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]\r\n2019-06-04 13:15:09,407 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ServerCnxn@325] - The list of enabled four letter word commands is : [[wchs, stat, stmk, conf, ruok, mntr, srvr, envi, srst, isro, dump, gtmk, crst, cons]]\r\n2019-06-04 13:15:09,407 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@908] - Processing ruok command from /172.17.0.1:42872\r\n2019-06-04 13:15:09,410 [myid:] - INFO  [Thread-1:NIOServerCnxn@1056] - Closed socket connection for client /172.17.0.1:42872 (no session established for client)\r\n2019-06-04 13:15:38,390 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxnFactory@222] - Accepted socket connection from /172.17.0.1:43938\r\n2019-06-04 13:15:38,391 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@908] - Processing dump command from /172.17.0.1:43938\r\n2019-06-04 13:15:38,393 [myid:] - INFO  [Thread-2:NIOServerCnxn@1056] - Closed socket connection for client /172.17.0.1:43938 (no session established for client)\r\n2019-06-04 13:15:38,809 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxnFactory@222] - Accepted socket connection from /172.17.0.1:34426\r\n2019-06-04 13:15:38,816 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ZooKeeperServer@949] - Client attempting to establish new session at /172.17.0.1:34426\r\n2019-06-04 13:15:38,820 [myid:] - INFO  [SyncThread:0:FileTxnLog@216] - Creating new log file: log.1\r\n2019-06-04 13:15:38,860 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x1008af844210000 with negotiated timeout 6000 for client /172.17.0.1:34426\r\n2019-06-04 13:15:38,909 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@376] - Unable to read additional data from client sessionid 0x1008af844210000, likely client has closed socket\r\n2019-06-04 13:15:38,910 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1056] - Closed socket connection for client /172.17.0.1:34426 which had sessionid 0x1008af844210000\r\n\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498696014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498822510","html_url":"https://github.com/apache/openwhisk/pull/4505#issuecomment-498822510","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4505","id":498822510,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODgyMjUxMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T20:05:57Z","updated_at":"2019-06-04T20:05:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505?src=pr&el=h1) Report\n> Merging [#4505](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/9d37fadcf4ba17d1056d2a58c6c7bf942c1dcfcc?src=pr&el=desc) will **decrease** coverage by `3.5%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4505      +/-   ##\n==========================================\n- Coverage   83.67%   80.17%   -3.51%     \n==========================================\n  Files         173      173              \n  Lines        8024     8024              \n  Branches      537      537              \n==========================================\n- Hits         6714     6433     -281     \n- Misses       1310     1591     +281\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [.../scala/org/apache/openwhisk/core/entity/Exec.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZW50aXR5L0V4ZWMuc2NhbGE=) | `90.47% <ø> (ø)` | :arrow_up: |\n| [...rg/apache/openwhisk/core/entity/ExecManifest.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZW50aXR5L0V4ZWNNYW5pZmVzdC5zY2FsYQ==) | `97.87% <100%> (ø)` | :arrow_up: |\n| [...apache/openwhisk/core/entity/WhiskActivation.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZW50aXR5L1doaXNrQWN0aXZhdGlvbi5zY2FsYQ==) | `92.06% <100%> (+1.58%)` | :arrow_up: |\n| [...cala/org/apache/openwhisk/http/ErrorResponse.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2h0dHAvRXJyb3JSZXNwb25zZS5zY2FsYQ==) | `92.22% <100%> (+2.22%)` | :arrow_up: |\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.89%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-74.08%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `4% <0%> (-52%)` | :arrow_down: |\n| [...re/database/cosmosdb/CollectionResourceUsage.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29sbGVjdGlvblJlc291cmNlVXNhZ2Uuc2NhbGE=) | `72.22% <0%> (-27.78%)` | :arrow_down: |\n| ... and [31 more](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505?src=pr&el=footer). Last update [9d37fad...54dd97e](https://codecov.io/gh/apache/incubator-openwhisk/pull/4505?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498822510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498994281","html_url":"https://github.com/apache/openwhisk/pull/4507#issuecomment-498994281","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4507","id":498994281,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODk5NDI4MQ==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T08:43:30Z","updated_at":"2019-06-05T08:43:30Z","author_association":"MEMBER","body":"We will implement modules based on the order defined in this page and add design documents under the page as well:\r\nhttps://cwiki.apache.org/confluence/display/OPENWHISK/Component+Design\r\n\r\nI added the first component design document for the \"scheduler\" component.\r\nhttps://cwiki.apache.org/confluence/display/OPENWHISK/Scheduler\r\n\r\nPlease also refer to this integration plan proposal:\r\nhttps://cwiki.apache.org/confluence/display/OPENWHISK/Integration+Plan+Proposal\r\n\r\nSince this PR would become a huge one and will include many modules, I proposed the plan to integrate it.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498994281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498999118","html_url":"https://github.com/apache/openwhisk/pull/4507#issuecomment-498999118","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4507","id":498999118,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODk5OTExOA==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T08:57:08Z","updated_at":"2019-06-05T08:57:53Z","author_association":"MEMBER","body":"I created a new label, \"scheduler\".\r\nAll PRs which are dependent on this PR will be labeled with it.\r\n\r\nSo it is supposed to not to merge PRs labeled with \"scheduler\"  directly into the master branch.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/498999118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499077404","html_url":"https://github.com/apache/openwhisk/pull/4503#issuecomment-499077404","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4503","id":499077404,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTA3NzQwNA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T13:13:41Z","updated_at":"2019-06-05T13:13:41Z","author_association":"MEMBER","body":"In your model all the docker actions are stored in a single registry?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499077404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499105260","html_url":"https://github.com/apache/openwhisk/pull/4494#issuecomment-499105260","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4494","id":499105260,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTEwNTI2MA==","user":{"login":"SugandhaAgrawal","id":7805475,"node_id":"MDQ6VXNlcjc4MDU0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/7805475?v=4","gravatar_id":"","url":"https://api.github.com/users/SugandhaAgrawal","html_url":"https://github.com/SugandhaAgrawal","followers_url":"https://api.github.com/users/SugandhaAgrawal/followers","following_url":"https://api.github.com/users/SugandhaAgrawal/following{/other_user}","gists_url":"https://api.github.com/users/SugandhaAgrawal/gists{/gist_id}","starred_url":"https://api.github.com/users/SugandhaAgrawal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SugandhaAgrawal/subscriptions","organizations_url":"https://api.github.com/users/SugandhaAgrawal/orgs","repos_url":"https://api.github.com/users/SugandhaAgrawal/repos","events_url":"https://api.github.com/users/SugandhaAgrawal/events{/privacy}","received_events_url":"https://api.github.com/users/SugandhaAgrawal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T14:24:06Z","updated_at":"2019-06-05T14:24:06Z","author_association":"CONTRIBUTOR","body":"@rabbah Unfortunately not. I was on vacation and returned today. Will work on it","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499105260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499106697","html_url":"https://github.com/apache/openwhisk/pull/4494#issuecomment-499106697","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4494","id":499106697,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTEwNjY5Nw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T14:27:26Z","updated_at":"2019-06-05T14:27:26Z","author_association":"MEMBER","body":"welcome back! ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499106697/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499152613","html_url":"https://github.com/apache/openwhisk/pull/4499#issuecomment-499152613","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4499","id":499152613,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTE1MjYxMw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T16:15:59Z","updated_at":"2019-06-05T16:15:59Z","author_association":"MEMBER","body":"Thanks @kiran002 for the contribution.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499152613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499434129","html_url":"https://github.com/apache/openwhisk/pull/4503#issuecomment-499434129","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4503","id":499434129,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTQzNDEyOQ==","user":{"login":"duynguyen","id":601729,"node_id":"MDQ6VXNlcjYwMTcyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/601729?v=4","gravatar_id":"","url":"https://api.github.com/users/duynguyen","html_url":"https://github.com/duynguyen","followers_url":"https://api.github.com/users/duynguyen/followers","following_url":"https://api.github.com/users/duynguyen/following{/other_user}","gists_url":"https://api.github.com/users/duynguyen/gists{/gist_id}","starred_url":"https://api.github.com/users/duynguyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duynguyen/subscriptions","organizations_url":"https://api.github.com/users/duynguyen/orgs","repos_url":"https://api.github.com/users/duynguyen/repos","events_url":"https://api.github.com/users/duynguyen/events{/privacy}","received_events_url":"https://api.github.com/users/duynguyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T10:09:18Z","updated_at":"2019-06-06T10:09:18Z","author_association":"CONTRIBUTOR","body":"@rabbah it is more about setting the default registry of the system.\r\nWith `include-user-images`, we have the option to change the default system registry from Docker Hub (keeping the flag false) to a custom one (turning it to true). As mentioned in the description, it is useful for multi-region deployments (region specific registries), or multi-cloud (AWS ECR or Azure container registry, etc.), or trustable image source, to name a few.\r\n\r\nFor example:\r\n```\r\nwhisk.container-factory.runtimes-registry.url=repo-1.openwhisk.org\r\n```\r\n\r\nAs an owner of blackbox action, I can use the following images by passing to `--docker`:\r\n1. `openwhisk/nodejs6action` -> invoker pulls `repo-1.openwhisk.org/openwhisk/nodejs6action`\r\n2. `docker.io/openwhisk/nodejs6action` -> the default openwhisk runtime on Docker Hub is pulled\r\n3. `repo-2.openwhisk.org/openwhisk/nodejs6action` -> image is pulled as it is named (from `repo-2`)\r\n\r\nDefault kind runtimes can still be pulled from different registries by specifying it in the manifest file. Something like:\r\n```\r\n\"image\": {\r\n    \"registry\": \"local-repo.example.com\",\r\n    \"prefix\": \"openwhisk\",\r\n    \"name\": \"somekind\",\r\n    \"tag\": \"latest\"\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499434129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499447951","html_url":"https://github.com/apache/openwhisk/pull/4496#issuecomment-499447951","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4496","id":499447951,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTQ0Nzk1MQ==","user":{"login":"mhenke1","id":15377852,"node_id":"MDQ6VXNlcjE1Mzc3ODUy","avatar_url":"https://avatars.githubusercontent.com/u/15377852?v=4","gravatar_id":"","url":"https://api.github.com/users/mhenke1","html_url":"https://github.com/mhenke1","followers_url":"https://api.github.com/users/mhenke1/followers","following_url":"https://api.github.com/users/mhenke1/following{/other_user}","gists_url":"https://api.github.com/users/mhenke1/gists{/gist_id}","starred_url":"https://api.github.com/users/mhenke1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhenke1/subscriptions","organizations_url":"https://api.github.com/users/mhenke1/orgs","repos_url":"https://api.github.com/users/mhenke1/repos","events_url":"https://api.github.com/users/mhenke1/events{/privacy}","received_events_url":"https://api.github.com/users/mhenke1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T10:56:42Z","updated_at":"2019-06-06T10:56:42Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes I decided to make the introduced wait time (which is the only remaining change now) even more explicit while explaining its introduction in a comment. \r\nSince we get in throttling very often with our newer and faster build environment please have a expedited look.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499447951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499466758","html_url":"https://github.com/apache/openwhisk/issues/4509#issuecomment-499466758","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4509","id":499466758,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTQ2Njc1OA==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T12:06:40Z","updated_at":"2019-06-06T12:06:40Z","author_association":"MEMBER","body":"\r\n### Invoker\r\n\r\n![image](https://user-images.githubusercontent.com/664531/59031512-88df3900-8881-11e9-94e0-8a73f116ab7a.png)\r\n\r\nHere also there may be chance to reduce compilation time","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499466758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499470207","html_url":"https://github.com/apache/openwhisk/issues/4509#issuecomment-499470207","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4509","id":499470207,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTQ3MDIwNw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T12:18:53Z","updated_at":"2019-06-06T12:18:53Z","author_association":"MEMBER","body":"That’s awesome. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499470207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499812339","html_url":"https://github.com/apache/openwhisk/pull/4314#issuecomment-499812339","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4314","id":499812339,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTgxMjMzOQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T09:02:18Z","updated_at":"2019-06-07T09:02:18Z","author_association":"MEMBER","body":"Currently the CosmosDB Change Feed Processor does not shutdown properly which causes stray thread to still run. This causes some log messages like\r\n\r\n```\r\n[2019-06-07T08:36:27.266Z] [ERROR] Other exception not handled happened: null \r\njava.lang.NullPointerException\r\n\tat com.microsoft.azure.documentdb.changefeedprocessor.services.CheckpointServices.getCheckpoint(CheckpointServices.java:77)\r\n\tat com.microsoft.azure.documentdb.changefeedprocessor.services.CheckpointServices.getCheckpointData(CheckpointServices.java:49)\r\n\tat com.microsoft.azure.documentdb.changefeedprocessor.services.ChangeFeedJob.QueryChangeFeed(ChangeFeedJob.java:159)\r\n\tat com.microsoft.azure.documentdb.changefeedprocessor.services.ChangeFeedJob.lambda$start$0(ChangeFeedJob.java:136)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nOpened Azure/azure-documentdb-changefeedprocessor-java#63 to clarify that aspect\r\n\r\n[1]: https://scans.gradle.com/s/xmzxr775nasvo/tests/failed","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/499812339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500295549","html_url":"https://github.com/apache/openwhisk/issues/4509#issuecomment-500295549","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4509","id":500295549,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDI5NTU0OQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T05:24:35Z","updated_at":"2019-06-10T05:24:57Z","author_association":"MEMBER","body":"So far my hunch is that higher compilation time is due to usage of [pureconfig][1] which internally uses [Shapeless][2] to automagically derive the config reader instances for our config case classes. \r\n\r\nSuch a usage can [cause compilation slowness][3] as it relies on macros to synthesize the type classes during compile time. Latest version of pureconfig supports disabling such auto derivations and supports a [semi autoderivation][3] which I think can reduce the compilation time in a significant way.\r\n\r\nIt may require us to add such implicit lookup manually like we do for Spray Json. Would see if it actually benefits or not\r\n\r\n[1]: https://pureconfig.github.io/\r\n[2]: https://github.com/milessabin/shapeless\r\n[3]: https://pureconfig.github.io/docs/non-automatic-derivation.html#semi-automatic\r\n[3]: https://github.com/pureconfig/pureconfig/issues/396","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500295549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500715391","html_url":"https://github.com/apache/openwhisk/issues/4510#issuecomment-500715391","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4510","id":500715391,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDcxNTM5MQ==","user":{"login":"alexkli","id":229022,"node_id":"MDQ6VXNlcjIyOTAyMg==","avatar_url":"https://avatars.githubusercontent.com/u/229022?v=4","gravatar_id":"","url":"https://api.github.com/users/alexkli","html_url":"https://github.com/alexkli","followers_url":"https://api.github.com/users/alexkli/followers","following_url":"https://api.github.com/users/alexkli/following{/other_user}","gists_url":"https://api.github.com/users/alexkli/gists{/gist_id}","starred_url":"https://api.github.com/users/alexkli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexkli/subscriptions","organizations_url":"https://api.github.com/users/alexkli/orgs","repos_url":"https://api.github.com/users/alexkli/repos","events_url":"https://api.github.com/users/alexkli/events{/privacy}","received_events_url":"https://api.github.com/users/alexkli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T07:07:08Z","updated_at":"2019-06-11T07:08:11Z","author_association":"CONTRIBUTOR","body":"Also worth documenting:\r\n\r\n- if `error` is present, this value/object will become the return value. any other fields in the result object (siblings of `error`) will be dropped\r\n- to get an error message displayed by `wsk activation get -s` or in errors of the npm `openwhisk` library, either `error` is a string and contains the message, or if `error` is an object, it has to be a string in `error.error`, otherwise you might get “missing response error message”\r\n- this applies to web actions as well, i.e. the `error` object can be rendered as http response if it includes `statusCode`, `headers` and/or `body` (again, not in the root of the result)\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500715391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500747866","html_url":"https://github.com/apache/openwhisk/issues/4510#issuecomment-500747866","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4510","id":500747866,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDc0Nzg2Ng==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T08:46:10Z","updated_at":"2019-06-11T08:50:31Z","author_association":"MEMBER","body":"Somewhat related to https://github.com/apache/incubator-openwhisk/issues/2699 (which proposes relaxing the current filtering whereas this issue is about documenting existing behavior). ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500747866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500823319","html_url":"https://github.com/apache/openwhisk/issues/4509#issuecomment-500823319","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4509","id":500823319,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDgyMzMxOQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T12:40:59Z","updated_at":"2019-06-11T12:40:59Z","author_association":"MEMBER","body":"After [discussion on pureconfig channel][1] it looks like support needs to be added in pureconfig to provide an approach similar to one present in spray-json to avoid dependency on Shapeless for config derivation.\r\n\r\nOpened pureconfig/pureconfig#485 to discuss possible approaches. This would take some time!\r\n\r\n[1]: https://gitter.im/melrief/pureconfig?at=5cfdeb626f530d3b6168c85f","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500823319/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500826701","html_url":"https://github.com/apache/openwhisk/pull/4496#issuecomment-500826701","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4496","id":500826701,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDgyNjcwMQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T12:50:59Z","updated_at":"2019-06-11T12:50:59Z","author_association":"MEMBER","body":"why do these tests not check the API response which actually provides the reason (and counts) for a 409? the tests could parse that error response and settle the throttle as needed instead of these hacks. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500826701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500827440","html_url":"https://github.com/apache/openwhisk/pull/4496#issuecomment-500827440","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4496","id":500827440,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDgyNzQ0MA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T12:53:03Z","updated_at":"2019-06-11T12:53:21Z","author_association":"MEMBER","body":"i would not bother and implement a namespace change - it's just another hack.\r\n\r\nthe 409 response from the controller provides useful information to back off the test and retry correctly:\r\n\r\n```\r\n  def tooManyRequests(count: Int, allowed: Int) =\r\n    s\"Too many requests in the last minute (count: $count, allowed: $allowed).\"\r\n\r\n  def tooManyConcurrentRequests(count: Int, allowed: Int) =\r\n    s\"Too many concurrent requests in flight (count: $count, allowed: $allowed).\"\r\n```\r\n\r\nthread.sleep and using another namespace are just piling on technical debt imo.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500827440/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500828312","html_url":"https://github.com/apache/openwhisk/issues/4509#issuecomment-500828312","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4509","id":500828312,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDgyODMxMg==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T12:55:25Z","updated_at":"2019-06-11T12:55:25Z","author_association":"CONTRIBUTOR","body":"Very nice investigation, thanks @chetanmeh!","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/500828312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/501553820","html_url":"https://github.com/apache/openwhisk/pull/4512#issuecomment-501553820","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4512","id":501553820,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTU1MzgyMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T05:27:25Z","updated_at":"2019-06-13T05:27:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512?src=pr&el=h1) Report\n> Merging [#4512](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/1113f2d435fefc433018075ed5985402a4e76fc1?src=pr&el=desc) will **decrease** coverage by `4.89%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master    #4512     +/-   ##\n=========================================\n- Coverage   85.04%   80.14%   -4.9%     \n=========================================\n  Files         174      174             \n  Lines        8023     8023             \n  Branches      552      552             \n=========================================\n- Hits         6823     6430    -393     \n- Misses       1200     1593    +393\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.89%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-74.08%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `4% <0%> (-52%)` | :arrow_down: |\n| [...re/database/cosmosdb/CollectionResourceUsage.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29sbGVjdGlvblJlc291cmNlVXNhZ2Uuc2NhbGE=) | `72.22% <0%> (-27.78%)` | :arrow_down: |\n| [...in/scala/org/apache/openwhisk/common/Counter.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvbW1vbi9Db3VudGVyLnNjYWxh) | `40% <0%> (-20%)` | :arrow_down: |\n| [...penwhisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `81.81% <0%> (-15.16%)` | :arrow_down: |\n| [...nwhisk/core/database/cosmosdb/CosmosDBConfig.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJDb25maWcuc2NhbGE=) | `94.11% <0%> (-5.89%)` | :arrow_down: |\n| [...in/scala/org/apache/openwhisk/common/Logging.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvbW1vbi9Mb2dnaW5nLnNjYWxh) | `69.75% <0%> (-4.33%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512?src=pr&el=footer). Last update [1113f2d...a7835bd](https://codecov.io/gh/apache/incubator-openwhisk/pull/4512?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/501553820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/501592865","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-501592865","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":501592865,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTU5Mjg2NQ==","user":{"login":"lzjzx1122","id":25816474,"node_id":"MDQ6VXNlcjI1ODE2NDc0","avatar_url":"https://avatars.githubusercontent.com/u/25816474?v=4","gravatar_id":"","url":"https://api.github.com/users/lzjzx1122","html_url":"https://github.com/lzjzx1122","followers_url":"https://api.github.com/users/lzjzx1122/followers","following_url":"https://api.github.com/users/lzjzx1122/following{/other_user}","gists_url":"https://api.github.com/users/lzjzx1122/gists{/gist_id}","starred_url":"https://api.github.com/users/lzjzx1122/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lzjzx1122/subscriptions","organizations_url":"https://api.github.com/users/lzjzx1122/orgs","repos_url":"https://api.github.com/users/lzjzx1122/repos","events_url":"https://api.github.com/users/lzjzx1122/events{/privacy}","received_events_url":"https://api.github.com/users/lzjzx1122/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T07:54:27Z","updated_at":"2019-06-13T07:54:27Z","author_association":"NONE","body":"I also met this issue, have you solved it  @axiqia ?  Thank you !","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/501592865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/501662400","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-501662400","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":501662400,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTY2MjQwMA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T11:24:26Z","updated_at":"2019-06-13T11:24:26Z","author_association":"MEMBER","body":"@lzjzx1122 check your controller logs - when it doesn't come up, it's usually a misconfiguration. Also can you share the details of your deployment (kubernetes, ansible, compose ...).","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/501662400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503064973","html_url":"https://github.com/apache/openwhisk/pull/4514#issuecomment-503064973","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4514","id":503064973,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzA2NDk3Mw==","user":{"login":"mhenke1","id":15377852,"node_id":"MDQ6VXNlcjE1Mzc3ODUy","avatar_url":"https://avatars.githubusercontent.com/u/15377852?v=4","gravatar_id":"","url":"https://api.github.com/users/mhenke1","html_url":"https://github.com/mhenke1","followers_url":"https://api.github.com/users/mhenke1/followers","following_url":"https://api.github.com/users/mhenke1/following{/other_user}","gists_url":"https://api.github.com/users/mhenke1/gists{/gist_id}","starred_url":"https://api.github.com/users/mhenke1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhenke1/subscriptions","organizations_url":"https://api.github.com/users/mhenke1/orgs","repos_url":"https://api.github.com/users/mhenke1/repos","events_url":"https://api.github.com/users/mhenke1/events{/privacy}","received_events_url":"https://api.github.com/users/mhenke1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T11:32:29Z","updated_at":"2019-06-18T11:32:29Z","author_association":"CONTRIBUTOR","body":"@rabbah Though I am wondering that the existing code did run at all without the `var`or `let` keyword before a declaring a variable, the adaption needed shows that also customer code might brake with the adapted nodejs runtime. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503064973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503072695","html_url":"https://github.com/apache/openwhisk/pull/4514#issuecomment-503072695","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4514","id":503072695,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzA3MjY5NQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T11:58:35Z","updated_at":"2019-06-18T11:58:35Z","author_association":"MEMBER","body":"thanks for the heads up @mhenke1 - did you determine the root cause? The changes to the node runtime were not intended to be semantic changing.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503072695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503129600","html_url":"https://github.com/apache/openwhisk/pull/4514#issuecomment-503129600","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4514","id":503129600,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzEyOTYwMA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T13:13:52Z","updated_at":"2019-06-18T13:13:52Z","author_association":"MEMBER","body":"My instinct is to not make these changes but rather correct the issue in the node runtime. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503129600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503134327","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-503134327","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":503134327,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzEzNDMyNw==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T13:25:51Z","updated_at":"2019-06-18T13:25:51Z","author_association":"MEMBER","body":"This is an initial version to seek feedback on approach. Based on feedback we can decide what all aspects to support with this approach","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503134327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503137221","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-503137221","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":503137221,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzEzNzIyMQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T13:33:13Z","updated_at":"2019-06-18T13:33:13Z","author_association":"MEMBER","body":"cool! ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503137221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503337425","html_url":"https://github.com/apache/openwhisk/pull/4514#issuecomment-503337425","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4514","id":503337425,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzMzNzQyNQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T22:36:46Z","updated_at":"2019-06-18T22:36:46Z","author_association":"MEMBER","body":"Closing per dev list https://lists.apache.org/thread.html/78548d72042ab693be760f0cbb4c803de9db69ef20aaeebf9a281a61@%3Cdev.openwhisk.apache.org%3E.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503337425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503403739","html_url":"https://github.com/apache/openwhisk/pull/4513#issuecomment-503403739","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4513","id":503403739,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzQwMzczOQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T04:43:08Z","updated_at":"2019-06-19T04:43:08Z","author_association":"MEMBER","body":"@markusthoemmes  @cbickel  Would be helpful if you can review the `QueuedExecutor` logic (which is not related to CosmosDB part). Its similar to `Batcher` implementation. Wanted to confirm if Akka Stream semantics are handled properly","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503403739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503404095","html_url":"https://github.com/apache/openwhisk/pull/4513#issuecomment-503404095","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4513","id":503404095,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzQwNDA5NQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T04:45:16Z","updated_at":"2019-06-19T04:45:16Z","author_association":"MEMBER","body":"> gauge I think is never passed to `QueuedExecutor` ctor \r\n\r\nGood catch. That confirms why queue size was coming as zero in the tests. Thats the drawback of using parameters with default values. Fix that now. \r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503404095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503442999","html_url":"https://github.com/apache/openwhisk/pull/4515#issuecomment-503442999","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4515","id":503442999,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzQ0Mjk5OQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T07:31:02Z","updated_at":"2019-06-19T07:31:02Z","author_association":"MEMBER","body":"Thanks @dragos for providing the fix \r\n\r\n```\r\n    scalaCompileOptions.forkOptions.memoryMaximumSize = '2g'\r\n    scalaCompileOptions.forkOptions.jvmArgs = ['-Xss64M']\r\n```\r\n\r\nAs we do not intend to enable Hydra in main repo I would close this issue and try out the suggested approach in my private fork.\r\n\r\nFor others - I was trying to use the [Hydra Compiler][1] and facing some issue for which this fix is suggested. \r\n\r\n[1]: https://triplequote.com/hydra","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503442999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503496428","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-503496428","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":503496428,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzQ5NjQyOA==","user":{"login":"bdelacretaz","id":81101,"node_id":"MDQ6VXNlcjgxMTAx","avatar_url":"https://avatars.githubusercontent.com/u/81101?v=4","gravatar_id":"","url":"https://api.github.com/users/bdelacretaz","html_url":"https://github.com/bdelacretaz","followers_url":"https://api.github.com/users/bdelacretaz/followers","following_url":"https://api.github.com/users/bdelacretaz/following{/other_user}","gists_url":"https://api.github.com/users/bdelacretaz/gists{/gist_id}","starred_url":"https://api.github.com/users/bdelacretaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdelacretaz/subscriptions","organizations_url":"https://api.github.com/users/bdelacretaz/orgs","repos_url":"https://api.github.com/users/bdelacretaz/repos","events_url":"https://api.github.com/users/bdelacretaz/events{/privacy}","received_events_url":"https://api.github.com/users/bdelacretaz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T10:06:47Z","updated_at":"2019-06-19T10:06:47Z","author_association":"MEMBER","body":"Big +1 to this, great work! I do have a use case where we want to simulate OpenWhisk for local development of actions, looks like this would help a lot.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503496428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503686186","html_url":"https://github.com/apache/openwhisk/pull/4517#issuecomment-503686186","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4517","id":503686186,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY4NjE4Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T18:55:39Z","updated_at":"2019-06-19T18:55:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517?src=pr&el=h1) Report\n> Merging [#4517](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/ef8b06f499764d38b29c1a8095fba09836d666a1?src=pr&el=desc) will **decrease** coverage by `4.81%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4517      +/-   ##\n==========================================\n- Coverage   85.08%   80.26%   -4.82%     \n==========================================\n  Files         174      174              \n  Lines        8023     8023              \n  Branches      552      552              \n==========================================\n- Hits         6826     6440     -386     \n- Misses       1197     1583     +386\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.89%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-74.08%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `4% <0%> (-52%)` | :arrow_down: |\n| [...re/database/cosmosdb/CollectionResourceUsage.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29sbGVjdGlvblJlc291cmNlVXNhZ2Uuc2NhbGE=) | `72.22% <0%> (-27.78%)` | :arrow_down: |\n| [...in/scala/org/apache/openwhisk/common/Counter.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvbW1vbi9Db3VudGVyLnNjYWxh) | `40% <0%> (-20%)` | :arrow_down: |\n| [...penwhisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `81.81% <0%> (-15.16%)` | :arrow_down: |\n| [...nwhisk/core/database/cosmosdb/CosmosDBConfig.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJDb25maWcuc2NhbGE=) | `94.11% <0%> (-5.89%)` | :arrow_down: |\n| [...in/scala/org/apache/openwhisk/common/Logging.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvbW1vbi9Mb2dnaW5nLnNjYWxh) | `69.75% <0%> (-4.33%)` | :arrow_down: |\n| ... and [5 more](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517?src=pr&el=footer). Last update [ef8b06f...9be10b0](https://codecov.io/gh/apache/incubator-openwhisk/pull/4517?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503686186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503717025","html_url":"https://github.com/apache/openwhisk/pull/4517#issuecomment-503717025","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4517","id":503717025,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcxNzAyNQ==","user":{"login":"mrutkows","id":7816715,"node_id":"MDQ6VXNlcjc4MTY3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/7816715?v=4","gravatar_id":"","url":"https://api.github.com/users/mrutkows","html_url":"https://github.com/mrutkows","followers_url":"https://api.github.com/users/mrutkows/followers","following_url":"https://api.github.com/users/mrutkows/following{/other_user}","gists_url":"https://api.github.com/users/mrutkows/gists{/gist_id}","starred_url":"https://api.github.com/users/mrutkows/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrutkows/subscriptions","organizations_url":"https://api.github.com/users/mrutkows/orgs","repos_url":"https://api.github.com/users/mrutkows/repos","events_url":"https://api.github.com/users/mrutkows/events{/privacy}","received_events_url":"https://api.github.com/users/mrutkows/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T19:36:21Z","updated_at":"2019-06-19T19:36:21Z","author_association":"CONTRIBUTOR","body":"@rabbah thanks Rodric, glad it finally passed all jenkins & travis...\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503717025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503990653","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-503990653","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":503990653,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzk5MDY1Mw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T11:34:24Z","updated_at":"2019-06-20T11:35:03Z","author_association":"MEMBER","body":"Can we add a test for this in Jenkins? Like with lean - stand it up, create/run/delete a single action as a sniff test.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/503990653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504291025","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504291025","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504291025,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDI5MTAyNQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T05:07:38Z","updated_at":"2019-06-21T05:07:38Z","author_association":"MEMBER","body":"There are still some pending issues like getting log collection to work on Mac. For now implementing an approach which uses `docker logs` command to fetch logs. \r\n\r\nWith that change the system test pass percentage improved\r\n\r\n> 108 tests completed, 14 failed","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504291025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504291289","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504291289","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504291289,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDI5MTI4OQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T05:08:51Z","updated_at":"2019-06-21T05:08:51Z","author_association":"MEMBER","body":"> Can we add a test for this in Jenkins? Like with lean - stand it up, create/run/delete a single action as a sniff test.\r\n\r\nYeah working on that. Its bit tricky to get it working in `tests` project as it needs some different default global config. For now only 14 out of 108 system tests fail","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504291289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504498888","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504498888","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504498888,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDQ5ODg4OA==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T17:04:00Z","updated_at":"2019-06-21T17:23:19Z","author_association":"CONTRIBUTOR","body":"invoking Composer compositions doesn't seem to work, due to a lack of the `redis` npm","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504498888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504502387","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504502387","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504502387,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDUwMjM4Nw==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T17:14:57Z","updated_at":"2019-06-21T17:14:57Z","author_association":"MEMBER","body":"@tardieu  -- see @starpit's comment above.  Any advice for @chetanmeh on how to fix?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504502387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504512713","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504512713","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504512713,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDUxMjcxMw==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T17:46:38Z","updated_at":"2019-06-21T17:46:38Z","author_association":"CONTRIBUTOR","body":"oh, i think i fixed this one on my own, by specifying a custom manifest. i guess the default manifest uses a very slim nodejs container (guessing).","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504512713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504605775","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504605775","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504605775,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYwNTc3NQ==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T23:48:25Z","updated_at":"2019-06-22T00:24:27Z","author_association":"CONTRIBUTOR","body":"after spending a fair amount of time on this... this seems a bit buggy to me, still. e.g. if i deploy a Composer composition, invoke it; then delete the action and re-create it with a different compostion... subsequent GETs on the composer action give the expected update, but INVOKEs stick with the old verson -- until i restart the openwhisk java process.\r\n\r\nhere is what i see from the INVOKE (after an delete and create! so there should be a cache miss here in the container pool, right?), which seems to indicate that the cached container has not been invalidated:\r\n```\r\n[WhiskAction] [GET] serving from cache: CacheKey(guest/hhh) [marker:database_cacheHit_counter:10]\r\n[ContainerPool] containerStart containerState: warmed container: Some(ContainerId(45ce6c4b5a90bffb69a164ca32358fb5f8372e98a7c8a0c75238a3bbc43c2200)) activations: 1 of max 1 action: hhh namespace: guest activationId: 729a96fe2a2140109a96fe2a21401078 [marker:invoker_containerStart.warmed_counter:10]\r\n```\r\n\r\nhere is the detail of the DELETE:\r\n```\r\nDELETE /api/v1/namespaces/_/actions/hhh \r\n[GET] serving from cache: CacheKey(23bc46b1-71f6-4ed5-8c54-816aa4f8c502) [marker:database_cacheHit_counter:1]\r\n[WhiskAction] [GET] serving from cache: CacheKey(guest/hhh) [marker:database_cacheHit_counter:2]\r\n[WhiskAction] invalidating CacheKey(guest/hhh) on delete\r\n[MemoryArtifactStore] [DEL] 'whisks' deleting document: 'id: guest/hhh, rev: 1' [marker:database_deleteDocument_start:2]\r\n[MemoryArtifactStore]  [marker:database_deleteDocument_finish:2:0]\r\n[WhiskAction] invalidating CacheKey(guest/hhh)\r\n[MemoryAttachmentStore] [ATTS_DELETE] uploading attachment of document 'guest/hhh' [marker:database_deleteDocumentAttachments_start:6]\r\n[MemoryAttachmentStore]  [marker:database_deleteDocumentAttachments_finish:6:0]\r\n[BasicHttpService] [marker:http_delete.200_counter:7:7]\r\n```\r\n\r\nand the CREATE:\r\n```\r\nPUT /api/v1/namespaces/_/actions/hhh \r\n[WhiskAction] [GET] serving from datastore: CacheKey(guest/hhh) [marker:database_cacheMiss_counter:5]\r\n[MemoryArtifactStore] [GET] 'whisks' finding document: 'id: guest/hhh' [marker:database_getDocument_start:5]\r\n[MemoryArtifactStore]  [marker:database_getDocument_finish:5:0]\r\n[WhiskAction] invalidating CacheKey(guest/hhh)\r\n[WhiskAction] write initiated on new cache entry\r\n[MemoryArtifactStore] [PUT] 'whisks' saving document: 'id: guest/hhh, rev: 0' [marker:database_saveDocument_start:7]\r\n[MemoryArtifactStore]  [marker:database_saveDocument_finish:7:0]\r\n[WhiskAction] write all done, caching CacheKey(guest/hhh) Cached\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504605775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504610820","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504610820","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504610820,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxMDgyMA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T00:32:05Z","updated_at":"2019-06-22T00:32:05Z","author_association":"MEMBER","body":"@starpit does the same happen for an action that's created/invoked/deleted/recreated/invoked? ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504610820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504611292","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504611292","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504611292,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxMTI5Mg==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T00:37:06Z","updated_at":"2019-06-22T00:37:58Z","author_association":"CONTRIBUTOR","body":"indeed. but i think you have to do a delete followed by a create; for some reason updates do not cause this to occur.\r\n\r\nand openwhisk-composer happens to do a delete followed by create, always -- probably because @tardieu wanted to make sure annotations were invalidated (because they aren't, on update, iirc)","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504611292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612047","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504612047","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504612047,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxMjA0Nw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T00:44:53Z","updated_at":"2019-06-22T00:44:53Z","author_association":"MEMBER","body":"I suspect I know the issue - if an action is identical but the only\ndifference is the document revision they are considered equal and the\ninvoker will reuse the container.\nhttps://github.com/apache/incubator-openwhisk/issues/3120\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612129","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504612129","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504612129,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxMjEyOQ==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T00:45:42Z","updated_at":"2019-06-22T00:45:55Z","author_association":"CONTRIBUTOR","body":"in my cases (both composer and plain action), i am actually changing the action source","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612197","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504612197","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504612197,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxMjE5Nw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T00:46:26Z","updated_at":"2019-06-22T00:46:26Z","author_association":"MEMBER","body":"ok then that throws out my suspicion. I'll have a peek I've been meaning to try this feature out.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612407","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504612407","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504612407,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxMjQwNw==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T00:48:51Z","updated_at":"2019-06-22T00:49:15Z","author_association":"CONTRIBUTOR","body":"here is an example with plain old actions. in this session, foo1.js is x=>x, and foo2.js is x=>x+1; note how updates are fine, but delete followed by create is not\r\n\r\n![Screen Shot 2019-06-21 at 20 47 50](https://user-images.githubusercontent.com/4741620/59957386-e66cab80-9465-11e9-8ad2-94f10e625c04.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612412","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504612412","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504612412,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxMjQxMg==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T00:48:58Z","updated_at":"2019-06-22T00:48:58Z","author_association":"MEMBER","body":"I think it's due to simple revision strategy in MemoryArtifactStore implement which just increments a number. This gets reset post delete. I would change it to be based on content hash. That should fix the issue then","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504612412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504615598","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504615598","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504615598,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxNTU5OA==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T01:29:58Z","updated_at":"2019-06-22T01:30:57Z","author_association":"MEMBER","body":"@starpit Just fixed the issue in `MemeoryArtifactStore`. Can you give it a try again","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504615598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504615895","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504615895","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504615895,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxNTg5NQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T01:34:06Z","updated_at":"2019-06-22T01:34:06Z","author_association":"MEMBER","body":"> oh, i think i fixed this one on my own, by specifying a custom manifest. i guess the default manifest uses a very slim nodejs container (guessing).\r\n\r\n@starpit This is also now fixed in latest. It uses same runtime manifest as used by anisble setup","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504615895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504617732","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504617732","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504617732,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYxNzczMg==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T02:01:41Z","updated_at":"2019-06-22T02:01:41Z","author_association":"CONTRIBUTOR","body":"now create+delete+create+invoke gives the expected result!\r\n\r\ni'll throw this at the kui CI/CD again to see what happens.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504617732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504708356","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504708356","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504708356,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDcwODM1Ng==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-23T00:27:25Z","updated_at":"2019-06-23T00:27:25Z","author_association":"CONTRIBUTOR","body":"i'm seeing the log end markers showing up, as visible to the user, e.g. from an activation get\r\n\r\n```\r\n\"logs\": [\r\n        \"Entering composition\",\r\n        \"Entering composition.test\",\r\n        \"Entering composition.consequent\",\r\n        \"Entering composition.consequent[0]\",\r\n        \"Entering final state\",\r\n        \"{\\\"path\\\":true}\",\r\n        \"XXX_THE_END_OF_A_WHISK_ACTIVATION_XXX\"\r\n    ],\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504708356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504708511","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504708511","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504708511,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDcwODUxMQ==","user":{"login":"starpit","id":4741620,"node_id":"MDQ6VXNlcjQ3NDE2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4741620?v=4","gravatar_id":"","url":"https://api.github.com/users/starpit","html_url":"https://github.com/starpit","followers_url":"https://api.github.com/users/starpit/followers","following_url":"https://api.github.com/users/starpit/following{/other_user}","gists_url":"https://api.github.com/users/starpit/gists{/gist_id}","starred_url":"https://api.github.com/users/starpit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starpit/subscriptions","organizations_url":"https://api.github.com/users/starpit/orgs","repos_url":"https://api.github.com/users/starpit/repos","events_url":"https://api.github.com/users/starpit/events{/privacy}","received_events_url":"https://api.github.com/users/starpit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-23T00:30:59Z","updated_at":"2019-06-23T00:30:59Z","author_association":"CONTRIBUTOR","body":"there are ther differences, e.g. stdout versus stderr distniction in the logs; this is what i see from ibm cloud functions for an activation of the same function\r\n\r\n```\r\n  \"logs\": [\r\n    \"2019-06-23T00:20:49.529797Z    stdout: Entering composition\",\r\n    \"2019-06-23T00:20:49.530068Z    stdout: Entering composition.test\",\r\n    \"2019-06-23T00:20:49.530238Z    stdout: Entering composition.consequent\",\r\n    \"2019-06-23T00:20:49.530246Z    stdout: Entering composition.consequent[0]\",\r\n    \"2019-06-23T00:20:49.530514Z    stdout: Entering final state\",\r\n    \"2019-06-23T00:20:49.530559Z    stdout: {\\\"path\\\":true}\"\r\n  ],\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504708511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504725842","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504725842","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504725842,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDcyNTg0Mg==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-23T06:59:56Z","updated_at":"2019-06-23T06:59:56Z","author_association":"MEMBER","body":"> i'm seeing the log end markers showing up, as visible to the user\r\n\r\nThere was a pending todo for this. Fixed this now","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504725842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504953920","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-504953920","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":504953920,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDk1MzkyMA==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T10:31:00Z","updated_at":"2019-06-24T10:31:00Z","author_association":"MEMBER","body":"Uploaded a locally build copy of the standalone server [here][1] so that someone can now try this out quickly.\r\n\r\nTest results from system basic test suite\r\n\r\n```\r\n./gradlew :tests:testSystemBasic -Dwhisk.auth=\"23bc46b1-71f6-4ed5-8c54-816aa4f8c502:123zO3xZCLrMN6v2BKK1dXYFpXlPkccOFqm12CdAsMgRU4VrNZ9lyGVCGuMDGIwP\" -Dwhisk.server=http://localhost:3233\r\n```\r\n\r\n1. On Linux - Most test except the unicode related tests passed\r\n2. On Mac around 16 test fail intermittently. I suspect that is due to instability in connecting to docker container from outside of Docker. Same test pass with ansible setup where Invokers uses direct Docker networking to connect to launched containers. But when running the m via standalone some errors are seem stating that container host cannot be reached\r\n\r\nWould now add a basic integration test for standalone case\r\n\r\n[1]: https://github.com/chetanmeh/incubator-openwhisk/releases/tag/v0.10","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/504953920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505075730","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505075730","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505075730,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTA3NTczMA==","user":{"login":"neerajmangal","id":20740788,"node_id":"MDQ6VXNlcjIwNzQwNzg4","avatar_url":"https://avatars.githubusercontent.com/u/20740788?v=4","gravatar_id":"","url":"https://api.github.com/users/neerajmangal","html_url":"https://github.com/neerajmangal","followers_url":"https://api.github.com/users/neerajmangal/followers","following_url":"https://api.github.com/users/neerajmangal/following{/other_user}","gists_url":"https://api.github.com/users/neerajmangal/gists{/gist_id}","starred_url":"https://api.github.com/users/neerajmangal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neerajmangal/subscriptions","organizations_url":"https://api.github.com/users/neerajmangal/orgs","repos_url":"https://api.github.com/users/neerajmangal/repos","events_url":"https://api.github.com/users/neerajmangal/events{/privacy}","received_events_url":"https://api.github.com/users/neerajmangal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T16:08:02Z","updated_at":"2019-06-24T16:08:02Z","author_association":"CONTRIBUTOR","body":"Hi @chetanmeh , \r\n\r\nFirst of all thanks for this awesome work!! It's going to help out a lot. \r\n\r\nWhile testing it I find one issue. \r\n\r\n## Steps \r\n\r\n- NodeJS runtime image is not available on Host `docker images |grep action-nodejs-v10`.\r\n- Start standalone Openwhisk, `java -jar openwhisk-standalone.jar`\r\n- If `action-nodejs-v10` image pull failed during initialization of startup, no warm-up container will be started. \r\n- Start a `watch docker ps -a` in another terminal. You will not see any warmup container running.\r\n- Pull image of nodejs runtime `docker pull openwhisk/openwhisk/action-nodejs-v10:latest`\r\n- Create nodejs sample action action\r\n- Invoke it, it works first time and you can see the warmup docker instance running in another terminal\r\n- Wait for docker unpause to happen (after 10 mins)\r\n- Again invoke action, it fails with below error.\r\n\r\n```bash\r\nwsk action invoke hello -p name neeraj -r -b \r\n{\r\n    \"error\": \"The action did not initialize and exited unexpectedly.\"\r\n}\r\n\r\n``` \r\n\r\n## Logs \r\n\r\n1. No docker image is available on host machine. \r\n\r\n```bash\r\n(base) Neerajs-MacBook-Pro:openwhisk-standalone mangal$ docker images |grep action-nodejs\r\nopenwhisk/action-nodejs-v8                                                        ab224ab                        061e9a2f8dd2        6 weeks ago         959MB\r\nopenwhisk/action-nodejs-v12                                                       ab224ab                        bb87dfe9cb8f        4e262c5cede3        6 weeks ago         963MB\r\nopenwhisk/action-nodejs-v10                                                       ab224ab                        4e262c5cede3        6 weeks ago         963MB\r\n```\r\n\r\n2. Startup logs of the standalone jar. You can see the image pull is failed and there will be no warm container for nodejs runtime in another terminal in `docker ps -a`. \r\n\r\n```bash\r\njava -jar openwhisk-standalone.jar\r\n\r\n        ____      ___                   _    _ _     _     _\r\n       /\\   \\    / _ \\ _ __   ___ _ __ | |  | | |__ (_)___| | __\r\n  /\\  /__\\   \\  | | | | '_ \\ / _ \\ '_ \\| |  | | '_ \\| / __| |/ /\r\n /  \\____ \\  /  | |_| | |_) |  __/ | | | |/\\| | | | | \\__ \\   <\r\n \\   \\  /  \\/    \\___/| .__/ \\___|_| |_|__/\\__|_| |_|_|___/_|\\_\\\r\n  \\___\\/ tm           |_|\r\n\r\nGit Commit: 0931083, Build Date: 2019-06-24T14:35:12+0530\r\n================================================================================\r\nRunning pre flight checks ...\r\n\r\n[  OK   ] 'docker' cli found.\r\n[  OK   ] 'docker' is running.\r\n[  OK   ] 'wsk' cli found.\r\n[  OK   ] 'wsk' configured for namespace [guest].\r\n[  OK   ] 'wsk' configured to connect to http://localhost:3233.\r\n================================================================================\r\n[2019-06-24T17:22:24.154Z] [INFO] Starting OpenWhisk standalone on port 3233\r\n[2019-06-24T17:22:25.520Z] [INFO] Slf4jLogger started\r\n[2019-06-24T17:22:26.836Z] [INFO] [#tid_sid_unknown] [MemoryArtifactStore] Created MemoryStore for [subjects]\r\n[2019-06-24T17:22:26.978Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore] [GET] 'subjects' finding document: 'id: guest' [marker:database_getDocument_start:479]\r\n[2019-06-24T17:22:26.986Z] [INFO] Starting the Kamon(SystemMetrics) module\r\n[2019-06-24T17:22:27.890Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore]  [marker:database_getDocument_finish:1393:1]\r\n[2019-06-24T17:22:27.949Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore] [PUT] 'subjects' saving document: 'id: guest, rev: null' [marker:database_saveDocument_start:1453]\r\n[2019-06-24T17:22:27.956Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore]  [marker:database_saveDocument_finish:1460:7]\r\n[2019-06-24T17:22:27.957Z] [INFO] [#tid_userBootstrap] [StandaloneOpenWhisk] Created user [guest]\r\n[2019-06-24T17:22:28.293Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore] [GET] 'subjects' finding document: 'id: whisk.system' [marker:database_getDocument_start:251]\r\n[2019-06-24T17:22:28.294Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore]  [marker:database_getDocument_finish:251:0]\r\n[2019-06-24T17:22:28.299Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore] [PUT] 'subjects' saving document: 'id: whisk.system, rev: null' [marker:database_saveDocument_start:257]\r\n[2019-06-24T17:22:28.300Z] [INFO] [#tid_sid_cli] [MemoryArtifactStore]  [marker:database_saveDocument_finish:258:1]\r\n[2019-06-24T17:22:28.301Z] [INFO] [#tid_userBootstrap] [StandaloneOpenWhisk] Created user [whisk.system]\r\n[2019-06-24T17:22:28.658Z] [INFO] The kamon.reporters setting is empty, no reporters have been started.\r\n[2019-06-24T17:22:29.182Z] [INFO] [#tid_sid_unknown] [Config] system set value for limits.triggers.fires.perMinute\r\n[2019-06-24T17:22:29.183Z] [INFO] [#tid_sid_unknown] [Config] system set value for limits.actions.sequence.maxLength\r\n[2019-06-24T17:22:29.183Z] [INFO] [#tid_sid_unknown] [Config] system set value for limits.actions.invokes.concurrent\r\n[2019-06-24T17:22:29.183Z] [INFO] [#tid_sid_unknown] [Config] system set value for controller.instances\r\n[2019-06-24T17:22:29.184Z] [INFO] [#tid_sid_unknown] [Config] system set value for whisk.api.host.name\r\n[2019-06-24T17:22:29.184Z] [INFO] [#tid_sid_unknown] [Config] system set value for limits.actions.invokes.perMinute\r\n[2019-06-24T17:22:29.185Z] [INFO] [#tid_sid_unknown] [Config] system set value for whisk.api.host.proto\r\n[2019-06-24T17:22:29.185Z] [INFO] [#tid_sid_unknown] [Config] system set value for whisk.api.host.port\r\n[2019-06-24T17:22:29.185Z] [INFO] [#tid_sid_unknown] [Config] system set value for runtimes.manifest\r\n[2019-06-24T17:22:29.186Z] [INFO] [#tid_sid_unknown] [Config] system set value for port\r\n[2019-06-24T17:22:29.823Z] [INFO] [#tid_sid_unknown] [LeanMessagingProvider] topic completedstandalone created\r\n[2019-06-24T17:22:29.823Z] [INFO] [#tid_sid_unknown] [LeanMessagingProvider] topic health created\r\n[2019-06-24T17:22:29.823Z] [INFO] [#tid_sid_unknown] [LeanMessagingProvider] topic cacheInvalidation created\r\n[2019-06-24T17:22:29.824Z] [INFO] [#tid_sid_unknown] [LeanMessagingProvider] topic events created\r\n[2019-06-24T17:22:30.289Z] [INFO] [#tid_sid_controller] [Controller] starting controller instance standalone [marker:controller_startup_counter:3951]\r\n[2019-06-24T17:22:30.403Z] [INFO] [#tid_sid_unknown] [MemoryArtifactStore] Created MemoryStore for [whisks]\r\n[2019-06-24T17:22:30.455Z] [INFO] [#tid_sid_dispatcher] [MessageFeed] handler capacity = 128, pipeline fill at = 128, pipeline depth = 256\r\n[2019-06-24T17:22:30.513Z] [INFO] [#tid_sid_dispatcher] [MessageFeed] handler capacity = 128, pipeline fill at = 128, pipeline depth = 256\r\n[2019-06-24T17:22:30.915Z] [INFO] [#tid_sid_unknown] [ExtendedDockerClient] Detected docker client version 18.05.0-ce\r\n[2019-06-24T17:22:30.916Z] [INFO] [#tid_sid_unknown] [InvokerReactive] LogStoreProvider: class org.apache.openwhisk.core.containerpool.docker.DockerCliLogStore\r\n[2019-06-24T17:22:31.145Z] [INFO] [#tid_sid_unknown] [DockerForMacClient] Detected docker client version 18.05.0-ce\r\n[2019-06-24T17:22:31.178Z] [INFO] [#tid_sid_invoker] [DockerForMacClient] running /usr/local/bin/docker ps --quiet --no-trunc --all --filter name=wsk0_ (timeout: 1 minute) [marker:invoker_docker.ps_start:4841]\r\n[2019-06-24T17:22:31.265Z] [INFO] [#tid_sid_invoker] [DockerForMacClient]  [marker:invoker_docker.ps_finish:4927:86]\r\n[2019-06-24T17:22:31.289Z] [INFO] [#tid_sid_invoker] [DockerContainerFactory] removing 0 action containers.\r\n[2019-06-24T17:22:31.502Z] [INFO] [#tid_sid_unknown] [MemoryArtifactStore] Created MemoryStore for [activations]\r\n[2019-06-24T17:22:31.650Z] [INFO] [#tid_sid_invoker] [MemoryArtifactStore] [QUERY] 'subjects' searching 'namespaceThrottlings/blockedNamespaces [marker:database_queryView_start:5312]\r\n[2019-06-24T17:22:31.659Z] [INFO] [#tid_sid_invoker] [MemoryArtifactStore]  [marker:database_queryView_finish:5322:9]\r\n[2019-06-24T17:22:31.664Z] [INFO] [#tid_sid_unknown] [InvokerReactive] updated blacklist to 0 entries\r\n[2019-06-24T17:22:31.879Z] [INFO] [#tid_sid_dispatcher] [MessageFeed] handler capacity = 8, pipeline fill at = 8, pipeline depth = 16\r\n[2019-06-24T17:22:31.900Z] [INFO] [#tid_sid_invokerWarmup] [ContainerPool] pre-warming 2 nodejs:10 256 MB\r\n[2019-06-24T17:22:31.901Z] [INFO] [#tid_sid_controller] [Controller] loadbalancer initialized: LeanBalancer\r\n[2019-06-24T17:22:31.997Z] [INFO] [#tid_sid_controller] [KindRestrictor] all kinds are allowed, the white-list is not specified\r\n[2019-06-24T17:22:32.209Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient] running /usr/local/bin/docker run -d -p 0:8080 --cpu-shares 256 --memory 256m --memory-swap 256m --network bridge -e __OW_API_HOST=http://host.docker.internal:3233 --name wsk0_1_prewarm_nodejs10 --cap-drop NET_RAW --cap-drop NET_ADMIN --ulimit nofile=1024:1024 --pids-limit 1024 --log-driver json-file openwhisk/action-nodejs-v10:latest (timeout: 1 minute) [marker:invoker_docker.run_start:5871]\r\n[2019-06-24T17:22:32.210Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient] running /usr/local/bin/docker run -d -p 0:8080 --cpu-shares 256 --memory 256m --memory-swap 256m --network bridge -e __OW_API_HOST=http://host.docker.internal:3233 --name wsk0_2_prewarm_nodejs10 --cap-drop NET_RAW --cap-drop NET_ADMIN --ulimit nofile=1024:1024 --pids-limit 1024 --log-driver json-file openwhisk/action-nodejs-v10:latest (timeout: 1 minute) [marker:invoker_docker.run_start:5871]\r\n[2019-06-24T17:22:32.619Z] [INFO] [#tid_sid_unknown] [ExtendedDockerClient] Detected docker client version 18.05.0-ce\r\n[2019-06-24T17:22:34.085Z] [INFO] [#tid_sid_controller] [ActionsApi] actionSequenceLimit '50'\r\n[2019-06-24T17:23:32.301Z] [ERROR] [#tid_sid_invokerWarmup] [DockerForMacClient] info: command was terminated, took longer than 1 minute, code: 143 (terminated by signal SIGTERM), stdout: , stderr: Unable to find image 'openwhisk/action-nodejs-v10:latest' locally\r\nlatest: Pulling from openwhisk/action-nodejs-v10\r\nc5e155d5a1d1: Pulling fs layer\r\n221d80d00ae9: Pulling fs layer\r\n4250b3117dca: Pulling fs layer\r\n3b7ca19181b2: Pulling fs layer\r\n425d7b2a5bcc: Pulling fs layer\r\n69df12c70287: Pulling fs layer\r\nad53476a61f2: Pulling fs layer\r\n204bb8bac4a1: Pulling fs layer\r\ne15197924b53: Pulling fs layer\r\nb095df4a85d6: Pulling fs layer\r\n9038287d9c58: Pulling fs layer\r\n3a303a4e5699: Pulling fs layer\r\nc3b8ce658191: Pulling fs layer\r\n204bb8bac4a1: Waiting\r\ne15197924b53: Waiting\r\nb095df4a85d6: Waiting\r\n9038287d9c58: Waiting\r\n3a303a4e5699: Waiting\r\nc3b8ce658191: Waiting\r\nad53476a61f2: Waiting\r\n3b7ca19181b2: Waiting\r\n425d7b2a5bcc: Waiting\r\n69df12c70287: Waiting\r\n4250b3117dca: Verifying Checksum\r\n4250b3117dca: Download complete\r\n221d80d00ae9: Verifying Checksum\r\n221d80d00ae9: Download complete\r\nc5e155d5a1d1: Verifying Checksum\r\nc5e155d5a1d1: Download complete\r\n69df12c70287: Verifying Checksum\r\n69df12c70287: Download complete\r\n3b7ca19181b2: Verifying Checksum\r\n3b7ca19181b2: Download complete\r\n204bb8bac4a1: Download complete\r\nc5e155d5a1d1: Pull complete\r\n221d80d00ae9: Pull complete\r\nad53476a61f2: Verifying Checksum\r\nad53476a61f2: Download complete\r\n4250b3117dca: Pull complete\r\nb095df4a85d6: Verifying Checksum\r\nb095df4a85d6: Download complete\r\ne15197924b53: Verifying Checksum\r\ne15197924b53: Download complete\r\n9038287d9c58: Verifying Checksum\r\n9038287d9c58: Download complete\r\n3a303a4e5699: Verifying Checksum\r\n3a303a4e5699: Download complete\r\nc3b8ce658191: Download complete\r\n3b7ca19181b2: Pull complete [marker:invoker_docker.run_error:65956:60072]\r\n```\r\n3. Pull nodejs runtime image on host\r\n4. Create action hello.js\r\n\r\n```bash\r\n[2019-06-24T17:25:11.991Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] PUT /api/v1/namespaces/_/actions/hello overwrite=false\r\n[2019-06-24T17:25:12.095Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [BasicAuthenticationDirective] authenticate: 23bc46b1-71f6-4ed5-8c54-816aa4f8c502\r\n[2019-06-24T17:25:12.228Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [Identity] [GET] serving from datastore: CacheKey(23bc46b1-71f6-4ed5-8c54-816aa4f8c502) [marker:database_cacheMiss_counter:250]\r\n[2019-06-24T17:25:12.228Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore] [QUERY] 'subjects' searching 'subjects/identities [marker:database_queryView_start:250]\r\n[2019-06-24T17:25:12.236Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore] [GET] 'subjects' finding document: 'guest/limits' [marker:database_getDocument_start:258]\r\n[2019-06-24T17:25:12.237Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore]  [marker:database_getDocument_finish:259:1]\r\n[2019-06-24T17:25:12.245Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore]  [marker:database_queryView_finish:267:16]\r\n[2019-06-24T17:25:12.455Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [WhiskAction] [GET] serving from datastore: CacheKey(guest/hello) [marker:database_cacheMiss_counter:475]\r\n[2019-06-24T17:25:12.456Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore] [GET] 'whisks' finding document: 'id: guest/hello' [marker:database_getDocument_start:478]\r\n[2019-06-24T17:25:12.457Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore]  [marker:database_getDocument_finish:478:0]\r\n[2019-06-24T17:25:12.474Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [WhiskAction] invalidating CacheKey(guest/hello)\r\n[2019-06-24T17:25:12.637Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [WhiskAction] write initiated on new cache entry\r\n[2019-06-24T17:25:12.851Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore] [PUT] 'whisks' saving document: 'id: guest/hello, rev: null' [marker:database_saveDocument_start:869]\r\n[2019-06-24T17:25:12.852Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [MemoryArtifactStore]  [marker:database_saveDocument_finish:870:1]\r\n[2019-06-24T17:25:12.878Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [WhiskAction] write all done, caching CacheKey(guest/hello) Cached\r\n[2019-06-24T17:25:12.990Z] [INFO] [#tid_Z3pKiYQ84Kz6QCzA81tcQVIXfBp7AwD4] [BasicHttpService] [marker:http_put.200_counter:1010:1010]```\r\n\r\n5. Invoke function in blocking mode and you can see the warmup docker instance running. \r\n\r\n```bash\r\n[2019-06-24T17:29:57.270Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] POST /api/v1/namespaces/_/actions/hello blocking=true&result=true\r\n[2019-06-24T17:29:57.278Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [BasicAuthenticationDirective] authenticate: 23bc46b1-71f6-4ed5-8c54-816aa4f8c502\r\n[2019-06-24T17:29:57.282Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [Identity] [GET] serving from cache: CacheKey(23bc46b1-71f6-4ed5-8c54-816aa4f8c502) [marker:database_cacheHit_counter:15]\r\n[2019-06-24T17:29:57.326Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [WhiskActionMetaData] [GET] serving from cache: CacheKey(guest/hello) [marker:database_cacheHit_counter:58]\r\n[2019-06-24T17:29:57.332Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ActionsApi]  [marker:controller_blockingActivation_start:64]\r\n[2019-06-24T17:29:57.333Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ActionsApi] action activation id: c23b347a16034e9cbb347a16030e9cb0 [marker:controller_loadbalancer_start:65]\r\n[2019-06-24T17:29:57.334Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [LeanBalancer] posting topic 'invoker0' with activation id 'c23b347a16034e9cbb347a16030e9cb0' [marker:controller_kafka_start:67]\r\n[2019-06-24T17:29:57.341Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [LeanBalancer] posted to invoker0[0][-1] [marker:controller_kafka_finish:72:5]\r\n[2019-06-24T17:29:57.341Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ActionsApi]  [marker:controller_loadbalancer_finish:74:9]\r\n[2019-06-24T17:29:57.360Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [InvokerReactive]  [marker:invoker_activation_start:82]\r\n[2019-06-24T17:29:57.360Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [WhiskAction] [GET] serving from cache: CacheKey(guest/hello) [marker:database_cacheHit_counter:83]\r\n[2019-06-24T17:29:57.360Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ContainerPool] containerStart containerState: cold container: None activations: 1 of max 1 action: hello namespace: guest activationId: c23b347a16034e9cbb347a16030e9cb0 [marker:invoker_containerStart.cold_counter:90]\r\n[2019-06-24T17:29:57.363Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerForMacClient] running /usr/local/bin/docker run -d -p 0:8080 --cpu-shares 256 --memory 256m --memory-swap 256m --network bridge -e __OW_API_HOST=http://host.docker.internal:3233 --name wsk0_4_guest_hello --cap-drop NET_RAW --cap-drop NET_ADMIN --ulimit nofile=1024:1024 --pids-limit 1024 --log-driver json-file openwhisk/action-nodejs-v10:latest (timeout: 1 minute) [marker:invoker_docker.run_start:95]\r\n[2019-06-24T17:29:58.358Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerForMacClient]  [marker:invoker_docker.run_finish:1091:995]\r\n[2019-06-24T17:29:58.376Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerForMacClient] running /usr/local/bin/docker inspect --format {{(index (index .NetworkSettings.Ports \"8080/tcp\") 0).HostPort}} 1ae1f28d23b5ee334bb7916592da0e895bdfd2d1b309ae4429d1f70324e41976 (timeout: 10 seconds) [marker:invoker_docker.inspect_start:1108]\r\n[2019-06-24T17:29:58.528Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerForMacClient]  [marker:invoker_docker.inspect_finish:1260:152]\r\n[2019-06-24T17:29:58.561Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerContainer] sending initialization to ContainerId(1ae1f28d23b5ee334bb7916592da0e895bdfd2d1b309ae4429d1f70324e41976) ContainerAddress(localhost,32792) [marker:invoker_activationInit_start:1293]\r\n[2019-06-24T17:30:00.705Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerContainer] initialization result: ok [marker:invoker_activationInit_finish:3438:2137]\r\n[2019-06-24T17:30:00.710Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerContainer] sending arguments to /guest/hello at ContainerId(1ae1f28d23b5ee334bb7916592da0e895bdfd2d1b309ae4429d1f70324e41976) ContainerAddress(localhost,32792) [marker:invoker_activationRun_start:3442]\r\n[2019-06-24T17:30:00.914Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [DockerContainer] running result: ok [marker:invoker_activationRun_finish:3646:202]\r\n[2019-06-24T17:30:00.920Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ContainerProxy]  [marker:invoker_collectLogs_start:3652]\r\n[2019-06-24T17:30:00.922Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ExtendedDockerClient] running /usr/local/bin/docker logs 1ae1f28d23b5ee334bb7916592da0e895bdfd2d1b309ae4429d1f70324e41976 --since 1561377598 --until 1561377601 --timestamps (timeout: 2 seconds) [marker:invoker_docker.logs_start:3655]\r\n[2019-06-24T17:30:00.944Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [InvokerReactive] posted completion of activation c23b347a16034e9cbb347a16030e9cb0\r\n[2019-06-24T17:30:00.952Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [LeanBalancer] received result ack for 'c23b347a16034e9cbb347a16030e9cb0'\r\n[2019-06-24T17:30:00.952Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ActionsApi]  [marker:controller_blockingActivation_finish:3685:3621]\r\n[2019-06-24T17:30:00.957Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [BasicHttpService] [marker:http_post.200_counter:3689:3689]\r\n[2019-06-24T17:30:01.726Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ExtendedDockerClient]  [marker:invoker_docker.logs_finish:4459:804]\r\n[2019-06-24T17:30:01.730Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [ContainerProxy]  [marker:invoker_collectLogs_finish:4462:809]\r\n[2019-06-24T17:30:01.736Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [MemoryArtifactStore] [PUT] 'activations' saving document: 'id: guest/c23b347a16034e9cbb347a16030e9cb0, rev: null' [marker:database_saveDocument_start:4468]\r\n[2019-06-24T17:30:01.739Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [MemoryArtifactStore]  [marker:database_saveDocument_finish:4472:3]\r\n[2019-06-24T17:30:01.739Z] [INFO] [#tid_bRZrvyAOj8ps0iamWmSfvGQ80tbLbUFI] [InvokerReactive] posted completion of activation c23b347a16034e9cbb347a16030e9cb0\r\n```\r\n\r\n6. Wait for docker unpause to happen after 10 mins. \r\n\r\n```bash\r\n[2019-06-24T17:40:23.476Z] [INFO] [#tid_sid_invokerNanny] [DockerForMacClient] running /usr/local/bin/docker unpause 1ae1f28d23b5ee334bb7916592da0e895bdfd2d1b309ae4429d1f70324e41976 (timeout: 10 seconds) [marker:invoker_docker.unpause_start:1077136]\r\n[2019-06-24T17:40:23.733Z] [INFO] [#tid_sid_invokerNanny] [DockerForMacClient]  [marker:invoker_docker.unpause_finish:1077396:258]\r\n[2019-06-24T17:40:23.797Z] [INFO] [#tid_sid_invokerNanny] [DockerForMacClient] running /usr/local/bin/docker rm -f 1ae1f28d23b5ee334bb7916592da0e895bdfd2d1b309ae4429d1f70324e41976 (timeout: 1 minute) [marker:invoker_docker.rm_start:1077459]\r\n[2019-06-24T17:40:25.047Z] [INFO] [#tid_sid_invokerNanny] [DockerForMacClient]  [marker:invoker_docker.rm_finish:1078710:1251]\r\n```\r\n\r\n7. Again invoke action, it fails with below error.\r\n\r\n```bash\r\n[2019-06-24T17:40:50.818Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] POST /api/v1/namespaces/_/actions/hello blocking=true&result=true\r\n[2019-06-24T17:40:50.835Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [BasicAuthenticationDirective] authenticate: 23bc46b1-71f6-4ed5-8c54-816aa4f8c502\r\n[2019-06-24T17:40:50.841Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [Identity] [GET] serving from datastore: CacheKey(23bc46b1-71f6-4ed5-8c54-816aa4f8c502) [marker:database_cacheMiss_counter:29]\r\n[2019-06-24T17:40:50.843Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore] [QUERY] 'subjects' searching 'subjects/identities [marker:database_queryView_start:29]\r\n[2019-06-24T17:40:50.858Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore] [GET] 'subjects' finding document: 'guest/limits' [marker:database_getDocument_start:45]\r\n[2019-06-24T17:40:50.858Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore]  [marker:database_getDocument_finish:45:0]\r\n[2019-06-24T17:40:50.862Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore]  [marker:database_queryView_finish:48:18]\r\n[2019-06-24T17:40:50.901Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [WhiskActionMetaData] [GET] serving from datastore: CacheKey(guest/hello) [marker:database_cacheMiss_counter:89]\r\n[2019-06-24T17:40:50.901Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore] [GET] 'whisks' finding document: 'id: guest/hello' [marker:database_getDocument_start:90]\r\n[2019-06-24T17:40:50.904Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore]  [marker:database_getDocument_finish:92:2]\r\n[2019-06-24T17:40:50.930Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [ActionsApi]  [marker:controller_blockingActivation_start:119]\r\n[2019-06-24T17:40:50.931Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [ActionsApi] action activation id: 3d5b132d251042e39b132d2510b2e311 [marker:controller_loadbalancer_start:119]\r\n[2019-06-24T17:40:50.931Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [LeanBalancer] posting topic 'invoker0' with activation id '3d5b132d251042e39b132d2510b2e311' [marker:controller_kafka_start:120]\r\n[2019-06-24T17:40:50.932Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [LeanBalancer] posted to invoker0[0][-1] [marker:controller_kafka_finish:121:1]\r\n[2019-06-24T17:40:50.933Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [ActionsApi]  [marker:controller_loadbalancer_finish:122:3]\r\n[2019-06-24T17:40:50.936Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [InvokerReactive]  [marker:invoker_activation_start:124]\r\n[2019-06-24T17:40:50.963Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [WhiskAction] [GET] serving from datastore: CacheKey(guest/hello) [marker:database_cacheMiss_counter:126]\r\n[2019-06-24T17:40:50.963Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore] [GET] 'whisks' finding document: 'id: guest/hello, rev: sha256-f9d277cdcb3b0291e51a5f5483c51fac211543345be2513e5235c7ed9993f02c' [marker:database_getDocument_start:126]\r\n[2019-06-24T17:40:50.963Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore]  [marker:database_getDocument_finish:126:0]\r\n[2019-06-24T17:40:50.963Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [MemoryArtifactStore] [ATT_GET] 'whisks' finding attachment 'mem:ZnVuY3Rpb24gbWFpbihhcmdzKSB7CiAgICAgICAgY29uc29sZS5sb2coYXJncykKCXJldHVybiB7cGF5bG9hZDogJ0hlbGxvICcgKyBhcmdzLm5hbWV9Owp9Cg==' of document 'id: guest/hello, rev: sha256-f9d277cdcb3b0291e51a5f5483c51fac211543345be2513e5235c7ed9993f02c' [marker:database_getDocumentAttachment_start:139]\r\n[2019-06-24T17:40:51.013Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [WhiskAction] write initiated on existing cache entry, invalidating CacheKey(guest/hello), tid 4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY, state WriteInProgress\r\n[2019-06-24T17:40:51.013Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [WhiskAction] write all done, caching CacheKey(guest/hello) Cached\r\n[2019-06-24T17:40:51.018Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [ContainerPool] containerStart containerState: cold container: None activations: 1 of max 1 action: hello namespace: guest activationId: 3d5b132d251042e39b132d2510b2e311 [marker:invoker_containerStart.cold_counter:206]\r\n[2019-06-24T17:40:51.020Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [DockerForMacClient] running /usr/local/bin/docker run -d -p 0:8080 --cpu-shares 256 --memory 256m --memory-swap 256m --network bridge -e __OW_API_HOST=http://host.docker.internal:3233 --name wsk0_5_guest_hello --cap-drop NET_RAW --cap-drop NET_ADMIN --ulimit nofile=1024:1024 --pids-limit 1024 --log-driver json-file openwhisk/action-nodejs-v10:latest (timeout: 1 minute) [marker:invoker_docker.run_start:209]\r\n[2019-06-24T17:40:53.027Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [DockerForMacClient]  [marker:invoker_docker.run_finish:2216:2006]\r\n[2019-06-24T17:40:53.027Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [DockerForMacClient] running /usr/local/bin/docker inspect --format {{(index (index .NetworkSettings.Ports \"8080/tcp\") 0).HostPort}} 6b1bfecca07499c7a3317d9240c69bfe3004e806579485e37cd9f90c9d5107aa (timeout: 10 seconds) [marker:invoker_docker.inspect_start:2216]\r\n[2019-06-24T17:40:53.167Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [DockerForMacClient]  [marker:invoker_docker.inspect_finish:2356:140]\r\n[2019-06-24T17:40:53.168Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [DockerContainer] sending initialization to ContainerId(6b1bfecca07499c7a3317d9240c69bfe3004e806579485e37cd9f90c9d5107aa) ContainerAddress(localhost,32793) [marker:invoker_activationInit_start:2356]\r\n[2019-06-24T17:41:05.241Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] **[DockerContainer] initialization result: ConnectionError(org.apache.http.NoHttpResponseException: The target server failed to respond) [marker:invoker_activationInit_finish:14429:33]**\r\n[2019-06-24T17:41:05.264Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [ContainerProxy]  [marker:invoker_collectLogs_start:14452]\r\n[2019-06-24T17:41:05.264Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [ExtendedDockerClient] running /usr/local/bin/docker logs 6b1bfecca07499c7a3317d9240c69bfe3004e806579485e37cd9f90c9d5107aa --since 1561378253 --until 1561378254 --timestamps (timeout: 2 seconds) [marker:invoker_docker.logs_start:14452]\r\n[2019-06-24T17:41:05.267Z] [INFO] [#tid_4aNUR6aIFQWK1jE0fbFZI6qt9k40DQsY] [InvokerReactive] posted completion of activation 3d5b132d251042e39b132d2510b2e311\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505075730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505384473","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505384473","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505384473,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM4NDQ3Mw==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T10:26:05Z","updated_at":"2019-06-25T10:26:44Z","author_association":"MEMBER","body":"@neerajmangal Thanks for reporting the details. I have now introduced a new `StandaloneDockerContainerFactory` which would now do couple of things\r\n\r\n1. Instantiate an OS specific `DockerClient` implementation which takes care of any OS specific quirks related to launching Docker container\r\n2. It would also do a pull for images which are considered to be provided by OpenWhisk. This info would be cached such that for subsequent calls no pull call is made\r\n\r\nI tested it locally by first purging all nodejs runtimes\r\n\r\n```bash\r\ndocker rmi $(docker images --filter=reference='openwhisk/*node*' -q)\r\n```\r\n\r\nThen post startup I can see in logs that pull is performed\r\n\r\n```\r\n[2019-06-25T15:45:12.404Z] [INFO] [#tid_sid_unknown] [ExtendedDockerClient] Detected docker client version 18.09.2\r\n[2019-06-25T15:45:12.483Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient] running /usr/local/bin/docker pull openwhisk/action-nodejs-v10:latest (timeout: 10 minutes) [marker:invoker_docker.pull_start:2294]\r\n[2019-06-25T15:45:12.483Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient] running /usr/local/bin/docker pull openwhisk/action-nodejs-v10:latest (timeout: 10 minutes) [marker:invoker_docker.pull_start:2294]\r\n[2019-06-25T15:45:12.942Z] [INFO] [#tid_sid_controller] [ActionsApi] actionSequenceLimit '50'\r\n[2019-06-25T15:45:52.378Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient]  [marker:invoker_docker.pull_finish:42189:39895]\r\n[2019-06-25T15:45:52.379Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient]  [marker:invoker_docker.pull_finish:42189:39895]\r\n[2019-06-25T15:45:52.380Z] [INFO] [#tid_sid_unknown] [StandaloneDockerContainerFactory] Pulled OpenWhisk provided image wsk0_2_prewarm_nodejs10\r\n[2019-06-25T15:45:52.380Z] [INFO] [#tid_sid_unknown] [StandaloneDockerContainerFactory] Pulled OpenWhisk provided image wsk0_1_prewarm_nodejs10\r\n[2019-06-25T15:45:52.450Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient] running /usr/local/bin/docker run -d -p 0:8080 --cpu-shares 256 --memory 256m --memory-swap 256m --network bridge -e __OW_API_HOST=http://host.docker.internal:3233 --name wsk0_2_prewarm_nodejs10 --cap-drop NET_RAW --cap-drop NET_ADMIN --ulimit nofile=1024:1024 --pids-limit 1024 --log-driver json-file openwhisk/action-nodejs-v10:latest (timeout: 1 minute) [marker:invoker_docker.run_start:42261]\r\n[2019-06-25T15:45:52.450Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient] running /usr/local/bin/docker run -d -p 0:8080 --cpu-shares 256 --memory 256m --memory-swap 256m --network bridge -e __OW_API_HOST=http://host.docker.internal:3233 --name wsk0_1_prewarm_nodejs10 --cap-drop NET_RAW --cap-drop NET_ADMIN --ulimit nofile=1024:1024 --pids-limit 1024 --log-driver json-file openwhisk/action-nodejs-v10:latest (timeout: 1 minute) [marker:invoker_docker.run_start:42261]\r\n[2019-06-25T15:45:53.389Z] [INFO] [#tid_sid_invokerWarmup] [DockerForMacClient]  [marker:invoker_docker.run_finish:43201:940]\r\n```\r\n\r\nWith this I hope we should be able to work fine on those setups where the required runtime image does not preexists. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505384473/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505437792","html_url":"https://github.com/apache/openwhisk/pull/4520#issuecomment-505437792","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4520","id":505437792,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQzNzc5Mg==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T13:11:15Z","updated_at":"2019-06-25T13:11:15Z","author_association":"MEMBER","body":"Sample messages with latest changes:\r\n\r\n```\r\n[2019-06-25T13:03:16.758Z] [INFO] [#tid_sid_loadbalancer] [ShardingContainerPoolBalancerState] loadbalancer cluster size changed from 1 to 2 active nodes. 3 invokers with 2048 MB average memory size - total invoker memory 6144 MB.\r\n```\r\n\r\n```\r\n[2019-06-25T13:03:40.752Z] [INFO] [#tid_sid_loadbalancer] [ShardingContainerPoolBalancerState] loadbalancer cluster size changed from 2 to 1 active nodes. 3 invokers with 4096 MB average memory size - total invoker memory 12288 MB.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505437792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505438293","html_url":"https://github.com/apache/openwhisk/pull/4520#issuecomment-505438293","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4520","id":505438293,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQzODI5Mw==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T13:12:32Z","updated_at":"2019-06-26T06:26:47Z","author_association":"MEMBER","body":"PG4 / 2904 completed with a problem that is unrelated to the change...\r\n\r\n```\r\nStarting test Whisk actions should invoke action with large code at 2019-06-25 10:56:56.258\r\nException occurred during test execution: org.scalatest.exceptions.TestFailedException: The future returned an exception of type: java.util.concurrent.TimeoutException, with message: HttpEntity.toStrict timed out after 5 seconds while still waiting for outstanding data.\r\n\r\nFinished test Whisk actions should invoke action with large code at 2019-06-25 10:57:09.392\r\n```\r\n\r\n^^ This is very likely a transient network problem because the large action needs to be transferred via network and is transferred back to the client after creation.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505438293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505464260","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505464260","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505464260,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQ2NDI2MA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T14:14:39Z","updated_at":"2019-06-25T14:14:39Z","author_association":"MEMBER","body":"Two suggestions: when startup detects that `wsk` is not configured properly, it will emit an `ERROR` which I think should be a `WARN` instead. I would also emit the `wsk property set ...` command as part of the same line if possible and color the whole text so it's easier to spot. It's easy to miss with text scrolling by.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505464260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505475646","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505475646","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505475646,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQ3NTY0Ng==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T14:40:07Z","updated_at":"2019-06-25T14:40:07Z","author_association":"MEMBER","body":"if the runtimes file is missing, you get a stack trace instead of a nice error - i can open this is as a defect post merge i imagine there could be a number of things to improve as this is more heavily used.\r\n\r\n\r\n```\r\nException in thread \"main\" java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:86)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\nCaused by: java.io.FileNotFoundException: File 'runtimes.json' does not exist\r\n\tat org.apache.commons.io.FileUtils.openInputStream(FileUtils.java:297)\r\n\tat org.apache.commons.io.FileUtils.readFileToString(FileUtils.java:1805)\r\n\tat org.apache.openwhisk.standalone.StandaloneOpenWhisk$.configureRuntimeManifest(StandaloneOpenWhisk.scala:162)\r\n\tat org.apache.openwhisk.standalone.StandaloneOpenWhisk$.initialize(StandaloneOpenWhisk.scala:123)\r\n\tat org.apache.openwhisk.standalone.StandaloneOpenWhisk$.main(StandaloneOpenWhisk.scala:109)\r\n\tat org.apache.openwhisk.standalone.StandaloneOpenWhisk.main(StandaloneOpenWhisk.scala)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505475646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505478870","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505478870","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505478870,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQ3ODg3MA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T14:47:25Z","updated_at":"2019-06-25T14:47:25Z","author_association":"MEMBER","body":"@chetanmeh i think the docker pull logic is too eager - it doesn't permit the use of local images that aren't on dockerhub (in a normal deployment we white list certain image prefixes to prevent the explicit docker pull). I suspect we can replicate this here, taking a look.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505478870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505484539","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505484539","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505484539,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQ4NDUzOQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T15:00:20Z","updated_at":"2019-06-25T15:00:20Z","author_association":"MEMBER","body":"i would also like to add a `wskdev` target for standalone.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505484539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505493432","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505493432","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505493432,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQ5MzQzMg==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T15:21:24Z","updated_at":"2019-06-25T15:21:24Z","author_association":"MEMBER","body":"> if the runtimes file is missing, you get a stack trace instead of a nice error\r\n\r\nNow it would show an error message like below\r\n\r\n```\r\n[openwhisk] Error: Validation failure for 'manifest' option parameters: /path/to/non-existing.json\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505493432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505495586","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505495586","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505495586,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQ5NTU4Ng==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T15:26:04Z","updated_at":"2019-06-25T15:26:04Z","author_association":"MEMBER","body":"> Two suggestions: when startup detects that `wsk` is not configured properly, it will emit an `ERROR` which I think should be a `WARN` instead. I would also emit the `wsk property set ...` command as part of the same line if possible and color the whole text so it's easier to spot. It's easy to miss with text scrolling by.\r\n\r\nNow it marks it as warning\r\n\r\n<img width=\"663\" alt=\"image\" src=\"https://user-images.githubusercontent.com/664531/60111466-9f472900-978b-11e9-95b8-f436fe8ed615.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505495586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505497404","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505497404","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505497404,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTQ5NzQwNA==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T15:30:19Z","updated_at":"2019-06-25T15:30:19Z","author_association":"MEMBER","body":"> i think the docker pull logic is too eager - it doesn't permit the use of local images that aren't on dockerhub\r\n\r\nFixed that now by ensuring that eager pull is only done for `openwhisk/xxx` images","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505497404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505505062","html_url":"https://github.com/apache/openwhisk/pull/4516#issuecomment-505505062","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4516","id":505505062,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTUwNTA2Mg==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T15:48:23Z","updated_at":"2019-06-25T15:48:23Z","author_association":"MEMBER","body":"> i would also like to add a `wskdev` target for standalone.\r\n\r\nAdded `wskdev standalone` target now which directly launches the standalone jar via gradle","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505505062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505537526","html_url":"https://github.com/apache/openwhisk/pull/4494#issuecomment-505537526","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4494","id":505537526,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTUzNzUyNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T17:13:03Z","updated_at":"2019-06-25T17:13:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494?src=pr&el=h1) Report\n> Merging [#4494](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/7d92be7d4179c2db9780c582329c075732220e39?src=pr&el=desc) will **decrease** coverage by `3.58%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4494      +/-   ##\n==========================================\n- Coverage   83.65%   80.06%   -3.59%     \n==========================================\n  Files         174      174              \n  Lines        8023     8023              \n  Branches      552      552              \n==========================================\n- Hits         6712     6424     -288     \n- Misses       1311     1599     +288\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.89%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-74.08%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `4% <0%> (-52%)` | :arrow_down: |\n| [...re/database/cosmosdb/CollectionResourceUsage.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29sbGVjdGlvblJlc291cmNlVXNhZ2Uuc2NhbGE=) | `72.22% <0%> (-27.78%)` | :arrow_down: |\n| [...in/scala/org/apache/openwhisk/common/Counter.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvbW1vbi9Db3VudGVyLnNjYWxh) | `40% <0%> (-20%)` | :arrow_down: |\n| [...penwhisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `81.81% <0%> (-15.16%)` | :arrow_down: |\n| [...nwhisk/core/database/cosmosdb/CosmosDBConfig.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJDb25maWcuc2NhbGE=) | `94.11% <0%> (-5.89%)` | :arrow_down: |\n| [...in/scala/org/apache/openwhisk/common/Logging.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvb3BlbndoaXNrL2NvbW1vbi9Mb2dnaW5nLnNjYWxh) | `69.75% <0%> (-4.33%)` | :arrow_down: |\n| ... and [27 more](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494?src=pr&el=footer). Last update [7d92be7...321a7d5](https://codecov.io/gh/apache/incubator-openwhisk/pull/4494?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505537526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505651923","html_url":"https://github.com/apache/openwhisk/issues/2829#issuecomment-505651923","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2829","id":505651923,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTY1MTkyMw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T22:53:24Z","updated_at":"2019-06-25T22:53:24Z","author_association":"MEMBER","body":"closing as duplicate of https://github.com/apache/incubator-openwhisk/issues/3172.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505651923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505652217","html_url":"https://github.com/apache/openwhisk/issues/3419#issuecomment-505652217","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3419","id":505652217,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTY1MjIxNw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-25T22:54:34Z","updated_at":"2019-06-25T22:54:34Z","author_association":"MEMBER","body":"Context is provided on run.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505652217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505699581","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-505699581","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":505699581,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTY5OTU4MQ==","user":{"login":"reachyunsong","id":50639257,"node_id":"MDQ6VXNlcjUwNjM5MjU3","avatar_url":"https://avatars.githubusercontent.com/u/50639257?v=4","gravatar_id":"","url":"https://api.github.com/users/reachyunsong","html_url":"https://github.com/reachyunsong","followers_url":"https://api.github.com/users/reachyunsong/followers","following_url":"https://api.github.com/users/reachyunsong/following{/other_user}","gists_url":"https://api.github.com/users/reachyunsong/gists{/gist_id}","starred_url":"https://api.github.com/users/reachyunsong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reachyunsong/subscriptions","organizations_url":"https://api.github.com/users/reachyunsong/orgs","repos_url":"https://api.github.com/users/reachyunsong/repos","events_url":"https://api.github.com/users/reachyunsong/events{/privacy}","received_events_url":"https://api.github.com/users/reachyunsong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-26T03:09:57Z","updated_at":"2019-06-26T03:09:57Z","author_association":"NONE","body":"hi, I met the same issue when running openwhisk.yml, and removing log file of `controller0` doesn't help. How to deal with this issue...\r\n```PLAY [zookeepers] ****************************************************************************************\r\n\r\nTASK [Gathering Facts] ***********************************************************************************\r\nTuesday 25 June 2019  21:02:20 -0600 (0:00:00.148)       0:00:00.148 **********\r\nok: [kafka0]\r\n\r\nTASK [zookeeper : pull the zookeeper:3.4 image] **********************************************************\r\nTuesday 25 June 2019  21:02:21 -0600 (0:00:01.321)       0:00:01.469 **********\r\nchanged: [kafka0]\r\n\r\nTASK [zookeeper : (re)start zookeeper] *******************************************************************\r\nTuesday 25 June 2019  21:02:23 -0600 (0:00:01.597)       0:00:03.067 **********\r\nchanged: [kafka0]\r\n\r\nTASK [zookeeper : wait until the Zookeeper in this host is up and running] *******************************\r\nTuesday 25 June 2019  21:02:26 -0600 (0:00:03.266)       0:00:06.333 **********\r\nFAILED - RETRYING: wait until the Zookeeper in this host is up and running (36 retries left).\r\nchanged: [kafka0]\r\n\r\nTASK [zookeeper : remove old zookeeper] ******************************************************************\r\nTuesday 25 June 2019  21:02:33 -0600 (0:00:07.504)       0:00:13.837 **********\r\nskipping: [kafka0]\r\n\r\nTASK [zookeeper : remove zookeeper] **********************************************************************\r\nTuesday 25 June 2019  21:02:33 -0600 (0:00:00.088)       0:00:13.926 **********\r\nskipping: [kafka0]\r\n\r\nPLAY [kafkas] ********************************************************************************************\r\n\r\nTASK [Gathering Facts] ***********************************************************************************\r\nTuesday 25 June 2019  21:02:34 -0600 (0:00:00.093)       0:00:14.019 **********\r\nok: [kafka0]\r\n\r\nTASK [kafka : create kafka certificate directory] ********************************************************\r\nTuesday 25 June 2019  21:02:35 -0600 (0:00:01.120)       0:00:15.140 **********\r\nok: [kafka0]\r\n\r\nTASK [kafka : copy keystore] *****************************************************************************\r\nTuesday 25 June 2019  21:02:35 -0600 (0:00:00.532)       0:00:15.672 **********\r\nskipping: [kafka0]\r\n\r\nTASK [kafka : add kafka default env vars] ****************************************************************\r\nTuesday 25 June 2019  21:02:35 -0600 (0:00:00.108)       0:00:15.781 **********\r\nok: [kafka0]\r\n\r\nTASK [kafka : add kafka non-ssl vars] ********************************************************************\r\nTuesday 25 June 2019  21:02:36 -0600 (0:00:00.462)       0:00:16.243 **********\r\nok: [kafka0]\r\n\r\nTASK [kafka : add kafka ssl env vars] ********************************************************************\r\nTuesday 25 June 2019  21:02:36 -0600 (0:00:00.204)       0:00:16.448 **********\r\nskipping: [kafka0]\r\n\r\nTASK [kafka : join kafka ssl env vars] *******************************************************************\r\nTuesday 25 June 2019  21:02:36 -0600 (0:00:00.072)       0:00:16.520 **********\r\nskipping: [kafka0]\r\n\r\nTASK [kafka : join kafka non-ssl env vars] ***************************************************************\r\nTuesday 25 June 2019  21:02:36 -0600 (0:00:00.069)       0:00:16.589 **********\r\nok: [kafka0]\r\n\r\nTASK [kafka : (re)start kafka using 'wurstmeister/kafka:0.11.0.1'] ***************************************\r\nTuesday 25 June 2019  21:02:36 -0600 (0:00:00.187)       0:00:16.776 **********\r\nchanged: [kafka0]\r\n\r\nTASK [kafka : wait until the kafka server started up] ****************************************************\r\nTuesday 25 June 2019  21:02:50 -0600 (0:00:13.513)       0:00:30.289 **********\r\nFAILED - RETRYING: wait until the kafka server started up (10 retries left).\r\nchanged: [kafka0]\r\n\r\nTASK [kafka : remove old kafka] **************************************************************************\r\nTuesday 25 June 2019  21:02:58 -0600 (0:00:07.766)       0:00:38.056 **********\r\nskipping: [kafka0]\r\n\r\nTASK [kafka : remove kafka] ******************************************************************************\r\nTuesday 25 June 2019  21:02:58 -0600 (0:00:00.090)       0:00:38.146 **********\r\nskipping: [kafka0]\r\n\r\nPLAY [controllers] ***************************************************************************************\r\n\r\nTASK [Gathering Facts] ***********************************************************************************\r\nTuesday 25 June 2019  21:02:58 -0600 (0:00:00.042)       0:00:38.189 **********\r\nok: [controller0]\r\n\r\nTASK [controller : docker login] *************************************************************************\r\nTuesday 25 June 2019  21:02:59 -0600 (0:00:01.006)       0:00:39.195 **********\r\nskipping: [controller0]\r\n\r\nTASK [controller : get controller name and index] ********************************************************\r\nTuesday 25 June 2019  21:02:59 -0600 (0:00:00.092)       0:00:39.287 **********\r\nok: [controller0]\r\n\r\nTASK [controller : pull the latest image of controller] **************************************************\r\nTuesday 25 June 2019  21:02:59 -0600 (0:00:00.185)       0:00:39.472 **********\r\nskipping: [controller0]\r\n\r\nTASK [controller : ensure controller log directory is created with permissions] **************************\r\nTuesday 25 June 2019  21:02:59 -0600 (0:00:00.077)       0:00:39.550 **********\r\nok: [controller0]\r\n\r\nTASK [controller : ensure controller log file is created with permissions] *******************************\r\nTuesday 25 June 2019  21:02:59 -0600 (0:00:00.361)       0:00:39.911 **********\r\nskipping: [controller0]\r\n\r\nTASK [controller : ensure controller config directory is created with permissions] ***********************\r\nTuesday 25 June 2019  21:02:59 -0600 (0:00:00.082)       0:00:39.994 **********\r\nok: [controller0]\r\n\r\nTASK [controller : copy jmxremote password file] *********************************************************\r\nTuesday 25 June 2019  21:03:00 -0600 (0:00:00.643)       0:00:40.637 **********\r\nchanged: [controller0]\r\n\r\nTASK [controller : copy jmxremote access file] ***********************************************************\r\nTuesday 25 June 2019  21:03:01 -0600 (0:00:00.927)       0:00:41.564 **********\r\nchanged: [controller0]\r\n\r\nTASK [controller : copy kafka truststore/keystore] *******************************************************\r\nTuesday 25 June 2019  21:03:02 -0600 (0:00:00.647)       0:00:42.212 **********\r\nskipping: [controller0]\r\n\r\nTASK [controller : copy nginx certificate keystore] ******************************************************\r\nTuesday 25 June 2019  21:03:02 -0600 (0:00:00.080)       0:00:42.292 **********\r\nok: [controller0]\r\n\r\nTASK [controller : copy certificates] ********************************************************************\r\nTuesday 25 June 2019  21:03:03 -0600 (0:00:00.988)       0:00:43.281 **********\r\nok: [controller0] => (item=controller-openwhisk-server-cert.pem)\r\nok: [controller0] => (item=controller-openwhisk-server-key.pem)\r\n\r\nTASK [controller : check, that required databases exist] *************************************************\r\nTuesday 25 June 2019  21:03:04 -0600 (0:00:01.576)       0:00:44.857 **********\r\nincluded: /users/yunsong/openwhisk/ansible/tasks/db/checkDb.yml for controller0\r\nincluded: /users/yunsong/openwhisk/ansible/tasks/db/checkDb.yml for controller0\r\nincluded: /users/yunsong/openwhisk/ansible/tasks/db/checkDb.yml for controller0\r\n\r\nTASK [controller : check if whisk_local_whisks with CouchDB exists] **************************************\r\nTuesday 25 June 2019  21:03:05 -0600 (0:00:00.282)       0:00:45.140 **********\r\nok: [controller0]\r\n\r\nTASK [controller : check if whisk_local_subjects with CouchDB exists] ************************************\r\nTuesday 25 June 2019  21:03:05 -0600 (0:00:00.767)       0:00:45.907 **********\r\nok: [controller0]\r\n\r\nTASK [controller : check if whisk_local_activations with CouchDB exists] *********************************\r\nTuesday 25 June 2019  21:03:06 -0600 (0:00:00.602)       0:00:46.509 **********\r\nok: [controller0]\r\n\r\nTASK [controller : prepare controller port] **************************************************************\r\nTuesday 25 June 2019  21:03:07 -0600 (0:00:00.543)       0:00:47.052 **********\r\nok: [controller0]\r\n\r\nTASK [controller : expose additional ports if jmxremote is enabled] **************************************\r\nTuesday 25 June 2019  21:03:07 -0600 (0:00:00.438)       0:00:47.491 **********\r\nok: [controller0]\r\n\r\nTASK [controller : Load config from template] ************************************************************\r\nTuesday 25 June 2019  21:03:07 -0600 (0:00:00.434)       0:00:47.926 **********\r\nok: [controller0]\r\n\r\nTASK [controller : populate environment variables for controller] ****************************************\r\nTuesday 25 June 2019  21:03:08 -0600 (0:00:00.174)       0:00:48.100 **********\r\nok: [controller0]\r\n\r\nTASK [controller : merge extra env variables] ************************************************************\r\nTuesday 25 June 2019  21:03:08 -0600 (0:00:00.768)       0:00:48.869 **********\r\nok: [controller0]\r\n\r\nTASK [controller : populate volumes for controller] ******************************************************\r\nTuesday 25 June 2019  21:03:09 -0600 (0:00:00.407)       0:00:49.276 **********\r\nok: [controller0]\r\n\r\nTASK [controller : check if coverage collection is enabled] **********************************************\r\nTuesday 25 June 2019  21:03:09 -0600 (0:00:00.451)       0:00:49.727 **********\r\nskipping: [controller0]\r\n\r\nTASK [controller : ensure controller coverage directory is created with permissions] *********************\r\nTuesday 25 June 2019  21:03:09 -0600 (0:00:00.079)       0:00:49.807 **********\r\nskipping: [controller0] => (item=controller)\r\nskipping: [controller0] => (item=common)\r\n\r\nTASK [controller : extend controller volume for coverage] ************************************************\r\nTuesday 25 June 2019  21:03:09 -0600 (0:00:00.103)       0:00:49.910 **********\r\nskipping: [controller0]\r\n\r\nTASK [controller : include plugins] **********************************************************************\r\nTuesday 25 June 2019  21:03:09 -0600 (0:00:00.088)       0:00:49.999 **********\r\nincluded: /users/yunsong/openwhisk/ansible/roles/controller/tasks/join_akka_cluster.yml for controller0\r\n\r\nTASK [controller : add akka port to ports_to_expose] *****************************************************\r\nTuesday 25 June 2019  21:03:10 -0600 (0:00:00.145)       0:00:50.144 **********\r\nok: [controller0]\r\n\r\nTASK [controller : add seed nodes to controller environment] *********************************************\r\nTuesday 25 June 2019  21:03:10 -0600 (0:00:00.413)       0:00:50.558 **********\r\nok: [controller0] => (item=[0, u'172.17.0.1'])\r\n\r\nTASK [controller : Add akka environment to controller environment] ***************************************\r\nTuesday 25 June 2019  21:03:11 -0600 (0:00:00.524)       0:00:51.082 **********\r\nok: [controller0]\r\n\r\nTASK [controller : lean controller setup] ****************************************************************\r\nTuesday 25 June 2019  21:03:11 -0600 (0:00:00.414)       0:00:51.497 **********\r\nskipping: [controller0]\r\n\r\nTASK [controller : (re)start controller] *****************************************************************\r\nTuesday 25 June 2019  21:03:11 -0600 (0:00:00.057)       0:00:51.555 **********\r\nchanged: [controller0]\r\n\r\nTASK [controller : wait until the Controller in this host is up and running] *****************************\r\nTuesday 25 June 2019  21:03:15 -0600 (0:00:03.465)       0:00:55.020 **********\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (12 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (11 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (10 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (9 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (8 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (7 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (6 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (5 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (4 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (3 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (2 retries left).\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (1 retries left).\r\nfatal: [controller0]: FAILED! => {\"attempts\": 12, \"changed\": false, \"content\": \"\", \"msg\": \"Status code was -1 and not [200]: Request failed: <urlopen error [Errno 111] Connection refused>\", \"redirected\": false, \"status\": -1, \"url\": \"https://172.17.0.1:10001/ping\"}\r\n\r\nStatus code was -1 and not [200]: Request failed: <urlopen error [Errno\r\n111] Connection refused>\r\n\r\nPLAY RECAP ***********************************************************************************************\r\ncontroller0                : ok=25   changed=3    unreachable=0    failed=1\r\nkafka0                     : ok=11   changed=5    unreachable=0    failed=0\r\n\r\nTuesday 25 June 2019  21:04:20 -0600 (0:01:05.336)       0:02:00.357 **********\r\n===============================================================================\r\ncontroller : wait until the Controller in this host is up and running ---------------------------- 65.34s\r\nkafka : (re)start kafka using 'wurstmeister/kafka:0.11.0.1'  ------------------------------------- 13.51s\r\nkafka : wait until the kafka server started up ---------------------------------------------------- 7.77s\r\nzookeeper : wait until the Zookeeper in this host is up and running ------------------------------- 7.50s\r\ncontroller : (re)start controller ----------------------------------------------------------------- 3.47s\r\nzookeeper : (re)start zookeeper ------------------------------------------------------------------- 3.27s\r\nzookeeper : pull the zookeeper:3.4 image ---------------------------------------------------------- 1.60s\r\ncontroller : copy certificates -------------------------------------------------------------------- 1.58s\r\nGathering Facts ----------------------------------------------------------------------------------- 1.32s\r\nGathering Facts ----------------------------------------------------------------------------------- 1.12s\r\nGathering Facts ----------------------------------------------------------------------------------- 1.01s\r\ncontroller : copy nginx certificate keystore ------------------------------------------------------ 0.99s\r\ncontroller : copy jmxremote password file --------------------------------------------------------- 0.93s\r\ncontroller : populate environment variables for controller ---------------------------------------- 0.77s\r\ncontroller : check if whisk_local_whisks with CouchDB exists -------------------------------------- 0.77s\r\ncontroller : copy jmxremote access file ----------------------------------------------------------- 0.65s\r\ncontroller : ensure controller config directory is created with permissions ----------------------- 0.64s\r\ncontroller : check if whisk_local_subjects with CouchDB exists ------------------------------------ 0.60s\r\ncontroller : check if whisk_local_activations with CouchDB exists --------------------------------- 0.54s\r\nkafka : create kafka certificate directory -------------------------------------------------------- 0.53s```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505699581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505700194","html_url":"https://github.com/apache/openwhisk/issues/4306#issuecomment-505700194","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4306","id":505700194,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTcwMDE5NA==","user":{"login":"reachyunsong","id":50639257,"node_id":"MDQ6VXNlcjUwNjM5MjU3","avatar_url":"https://avatars.githubusercontent.com/u/50639257?v=4","gravatar_id":"","url":"https://api.github.com/users/reachyunsong","html_url":"https://github.com/reachyunsong","followers_url":"https://api.github.com/users/reachyunsong/followers","following_url":"https://api.github.com/users/reachyunsong/following{/other_user}","gists_url":"https://api.github.com/users/reachyunsong/gists{/gist_id}","starred_url":"https://api.github.com/users/reachyunsong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reachyunsong/subscriptions","organizations_url":"https://api.github.com/users/reachyunsong/orgs","repos_url":"https://api.github.com/users/reachyunsong/repos","events_url":"https://api.github.com/users/reachyunsong/events{/privacy}","received_events_url":"https://api.github.com/users/reachyunsong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-26T03:13:18Z","updated_at":"2019-06-26T03:13:18Z","author_association":"NONE","body":"I met the same issue, do you fix it?@josyAnne","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505700194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505735845","html_url":"https://github.com/apache/openwhisk/pull/4520#issuecomment-505735845","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4520","id":505735845,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTczNTg0NQ==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-26T06:18:35Z","updated_at":"2019-06-26T06:18:44Z","author_association":"MEMBER","body":"OpenWhisk Jenkins failed due to a general problem... re-running.\r\n\r\n```\r\nException:hudson.AbortException: missing workspace /home/jenkins/jenkins-slave/workspace/OpenWhisk-Playground/ansible on openwhisk1\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505735845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505742706","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-505742706","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":505742706,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTc0MjcwNg==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-26T06:43:28Z","updated_at":"2019-06-26T06:43:28Z","author_association":"MEMBER","body":"@reachyunsong the log file you provided above indicates that your controller fails to start up:\r\n\r\n```\r\nTASK [controller : wait until the Controller in this host is up and running] *****************************\r\nTuesday 25 June 2019  21:03:15 -0600 (0:00:03.465)       0:00:55.020 **********\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (12 retries left).\r\n...\r\nFAILED - RETRYING: wait until the Controller in this host is up and running (1 retries left).\r\nfatal: [controller0]: FAILED! => {\"attempts\": 12, \"changed\": false, \"content\": \"\", \"msg\": \"Status code was -1 and not [200]: Request failed: <urlopen error [Errno 111] Connection refused>\", \"redirected\": false, \"status\": -1, \"url\": \"https://172.17.0.1:10001/ping\"}\r\n\r\nStatus code was -1 and not [200]: Request failed: <urlopen error [Errno\r\n111] Connection refused>\r\n```\r\n\r\nThe log output indicates that there was no TCP listening port `172.17.0.1:10001` on the system. Very likely, your controller was not running at all while the Ansible playbook tried to connect.\r\n\r\nAs @rabbah mentioned above, this is very likely a configuration problem. So instead of removing the controller log file, I suggest to re-deploy. If the same error occurs again, have a look at the controller log and check whether it succeeded with starting up. If not search for `ERROR`s and `Exception`s in the log.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505742706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505823265","html_url":"https://github.com/apache/openwhisk/issues/4521#issuecomment-505823265","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4521","id":505823265,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTgyMzI2NQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-26T10:47:19Z","updated_at":"2019-06-26T10:47:19Z","author_association":"MEMBER","body":"Some stacktraces where error was seen\r\n\r\n```\r\norg.apache.openwhisk.core.containerpool.docker.test.ApacheBlockingContainerClientTests > ApacheBlockingContainerClient should retry till timeout on HttpHostConnectException STANDARD_ERROR\r\n    Uncaught error from thread [MesosActorSystem-akka.actor.default-dispatcher-9]: Java heap space, shutting down ActorSystem[MesosActorSystem]\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.Arrays.copyOf(Arrays.java:3236)\r\n    \tat java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118)\r\n    \tat java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\r\n    \tat java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153)\r\n    \tat java.io.PrintStream.write(PrintStream.java:480)\r\n    \tat sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)\r\n    \tat sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)\r\n    \tat sun.nio.cs.StreamEncoder.flushBuffer(StreamEncoder.java:104)\r\n    \tat java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:185)\r\n    \tat java.io.PrintStream.write(PrintStream.java:527)\r\n    \tat java.io.PrintStream.print(PrintStream.java:669)\r\n    \tat java.io.PrintStream.println(PrintStream.java:806)\r\n    \tat org.apache.openwhisk.common.PrintStreamLogging.emit(Logging.scala:127)\r\n    \tat org.apache.openwhisk.common.Logging.error(Logging.scala:75)\r\n    \tat org.apache.openwhisk.common.Logging.error$(Logging.scala:74)\r\n    \tat org.apache.openwhisk.common.PrintStreamLogging.error(Logging.scala:107)\r\n    \tat org.apache.openwhisk.core.mesos.MesosContainerFactory$$anonfun$org$apache$openwhisk$core$mesos$MesosContainerFactory$$subscribe$1.applyOrElse(MesosContainerFactory.scala:117)\r\n    \tat org.apache.openwhisk.core.mesos.MesosContainerFactory$$anonfun$org$apache$openwhisk$core$mesos$MesosContainerFactory$$subscribe$1.applyOrElse(MesosContainerFactory.scala:115)\r\n    \tat scala.concurrent.Future.$anonfun$recoverWith$1(Future.scala:417)\r\n    \tat scala.concurrent.Future$$Lambda$2042/349368846.apply(Unknown Source)\r\n    \tat scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)\r\n    \tat scala.concurrent.impl.Promise$$Lambda$760/1259518132.apply(Unknown Source)\r\n    \tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n    \tat akka.dispatch.BatchingExecutor$AbstractBatch.processBatch(BatchingExecutor.scala:55)\r\n    \tat akka.dispatch.BatchingExecutor$BlockableBatch.$anonfun$run$1(BatchingExecutor.scala:92)\r\n    \tat akka.dispatch.BatchingExecutor$BlockableBatch$$Lambda$757/325318635.apply$mcV$sp(Unknown Source)\r\n    \tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n    \tat scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:85)\r\n    \tat akka.dispatch.BatchingExecutor$BlockableBatch.run(BatchingExecutor.scala:92)\r\n    \tat akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40)\r\n    \tat akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:49)\r\n    \tat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\r\n    Uncaught error from thread [MesosActorSystem-akka.actor.default-dispatcher-4]: Java heap space, shutting down ActorSystem[MesosActorSystem]\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.Arrays.copyOf(Arrays.java:3236)\r\n    \tat java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118)\r\n    \tat java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\r\n    \tat java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153)\r\n    \tat java.io.PrintStream.write(PrintStream.java:480)\r\n    \tat sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)\r\n    \tat sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)\r\n    \tat sun.nio.cs.StreamEncoder.flushBuffer(StreamEncoder.java:104)\r\n    \tat java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:185)\r\n    \tat java.io.PrintStream.write(PrintStream.java:527)\r\n    \tat java.io.PrintStream.print(PrintStream.java:669)\r\n    \tat java.io.PrintStream.println(PrintStream.java:806)\r\n    \tat org.apache.openwhisk.common.PrintStreamLogging.emit(Logging.scala:127)\r\n    \tat org.apache.openwhisk.common.Logging.error(Logging.scala:75)\r\n    \tat org.apache.openwhisk.common.Logging.error$(Logging.scala:74)\r\n    \tat org.apache.openwhisk.common.PrintStreamLogging.error(Logging.scala:107)\r\n    \tat org.apache.openwhisk.core.mesos.MesosContainerFactory$$anonfun$org$apache$openwhisk$core$mesos$MesosContainerFactory$$subscribe$1.applyOrElse(MesosContainerFactory.scala:117)\r\n    \tat org.apache.openwhisk.core.mesos.MesosContainerFactory$$anonfun$org$apache$openwhisk$core$mesos$MesosContainerFactory$$subscribe$1.applyOrElse(MesosContainerFactory.scala:115)\r\n    \tat scala.concurrent.Future.$anonfun$recoverWith$1(Future.scala:417)\r\n    \tat scala.concurrent.Future$$Lambda$2042/349368846.apply(Unknown Source)\r\n    \tat scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)\r\n    \tat scala.concurrent.impl.Promise$$Lambda$760/1259518132.apply(Unknown Source)\r\n    \tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n    \tat akka.dispatch.BatchingExecutor$AbstractBatch.processBatch(BatchingExecutor.scala:55)\r\n    \tat akka.dispatch.BatchingExecutor$BlockableBatch.$anonfun$run$1(BatchingExecutor.scala:92)\r\n    \tat akka.dispatch.BatchingExecutor$BlockableBatch$$Lambda$757/325318635.apply$mcV$sp(Unknown Source)\r\n    \tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n    \tat scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:85)\r\n    \tat akka.dispatch.BatchingExecutor$BlockableBatch.run(BatchingExecutor.scala:92)\r\n    \tat akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40)\r\n    \tat akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:49)\r\n    \tat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505823265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505828836","html_url":"https://github.com/apache/openwhisk/issues/4521#issuecomment-505828836","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4521","id":505828836,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTgyODgzNg==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-26T11:05:53Z","updated_at":"2019-06-26T11:05:53Z","author_association":"MEMBER","body":"`MesosContainerFactoryTest` does shutdown the actorSystem in `afterAll`. So not sure how the scheduled job continues to run even after tests are done. Even if the shutdown call failed it should have logged something like \"Failed to stop\" on console which I do not see in travis logs\r\n\r\nSee https://travis-ci.org/apache/incubator-openwhisk/jobs/550162367 for details","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505828836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505833911","html_url":"https://github.com/apache/openwhisk/issues/4521#issuecomment-505833911","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4521","id":505833911,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTgzMzkxMQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-26T11:24:12Z","updated_at":"2019-06-26T11:24:12Z","author_association":"MEMBER","body":"Strangely even after clean shutdown of actorSystem I still see the dispatcher threads active which explains why the logging is eating up all memory\r\n\r\n<img width=\"667\" alt=\"image\" src=\"https://user-images.githubusercontent.com/664531/60176078-edfbce00-9832-11e9-8370-93586c5b1eeb.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/505833911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506233563","html_url":"https://github.com/apache/openwhisk/pull/4494#issuecomment-506233563","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4494","id":506233563,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjIzMzU2Mw==","user":{"login":"SugandhaAgrawal","id":7805475,"node_id":"MDQ6VXNlcjc4MDU0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/7805475?v=4","gravatar_id":"","url":"https://api.github.com/users/SugandhaAgrawal","html_url":"https://github.com/SugandhaAgrawal","followers_url":"https://api.github.com/users/SugandhaAgrawal/followers","following_url":"https://api.github.com/users/SugandhaAgrawal/following{/other_user}","gists_url":"https://api.github.com/users/SugandhaAgrawal/gists{/gist_id}","starred_url":"https://api.github.com/users/SugandhaAgrawal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SugandhaAgrawal/subscriptions","organizations_url":"https://api.github.com/users/SugandhaAgrawal/orgs","repos_url":"https://api.github.com/users/SugandhaAgrawal/repos","events_url":"https://api.github.com/users/SugandhaAgrawal/events{/privacy}","received_events_url":"https://api.github.com/users/SugandhaAgrawal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-27T07:46:38Z","updated_at":"2019-06-27T07:46:38Z","author_association":"CONTRIBUTOR","body":"![Screenshot 2019-06-27 at 09 45 52](https://user-images.githubusercontent.com/7805475/60247171-69f02780-98c0-11e9-9e70-82857c3f3634.png)\r\n\r\n\r\nTravis System Test","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506233563/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506276261","html_url":"https://github.com/apache/openwhisk/issues/4306#issuecomment-506276261","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4306","id":506276261,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjI3NjI2MQ==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-27T09:46:32Z","updated_at":"2019-06-27T09:46:32Z","author_association":"MEMBER","body":"Which version of ansible are you using?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506276261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506371806","html_url":"https://github.com/apache/openwhisk/issues/4306#issuecomment-506371806","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4306","id":506371806,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjM3MTgwNg==","user":{"login":"reachyunsong","id":50639257,"node_id":"MDQ6VXNlcjUwNjM5MjU3","avatar_url":"https://avatars.githubusercontent.com/u/50639257?v=4","gravatar_id":"","url":"https://api.github.com/users/reachyunsong","html_url":"https://github.com/reachyunsong","followers_url":"https://api.github.com/users/reachyunsong/followers","following_url":"https://api.github.com/users/reachyunsong/following{/other_user}","gists_url":"https://api.github.com/users/reachyunsong/gists{/gist_id}","starred_url":"https://api.github.com/users/reachyunsong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reachyunsong/subscriptions","organizations_url":"https://api.github.com/users/reachyunsong/orgs","repos_url":"https://api.github.com/users/reachyunsong/repos","events_url":"https://api.github.com/users/reachyunsong/events{/privacy}","received_events_url":"https://api.github.com/users/reachyunsong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-27T14:33:10Z","updated_at":"2019-06-27T14:33:10Z","author_association":"NONE","body":"> Which version of ansible are you using?\r\n\r\nI used this command:\r\n`sudo pip install ansible==2.1.2.0`","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506371806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506757799","html_url":"https://github.com/apache/openwhisk/issues/4526#issuecomment-506757799","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4526","id":506757799,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjc1Nzc5OQ==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-28T14:38:06Z","updated_at":"2019-06-28T14:38:06Z","author_association":"MEMBER","body":"The default deployment configuration sets the invoker_user_memory (the amount of memory available to run user actions) to 2GB (https://github.com/apache/incubator-openwhisk/blob/master/ansible/group_vars/all#L192). The default memory for a node action is 256MB.  So that's where the limit of 8 concurrent containers you are seeing is coming from (2048/256 = 8).\r\n\r\nIf you change invoker_user_memory when you deploy your OpenWhisk instance, you can configure it to enable more concurrent actions.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506757799/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506948080","html_url":"https://github.com/apache/openwhisk/issues/4509#issuecomment-506948080","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4509","id":506948080,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjk0ODA4MA==","user":{"login":"kailuowang","id":83257,"node_id":"MDQ6VXNlcjgzMjU3","avatar_url":"https://avatars.githubusercontent.com/u/83257?v=4","gravatar_id":"","url":"https://api.github.com/users/kailuowang","html_url":"https://github.com/kailuowang","followers_url":"https://api.github.com/users/kailuowang/followers","following_url":"https://api.github.com/users/kailuowang/following{/other_user}","gists_url":"https://api.github.com/users/kailuowang/gists{/gist_id}","starred_url":"https://api.github.com/users/kailuowang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kailuowang/subscriptions","organizations_url":"https://api.github.com/users/kailuowang/orgs","repos_url":"https://api.github.com/users/kailuowang/repos","events_url":"https://api.github.com/users/kailuowang/events{/privacy}","received_events_url":"https://api.github.com/users/kailuowang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-29T10:52:11Z","updated_at":"2019-06-29T10:52:11Z","author_association":"NONE","body":"There are also pure macro based type safe config libs, e.g. ficus. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506948080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506972411","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-506972411","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":506972411,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjk3MjQxMQ==","user":{"login":"reachyunsong","id":50639257,"node_id":"MDQ6VXNlcjUwNjM5MjU3","avatar_url":"https://avatars.githubusercontent.com/u/50639257?v=4","gravatar_id":"","url":"https://api.github.com/users/reachyunsong","html_url":"https://github.com/reachyunsong","followers_url":"https://api.github.com/users/reachyunsong/followers","following_url":"https://api.github.com/users/reachyunsong/following{/other_user}","gists_url":"https://api.github.com/users/reachyunsong/gists{/gist_id}","starred_url":"https://api.github.com/users/reachyunsong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reachyunsong/subscriptions","organizations_url":"https://api.github.com/users/reachyunsong/orgs","repos_url":"https://api.github.com/users/reachyunsong/repos","events_url":"https://api.github.com/users/reachyunsong/events{/privacy}","received_events_url":"https://api.github.com/users/reachyunsong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-29T17:06:02Z","updated_at":"2019-06-29T17:06:02Z","author_association":"NONE","body":"@sven-lange-last I‘m a little bit confused about `OW_DB_HOST`. I can visit CouchDB via this URL:\r\n```\r\n$ curl http://127.0.0.1:5984/\r\n{\"couchdb\":\"Welcome\",\"uuid\":\"b17fee6a7695312126ecec2c6c37a27b\",\"version\":\"1.6.0\",\"vendor\":{\"name\":\"Ubuntu\",\"version\":\"15.10\"}}\r\n```\r\nSo I just deploy this to `OW_DB_HOST`: Is it right?\r\n```\r\n$ export OW_DB_HOST=127.0.0.1\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/506972411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507031906","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-507031906","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":507031906,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzAzMTkwNg==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-30T12:22:49Z","updated_at":"2019-06-30T12:22:49Z","author_association":"MEMBER","body":"From the host (outside the container) you can use 127.0.0.1 which is localhost but from inside the container that will refers to the container itself which is not what you want - the controller in this case cannot connect to the other container. \r\n\r\nYou need to use an ip that’s reachable from inside a container. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507031906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507058975","html_url":"https://github.com/apache/openwhisk/issues/4525#issuecomment-507058975","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4525","id":507058975,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzA1ODk3NQ==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-30T19:00:37Z","updated_at":"2019-06-30T19:01:06Z","author_association":"MEMBER","body":"We can only advertise nightly builds from the master branch to our developer community (not user community).  \r\n\r\nCompletely agree we should make a standalone openwhisk jar available to users and advertise it as really easy way to get started with the OpenWhisk programming model.  But we have to do that via the process of making an official source release, then building a convenience binary from that release and distributing via an appropriate channel (github release, maven?)","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507058975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507065761","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-507065761","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":507065761,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzA2NTc2MQ==","user":{"login":"reachyunsong","id":50639257,"node_id":"MDQ6VXNlcjUwNjM5MjU3","avatar_url":"https://avatars.githubusercontent.com/u/50639257?v=4","gravatar_id":"","url":"https://api.github.com/users/reachyunsong","html_url":"https://github.com/reachyunsong","followers_url":"https://api.github.com/users/reachyunsong/followers","following_url":"https://api.github.com/users/reachyunsong/following{/other_user}","gists_url":"https://api.github.com/users/reachyunsong/gists{/gist_id}","starred_url":"https://api.github.com/users/reachyunsong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reachyunsong/subscriptions","organizations_url":"https://api.github.com/users/reachyunsong/orgs","repos_url":"https://api.github.com/users/reachyunsong/repos","events_url":"https://api.github.com/users/reachyunsong/events{/privacy}","received_events_url":"https://api.github.com/users/reachyunsong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-30T20:38:11Z","updated_at":"2019-06-30T20:38:11Z","author_association":"NONE","body":"@rabbah I‘m not familiar with OW, could you please provide some commands or detailed tutorial？","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507065761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507076163","html_url":"https://github.com/apache/openwhisk/issues/4303#issuecomment-507076163","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4303","id":507076163,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzA3NjE2Mw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-30T23:29:48Z","updated_at":"2019-06-30T23:29:48Z","author_association":"MEMBER","body":"This is new but could be easier for you https://github.com/apache/incubator-openwhisk/blob/master/core/standalone/README.md","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507076163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507110089","html_url":"https://github.com/apache/openwhisk/issues/4530#issuecomment-507110089","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4530","id":507110089,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzExMDA4OQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-01T04:19:20Z","updated_at":"2019-07-01T04:19:20Z","author_association":"MEMBER","body":"Trying to fix this via #4531","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507110089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507110565","html_url":"https://github.com/apache/openwhisk/issues/4525#issuecomment-507110565","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/4525","id":507110565,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzExMDU2NQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-01T04:22:47Z","updated_at":"2019-07-01T04:22:47Z","author_association":"MEMBER","body":"We can call this build nightly (or snapshot in Maven terms). Having proper released artifacts for users would eventually happen. But it would still be good to have the snapshots build made available via Github release/Maven etc such that users if needed can try out and say provide feedback if needed.\r\n\r\nThis would be similar to what we do for wsk cli. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/507110565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]