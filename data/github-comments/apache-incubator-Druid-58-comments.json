[{"url":"https://api.github.com/repos/apache/druid/issues/comments/173396475","html_url":"https://github.com/apache/druid/pull/1937#issuecomment-173396475","issue_url":"https://api.github.com/repos/apache/druid/issues/1937","id":173396475,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzM5NjQ3NQ==","user":{"login":"estliberitas","id":568962,"node_id":"MDQ6VXNlcjU2ODk2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/568962?v=4","gravatar_id":"","url":"https://api.github.com/users/estliberitas","html_url":"https://github.com/estliberitas","followers_url":"https://api.github.com/users/estliberitas/followers","following_url":"https://api.github.com/users/estliberitas/following{/other_user}","gists_url":"https://api.github.com/users/estliberitas/gists{/gist_id}","starred_url":"https://api.github.com/users/estliberitas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/estliberitas/subscriptions","organizations_url":"https://api.github.com/users/estliberitas/orgs","repos_url":"https://api.github.com/users/estliberitas/repos","events_url":"https://api.github.com/users/estliberitas/events{/privacy}","received_events_url":"https://api.github.com/users/estliberitas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:17:00Z","updated_at":"2016-01-20T23:17:00Z","author_association":"CONTRIBUTOR","body":"Hi guys, I'll be working on tests this weekend.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173396475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173396712","html_url":"https://github.com/apache/druid/pull/2309#issuecomment-173396712","issue_url":"https://api.github.com/repos/apache/druid/issues/2309","id":173396712,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzM5NjcxMg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:17:28Z","updated_at":"2016-01-20T23:17:28Z","author_association":"CONTRIBUTOR","body":"@himanshug / @fjy Yes, I was looking into how to test it. Currently there aren't really any tests for starting the nodes other than integration tests. So a test might not be as readily available as I would like.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173396712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173399843","html_url":"https://github.com/apache/druid/pull/2309#issuecomment-173399843","issue_url":"https://api.github.com/repos/apache/druid/issues/2309","id":173399843,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzM5OTg0Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:26:52Z","updated_at":"2016-01-20T23:26:52Z","author_association":"CONTRIBUTOR","body":"@drcrallen @gianm travis is borked: https://www.traviscistatus.com/\n\nDo we want to merge this to fix master?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173399843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173399936","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173399936","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173399936,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzM5OTkzNg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:27:15Z","updated_at":"2016-01-20T23:27:15Z","author_association":"CONTRIBUTOR","body":"@dcrallen Re: your comment about the ordering of changes\n\nI think part 1 (loosen typing assumptions) and part 2 (more index types) could be done mostly independently of each other;\n\ne.g., a lower impact way of implementing #1 could be to completely retain all of the existing bitmap/dictionary logic for numeric dims (setting ColumnDescriptor and ObjectStrategy based on the dim type should suffice for building the disk representation of the numeric dim, so no storage format change should be needed). Storage format optimization (for dictionary/bitmap with fixed width values) could be done later.\n\nIn parallel, I think it would be possible to implement #2 separately from #1, i.e., change the querying code to support non-bitmap indexes or indexless for Strings only\n\nA later merge of those two parts would loosen typing for the non-bitmap index logic.\n\nThe plan I described in my third comment in the thread (indexless, no dictionary numeric dims) straddles part 1 and part 2 (needs both typing changes and support for indexless querying). \n\nAfter more thinking, I'm now personally leaning towards retaining dictionary/bitmaps for numerics as an initial step. It may not be optimal in terms of storage usage/performance at first (based on cardinality probably, as you said earlier), but it may ease the overall process by limiting the scope of individual PRs.\n\nWhat are some backward compatibility issues that you foresee if part 1 is done before part 2? \n\nI expect part 2 changes to be larger/broader impact than part 1 changes.\n\n@gianm any thoughts?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173399936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173400590","html_url":"https://github.com/apache/druid/pull/2309#issuecomment-173400590","issue_url":"https://api.github.com/repos/apache/druid/issues/2309","id":173400590,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwMDU5MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:29:57Z","updated_at":"2016-01-20T23:29:57Z","author_association":"CONTRIBUTOR","body":"@fjy build is running now. Suggest giving it another 30 mins to see if it completes\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173400590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173403589","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173403589","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173403589,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwMzU4OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:39:37Z","updated_at":"2016-01-20T23:39:37Z","author_association":"CONTRIBUTOR","body":"@jon-wei \n\nMy main concern regarding backwards compatibility is that if you guess a way to do a \"new\" index type (non-dictionary/bitmap) and due to conversations / code review later we discover that way doesn't really work in the long run... then we're stuck with supporting the code that reads from the on-disk segments forever.\n\nSo essentially if you're going to do 1 first, the safest way is to do it in a manner which caries the least risk of having to change as soon as 2 is tackled.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173403589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173403804","html_url":"https://github.com/apache/druid/pull/2309#issuecomment-173403804","issue_url":"https://api.github.com/repos/apache/druid/issues/2309","id":173403804,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwMzgwNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:41:03Z","updated_at":"2016-01-20T23:41:03Z","author_association":"CONTRIBUTOR","body":"I'm ok merging without travis, given they are having an outage. the tests pass for me locally.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173403804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173404320","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173404320","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173404320,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwNDMyMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:43:36Z","updated_at":"2016-01-20T23:43:36Z","author_association":"CONTRIBUTOR","body":"@drcrallen the idea with (1) is that the on-disk format does not need to change or be extended at all. Hence not supporting any indexes on numeric columns at first. So at first filters on numeric columns would be done with full scans, but as part of (2) they could hit an index. If you're not filtering (maybe you're just grouping) then even (1) will give you some nice performance benefit from not having to convert things back and forth from strings.\n\nDoes that seem reasonable?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173404320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173405636","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173405636","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173405636,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwNTYzNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:50:37Z","updated_at":"2016-01-20T23:50:37Z","author_association":"CONTRIBUTOR","body":"I think that's reasonable for Long. Essentially that would make the `__time` column one of these new Long dimensions, right? If that's the case then I think there is good precedence that such a case has been used and will be used in the future. \n\nI am a bit concerned about filtering on Float due to floating point rounding weirdness. But that is probably the problem of the filter rather than the on-disk data.\n\nIn the simple case multi-value dimensions are not supported, right?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173405636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173406808","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173406808","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173406808,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwNjgwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-20T23:57:58Z","updated_at":"2016-01-20T23:57:58Z","author_association":"CONTRIBUTOR","body":"@drcrallen yep, (1) should make treating `__time` as a dimension less of a special case than it is today- or ideally, not a special case at all.\n\nFiltering on floats is weird… it probably doesn't make sense unless you have range filters. At least I can't think of a great use case for equality filters (except maybe `== 0` but that doesn't have rounding weirdness)\n\nAnd yeah, in (1) we'd only support things that have an existing on disk format. So no multi-valued numeric columns.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173406808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173407427","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173407427","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173407427,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwNzQyNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:01:56Z","updated_at":"2016-01-21T00:03:57Z","author_association":"CONTRIBUTOR","body":"In that case might I suggest limiting the scope of the first step to something like\n\nAllowing single-value Long and Float dimensions. The first implementation is expected to require full-table-scans for filtering and will take up approximately Long.BYTES and Float.BYTES space per row prior to any compression.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173407427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173407867","html_url":"https://github.com/apache/druid/pull/2309#issuecomment-173407867","issue_url":"https://api.github.com/repos/apache/druid/issues/2309","id":173407867,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwNzg2Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:04:48Z","updated_at":"2016-01-21T00:04:48Z","author_association":"CONTRIBUTOR","body":"@fjy green\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173407867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173407931","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173407931","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173407931,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwNzkzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:05:13Z","updated_at":"2016-01-21T00:05:13Z","author_association":"CONTRIBUTOR","body":"They should still be lz4-compressed on disk, but yeah.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173407931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173408963","html_url":"https://github.com/apache/druid/pull/2306#issuecomment-173408963","issue_url":"https://api.github.com/repos/apache/druid/issues/2306","id":173408963,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQwODk2Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:12:17Z","updated_at":"2016-01-21T00:12:17Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173408963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173412086","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173412086","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173412086,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxMjA4Ng==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:29:32Z","updated_at":"2016-01-21T00:29:32Z","author_association":"CONTRIBUTOR","body":"@drcrallen Good point about backwards compatibility in the segment formats.\n\nThe scope you described in the last comment seems pretty reasonable to me, I will target that for the next PR.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173412086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173412633","html_url":"https://github.com/apache/druid/pull/2310#issuecomment-173412633","issue_url":"https://api.github.com/repos/apache/druid/issues/2310","id":173412633,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxMjYzMw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:33:07Z","updated_at":"2016-01-21T00:33:07Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173412633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173412962","html_url":"https://github.com/apache/druid/pull/2076#issuecomment-173412962","issue_url":"https://api.github.com/repos/apache/druid/issues/2076","id":173412962,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxMjk2Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:35:14Z","updated_at":"2016-01-21T00:35:14Z","author_association":"CONTRIBUTOR","body":":+1: I have a minor comment\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173412962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173415870","html_url":"https://github.com/apache/druid/pull/2223#issuecomment-173415870","issue_url":"https://api.github.com/repos/apache/druid/issues/2223","id":173415870,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxNTg3MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:53:41Z","updated_at":"2016-01-21T00:53:41Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173415870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173416153","html_url":"https://github.com/apache/druid/pull/2288#issuecomment-173416153","issue_url":"https://api.github.com/repos/apache/druid/issues/2288","id":173416153,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxNjE1Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:55:28Z","updated_at":"2016-01-21T00:55:28Z","author_association":"CONTRIBUTOR","body":":+1: \n\nTo next reviewer: much easier to see change if you do https://github.com/druid-io/druid/pull/2288/files?w=1\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173416153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173416504","html_url":"https://github.com/apache/druid/pull/2111#issuecomment-173416504","issue_url":"https://api.github.com/repos/apache/druid/issues/2111","id":173416504,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxNjUwNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:57:39Z","updated_at":"2016-01-21T00:57:39Z","author_association":"CONTRIBUTOR","body":"@himanshug can you take a look to help finish this off?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173416504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173416736","html_url":"https://github.com/apache/druid/pull/2222#issuecomment-173416736","issue_url":"https://api.github.com/repos/apache/druid/issues/2222","id":173416736,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxNjczNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T00:58:57Z","updated_at":"2016-01-21T00:58:57Z","author_association":"CONTRIBUTOR","body":"@xvrl @himanshug can you help to finish this off?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173416736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173417227","html_url":"https://github.com/apache/druid/pull/1978#issuecomment-173417227","issue_url":"https://api.github.com/repos/apache/druid/issues/1978","id":173417227,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxNzIyNw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:02:18Z","updated_at":"2016-01-21T01:02:18Z","author_association":"CONTRIBUTOR","body":":+1: after my comment around the README fix is addressed\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173417227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173417874","html_url":"https://github.com/apache/druid/pull/2288#issuecomment-173417874","issue_url":"https://api.github.com/repos/apache/druid/issues/2288","id":173417874,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxNzg3NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:06:32Z","updated_at":"2016-01-21T01:06:32Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173417874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173417918","html_url":"https://github.com/apache/druid/pull/2149#issuecomment-173417918","issue_url":"https://api.github.com/repos/apache/druid/issues/2149","id":173417918,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQxNzkxOA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:06:45Z","updated_at":"2016-01-21T01:06:45Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173417918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173421504","html_url":"https://github.com/apache/druid/pull/2306#issuecomment-173421504","issue_url":"https://api.github.com/repos/apache/druid/issues/2306","id":173421504,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyMTUwNA==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:22:41Z","updated_at":"2016-01-21T01:22:46Z","author_association":"CONTRIBUTOR","body":"What will happen if a dim has values in all index, but all index do not have null/empty value?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173421504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173422434","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173422434","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173422434,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyMjQzNA==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:29:08Z","updated_at":"2016-01-21T01:29:08Z","author_association":"CONTRIBUTOR","body":"Should we support to store a dim with no index?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173422434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173422790","html_url":"https://github.com/apache/druid/pull/2242#issuecomment-173422790","issue_url":"https://api.github.com/repos/apache/druid/issues/2242","id":173422790,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyMjc5MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:31:14Z","updated_at":"2016-01-21T01:31:14Z","author_association":"CONTRIBUTOR","body":"I've spoken with @guobingkun about this in private a few times and I wanted to make this part of the conversation more open:\n\nOne of my concerns with this PR is uncertainty of how useful it is to look at a group of nodes defined by a label determined in their runtime.properties. For example: it is useful for a human operator to be able to discover the known nodes by whatever their service name is defined in the runtime.properties... but those kinds of settings are not terribly helpful to a machine in the cluster.\n\nLikewise knowing what Cli was used to launch the node is also only moderately helpful since there could be any number of modules which extend the basic functionality.\n\nAs such, there are two \"classes\" of service discovery which seem helpful:\n1. Discovery of a descriptor whose mapping of nodes to descriptors is surjective, meaning each node only uses ONE description (example: service name)\n2. Discovery of a descriptor which returns a list of nodes which it describes (example: \"can load deep-storage segments\"). But any particular node may have any number of descriptors.\n\nAn example of this is an internal use case where we have one group of brokers which handles fast queries with prompt expectations on query time, and another group of brokers which handle very long-running queries with longer query time expectations. They are both run via CliBroker, but have different service names, different sets of properties, and serve very different purposes. In such a case the answer to the question of \"What are the brokers in my cluster?\" becomes unclear, and you have to look at WHY you need to know that information.\n\nI caution against implementation questions like \"What are the brokers in my cluster?\" instead favoring questions like \"What nodes in my cluster serve XXX purpose?\".\n\nThe difference I see between this PR and #2286 is that #2286 attempts to solve the following: Given that there exist cluster wide resources identified by a unique ID, how do you provide a general framework around being able to post / get / delete those resources across the node, with the intended use case being something which is managing cluster state doing the post / get / delete requests.\n\nThe overlap is that #2286 relies on \"service discovery\" to answer the \"What nodes in my cluster serve XXX purpose?\" So as long as this PR has a mechanism in the DruidServiceDiscovery to answer that question, a drop-in replacement for the Curator ServiceDiscovery used in #2286 should be trivial.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173422790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423024","html_url":"https://github.com/apache/druid/pull/2306#issuecomment-173423024","issue_url":"https://api.github.com/repos/apache/druid/issues/2306","id":173423024,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyMzAyNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:33:05Z","updated_at":"2016-01-21T01:33:05Z","author_association":"CONTRIBUTOR","body":"@binlijin The null/empty str will not be added to the dictionary in that case (i.e., dimAbsentFromIndex will be false)\n\nOff the top of my head, testNonLexicographicDimOrderMerge() in IndexMergerTest is an example where the dims don't have null/empty values\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423135","html_url":"https://github.com/apache/druid/pull/2306#issuecomment-173423135","issue_url":"https://api.github.com/repos/apache/druid/issues/2306","id":173423135,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyMzEzNQ==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:34:02Z","updated_at":"2016-01-21T01:34:02Z","author_association":"CONTRIBUTOR","body":"@jon-wei  good\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423419","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173423419","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173423419,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyMzQxOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:35:46Z","updated_at":"2016-01-21T01:35:46Z","author_association":"CONTRIBUTOR","body":"@binlinjin That's the plan for now; it would be similar to the time column, which is a Long \"dimension\" that has no bitmap index\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423954","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173423954","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173423954,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyMzk1NA==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T01:38:40Z","updated_at":"2016-01-21T01:38:40Z","author_association":"CONTRIBUTOR","body":"@jon-wei i mean the dim with no index not limit to numeric dimensions but also string dimensions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173423954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173427007","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173427007","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173427007,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQyNzAwNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T02:00:20Z","updated_at":"2016-01-21T02:00:20Z","author_association":"CONTRIBUTOR","body":"@michaelschiff This was labeled with 0.9.0 and I'm good for helping make sure this gets over the finish line here very soon. Are you able to rebase?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173427007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173431624","html_url":"https://github.com/apache/druid/pull/2231#issuecomment-173431624","issue_url":"https://api.github.com/repos/apache/druid/issues/2231","id":173431624,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQzMTYyNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T02:25:32Z","updated_at":"2016-01-21T02:25:32Z","author_association":"CONTRIBUTOR","body":"@lizhanhui If you get the logging stuff flipped around I think we're good here\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173431624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173432430","html_url":"https://github.com/apache/druid/pull/2291#issuecomment-173432430","issue_url":"https://api.github.com/repos/apache/druid/issues/2291","id":173432430,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQzMjQzMA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T02:32:10Z","updated_at":"2016-01-21T02:32:10Z","author_association":"CONTRIBUTOR","body":"@b-slim / @cheddar This is not tagged for 0.9.0 yet. As such it'll probably be lower priority in review compared to getting the 0.9.0 stuff merged.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173432430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173433529","html_url":"https://github.com/apache/druid/pull/984#issuecomment-173433529","issue_url":"https://api.github.com/repos/apache/druid/issues/984","id":173433529,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQzMzUyOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T02:41:17Z","updated_at":"2016-01-21T02:41:17Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173433529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173441271","html_url":"https://github.com/apache/druid/pull/2231#issuecomment-173441271","issue_url":"https://api.github.com/repos/apache/druid/issues/2231","id":173441271,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ0MTI3MQ==","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T03:42:33Z","updated_at":"2016-01-21T03:42:33Z","author_association":"CONTRIBUTOR","body":"\"I have a lot of questions about synchronization and lack of timeouts on polling and locking, but given that this is an isolated extension, I'm good with it being an experimental feature until either more unit tests are added or extensions are moved to their own repository. Logging comments need addressed though or else the exceptions will get eaten up by the logging framework.\"\n\nsynchronization issues? Please raise them up. I do not see any.\n\"lack of timeouts on polling and locking\", Obviously, you do not check the codebase or you do not think the default timeouts suffice? Is there any reason why default timeouts do not work well with Druid?\n\n\" but given that this is an isolated extension, I'm good with it being an experimental feature until either more unit tests are added or extensions are moved to their own repository. Logging comments need addressed though or else the exceptions will get eaten up by the logging framework.\" As I previously replied, I wish I could add some unit tests that make sense. Would you recommend a way to do this without setting up MQ and Druid system?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173441271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173443345","html_url":"https://github.com/apache/druid/pull/2231#issuecomment-173443345","issue_url":"https://api.github.com/repos/apache/druid/issues/2231","id":173443345,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ0MzM0NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T03:51:29Z","updated_at":"2016-01-21T03:51:29Z","author_association":"CONTRIBUTOR","body":"Actually , looking at com.alibaba.rocketmq.common.ServiceThread from http://grepcode.com/file/repo1.maven.org/maven2/com.alibaba.rocketmq/rocketmq-common/3.2.6/com/alibaba/rocketmq/common/ServiceThread.java/ it looks like ServiceThread does a lot of synchronization and notifying on itself. That makes this impl much harder to review without an intimate understanding of ServiceThread.\n\nRegarding testing, The general recommendation if the framework does not have a unit-test friendly tool, is to use EasyMock to force the behaviors you are testing for.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173443345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173443684","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173443684","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173443684,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ0MzY4NA==","user":{"login":"michaelschiff","id":1669670,"node_id":"MDQ6VXNlcjE2Njk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1669670?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelschiff","html_url":"https://github.com/michaelschiff","followers_url":"https://api.github.com/users/michaelschiff/followers","following_url":"https://api.github.com/users/michaelschiff/following{/other_user}","gists_url":"https://api.github.com/users/michaelschiff/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelschiff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelschiff/subscriptions","organizations_url":"https://api.github.com/users/michaelschiff/orgs","repos_url":"https://api.github.com/users/michaelschiff/repos","events_url":"https://api.github.com/users/michaelschiff/events{/privacy}","received_events_url":"https://api.github.com/users/michaelschiff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T03:52:22Z","updated_at":"2016-01-21T03:52:22Z","author_association":"CONTRIBUTOR","body":"If the general consensus is that support for these kind of additional metrics is not needed / correct, I am not against going back to detecting this case and throwing a descriptive error.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173443684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173444496","html_url":"https://github.com/apache/druid/pull/2231#issuecomment-173444496","issue_url":"https://api.github.com/repos/apache/druid/issues/2231","id":173444496,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ0NDQ5Ng==","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T03:59:53Z","updated_at":"2016-01-21T03:59:53Z","author_association":"CONTRIBUTOR","body":"Yes, I admit understanding ServiceThread is required. Fortunately, it's not that complex...5 min should suffice. \n\nSure, we may mock a few cases. But really limited few. How much can we get? maybe much fewer than a real test deployment. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173444496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173446774","html_url":"https://github.com/apache/druid/pull/2231#issuecomment-173446774","issue_url":"https://api.github.com/repos/apache/druid/issues/2231","id":173446774,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ0Njc3NA==","user":{"login":"guobingkun","id":11789051,"node_id":"MDQ6VXNlcjExNzg5MDUx","avatar_url":"https://avatars.githubusercontent.com/u/11789051?v=4","gravatar_id":"","url":"https://api.github.com/users/guobingkun","html_url":"https://github.com/guobingkun","followers_url":"https://api.github.com/users/guobingkun/followers","following_url":"https://api.github.com/users/guobingkun/following{/other_user}","gists_url":"https://api.github.com/users/guobingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/guobingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guobingkun/subscriptions","organizations_url":"https://api.github.com/users/guobingkun/orgs","repos_url":"https://api.github.com/users/guobingkun/repos","events_url":"https://api.github.com/users/guobingkun/events{/privacy}","received_events_url":"https://api.github.com/users/guobingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T04:17:59Z","updated_at":"2016-01-21T04:17:59Z","author_association":"CONTRIBUTOR","body":"@lizhanhui Thanks for the PR. Since this is intended to be used by public, can we have some documentation that describes how to use this extension?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173446774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173449483","html_url":"https://github.com/apache/druid/pull/2295#issuecomment-173449483","issue_url":"https://api.github.com/repos/apache/druid/issues/2295","id":173449483,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ0OTQ4Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T04:41:36Z","updated_at":"2016-01-21T04:41:36Z","author_association":"CONTRIBUTOR","body":":+1: besides https://github.com/druid-io/druid/pull/2295#discussion_r50359712\n\nlenient merging is ok for the UI usecase (also its configurable so doesn't really matter for other use cases)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173449483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173451222","html_url":"https://github.com/apache/druid/pull/1978#issuecomment-173451222","issue_url":"https://api.github.com/repos/apache/druid/issues/1978","id":173451222,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ1MTIyMg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T04:58:28Z","updated_at":"2016-01-21T04:58:28Z","author_association":"CONTRIBUTOR","body":"@bslim :+1: besides the minor comments, feel free to merge after resolving the comments\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173451222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173452429","html_url":"https://github.com/apache/druid/issues/2292#issuecomment-173452429","issue_url":"https://api.github.com/repos/apache/druid/issues/2292","id":173452429,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ1MjQyOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T05:05:16Z","updated_at":"2016-01-21T05:05:16Z","author_association":"CONTRIBUTOR","body":"@binlijin I'm not planning on implementing indexless String dimensions in the PR I am currently working on, but I think it makes sense to support that later on.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173452429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173456945","html_url":"https://github.com/apache/druid/pull/2111#issuecomment-173456945","issue_url":"https://api.github.com/repos/apache/druid/issues/2111","id":173456945,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ1Njk0NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T05:19:47Z","updated_at":"2016-01-21T05:19:47Z","author_association":"CONTRIBUTOR","body":"@binlijin can you update the PR description with a summary of why this change improves performance, it will be helpful to anyone looking at PR.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173456945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173464230","html_url":"https://github.com/apache/druid/pull/2076#issuecomment-173464230","issue_url":"https://api.github.com/repos/apache/druid/issues/2076","id":173464230,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ2NDIzMA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T05:49:01Z","updated_at":"2016-01-21T05:49:01Z","author_association":"CONTRIBUTOR","body":":+1: after https://github.com/druid-io/druid/pull/2076#discussion_r50343923 is resolved\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173464230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173469051","html_url":"https://github.com/apache/druid/pull/2111#issuecomment-173469051","issue_url":"https://api.github.com/repos/apache/druid/issues/2111","id":173469051,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ2OTA1MQ==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T06:12:27Z","updated_at":"2016-01-21T06:12:27Z","author_association":"CONTRIBUTOR","body":"@himanshug  do update the PR description.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173469051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173472925","html_url":"https://github.com/apache/druid/pull/2111#issuecomment-173472925","issue_url":"https://api.github.com/repos/apache/druid/issues/2111","id":173472925,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzQ3MjkyNQ==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T06:24:50Z","updated_at":"2016-01-21T06:24:50Z","author_association":"CONTRIBUTOR","body":"rebase\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173472925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173519075","html_url":"https://github.com/apache/druid/pull/2261#issuecomment-173519075","issue_url":"https://api.github.com/repos/apache/druid/issues/2261","id":173519075,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzUxOTA3NQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T09:49:39Z","updated_at":"2016-01-21T09:49:39Z","author_association":"MEMBER","body":"@drcrallen @fjy @gianm @himanshug : can one of you take a look at this PR ? \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173519075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173595605","html_url":"https://github.com/apache/druid/pull/2315#issuecomment-173595605","issue_url":"https://api.github.com/repos/apache/druid/issues/2315","id":173595605,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzU5NTYwNQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T14:56:39Z","updated_at":"2016-01-21T14:56:39Z","author_association":"MEMBER","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173595605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173596965","html_url":"https://github.com/apache/druid/pull/2076#issuecomment-173596965","issue_url":"https://api.github.com/repos/apache/druid/issues/2076","id":173596965,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzU5Njk2NQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T14:59:58Z","updated_at":"2016-01-21T14:59:58Z","author_association":"CONTRIBUTOR","body":"@fjy and @himanshug thanks ! will merge it once Travis is happy !\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173596965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173606069","html_url":"https://github.com/apache/druid/issues/1980#issuecomment-173606069","issue_url":"https://api.github.com/repos/apache/druid/issues/1980","id":173606069,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzYwNjA2OQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T15:28:03Z","updated_at":"2016-01-21T15:28:03Z","author_association":"CONTRIBUTOR","body":"@michaelschiff yes, any suggestion or thing that i should know about for your use case ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173606069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173607799","html_url":"https://github.com/apache/druid/pull/2291#issuecomment-173607799","issue_url":"https://api.github.com/repos/apache/druid/issues/2291","id":173607799,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzYwNzc5OQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T15:34:34Z","updated_at":"2016-01-21T15:34:34Z","author_association":"CONTRIBUTOR","body":"@drcrallen this need to merged ASAP, it is blocking the development of QTL. Even tho i think QTL won't be done for 0.9 but having this merged is very important. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173607799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173613496","html_url":"https://github.com/apache/druid/issues/2312#issuecomment-173613496","issue_url":"https://api.github.com/repos/apache/druid/issues/2312","id":173613496,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzYxMzQ5Ng==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T15:50:44Z","updated_at":"2016-01-21T15:52:05Z","author_association":"MEMBER","body":":+1:  for the proposal\n\nRegarding the question \n\n##### \"How does Druid recover in case of Coordinator leader crashes?\"\n\nIt is difficult to maintain a static list of coordinator hosts names in a runtime property because if new coordinator joins then all the properties files needs to be changed on all nodes and possibly nodes needs to be restart. IMO instead the Druid nodes should wait for another Coordinator to announce its leadership if they know that the current leader has died. Raft promises that leader election is pretty therefore the Druid nodes can continue working independently without any coordinator leader for a short amount of time just like they do now if no coordinator is present. This way nodes does not have to maintain list of coordinators and also do not need to send heartbeats to any random coordinator if no leader is present.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173613496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173616751","html_url":"https://github.com/apache/druid/pull/1978#issuecomment-173616751","issue_url":"https://api.github.com/repos/apache/druid/issues/1978","id":173616751,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzYxNjc1MQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T16:00:22Z","updated_at":"2016-01-21T16:00:22Z","author_association":"CONTRIBUTOR","body":"@rohitkochar are you aware of the current changes on how to supply the whiteList map\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173616751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173617545","html_url":"https://github.com/apache/druid/issues/2312#issuecomment-173617545","issue_url":"https://api.github.com/repos/apache/druid/issues/2312","id":173617545,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzYxNzU0NQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T16:03:14Z","updated_at":"2016-01-21T16:03:14Z","author_association":"MEMBER","body":"For \"How to assign a segment to Historical ?\" there is a similar proposal here - https://github.com/druid-io/druid/issues/2314\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173617545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173617646","html_url":"https://github.com/apache/druid/pull/2305#issuecomment-173617646","issue_url":"https://api.github.com/repos/apache/druid/issues/2305","id":173617646,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzYxNzY0Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T16:03:35Z","updated_at":"2016-01-21T16:03:35Z","author_association":"CONTRIBUTOR","body":"@gianm this is failing unit tests\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173617646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173621606","html_url":"https://github.com/apache/druid/pull/1978#issuecomment-173621606","issue_url":"https://api.github.com/repos/apache/druid/issues/1978","id":173621606,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzYyMTYwNg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T16:17:10Z","updated_at":"2016-01-21T16:17:10Z","author_association":"CONTRIBUTOR","body":"@spektom we changed the way we supply the map in favor of file path.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173621606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173651889","html_url":"https://github.com/apache/druid/issues/2312#issuecomment-173651889","issue_url":"https://api.github.com/repos/apache/druid/issues/2312","id":173651889,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY1MTg4OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T17:49:45Z","updated_at":"2016-01-21T17:49:45Z","author_association":"CONTRIBUTOR","body":"Minor book keeping comments:\n- Your links in the PR master comment will break if future releases move the files. Can you link to a particular version? (like the 0.8.3 branch) \n- #2242 (also yours) is worth linking here and calling out the differences in scope of each.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173651889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173652221","html_url":"https://github.com/apache/druid/issues/2314#issuecomment-173652221","issue_url":"https://api.github.com/repos/apache/druid/issues/2314","id":173652221,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY1MjIyMQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T17:51:03Z","updated_at":"2016-01-21T17:51:03Z","author_association":"CONTRIBUTOR","body":"Note that extra metadata like current used and max capacity of a historical node is not in scope for #2286 so this proposal may need to clarify any changes in endpoints needed to accommodate the required metadata information.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173652221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173652604","html_url":"https://github.com/apache/druid/pull/2315#issuecomment-173652604","issue_url":"https://api.github.com/repos/apache/druid/issues/2315","id":173652604,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY1MjYwNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T17:52:23Z","updated_at":"2016-01-21T17:52:23Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173652604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173660544","html_url":"https://github.com/apache/druid/pull/2305#issuecomment-173660544","issue_url":"https://api.github.com/repos/apache/druid/issues/2305","id":173660544,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY2MDU0NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T18:14:55Z","updated_at":"2016-01-21T18:14:55Z","author_association":"CONTRIBUTOR","body":"@fjy ah sorry will fix\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173660544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173666472","html_url":"https://github.com/apache/druid/pull/2305#issuecomment-173666472","issue_url":"https://api.github.com/repos/apache/druid/issues/2305","id":173666472,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY2NjQ3Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T18:32:48Z","updated_at":"2016-01-21T18:32:48Z","author_association":"CONTRIBUTOR","body":"@fjy re-pushed\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173666472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173672791","html_url":"https://github.com/apache/druid/pull/2306#issuecomment-173672791","issue_url":"https://api.github.com/repos/apache/druid/issues/2306","id":173672791,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY3Mjc5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T18:53:54Z","updated_at":"2016-01-21T18:53:54Z","author_association":"CONTRIBUTOR","body":"@jon-wei It seems like the ideal condition would be:\n- If dim is entirely missing from one index, but has mixed nulls and values in another index, ensure the null/empty str is in the dictionary and convert missing columns to empty strings for merging\n\nChecking for mixed nulls/values shouldn't add additional expense as `isNullColumn` already iterates over all the dim values. So I think it's feasible to do this check the ideal way.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173672791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173696475","html_url":"https://github.com/apache/druid/pull/2306#issuecomment-173696475","issue_url":"https://api.github.com/repos/apache/druid/issues/2306","id":173696475,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY5NjQ3NQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T20:20:01Z","updated_at":"2016-01-21T20:20:31Z","author_association":"CONTRIBUTOR","body":"@gianm It's still necessary to add the null/empty str to the dictionary for the case where a dim is missing from one index, and has no null values in another (missing and non-mixed) when they merge.\n\nIn the legacy merger this was handled by bumping the dictionary in IndexIO:\n\n```\n          if (onlyOneValue) {\n            log.info(\"Dimension[%s] is single value, converting...\", dimension);\n            final boolean bumpedDictionary;\n            if (nullsSet != null) {\n              log.info(\"Dimension[%s] has null rows.\", dimension);\n              final ImmutableBitmap theNullSet = bitmapFactory.makeImmutableBitmap(nullsSet);\n\n              if (dictionary.get(0) != null) {\n                log.info(\"Dimension[%s] has no null value in the dictionary, expanding...\", dimension);\n                bumpedDictionary = true;\n                final List<String> nullList = Lists.newArrayList();\n                nullList.add(null);\n\n                dictionary = GenericIndexed.fromIterable(\n                    Iterables.concat(nullList, dictionary),\n                    GenericIndexed.STRING_STRATEGY\n                );\n```\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173696475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173697865","html_url":"https://github.com/apache/druid/pull/2305#issuecomment-173697865","issue_url":"https://api.github.com/repos/apache/druid/issues/2305","id":173697865,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzY5Nzg2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T20:25:58Z","updated_at":"2016-01-21T20:25:58Z","author_association":"CONTRIBUTOR","body":"AnnouncerTest.testSessionKilled:176 »  test timed out after 60000 milliseconds\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173697865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173700660","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173700660","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173700660,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcwMDY2MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T20:36:49Z","updated_at":"2016-01-21T20:40:44Z","author_association":"CONTRIBUTOR","body":"@michaelschiff I banged around in unit tests for a bit and encountered NPE on this one:\n\n```\n@Test\n  public void testMismatchedMetricsVarying() throws IOException\n  {\n\n    IncrementalIndex index2 = IncrementalIndexTest.createIndex(new AggregatorFactory[]{\n        new LongSumAggregatorFactory(\"A\", \"A\"),\n        new LongSumAggregatorFactory(\"C\", \"C\")\n    });\n    closer.closeLater(index2);\n\n    IncrementalIndex index5 = IncrementalIndexTest.createIndex(new AggregatorFactory[]{\n        new LongSumAggregatorFactory(\"C\", \"C\"),\n        new LongSumAggregatorFactory(\"B\", \"B\")\n    });\n    closer.closeLater(index5);\n\n\n    Interval interval = new Interval(0, new DateTime().getMillis());\n    RoaringBitmapFactory factory = new RoaringBitmapFactory();\n    ArrayList<IndexableAdapter> toMerge = Lists.<IndexableAdapter>newArrayList(\n        new IncrementalIndexAdapter(interval, index2, factory)\n    );\n\n    final File tmpDirMerged = temporaryFolder.newFolder();\n\n    final File merged = INDEX_MERGER.merge(\n        toMerge,\n        new AggregatorFactory[] {\n            new LongSumAggregatorFactory(\"B\", \"B\"),\n            new LongSumAggregatorFactory(\"A\", \"A\"),\n            new LongSumAggregatorFactory(\"D\", \"D\")\n        },\n        tmpDirMerged,\n        indexSpec\n    );\n    final QueryableIndexStorageAdapter adapter = new QueryableIndexStorageAdapter(closer.closeLater(INDEX_IO.loadIndex(merged)));\n    Assert.assertEquals(ImmutableSet.of(\"A\", \"B\", \"C\"), ImmutableSet.copyOf(adapter.getAvailableMetrics()));\n  }\n```\n\nNote on master the above test results in\n\n```\ncom.metamx.common.IAE: Bad number of metrics[4], expected [3]\n\n    at io.druid.segment.IndexMerger.merge(IndexMerger.java:366)\n    at io.druid.segment.IndexMerger.merge(IndexMerger.java:254)\n    at io.druid.segment.IndexMergerTest.testMismatchedMetricsVarying(IndexMergerTest.java:1497)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)\n    at io.druid.segment.CloserRule$1.evaluate(CloserRule.java:55)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.junit.runners.Suite.runChild(Suite.java:127)\n    at org.junit.runners.Suite.runChild(Suite.java:26)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:160)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\n\n```\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173700660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173701341","html_url":"https://github.com/apache/druid/issues/2167#issuecomment-173701341","issue_url":"https://api.github.com/repos/apache/druid/issues/2167","id":173701341,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcwMTM0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T20:39:39Z","updated_at":"2016-01-21T20:39:39Z","author_association":"CONTRIBUTOR","body":"failed here: https://travis-ci.org/druid-io/druid/builds/103912940, perhaps that provides the more information.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173701341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173707936","html_url":"https://github.com/apache/druid/pull/2111#issuecomment-173707936","issue_url":"https://api.github.com/repos/apache/druid/issues/2111","id":173707936,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcwNzkzNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T21:07:32Z","updated_at":"2016-01-21T21:07:32Z","author_association":"CONTRIBUTOR","body":":+1: after https://github.com/druid-io/druid/pull/2111#discussion_r50463994 is resolved.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173707936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173708286","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173708286","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173708286,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcwODI4Ng==","user":{"login":"michaelschiff","id":1669670,"node_id":"MDQ6VXNlcjE2Njk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1669670?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelschiff","html_url":"https://github.com/michaelschiff","followers_url":"https://api.github.com/users/michaelschiff/followers","following_url":"https://api.github.com/users/michaelschiff/following{/other_user}","gists_url":"https://api.github.com/users/michaelschiff/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelschiff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelschiff/subscriptions","organizations_url":"https://api.github.com/users/michaelschiff/orgs","repos_url":"https://api.github.com/users/michaelschiff/repos","events_url":"https://api.github.com/users/michaelschiff/events{/privacy}","received_events_url":"https://api.github.com/users/michaelschiff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T21:08:59Z","updated_at":"2016-01-21T21:08:59Z","author_association":"CONTRIBUTOR","body":"Good catch thanks.  Added you unit test. Previously the IAE was only throw if the metrics differed in number, but in your test, there are 3 both in metricAggs, and mergedMetrics, so we continue and later try to use the null AggregatorFactory.  This is handled properly now. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173708286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173708999","html_url":"https://github.com/apache/druid/pull/2305#issuecomment-173708999","issue_url":"https://api.github.com/repos/apache/druid/issues/2305","id":173708999,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcwODk5OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T21:11:58Z","updated_at":"2016-01-21T21:11:58Z","author_association":"CONTRIBUTOR","body":":+1: after travis\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173708999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173711604","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173711604","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173711604,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcxMTYwNA==","user":{"login":"michaelschiff","id":1669670,"node_id":"MDQ6VXNlcjE2Njk2NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1669670?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelschiff","html_url":"https://github.com/michaelschiff","followers_url":"https://api.github.com/users/michaelschiff/followers","following_url":"https://api.github.com/users/michaelschiff/following{/other_user}","gists_url":"https://api.github.com/users/michaelschiff/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelschiff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelschiff/subscriptions","organizations_url":"https://api.github.com/users/michaelschiff/orgs","repos_url":"https://api.github.com/users/michaelschiff/repos","events_url":"https://api.github.com/users/michaelschiff/events{/privacy}","received_events_url":"https://api.github.com/users/michaelschiff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T21:22:31Z","updated_at":"2016-01-21T21:22:31Z","author_association":"CONTRIBUTOR","body":"Added the assertion you described.  Just a note, the merged metrics would only be (A, B, C) since D was not present in any of the actual indices.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173711604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173711798","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173711798","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173711798,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcxMTc5OA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T21:23:25Z","updated_at":"2016-01-21T21:23:25Z","author_association":"CONTRIBUTOR","body":"Sure cool, thanks\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173711798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173719165","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173719165","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173719165,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzcxOTE2NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T21:45:49Z","updated_at":"2016-01-21T21:45:49Z","author_association":"CONTRIBUTOR","body":"This changes behavior a little bit where the merged result contains the set of aggregates in the constituent indices regardless of the requested list of factories, which seems like reasonable behavior. Since there's no actual documentation in the intended behavior of merge, and all other unit tests pass unaltered, I assume this is not an issue and am therefore :+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173719165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173735139","html_url":"https://github.com/apache/druid/pull/2306#issuecomment-173735139","issue_url":"https://api.github.com/repos/apache/druid/issues/2306","id":173735139,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzczNTEzOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T22:29:10Z","updated_at":"2016-01-21T22:29:10Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173735139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173743836","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173743836","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173743836,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0MzgzNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:04:07Z","updated_at":"2016-01-21T23:04:07Z","author_association":"CONTRIBUTOR","body":"https://github.com/druid-io/druid-api/pull/68 removed a workaround for this so I'm tagging it with 0.9.0\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173743836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173744126","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173744126","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173744126,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0NDEyNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:05:31Z","updated_at":"2016-01-21T23:05:31Z","author_association":"CONTRIBUTOR","body":"@gianm can we close this?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173744126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173744629","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173744629","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173744629,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0NDYyOQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:07:18Z","updated_at":"2016-01-21T23:07:18Z","author_association":"CONTRIBUTOR","body":"Do we have tests that reproduce the bug? that would be a great indicator if we can close it.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173744629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173744952","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173744952","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173744952,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0NDk1Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:08:59Z","updated_at":"2016-01-21T23:08:59Z","author_association":"CONTRIBUTOR","body":"I believe @jon-wei added some tests as part of #2006 & #2306.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173744952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173745072","html_url":"https://github.com/apache/druid/pull/2111#issuecomment-173745072","issue_url":"https://api.github.com/repos/apache/druid/issues/2111","id":173745072,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0NTA3Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:09:35Z","updated_at":"2016-01-21T23:09:35Z","author_association":"CONTRIBUTOR","body":"I'm still :+1: \n\n@binlijin feel free to merge this after you address @himanshug's comment\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173745072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173746131","html_url":"https://github.com/apache/druid/pull/2217#issuecomment-173746131","issue_url":"https://api.github.com/repos/apache/druid/issues/2217","id":173746131,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0NjEzMQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:15:03Z","updated_at":"2016-01-21T23:15:03Z","author_association":"CONTRIBUTOR","body":"@navis I think the issues you brought up in #2006 should now be addressed\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173746131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173748143","html_url":"https://github.com/apache/druid/pull/2264#issuecomment-173748143","issue_url":"https://api.github.com/repos/apache/druid/issues/2264","id":173748143,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0ODE0Mw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:24:05Z","updated_at":"2016-01-21T23:24:05Z","author_association":"CONTRIBUTOR","body":":+1: after minor comments\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173748143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173748391","html_url":"https://github.com/apache/druid/pull/2264#issuecomment-173748391","issue_url":"https://api.github.com/repos/apache/druid/issues/2264","id":173748391,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0ODM5MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:25:12Z","updated_at":"2016-01-21T23:25:12Z","author_association":"CONTRIBUTOR","body":"Thanks for the contrib @himank . Could you please fill out the CLA at http://druid.io/community/cla.html ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173748391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173749480","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173749480","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173749480,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0OTQ4MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:30:48Z","updated_at":"2016-01-21T23:30:48Z","author_association":"CONTRIBUTOR","body":"@jon-wei can you confirm if this has proper unit tests in place that pass?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173749480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173749901","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173749901","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173749901,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc0OTkwMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:33:12Z","updated_at":"2016-01-21T23:33:12Z","author_association":"CONTRIBUTOR","body":"@drcrallen @gianm \n\nIn IndexMergerTest, I added two tests that use non-lexicographic dimension ordering:\ntestNonLexicographicDimOrderMerge() \ntestMergeWithSupersetOrdering() \n\nI also added one test to both IndexGeneratorJobTest and RealtimePlumberSchoolTest that verifies that these classes can pass the non-lexicographic dim order across indexes\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173749901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173750216","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173750216","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173750216,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1MDIxNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:35:10Z","updated_at":"2016-01-21T23:35:10Z","author_association":"CONTRIBUTOR","body":"@jon-wei if your stuff fixed this issue then close it down :)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173750216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173751252","html_url":"https://github.com/apache/druid/issues/2312#issuecomment-173751252","issue_url":"https://api.github.com/repos/apache/druid/issues/2312","id":173751252,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1MTI1Mg==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:41:25Z","updated_at":"2016-01-21T23:41:25Z","author_association":"MEMBER","body":"Here are a few things I think we should keep in mind as part of this discussion:\n1. I believe we need to separate the notion of node announcement and the other coordination requirements such as segment/task announcement. Currently we do not make that distinction, which leads to service discovery being abused to discover nodes internally and the lack of a general way of discovering other nodes within Druid, which is something that we've repeatedly needed for router -> master, overlord -> master, worker -> overlord, tranquility -> overlord discovery. More on the subject here https://github.com/druid-io/druid/issues/2040\n2. Very importantly, we need to make sure we provide a way to do rolling upgrades while transitioning away from ZK.\n3. We need to keep in mind that there are very large clusters out there, so we need to make sure we don't cause massive cross-talk when dealing with a large number of segments. Having each broker query the coordinator for the segment list sounds like a really bad idea. For instance, we have about 3 million segments in our cluster, which would require a broker to pull roughly 5GB worth of data from the coordinator every time it restarts. This will likely cause the coordinator to fall over, given that memory requirement is already very high on the coordinator.\n4. ZK is probably still one of the few production ready services out there to do leader election and node announcements. While I agree most things should probably be moved off of ZK, until there are production ready java implementations of raft out there, re-implementing node announcement and leader-election should probably be the last things we tackle, given the inherent difficulty in getting those right.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173751252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173751438","html_url":"https://github.com/apache/druid/issues/658#issuecomment-173751438","issue_url":"https://api.github.com/repos/apache/druid/issues/658","id":173751438,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1MTQzOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:42:31Z","updated_at":"2016-01-21T23:43:26Z","author_association":"CONTRIBUTOR","body":"Alright, I'll close this with the note that:\n\nIf indexes to be merged have incompatible dimension orders (e.g., A,B,C,D) and (C,B,D,A,) for some reason, the merger will fallback to using lexicographic order, PR #2006, #2306 will not attempt to resort the rows in that case.\n\ni.e., this adopts the first approach suggested by @gianm \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173751438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173751661","html_url":"https://github.com/apache/druid/pull/2217#issuecomment-173751661","issue_url":"https://api.github.com/repos/apache/druid/issues/2217","id":173751661,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1MTY2MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:43:41Z","updated_at":"2016-01-21T23:43:41Z","author_association":"CONTRIBUTOR","body":"@navis Generally looks good but I want to double check the performance impact of  partitionWithBitmapSupport(). Can we just double check performance with filters isn't impacted by the additional recursive logic there? \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173751661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173752442","html_url":"https://github.com/apache/druid/pull/2263#issuecomment-173752442","issue_url":"https://api.github.com/repos/apache/druid/issues/2263","id":173752442,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1MjQ0Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:47:57Z","updated_at":"2016-01-22T00:11:25Z","author_association":"CONTRIBUTOR","body":"closed for now to rebase to master, will reopen \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173752442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173752893","html_url":"https://github.com/apache/druid/pull/2305#issuecomment-173752893","issue_url":"https://api.github.com/repos/apache/druid/issues/2305","id":173752893,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1Mjg5Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:50:53Z","updated_at":"2016-01-21T23:50:53Z","author_association":"CONTRIBUTOR","body":"rebased against master\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173752893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173753535","html_url":"https://github.com/apache/druid/issues/2040#issuecomment-173753535","issue_url":"https://api.github.com/repos/apache/druid/issues/2040","id":173753535,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1MzUzNQ==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:54:35Z","updated_at":"2016-01-21T23:54:35Z","author_association":"MEMBER","body":"@guobingkun curator is also pretty flexible in the payload that can be announced as part of their service discovery implementation, we don't have to be limited by what is currently in CuratorServiceAnnouncer. \n\nWe can still implement a separate DruidServerDiscovery for internal purposes that uses curator, removing the need to use our home-grown announcer code for discovery purposes, which still seems to be failing tests every now and then.\n\nHistorical nodes can keep using Announcer for segments, but since segments announcement is one of the first things we'll likely move off of ZK, that code will become less useful overtime.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173753535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173753588","html_url":"https://github.com/apache/druid/pull/2263#issuecomment-173753588","issue_url":"https://api.github.com/repos/apache/druid/issues/2263","id":173753588,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc1MzU4OA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-21T23:54:53Z","updated_at":"2016-01-21T23:54:53Z","author_association":"CONTRIBUTOR","body":"dont' force-push your branch until the PR is open or it will render this unable to re-open\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173753588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173761605","html_url":"https://github.com/apache/druid/pull/2257#issuecomment-173761605","issue_url":"https://api.github.com/repos/apache/druid/issues/2257","id":173761605,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc2MTYwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T00:36:00Z","updated_at":"2016-01-22T00:36:00Z","author_association":"CONTRIBUTOR","body":":+1: looks good to me. Doesn't look like this damages the integrity of the sanity checks too much.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173761605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173770409","html_url":"https://github.com/apache/druid/pull/2295#issuecomment-173770409","issue_url":"https://api.github.com/repos/apache/druid/issues/2295","id":173770409,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc3MDQwOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T01:27:33Z","updated_at":"2016-01-22T01:27:33Z","author_association":"CONTRIBUTOR","body":"rebased against master\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173770409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173776390","html_url":"https://github.com/apache/druid/pull/2094#issuecomment-173776390","issue_url":"https://api.github.com/repos/apache/druid/issues/2094","id":173776390,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc3NjM5MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T02:02:44Z","updated_at":"2016-01-22T02:02:44Z","author_association":"CONTRIBUTOR","body":"@navis \n\nLooks good to me, I don't have any additional comments beyond what @fjy has already noted.\n\nCan you rebase? I'll do another review pass on this after.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173776390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173784979","html_url":"https://github.com/apache/druid/pull/2111#issuecomment-173784979","issue_url":"https://api.github.com/repos/apache/druid/issues/2111","id":173784979,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mzc4NDk3OQ==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T02:40:46Z","updated_at":"2016-01-22T02:40:46Z","author_association":"CONTRIBUTOR","body":"rebase and fix test\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173784979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173824974","html_url":"https://github.com/apache/druid/pull/2318#issuecomment-173824974","issue_url":"https://api.github.com/repos/apache/druid/issues/2318","id":173824974,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzgyNDk3NA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T06:36:40Z","updated_at":"2016-01-22T06:36:40Z","author_association":"MEMBER","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173824974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173825801","html_url":"https://github.com/apache/druid/pull/2318#issuecomment-173825801","issue_url":"https://api.github.com/repos/apache/druid/issues/2318","id":173825801,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzgyNTgwMQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T06:44:46Z","updated_at":"2016-01-22T06:44:46Z","author_association":"CONTRIBUTOR","body":":+1 after travis\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173825801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173827702","html_url":"https://github.com/apache/druid/pull/2318#issuecomment-173827702","issue_url":"https://api.github.com/repos/apache/druid/issues/2318","id":173827702,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzgyNzcwMg==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T06:51:56Z","updated_at":"2016-01-22T06:51:56Z","author_association":"MEMBER","body":"@fjy this PR should not be flagged incompatible, the setting does not exist in any release yet. The previous PR got merged right around when I added my comment.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173827702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/173831432","html_url":"https://github.com/apache/druid/issues/2319#issuecomment-173831432","issue_url":"https://api.github.com/repos/apache/druid/issues/2319","id":173831432,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzgzMTQzMg==","user":{"login":"sirpkt","id":4968993,"node_id":"MDQ6VXNlcjQ5Njg5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/4968993?v=4","gravatar_id":"","url":"https://api.github.com/users/sirpkt","html_url":"https://github.com/sirpkt","followers_url":"https://api.github.com/users/sirpkt/followers","following_url":"https://api.github.com/users/sirpkt/following{/other_user}","gists_url":"https://api.github.com/users/sirpkt/gists{/gist_id}","starred_url":"https://api.github.com/users/sirpkt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirpkt/subscriptions","organizations_url":"https://api.github.com/users/sirpkt/orgs","repos_url":"https://api.github.com/users/sirpkt/repos","events_url":"https://api.github.com/users/sirpkt/events{/privacy}","received_events_url":"https://api.github.com/users/sirpkt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-22T07:20:23Z","updated_at":"2016-01-22T07:21:36Z","author_association":"CONTRIBUTOR","body":"I think this error is from SQL query of createPendingSegmentsTable() in SQLMetadataConnector,\nwhich has unique key, `UNIQUE (sequence_name, sequence_prev_id)`.\nAs both `sequence_name` and `sequence_prev_id` are defined as `VARCHAR(255)` \nand `VARCHAR(255)` actually takes 255 \\* 3 = 765 bytes with UTF-8,\nkey size exceeds 1000 bytes limit of MySQL MyISAM(and MariaDB also has the same key size limit).\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/173831432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]