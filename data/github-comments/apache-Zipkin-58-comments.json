[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/319983845","html_url":"https://github.com/openzipkin/zipkin/issues/1644#issuecomment-319983845","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1644","id":319983845,"node_id":"MDEyOklzc3VlQ29tbWVudDMxOTk4Mzg0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-03T14:23:04Z","updated_at":"2017-08-03T14:23:04Z","author_association":"MEMBER","body":"thx for the help @xeraa ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/319983845/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320141716","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320141716","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320141716,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE0MTcxNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T02:43:45Z","updated_at":"2017-08-04T02:43:45Z","author_association":"MEMBER","body":"cc @openzipkin/elasticsearch @openzipkin/cassandra @openzipkin/core for input on this","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320141716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320141927","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320141927","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320141927,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE0MTkyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T02:45:25Z","updated_at":"2017-08-04T02:45:25Z","author_association":"MEMBER","body":"Note this technique can also be used to address a transition from one storage type to another. for example, mysql to cassandra or elasticsearch","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320141927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320142062","html_url":"https://github.com/openzipkin/zipkin/issues/1676#issuecomment-320142062","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1676","id":320142062,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE0MjA2Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T02:46:42Z","updated_at":"2017-08-04T02:46:42Z","author_association":"MEMBER","body":"FYI: here's an approach to consider now or later when the storage implementation dramatically differs from a prior version https://github.com/openzipkin/zipkin/issues/1679","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320142062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320145016","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320145016","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320145016,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE0NTAxNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T03:11:30Z","updated_at":"2017-08-04T03:11:30Z","author_association":"MEMBER","body":"PS another way out would be to write a read api merging proxy. This would work, but it would add another process to manage and upgrade. Yet another way out would be to do the fan-out in javascript in the UI code. This would be a bit complicated especially due to cross origin requests.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320145016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320181546","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320181546","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320181546,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE4MTU0Ng==","user":{"login":"semyonslepov","id":27204211,"node_id":"MDQ6VXNlcjI3MjA0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/27204211?v=4","gravatar_id":"","url":"https://api.github.com/users/semyonslepov","html_url":"https://github.com/semyonslepov","followers_url":"https://api.github.com/users/semyonslepov/followers","following_url":"https://api.github.com/users/semyonslepov/following{/other_user}","gists_url":"https://api.github.com/users/semyonslepov/gists{/gist_id}","starred_url":"https://api.github.com/users/semyonslepov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/semyonslepov/subscriptions","organizations_url":"https://api.github.com/users/semyonslepov/orgs","repos_url":"https://api.github.com/users/semyonslepov/repos","events_url":"https://api.github.com/users/semyonslepov/events{/privacy}","received_events_url":"https://api.github.com/users/semyonslepov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T07:46:20Z","updated_at":"2017-08-04T07:46:43Z","author_association":"NONE","body":"How will it work if there is an index with the same date in old and new storage? Scan through both for traceId until the first match is found?\r\n\r\nP.S. In general sounds good for me.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320181546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320181962","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320181962","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320181962,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE4MTk2Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T07:48:21Z","updated_at":"2017-08-04T07:48:21Z","author_association":"MEMBER","body":">\n> How will it work if there is an index with the same date in old and new\n> storage? Scan for traceId until the first match is found?\n>\nIt would speculatively query the old one with the same parameters, and\nmerge any results (which would delay quests a bit)\n\n> P.S. In general sounds good for me.\n>\ncool!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320181962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320183965","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320183965","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320183965,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE4Mzk2NQ==","user":{"login":"ImFlog","id":5982268,"node_id":"MDQ6VXNlcjU5ODIyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/5982268?v=4","gravatar_id":"","url":"https://api.github.com/users/ImFlog","html_url":"https://github.com/ImFlog","followers_url":"https://api.github.com/users/ImFlog/followers","following_url":"https://api.github.com/users/ImFlog/following{/other_user}","gists_url":"https://api.github.com/users/ImFlog/gists{/gist_id}","starred_url":"https://api.github.com/users/ImFlog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ImFlog/subscriptions","organizations_url":"https://api.github.com/users/ImFlog/orgs","repos_url":"https://api.github.com/users/ImFlog/repos","events_url":"https://api.github.com/users/ImFlog/events{/privacy}","received_events_url":"https://api.github.com/users/ImFlog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T07:58:33Z","updated_at":"2017-08-04T07:58:33Z","author_association":"CONTRIBUTOR","body":"Could it also be a way to migrate from a Span V1 => V2 in the same storage ?\r\nOr any breaking change in general (even if it only happens once a in a very while) ?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320183965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320185407","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320185407","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320185407,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE4NTQwNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T08:06:13Z","updated_at":"2017-08-04T08:06:13Z","author_association":"MEMBER","body":">\n> Could it also be a way to migrate from a Span V1 => V2 in the same storage\n> ?\n>\nYes, for example I have this in mind for the transition to Span V2 (which\nis the same as Elasticsearch 6.x)\n\n> Or any breaking change in general (even if it only happens once a in a\n> very while) ?\n>\nIndeed\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320185407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320265250","html_url":"https://github.com/openzipkin/zipkin/pull/1675#issuecomment-320265250","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1675","id":320265250,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDI2NTI1MA==","user":{"login":"hfgbarrigas","id":10131599,"node_id":"MDQ6VXNlcjEwMTMxNTk5","avatar_url":"https://avatars.githubusercontent.com/u/10131599?v=4","gravatar_id":"","url":"https://api.github.com/users/hfgbarrigas","html_url":"https://github.com/hfgbarrigas","followers_url":"https://api.github.com/users/hfgbarrigas/followers","following_url":"https://api.github.com/users/hfgbarrigas/following{/other_user}","gists_url":"https://api.github.com/users/hfgbarrigas/gists{/gist_id}","starred_url":"https://api.github.com/users/hfgbarrigas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hfgbarrigas/subscriptions","organizations_url":"https://api.github.com/users/hfgbarrigas/orgs","repos_url":"https://api.github.com/users/hfgbarrigas/repos","events_url":"https://api.github.com/users/hfgbarrigas/events{/privacy}","received_events_url":"https://api.github.com/users/hfgbarrigas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-04T14:34:50Z","updated_at":"2017-08-04T14:34:50Z","author_association":"NONE","body":"@adriancole looks good. Thank you","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320265250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320437397","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320437397","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320437397,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQzNzM5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-05T11:01:09Z","updated_at":"2017-08-05T11:01:09Z","author_association":"MEMBER","body":"FYI I have code that works portably with the old and new format (enabled by a flag). just testing last bits of it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320437397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320437764","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320437764","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320437764,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQzNzc2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-05T11:09:58Z","updated_at":"2017-08-05T11:09:58Z","author_association":"MEMBER","body":"The new single-type indexing is setup by default when using ES 6.x. For other versions, we need to set `ES_EXPERIMENTAL_SPAN2=true`. When set and <6.x fan-out reads occur.\r\n\r\nI'll be polishing this up a bit more and adding more tests.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320437764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320479373","html_url":"https://github.com/openzipkin/zipkin/issues/1679#issuecomment-320479373","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1679","id":320479373,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQ3OTM3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T01:13:17Z","updated_at":"2017-08-06T01:14:13Z","author_association":"MEMBER","body":"As a part of #1674 I'm using an internal type like this which is working so far. This could likely be used for a generic one (where right is an http api span store):\r\n\r\n```java\r\n/**\r\n * This makes redundant read commands, concatenating results if two answers come back, or accepting\r\n * one if there's an error on the other.\r\n */\r\npublic final class LenientDoubleAsyncSpanStore implements AsyncSpanStore {\r\n  final AsyncSpanStore left;\r\n  final AsyncSpanStore right;\r\n\r\n--snip--\r\n  @Override public void getTrace(long traceIdHigh, long traceIdLow, Callback<List<Span>> callback) {\r\n    GetTraceDoubleCallback doubleCallback = new GetTraceDoubleCallback(callback);\r\n    left.getTrace(traceIdHigh, traceIdLow, doubleCallback);\r\n    right.getTrace(traceIdHigh, traceIdLow, doubleCallback);\r\n  }\r\n\r\n  static final class GetTraceDoubleCallback extends LenientDoubleCallback<List<Span>> {\r\n    static final Logger LOG = Logger.getLogger(GetTraceDoubleCallback.class.getName());\r\n\r\n    GetTraceDoubleCallback(Callback<List<Span>> delegate) {\r\n      super(LOG, delegate);\r\n    }\r\n\r\n    @Override List<Span> merge(List<Span> v1, List<Span> v2) {\r\n      List<Span> result = new ArrayList<>(v1);\r\n      result.addAll(v2);\r\n      return MergeById.apply(result);\r\n    }\r\n  }\r\n\r\n--snip--\r\n\r\n/** Callback that succeeds if at least one value does. The first error is logged. */\r\nabstract class LenientDoubleCallback<V> implements Callback<V> {\r\n  final Logger log;\r\n  final Callback<V> delegate;\r\n\r\n  V v;\r\n  Throwable t;\r\n\r\n  LenientDoubleCallback(Logger log, Callback<V> delegate) {\r\n    this.log = log;\r\n    this.delegate = delegate;\r\n  }\r\n\r\n  abstract V merge(V v1, V v2);\r\n\r\n  @Override synchronized final public void onSuccess(V value) {\r\n    if (t != null) {\r\n      delegate.onSuccess(value);\r\n    } else if (v == null) {\r\n      v = value;\r\n    } else {\r\n      delegate.onSuccess(merge(v, value));\r\n    }\r\n  }\r\n\r\n  @Override synchronized final public void onError(Throwable throwable) {\r\n    if (v != null) {\r\n      delegate.onSuccess(v);\r\n    } else if (t == null) {\r\n      log.log(Level.INFO, \"first error\", throwable);\r\n      t = throwable;\r\n    } else {\r\n      delegate.onError(throwable);\r\n    }\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320479373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320485397","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320485397","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320485397,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQ4NTM5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T04:41:53Z","updated_at":"2017-08-06T04:41:53Z","author_association":"MEMBER","body":"OK the work here is complete. I'll do some local ad-hoc testing prior to merge","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320485397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320485657","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320485657","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320485657,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQ4NTY1Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T04:51:55Z","updated_at":"2017-08-06T04:51:55Z","author_association":"MEMBER","body":"Verified all works as expected:\r\n\r\nFirst, I ran with no experimental flag:\r\n```bash\r\n$ STORAGE_TYPE=elasticsearch java -jar ./zipkin-server/target/zipkin-server-*exec.jar\r\n```\r\n\r\nI ran the brave demo two times and verified that the old elasticsearch index format was created\r\n```\r\n[2017-08-06T12:44:17,076][INFO ][o.e.c.m.MetaDataCreateIndexService] [dZwDerT] [zipkin-2017-08-06] creating index, cause [auto(bulk api)], templates [zipkin_template], shards [5]/[1], mappings [_default_, servicespan, dependencylink, span]\r\n[2017-08-06T12:44:17,176][INFO ][o.e.c.m.MetaDataMappingService] [dZwDerT] [zipkin-2017-08-06/VV22hH8nRqiSLnDBGE6mrQ] update_mapping [span]\r\n```\r\n\r\nThen, I started the server with the experimental flag:\r\n```bash \r\n$ ES_EXPERIMENTAL_SPAN2=true STORAGE_TYPE=elasticsearch java -jar ./zipkin-server/target/zipkin-server-*exec.jar\r\n```\r\n\r\nI ran the brave demo another time and verified that the new elasticsearch index format was created\r\n```\r\n[2017-08-06T12:45:10,671][INFO ][o.e.c.m.MetaDataCreateIndexService] [dZwDerT] [zipkin:span-2017-08-06] creating index, cause [auto(bulk api)], templates [zipkin:span_template], shards [5]/[1], mappings [_default_, span]\r\n[2017-08-06T12:45:10,755][INFO ][o.e.c.m.MetaDataMappingService] [dZwDerT] [zipkin:span-2017-08-06/XnMg6KryRwK46QxZgFzALw] update_mapping [span]\r\n```\r\n\r\nI looked in the UI and verified there were three traces.  Then, I stopped the one with the flag and saw two (because the new format is ignored). Next, I ran with an old version (1.24.0) and found it could read the two spans without any problem. Finally, I ran the brave demo with the old version (1.24.0) to make sure it could write properly.\r\n\r\n@jcarres-mdsol everything's now ready for opt-in. Unless you are running 6.x or set `ES_EXPERIMENTAL_SPAN2=true`, there's no difference in behavior between old code and new.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320485657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320485762","html_url":"https://github.com/openzipkin/zipkin/issues/1676#issuecomment-320485762","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1676","id":320485762,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQ4NTc2Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T04:56:06Z","updated_at":"2017-08-06T04:56:06Z","author_association":"MEMBER","body":"everything is all ready to go in https://github.com/openzipkin/zipkin/pull/1674","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320485762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320494941","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320494941","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320494941,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQ5NDk0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T09:08:07Z","updated_at":"2017-08-06T09:08:07Z","author_association":"MEMBER","body":"Travis is failing to start one of the docker test containers, which leads to a 10m timeout. It might be a resource issue. I will try to figure it out.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320494941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320510403","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320510403","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320510403,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDUxMDQwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T14:29:18Z","updated_at":"2017-08-06T14:29:18Z","author_association":"MEMBER","body":"fixed the build. I lowered the heap to 512m and also added some extra stuff when ES_DEBUG=true to help the next person","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320510403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320510711","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320510711","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320510711,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDUxMDcxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T14:34:59Z","updated_at":"2017-08-06T14:34:59Z","author_association":"MEMBER","body":"I don't expect anyone to go through the 2100 lines needed to get this to work as opt-in (albeit mostly copy/paste tests).\r\n\r\nI'm going to merge this for a patch release, so that folks can experiment with it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320510711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320511313","html_url":"https://github.com/openzipkin/zipkin/issues/1676#issuecomment-320511313","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1676","id":320511313,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDUxMTMxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-06T14:45:11Z","updated_at":"2017-08-06T14:45:11Z","author_association":"MEMBER","body":"Folks can play with ES 6.x using 1.29.2 which is on the way out.\r\n\r\nIf you want to use the same indexing with 2.4+, you have to set `ES_EXPERIMENTAL_SPAN2=true` as detailed in #1674. We'll formalize the mechanism for using single-type indexes in ES <6 prior to zipkin 1.30","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320511313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320547548","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320547548","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320547548,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDU0NzU0OA==","user":{"login":"jcarres-mdsol","id":1803073,"node_id":"MDQ6VXNlcjE4MDMwNzM=","avatar_url":"https://avatars.githubusercontent.com/u/1803073?v=4","gravatar_id":"","url":"https://api.github.com/users/jcarres-mdsol","html_url":"https://github.com/jcarres-mdsol","followers_url":"https://api.github.com/users/jcarres-mdsol/followers","following_url":"https://api.github.com/users/jcarres-mdsol/following{/other_user}","gists_url":"https://api.github.com/users/jcarres-mdsol/gists{/gist_id}","starred_url":"https://api.github.com/users/jcarres-mdsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcarres-mdsol/subscriptions","organizations_url":"https://api.github.com/users/jcarres-mdsol/orgs","repos_url":"https://api.github.com/users/jcarres-mdsol/repos","events_url":"https://api.github.com/users/jcarres-mdsol/events{/privacy}","received_events_url":"https://api.github.com/users/jcarres-mdsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-07T01:31:34Z","updated_at":"2017-08-07T01:31:34Z","author_association":"CONTRIBUTOR","body":"Woah, that's great, thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320547548/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320551172","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320551172","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320551172,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDU1MTE3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-07T02:05:03Z","updated_at":"2017-08-07T02:05:03Z","author_association":"MEMBER","body":"PS I will be updating zipkin-dependencies after I finish testing that it\ncan write both index types properly.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320551172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320559254","html_url":"https://github.com/openzipkin/zipkin/issues/1676#issuecomment-320559254","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1676","id":320559254,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDU1OTI1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-07T03:18:23Z","updated_at":"2017-08-07T03:18:23Z","author_association":"MEMBER","body":"ok well ES 6.x can't work in zipkin-dependencies, yet due to elastic/elasticsearch-hadoop#1032\r\n\r\nHowever, spans created with `ES_EXPERIMENTAL_SPAN2=true` on ES 2.4+ -> 5.x can once https://github.com/openzipkin/zipkin-dependencies/pull/83 is released","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320559254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320598916","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320598916","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320598916,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDU5ODkxNg==","user":{"login":"xeraa","id":432211,"node_id":"MDQ6VXNlcjQzMjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/432211?v=4","gravatar_id":"","url":"https://api.github.com/users/xeraa","html_url":"https://github.com/xeraa","followers_url":"https://api.github.com/users/xeraa/followers","following_url":"https://api.github.com/users/xeraa/following{/other_user}","gists_url":"https://api.github.com/users/xeraa/gists{/gist_id}","starred_url":"https://api.github.com/users/xeraa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xeraa/subscriptions","organizations_url":"https://api.github.com/users/xeraa/orgs","repos_url":"https://api.github.com/users/xeraa/repos","events_url":"https://api.github.com/users/xeraa/events{/privacy}","received_events_url":"https://api.github.com/users/xeraa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-07T08:13:55Z","updated_at":"2017-08-07T08:13:55Z","author_association":"MEMBER","body":"Nice work üëç ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320598916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320628444","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320628444","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320628444,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDYyODQ0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-07T10:28:36Z","updated_at":"2017-08-07T10:28:36Z","author_association":"MEMBER","body":"Using the docker-zipkin commands with a slightly revised file like so:\r\n```diff\r\ndiff --git a/docker-compose-elasticsearch.yml b/docker-compose-elasticsearch.yml\r\nindex 0bbd62b..02d5e83 100644\r\n--- a/docker-compose-elasticsearch.yml\r\n+++ b/docker-compose-elasticsearch.yml\r\n@@ -9,17 +9,18 @@ version: '2'\r\n services:\r\n   # Run Elasticsearch instead of MySQL\r\n   storage:\r\n-    image: openzipkin/zipkin-elasticsearch\r\n+    image: openzipkin/zipkin-elasticsearch5\r\n     container_name: elasticsearch\r\n     # Uncomment to expose the storage port for testing\r\n-    # ports:\r\n-    #   - 9200:9200\r\n+    ports:\r\n+      - 9200:9200\r\n\r\n   # Switch storage type to Elasticsearch\r\n   zipkin:\r\n     image: openzipkin/zipkin\r\n     environment:\r\n       - STORAGE_TYPE=elasticsearch\r\n+      - ES_EXPERIMENTAL_SPAN2=true\r\n       # Point the zipkin at the storage backend\r\n       - ES_HOSTS=http://elasticsearch:9200\r\n   dependencies:\r\n```\r\n\r\nA query directly to ES for errors is ... super easy now! No more nested queries!! cc @openzipkin/elasticsearch @kellabyte\r\n\r\n```bash\r\n$ curl -s '192.168.99.100:9200/zipkin:span-*/_search?q=_exists_:tags.error'\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320628444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320636964","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-320636964","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":320636964,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDYzNjk2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-07T11:15:09Z","updated_at":"2017-08-07T12:48:44Z","author_association":"MEMBER","body":"Here's an example with duration.. ex finding spans that are error and over a 100ms (remember zipkin time units are microseconds):\r\n\r\n```bash\r\ncurl -s '192.168.99.100:9200/zipkin:*/_search?default_operator=AND&q=_exists_:tags.error+duration:>100000'|jq '.hits.hits[]._source'\r\n{\r\n  \"timestamp_millis\": 1502101460678,\r\n  \"traceId\": \"9032b04972e475c5\",\r\n  \"id\": \"9032b04972e475c5\",\r\n  \"kind\": \"SERVER\",\r\n  \"name\": \"get\",\r\n  \"timestamp\": 1502101460678880,\r\n  \"duration\": 612898,\r\n  \"localEndpoint\": {\r\n    \"serviceName\": \"brave-webmvc-example\",\r\n    \"ipv4\": \"192.168.1.113\"\r\n  },\r\n  \"remoteEndpoint\": {\r\n    \"serviceName\": \"\",\r\n    \"ipv4\": \"127.0.0.1\",\r\n    \"port\": 60149\r\n  },\r\n  \"tags\": {\r\n    \"error\": \"500 Internal Server Error\",\r\n    \"http.path\": \"/a\"\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320636964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320839893","html_url":"https://github.com/openzipkin/zipkin/issues/1611#issuecomment-320839893","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1611","id":320839893,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDgzOTg5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-08T03:26:44Z","updated_at":"2017-08-08T03:26:44Z","author_association":"MEMBER","body":"Wrote a failing test here #1682 cc @dgrabows who was most recently asking for this","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320839893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320914972","html_url":"https://github.com/openzipkin/zipkin/issues/1683#issuecomment-320914972","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1683","id":320914972,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDkxNDk3Mg==","user":{"login":"aliostad","id":487334,"node_id":"MDQ6VXNlcjQ4NzMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/487334?v=4","gravatar_id":"","url":"https://api.github.com/users/aliostad","html_url":"https://github.com/aliostad","followers_url":"https://api.github.com/users/aliostad/followers","following_url":"https://api.github.com/users/aliostad/following{/other_user}","gists_url":"https://api.github.com/users/aliostad/gists{/gist_id}","starred_url":"https://api.github.com/users/aliostad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aliostad/subscriptions","organizations_url":"https://api.github.com/users/aliostad/orgs","repos_url":"https://api.github.com/users/aliostad/repos","events_url":"https://api.github.com/users/aliostad/events{/privacy}","received_events_url":"https://api.github.com/users/aliostad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-08T10:20:53Z","updated_at":"2017-08-08T10:22:07Z","author_association":"NONE","body":"Hi, thank you!\r\n\r\nProblem was that we had a valid cert but the hostname was not matching and there is absolutely no way to sort this out.\r\n\r\nI spent hours and days (and I am glad because I learnt so much) on it and imported the cert (by creating my own dockerfile and adding steps to do it) only to find out the error is hostname not verified.\r\n\r\nI wish we could have an option to disable hostname verification. [This](https://stackoverflow.com/questions/14619781/java-io-ioexception-hostname-was-not-verified) is what I was getting and I could not find a non-code solution. There was a solution by running -javaagent:blah.jar but seems it replaces spring's agent.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320914972/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320915718","html_url":"https://github.com/openzipkin/zipkin/issues/1683#issuecomment-320915718","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1683","id":320915718,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDkxNTcxOA==","user":{"login":"aliostad","id":487334,"node_id":"MDQ6VXNlcjQ4NzMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/487334?v=4","gravatar_id":"","url":"https://api.github.com/users/aliostad","html_url":"https://github.com/aliostad","followers_url":"https://api.github.com/users/aliostad/followers","following_url":"https://api.github.com/users/aliostad/following{/other_user}","gists_url":"https://api.github.com/users/aliostad/gists{/gist_id}","starred_url":"https://api.github.com/users/aliostad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aliostad/subscriptions","organizations_url":"https://api.github.com/users/aliostad/orgs","repos_url":"https://api.github.com/users/aliostad/repos","events_url":"https://api.github.com/users/aliostad/events{/privacy}","received_events_url":"https://api.github.com/users/aliostad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-08T10:24:33Z","updated_at":"2017-08-08T10:24:38Z","author_association":"NONE","body":"üëç +1","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/320915718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321134338","html_url":"https://github.com/openzipkin/zipkin/issues/1356#issuecomment-321134338","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1356","id":321134338,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTEzNDMzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-09T02:24:49Z","updated_at":"2017-08-09T02:24:49Z","author_association":"MEMBER","body":"reopened cc @openzipkin/cassandra with a bit more in the description","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321134338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321135528","html_url":"https://github.com/openzipkin/zipkin/issues/1356#issuecomment-321135528","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1356","id":321135528,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTEzNTUyOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-09T02:33:31Z","updated_at":"2017-08-09T02:33:31Z","author_association":"MEMBER","body":"There are some related notes in the recently announced v1.4 enterprise driver https://groups.google.com/a/lists.datastax.com/forum/#!topic/java-driver-user/OjKA9awxVpQ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321135528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321539313","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321539313","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321539313,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTUzOTMxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-10T12:39:54Z","updated_at":"2017-08-10T12:39:54Z","author_association":"MEMBER","body":"Just added #1684 which adds transport integration. This allows instrumentation to start sending in the new format eventhough the server will convert it to the old format regardless. Later change can make \"zipkin2\" components, but this isn't urgent.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321539313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321543103","html_url":"https://github.com/openzipkin/zipkin/pull/1684#issuecomment-321543103","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1684","id":321543103,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTU0MzEwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-10T12:57:04Z","updated_at":"2017-08-10T12:57:04Z","author_association":"MEMBER","body":"@openzipkin/core @bplotnick @llinder @aliostad @devinsba @flier @ellispritchard @mosesn @pavolloffay @clguimanMSFT @neilstevenson @goller @SergeyKanzhelev\r\n\r\nSo this change is pretty significant as it means folks can start using the new simplified json format defined in #1499 as soon as this is released (likely zipkin 1.30). In reality a lot of sites won't automatically upgrade to this, but it is important to know anyway.\r\n\r\nConcretely, this means tracers can start offering the ability to send in the new format, ex via kafka (sqs azure hub etc) or POST /api/v2/spans. This format is the same as what we're using internally in Elasticsearch 6.x (#1674), and will be the default choice for document stores.\r\n\r\nI'm cc'ing you for heads up in case you'd like to try using this, or update your libraries to support it. In the next few weeks a lot of stuff around this will be landing tracked in #1644. Watch or comment on that issue if you want others to know your status.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321543103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321545262","html_url":"https://github.com/openzipkin/zipkin/pull/1684#issuecomment-321545262","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1684","id":321545262,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTU0NTI2Mg==","user":{"login":"pavolloffay","id":5618424,"node_id":"MDQ6VXNlcjU2MTg0MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5618424?v=4","gravatar_id":"","url":"https://api.github.com/users/pavolloffay","html_url":"https://github.com/pavolloffay","followers_url":"https://api.github.com/users/pavolloffay/followers","following_url":"https://api.github.com/users/pavolloffay/following{/other_user}","gists_url":"https://api.github.com/users/pavolloffay/gists{/gist_id}","starred_url":"https://api.github.com/users/pavolloffay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavolloffay/subscriptions","organizations_url":"https://api.github.com/users/pavolloffay/orgs","repos_url":"https://api.github.com/users/pavolloffay/repos","events_url":"https://api.github.com/users/pavolloffay/events{/privacy}","received_events_url":"https://api.github.com/users/pavolloffay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-10T13:06:22Z","updated_at":"2017-08-10T13:06:22Z","author_association":"NONE","body":"What is the format for annotations?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321545262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321546451","html_url":"https://github.com/openzipkin/zipkin/pull/1684#issuecomment-321546451","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1684","id":321546451,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTU0NjQ1MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-10T13:11:30Z","updated_at":"2017-08-10T13:11:30Z","author_association":"MEMBER","body":">\n> What is the format for annotations?\n>\nWe will publish an open api spec and it is noted in #1499, but annotations\nare simple. It is the same as before except no endpoint.\n\n{\n  \"traceId\": \"86154a4ba6e91385\",\n  \"parentId\": \"86154a4ba6e91385\",\n  \"id\": \"4d1e00c0db9010db\",\n  \"kind\": \"CLIENT\",\n  \"name\": \"get\",\n  \"timestamp\": 1472470996199000,\n  \"duration\": 207000,\n  \"localEndpoint\": {\n    \"serviceName\": \"frontend\",\n    \"ipv4\": \"127.0.0.1\"\n  },\n  \"remoteEndpoint\": {\n    \"serviceName\": \"backend\",\n    \"ipv4\": \"192.168.99.101\",\n    \"port\": 9000\n  },\n  \"annotations\": [\n    {\n      \"timestamp\": 1472470996238000,\n      \"value\": \"ws\"\n    },\n    {\n      \"timestamp\": 1472470996403000,\n      \"value\": \"wr\"\n    }\n  ],\n  \"tags\": {\n    \"http.path\": \"/api\",\n    \"clnt/finagle.version\": \"6.45.0\"\n  }\n}\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321546451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321719394","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321719394","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321719394,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcxOTM5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:21:38Z","updated_at":"2017-08-11T02:21:38Z","author_association":"MEMBER","body":"received some feedback from @sokac who is doing early testing on this format with Elasticsearch. There's a problem because some trace instrumentation are creating keys with more than one dot:\r\n\r\nEx [pyramid_zipkin](https://github.com/Yelp/pyramid_zipkin/blob/481d9a1f04ab5522cc5d26408c86078b9a64c3e7/pyramid_zipkin/request_helper.py#L167) adds `http.uri.qs` cc @kaisen \r\n\r\nAs far as I know, this won't work in Elasticsearch when there's another key with a substring. Ex in pyramid_zipkin, `http.uri` is also tagged.\r\n\r\nSo, we have a decision to make..\r\n* Workaround the issue specific to Elasticsearch\r\n  * map key names converting later dots to underscores or similar\r\n  * drop keys with multiple dots\r\n* change the json format to not use a dict (instead a list of KV pairs)\r\n* something else...\r\n\r\ncc @openzipkin/elasticsearch ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321719394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321719426","html_url":"https://github.com/openzipkin/zipkin/pull/1684#issuecomment-321719426","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1684","id":321719426,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcxOTQyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:21:59Z","updated_at":"2017-08-11T02:21:59Z","author_association":"MEMBER","body":"not merging this, yet due to https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321719394","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321719426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321719465","html_url":"https://github.com/openzipkin/zipkin/issues/1676#issuecomment-321719465","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1676","id":321719465,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcxOTQ2NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:22:21Z","updated_at":"2017-08-11T02:22:21Z","author_association":"MEMBER","body":"ran into a snag with dots.. https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321719394","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321719465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321720531","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321720531","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321720531,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyMDUzMQ==","user":{"login":"bplotnick","id":5392381,"node_id":"MDQ6VXNlcjUzOTIzODE=","avatar_url":"https://avatars.githubusercontent.com/u/5392381?v=4","gravatar_id":"","url":"https://api.github.com/users/bplotnick","html_url":"https://github.com/bplotnick","followers_url":"https://api.github.com/users/bplotnick/followers","following_url":"https://api.github.com/users/bplotnick/following{/other_user}","gists_url":"https://api.github.com/users/bplotnick/gists{/gist_id}","starred_url":"https://api.github.com/users/bplotnick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bplotnick/subscriptions","organizations_url":"https://api.github.com/users/bplotnick/orgs","repos_url":"https://api.github.com/users/bplotnick/repos","events_url":"https://api.github.com/users/bplotnick/events{/privacy}","received_events_url":"https://api.github.com/users/bplotnick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:34:14Z","updated_at":"2017-08-11T02:35:27Z","author_association":"NONE","body":"IMO, I think it's fine to have restrictions on names for the new format as long as we are explicit and clear about violations. It seems reasonable to disallow dots entirely in the keys for a json format. We can easily change the default annotations in pyramid_zipkin.\r\n\r\nOut of curiosity, would this also fail if you had a keys like \"foo\" and \"foo.bar\"?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321720531/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721007","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321721007","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321721007,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyMTAwNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:40:08Z","updated_at":"2017-08-11T02:40:08Z","author_association":"MEMBER","body":">\n> IMO, I think it's fine to have restrictions on names for the new format as\n> long as we are explicit and clear about violations. It seems reasonable to\n> disallow dots entirely in the keys for a json format.\n>\nIn the past, we've discussed using slashes instead of dots, due to some\nconventions used in stackdriver. Incidentally, the successor to that still\nuses 1 dot!\nhttps://github.com/census-instrumentation/opencensus-java/blob/master/core/src/main/java/io/opencensus/stats/RpcMeasureConstants.java\n\n\n> Out of curiosity, would this also fail if you had a keys like \"foo\" and\n> \"foo.bar\"?\n>\nI think it would fail for any nesting, but running tests now\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721503","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321721503","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321721503,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyMTUwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:46:04Z","updated_at":"2017-08-11T02:46:04Z","author_association":"MEMBER","body":"For elasticsearch the problem isn't so much in dots, just an\ninconsistent number of them from a nesting pov. Since this applies to\nthe entire index it is impossible to tell if there will be a nesting\nproblem later. I think the OpenTracing convention of using\n\"error.kind\" and \"error.object\" will interfere with our tag which is\nsimply \"error\" https://github.com/opentracing/specification/blob/a8103e8e881c84425e4febb9df169f858d59a193/semantic_conventions.yaml\n\nIn other words, forbidding dots in tag names might be a fools errand,\nas we can't control instrumentation. Probably we just need to decide\nwhether to map dots or change the json structure (by default or\nspecifically for ES)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721575","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321721575","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321721575,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyMTU3NQ==","user":{"login":"mansu","id":93836,"node_id":"MDQ6VXNlcjkzODM2","avatar_url":"https://avatars.githubusercontent.com/u/93836?v=4","gravatar_id":"","url":"https://api.github.com/users/mansu","html_url":"https://github.com/mansu","followers_url":"https://api.github.com/users/mansu/followers","following_url":"https://api.github.com/users/mansu/following{/other_user}","gists_url":"https://api.github.com/users/mansu/gists{/gist_id}","starred_url":"https://api.github.com/users/mansu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mansu/subscriptions","organizations_url":"https://api.github.com/users/mansu/orgs","repos_url":"https://api.github.com/users/mansu/repos","events_url":"https://api.github.com/users/mansu/events{/privacy}","received_events_url":"https://api.github.com/users/mansu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:47:03Z","updated_at":"2017-08-11T02:47:03Z","author_association":"NONE","body":"I think disallowing using dots in keys is a non-starter since it breaks backward compatibility. A lot of our instrumentation already uses that notation and breaking it is not desirable.\r\n\r\nTurning dots to underscores is also a problem because people expect to search for an item by the key they used. Traning them to replace dots with underscores is a huge overhead. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721608","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321721608","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321721608,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyMTYwOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T02:47:39Z","updated_at":"2017-08-11T02:47:39Z","author_association":"MEMBER","body":"meh.. the opentracing thing isn't exactly the same because error.kind\nis a \"log\" in their world, which is annotation in ours. but anyway..\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321721608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321723663","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321723663","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321723663,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyMzY2Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T03:10:50Z","updated_at":"2017-08-11T03:10:50Z","author_association":"MEMBER","body":"FWIW, I think if we choose to set a policy, it would affect tags which are\nindexed, not necessarily data retained. I'm hoping to not re-introduce\nnested queries, which was one of the motivations of this work. We don't\nneed to forbid dots to achieve that, however we would need rules to handle\nthis.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321723663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321723952","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321723952","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321723952,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyMzk1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T03:14:59Z","updated_at":"2017-08-11T03:14:59Z","author_association":"MEMBER","body":"OTOH, the nested part which was a problem before was about service and\nspan names. This is already sorted by top-leveling the endpoints. If\nwe switch to \"tags\" = [{\"key\": \"http.path\", \"value\": \"/api\"}], we\ndon't lose this.. it is just a bit expensive and awkward to do\nkey=value search, but not more expensive or awkward than before.\n\nStill, I'd like to see if there's a way to avoid any nested querying\nand feel there's likely a way out here somehow..\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321723952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321724965","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321724965","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321724965,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyNDk2NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T03:26:41Z","updated_at":"2017-08-11T03:26:41Z","author_association":"MEMBER","body":"Another datapoint. We are far from the only site to have concerns\naround dots. There is standard tooling to dedot fields, for example\nvia logstash or on ingest.\nhttps://github.com/elastic/elasticsearch/issues/15951\n\nOne way out would be to change our standard conventions (which are not\ninconsistent wrt dot count), to use slashes instead (similar to\ncensus). Then moving forward, use the dedot approach when passed\ndotted tag names.\n\nThis would make a convention which is not fragile and not create a new\ntype of maintenance burden, especially considering we rarely get help\nwith maintenance.\n\n@felixbarny I noticed you had similar problems with elasticsearch. Are\nwe missing options?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321724965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321725569","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321725569","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321725569,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyNTU2OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T03:33:31Z","updated_at":"2017-08-11T03:33:31Z","author_association":"MEMBER","body":"For example, I wonder if we can change via dynamic mapping to tokenize\nwith underscores while leaving the field (with dots) alone. This would\nmake search a lot easier (ex at query time replace dots with\nunderscores) cc @xeraa @anuraaga\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321725569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321727506","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321727506","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321727506,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTcyNzUwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T03:56:39Z","updated_at":"2017-08-11T03:56:39Z","author_association":"MEMBER","body":"one way out I'm thinking about is to do manual indexing (in elasticsearch\nonly because this is where the problem is limited to).\n\nFor example,\n * make a list field similar to cassandra which tokenizes the possible\nsearch queries, like \"_query\": [\"http.uri=/path\", \"http.uri\"...\n    * note we can also in this way choose to not index long fields,\nsimilarly as how we do in cassandra.\n * exclude this list field from _source\n<https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-source-field.html#_disabling_the_literal__source_literal_field>,\nso it is only used for indexing.\n * when doing an annotation query, simply pass the query directly to this\nindexing field.\n * disable indexing of tags and annotations as the above substitutes\n\nUsers will never know the difference I think.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321727506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321760809","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321760809","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321760809,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTc2MDgwOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T08:49:22Z","updated_at":"2017-08-11T08:49:22Z","author_association":"MEMBER","body":"The last approach works, and also helps because we no longer need a special property or version range for ES 2.x https://github.com/openzipkin/zipkin/pull/1685","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321760809/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321798413","html_url":"https://github.com/openzipkin/zipkin/issues/1676#issuecomment-321798413","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1676","id":321798413,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTc5ODQxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T12:20:13Z","updated_at":"2017-08-11T12:20:38Z","author_association":"MEMBER","body":"Snag with dots resolved by manually indexing queries with a non-storage index field `_q`\r\n\r\nStarting with zipkin 1.29.3, all should work fine, notably without version constraints. For example, you no longer need minimum ES 2.4 as earlier versions of 2.0 should work fine\r\n\r\nInternally, it just pre-encodes the valid query strings like we do with cassandra, except using equals as a delimiter as opposed to colon. Incidentally, curl queries work still, just with a little inception:\r\n\r\n`curl -s localhost:9200/zipkin:span-2017-08-11/_search?q=_q:error=500`\r\n\r\nThanks very very much to @sokac for testing and finding the problem!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321798413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321798908","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321798908","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321798908,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTc5ODkwOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-11T12:22:54Z","updated_at":"2017-08-11T12:22:54Z","author_association":"MEMBER","body":"1.29.3 is on the way out, addressing the ES indexing problem. I think we should leave the format alone.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321798908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321951241","html_url":"https://github.com/openzipkin/zipkin/pull/1684#issuecomment-321951241","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1684","id":321951241,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTk1MTI0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T02:15:48Z","updated_at":"2017-08-12T02:15:48Z","author_association":"MEMBER","body":"ok ES indexing problem has been resolved. will merge on green","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321951241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321960063","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321960063","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321960063,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTk2MDA2Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T05:58:53Z","updated_at":"2017-08-12T05:59:05Z","author_association":"MEMBER","body":"In the OpenApi spec for the zipkin2 span format, we can correct one lingering thing. \r\n\r\nA snag in the old model was that we needed to pass an empty string for Endpoint.serviceName because thrift requires the field. In span2 format, we can act more idiomatic and either leave it out or set it to null. When converting to the old types we can coerce null to empty string in order to avoid tripping up thrift. This is better than always requiring encoding of empty string.\r\n\r\nhttps://github.com/openzipkin/zipkin/pull/1686","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321960063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321963405","html_url":"https://github.com/openzipkin/zipkin/pull/1686#issuecomment-321963405","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1686","id":321963405,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTk2MzQwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T07:22:20Z","updated_at":"2017-08-12T07:22:20Z","author_association":"MEMBER","body":"this gets rid of empty service names in ES 6.x","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321963405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321989536","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-321989536","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":321989536,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTk4OTUzNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T15:56:05Z","updated_at":"2017-08-13T12:12:44Z","author_association":"MEMBER","body":"zipkin 1.30.2 now accepts zipkin2 span format. I've also added PRs for the collectors in our org:\r\nhttps://github.com/openzipkin/zipkin-aws/pull/48\r\nhttps://github.com/openzipkin/zipkin-azure/pull/37","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/321989536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322038449","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-322038449","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":322038449,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjAzODQ0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-13T12:12:52Z","updated_at":"2017-08-13T12:12:52Z","author_association":"MEMBER","body":"Added https://github.com/GoogleCloudPlatform/stackdriver-zipkin/pull/43 to update the stackdriver collector","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322038449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322108438","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-322108438","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":322108438,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjEwODQzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T06:18:06Z","updated_at":"2017-08-14T06:18:06Z","author_association":"MEMBER","body":"confidence level in this format is very high. I was successful at mapping with openapi, which wasn't possible in the old format. I think we're good https://github.com/openzipkin/zipkin-api/pull/33","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322108438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322207573","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-322207573","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":322207573,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjIwNzU3Mw==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T14:36:36Z","updated_at":"2017-08-14T14:36:36Z","author_association":"CONTRIBUTOR","body":"@adriancole what about the old format that was blocking openapi ?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322207573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322213158","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-322213158","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":322213158,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjIxMzE1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T14:56:20Z","updated_at":"2017-08-14T14:56:20Z","author_association":"MEMBER","body":">\n> @adriancole <https://github.com/adriancole> what about the old format\n> that was blocking openapi ?\n>\nbinary annotations. openapi v2.0 cannot deal with oneOf values. openapi 3\ncan, but there's no codegen for it\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322213158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322324958","html_url":"https://github.com/openzipkin/zipkin/pull/1675#issuecomment-322324958","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1675","id":322324958,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjMyNDk1OA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T22:15:34Z","updated_at":"2017-08-14T22:15:34Z","author_association":"NONE","body":"@adriancole, sorry for the lag. It certainly looks interesting. If we bump to latest zipkin, do we get it for free?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322324958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322345830","html_url":"https://github.com/openzipkin/zipkin/pull/1675#issuecomment-322345830","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1675","id":322345830,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjM0NTgzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-15T00:31:11Z","updated_at":"2017-08-15T00:31:11Z","author_association":"MEMBER","body":"You do!\n\nOn 15 Aug 2017 06:15, \"Simeon Ross\" <notifications@github.com> wrote:\n\n> @adriancole <https://github.com/adriancole>, sorry for the lag. It\n> certainly looks interesting. If we bump to latest zipkin, do we get it for\n> free?\n>\n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1675#issuecomment-322324958>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD616PMb35EtLcuZwz-KQK1XsFcsuBqks5sYMcHgaJpZM4OmcNi>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322345830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322358198","html_url":"https://github.com/openzipkin/zipkin/issues/1628#issuecomment-322358198","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1628","id":322358198,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjM1ODE5OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-15T02:12:50Z","updated_at":"2017-08-15T02:12:50Z","author_association":"MEMBER","body":"https://github.com/influxdata/telegraf/tree/master/plugins/inputs/zipkin is related. If the format matches up, especially if [matching span2](https://github.com/openzipkin/zipkin-api/pull/33), it could be neat to add storage here so folks can query it with zipkin. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322358198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322639476","html_url":"https://github.com/openzipkin/zipkin/issues/1614#issuecomment-322639476","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1614","id":322639476,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjYzOTQ3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T01:46:17Z","updated_at":"2017-08-16T01:46:17Z","author_association":"MEMBER","body":"encoding prep work is done. We need to pick a dependency light or free rabbitmq java driver (ex one that doesn't pin to a spring version), and also a version of rabbit MQ to test against.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322639476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322655207","html_url":"https://github.com/openzipkin/zipkin/pull/1692#issuecomment-322655207","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1692","id":322655207,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjY1NTIwNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T03:13:27Z","updated_at":"2017-08-16T03:13:27Z","author_association":"MEMBER","body":"all warnings are gone except zipkin-ui and spring boot about layoutfactory which will be solved in #1602 \r\n\r\nhere's the zipkin-ui warnings remaining\r\n```\r\n[WARNING] npm WARN zipkin-ui@0.0.0 No repository field.\r\n[INFO] 16 08 2017 11:11:20.532:WARN [watcher]: Pattern \"/Users/acole/oss/zipkin/zipkin-ui/test/*test.js\" does not match any file.\r\n[INFO] 16 08 2017 11:11:20.543:WARN [watcher]: Pattern \"/Users/acole/oss/zipkin/zipkin-ui/test/*test.js\" does not match any file.\r\n```\r\n\r\nI'll see if I can kill the ui ones..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322655207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322660020","html_url":"https://github.com/openzipkin/zipkin/pull/1692#issuecomment-322660020","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1692","id":322660020,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjY2MDAyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T03:52:53Z","updated_at":"2017-08-16T03:52:53Z","author_association":"MEMBER","body":"\"No repository field\" sorted. the other would be sorted if we wrote more unit tests :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322660020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322946458","html_url":"https://github.com/openzipkin/zipkin/pull/1609#issuecomment-322946458","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1609","id":322946458,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjk0NjQ1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T01:48:42Z","updated_at":"2017-08-17T01:48:42Z","author_association":"MEMBER","body":"@klette nagtime!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322946458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322948634","html_url":"https://github.com/openzipkin/zipkin/issues/1693#issuecomment-322948634","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1693","id":322948634,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjk0ODYzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T02:04:56Z","updated_at":"2017-08-17T02:04:56Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/1637 is at odds with this..\nI don't think it expected service names so long, and generally service\nnames shouldn't have IPs in them as it subverts aggregation..\n\nThat said, there could well be long service names even if there\nweren't variables in them. I don't know what the best action to take\nwould be.. should we push the timeline to the right? or truncate the\nservice names like we did before.. or..\n\ncc @eirslett @fgcui1204 @klingerf @esbie for brainstorming\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/322948634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323096407","html_url":"https://github.com/openzipkin/zipkin/issues/1693#issuecomment-323096407","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1693","id":323096407,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzA5NjQwNw==","user":{"login":"aaronyoungkash","id":23176093,"node_id":"MDQ6VXNlcjIzMTc2MDkz","avatar_url":"https://avatars.githubusercontent.com/u/23176093?v=4","gravatar_id":"","url":"https://api.github.com/users/aaronyoungkash","html_url":"https://github.com/aaronyoungkash","followers_url":"https://api.github.com/users/aaronyoungkash/followers","following_url":"https://api.github.com/users/aaronyoungkash/following{/other_user}","gists_url":"https://api.github.com/users/aaronyoungkash/gists{/gist_id}","starred_url":"https://api.github.com/users/aaronyoungkash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaronyoungkash/subscriptions","organizations_url":"https://api.github.com/users/aaronyoungkash/orgs","repos_url":"https://api.github.com/users/aaronyoungkash/repos","events_url":"https://api.github.com/users/aaronyoungkash/events{/privacy}","received_events_url":"https://api.github.com/users/aaronyoungkash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T14:50:24Z","updated_at":"2017-08-17T14:50:24Z","author_association":"NONE","body":"My 2c is I'd prefer to have the column expand to fit and shove everything beside it over. Some traces already require horizontal scrolling anyway.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323096407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323198422","html_url":"https://github.com/openzipkin/zipkin/issues/1693#issuecomment-323198422","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1693","id":323198422,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzE5ODQyMg==","user":{"login":"klingerf","id":9226,"node_id":"MDQ6VXNlcjkyMjY=","avatar_url":"https://avatars.githubusercontent.com/u/9226?v=4","gravatar_id":"","url":"https://api.github.com/users/klingerf","html_url":"https://github.com/klingerf","followers_url":"https://api.github.com/users/klingerf/followers","following_url":"https://api.github.com/users/klingerf/following{/other_user}","gists_url":"https://api.github.com/users/klingerf/gists{/gist_id}","starred_url":"https://api.github.com/users/klingerf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klingerf/subscriptions","organizations_url":"https://api.github.com/users/klingerf/orgs","repos_url":"https://api.github.com/users/klingerf/repos","events_url":"https://api.github.com/users/klingerf/events{/privacy}","received_events_url":"https://api.github.com/users/klingerf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T21:24:13Z","updated_at":"2017-08-17T21:24:13Z","author_association":"MEMBER","body":"Thanks for reporting this and looping me in! I think making the services column wider but still continuing to truncate super long service names would be a good compromise. It would also be great if truncated services could display a tooltip with the full service name. I don't think we can make guarantees about the max length of service names, unfortunately. There was some discussion about shortening the linkerd service names in linkerd/linkerd#1135, but we concluded that the current service names are the most accurate and should be kept.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323198422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323283141","html_url":"https://github.com/openzipkin/zipkin/issues/1695#issuecomment-323283141","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1695","id":323283141,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzI4MzE0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-18T07:38:59Z","updated_at":"2017-08-18T07:38:59Z","author_association":"MEMBER","body":"note annotation_query would be shorter per span as it only needs to concat annotation and tag pairs (as opposed to also putting in the service name, because the local_endpoint covers this part)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323283141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323575569","html_url":"https://github.com/openzipkin/zipkin/issues/1614#issuecomment-323575569","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1614","id":323575569,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzU3NTU2OQ==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-20T10:06:13Z","updated_at":"2017-08-20T10:06:13Z","author_association":"MEMBER","body":"There is an official RabbitMQ Java client: https://github.com/rabbitmq/rabbitmq-java-client (only depends on SLF4J, I believe)\r\nSince version 4.0, its releases are decoupled from the RabbitMQ server releases while compatibility is still maintained, which is nice.\r\n\r\nRegarding the version of RabbitMQ to test against, I think we are probably fine to use the latest stable (currently 3.6.11). I took a quick look at some SaaS offerings for RabbitMQ ([AmqpHosting.com](https://www.amqphosting.com/faq), [CloudAMQP](https://www.cloudamqp.com/), and [Compose](https://www.compose.com/databases/rabbitmq)) and cloud providers' RabbitMQ offerings ([Azure](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/bitnami.rabbitmq?tab=PlansAndPrice), [Google Cloud Platform](https://console.cloud.google.com/launcher/details/click-to-deploy-images/rabbitmq?pli=1), and [Pivotal Cloud Foundry](https://docs.pivotal.io/rabbitmq-cf/1-7/)). They all seem to keep up-to-date with the latest stable, and most of the SaaS offerings provide one-click RabbitMQ cluster version upgrades.\r\n\r\nThat said, companies managing their own RabbitMQ servers are quite likely not on the latest version. Even so, our use case should be straight forward enough. That is, I wouldn't expect our use case to have had backwards incompatibilities introduced in the past few years (famous last words).\r\nSince there is a [RabbitMQ server Docker image](https://hub.docker.com/_/rabbitmq/), we could use TestContainers to test against any version of the server we want fairly easily.\r\n\r\n---\r\n\r\nAlso, let me reduce the scope on this issue to just collection since that is all that would be implemented in this repo. We can still list tracers that support reporting to RabbitMQ here after collection is implemented in case people find this issue when searching. I will open and link an issue in zipkin-reporter-java for reporting to RabbitMQ, for now.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323575569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323654019","html_url":"https://github.com/openzipkin/zipkin/pull/1579#issuecomment-323654019","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1579","id":323654019,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzY1NDAxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T06:05:39Z","updated_at":"2017-08-21T06:05:39Z","author_association":"MEMBER","body":"gonna close this as we should re-evaluate with the new single-type index. If needed, we can re-open","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323654019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323741179","html_url":"https://github.com/openzipkin/zipkin/issues/1676#issuecomment-323741179","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1676","id":323741179,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzc0MTE3OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T13:13:12Z","updated_at":"2017-08-21T13:13:12Z","author_association":"MEMBER","body":"@devinsba @jcarres-mdsol @mansu some of you requested that we take care to make formats compatible and opt-in. I took several person days effort to do that, but I haven't heard from anyone who asked if it works or not.\r\n\r\nI'm wondering if one or more of you can test the `ES_EXPERIMENTAL_SPAN2=true` flag so that we can progress this issue?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323741179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323747839","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-323747839","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":323747839,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzc0NzgzOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T13:47:12Z","updated_at":"2017-08-21T13:48:57Z","author_association":"MEMBER","body":"@openzipkin/elasticsearch @sirtyro For lack of feedback, I didn't switch single-type indexing to default in 1.30 as I said I would. Current release is 1.30.3\r\n\r\nI plan to set this on by default in the next release, which will be 1.31. The dual-prong reads will remain, meaning you can read both index formats, but writes will change to the new format as planned. Writes would act the same as if you set `ES_EXPERIMENTAL_SPAN2=true` today.\r\n\r\nThis has to happen because we cannot afford dual maintenance, and I need to complete other work to finish the span2 migration. The last mile work is technically much harder if we don't know which format elasticsearch will write until runtime.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323747839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323892283","html_url":"https://github.com/openzipkin/zipkin/issues/1518#issuecomment-323892283","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1518","id":323892283,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzg5MjI4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T01:16:43Z","updated_at":"2017-08-22T01:16:43Z","author_association":"MEMBER","body":"FYI there's been a wonderful amount of collaboration in https://github.com/criteo/zipkin4net including repackaging efforts. We don't have a timeline for migration to openzipkin org, but I suspect @fedj will drive this, right?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323892283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323894246","html_url":"https://github.com/openzipkin/zipkin/issues/1628#issuecomment-323894246","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1628","id":323894246,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzg5NDI0Ng==","user":{"login":"goller","id":1922921,"node_id":"MDQ6VXNlcjE5MjI5MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1922921?v=4","gravatar_id":"","url":"https://api.github.com/users/goller","html_url":"https://github.com/goller","followers_url":"https://api.github.com/users/goller/followers","following_url":"https://api.github.com/users/goller/following{/other_user}","gists_url":"https://api.github.com/users/goller/gists{/gist_id}","starred_url":"https://api.github.com/users/goller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/goller/subscriptions","organizations_url":"https://api.github.com/users/goller/orgs","repos_url":"https://api.github.com/users/goller/repos","events_url":"https://api.github.com/users/goller/events{/privacy}","received_events_url":"https://api.github.com/users/goller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T01:30:57Z","updated_at":"2017-08-22T01:30:57Z","author_association":"NONE","body":"Hey @adriancole I've been hacking around in jaeger here: https://github.com/uber/jaeger/compare/master...influxdata:master#diff-d3419a852db652ac429192d6bd54262a\r\n\r\nin order to support telegraf's zipkin collector [plugin](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/zipkin)\r\n\r\n(I'm far more comfortable in go than java!)\r\n\r\nI'm pretty happy with the queries at this point and will update our Influx branch here : https://github.com/openzipkin/zipkin/compare/master...influxdata:feature/influx-store\r\n\r\nRegarding span2 with my telegraf refactor today (https://github.com/influxdata/telegraf/pull/3150) , it should be straightforward to add another codec.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323894246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323897697","html_url":"https://github.com/openzipkin/zipkin/issues/1628#issuecomment-323897697","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1628","id":323897697,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzg5NzY5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T01:56:23Z","updated_at":"2017-08-22T01:56:23Z","author_association":"MEMBER","body":"Hi, chris. Thanks for the update.\n\nI'd suggest only using span2 vs having multiple codecs on storage.\nParticularly it is a lot easier to reason with when you know how something\nwill be stored. span2 only supports string tags and also handles endpoint\nlookup neatly. This stuff will help once this progresses to the point of\nintegration test (ex SpanStoreIntegrationTest or DependenciesTest)\n\nJaeger, despite currently accepting zipkin format, is a different system: I\nwouldn't consider passing tests on one meaning passing tests on another.\nZipkin's format and what passes are defined here by integration tests and\nspecs etc.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323897697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323908048","html_url":"https://github.com/openzipkin/zipkin/pull/1698#issuecomment-323908048","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1698","id":323908048,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzkwODA0OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T03:18:32Z","updated_at":"2017-08-22T03:18:32Z","author_association":"MEMBER","body":"cc @openzipkin/elasticsearch ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323908048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323908772","html_url":"https://github.com/openzipkin/zipkin/pull/1674#issuecomment-323908772","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1674","id":323908772,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzkwODc3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T03:24:32Z","updated_at":"2017-08-22T03:24:32Z","author_association":"MEMBER","body":"switching in 1.31 via openzipkin/zipkin#1698","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323908772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323929499","html_url":"https://github.com/openzipkin/zipkin/issues/1518#issuecomment-323929499","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1518","id":323929499,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzkyOTQ5OQ==","user":{"login":"fedj","id":9842366,"node_id":"MDQ6VXNlcjk4NDIzNjY=","avatar_url":"https://avatars.githubusercontent.com/u/9842366?v=4","gravatar_id":"","url":"https://api.github.com/users/fedj","html_url":"https://github.com/fedj","followers_url":"https://api.github.com/users/fedj/followers","following_url":"https://api.github.com/users/fedj/following{/other_user}","gists_url":"https://api.github.com/users/fedj/gists{/gist_id}","starred_url":"https://api.github.com/users/fedj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fedj/subscriptions","organizations_url":"https://api.github.com/users/fedj/orgs","repos_url":"https://api.github.com/users/fedj/repos","events_url":"https://api.github.com/users/fedj/events{/privacy}","received_events_url":"https://api.github.com/users/fedj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T06:15:00Z","updated_at":"2017-08-22T06:15:00Z","author_association":"CONTRIBUTOR","body":"@adriancole I would be honored to, I would delighted if we could speak together to see what needs to be done in order to prepare a plan.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/323929499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324029680","html_url":"https://github.com/openzipkin/zipkin/pull/1698#issuecomment-324029680","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1698","id":324029680,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDAyOTY4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T13:41:29Z","updated_at":"2017-08-22T13:41:29Z","author_association":"MEMBER","body":"here's the double-conversion which is easier to obviate when we know how storage happens by type https://github.com/openzipkin/zipkin/pull/1700","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324029680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324039745","html_url":"https://github.com/openzipkin/zipkin/issues/1644#issuecomment-324039745","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1644","id":324039745,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDAzOTc0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T14:15:08Z","updated_at":"2017-08-22T14:15:08Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/1700 makes the write api span2 native. I'll make a later pull request for the read side. Notably, I'm not going to carry over the merging/clock skew adjustment logic currently copy-pasted into every impl. This simplifies the storage contract which is raw by default now. The merging/clock-skew can be done in an api decorator and/or javascript.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324039745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324067076","html_url":"https://github.com/openzipkin/zipkin/issues/1628#issuecomment-324067076","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1628","id":324067076,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDA2NzA3Ng==","user":{"login":"goller","id":1922921,"node_id":"MDQ6VXNlcjE5MjI5MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1922921?v=4","gravatar_id":"","url":"https://api.github.com/users/goller","html_url":"https://github.com/goller","followers_url":"https://api.github.com/users/goller/followers","following_url":"https://api.github.com/users/goller/following{/other_user}","gists_url":"https://api.github.com/users/goller/gists{/gist_id}","starred_url":"https://api.github.com/users/goller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/goller/subscriptions","organizations_url":"https://api.github.com/users/goller/orgs","repos_url":"https://api.github.com/users/goller/repos","events_url":"https://api.github.com/users/goller/events{/privacy}","received_events_url":"https://api.github.com/users/goller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T15:42:29Z","updated_at":"2017-08-22T15:42:29Z","author_association":"NONE","body":"Hey @adriancole, I think I understand ! \r\n\r\nAre you saying that the storage format should be span2 because the zipkin queries would work against span1 and span2, thus, I should use span2?\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324067076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324068520","html_url":"https://github.com/openzipkin/zipkin/issues/1628#issuecomment-324068520","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1628","id":324068520,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDA2ODUyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T15:47:12Z","updated_at":"2017-08-22T15:47:12Z","author_association":"MEMBER","body":"@goller yep, trying to save you some effort. We can convert out into span1 format\r\n\r\nhttps://github.com/openzipkin/zipkin/pull/1700 will land soon starting the version 2 storage component. I'll do my best to land the rest of it in the next couple days.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324068520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324201345","html_url":"https://github.com/openzipkin/zipkin/issues/1701#issuecomment-324201345","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1701","id":324201345,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDIwMTM0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T02:13:37Z","updated_at":"2017-08-23T02:13:37Z","author_association":"MEMBER","body":"thanks for raising this! one note to bear in mind that unless we change the\nentire layout a \"follows from\" that crosses services (aka a\nproducer/consumer) would be indistinguishable from a step child. that's\nbecause depth also is how we tag a span with a service.\n\nAnother side note is that producer/consumer span kind in zipkin is imho a\nbit more semantically useful than \"follows from\", as it implies the same\nwhich is that the producer doesn't rely on the outcome of the consumer.\nthere are probably hairs to split here, but anyway worth mentioning how we\nhandle things.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324201345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324658411","html_url":"https://github.com/openzipkin/zipkin/pull/1705#issuecomment-324658411","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1705","id":324658411,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDY1ODQxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-24T14:50:34Z","updated_at":"2017-08-24T14:50:42Z","author_association":"MEMBER","body":"This change still needs polish but raising for early feedback cc @anuraaga @shakuzen @llinder ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324658411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324897828","html_url":"https://github.com/openzipkin/zipkin/pull/1705#issuecomment-324897828","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1705","id":324897828,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDg5NzgyOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-25T11:55:35Z","updated_at":"2017-08-25T11:55:35Z","author_association":"MEMBER","body":"Did significant polishing on flight, but needs unit tests","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/324897828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325060064","html_url":"https://github.com/openzipkin/zipkin/issues/1644#issuecomment-325060064","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1644","id":325060064,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTA2MDA2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-26T00:00:17Z","updated_at":"2017-08-26T00:00:17Z","author_association":"MEMBER","body":"#1705 hones the way we'll address callbacks (ex span consumption) and synchronous calls (ex span name lists). This will reduce the effort in implementing v2 interfaces","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325060064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325076881","html_url":"https://github.com/openzipkin/zipkin/issues/1706#issuecomment-325076881","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1706","id":325076881,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTA3Njg4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-26T02:49:32Z","updated_at":"2017-08-26T02:49:32Z","author_association":"MEMBER","body":"The UI element is sorting results client side. Are you saying the client\nside sort is unreliable? Or that you want all storage backends to sort data\ndifferently before applying filters. The latter is hard due to the amount\nof data involved so unlikely to land soon or for all storage options.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325076881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325077095","html_url":"https://github.com/openzipkin/zipkin/issues/1706#issuecomment-325077095","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1706","id":325077095,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTA3NzA5NQ==","user":{"login":"excavador","id":299386,"node_id":"MDQ6VXNlcjI5OTM4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/299386?v=4","gravatar_id":"","url":"https://api.github.com/users/excavador","html_url":"https://github.com/excavador","followers_url":"https://api.github.com/users/excavador/followers","following_url":"https://api.github.com/users/excavador/following{/other_user}","gists_url":"https://api.github.com/users/excavador/gists{/gist_id}","starred_url":"https://api.github.com/users/excavador/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/excavador/subscriptions","organizations_url":"https://api.github.com/users/excavador/orgs","repos_url":"https://api.github.com/users/excavador/repos","events_url":"https://api.github.com/users/excavador/events{/privacy}","received_events_url":"https://api.github.com/users/excavador/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-26T02:52:01Z","updated_at":"2017-08-26T02:52:01Z","author_association":"NONE","body":"Actual behavior is useless.\r\nHow to find the longest queries for some condition?...\r\nSeems like we need to support limit + sort processing pn storage side","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325077095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325077788","html_url":"https://github.com/openzipkin/zipkin/issues/1707#issuecomment-325077788","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1707","id":325077788,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTA3Nzc4OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-26T03:00:23Z","updated_at":"2017-08-26T03:00:23Z","author_association":"MEMBER","body":"There is an existing issue about this you can look. cassandra3 is\nincomplete, though a workaround exists.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325077788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325179792","html_url":"https://github.com/openzipkin/zipkin/pull/1705#issuecomment-325179792","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1705","id":325179792,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTE3OTc5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-27T06:24:22Z","updated_at":"2017-08-27T06:24:22Z","author_association":"MEMBER","body":"Will play with that in next change to the file. Thx for the tip!\n\nOn 27 Aug 2017 2:15 pm, \"Anuraag Agrawal\" <notifications@github.com> wrote:\n\n> *@anuraaga* commented on this pull request.\n> ------------------------------\n>\n> In zipkin/src/test/java/zipkin/internal/v2/CallTest.java\n> <https://github.com/openzipkin/zipkin/pull/1705#discussion_r135403529>:\n>\n> > +\n> +    try {\n> +      call.enqueue(callback);\n> +      failBecauseExceptionWasNotThrown(IllegalStateException.class);\n> +    } catch (IllegalStateException e) {\n> +\n> +    }\n> +  }\n> +\n> +  @Test public void enqueuesOnce() throws Exception {\n> +    Call<Void> call = Call.create(null);\n> +    call.enqueue(callback);\n> +\n> +    try {\n> +      call.enqueue(callback);\n> +      failBecauseExceptionWasNotThrown(IllegalStateException.class);\n>\n> Since you're using assertj, just wondering any reason not to use\n> assertThatThrownBy?\n>\n> ‚Äî\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1705#pullrequestreview-58814941>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD613YFk-rY-ILSdphtxFkM7Vw1omEUks5scQmYgaJpZM4PBfRH>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325179792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325180689","html_url":"https://github.com/openzipkin/zipkin/issues/1706#issuecomment-325180689","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1706","id":325180689,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTE4MDY4OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-27T06:51:16Z","updated_at":"2017-08-27T06:51:16Z","author_association":"MEMBER","body":"If you are up to making this work for all storage backends with gigabytes\norders of magnitude more data, feel free to propose a solution to\narbitrarily change order of sort and other conditions.\n\nYou can also propose to remove the client side sort.\n\nFinally, if you know which backend you are using there may be a way to\nquery more arbitrarily.\n\nMeanwhile, thanks for letting us know. All the changes we do are based on\ngreatest need and hands available. Knowing another person is interested in\nsomething helps steer things.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325180689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325184537","html_url":"https://github.com/openzipkin/zipkin/pull/1705#issuecomment-325184537","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1705","id":325184537,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTE4NDUzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-27T08:27:32Z","updated_at":"2017-08-27T08:27:32Z","author_association":"MEMBER","body":"here's follow-ups needed to compete the read side of elasticsearch storage https://github.com/openzipkin/zipkin/pull/1708","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325184537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325185546","html_url":"https://github.com/openzipkin/zipkin/pull/1709#issuecomment-325185546","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1709","id":325185546,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTE4NTU0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-27T08:50:22Z","updated_at":"2017-08-27T08:50:22Z","author_association":"MEMBER","body":"PS once this is in, the v2 http api (openapi/swagger etc) can be implemented. Later, we can formalize and make the java libraries not-internal.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325185546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325185615","html_url":"https://github.com/openzipkin/zipkin/issues/1644#issuecomment-325185615","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1644","id":325185615,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTE4NTYxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-27T08:51:29Z","updated_at":"2017-08-27T08:51:29Z","author_association":"MEMBER","body":"draft of the v2 java read api https://github.com/openzipkin/zipkin/pull/1709","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325185615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325239993","html_url":"https://github.com/openzipkin/zipkin/pull/1708#issuecomment-325239993","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1708","id":325239993,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTIzOTk5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T01:32:10Z","updated_at":"2017-08-28T01:32:10Z","author_association":"MEMBER","body":"thx @anuraaga ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325239993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325242415","html_url":"https://github.com/openzipkin/zipkin/pull/1709#issuecomment-325242415","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1709","id":325242415,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTI0MjQxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T01:56:59Z","updated_at":"2017-08-28T01:56:59Z","author_association":"MEMBER","body":"ok all apis are here, and I'll raise two other PRs: one to add the http api and another to implement with elasticsearch. There's still a solid amount of work on this PR, yet, which is to backfill tests and make a v2 replacement for SpanStoreTest\r\n\r\nOne thing you'll notice is I made a copy of the bridging read api from elasticsearch to here. This is to decouple change. The elasticsearch copy will be deleted later.\r\n\r\ncc @anuraaga","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325242415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325243147","html_url":"https://github.com/openzipkin/zipkin/issues/1644#issuecomment-325243147","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1644","id":325243147,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTI0MzE0Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T02:04:07Z","updated_at":"2017-08-28T02:04:07Z","author_association":"MEMBER","body":"openzipkin/zipkin#1711 << elasticsearch uses spanstore2 api\r\nopenzipkin/zipkin#1710 << expose spanstore2 http api","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325243147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325271539","html_url":"https://github.com/openzipkin/zipkin/issues/1499#issuecomment-325271539","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1499","id":325271539,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTI3MTUzOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T06:34:31Z","updated_at":"2017-08-28T06:34:31Z","author_association":"MEMBER","body":"nearing the finish line here. One remaining thing left is honing the java api for span recording. We have an opportunity to make it easier and also match the schema 1-1. That would include the following\r\n\r\n* Change IDs to validated strings\r\n  * This doesn't mean we don't validate.. it is still hex 16 or 32 chars\r\n  * This should be provably more efficient than repeatedly converting back/forth from longs\r\n  * We can tell the difference between an ID that was propagated as 128 bit from one that had all high bits unset (helpful for looking at instrumentation)\r\n  * Storage backends that keep fixed binary or uint64 can continue to (we'd just convert on the way in)\r\n* Change IPs to validated strings\r\n  * this is cheaper than repeatedly doing so and also packing and unpacking InetAddress instances\r\n  * since we don't repeat endpoints anymore, it isn't as necessary to use integer encoding\r\n  * This is a lot easier to read and less to debug than byte arrays or integers\r\n\r\nBy doing the above, the java struct looks exactly like the openapi struct. This makes generated code in any language look just like our native code, which means porting should be easier. This also makes everything easier to troubleshoot, as there are no conversions between types that don't always \"toString\" well.\r\n\r\nBefore, zipkin had to take special attention to reduce memory size as things were repeated a lot. While IDs are definitely longer this way (16 chars is more memory than a long), this seems a reasonable tradeoff. Moreover, if such was a big deal, the instrumentation could make a custom struct easier with v2 than today anyway.\r\n\r\ncc @nicmunroe @anuraaga @shakuzen @jplock @llinder @devinsba ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/325271539/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]