[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312279293","html_url":"https://github.com/apache/iceberg/issues/3716#issuecomment-1312279293","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3716","id":1312279293,"node_id":"IC_kwDOCW7NX85ON8r9","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T00:14:34Z","updated_at":"2022-11-12T00:14:34Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312279293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312279301","html_url":"https://github.com/apache/iceberg/issues/3710#issuecomment-1312279301","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3710","id":1312279301,"node_id":"IC_kwDOCW7NX85ON8sF","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T00:14:36Z","updated_at":"2022-11-12T00:14:36Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312279301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312545162","html_url":"https://github.com/apache/iceberg/pull/6174#issuecomment-1312545162","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6174","id":1312545162,"node_id":"IC_kwDOCW7NX85OO9mK","user":{"login":"dmgcodevil","id":1413873,"node_id":"MDQ6VXNlcjE0MTM4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1413873?v=4","gravatar_id":"","url":"https://api.github.com/users/dmgcodevil","html_url":"https://github.com/dmgcodevil","followers_url":"https://api.github.com/users/dmgcodevil/followers","following_url":"https://api.github.com/users/dmgcodevil/following{/other_user}","gists_url":"https://api.github.com/users/dmgcodevil/gists{/gist_id}","starred_url":"https://api.github.com/users/dmgcodevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmgcodevil/subscriptions","organizations_url":"https://api.github.com/users/dmgcodevil/orgs","repos_url":"https://api.github.com/users/dmgcodevil/repos","events_url":"https://api.github.com/users/dmgcodevil/events{/privacy}","received_events_url":"https://api.github.com/users/dmgcodevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T18:27:46Z","updated_at":"2022-11-12T18:27:46Z","author_association":"CONTRIBUTOR","body":"I've noticed one thing: `isPartialFileScan(task)` check is redundant b/c `task.files().size() > 1` is always true. see `filteredGroupedTasks`. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312545162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312548043","html_url":"https://github.com/apache/iceberg/issues/4065#issuecomment-1312548043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4065","id":1312548043,"node_id":"IC_kwDOCW7NX85OO-TL","user":{"login":"netanelm-upstream","id":112799795,"node_id":"U_kgDOBrkwMw","avatar_url":"https://avatars.githubusercontent.com/u/112799795?v=4","gravatar_id":"","url":"https://api.github.com/users/netanelm-upstream","html_url":"https://github.com/netanelm-upstream","followers_url":"https://api.github.com/users/netanelm-upstream/followers","following_url":"https://api.github.com/users/netanelm-upstream/following{/other_user}","gists_url":"https://api.github.com/users/netanelm-upstream/gists{/gist_id}","starred_url":"https://api.github.com/users/netanelm-upstream/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netanelm-upstream/subscriptions","organizations_url":"https://api.github.com/users/netanelm-upstream/orgs","repos_url":"https://api.github.com/users/netanelm-upstream/repos","events_url":"https://api.github.com/users/netanelm-upstream/events{/privacy}","received_events_url":"https://api.github.com/users/netanelm-upstream/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T18:42:23Z","updated_at":"2022-11-12T18:42:23Z","author_association":"NONE","body":"I have the same issue trying to write Iceberg ORC files using the JAVA API with hive metastore as a catalog.\r\nSomehow, it uploads this class: org.apache.orc.storage.ql.exec.vector.VectorizedRowBatch (from hive-metastore-api)\r\nInstead of this class: org.apache.orc.storage.ql.exec.vector.VectorizedRowBatch\r\nAny suggestion how to solve it, will be very appreciated :) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312548043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312601765","html_url":"https://github.com/apache/iceberg/issues/4739#issuecomment-1312601765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4739","id":1312601765,"node_id":"IC_kwDOCW7NX85OPLal","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T00:13:11Z","updated_at":"2022-11-13T00:13:11Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312601765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312601781","html_url":"https://github.com/apache/iceberg/issues/3709#issuecomment-1312601781","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3709","id":1312601781,"node_id":"IC_kwDOCW7NX85OPLa1","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T00:13:15Z","updated_at":"2022-11-13T00:13:15Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312601781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312779669","html_url":"https://github.com/apache/iceberg/issues/6180#issuecomment-1312779669","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6180","id":1312779669,"node_id":"IC_kwDOCW7NX85OP22V","user":{"login":"krvikash","id":11939923,"node_id":"MDQ6VXNlcjExOTM5OTIz","avatar_url":"https://avatars.githubusercontent.com/u/11939923?v=4","gravatar_id":"","url":"https://api.github.com/users/krvikash","html_url":"https://github.com/krvikash","followers_url":"https://api.github.com/users/krvikash/followers","following_url":"https://api.github.com/users/krvikash/following{/other_user}","gists_url":"https://api.github.com/users/krvikash/gists{/gist_id}","starred_url":"https://api.github.com/users/krvikash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krvikash/subscriptions","organizations_url":"https://api.github.com/users/krvikash/orgs","repos_url":"https://api.github.com/users/krvikash/repos","events_url":"https://api.github.com/users/krvikash/events{/privacy}","received_events_url":"https://api.github.com/users/krvikash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T17:16:53Z","updated_at":"2022-11-13T17:16:53Z","author_association":"CONTRIBUTOR","body":"Hi @get1boat,\r\n \r\nYou are missing the primary key while creating the table.\r\n\r\n> Enabling UPSERT mode using upsert-enabled in the [write options](#Write options) provides more flexibility than a table level config. Note that you still need to use v2 table format and specify the primary key when creating the table.\r\n\r\nhttps://iceberg.apache.org/docs/latest/flink/#upsert\r\n\r\nPlease try adding a `PRIMARY KEY` while creating the table like below.\r\n\r\n`CREATE TABLE hive_catalog.ods_ice.tmp_lkj_kafka2iceberg( id varchar NOT NULL, create_time timestamp(6), user_id bigint, PRIMARY KEY(id) NOT ENFORCED ) WITH ( format = 'PARQUET', format_version = 2, location = 'hdfs://eva:8020/user/hive/warehouse/ods_ice.db/tmp_lkj_kafka2iceberg' ) ;`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312779669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312796748","html_url":"https://github.com/apache/iceberg/issues/5997#issuecomment-1312796748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5997","id":1312796748,"node_id":"IC_kwDOCW7NX85OP7BM","user":{"login":"Samrose-Ahmed","id":9027301,"node_id":"MDQ6VXNlcjkwMjczMDE=","avatar_url":"https://avatars.githubusercontent.com/u/9027301?v=4","gravatar_id":"","url":"https://api.github.com/users/Samrose-Ahmed","html_url":"https://github.com/Samrose-Ahmed","followers_url":"https://api.github.com/users/Samrose-Ahmed/followers","following_url":"https://api.github.com/users/Samrose-Ahmed/following{/other_user}","gists_url":"https://api.github.com/users/Samrose-Ahmed/gists{/gist_id}","starred_url":"https://api.github.com/users/Samrose-Ahmed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samrose-Ahmed/subscriptions","organizations_url":"https://api.github.com/users/Samrose-Ahmed/orgs","repos_url":"https://api.github.com/users/Samrose-Ahmed/repos","events_url":"https://api.github.com/users/Samrose-Ahmed/events{/privacy}","received_events_url":"https://api.github.com/users/Samrose-Ahmed/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T18:54:21Z","updated_at":"2022-11-13T18:54:21Z","author_association":"NONE","body":"I would recommend running a Spark job. An AWS Glue job is the easiest to get started but considering you're running this once, it'll likely be cheaper to run on EMR (serverless or provisioned).  Also, Spark/EMR doesn't run on a single instance, it parallelizes across nodes.\r\n\r\nIn the future, since you're doing streaming appends/inserts I would recommend doing regular table maintenance, so you don't end up in this situation. You can check this blog post : [Automated Iceberg table maintenance on AWS](https://www.matano.dev/blog/2022/11/04/automated-iceberg-table-maintenance) for how we do it in [Matano](https://github.com/matanolabs/matano), but its fairly simple you need to regularly run compaction.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312796748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312867245","html_url":"https://github.com/apache/iceberg/issues/4735#issuecomment-1312867245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4735","id":1312867245,"node_id":"IC_kwDOCW7NX85OQMOt","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T00:13:42Z","updated_at":"2022-11-14T00:13:42Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312867245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312945114","html_url":"https://github.com/apache/iceberg/issues/6180#issuecomment-1312945114","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6180","id":1312945114,"node_id":"IC_kwDOCW7NX85OQfPa","user":{"login":"get1boat","id":68981063,"node_id":"MDQ6VXNlcjY4OTgxMDYz","avatar_url":"https://avatars.githubusercontent.com/u/68981063?v=4","gravatar_id":"","url":"https://api.github.com/users/get1boat","html_url":"https://github.com/get1boat","followers_url":"https://api.github.com/users/get1boat/followers","following_url":"https://api.github.com/users/get1boat/following{/other_user}","gists_url":"https://api.github.com/users/get1boat/gists{/gist_id}","starred_url":"https://api.github.com/users/get1boat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/get1boat/subscriptions","organizations_url":"https://api.github.com/users/get1boat/orgs","repos_url":"https://api.github.com/users/get1boat/repos","events_url":"https://api.github.com/users/get1boat/events{/privacy}","received_events_url":"https://api.github.com/users/get1boat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T02:10:44Z","updated_at":"2022-11-14T02:10:44Z","author_association":"NONE","body":"> \r\nI created the table in flinksql definitely with the primary key.This DDL was gained by `show create table ` in the Trino.In flink client,this table has a primary key.\r\nThe original DDL is blow,and my question remain:\r\n`\r\ncreate table if not exists hive_catalog.ods_ice.tmp_lkj_kafka2iceberg\r\n(\r\n    `id` STRING \r\n    ,`create_time` timestamp \r\n    ,`user_id` BIGINT \r\n    ,primary key(`id`) not enforced\r\n) comment 'kafka2iceberg test table'\r\nwith (\r\n        'format-version'='2'\r\n        )\r\n;\r\n`\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1312945114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313119358","html_url":"https://github.com/apache/iceberg/pull/5824#issuecomment-1313119358","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5824","id":1313119358,"node_id":"IC_kwDOCW7NX85ORJx-","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T05:30:13Z","updated_at":"2022-11-14T05:30:13Z","author_association":"MEMBER","body":"@RussellSpitzer: Would you like to take a look at this? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313119358/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313281339","html_url":"https://github.com/apache/iceberg/issues/6181#issuecomment-1313281339","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6181","id":1313281339,"node_id":"IC_kwDOCW7NX85ORxU7","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T08:34:25Z","updated_at":"2022-11-14T08:34:25Z","author_association":"CONTRIBUTOR","body":"@V-yg how are you running the test and did you do any local modifications to it? Since `TestDelete` is an abstract class, are you running `TestCopyOnWriteDelete` or `TestMergeOnReadDelete`? Also is this with Spark 3.3?\r\n\r\nThe last [CI run](https://github.com/apache/iceberg/actions/workflows/spark-ci.yml?query=branch%3Aapache-iceberg-1.0.0) indicates that the test was passing, so I'm curious what has changed that would cause the test to fail that we don't see on CI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313281339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313404740","html_url":"https://github.com/apache/iceberg/issues/6104#issuecomment-1313404740","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6104","id":1313404740,"node_id":"IC_kwDOCW7NX85OSPdE","user":{"login":"SHuixo","id":20868410,"node_id":"MDQ6VXNlcjIwODY4NDEw","avatar_url":"https://avatars.githubusercontent.com/u/20868410?v=4","gravatar_id":"","url":"https://api.github.com/users/SHuixo","html_url":"https://github.com/SHuixo","followers_url":"https://api.github.com/users/SHuixo/followers","following_url":"https://api.github.com/users/SHuixo/following{/other_user}","gists_url":"https://api.github.com/users/SHuixo/gists{/gist_id}","starred_url":"https://api.github.com/users/SHuixo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SHuixo/subscriptions","organizations_url":"https://api.github.com/users/SHuixo/orgs","repos_url":"https://api.github.com/users/SHuixo/repos","events_url":"https://api.github.com/users/SHuixo/events{/privacy}","received_events_url":"https://api.github.com/users/SHuixo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T10:00:47Z","updated_at":"2022-11-14T10:00:47Z","author_association":"NONE","body":"> > the repeated compression process of full data\r\n> \r\n> Do you mean each compaction will compact all data? The compaction won't be repeated. I mean during one compaction, some files are compacted to one file. In next compaction, it won't compact these files again. I don't think it's a repeated compression process. From my side, it's still a incremental process.\r\n> \r\n> Back to your problem, actuall, there's a pr #2680 to use disk to avoid OOM. And I think it'll also fix your problem. I think you can try to 1: increase the memory of TM. 2: do compaction more frequently , so that every compaction won't compact much data, which may well relieve the OOM.\r\n\r\nThe new features of **rocksdb** mentioned in the PR #2680 have not found the relevant configuration items in the latest 1.0.0 version? Do you have to wait for a subsequent version to be added?    \r\n\r\nIn compressing data it is indeed possible to solve the **OOM** problem by increasing the memory of TaskManger and increasing the compression frequency of data.\r\n\r\nHowever, when processing the Flink cdc real-time stream written to iceberg's table, the checkpoint interval is set to 5 minutes and the compressor interval is 30 minutes, and the **commit exception** problem will be encountered when the data compression task is performed.\r\nThe subsequent restarted compression task will remain in the Map phase until the task processing **timeout exception** and exited.\r\n\r\n> commit exception:\r\n\r\n``` \r\n2022-11-11 17:06:57,583 WARN  org.apache.iceberg.actions.BaseRewriteDataFilesAction        [] - Failed to commit rewrite, cleaning up rewritten files\r\norg.apache.iceberg.exceptions.ValidationException: Cannot commit, found new delete for replaced data file: GenericDataFile{content=data, file_path=hdfs://nameservice1/user/hive/warehouse/dhome_db.db/ods_d_base_inf_229_iceberg/data/00001-0-70f034b7-9725-4d90-b1ad-95907d30ed19-00001.parquet, file_format=PARQUET, spec_id=0, partition=PartitionData{}, record_count=951380, file_size_in_bytes=38224976, column_sizes=null, value_counts=org.apache.iceberg.util.SerializableMap@187f476, null_value_counts=org.apache.iceberg.util.SerializableMap@17a, nan_value_counts=org.apache.iceberg.util.SerializableMap@0, lower_bounds=org.apache.iceberg.SerializableByteBufferMap@f05dccea, upper_bounds=org.apache.iceberg.SerializableByteBufferMap@ffcfbef8, key_metadata=null, split_offsets=[4], equality_ids=null, sort_order_id=null}\r\n\tat org.apache.iceberg.exceptions.ValidationException.check(ValidationException.java:50) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.MergingSnapshotProducer.validateNoNewDeletesForDataFiles(MergingSnapshotProducer.java:418) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.MergingSnapshotProducer.validateNoNewDeletesForDataFiles(MergingSnapshotProducer.java:367) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.BaseRewriteFiles.validate(BaseRewriteFiles.java:108) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.SnapshotProducer.apply(SnapshotProducer.java:175) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.SnapshotProducer.lambda$commit$2(SnapshotProducer.java:296) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:404) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.util.Tasks$Builder.runSingleThreaded(Tasks.java:214) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:198) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:190) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.SnapshotProducer.commit(SnapshotProducer.java:295) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.actions.BaseSnapshotUpdateAction.commit(BaseSnapshotUpdateAction.java:41) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.actions.BaseRewriteDataFilesAction.doReplace(BaseRewriteDataFilesAction.java:298) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.actions.BaseRewriteDataFilesAction.replaceDataFiles(BaseRewriteDataFilesAction.java:277) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.apache.iceberg.actions.BaseRewriteDataFilesAction.execute(BaseRewriteDataFilesAction.java:252) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat org.XXXX.FlinkCompactIcebergData.main(FlinkCompactIcebergData.java:73) ~[DevXXXX-0.14.1-1.13.5.jar:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_74]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_74]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_74]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_74]\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355) ~[flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222) ~[flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:114) ~[flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:242) ~[flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$1(ApplicationDispatcherBootstrap.java:212) ~[flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_74]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_74]\r\n\tat org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:159) [flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40) [flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:44) [flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [flink-dist_2.11-1.13.5.jar:1.13.5]\r\n\tat akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [flink-dist_2.11-1.13.5.jar:1.13.5]\r\n```\r\n\r\n[compact-iceberg-file-commit-exception.log](https://github.com/apache/iceberg/files/10001421/compact-iceberg-file-commit-exception.log)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313404740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313416034","html_url":"https://github.com/apache/iceberg/issues/6181#issuecomment-1313416034","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6181","id":1313416034,"node_id":"IC_kwDOCW7NX85OSSNi","user":{"login":"V-yg","id":37089514,"node_id":"MDQ6VXNlcjM3MDg5NTE0","avatar_url":"https://avatars.githubusercontent.com/u/37089514?v=4","gravatar_id":"","url":"https://api.github.com/users/V-yg","html_url":"https://github.com/V-yg","followers_url":"https://api.github.com/users/V-yg/followers","following_url":"https://api.github.com/users/V-yg/following{/other_user}","gists_url":"https://api.github.com/users/V-yg/gists{/gist_id}","starred_url":"https://api.github.com/users/V-yg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/V-yg/subscriptions","organizations_url":"https://api.github.com/users/V-yg/orgs","repos_url":"https://api.github.com/users/V-yg/repos","events_url":"https://api.github.com/users/V-yg/events{/privacy}","received_events_url":"https://api.github.com/users/V-yg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T10:07:54Z","updated_at":"2022-11-14T10:07:54Z","author_association":"NONE","body":"No, I didn't make any changes to him，i use spark3.3 to run this tests,TestCopyOnWriteDelete and TestMergeOnReadDelete  tests will report errors，I pulled the latest code and compiled it to run the test. I got an error @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313416034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313426885","html_url":"https://github.com/apache/iceberg/issues/6181#issuecomment-1313426885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6181","id":1313426885,"node_id":"IC_kwDOCW7NX85OSU3F","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T10:15:09Z","updated_at":"2022-11-14T10:15:09Z","author_association":"CONTRIBUTOR","body":"This works for me locally and latest [CI on master](https://github.com/apache/iceberg/actions/workflows/spark-ci.yml?query=branch%3Amaster) also doesn't show any issues. @Fokko could you please double-check if those tests fail for you locally?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313426885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313529395","html_url":"https://github.com/apache/iceberg/issues/6105#issuecomment-1313529395","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6105","id":1313529395,"node_id":"IC_kwDOCW7NX85OSt4z","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T11:22:54Z","updated_at":"2022-11-14T11:22:54Z","author_association":"CONTRIBUTOR","body":"@AlvaroNavarroMora I don't see any reason why those table properties wouldn't be reflected/set. Are you running `SHOW TBLPROPERTIES <tblName>` or something else to describe the table properties?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313529395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313647672","html_url":"https://github.com/apache/iceberg/issues/6044#issuecomment-1313647672","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6044","id":1313647672,"node_id":"IC_kwDOCW7NX85OTKw4","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T12:57:24Z","updated_at":"2022-11-14T12:57:24Z","author_association":"NONE","body":"Let me link https://github.com/apache/spark/pull/38640#issuecomment-1312731989 here as I believe the source of this and other DSv2 (including Iceberg) issues that V2 scans are not (re)created at the right place during Spark optimization.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313647672/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313992508","html_url":"https://github.com/apache/iceberg/pull/5767#issuecomment-1313992508","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5767","id":1313992508,"node_id":"IC_kwDOCW7NX85OUe88","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T16:05:54Z","updated_at":"2022-11-14T16:05:54Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1313992508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314103802","html_url":"https://github.com/apache/iceberg/issues/5970#issuecomment-1314103802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5970","id":1314103802,"node_id":"IC_kwDOCW7NX85OU6H6","user":{"login":"kekwan","id":19199254,"node_id":"MDQ6VXNlcjE5MTk5MjU0","avatar_url":"https://avatars.githubusercontent.com/u/19199254?v=4","gravatar_id":"","url":"https://api.github.com/users/kekwan","html_url":"https://github.com/kekwan","followers_url":"https://api.github.com/users/kekwan/followers","following_url":"https://api.github.com/users/kekwan/following{/other_user}","gists_url":"https://api.github.com/users/kekwan/gists{/gist_id}","starred_url":"https://api.github.com/users/kekwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kekwan/subscriptions","organizations_url":"https://api.github.com/users/kekwan/orgs","repos_url":"https://api.github.com/users/kekwan/repos","events_url":"https://api.github.com/users/kekwan/events{/privacy}","received_events_url":"https://api.github.com/users/kekwan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T17:13:52Z","updated_at":"2022-11-14T17:13:52Z","author_association":"NONE","body":"We were able to resolve this issue. It was due to a classpath issue. \r\n\r\n@RussellSpitzer's tips on slack helped us find the issue:\r\n\r\n> We’ll the most common way this happens is just extra jars lying in classpaths that folks don’t realize are hanging out there. So I really do urge that you make sure the dependencies are there as expected. Usually I suggest using packages for distributing jars, but i think ```spark.jars``` does the same thing but without pulling in other dependencies. It’s been a while and since I don’t use .jars I’m not sure if that’s correct.\r\n> \r\n> If you are absolutely sure that it’s not an obvious old iceberg jar somewhere on the classpath, the next most likely thing is that someone has shaded a version of Iceberg into another library or has it as a shaded dependency. So while you wouldn’t see another Iceberg Jar the extra classfiles would still be included in some other jar.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314103802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314213261","html_url":"https://github.com/apache/iceberg/pull/6184#issuecomment-1314213261","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6184","id":1314213261,"node_id":"IC_kwDOCW7NX85OVU2N","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T18:41:37Z","updated_at":"2022-11-14T18:41:37Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra! We can get the version a better way later, but this is a good start.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314213261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314275816","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1314275816","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1314275816,"node_id":"IC_kwDOCW7NX85OVkHo","user":{"login":"haizhou-zhao","id":6187287,"node_id":"MDQ6VXNlcjYxODcyODc=","avatar_url":"https://avatars.githubusercontent.com/u/6187287?v=4","gravatar_id":"","url":"https://api.github.com/users/haizhou-zhao","html_url":"https://github.com/haizhou-zhao","followers_url":"https://api.github.com/users/haizhou-zhao/followers","following_url":"https://api.github.com/users/haizhou-zhao/following{/other_user}","gists_url":"https://api.github.com/users/haizhou-zhao/gists{/gist_id}","starred_url":"https://api.github.com/users/haizhou-zhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizhou-zhao/subscriptions","organizations_url":"https://api.github.com/users/haizhou-zhao/orgs","repos_url":"https://api.github.com/users/haizhou-zhao/repos","events_url":"https://api.github.com/users/haizhou-zhao/events{/privacy}","received_events_url":"https://api.github.com/users/haizhou-zhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:36:52Z","updated_at":"2022-11-14T19:36:52Z","author_association":"CONTRIBUTOR","body":"Thx @gaborkaszab . Your last suggestion on having an extra unit test scenario is implemented in my latest commit.\r\n\r\n@danielcweeks Based on my conversation with Gabor up till now, I'm expecting this change to at least close to its final state. Since you put a request for change on this PR, I'll probably need you to take another look once you get a chance.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314275816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314292521","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1314292521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1314292521,"node_id":"IC_kwDOCW7NX85OVoMp","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:53:24Z","updated_at":"2022-11-14T19:53:24Z","author_association":"CONTRIBUTOR","body":"> Thx @gaborkaszab . Your last suggestion on having an extra unit test scenario is implemented in my latest commit.\r\n> \r\n> @danielcweeks Based on my conversation with Gabor up till now, I'm expecting this change to at least close to its final state. Since you put a request for change on this PR, I'll probably need you to take another look once you get a chance.\r\n\r\nI dismissed the change request because that's been addressed.  Minor comments about what user to fallback to.  It probably won't be an issue, but you might be able to rebase against master to drop the changes to `TableProperties` since I believe the property was removed in another PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314292521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314415372","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1314415372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1314415372,"node_id":"IC_kwDOCW7NX85OWGMM","user":{"login":"haizhou-zhao","id":6187287,"node_id":"MDQ6VXNlcjYxODcyODc=","avatar_url":"https://avatars.githubusercontent.com/u/6187287?v=4","gravatar_id":"","url":"https://api.github.com/users/haizhou-zhao","html_url":"https://github.com/haizhou-zhao","followers_url":"https://api.github.com/users/haizhou-zhao/followers","following_url":"https://api.github.com/users/haizhou-zhao/following{/other_user}","gists_url":"https://api.github.com/users/haizhou-zhao/gists{/gist_id}","starred_url":"https://api.github.com/users/haizhou-zhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizhou-zhao/subscriptions","organizations_url":"https://api.github.com/users/haizhou-zhao/orgs","repos_url":"https://api.github.com/users/haizhou-zhao/repos","events_url":"https://api.github.com/users/haizhou-zhao/events{/privacy}","received_events_url":"https://api.github.com/users/haizhou-zhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T21:30:28Z","updated_at":"2022-11-14T21:30:48Z","author_association":"CONTRIBUTOR","body":"@danielcweeks thx for your last round of review. I agree with you that UGI.currentUser is a better default owner, though I plan to make that change in a separate follow up PR. (See my reply above for more details)\r\n\r\nAlso, I tried to rebase on master branch, but the change to `TableProperties` is still there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314415372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314467124","html_url":"https://github.com/apache/iceberg/pull/6141#issuecomment-1314467124","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6141","id":1314467124,"node_id":"IC_kwDOCW7NX85OWS00","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T22:03:40Z","updated_at":"2022-11-14T22:03:40Z","author_association":"CONTRIBUTOR","body":"For follow up:\r\n1. Fix types returned by `to` when AboveMax/BelowMin are returned\r\n2. Add tests for binding with invalid conversions\r\n3. Update binding to rewrite expressions when AboveMax and BelowMin are returned\r\n4. Check whether we need AboveMax/BelowMin for longs, since Python uses arbitrary precision numbers\r\n5. Improve some of the error messages","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314467124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314509876","html_url":"https://github.com/apache/iceberg/pull/2276#issuecomment-1314509876","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2276","id":1314509876,"node_id":"IC_kwDOCW7NX85OWdQ0","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T22:49:52Z","updated_at":"2022-11-14T22:49:52Z","author_association":"CONTRIBUTOR","body":"Thanks a lot, @sunchao!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314509876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314530819","html_url":"https://github.com/apache/iceberg/pull/6182#issuecomment-1314530819","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6182","id":1314530819,"node_id":"IC_kwDOCW7NX85OWiYD","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T23:13:56Z","updated_at":"2022-11-14T23:13:56Z","author_association":"CONTRIBUTOR","body":"I had a local PoC for this which was blocked by some changes around sequence numbers. I'll try to find some time to review this PR later this week.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314530819/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314549029","html_url":"https://github.com/apache/iceberg/pull/5860#issuecomment-1314549029","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5860","id":1314549029,"node_id":"IC_kwDOCW7NX85OWm0l","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T23:35:21Z","updated_at":"2022-11-14T23:37:59Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234! Could you, please, cherry-pick these changes to 3.2 and 3.1?\r\n\r\nThanks for reviewing, @rdblue! I think your last comment has been addressed so I merged the PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314549029/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314551898","html_url":"https://github.com/apache/iceberg/issues/5104#issuecomment-1314551898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5104","id":1314551898,"node_id":"IC_kwDOCW7NX85OWnha","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T23:39:03Z","updated_at":"2022-11-14T23:39:03Z","author_association":"CONTRIBUTOR","body":"This issue has been resolved by #5860.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314551898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314554516","html_url":"https://github.com/apache/iceberg/pull/5959#issuecomment-1314554516","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5959","id":1314554516,"node_id":"IC_kwDOCW7NX85OWoKU","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T23:42:18Z","updated_at":"2022-11-14T23:42:18Z","author_association":"CONTRIBUTOR","body":"Looking.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314554516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314577933","html_url":"https://github.com/apache/iceberg/issues/3707#issuecomment-1314577933","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3707","id":1314577933,"node_id":"IC_kwDOCW7NX85OWt4N","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T00:13:31Z","updated_at":"2022-11-15T00:13:31Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314577933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314580426","html_url":"https://github.com/apache/iceberg/pull/6128#issuecomment-1314580426","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6128","id":1314580426,"node_id":"IC_kwDOCW7NX85OWufK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T00:16:42Z","updated_at":"2022-11-15T00:16:42Z","author_association":"CONTRIBUTOR","body":"I think the only blockers are in the literals, where `TimeLiteral` should not implement the new methods and is also copy-pasted incorrectly, and there's an issue with decimal increment/decrement to fix (it should increment the underlying unscaled value). Otherwise, this looks pretty good. There are a few minor things as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314580426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314581664","html_url":"https://github.com/apache/iceberg/pull/6189#issuecomment-1314581664","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6189","id":1314581664,"node_id":"IC_kwDOCW7NX85OWuyg","user":{"login":"sunchao","id":506679,"node_id":"MDQ6VXNlcjUwNjY3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/506679?v=4","gravatar_id":"","url":"https://api.github.com/users/sunchao","html_url":"https://github.com/sunchao","followers_url":"https://api.github.com/users/sunchao/followers","following_url":"https://api.github.com/users/sunchao/following{/other_user}","gists_url":"https://api.github.com/users/sunchao/gists{/gist_id}","starred_url":"https://api.github.com/users/sunchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunchao/subscriptions","organizations_url":"https://api.github.com/users/sunchao/orgs","repos_url":"https://api.github.com/users/sunchao/repos","events_url":"https://api.github.com/users/sunchao/events{/privacy}","received_events_url":"https://api.github.com/users/sunchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T00:17:33Z","updated_at":"2022-11-15T00:17:33Z","author_association":"MEMBER","body":"cc @aokolnychyi - sorry forgot to remove this method in the original PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314581664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314585928","html_url":"https://github.com/apache/iceberg/pull/6146#issuecomment-1314585928","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6146","id":1314585928,"node_id":"IC_kwDOCW7NX85OWv1I","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T00:22:41Z","updated_at":"2022-11-15T00:22:41Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra! Really great to have this in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314585928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314589383","html_url":"https://github.com/apache/iceberg/pull/6176#issuecomment-1314589383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6176","id":1314589383,"node_id":"IC_kwDOCW7NX85OWwrH","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T00:26:30Z","updated_at":"2022-11-15T00:26:30Z","author_association":"CONTRIBUTOR","body":"Thanks, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314589383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314648944","html_url":"https://github.com/apache/iceberg/issues/6181#issuecomment-1314648944","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6181","id":1314648944,"node_id":"IC_kwDOCW7NX85OW_Nw","user":{"login":"V-yg","id":37089514,"node_id":"MDQ6VXNlcjM3MDg5NTE0","avatar_url":"https://avatars.githubusercontent.com/u/37089514?v=4","gravatar_id":"","url":"https://api.github.com/users/V-yg","html_url":"https://github.com/V-yg","followers_url":"https://api.github.com/users/V-yg/followers","following_url":"https://api.github.com/users/V-yg/following{/other_user}","gists_url":"https://api.github.com/users/V-yg/gists{/gist_id}","starred_url":"https://api.github.com/users/V-yg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/V-yg/subscriptions","organizations_url":"https://api.github.com/users/V-yg/orgs","repos_url":"https://api.github.com/users/V-yg/repos","events_url":"https://api.github.com/users/V-yg/events{/privacy}","received_events_url":"https://api.github.com/users/V-yg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T01:54:21Z","updated_at":"2022-11-15T01:54:21Z","author_association":"NONE","body":"The problem has been solved. It's my local environment. It's fine now @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314648944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314686886","html_url":"https://github.com/apache/iceberg/issues/6104#issuecomment-1314686886","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6104","id":1314686886,"node_id":"IC_kwDOCW7NX85OXIem","user":{"login":"luoyuxia","id":20389154,"node_id":"MDQ6VXNlcjIwMzg5MTU0","avatar_url":"https://avatars.githubusercontent.com/u/20389154?v=4","gravatar_id":"","url":"https://api.github.com/users/luoyuxia","html_url":"https://github.com/luoyuxia","followers_url":"https://api.github.com/users/luoyuxia/followers","following_url":"https://api.github.com/users/luoyuxia/following{/other_user}","gists_url":"https://api.github.com/users/luoyuxia/gists{/gist_id}","starred_url":"https://api.github.com/users/luoyuxia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luoyuxia/subscriptions","organizations_url":"https://api.github.com/users/luoyuxia/orgs","repos_url":"https://api.github.com/users/luoyuxia/repos","events_url":"https://api.github.com/users/luoyuxia/events{/privacy}","received_events_url":"https://api.github.com/users/luoyuxia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:47:46Z","updated_at":"2022-11-15T02:48:10Z","author_association":"NONE","body":"> The new features of rocksdb mentioned in the PR https://github.com/apache/iceberg/pull/2680 have not found the relevant configuration items in the latest 1.0.0 version? Do you have to wait for a subsequent version to be added?\r\n\r\nYes, we have to wait it to be merged.\r\n\r\n\r\n> In compressing data it is indeed possible to solve the OOM problem by increasing the memory of TaskManger and increasing the compression frequency of data.\r\n\r\n\r\nI agree with you, so I think use rocksdb as backend is a better solution\r\n\r\n\r\n>  and the commit exception problem will be encountered when the data compression task is performed.\r\n\r\nHad a look about your exception log. The reason is the cdc contains a delete row, but the compaction for such case that contains delete files hasn't been supported.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314686886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314689267","html_url":"https://github.com/apache/iceberg/pull/5860#issuecomment-1314689267","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5860","id":1314689267,"node_id":"IC_kwDOCW7NX85OXJDz","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:52:18Z","updated_at":"2022-11-15T02:52:18Z","author_association":"CONTRIBUTOR","body":"Thanks @aokolnychyi @rdblue @ajantha-bhat !!!\r\n\r\nAdded a pr for backporting it to 3.2 and 3.1 https://github.com/apache/iceberg/pull/6190","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314689267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314757980","html_url":"https://github.com/apache/iceberg/pull/6175#issuecomment-1314757980","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6175","id":1314757980,"node_id":"IC_kwDOCW7NX85OXZ1c","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T04:31:30Z","updated_at":"2022-11-15T04:31:30Z","author_association":"CONTRIBUTOR","body":"@nastra Thanks for the review. PR updated accordingly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314757980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314797949","html_url":"https://github.com/apache/iceberg/issues/6162#issuecomment-1314797949","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6162","id":1314797949,"node_id":"IC_kwDOCW7NX85OXjl9","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T05:33:47Z","updated_at":"2022-11-15T05:33:47Z","author_association":"CONTRIBUTOR","body":"The PR for 3.3 is merged. I'll follow up with cherry-picks to 3.2 and 3.1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314797949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314805348","html_url":"https://github.com/apache/iceberg/pull/6191#issuecomment-1314805348","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6191","id":1314805348,"node_id":"IC_kwDOCW7NX85OXlZk","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T05:46:52Z","updated_at":"2022-11-15T05:46:52Z","author_association":"CONTRIBUTOR","body":"thanks @lvyanquan for the fix","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314805348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314809321","html_url":"https://github.com/apache/iceberg/pull/6190#issuecomment-1314809321","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6190","id":1314809321,"node_id":"IC_kwDOCW7NX85OXmXp","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T05:54:08Z","updated_at":"2022-11-15T05:54:08Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234! I'll check with fresh eyes tomorrow since it is not a clean cherry-pick.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314809321/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314814013","html_url":"https://github.com/apache/iceberg/issues/6162#issuecomment-1314814013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6162","id":1314814013,"node_id":"IC_kwDOCW7NX85OXng9","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T06:01:39Z","updated_at":"2022-11-15T06:01:39Z","author_association":"CONTRIBUTOR","body":"PR https://github.com/apache/iceberg/pull/6192 for 3.2.\r\nPR https://github.com/apache/iceberg/pull/6193 for 3.1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314814013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314840245","html_url":"https://github.com/apache/iceberg/pull/5824#issuecomment-1314840245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5824","id":1314840245,"node_id":"IC_kwDOCW7NX85OXt61","user":{"login":"linfey90","id":12129761,"node_id":"MDQ6VXNlcjEyMTI5NzYx","avatar_url":"https://avatars.githubusercontent.com/u/12129761?v=4","gravatar_id":"","url":"https://api.github.com/users/linfey90","html_url":"https://github.com/linfey90","followers_url":"https://api.github.com/users/linfey90/followers","following_url":"https://api.github.com/users/linfey90/following{/other_user}","gists_url":"https://api.github.com/users/linfey90/gists{/gist_id}","starred_url":"https://api.github.com/users/linfey90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linfey90/subscriptions","organizations_url":"https://api.github.com/users/linfey90/orgs","repos_url":"https://api.github.com/users/linfey90/repos","events_url":"https://api.github.com/users/linfey90/events{/privacy}","received_events_url":"https://api.github.com/users/linfey90/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T06:37:46Z","updated_at":"2022-11-15T06:37:46Z","author_association":"CONTRIBUTOR","body":"> \r\nOk, I'll try to do that later. Thank you for your reply.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314840245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314898589","html_url":"https://github.com/apache/iceberg/issues/6142#issuecomment-1314898589","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6142","id":1314898589,"node_id":"IC_kwDOCW7NX85OX8Kd","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:30:36Z","updated_at":"2022-11-15T07:30:36Z","author_association":"CONTRIBUTOR","body":"@djouallah does the mentioned approach work for you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314898589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314900061","html_url":"https://github.com/apache/iceberg/issues/6142#issuecomment-1314900061","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6142","id":1314900061,"node_id":"IC_kwDOCW7NX85OX8hd","user":{"login":"djouallah","id":12554469,"node_id":"MDQ6VXNlcjEyNTU0NDY5","avatar_url":"https://avatars.githubusercontent.com/u/12554469?v=4","gravatar_id":"","url":"https://api.github.com/users/djouallah","html_url":"https://github.com/djouallah","followers_url":"https://api.github.com/users/djouallah/followers","following_url":"https://api.github.com/users/djouallah/following{/other_user}","gists_url":"https://api.github.com/users/djouallah/gists{/gist_id}","starred_url":"https://api.github.com/users/djouallah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djouallah/subscriptions","organizations_url":"https://api.github.com/users/djouallah/orgs","repos_url":"https://api.github.com/users/djouallah/repos","events_url":"https://api.github.com/users/djouallah/events{/privacy}","received_events_url":"https://api.github.com/users/djouallah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:32:19Z","updated_at":"2022-11-15T07:32:19Z","author_association":"NONE","body":"No, unfortunately. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314900061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314982379","html_url":"https://github.com/apache/iceberg/pull/6175#issuecomment-1314982379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6175","id":1314982379,"node_id":"IC_kwDOCW7NX85OYQnr","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T08:49:53Z","updated_at":"2022-11-15T08:49:53Z","author_association":"CONTRIBUTOR","body":"@pvary Could you also have a look? Thanks~","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1314982379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315084482","html_url":"https://github.com/apache/iceberg/issues/6162#issuecomment-1315084482","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6162","id":1315084482,"node_id":"IC_kwDOCW7NX85OYpjC","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:10:18Z","updated_at":"2022-11-15T10:10:18Z","author_association":"CONTRIBUTOR","body":"Given that the PRs are in I think we can close this one, thanks @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315084482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315100206","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1315100206","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1315100206,"node_id":"IC_kwDOCW7NX85OYtYu","user":{"login":"ucasfl","id":22127746,"node_id":"MDQ6VXNlcjIyMTI3NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/22127746?v=4","gravatar_id":"","url":"https://api.github.com/users/ucasfl","html_url":"https://github.com/ucasfl","followers_url":"https://api.github.com/users/ucasfl/followers","following_url":"https://api.github.com/users/ucasfl/following{/other_user}","gists_url":"https://api.github.com/users/ucasfl/gists{/gist_id}","starred_url":"https://api.github.com/users/ucasfl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ucasfl/subscriptions","organizations_url":"https://api.github.com/users/ucasfl/orgs","repos_url":"https://api.github.com/users/ucasfl/repos","events_url":"https://api.github.com/users/ucasfl/events{/privacy}","received_events_url":"https://api.github.com/users/ucasfl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:22:11Z","updated_at":"2022-11-15T10:22:11Z","author_association":"NONE","body":"\r\n+1 for C++ SDK\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315100206/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315100949","html_url":"https://github.com/apache/iceberg/pull/5376#issuecomment-1315100949","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5376","id":1315100949,"node_id":"IC_kwDOCW7NX85OYtkV","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:22:47Z","updated_at":"2022-11-15T10:22:47Z","author_association":"COLLABORATOR","body":"@RussellSpitzer i think it should be as we discussed now, the readable_metrics is a dynamic type of column metrics for all primitive columns by qualified name.  Each column metric is a struct , of which upper/lower bounds is the original column type.\r\n\r\nAdded code to generate the dynamic schema and handle projection (previously it was a map , so no projection needed).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315100949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315102325","html_url":"https://github.com/apache/iceberg/issues/5404#issuecomment-1315102325","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5404","id":1315102325,"node_id":"IC_kwDOCW7NX85OYt51","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:23:54Z","updated_at":"2022-11-15T10:25:27Z","author_association":"NONE","body":"@Shane-Yu i add 'write.metadata.metrics.default'='full'  into table ,and i print the log messae with upper, \"upper java.nio.HeapByteBuffer[pos=0 lim=16 cap=16],fromByteBuffer qbfs://online010\",  \"pos=0 lim=16 cap=16\"  is still truncate 16 bit? it doesn't work?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315102325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315199732","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1315199732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1315199732,"node_id":"IC_kwDOCW7NX85OZFr0","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T11:49:58Z","updated_at":"2022-11-15T11:49:58Z","author_association":"COLLABORATOR","body":"> @danielcweeks thx for your last round of review. I agree with you that UGI.currentUser is a better default owner, though I plan to make that change in a separate follow up PR. (See my reply above for more details)\r\n> \r\n> Also, I tried to rebase on master branch, but the change to `TableProperties` is still there.\r\n\r\nThe property is meant to remain in TableProperties I just renamed it in another patch. I expected this patch to move that property out from TableProperties.\r\n\r\nAbout using UGI.currentUser() as the default, If there is consensus we can use this, I'm fine. I just wanted to know if we break any backward compatibility if we change the default from system's \"user.name\" property to UGI.currentUser() for table creation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315199732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315204067","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1315204067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1315204067,"node_id":"IC_kwDOCW7NX85OZGvj","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T11:54:20Z","updated_at":"2022-11-15T11:54:20Z","author_association":"COLLABORATOR","body":"> Thx @gaborkaszab . Your last suggestion on having an extra unit test scenario is implemented in my latest commit.\r\n> \r\n> @danielcweeks Based on my conversation with Gabor up till now, I'm expecting this change to at least close to its final state. Since you put a request for change on this PR, I'll probably need you to take another look once you get a chance.\r\n\r\nSorry, somehow I missed that. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315204067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315281689","html_url":"https://github.com/apache/iceberg/pull/6190#issuecomment-1315281689","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6190","id":1315281689,"node_id":"IC_kwDOCW7NX85OZZsZ","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T13:03:48Z","updated_at":"2022-11-15T13:03:48Z","author_association":"CONTRIBUTOR","body":"can we include a little description regarding what is backported in the title,  makes things more direct.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315281689/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315286360","html_url":"https://github.com/apache/iceberg/pull/6175#issuecomment-1315286360","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6175","id":1315286360,"node_id":"IC_kwDOCW7NX85OZa1Y","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T13:06:58Z","updated_at":"2022-11-15T13:06:58Z","author_association":"CONTRIBUTOR","body":"@lirui-apache: I am not sure how the Key/UGI equals/hashCode works, this could create funny situations.\r\n\r\nMaybe we could add another test case where\r\n```\r\n    UserGroupInformation foo1 = UserGroupInformation.createProxyUser(\"foo\", current);\r\n    UserGroupInformation foo2 = UserGroupInformation.createProxyUser(\"foo\", current);\r\n```\r\nwould return the same pool?\r\n\r\nJust to make sure that the cache is still working as expected, even if the UGIs are the same, but just a different instance?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315286360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315590390","html_url":"https://github.com/apache/iceberg/pull/6111#issuecomment-1315590390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6111","id":1315590390,"node_id":"IC_kwDOCW7NX85OalD2","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T16:48:09Z","updated_at":"2022-11-15T16:48:09Z","author_association":"CONTRIBUTOR","body":"thanks @lvyanquan for the contribution and @hililiwei and @pvary for the reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315590390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315625210","html_url":"https://github.com/apache/iceberg/pull/6169#issuecomment-1315625210","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6169","id":1315625210,"node_id":"IC_kwDOCW7NX85Oatj6","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T17:12:53Z","updated_at":"2022-11-15T17:12:53Z","author_association":"CONTRIBUTOR","body":"1 general question regarding this PR, @nastra @rdblue @danielcweeks this is a feature very specific to AWS S3. What is the general guideline in the community for adding this as a part of the OpenAPI spec? In my mind the spec should be something generic for Iceberg, and not related to any specific cloud provider. Although many cloud storage providers have built S3 compatible API, but mostly just do it to some extent to support basic operations like get and put object. I would imaging signing with sigv4 is still a very AWS-specific thing, but maybe I am wrong about that.\r\n\r\nOverall, have we thought about making this spec more generic, or is that not possible to achieve without being cloud provider specific?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315625210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315643542","html_url":"https://github.com/apache/iceberg/pull/5376#issuecomment-1315643542","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5376","id":1315643542,"node_id":"IC_kwDOCW7NX85OayCW","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T17:27:08Z","updated_at":"2022-11-15T17:27:08Z","author_association":"COLLABORATOR","body":"Transitive error downloading, restarting","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315643542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315672501","html_url":"https://github.com/apache/iceberg/issues/6196#issuecomment-1315672501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6196","id":1315672501,"node_id":"IC_kwDOCW7NX85Oa5G1","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T17:54:39Z","updated_at":"2022-11-15T17:54:39Z","author_association":"CONTRIBUTOR","body":"writing Equality deletes are not supported in spark as of now, I think only flink supports it at the moment\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315672501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315675501","html_url":"https://github.com/apache/iceberg/pull/6163#issuecomment-1315675501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6163","id":1315675501,"node_id":"IC_kwDOCW7NX85Oa51t","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T17:57:38Z","updated_at":"2022-11-15T17:57:38Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @RussellSpitzer @sunchao!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315675501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315787552","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315787552","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315787552,"node_id":"IC_kwDOCW7NX85ObVMg","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T19:46:39Z","updated_at":"2022-11-15T19:46:39Z","author_association":"MEMBER","body":"What exactly are your commenting on? By default we record all metrics for all columns unless there is a high number of columns.\r\n\r\nSee https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/MetricsConfig.java","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315787552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315884814","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315884814","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315884814,"node_id":"IC_kwDOCW7NX85Obs8O","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T21:27:34Z","updated_at":"2022-11-15T21:27:34Z","author_association":"NONE","body":"What I noticed was that by default when iceberg format files are generated,  the manifest file  does not contain lower bound/ upper bound info for non-partition columns.\r\nFor **non partition** columns it writes empty bytes.\r\n\r\nAnd this behaviour is due to the flag colStats being false by default and gets turned on , only under specific cases ( like presence of delete files).\r\n\r\nIf colStats flag is true, then manifest file records valid (i.e not empty byte buffer),  non-partition-column's stats, too.\r\n\r\nI believe these stats if available can help in pruning for some queries atleast...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315884814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315888445","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315888445","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315888445,"node_id":"IC_kwDOCW7NX85Obt09","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T21:31:33Z","updated_at":"2022-11-15T21:31:33Z","author_association":"NONE","body":"@RussellSpitzer Pardon my ignorance, I am little new to iceberg, but what I noticed was that because these stats were not present in Manifest file for non-partition-columns, the  range filters pushed at scan level, could not prune in ManifestEvaluator.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315888445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315900993","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315900993","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315900993,"node_id":"IC_kwDOCW7NX85Obw5B","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T21:44:12Z","updated_at":"2022-11-15T21:44:30Z","author_association":"MEMBER","body":"Do you have a repo of this?\r\n\r\nHere is an example of creating a table without partitions, then reading the lower bounds of the column from the metadata table which only reads manifest data.\r\n```\r\nscala> spark.sql(\"create table local.default.nopart_test (x int, y int)\")\r\nres15: org.apache.spark.sql.DataFrame = []\r\n\r\nscala> spark.sql(\"INSERT INTO table local.default.nopart_test (x,y) values (127,127)\")\r\nres16: org.apache.spark.sql.DataFrame = []\r\n\r\nscala> spark.sql(\"SELECT lower_bounds, upper_bounds from local.default.nopart_test.files\").collect()(0)(1)\r\nres18: Any = Map(1 -> Array(127, 0, 0, 0), 2 -> Array(127, 0, 0, 0))\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315900993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315922002","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315922002","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315922002,"node_id":"IC_kwDOCW7NX85Ob2BS","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T22:07:04Z","updated_at":"2022-11-15T22:07:04Z","author_association":"MEMBER","body":"I think I understand what you are asking about, not the Manifests but the ManifestList files. The manifest list files only store metrics for partitions since they contain entries for manifests and not data files. A given manifest contains entries for many data files along with the data metrics for each of those files. \r\n\r\nThe current thought process there is that a manifest will most likely contain many if not thousands of data file entries but will only contain data files for a few distinct partitions. Because it will include so many datafiles, possibly all of those for a partition, storing metric bounds for non partition columns isn't vary useful since it would be the entire range for that column.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315922002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315953425","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315953425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315953425,"node_id":"IC_kwDOCW7NX85Ob9sR","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T22:30:26Z","updated_at":"2022-11-15T22:30:26Z","author_association":"NONE","body":"@RussellSpitzer . Thanks for responding... Initially I also spent a good time to figure out which data structre was holding entries in ManifestList and which was holding data of Manifest file..\r\nActually I do mean Manifest file & not List.\r\nThe content of Manifest File is represented in memory by a class Implementing interface ContentFile.. \r\nI think the concrete class for Manifest conent is GenericDataFile.  This has methods to get lower bounds/ upper bounds for non partition columns..\r\nIf the boolean colStats is false, the Manifest file are generated without  valid stats for non-partition-cols.\r\nAs a result ManifestEvaluator is not able to make use of prunning at Manifest level.\r\n\r\nLet me see if I can find an image of Manifest file generated without valid stats & one with valid stats","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315953425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315968642","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315968642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315968642,"node_id":"IC_kwDOCW7NX85OcBaC","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T22:46:29Z","updated_at":"2022-11-15T22:46:29Z","author_association":"NONE","body":"\"The current thought process there is that a manifest will most likely contain many if not thousands of data file entries but will only contain data files for a few distinct partitions. Because it will include so many datafiles, possibly all of those for a partition, storing metric bounds for non partition columns isn't vary useful since it would be the entire range for that column.\"\r\n\r\n@RussellSpitzer . I see that you sort of answered my question .\r\nI have some thought about  allowing  non partition columns being pushed to scan level by spark and execute an approximate Dynamic Non Partition Pruning query , which just gets approximate bounds for that non partition columns ( which could be served very fast using manifest file only)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315968642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315971510","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1315971510","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1315971510,"node_id":"IC_kwDOCW7NX85OcCG2","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T22:50:05Z","updated_at":"2022-11-15T22:50:05Z","author_association":"NONE","body":"\"Because it will include so many datafiles, possibly all of those for a partition, storing metric bounds for non partition columns isn't vary useful since it would be the entire range for that column.\"\r\n\r\nBut I suppose the bounds would be for each data file,... right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1315971510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316034660","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1316034660","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1316034660,"node_id":"IC_kwDOCW7NX85OcRhk","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T23:45:09Z","updated_at":"2022-11-15T23:45:09Z","author_association":"CONTRIBUTOR","body":"> @danielcweeks thx for your last round of review. I agree with you that UGI.currentUser is a better default owner, though I plan to make that change in a separate follow up PR. (See my reply above for more details)\r\n> \r\n> Also, I tried to rebase on master branch, but the change to `TableProperties` is still there.\r\n\r\nI'm fine separating UGI into a separate PR, but in that case we should hold off until the `1.1.0` release is finalized.  I wouldn't want to introduce something that would like change behavior across the releases.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316034660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316063411","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1316063411","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1316063411,"node_id":"IC_kwDOCW7NX85OcYiz","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T00:10:49Z","updated_at":"2022-11-16T00:11:22Z","author_association":"MEMBER","body":"The manifest contains DataFile entries, each of which contains all upper and lower bounds of the data files which were persisted in the manifest. \r\n\r\nPerhaps you can link to the code you are talking about","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316063411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316066223","html_url":"https://github.com/apache/iceberg/issues/3705#issuecomment-1316066223","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3705","id":1316066223,"node_id":"IC_kwDOCW7NX85OcZOv","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T00:14:05Z","updated_at":"2022-11-16T00:14:05Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316066223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316074552","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1316074552","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1316074552,"node_id":"IC_kwDOCW7NX85OcbQ4","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T00:23:03Z","updated_at":"2022-11-16T00:23:03Z","author_association":"MEMBER","body":"To fully go over the path\r\n\r\nFirst you read a manifest list\r\nThe manifest contains a list of manifests\r\nThe partition filter is compared to each manifests upper and lower partition bounds\r\nManifest files which pass this filter are then read\r\nManifest files contain a list of data files\r\nEach data file is compared with all filters provided for all columns\r\nData files which are pass these filters are then used for planning scan tasks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316074552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316220819","html_url":"https://github.com/apache/iceberg/issues/6042#issuecomment-1316220819","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6042","id":1316220819,"node_id":"IC_kwDOCW7NX85Oc--T","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T02:47:39Z","updated_at":"2022-11-16T02:47:39Z","author_association":"CONTRIBUTOR","body":"I'm trying to understand the proposed behavior.\r\nTo go back to @ajantha-bhat's example: Suppose you have a partition `{A}` with `record_count`=6 and `file_count`=2 (3 records in each file). Suppose you now delete 3 records in one file. I understand that `pos_delete_file_count` will be 1 and `pos_delete_record_count` will be 3. But what about `record_count` and `file_count`? Will `file_count` be 3 (is it supposed to be the total number of data files, including delete files)? And `record_count`? When is it possible to correctly compute the `record_count` using metadata alone (without applying delete files)?\r\n\r\nAnother example: Suppose you have two partitions `{A}` and `{B}`. Let's say `record_count`=1000 and `file_count`=1 for partition `{B}`. Suppose you rename `B` to `C` (using an `UPDATE <table> SET <partition column> = 'C' where <partition column = 'B'` where we use merge-on-read, resulting in 1 delete file and 1 new pure data file). If you do a `SELECT * FROM <table>.partitions` currently, you will get an entry for each of `{A}`, `{B}` and `{C}`. What should the behavior be (should there be an entry for `{B}` and if so, what should be shown for it? and for `{C}`?)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316220819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316294974","html_url":"https://github.com/apache/iceberg/pull/6199#issuecomment-1316294974","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6199","id":1316294974,"node_id":"IC_kwDOCW7NX85OdRE-","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T04:01:34Z","updated_at":"2022-11-16T04:01:34Z","author_association":"CONTRIBUTOR","body":"@kbendick @rdblue @RussellSpitzer @szehon-ho @flyrain, could you take a look at this PR? I need to use these conversions in our Spark function catalog.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316294974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316362986","html_url":"https://github.com/apache/iceberg/issues/6042#issuecomment-1316362986","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6042","id":1316362986,"node_id":"IC_kwDOCW7NX85Odhrq","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T05:15:08Z","updated_at":"2022-11-16T05:15:08Z","author_association":"MEMBER","body":">  But what about record_count and file_count? Will file_count be 3 (is it supposed to be the total number of data files, including delete files)? And record_count? When is it possible to correctly compute the record_count using metadata alone (without applying delete files)?\r\n\r\nrecord_count and file_count is just be data files record_count and file_count (not the delete files). So, it won't be modified for the delete operation.  (may be we have to rename the columns) \r\n\r\n> What should the behavior be (should there be an entry for {B} and if so, what should be shown for it? and for {C}?)?\r\n\r\nThe update is a delete + append operation. So, `<table>.partitions` will show entries for both {B} and {C} I think.\r\n\r\ncc: @szehon-ho \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316362986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316470746","html_url":"https://github.com/apache/iceberg/pull/6175#issuecomment-1316470746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6175","id":1316470746,"node_id":"IC_kwDOCW7NX85Od7_a","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T06:59:09Z","updated_at":"2022-11-16T06:59:09Z","author_association":"CONTRIBUTOR","body":"@pvary That's a good question. Unfortunately the test case you mentioned won't work. I looked into how UGI implements equals/hashCode and found the behavior is intentional [1]. Hadoop folks did mention that optimizations could be possible for proxy users, but it's not safe to do so on their end because UGI instances are mutable [2]. Instead they intend to leave that optimization to engines/services who have better knowledge about the UGI instances [3].\r\n\r\nThere were also reports about the UGI behavior causing memory issues in Hadoop FileSystem cache (which also uses UGI in the key) [4][5]. But as we have TTL on our cache entries, I guess we're fine in that regard.\r\n\r\nWhat do you think?\r\n\r\n[1] https://issues.apache.org/jira/browse/HADOOP-6670\r\n[2] https://issues.apache.org/jira/browse/HADOOP-12529\r\n[3] https://issues.apache.org/jira/browse/HADOOP-12529?focusedCommentId=14984176&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14984176\r\n[4] https://issues.apache.org/jira/browse/HIVE-3098\r\n[5] https://issues.apache.org/jira/browse/YARN-58","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316470746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316669286","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1316669286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1316669286,"node_id":"IC_kwDOCW7NX85Oesdm","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T09:25:18Z","updated_at":"2022-11-16T09:25:18Z","author_association":"COLLABORATOR","body":"@danielcweeks @gaborkaszab Make sense , for this patch we should go with user.name then on Database side, to be consistent with Table?  Then switch both after 1.1?  Probably makes most sense from user point of view  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316669286/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316739131","html_url":"https://github.com/apache/iceberg/pull/6043#issuecomment-1316739131","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6043","id":1316739131,"node_id":"IC_kwDOCW7NX85Oe9g7","user":{"login":"lvyanquan","id":38547014,"node_id":"MDQ6VXNlcjM4NTQ3MDE0","avatar_url":"https://avatars.githubusercontent.com/u/38547014?v=4","gravatar_id":"","url":"https://api.github.com/users/lvyanquan","html_url":"https://github.com/lvyanquan","followers_url":"https://api.github.com/users/lvyanquan/followers","following_url":"https://api.github.com/users/lvyanquan/following{/other_user}","gists_url":"https://api.github.com/users/lvyanquan/gists{/gist_id}","starred_url":"https://api.github.com/users/lvyanquan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvyanquan/subscriptions","organizations_url":"https://api.github.com/users/lvyanquan/orgs","repos_url":"https://api.github.com/users/lvyanquan/repos","events_url":"https://api.github.com/users/lvyanquan/events{/privacy}","received_events_url":"https://api.github.com/users/lvyanquan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T10:11:53Z","updated_at":"2022-11-16T10:11:53Z","author_association":"CONTRIBUTOR","body":"Our business scenarios often require adding table fields, and the original update method will have a lot of duplicate content. I read and tested these codes, which meet our expectations, but I'm not sure when to write partial update data, which is related to the calculation engine, and I look forward to seeing this part of the implemented code.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316739131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316862982","html_url":"https://github.com/apache/iceberg/pull/4627#issuecomment-1316862982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4627","id":1316862982,"node_id":"IC_kwDOCW7NX85OfbwG","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T11:40:01Z","updated_at":"2022-11-16T11:40:01Z","author_association":"CONTRIBUTOR","body":"@ConeyLiu: Thanks for the finding and the fix.\r\nMay I ask you to put the fix in the main branches for Spark (3.3) and Flink (1.16) first, and then with another PR we can backport to all of the relevant branches.\r\n\r\nDo we have the same issue for ORC and Avro too?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1316862982/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317262605","html_url":"https://github.com/apache/iceberg/pull/6187#issuecomment-1317262605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6187","id":1317262605,"node_id":"IC_kwDOCW7NX85Og9UN","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T16:06:47Z","updated_at":"2022-11-16T16:06:47Z","author_association":"CONTRIBUTOR","body":"Thanks, @pavibhai!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317262605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317262970","html_url":"https://github.com/apache/iceberg/pull/6200#issuecomment-1317262970","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6200","id":1317262970,"node_id":"IC_kwDOCW7NX85Og9Z6","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T16:07:03Z","updated_at":"2022-11-16T16:07:03Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317262970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317273978","html_url":"https://github.com/apache/iceberg/pull/6169#issuecomment-1317273978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6169","id":1317273978,"node_id":"IC_kwDOCW7NX85OhAF6","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T16:14:39Z","updated_at":"2022-11-16T16:14:39Z","author_association":"CONTRIBUTOR","body":"> 1 general question regarding this PR, @nastra @rdblue @danielcweeks this is a feature very specific to AWS S3. What is the general guideline in the community for adding this as a part of the OpenAPI spec? In my mind the spec should be something generic for Iceberg, and not related to any specific cloud provider. Although many cloud storage providers have built S3 compatible API, but mostly just do it to some extent to support basic operations like get and put object. I would imaging signing with sigv4 is still a very AWS-specific thing, but maybe I am wrong about that.\r\n> \r\n> Overall, have we thought about making this spec more generic, or is that not possible to achieve without being cloud provider specific?\r\n\r\n@jackye1995 I think the purpose behind the open-api doc is just to be clear about what the expectations are from a call/response/error perspective.  While it has some overlap with the other open-api doc, they are separate entities.\r\n\r\nThis signer is specific to AWS and I think that's fine since the signer implementation is in the `aws` module.  It may make more sense to put the open-api doc in the `aws` module since it really only applies there (@nastra was going to look into that option).\r\n\r\nAs a general pattern, all cloud providers sign requests in some form and we may see similar implementations using different protocols in the future, but it may also be that this can be generalized in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317273978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317275633","html_url":"https://github.com/apache/iceberg/pull/6197#issuecomment-1317275633","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6197","id":1317275633,"node_id":"IC_kwDOCW7NX85OhAfx","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T16:15:50Z","updated_at":"2022-11-16T16:15:50Z","author_association":"CONTRIBUTOR","body":"> Do you mean when you run Python on a 32bit computer? This will reduce the precision.\r\n\r\nWhat I mean is that Python `int` can contain values that are larger than 64 bits because it uses arbitrary precision. If we get `int` values in expressions that are larger than a 64-bit integer then we should do the same thing as for the 32-bit integer and rewrite the expression to `AlwaysTrue()` or `AlwaysFalse()`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317275633/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317323654","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1317323654","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1317323654,"node_id":"IC_kwDOCW7NX85OhMOG","user":{"login":"haizhou-zhao","id":6187287,"node_id":"MDQ6VXNlcjYxODcyODc=","avatar_url":"https://avatars.githubusercontent.com/u/6187287?v=4","gravatar_id":"","url":"https://api.github.com/users/haizhou-zhao","html_url":"https://github.com/haizhou-zhao","followers_url":"https://api.github.com/users/haizhou-zhao/followers","following_url":"https://api.github.com/users/haizhou-zhao/following{/other_user}","gists_url":"https://api.github.com/users/haizhou-zhao/gists{/gist_id}","starred_url":"https://api.github.com/users/haizhou-zhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizhou-zhao/subscriptions","organizations_url":"https://api.github.com/users/haizhou-zhao/orgs","repos_url":"https://api.github.com/users/haizhou-zhao/repos","events_url":"https://api.github.com/users/haizhou-zhao/events{/privacy}","received_events_url":"https://api.github.com/users/haizhou-zhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T16:43:16Z","updated_at":"2022-11-16T16:43:16Z","author_association":"CONTRIBUTOR","body":"Thank you all! In that case, I'll raise a PR for UGI change later and we can merge after 1.1 release.\r\n\r\nLet me know if there's more I can do for this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317323654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317390253","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1317390253","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1317390253,"node_id":"IC_kwDOCW7NX85Ohcet","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T17:27:56Z","updated_at":"2022-11-16T17:28:05Z","author_association":"COLLABORATOR","body":"@gaborkaszab sorry i know we are super close, but do you think we could change both to use UserGroupInformation quickly before cutting final 1.1 RC?  That way no need to change behavior.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317390253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317626213","html_url":"https://github.com/apache/iceberg/pull/6197#issuecomment-1317626213","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6197","id":1317626213,"node_id":"IC_kwDOCW7NX85OiWFl","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T20:27:08Z","updated_at":"2022-11-16T20:27:08Z","author_association":"CONTRIBUTOR","body":"@rdblue Got it, I've created a ticket https://github.com/apache/iceberg/issues/6203 so that can be picked up as soon as https://github.com/apache/iceberg/pull/6139 is in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317626213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317670657","html_url":"https://github.com/apache/iceberg/issues/6164#issuecomment-1317670657","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6164","id":1317670657,"node_id":"IC_kwDOCW7NX85Oig8B","user":{"login":"joao-parana","id":1621241,"node_id":"MDQ6VXNlcjE2MjEyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1621241?v=4","gravatar_id":"","url":"https://api.github.com/users/joao-parana","html_url":"https://github.com/joao-parana","followers_url":"https://api.github.com/users/joao-parana/followers","following_url":"https://api.github.com/users/joao-parana/following{/other_user}","gists_url":"https://api.github.com/users/joao-parana/gists{/gist_id}","starred_url":"https://api.github.com/users/joao-parana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joao-parana/subscriptions","organizations_url":"https://api.github.com/users/joao-parana/orgs","repos_url":"https://api.github.com/users/joao-parana/repos","events_url":"https://api.github.com/users/joao-parana/events{/privacy}","received_events_url":"https://api.github.com/users/joao-parana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T21:08:47Z","updated_at":"2022-11-16T21:08:47Z","author_association":"NONE","body":"Thanks @RussellSpitzer, I made the changes below and it worked. I'm closing the issue.\r\n\r\n```java\r\nLong beginInterval = 1368023502001001L);\r\nLong endInterval    = 1731171440001001L);\r\nExpression predicate = Expressions.and(\r\n        Expressions.greaterThanOrEqual(\"ts\", beginInterval),\r\n        Expressions.lessThanOrEqual(\"ts\", endInterval)\r\n);\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317670657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317856331","html_url":"https://github.com/apache/iceberg/issues/4363#issuecomment-1317856331","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4363","id":1317856331,"node_id":"IC_kwDOCW7NX85OjORL","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T00:13:21Z","updated_at":"2022-11-17T00:13:21Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317856331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317856357","html_url":"https://github.com/apache/iceberg/issues/4317#issuecomment-1317856357","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4317","id":1317856357,"node_id":"IC_kwDOCW7NX85OjORl","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T00:13:23Z","updated_at":"2022-11-17T00:13:23Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1317856357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318032973","html_url":"https://github.com/apache/iceberg/pull/4627#issuecomment-1318032973","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4627","id":1318032973,"node_id":"IC_kwDOCW7NX85Oj5ZN","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T04:01:16Z","updated_at":"2022-11-17T04:01:16Z","author_association":"CONTRIBUTOR","body":"Thanks @szehon-ho @pvary for the review.\r\n\r\n> May I ask you to put the fix in the main branches for Spark (3.3) and Flink (1.16) first, and then with another PR we can backport to all of the relevant branches.\r\n\r\nUpdated to Spark 3.3 and Flink 1.16, the Pig part is kept.\r\n\r\n> Do we have the same issue for ORC and Avro too?\r\n\r\nAvro is OK, while ORC has a similar problem at here https://github.com/apache/iceberg/issues/4604.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318032973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318117329","html_url":"https://github.com/apache/iceberg/issues/6186#issuecomment-1318117329","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6186","id":1318117329,"node_id":"IC_kwDOCW7NX85OkN_R","user":{"login":"tbinoy","id":48950450,"node_id":"MDQ6VXNlcjQ4OTUwNDUw","avatar_url":"https://avatars.githubusercontent.com/u/48950450?v=4","gravatar_id":"","url":"https://api.github.com/users/tbinoy","html_url":"https://github.com/tbinoy","followers_url":"https://api.github.com/users/tbinoy/followers","following_url":"https://api.github.com/users/tbinoy/following{/other_user}","gists_url":"https://api.github.com/users/tbinoy/gists{/gist_id}","starred_url":"https://api.github.com/users/tbinoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbinoy/subscriptions","organizations_url":"https://api.github.com/users/tbinoy/orgs","repos_url":"https://api.github.com/users/tbinoy/repos","events_url":"https://api.github.com/users/tbinoy/events{/privacy}","received_events_url":"https://api.github.com/users/tbinoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T05:49:18Z","updated_at":"2022-11-17T05:49:18Z","author_association":"NONE","body":"I am using Presto 0.277 to connect create/ insert iceberg tables in AWS Glue. I am able to run select query for iceberg tables in glue but not able to do insert or table creation. \r\n\r\nBelow is the stack trace Query 20221116_103709_00002_qie8q failed: Lock is not supported by default\r\ncom.facebook.presto.common.NotSupportedException: Lock is not supported by default\r\n        at com.facebook.presto.hive.metastore.ExtendedHiveMetastore.lock(ExtendedHiveMetastore.java:126)\r\n        at com.facebook.presto.hive.metastore.CachingHiveMetastore.lock(CachingHiveMetastore.java:997)\r\n        at com.facebook.presto.iceberg.HiveTableOperations.commit(HiveTableOperations.java:244)\r\n        at org.apache.iceberg.BaseTransaction.lambda$commitSimpleTransaction$5(BaseTransaction.java:386)\r\n        at org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:404)\r\n        at org.apache.iceberg.util.Tasks$Builder.runSingleThreaded(Tasks.java:214)\r\n        at org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:198)\r\n        at org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:190)\r\n        at org.apache.iceberg.BaseTransaction.commitSimpleTransaction(BaseTransaction.java:378)\r\n        at org.apache.iceberg.BaseTransaction.commitTransaction(BaseTransaction.java:268)\r\n        at com.facebook.presto.iceberg.IcebergAbstractMetadata.finishInsert(IcebergAbstractMetadata.java:250)\r\n        at com.facebook.presto.spi.connector.classloader.ClassLoaderSafeConnectorMetadata.finishInsert(ClassLoaderSafeConnectorMetadata.java:452)\r\n        at com.facebook.presto.metadata.MetadataManager.finishInsert(MetadataManager.java:896)\r\n        at com.facebook.presto.sql.planner.LocalExecutionPlanner.lambda$createTableFinisher$3(LocalExecutionPlanner.java:3221)\r\n        at com.facebook.presto.operator.TableFinishOperator.getOutput(TableFinishOperator.java:289)\r\n        at com.facebook.presto.operator.Driver.processInternal(Driver.java:426)\r\n        at com.facebook.presto.operator.Driver.lambda$processFor$9(Driver.java:309)\r\n        at com.facebook.presto.operator.Driver.tryWithLock(Driver.java:730)\r\n        at com.facebook.presto.operator.Driver.processFor(Driver.java:302)\r\n        at com.facebook.presto.execution.SqlTaskExecution$DriverSplitRunner.processFor(SqlTaskExecution.java:1079)\r\n        at com.facebook.presto.execution.executor.PrioritizedSplitRunner.process(PrioritizedSplitRunner.java:166)\r\n        at com.facebook.presto.execution.executor.TaskExecutor$TaskRunner.run(TaskExecutor.java:599)\r\n        at com.facebook.presto.$gen.Presto_0_277_119fd9a____20221116_101723_1.run(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318117329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318209724","html_url":"https://github.com/apache/iceberg/issues/6204#issuecomment-1318209724","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6204","id":1318209724,"node_id":"IC_kwDOCW7NX85Okki8","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:36:03Z","updated_at":"2022-11-17T07:36:03Z","author_association":"CONTRIBUTOR","body":"Thanks for opening this PR @islamismailov. We had something similar for the partition-spec: https://github.com/apache/iceberg/issues/5676 What we did there was only look up the columns of the current partition spec. I think we can do something similar for the sort-order. Would you be interested in fixing this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318209724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318216016","html_url":"https://github.com/apache/iceberg/pull/6199#issuecomment-1318216016","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6199","id":1318216016,"node_id":"IC_kwDOCW7NX85OkmFQ","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:42:31Z","updated_at":"2022-11-17T07:42:31Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @nastra @szehon-ho @gaborkaszab!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318216016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318219571","html_url":"https://github.com/apache/iceberg/pull/6207#issuecomment-1318219571","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6207","id":1318219571,"node_id":"IC_kwDOCW7NX85Okm8z","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:46:09Z","updated_at":"2022-11-17T07:46:09Z","author_association":"CONTRIBUTOR","body":"cc @kbendick @rdblue @RussellSpitzer @szehon-ho @flyrain @gaborkaszab @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318219571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318227196","html_url":"https://github.com/apache/iceberg/issues/6205#issuecomment-1318227196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6205","id":1318227196,"node_id":"IC_kwDOCW7NX85Okoz8","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:53:34Z","updated_at":"2022-11-17T07:53:34Z","author_association":"CONTRIBUTOR","body":"There have been some fixes in the past around Spark + Parquet (https://github.com/apache/iceberg/pull/4667), so would be interesting to know which Iceberg + Spark version you're using.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318227196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318232667","html_url":"https://github.com/apache/iceberg/issues/6194#issuecomment-1318232667","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6194","id":1318232667,"node_id":"IC_kwDOCW7NX85OkqJb","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:58:42Z","updated_at":"2022-11-17T07:58:42Z","author_association":"CONTRIBUTOR","body":"It works fine with Spark:\r\n\r\n![image](https://user-images.githubusercontent.com/1134248/202388833-2935c614-634a-4389-9265-4232022f1f46.png)\r\n\r\nIn Hive, could it be that you need to refresh the table? Using `REFRESH tmp.table`\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318232667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318234553","html_url":"https://github.com/apache/iceberg/issues/5993#issuecomment-1318234553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5993","id":1318234553,"node_id":"IC_kwDOCW7NX85Okqm5","user":{"login":"fortarch","id":108772386,"node_id":"U_kgDOBnu8Ig","avatar_url":"https://avatars.githubusercontent.com/u/108772386?v=4","gravatar_id":"","url":"https://api.github.com/users/fortarch","html_url":"https://github.com/fortarch","followers_url":"https://api.github.com/users/fortarch/followers","following_url":"https://api.github.com/users/fortarch/following{/other_user}","gists_url":"https://api.github.com/users/fortarch/gists{/gist_id}","starred_url":"https://api.github.com/users/fortarch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fortarch/subscriptions","organizations_url":"https://api.github.com/users/fortarch/orgs","repos_url":"https://api.github.com/users/fortarch/repos","events_url":"https://api.github.com/users/fortarch/events{/privacy}","received_events_url":"https://api.github.com/users/fortarch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T08:00:23Z","updated_at":"2022-11-17T08:00:23Z","author_association":"NONE","body":"get exception, please resolve that.\r\n`\r\nCaused by: java.net.UnknownHostException: rest: Name or service not known\r\n`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318234553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318240764","html_url":"https://github.com/apache/iceberg/issues/6194#issuecomment-1318240764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6194","id":1318240764,"node_id":"IC_kwDOCW7NX85OksH8","user":{"login":"0xffmeta","id":98149057,"node_id":"U_kgDOBdmiwQ","avatar_url":"https://avatars.githubusercontent.com/u/98149057?v=4","gravatar_id":"","url":"https://api.github.com/users/0xffmeta","html_url":"https://github.com/0xffmeta","followers_url":"https://api.github.com/users/0xffmeta/followers","following_url":"https://api.github.com/users/0xffmeta/following{/other_user}","gists_url":"https://api.github.com/users/0xffmeta/gists{/gist_id}","starred_url":"https://api.github.com/users/0xffmeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xffmeta/subscriptions","organizations_url":"https://api.github.com/users/0xffmeta/orgs","repos_url":"https://api.github.com/users/0xffmeta/repos","events_url":"https://api.github.com/users/0xffmeta/events{/privacy}","received_events_url":"https://api.github.com/users/0xffmeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T08:05:04Z","updated_at":"2022-11-17T08:05:04Z","author_association":"CONTRIBUTOR","body":"Seems I need to use `alter table tmp.table SET TBLPROPERTIES('option.format-version'='2')` to update the format-version. But I'm not very sure why it required prefix `option.`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318240764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318267420","html_url":"https://github.com/apache/iceberg/issues/5993#issuecomment-1318267420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5993","id":1318267420,"node_id":"IC_kwDOCW7NX85Okyoc","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T08:29:53Z","updated_at":"2022-11-17T08:29:53Z","author_association":"CONTRIBUTOR","body":"This should be fixed by https://github.com/apache/iceberg-docs/pull/178. Until the docs have been updated on the [website](https://iceberg.apache.org/spark-quickstart/), you could use the following `docker-compose.yml`:\r\n\r\n```\r\nversion: \"3\"\r\n\r\nservices:\r\n  spark-iceberg:\r\n    image: tabulario/spark-iceberg\r\n    container_name: spark-iceberg\r\n    build: spark/\r\n    depends_on:\r\n      - rest\r\n      - minio\r\n    volumes:\r\n      - ./warehouse:/home/iceberg/warehouse\r\n      - ./notebooks:/home/iceberg/notebooks/notebooks\r\n    environment:\r\n      - AWS_ACCESS_KEY_ID=admin\r\n      - AWS_SECRET_ACCESS_KEY=password\r\n      - AWS_REGION=us-east-1\r\n    ports:\r\n      - 8888:8888\r\n      - 8080:8080\r\n    links:\r\n      - rest:rest\r\n      - minio:minio\r\n  rest:\r\n    image: tabulario/iceberg-rest:0.1.0\r\n    ports:\r\n      - 8181:8181\r\n    environment:\r\n      - AWS_ACCESS_KEY_ID=admin\r\n      - AWS_SECRET_ACCESS_KEY=password\r\n      - AWS_REGION=us-east-1\r\n      - CATALOG_WAREHOUSE=s3a://warehouse/wh/\r\n      - CATALOG_IO__IMPL=org.apache.iceberg.aws.s3.S3FileIO\r\n      - CATALOG_S3_ENDPOINT=http://minio:9000\r\n  minio:\r\n    image: minio/minio\r\n    container_name: minio\r\n    environment:\r\n      - MINIO_ROOT_USER=admin\r\n      - MINIO_ROOT_PASSWORD=password\r\n    ports:\r\n      - 9001:9001\r\n      - 9000:9000\r\n    command: [\"server\", \"/data\", \"--console-address\", \":9001\"]\r\n  mc:\r\n    depends_on:\r\n      - minio\r\n    image: minio/mc\r\n    container_name: mc\r\n    environment:\r\n      - AWS_ACCESS_KEY_ID=admin\r\n      - AWS_SECRET_ACCESS_KEY=password\r\n      - AWS_REGION=us-east-1\r\n    entrypoint: >\r\n      /bin/sh -c \"\r\n      until (/usr/bin/mc config host add minio http://minio:9000 admin password) do echo '...waiting...' && sleep 1; done;\r\n      /usr/bin/mc rm -r --force minio/warehouse;\r\n      /usr/bin/mc mb minio/warehouse;\r\n      /usr/bin/mc policy set public minio/warehouse;\r\n      exit 0;\r\n      \"\r\n```\r\n\r\n@fortarch please let me know if that works for you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318267420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318275597","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1318275597","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1318275597,"node_id":"IC_kwDOCW7NX85Ok0oN","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T08:37:18Z","updated_at":"2022-11-17T08:37:18Z","author_association":"COLLABORATOR","body":"> @gaborkaszab sorry i know we are super close, but do you think we could change both to use UserGroupInformation quickly before cutting final 1.1 RC? That way no need to change behavior.\r\n\r\n@szehon-ho Frankly we already had 2 RCs and we'll only create a third one because of a test failure so I wouldn't add another dependency for the release and do the cut early today to get the voting going again as early as possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318275597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318326348","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1318326348","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1318326348,"node_id":"IC_kwDOCW7NX85OlBBM","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T09:18:14Z","updated_at":"2022-11-17T09:18:14Z","author_association":"COLLABORATOR","body":"Thought so, no worries :), thought it was worth a try","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1318326348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]