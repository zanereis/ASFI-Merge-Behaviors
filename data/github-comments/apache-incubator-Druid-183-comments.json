[{"url":"https://api.github.com/repos/apache/druid/issues/comments/379479116","html_url":"https://github.com/apache/druid/pull/5490#issuecomment-379479116","issue_url":"https://api.github.com/repos/apache/druid/issues/5490","id":379479116,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTQ3OTExNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-07T15:50:35Z","updated_at":"2018-04-07T15:50:35Z","author_association":"MEMBER","body":"I give up trying to do this","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379479116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379614249","html_url":"https://github.com/apache/druid/pull/5592#issuecomment-379614249","issue_url":"https://api.github.com/repos/apache/druid/issues/5592","id":379614249,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTYxNDI0OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T02:55:57Z","updated_at":"2018-04-09T02:55:57Z","author_association":"MEMBER","body":"This PR is ready for review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379614249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379720745","html_url":"https://github.com/apache/druid/issues/5562#issuecomment-379720745","issue_url":"https://api.github.com/repos/apache/druid/issues/5562","id":379720745,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTcyMDc0NQ==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T11:30:02Z","updated_at":"2018-04-09T11:30:02Z","author_association":"CONTRIBUTOR","body":"@gianm  thanks for your reply, when realtime task has done,the announcement znode will be removed,but it's parent directory still exist, can we remove them together?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379720745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379757276","html_url":"https://github.com/apache/druid/issues/5535#issuecomment-379757276","issue_url":"https://api.github.com/repos/apache/druid/issues/5535","id":379757276,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTc1NzI3Ng==","user":{"login":"kyleboyle","id":6877108,"node_id":"MDQ6VXNlcjY4NzcxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6877108?v=4","gravatar_id":"","url":"https://api.github.com/users/kyleboyle","html_url":"https://github.com/kyleboyle","followers_url":"https://api.github.com/users/kyleboyle/followers","following_url":"https://api.github.com/users/kyleboyle/following{/other_user}","gists_url":"https://api.github.com/users/kyleboyle/gists{/gist_id}","starred_url":"https://api.github.com/users/kyleboyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyleboyle/subscriptions","organizations_url":"https://api.github.com/users/kyleboyle/orgs","repos_url":"https://api.github.com/users/kyleboyle/repos","events_url":"https://api.github.com/users/kyleboyle/events{/privacy}","received_events_url":"https://api.github.com/users/kyleboyle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T13:45:25Z","updated_at":"2018-04-09T13:45:25Z","author_association":"NONE","body":"@gianm would you mind briefly mentioning what those techniques are, for reference? thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379757276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379761732","html_url":"https://github.com/apache/druid/pull/5596#issuecomment-379761732","issue_url":"https://api.github.com/repos/apache/druid/issues/5596","id":379761732,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTc2MTczMg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T13:58:56Z","updated_at":"2018-04-09T13:58:56Z","author_association":"MEMBER","body":"@jon-wei @b-slim Please review. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379761732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379763800","html_url":"https://github.com/apache/druid/issues/5535#issuecomment-379763800","issue_url":"https://api.github.com/repos/apache/druid/issues/5535","id":379763800,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTc2MzgwMA==","user":{"login":"mkuthan","id":1560526,"node_id":"MDQ6VXNlcjE1NjA1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1560526?v=4","gravatar_id":"","url":"https://api.github.com/users/mkuthan","html_url":"https://github.com/mkuthan","followers_url":"https://api.github.com/users/mkuthan/followers","following_url":"https://api.github.com/users/mkuthan/following{/other_user}","gists_url":"https://api.github.com/users/mkuthan/gists{/gist_id}","starred_url":"https://api.github.com/users/mkuthan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkuthan/subscriptions","organizations_url":"https://api.github.com/users/mkuthan/orgs","repos_url":"https://api.github.com/users/mkuthan/repos","events_url":"https://api.github.com/users/mkuthan/events{/privacy}","received_events_url":"https://api.github.com/users/mkuthan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T14:05:12Z","updated_at":"2018-04-09T14:05:12Z","author_association":"NONE","body":"@gianm - Huge performance gain, especially if the segment is rolled up with minute to hour granularity. \r\n\r\nWe apply long tail normalization for dimensions like request path in our e-commerce platform. Right now there are ~90 million active offers, every offer with it's own SEO friendly URL.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379763800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379766465","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-379766465","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":379766465,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTc2NjQ2NQ==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T14:13:22Z","updated_at":"2018-04-09T14:13:22Z","author_association":"CONTRIBUTOR","body":"@leventov Looks like #5490 isn't happening. Any suggestions on how to proceed with this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379766465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379776983","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-379776983","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":379776983,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTc3Njk4Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T14:44:15Z","updated_at":"2018-04-09T14:44:15Z","author_association":"MEMBER","body":"Yes. I suggest you to move `@PublicApi` and `@ExtensionPoint` up to `java-util` module, without changing it's package though.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379776983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379787139","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-379787139","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":379787139,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTc4NzEzOQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T15:12:35Z","updated_at":"2018-04-09T15:12:35Z","author_association":"MEMBER","body":"Hi @leventov, please summarize the changes in the PR description, especially around the new concepts/interfaces introduced and their purpose to would make the review easy. \r\n \r\nAlso, can you list down all the future changes that are needed to make this PR useful and get some good results ? \r\n\r\nFinally, is this code tested somewhere in production ? If not, can we get branch tested in some test cluster to gain some more confidence here. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379787139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379810797","html_url":"https://github.com/apache/druid/issues/5535#issuecomment-379810797","issue_url":"https://api.github.com/repos/apache/druid/issues/5535","id":379810797,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTgxMDc5Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T16:23:53Z","updated_at":"2018-04-09T16:23:53Z","author_association":"CONTRIBUTOR","body":"@kyleboyle the main ones are-\r\n\r\n1. Partitioning by a commonly used high cardinality dimension, which speeds up filtering & grouping (most often used for something like 'user id' or 'session id')\r\n2. Using hyperUnique for approximate counting\r\n3. Using topN for approximate ranking","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379810797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379828987","html_url":"https://github.com/apache/druid/issues/5562#issuecomment-379828987","issue_url":"https://api.github.com/repos/apache/druid/issues/5562","id":379828987,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTgyODk4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T17:23:54Z","updated_at":"2018-04-09T17:23:54Z","author_association":"CONTRIBUTOR","body":"I think the parent directory is the service discovery directory, which we wouldn't want to remove?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379828987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379829924","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-379829924","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":379829924,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTgyOTkyNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T17:26:52Z","updated_at":"2018-04-09T17:26:52Z","author_association":"CONTRIBUTOR","body":"@palanieppan-m thanks for your contribution! Would you fill CLA (http://druid.io/community/cla.html)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379829924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379840735","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-379840735","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":379840735,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg0MDczNQ==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T18:02:15Z","updated_at":"2018-04-09T18:02:15Z","author_association":"CONTRIBUTOR","body":"@leventov I have made the requested changes. Please review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379840735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379846091","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-379846091","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":379846091,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg0NjA5MQ==","user":{"login":"palanieppan-m","id":27789414,"node_id":"MDQ6VXNlcjI3Nzg5NDE0","avatar_url":"https://avatars.githubusercontent.com/u/27789414?v=4","gravatar_id":"","url":"https://api.github.com/users/palanieppan-m","html_url":"https://github.com/palanieppan-m","followers_url":"https://api.github.com/users/palanieppan-m/followers","following_url":"https://api.github.com/users/palanieppan-m/following{/other_user}","gists_url":"https://api.github.com/users/palanieppan-m/gists{/gist_id}","starred_url":"https://api.github.com/users/palanieppan-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palanieppan-m/subscriptions","organizations_url":"https://api.github.com/users/palanieppan-m/orgs","repos_url":"https://api.github.com/users/palanieppan-m/repos","events_url":"https://api.github.com/users/palanieppan-m/events{/privacy}","received_events_url":"https://api.github.com/users/palanieppan-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T18:19:50Z","updated_at":"2018-04-09T18:19:50Z","author_association":"CONTRIBUTOR","body":"@jihoonson good suggestion, changed accordingly. Also filled in CLA. \r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379846091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379854795","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-379854795","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":379854795,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg1NDc5NQ==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T18:48:11Z","updated_at":"2018-04-09T18:48:11Z","author_association":"CONTRIBUTOR","body":"@jihoonson - any insights on how to add and execute new integration tests for CI? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379854795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379854848","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-379854848","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":379854848,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg1NDg0OA==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T18:48:18Z","updated_at":"2018-04-09T18:48:18Z","author_association":"MEMBER","body":"@gianm @palanieppan-m I believe we've had this issue raised before and it was rejected at the time, see https://github.com/druid-io/druid/pull/1362\r\nMaybe things have changed since, or we are ok doing so now, but we should understand the implications that were raised last time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379854848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379859507","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-379859507","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":379859507,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg1OTUwNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T19:03:57Z","updated_at":"2018-04-09T19:03:57Z","author_association":"MEMBER","body":"> please summarize the changes in the PR description, especially around the new concepts/interfaces introduced and their purpose to would make the review easy.\r\n\r\nI've added a second paragraph in the first message in this PR. You should basically read javadocs of 4 added classes and interfaces. I don't see a point in copy-pasting Javadoc here.\r\n\r\n> can you list down all the future changes that are needed to make this PR useful and get some good results ?\r\n\r\nThere is ObjectStrategy refactoring, see the first message in this thread:\r\n> I. e. it's makes index merging with rollup 3% slower. This is because this PR starts to become really beneficial when garbage-free object metric ser/de is implemented, as mentioned here: #5172, and I wanted to do that before publishing this PR, but it turned out to be a pandora box and it may take several months to complete that work. So I decided to publish this PR even though it doesn't improve performance yet, because this work is already done and i don't want to re-do it when master diverges.\r\n\r\nSome more info: https://github.com/DataSketches/memory/issues/14#issuecomment-353591816. It's already 70% done (for several months already), it awaits for this PR and also for some changes in DataSketches/memory. It will allow to drastically reduce amount of garbage produced when Object columns are involved into index merging (like histogram, dataSketches).\r\n\r\n> Finally, is this code tested somewhere in production ? If not, can we get branch tested in some test cluster to gain some more confidence here.\r\n\r\nNo, it's not used in production. I'm not going to test this change in production before it's part of a release, because we moved away from this practice. Also see https://github.com/druid-io/druid/pull/5335#issuecomment-375743034","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379859507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379860631","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-379860631","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":379860631,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg2MDYzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T19:07:50Z","updated_at":"2018-04-09T19:07:50Z","author_association":"CONTRIBUTOR","body":"Thanks @xvrl. My feeling is that the justification given in #1362 for the current logic is not worth the unintuitive behavior in the case where a segment starts before the load interval but also extends into it. The intuitive thing would be to have the load rule apply if there is any overlap.\r\n\r\nI agree with the comment @cheddar made at the time,\r\n\r\n> Also, those semantics about dropping even though it has relevant data are very unintuitive, was that introduced when we added the router? Just as a general rule, the load/drop/retention rule's semantics should be defined according to what makes sense for the retention of segments.\r\n\r\nMy feeling is we should go ahead with this PR as-is and then also raise an issue to look into the router's behavior and potentially rethink it (or add a comment in TieredBrokerHostSelector).\r\n\r\ncc/ @fjy @cheddar @nishantmonu51 @anubhgup from #1362","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379860631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379862476","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-379862476","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":379862476,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg2MjQ3Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T19:14:40Z","updated_at":"2018-04-09T19:14:40Z","author_association":"CONTRIBUTOR","body":"@samarthjain I'll take a look today. Sorry for late review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379862476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379872684","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-379872684","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":379872684,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg3MjY4NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T19:50:06Z","updated_at":"2018-04-09T19:50:06Z","author_association":"MEMBER","body":"In #5505 @gianm mentioned other classed to be annotated","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379872684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379879294","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-379879294","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":379879294,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg3OTI5NA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T20:13:30Z","updated_at":"2018-04-09T20:13:30Z","author_association":"CONTRIBUTOR","body":"can this be added to the 0.12.1 milestone?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379879294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379879639","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-379879639","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":379879639,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg3OTYzOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T20:14:39Z","updated_at":"2018-04-09T20:14:39Z","author_association":"CONTRIBUTOR","body":"@pdeva added.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379879639/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379882054","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-379882054","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":379882054,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg4MjA1NA==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T20:23:07Z","updated_at":"2018-04-09T20:23:07Z","author_association":"MEMBER","body":"@gianm I agree the current behavior is unintuitive and we should make the change. However, it still is a backwards incompatible change at the router level, so we should deal with it appropriately and note it in the release notes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379882054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379882247","html_url":"https://github.com/apache/druid/issues/5593#issuecomment-379882247","issue_url":"https://api.github.com/repos/apache/druid/issues/5593","id":379882247,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg4MjI0Nw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T20:23:48Z","updated_at":"2018-04-09T20:23:48Z","author_association":"CONTRIBUTOR","body":"fixed by #5595 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379882247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379882917","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-379882917","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":379882917,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg4MjkxNw==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T20:26:04Z","updated_at":"2018-04-09T20:26:04Z","author_association":"CONTRIBUTOR","body":"@gianm I've made ServiceMetricEvent and RequestLogEvent `@PublicApi` as you had mentioned in #5505. Could you please review?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379882917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379887908","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-379887908","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":379887908,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg4NzkwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T20:43:51Z","updated_at":"2018-04-09T20:43:51Z","author_association":"CONTRIBUTOR","body":"I think the NPE here is caused by the fact that not all segments have `rollup` set (it's a relatively newer feature) but the compaction task calls `index.getMetadata().getRollup()` and casts it to a `boolean` primitive.\r\n\r\nIn addition to this issue, the compaction task should not assume that `index.getMetadata()` exists at all, since it won't for segments created by older versions.\r\n\r\nIt should degrade as gracefully as it can in these situations. Some questions:\r\n\r\n- Should the task exit with SUCCESS or FAILED if it cannot figure out how to compact the segments?\r\n- How will the auto compacter handle this?\r\n\r\n/cc @jihoonson ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379887908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379895135","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-379895135","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":379895135,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg5NTEzNQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T21:10:13Z","updated_at":"2018-04-09T21:10:29Z","author_association":"CONTRIBUTOR","body":"the part i dont understand is why this segment is not compactable. i have another datasource with query granularity set to minute and it compacts fine.\r\n\r\nI am pasting the supervisor spec for this (`pctile-hour`) datasource:\r\n\r\n```\r\n{\r\n  \"type\": \"kafka\",\r\n  \"dataSchema\": {\r\n    \"dataSource\" : \"pctile-hour\",\r\n    \"parser\": {\r\n      \"type\": \"string\",\r\n      \"parseSpec\": {\r\n        \"format\": \"json\",\r\n        \"timestampSpec\": {\r\n          \"column\": \"timestamp\",\r\n          \"format\": \"auto\"\r\n        },\r\n        \"dimensionsSpec\": {\r\n          \"dimensions\": [\"accountid\", \"appid\", \"jvmid\", \"metrictype\", \"name\"]\r\n        }\r\n      }\r\n    },\r\n    \"metricsSpec\": [\r\n      {\r\n        \"name\": \"count\",\r\n        \"type\": \"count\"\r\n      },\r\n      {\r\n        \"name\": \"value\",\r\n        \"fieldName\": \"value\",\r\n        \"type\": \"quantilesDoublesSketch\",\r\n        \"k\": 512\r\n      }\r\n    ],\r\n    \"granularitySpec\": {\r\n      \"type\": \"uniform\",\r\n      \"segmentGranularity\": \"DAY\",\r\n      \"queryGranularity\": \"HOUR\"\r\n    }\r\n  },\r\n  \"tuningConfig\": {\r\n    \"type\": \"kafka\",\r\n    \"maxRowsPerSegment\": 5000000\r\n  },\r\n  \"ioConfig\": {\r\n    \"topic\": \"dupercentile\",\r\n    \"consumerProperties\": {\r\n      \"bootstrap.servers\": \"xxx\"\r\n    },\r\n    \"taskCount\": 1,\r\n    \"replicas\": 2,\r\n    \"taskDuration\": \"PT24H\"\r\n  }\r\n}\r\n\r\n```\r\n\r\nNote that i had updated our quantiles sketch extension manually with the bugfix update, so that is not relevant here.\r\n\r\nIs there anything that needs to be modified in the spec above to allow druid to compact it without issues?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379895135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379899451","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-379899451","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":379899451,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTg5OTQ1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T21:27:39Z","updated_at":"2018-04-09T21:27:39Z","author_association":"CONTRIBUTOR","body":"@pdeva thank you for the report! I'm making a patch for this bug.\r\n\r\nDruid stores metadata for each segment. The metadata contains some meta information of a segment like timestamp spec, query granularity, a flag to indicate the segment is rolled up, and so on. This information is stored in a separate `meta.smoosh` file when a segment is stored. \r\n\r\nThe problem is that most fields of metadata can be `null`. `null` in metadata means that Druid can't determine that information. For example, let me suppose we have two segments to merge into a single segment. If one of them was rolled up (`isRollup` = true) but another wasn't (`isRollup` = false), `isRollup` is set to `null` for the new merged segment because we can't decide it. \r\n\r\n`compactionTask` uses metadata to get the information about aggregators and `isRollup` of input segments. So, you can avoid this issue by using `indexTask` instead of `compactionTask` which requires to specify the whole dataSchema in the task spec.\r\n\r\n> - Should the task exit with SUCCESS or FAILED if it cannot figure out how to compact the segments?\r\n> - How will the auto compacter handle this?\r\n\r\n@gianm good point. I think the task complete state should be FAILED to let users know the compaction failed. \r\n\r\nThis kind of bug will make the compactor to try to compact the same interval forever. Currently, since this will occupy only one task slot, remaining intervals will be compacted if users have enough task slots for compaction. However, we need something to handle this kind of infinite compaction failures in a nicer way. Maintaining a blacklist for failed intervals might be a solution. Users can reset the blacklist once they fix their problems. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379899451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379900449","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-379900449","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":379900449,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkwMDQ0OQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T21:31:18Z","updated_at":"2018-04-09T21:31:18Z","author_association":"CONTRIBUTOR","body":"@jihoonson \r\n>if one of them was rolled up (isRollup = true) but another wasn't (isRollup = false)\r\n\r\nmy question is, given my above supervisor spec, under what condition would `isRollup` be set to `false` or `null`? \r\nfrom the looks of the supervisor spec, its fairly clear about rolling every segment to `day` level granularity.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379900449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379912773","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-379912773","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":379912773,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkxMjc3Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T22:25:21Z","updated_at":"2018-04-09T22:25:21Z","author_association":"CONTRIBUTOR","body":"I also changed the constructor of `Metadata` which is a `PublicApi`. I will revert this change when merging this into 0.12.1.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379912773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379915019","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-379915019","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":379915019,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkxNTAxOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T22:36:15Z","updated_at":"2018-04-09T22:36:15Z","author_association":"CONTRIBUTOR","body":"@pdeva are you running only kafka index tasks for the same dataSource? I think you might be better to debug what changed it. You can check which segment has a null or false `isRollup` in metadata, and once you find such a segment, you can check which task or operation changed it from logs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379915019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379917501","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-379917501","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":379917501,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkxNzUwMQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T22:47:59Z","updated_at":"2018-04-09T22:47:59Z","author_association":"CONTRIBUTOR","body":"@jihoonson yes only kafka indexing was used. nothing else.\r\n\r\ni got the metadata.\r\n\r\n```\r\n{\r\n  \"queryType\":\"segmentMetadata\",\r\n  \"dataSource\":\"pctile-hour\",\r\n  \"intervals\":[\"2018-04-08T00:00:00.000Z/2018-04-09T00:00:00.000Z\"]\r\n}\r\n```\r\n\r\nresult:\r\n\r\n```\r\n[\r\n    {\r\n        \"id\": \"pctile-hour_2018-04-08T00:00:00.000Z_2018-04-09T00:00:00.000Z_2018-04-07T23:59:01.257Z\",\r\n        \"intervals\": [\r\n            \"2018-04-08T00:00:00.000Z/2018-04-09T00:00:00.000Z\"\r\n        ],\r\n        \"columns\": {\r\n            \"__time\": {\r\n                \"type\": \"LONG\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": null,\r\n                \"minValue\": null,\r\n                \"maxValue\": null,\r\n                \"errorMessage\": null\r\n            },\r\n            \"accountid\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 44,\r\n                \"minValue\": \"52c7e28eebb26a86fb1505b5\",\r\n                \"maxValue\": \"5ac81949e4b03fa758538302\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"appid\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 328,\r\n                \"minValue\": \"53c3f5dd0cf23a3c0bb94a8f\",\r\n                \"maxValue\": \"5ac81ed3547efa8194ae0570\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"count\": {\r\n                \"type\": \"LONG\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": null,\r\n                \"minValue\": null,\r\n                \"maxValue\": null,\r\n                \"errorMessage\": null\r\n            },\r\n            \"jvmid\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 471,\r\n                \"minValue\": \"54ca377db3690af75ba4cf8e\",\r\n                \"maxValue\": \"5aca1ee8547efa8194ae0dc0\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"metrictype\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 1,\r\n                \"minValue\": \"TXN\",\r\n                \"maxValue\": \"TXN\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"name\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 4743,\r\n                \"minValue\": \"/ (GET)\",\r\n                \"maxValue\": \"/{product: ide|rm|ci}/componentDetails/list (GET)\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"value\": {\r\n                \"type\": \"quantilesDoublesSketch\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": null,\r\n                \"minValue\": null,\r\n                \"maxValue\": null,\r\n                \"errorMessage\": null\r\n            }\r\n        },\r\n        \"size\": 0,\r\n        \"numRows\": 64336,\r\n        \"aggregators\": null,\r\n        \"timestampSpec\": null,\r\n        \"queryGranularity\": null,\r\n        \"rollup\": null\r\n    },\r\n    {\r\n        \"id\": \"pctile-hour_2018-04-08T00:00:00.000Z_2018-04-09T00:00:00.000Z_2018-04-07T23:59:01.257Z_1\",\r\n        \"intervals\": [\r\n            \"2018-04-08T00:00:00.000Z/2018-04-09T00:00:00.000Z\"\r\n        ],\r\n        \"columns\": {\r\n            \"__time\": {\r\n                \"type\": \"LONG\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": null,\r\n                \"minValue\": null,\r\n                \"maxValue\": null,\r\n                \"errorMessage\": null\r\n            },\r\n            \"accountid\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 41,\r\n                \"minValue\": \"52c7e28eebb26a86fb1505b5\",\r\n                \"maxValue\": \"5ac81949e4b03fa758538302\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"appid\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 317,\r\n                \"minValue\": \"53c3f5dd0cf23a3c0bb94a8f\",\r\n                \"maxValue\": \"5ac81ed3547efa8194ae0570\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"count\": {\r\n                \"type\": \"LONG\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": null,\r\n                \"minValue\": null,\r\n                \"maxValue\": null,\r\n                \"errorMessage\": null\r\n            },\r\n            \"jvmid\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 447,\r\n                \"minValue\": \"54ca377db3690af75ba4cf8e\",\r\n                \"maxValue\": \"5acaabca547efa8194ae0e77\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"metrictype\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 1,\r\n                \"minValue\": \"TXN\",\r\n                \"maxValue\": \"TXN\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"name\": {\r\n                \"type\": \"STRING\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": 3930,\r\n                \"minValue\": \"/ (GET)\",\r\n                \"maxValue\": \"/{product: ide|rm|ci}/componentDetails/list (GET)\",\r\n                \"errorMessage\": null\r\n            },\r\n            \"value\": {\r\n                \"type\": \"quantilesDoublesSketch\",\r\n                \"hasMultipleValues\": false,\r\n                \"size\": 0,\r\n                \"cardinality\": null,\r\n                \"minValue\": null,\r\n                \"maxValue\": null,\r\n                \"errorMessage\": null\r\n            }\r\n        },\r\n        \"size\": 0,\r\n        \"numRows\": 45479,\r\n        \"aggregators\": null,\r\n        \"timestampSpec\": null,\r\n        \"queryGranularity\": null,\r\n        \"rollup\": null\r\n    }\r\n]\r\n```\r\n\r\nseems both shards have `rollup` set to `null`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379917501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379921894","html_url":"https://github.com/apache/druid/pull/5614#issuecomment-379921894","issue_url":"https://api.github.com/repos/apache/druid/issues/5614","id":379921894,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkyMTg5NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T23:11:31Z","updated_at":"2018-04-09T23:11:31Z","author_association":"CONTRIBUTOR","body":"There are some checks in AuthorizationUtils that check for bugs where the code authorizes a request multiple times:\r\n\r\n```\r\n    if (request.getAttribute(AuthConfig.DRUID_AUTHORIZATION_CHECKED) != null) {\r\n      throw new ISE(\"Request already had authorization check.\");\r\n    }\r\n```\r\n\r\nPrior to this patch, UNSECURED_PATHS only contained paths that did not have authorization checks.\r\n\r\nWith this patch, this check would need to be adjusted so that these functions no-op when the path is already allowed through the unsecured paths config.\r\n\r\nPerhaps `UnsecuredResourceFilter` could add a new flag that indicates the request was allowed through the unsecured paths configuration.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379921894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379923397","html_url":"https://github.com/apache/druid/pull/5596#issuecomment-379923397","issue_url":"https://api.github.com/repos/apache/druid/issues/5596","id":379923397,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkyMzM5Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T23:20:22Z","updated_at":"2018-04-09T23:20:22Z","author_association":"CONTRIBUTOR","body":":+1: after CI","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379923397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379924349","html_url":"https://github.com/apache/druid/pull/5596#issuecomment-379924349","issue_url":"https://api.github.com/repos/apache/druid/issues/5596","id":379924349,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkyNDM0OQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-09T23:26:12Z","updated_at":"2018-04-09T23:26:12Z","author_association":"CONTRIBUTOR","body":"  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379924349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379936789","html_url":"https://github.com/apache/druid/pull/5598#issuecomment-379936789","issue_url":"https://api.github.com/repos/apache/druid/issues/5598","id":379936789,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkzNjc4OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T00:37:36Z","updated_at":"2018-04-10T00:37:36Z","author_association":"CONTRIBUTOR","body":"@jihoonson can you backport this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379936789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379938348","html_url":"https://github.com/apache/druid/pull/5598#issuecomment-379938348","issue_url":"https://api.github.com/repos/apache/druid/issues/5598","id":379938348,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTkzODM0OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T00:47:36Z","updated_at":"2018-04-10T00:47:36Z","author_association":"CONTRIBUTOR","body":"@fjy sure. Raised https://github.com/druid-io/druid/pull/5616.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379938348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379954207","html_url":"https://github.com/apache/druid/pull/5556#issuecomment-379954207","issue_url":"https://api.github.com/repos/apache/druid/issues/5556","id":379954207,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk1NDIwNw==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T02:31:47Z","updated_at":"2018-04-10T02:31:47Z","author_association":"CONTRIBUTOR","body":"@jihoonson I have modified code according to your comments. Could you please go on to review it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379954207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379961769","html_url":"https://github.com/apache/druid/issues/5562#issuecomment-379961769","issue_url":"https://api.github.com/repos/apache/druid/issues/5562","id":379961769,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk2MTc2OQ==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T03:23:08Z","updated_at":"2018-04-10T03:24:11Z","author_association":"CONTRIBUTOR","body":"@gianm My version is 0.9.2 , for example, there is a datasource named **A**  , then */druid/discovery/firehose:druid:overlord:A-003-0000-0000/a6e77875-b777-4fb2-8457-1441b7788253* and */druid/discovery/A-003-0000-0000/b6e5f62a-c3cc-4cff-8f82-1104a5d047fc* could exist in zookeeper, after realtime task done, **b6e5f62a-c3cc-4cff-8f82-1104a5d047fc** and **b6e5f62a-c3cc-4cff-8f82-1104a5d047fc** could be removed ,but **firehose:druid:overlord:A-003-0000-0000** and **A-003-0000-0000** still exist, please correct me if i am wrong.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379961769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379975762","html_url":"https://github.com/apache/druid/pull/5619#issuecomment-379975762","issue_url":"https://api.github.com/repos/apache/druid/issues/5619","id":379975762,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk3NTc2Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T05:10:56Z","updated_at":"2018-04-10T05:10:56Z","author_association":"CONTRIBUTOR","body":" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379975762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379983162","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-379983162","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":379983162,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk4MzE2Mg==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T05:58:32Z","updated_at":"2018-04-10T05:58:32Z","author_association":"CONTRIBUTOR","body":"investigating further:\r\n\r\n- all segments created by Kafka Indexing Service (KIS) have `rollup` set to `null`\r\n- doing a compact on another data source (ingested by KIS) `pctile-minute` works fine, even though its segments have `rollup: null` too.\r\n- the task that KIS creates does have `rollup: true` set, however the generated segments have `rollup: null`. Here is an example of the task submission from the logs\r\n\r\n```\r\n2018-04-09 14:28:16,476 INFO i.d.i.w.e.ExecutorLifecycle [main] Running with task: {\r\n  \"type\" : \"index_kafka\",\r\n  \"id\" : \"index_kafka_pctile-hour_00e3999bb72c9c8_oakmcogn\",\r\n  \"resource\" : {\r\n    \"availabilityGroup\" : \"index_kafka_pctile-hour_00e3999bb72c9c8\",\r\n    \"requiredCapacity\" : 1\r\n  },\r\n  \"dataSchema\" : {\r\n    \"dataSource\" : \"pctile-hour\",\r\n    \"parser\" : {\r\n      \"type\" : \"string\",\r\n      \"parseSpec\" : {\r\n        \"format\" : \"json\",\r\n        \"timestampSpec\" : {\r\n          \"column\" : \"timestamp\",\r\n          \"format\" : \"auto\"\r\n        },\r\n        \"dimensionsSpec\" : {\r\n          \"dimensions\" : [ \"accountid\", \"appid\", \"jvmid\", \"metrictype\", \"name\" ]\r\n        }\r\n      }\r\n    },\r\n    \"metricsSpec\" : [ {\r\n      \"type\" : \"count\",\r\n      \"name\" : \"count\"\r\n    }, {\r\n      \"type\" : \"quantilesDoublesSketch\",\r\n      \"name\" : \"value\",\r\n      \"fieldName\" : \"value\",\r\n      \"k\" : 512\r\n    } ],\r\n    \"granularitySpec\" : {\r\n      \"type\" : \"uniform\",\r\n      \"segmentGranularity\" : \"DAY\",\r\n      \"queryGranularity\" : \"HOUR\",\r\n      \"rollup\" : true,\r\n      \"intervals\" : null\r\n    },\r\n    \"transformSpec\" : {\r\n      \"filter\" : null,\r\n      \"transforms\" : [ ]\r\n    }\r\n  },\r\n  \"tuningConfig\" : {\r\n    \"type\" : \"KafkaTuningConfig\",\r\n    \"maxRowsInMemory\" : 75000,\r\n    \"maxRowsPerSegment\" : 5000000,\r\n    \"intermediatePersistPeriod\" : \"PT10M\",\r\n    \"basePersistDirectory\" : \"/tmp/1522938445282-0\",\r\n    \"maxPendingPersists\" : 0,\r\n    \"indexSpec\" : {\r\n      \"bitmap\" : {\r\n        \"type\" : \"concise\"\r\n      },\r\n      \"dimensionCompression\" : \"lz4\",\r\n      \"metricCompression\" : \"lz4\",\r\n      \"longEncoding\" : \"longs\"\r\n    },\r\n    \"buildV9Directly\" : true,\r\n    \"reportParseExceptions\" : false,\r\n    \"handoffConditionTimeout\" : 0,\r\n    \"resetOffsetAutomatically\" : false,\r\n    \"segmentWriteOutMediumFactory\" : null\r\n  },\r\n  \"ioConfig\" : {\r\n    \"type\" : \"kafka\",\r\n    \"baseSequenceName\" : \"index_kafka_pctile-hour_00e3999bb72c9c8\",\r\n    \"startPartitions\" : {\r\n      \"topic\" : \"dupercentile\",\r\n      \"partitionOffsetMap\" : {\r\n        \"0\" : 1215429707\r\n      }\r\n    },\r\n    \"endPartitions\" : {\r\n      \"topic\" : \"dupercentile\",\r\n      \"partitionOffsetMap\" : {\r\n        \"0\" : 9223372036854775807\r\n      }\r\n    },\r\n    \"consumerProperties\" : {\r\n      \"bootstrap.servers\" : \"xx\"\r\n    },\r\n    \"useTransaction\" : true,\r\n    \"pauseAfterRead\" : false,\r\n    \"minimumMessageTime\" : null,\r\n    \"maximumMessageTime\" : null,\r\n    \"skipOffsetGaps\" : false\r\n  },\r\n  \"context\" : {\r\n    \"checkpoints\" : \"{\\\"0\\\":{\\\"0\\\":1215429707}}\",\r\n    \"IS_INCREMENTAL_HANDOFF_SUPPORTED\" : true\r\n  },\r\n  \"groupId\" : \"index_kafka_pctile-hour\",\r\n  \"dataSource\" : \"pctile-hour\"\r\n}\r\n```\r\n\r\ni feel this deserves another issue for KIS","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379983162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379984192","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-379984192","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":379984192,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk4NDE5Mg==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T06:04:53Z","updated_at":"2018-04-10T06:04:53Z","author_association":"CONTRIBUTOR","body":"@gianm can this be added to 0.12.1 milestone please","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379984192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379984941","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-379984941","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":379984941,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk4NDk0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T06:09:11Z","updated_at":"2018-04-10T06:09:11Z","author_association":"CONTRIBUTOR","body":"@pdeva I would say sure if there is a patch available, but I don't want to hold up 0.12.1 for this if we have not yet investigated the cause and written a patch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379984941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379986856","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-379986856","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":379986856,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk4Njg1Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T06:19:36Z","updated_at":"2018-04-10T06:19:36Z","author_association":"CONTRIBUTOR","body":"The integration test fails in my laptop as well. Also, when I tested the below query with my local cluster, I met this error.\r\n\r\n```\r\n{\r\n  \"query\" : \"select sum(cnt) from ( select cityName, sum(cnt) cnt from ( select countryName, cityName, count(*) cnt from druid.wikiticker where countryName like '%a%' group by cityName, countryName) t1 group by cityName ) t2\",\r\n  \"context\": {\r\n    \"forceNestedQueryPushDown\": true\r\n  }\r\n}\r\n```\r\n\r\n```\r\n2018-04-10T05:48:07,642 ERROR [qtp386040589-63[groupBy_[wikiticker]_02d4a8bd-30db-40a9-9520-ae825ac508b2]] io.druid.server.QueryResource - Exception handling request: {class=io.druid.server.QueryResource, exceptionType=class java.lang.UnsupportedOperationException, exceptionMessage=data source type 'io.druid.query.QueryDataSource' unsupported, exception=java.lang.UnsupportedOperationException: data source type 'io.druid.query.QueryDataSource' unsupported, query=GroupByQuery{dataSource='GroupByQuery{dataSource='GroupByQuery{dataSource='wikiticker', querySegmentSpec=MultipleIntervalSegmentSpec{intervals=[-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z]}, virtualColumns=[], limitSpec=NoopLimitSpec, dimFilter=countryName LIKE '%a%', granularity=AllGranularity, dimensions=[DefaultDimensionSpec{dimension='cityName', outputName='d0', outputType='STRING'}, DefaultDimensionSpec{dimension='countryName', outputName='d1', outputType='STRING'}], aggregatorSpecs=[CountAggregatorFactory{name='a0'}], postAggregatorSpecs=[], havingSpec=null}', querySegmentSpec=MultipleIntervalSegmentSpec{intervals=[-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z]}, virtualColumns=[], limitSpec=NoopLimitSpec, dimFilter=null, granularity=AllGranularity, dimensions=[DefaultDimensionSpec{dimension='d0', outputName='_d0', outputType='STRING'}], aggregatorSpecs=[LongSumAggregatorFactory{fieldName='a0', expression='null', name='_a0'}], postAggregatorSpecs=[], havingSpec=null}', querySegmentSpec=MultipleSpecificSegmentSpec{descriptors=[SegmentDescriptor{interval=2015-09-12T00:00:00.000Z/2015-09-12T01:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T01:00:00.000Z/2015-09-12T02:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T02:00:00.000Z/2015-09-12T03:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T03:00:00.000Z/2015-09-12T04:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T04:00:00.000Z/2015-09-12T05:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T05:00:00.000Z/2015-09-12T06:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T06:00:00.000Z/2015-09-12T07:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T07:00:00.000Z/2015-09-12T08:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T08:00:00.000Z/2015-09-12T09:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T09:00:00.000Z/2015-09-12T10:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T10:00:00.000Z/2015-09-12T11:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T11:00:00.000Z/2015-09-12T12:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T12:00:00.000Z/2015-09-12T13:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T13:00:00.000Z/2015-09-12T14:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T14:00:00.000Z/2015-09-12T15:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T15:00:00.000Z/2015-09-12T16:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T16:00:00.000Z/2015-09-12T17:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T17:00:00.000Z/2015-09-12T18:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T18:00:00.000Z/2015-09-12T19:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T19:00:00.000Z/2015-09-12T20:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T20:00:00.000Z/2015-09-12T21:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T21:00:00.000Z/2015-09-12T22:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T22:00:00.000Z/2015-09-12T23:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}, SegmentDescriptor{interval=2015-09-12T23:00:00.000Z/2015-09-13T00:00:00.000Z, version='2018-04-10T05:35:49.715Z', partitionNumber=0}]}, virtualColumns=[], limitSpec=NoopLimitSpec, dimFilter=null, granularity=AllGranularity, dimensions=[], aggregatorSpecs=[LongSumAggregatorFactory{fieldName='_a0', expression='null', name='a0'}], postAggregatorSpecs=[], havingSpec=null}, peer=10.0.0.52}\r\njava.lang.UnsupportedOperationException: data source type 'io.druid.query.QueryDataSource' unsupported\r\n        at io.druid.server.coordination.ServerManager.getQueryRunnerForIntervals(ServerManager.java:130) ~[druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at io.druid.query.spec.MultipleIntervalSegmentSpec.lookup(MultipleIntervalSegmentSpec.java:57) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at io.druid.query.BaseQuery.getRunner(BaseQuery.java:113) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at io.druid.query.QueryPlus.run(QueryPlus.java:145) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at io.druid.server.QueryLifecycle.execute(QueryLifecycle.java:257) ~[druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at io.druid.server.QueryResource.doPost(QueryResource.java:184) [druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n        at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409) [jersey-server-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409) [jersey-servlet-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:558) [jersey-servlet-1.19.3.jar:1.19.3]\r\n        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:733) [jersey-servlet-1.19.3.jar:1.19.3]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]\r\n        at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:286) [guice-servlet-4.1.0.jar:?]\r\n        at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:276) [guice-servlet-4.1.0.jar:?]\r\n        at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:181) [guice-servlet-4.1.0.jar:?]\r\n        at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91) [guice-servlet-4.1.0.jar:?]\r\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [guice-servlet-4.1.0.jar:?]\r\n        at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-4.1.0.jar:?]\r\n        at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:135) [guice-servlet-4.1.0.jar:?]\r\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at io.druid.server.security.PreResponseAuthorizationCheckFilter.doFilter(PreResponseAuthorizationCheckFilter.java:84) [druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at io.druid.server.security.AllowAllAuthenticator$1.doFilter(AllowAllAuthenticator.java:85) [druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at io.druid.server.security.AuthenticationWrappingFilter.doFilter(AuthenticationWrappingFilter.java:60) [druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at io.druid.server.security.SecuritySanityCheckFilter.doFilter(SecuritySanityCheckFilter.java:86) [druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:224) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:493) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:169) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.Server.handle(Server.java:534) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379986856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/379986925","html_url":"https://github.com/apache/druid/pull/5556#issuecomment-379986925","issue_url":"https://api.github.com/repos/apache/druid/issues/5556","id":379986925,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTk4NjkyNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T06:19:58Z","updated_at":"2018-04-10T06:19:58Z","author_association":"CONTRIBUTOR","body":"@zhangxinyu1 sure. I'll review tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/379986925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380025637","html_url":"https://github.com/apache/druid/issues/5476#issuecomment-380025637","issue_url":"https://api.github.com/repos/apache/druid/issues/5476","id":380025637,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDAyNTYzNw==","user":{"login":"pawangoyalaca","id":38059086,"node_id":"MDQ6VXNlcjM4MDU5MDg2","avatar_url":"https://avatars.githubusercontent.com/u/38059086?v=4","gravatar_id":"","url":"https://api.github.com/users/pawangoyalaca","html_url":"https://github.com/pawangoyalaca","followers_url":"https://api.github.com/users/pawangoyalaca/followers","following_url":"https://api.github.com/users/pawangoyalaca/following{/other_user}","gists_url":"https://api.github.com/users/pawangoyalaca/gists{/gist_id}","starred_url":"https://api.github.com/users/pawangoyalaca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pawangoyalaca/subscriptions","organizations_url":"https://api.github.com/users/pawangoyalaca/orgs","repos_url":"https://api.github.com/users/pawangoyalaca/repos","events_url":"https://api.github.com/users/pawangoyalaca/events{/privacy}","received_events_url":"https://api.github.com/users/pawangoyalaca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T08:55:37Z","updated_at":"2018-04-10T08:55:37Z","author_association":"NONE","body":"I am also facing the same issue.Did you able to find any solution.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380025637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380125836","html_url":"https://github.com/apache/druid/issues/4907#issuecomment-380125836","issue_url":"https://api.github.com/repos/apache/druid/issues/4907","id":380125836,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDEyNTgzNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T14:41:46Z","updated_at":"2018-04-10T14:41:46Z","author_association":"CONTRIBUTOR","body":"https://github.com/druid-io/druid/issues/5190 I'm going to close down that one since its newer","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380125836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380125947","html_url":"https://github.com/apache/druid/issues/5190#issuecomment-380125947","issue_url":"https://api.github.com/repos/apache/druid/issues/5190","id":380125947,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDEyNTk0Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T14:41:59Z","updated_at":"2018-04-10T14:41:59Z","author_association":"CONTRIBUTOR","body":"duplicate","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380125947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380134443","html_url":"https://github.com/apache/druid/issues/5562#issuecomment-380134443","issue_url":"https://api.github.com/repos/apache/druid/issues/5562","id":380134443,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDEzNDQ0Mw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T15:04:19Z","updated_at":"2018-04-10T15:04:19Z","author_association":"CONTRIBUTOR","body":"**firehose:druid:overlord:A-003-0000-0000** and **A-003-0000-0000** will exist, because this is how _Curator Discovery_ works. _Curator Discovery_ creates a node with all its parents for a service that means `<service-name>/<generated-id>`, while it deletes only a child `<generated-id>`.\r\norg/apache/curator/curator-x-discovery/2.11.0/curator-x-discovery-2.11.0-sources.jar!/org/apache/curator/x/discovery/details/ServiceDiscoveryImpl.java:235\r\n```java\r\n client.create().creatingParentContainersIfNeeded().withMode(mode).forPath(path, bytes);\r\n```\r\norg/apache/curator/curator-x-discovery/2.11.0/curator-x-discovery-2.11.0-sources.jar!/org/apache/curator/x/discovery/details/ServiceDiscoveryImpl.java:516\r\n```java\r\n String path = pathForInstance(entry.service.getName(), entry.service.getId());\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380134443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380166774","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-380166774","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":380166774,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE2Njc3NA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T16:36:37Z","updated_at":"2018-04-10T16:36:37Z","author_association":"MEMBER","body":"@leventov: @b-slim: Are you guys done with the review. Any more comments here ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380166774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380169303","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-380169303","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":380169303,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE2OTMwMw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T16:44:10Z","updated_at":"2018-04-10T16:44:10Z","author_association":"CONTRIBUTOR","body":"@gianm is there someone i can tag for this issue. i do believe this deserves some priority as it seems to invalidate segments produced by Kafka indexing task.\r\ni dont know enough about the druid internals in this area to find the root cause but am willing to cooperate to the extent possible as far as providing any relevant info is concerned","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380169303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380176541","html_url":"https://github.com/apache/druid/issues/5476#issuecomment-380176541","issue_url":"https://api.github.com/repos/apache/druid/issues/5476","id":380176541,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE3NjU0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T17:08:01Z","updated_at":"2018-04-10T17:08:01Z","author_association":"CONTRIBUTOR","body":"This looks to be a Hive error which should be reported to the Hive community. However, maybe someone knows about this. @b-slim do you have any idea?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380176541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380180052","html_url":"https://github.com/apache/druid/issues/5476#issuecomment-380180052","issue_url":"https://api.github.com/repos/apache/druid/issues/5476","id":380180052,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE4MDA1Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T17:19:19Z","updated_at":"2018-04-10T17:19:19Z","author_association":"CONTRIBUTOR","body":"indeed this is a HIVE related issue it was fixed by [3483] (https://github.com/druid-io/druid/pull/3483), but you need to make sure that the hive-druid storage handler is built with this Druid fix. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380180052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380181350","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-380181350","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":380181350,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE4MTM1MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T17:23:39Z","updated_at":"2018-04-10T17:23:39Z","author_association":"CONTRIBUTOR","body":"Specific result with `null`: https://github.com/druid-io/druid/issues/5611#issuecomment-379917501","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380181350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380182030","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-380182030","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":380182030,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE4MjAzMA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T17:25:46Z","updated_at":"2018-04-10T17:25:46Z","author_association":"CONTRIBUTOR","body":"NOTE: the `null` comes from segment metadata query, the `descriptor.json` in deep storage might be a better indicator on what is in storage.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380182030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380186044","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-380186044","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":380186044,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE4NjA0NA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T17:38:22Z","updated_at":"2018-04-10T17:38:22Z","author_association":"CONTRIBUTOR","body":"ok specifying `\"analysisTypes\": [\"rollup\"]` in segment metadata query it seems the other segments do have `rollup: true`, so this may be a non-issue so far. i will wait for a few days and let more segments generate. if the issue doesnt resurface, i will close it","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380186044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380190245","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-380190245","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":380190245,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE5MDI0NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T17:51:55Z","updated_at":"2018-04-10T17:51:55Z","author_association":"CONTRIBUTOR","body":"@drcrallen thanks. It looks that `rollup` is not stored at all in that file. \r\n\r\n@pdeva thanks for digging this. I'll check further.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380190245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380206451","html_url":"https://github.com/apache/druid/pull/5492#issuecomment-380206451","issue_url":"https://api.github.com/repos/apache/druid/issues/5492","id":380206451,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDIwNjQ1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T18:43:51Z","updated_at":"2018-04-10T18:43:51Z","author_association":"CONTRIBUTOR","body":"I temporarily disabled metrics reporting for `index_single_phase_parallel` added in https://github.com/druid-io/druid/pull/5418. I'll do it a follow-up pr.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380206451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380229269","html_url":"https://github.com/apache/druid/issues/5611#issuecomment-380229269","issue_url":"https://api.github.com/repos/apache/druid/issues/5611","id":380229269,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDIyOTI2OQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T20:04:44Z","updated_at":"2018-04-10T20:04:44Z","author_association":"CONTRIBUTOR","body":"@jihoonson @drcrallen please move this discussion to #5620 \r\nif #5613 is mergred, i can close this issue.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380229269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380229354","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-380229354","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":380229354,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDIyOTM1NA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T20:05:03Z","updated_at":"2018-04-10T20:05:03Z","author_association":"CONTRIBUTOR","body":"is there a reason why this is no longer included for 0.12.1?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380229354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380229648","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-380229648","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":380229648,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDIyOTY0OA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T20:06:09Z","updated_at":"2018-04-10T20:06:09Z","author_association":"CONTRIBUTOR","body":"i can confirm that new segments have rollup set to true. closing this for now. will reopen if this reemerges","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380229648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380250330","html_url":"https://github.com/apache/druid/pull/5614#issuecomment-380250330","issue_url":"https://api.github.com/repos/apache/druid/issues/5614","id":380250330,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDI1MDMzMA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T21:20:18Z","updated_at":"2018-04-10T21:20:37Z","author_association":"CONTRIBUTOR","body":"Had one comment, latest changes look good aside from that, there are some real unit test failures with the mocks not expecting the new attribute\r\n\r\nCan you also add something to the integration tests? There's already a test set up in `ITBasicAuthConfigurationTest`, I think you can add a normally secure path to this new config and call `makeRequest` to that path with an uncredentialed http client for each node (like in `checkNodeAccess`)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380250330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380281263","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-380281263","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":380281263,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDI4MTI2Mw==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-10T23:41:56Z","updated_at":"2018-04-10T23:41:56Z","author_association":"CONTRIBUTOR","body":"Thanks for the detailed feedback, @jihoonson . I will review it and reply by tonight.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380281263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380296684","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-380296684","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":380296684,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDI5NjY4NA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T01:24:35Z","updated_at":"2018-04-11T01:24:35Z","author_association":"CONTRIBUTOR","body":"@pdeva we'll backport it","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380296684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380300681","html_url":"https://github.com/apache/druid/issues/5562#issuecomment-380300681","issue_url":"https://api.github.com/repos/apache/druid/issues/5562","id":380300681,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDMwMDY4MQ==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T01:50:51Z","updated_at":"2018-04-11T01:50:51Z","author_association":"CONTRIBUTOR","body":"@egor-ryashin thanks for your reply, \r\n> Curator Discovery creates a node with all its parents for a service that means `<service-name>/<generated-id>`, while it deletes only a child `<generated-id>`.\r\n\r\nyes,  my suggestion is to delete those redundant  `<service-name>` znodes , nowadays , i removed them manually.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380300681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380302236","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-380302236","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":380302236,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDMwMjIzNg==","user":{"login":"palanieppan-m","id":27789414,"node_id":"MDQ6VXNlcjI3Nzg5NDE0","avatar_url":"https://avatars.githubusercontent.com/u/27789414?v=4","gravatar_id":"","url":"https://api.github.com/users/palanieppan-m","html_url":"https://github.com/palanieppan-m","followers_url":"https://api.github.com/users/palanieppan-m/followers","following_url":"https://api.github.com/users/palanieppan-m/following{/other_user}","gists_url":"https://api.github.com/users/palanieppan-m/gists{/gist_id}","starred_url":"https://api.github.com/users/palanieppan-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palanieppan-m/subscriptions","organizations_url":"https://api.github.com/users/palanieppan-m/orgs","repos_url":"https://api.github.com/users/palanieppan-m/repos","events_url":"https://api.github.com/users/palanieppan-m/events{/privacy}","received_events_url":"https://api.github.com/users/palanieppan-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T02:00:53Z","updated_at":"2018-04-11T02:00:53Z","author_association":"CONTRIBUTOR","body":"@gianm @xvrl what is a proposal that would be acceptable? Should we have original behavior and restrict it to be used only by router? Is the router using this logic through PeriodBroadcastDistributionRule and IntervalBroadcastDistributionRule?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380302236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380302939","html_url":"https://github.com/apache/druid/issues/5562#issuecomment-380302939","issue_url":"https://api.github.com/repos/apache/druid/issues/5562","id":380302939,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDMwMjkzOQ==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T02:05:31Z","updated_at":"2018-04-11T02:05:31Z","author_association":"CONTRIBUTOR","body":"Because of `client.delete().guaranteed().forPath(path) ` in **Curator**, it seems that this problem can not be resolved friendly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380302939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380358104","html_url":"https://github.com/apache/druid/pull/5514#issuecomment-380358104","issue_url":"https://api.github.com/repos/apache/druid/issues/5514","id":380358104,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDM1ODEwNA==","user":{"login":"zhztheplayer","id":11284395,"node_id":"MDQ6VXNlcjExMjg0Mzk1","avatar_url":"https://avatars.githubusercontent.com/u/11284395?v=4","gravatar_id":"","url":"https://api.github.com/users/zhztheplayer","html_url":"https://github.com/zhztheplayer","followers_url":"https://api.github.com/users/zhztheplayer/followers","following_url":"https://api.github.com/users/zhztheplayer/following{/other_user}","gists_url":"https://api.github.com/users/zhztheplayer/gists{/gist_id}","starred_url":"https://api.github.com/users/zhztheplayer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhztheplayer/subscriptions","organizations_url":"https://api.github.com/users/zhztheplayer/orgs","repos_url":"https://api.github.com/users/zhztheplayer/repos","events_url":"https://api.github.com/users/zhztheplayer/events{/privacy}","received_events_url":"https://api.github.com/users/zhztheplayer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T07:39:41Z","updated_at":"2018-04-11T07:40:07Z","author_association":"MEMBER","body":"@drcrallen\r\n\r\nThanks for the suggestions, in my current circumstance, to introduce a new service to manage logs could be a little expensive, that is also why I made these changes. But I could anyway try to do that when the deployment of a logging service becomes considerable, and thank you.\r\n\r\nAnd should I close this for now?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380358104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380363424","html_url":"https://github.com/apache/druid/issues/5623#issuecomment-380363424","issue_url":"https://api.github.com/repos/apache/druid/issues/5623","id":380363424,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDM2MzQyNA==","user":{"login":"EungsopYoo","id":10965811,"node_id":"MDQ6VXNlcjEwOTY1ODEx","avatar_url":"https://avatars.githubusercontent.com/u/10965811?v=4","gravatar_id":"","url":"https://api.github.com/users/EungsopYoo","html_url":"https://github.com/EungsopYoo","followers_url":"https://api.github.com/users/EungsopYoo/followers","following_url":"https://api.github.com/users/EungsopYoo/following{/other_user}","gists_url":"https://api.github.com/users/EungsopYoo/gists{/gist_id}","starred_url":"https://api.github.com/users/EungsopYoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EungsopYoo/subscriptions","organizations_url":"https://api.github.com/users/EungsopYoo/orgs","repos_url":"https://api.github.com/users/EungsopYoo/repos","events_url":"https://api.github.com/users/EungsopYoo/events{/privacy}","received_events_url":"https://api.github.com/users/EungsopYoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T08:00:06Z","updated_at":"2018-04-11T08:00:06Z","author_association":"NONE","body":"I think it would be better to add some performance regression tests.\r\nWe got a performance regression of coordinator in 0.12.0.\r\nIt will be reported soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380363424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380517314","html_url":"https://github.com/apache/druid/issues/5623#issuecomment-380517314","issue_url":"https://api.github.com/repos/apache/druid/issues/5623","id":380517314,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDUxNzMxNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T16:38:11Z","updated_at":"2018-04-11T16:38:11Z","author_association":"CONTRIBUTOR","body":"@EungsopYoo I believe this issue is about adding a test environment for testing coodinator functionalities. But, performance regression test also sounds good. Would you raise a new issue for it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380517314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380555140","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-380555140","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":380555140,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU1NTE0MA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T18:41:50Z","updated_at":"2018-04-11T18:42:57Z","author_association":"CONTRIBUTOR","body":"This pull request was opened about 4 months ago. What needs to be done to move this forward? Thank you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380555140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380560167","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-380560167","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":380560167,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU2MDE2Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T18:58:27Z","updated_at":"2018-04-11T18:58:27Z","author_association":"MEMBER","body":"@AlexanderSaydakov I will continue review of this PR","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380560167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380569660","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-380569660","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":380569660,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU2OTY2MA==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T19:32:00Z","updated_at":"2018-04-11T19:32:17Z","author_association":"CONTRIBUTOR","body":"> GroupByRowProcessor.process() is supposed to be called only when processing sub queries, but now it looks to be called when merging sub queries as well. I think it was for avoiding code duplication, but it can be improved by splitting them and extracting common code paths into utility methods.\r\n\r\nThe process method isn't doing any additional merges. The only change is to make it cognizant of the fact that the sub-query sequence it is processing in case of forcePushDown is now a result of running the pushed down nested query instead. \r\n\r\n>A groupBy v2 query requires to get a resource before query execution. We currently check there are enough number of merge buffers to execute a given query. Since historicals have processed only the inner-most query so far, they have always required a single merge buffer. However, they can process nested queries after this patch, resource preservation should be changed as well. Please see here for how the number of merge buffers is calculated for brokers.\r\n\r\nGood point. I will make sure that historicals have same number of merge buffers as broker. Although from the first look at the code, it seems like it it should, but I will make sure and hopefully add a test for the same too.\r\n\r\n >If I understand correctly, once forceNestedQueryPushDown is set to true, the inner most query is passed from GroupByQueryQueryToolChest to DirectDruidClient to find which historicals should receive the query, and then that the pushed down nested query is sent from DirectDruidClient. I think this kind of value hijacking can cause many potential bugs. Instead, I suggest to add an interface to Query to find the dataSource of the inner-most query.\r\n\r\nThanks. Let me see how can I make this cleaner. I am not the biggest fan of the approach I took, either.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380569660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380571602","html_url":"https://github.com/apache/druid/pull/5597#issuecomment-380571602","issue_url":"https://api.github.com/repos/apache/druid/issues/5597","id":380571602,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU3MTYwMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T19:39:16Z","updated_at":"2018-04-11T19:39:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution, can you please sign the CLA?\r\n\r\nhttp://druid.io/community/cla.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380571602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380571931","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-380571931","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":380571931,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU3MTkzMQ==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T19:40:32Z","updated_at":"2018-04-11T19:40:32Z","author_association":"CONTRIBUTOR","body":">The integration test fails in my laptop as well. Also, when I tested the below query with my local cluster, I met this error.\r\n\r\nDid you update the jar on the historicals too?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380571931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380595180","html_url":"https://github.com/apache/druid/pull/5614#issuecomment-380595180","issue_url":"https://api.github.com/repos/apache/druid/issues/5614","id":380595180,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU5NTE4MA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:04:30Z","updated_at":"2018-04-11T21:04:30Z","author_association":"MEMBER","body":"@jon-wei done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380595180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380596800","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-380596800","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":380596800,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU5NjgwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:10:22Z","updated_at":"2018-04-11T21:10:22Z","author_association":"CONTRIBUTOR","body":"Wait, if there's going to be a backport, then this issue should be milestoned as 0.12.1.\r\n\r\n@jihoonson, as the author do you think it make sense to backport it? (i.e. does the bug exist in 0.12.0 and is the fix relatively low risk as far as unrelated code is concerned)\r\n\r\nI'll unmilestone it until a decision is made.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380596800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380599281","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-380599281","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":380599281,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU5OTI4MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:20:09Z","updated_at":"2018-04-11T21:20:09Z","author_association":"CONTRIBUTOR","body":"@gianm I think this is worthwhile to backport. I understand your concern about unrelated code changes, but they will be reverted when backporting to 0.12 because unrelated code changes are mostly to make the `Metadata` immutable which is a `PublicApi` class. This shouldn't be included in minor releases.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380599281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380599496","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-380599496","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":380599496,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU5OTQ5Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:21:05Z","updated_at":"2018-04-11T21:21:05Z","author_association":"CONTRIBUTOR","body":"If you think it would be better to split this PR into two PRs for fixing NPE in compactionTask and making `Metadata` immutable, I'll do it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380599496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380599572","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380599572","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380599572,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU5OTU3Mg==","user":{"login":"sixtus","id":91857,"node_id":"MDQ6VXNlcjkxODU3","avatar_url":"https://avatars.githubusercontent.com/u/91857?v=4","gravatar_id":"","url":"https://api.github.com/users/sixtus","html_url":"https://github.com/sixtus","followers_url":"https://api.github.com/users/sixtus/followers","following_url":"https://api.github.com/users/sixtus/following{/other_user}","gists_url":"https://api.github.com/users/sixtus/gists{/gist_id}","starred_url":"https://api.github.com/users/sixtus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixtus/subscriptions","organizations_url":"https://api.github.com/users/sixtus/orgs","repos_url":"https://api.github.com/users/sixtus/repos","events_url":"https://api.github.com/users/sixtus/events{/privacy}","received_events_url":"https://api.github.com/users/sixtus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:21:21Z","updated_at":"2018-04-11T21:21:21Z","author_association":"CONTRIBUTOR","body":"it's very nasty because the nodes don't oom. they get stuck in limbo land and make queries stall.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380599572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380601825","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380601825","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380601825,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYwMTgyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:29:48Z","updated_at":"2018-04-11T21:29:48Z","author_association":"CONTRIBUTOR","body":"Can you tell what kinds of objects are being retained that shouldn't be? Maybe from looking through a heap histogram on an idle node for things that \"shouldn't\" be there.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380601825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380603565","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380603565","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380603565,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYwMzU2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:36:46Z","updated_at":"2018-04-11T21:36:46Z","author_association":"CONTRIBUTOR","body":"Can you tell if you had any exceptions that occurred in the `ParallelCombine.combine` method (or callees of it)? It looks like there is a resource leak that occurs if that happens.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380603565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380604481","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380604481","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380604481,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYwNDQ4MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:40:31Z","updated_at":"2018-04-11T21:40:31Z","author_association":"CONTRIBUTOR","body":"#5630 fixes that particular leak. I'm not sure if it's the one you saw or not.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380604481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380605724","html_url":"https://github.com/apache/druid/pull/5630#issuecomment-380605724","issue_url":"https://api.github.com/repos/apache/druid/issues/5630","id":380605724,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYwNTcyNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:45:29Z","updated_at":"2018-04-11T21:45:29Z","author_association":"CONTRIBUTOR","body":"I think it makes sense to backport 0.12.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380605724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380606002","html_url":"https://github.com/apache/druid/pull/5630#issuecomment-380606002","issue_url":"https://api.github.com/repos/apache/druid/issues/5630","id":380606002,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYwNjAwMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:46:27Z","updated_at":"2018-04-11T21:46:27Z","author_association":"CONTRIBUTOR","body":"Maybe related to #5630.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380606002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380609038","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380609038","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380609038,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYwOTAzOA==","user":{"login":"sixtus","id":91857,"node_id":"MDQ6VXNlcjkxODU3","avatar_url":"https://avatars.githubusercontent.com/u/91857?v=4","gravatar_id":"","url":"https://api.github.com/users/sixtus","html_url":"https://github.com/sixtus","followers_url":"https://api.github.com/users/sixtus/followers","following_url":"https://api.github.com/users/sixtus/following{/other_user}","gists_url":"https://api.github.com/users/sixtus/gists{/gist_id}","starred_url":"https://api.github.com/users/sixtus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixtus/subscriptions","organizations_url":"https://api.github.com/users/sixtus/orgs","repos_url":"https://api.github.com/users/sixtus/repos","events_url":"https://api.github.com/users/sixtus/events{/privacy}","received_events_url":"https://api.github.com/users/sixtus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:58:23Z","updated_at":"2018-04-11T21:58:23Z","author_association":"CONTRIBUTOR","body":"one of the nodes just doubled the ram usage after setting it to 1.\r\n\r\nApr 11 23:10:00 alexandria2 druid-historical[22230]: java.util.concurrent.ExecutionException: java.util.concurrent.CancellationException: Cancelled\r\nApr 11 23:10:00 alexandria2 druid-historical[22230]:         at net.spy.memcached.internal.OperationFuture.get(OperationFuture.java:177) ~[druid-services-0.12.0-selfcontained.jar:0.12.0]\r\n\r\nwithin 20min the ram usage doubled afterwards.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380609038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380613627","html_url":"https://github.com/apache/druid/issues/5629#issuecomment-380613627","issue_url":"https://api.github.com/repos/apache/druid/issues/5629","id":380613627,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYxMzYyNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T22:17:56Z","updated_at":"2018-04-11T22:17:56Z","author_association":"CONTRIBUTOR","body":"This is probably because ParallelCombiner is using processing buffers instead of merge buffers. I'll make a patch shortly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380613627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380614835","html_url":"https://github.com/apache/druid/pull/5613#issuecomment-380614835","issue_url":"https://api.github.com/repos/apache/druid/issues/5613","id":380614835,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYxNDgzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T22:23:34Z","updated_at":"2018-04-11T22:23:34Z","author_association":"CONTRIBUTOR","body":"It sounds like a good backport candidate to me then.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380614835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380625549","html_url":"https://github.com/apache/druid/pull/5614#issuecomment-380625549","issue_url":"https://api.github.com/repos/apache/druid/issues/5614","id":380625549,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYyNTU0OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T23:20:05Z","updated_at":"2018-04-11T23:20:05Z","author_association":"CONTRIBUTOR","body":":+1: after travis","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380625549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380637064","html_url":"https://github.com/apache/druid/pull/5632#issuecomment-380637064","issue_url":"https://api.github.com/repos/apache/druid/issues/5632","id":380637064,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYzNzA2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T00:31:00Z","updated_at":"2018-04-12T00:31:00Z","author_association":"CONTRIBUTOR","body":"> The current code can perform badly when a server has the entire set of segments for a datasource.\r\n\r\nThis is a pretty neat failure mode!\r\n\r\n> 1581777.362  38030.835\r\n\r\nAnd it sounds like \"perform badly\" is an understatement.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380637064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380638286","html_url":"https://github.com/apache/druid/pull/5632#issuecomment-380638286","issue_url":"https://api.github.com/repos/apache/druid/issues/5632","id":380638286,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYzODI4Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T00:39:03Z","updated_at":"2018-04-12T00:39:03Z","author_association":"CONTRIBUTOR","body":"@jon-wei is there anywhere else using removeAll that looks suspicious? (IMO, given what we see here, anything where the argument is not a Set is suspicious.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380638286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380639990","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-380639990","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":380639990,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDYzOTk5MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T00:51:03Z","updated_at":"2018-04-12T00:51:03Z","author_association":"CONTRIBUTOR","body":"IMO, it would be acceptable to merge this as-is and just mention in the release notes that router behavior in this case may change as a result. It sounds like I am in agreement with @xvrl on this. However I think on balance the behavior changes means that it makes sense to put this in 0.13.0 not 0.12.1.\r\n\r\nHas anyone else got an opinion on this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380639990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380640208","html_url":"https://github.com/apache/druid/pull/5594#issuecomment-380640208","issue_url":"https://api.github.com/repos/apache/druid/issues/5594","id":380640208,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY0MDIwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T00:52:36Z","updated_at":"2018-04-12T00:52:36Z","author_association":"CONTRIBUTOR","body":"@amalakar I don't know the reasons why it was done the original way, but could you please describe what the benefits are of switching? It is not obvious to me and it is good to document these things.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380640208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380640484","html_url":"https://github.com/apache/druid/issues/5623#issuecomment-380640484","issue_url":"https://api.github.com/repos/apache/druid/issues/5623","id":380640484,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY0MDQ4NA==","user":{"login":"EungsopYoo","id":10965811,"node_id":"MDQ6VXNlcjEwOTY1ODEx","avatar_url":"https://avatars.githubusercontent.com/u/10965811?v=4","gravatar_id":"","url":"https://api.github.com/users/EungsopYoo","html_url":"https://github.com/EungsopYoo","followers_url":"https://api.github.com/users/EungsopYoo/followers","following_url":"https://api.github.com/users/EungsopYoo/following{/other_user}","gists_url":"https://api.github.com/users/EungsopYoo/gists{/gist_id}","starred_url":"https://api.github.com/users/EungsopYoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EungsopYoo/subscriptions","organizations_url":"https://api.github.com/users/EungsopYoo/orgs","repos_url":"https://api.github.com/users/EungsopYoo/repos","events_url":"https://api.github.com/users/EungsopYoo/events{/privacy}","received_events_url":"https://api.github.com/users/EungsopYoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T00:54:37Z","updated_at":"2018-04-12T00:54:37Z","author_association":"NONE","body":"@jihoonson \r\nMy colleague will do. It is caused by use of Collection.contains() and is revealed a problem when we have above 200k segments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380640484/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380648665","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-380648665","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":380648665,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY0ODY2NQ==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T01:48:25Z","updated_at":"2018-04-12T01:48:25Z","author_association":"MEMBER","body":"0.13.0 sounds like the reasonable choice here unless someone wants to do additional work to preserve the existing router behavior.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380648665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380649925","html_url":"https://github.com/apache/druid/pull/5634#issuecomment-380649925","issue_url":"https://api.github.com/repos/apache/druid/issues/5634","id":380649925,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY0OTkyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T01:56:34Z","updated_at":"2018-04-12T01:56:34Z","author_association":"CONTRIBUTOR","body":"@jihoonson sorry, could you please resolve conflicts? I think it conflicted with my patch #5630. Also, does this patch replace that one? If so, I should cancel the backport PR #5633.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380649925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380650109","html_url":"https://github.com/apache/druid/pull/5595#issuecomment-380650109","issue_url":"https://api.github.com/repos/apache/druid/issues/5595","id":380650109,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY1MDEwOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T01:57:39Z","updated_at":"2018-04-12T01:57:39Z","author_association":"CONTRIBUTOR","body":"@xvrl - I agree.\r\n\r\nI'm milestoning this to 0.13.0 and will merge it soon if there are no further comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380650109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380650351","html_url":"https://github.com/apache/druid/pull/5634#issuecomment-380650351","issue_url":"https://api.github.com/repos/apache/druid/issues/5634","id":380650351,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY1MDM1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T01:59:03Z","updated_at":"2018-04-12T01:59:03Z","author_association":"CONTRIBUTOR","body":"@gianm thank you for the quick check. I've resolved the conflicts. I think #5630 is still worthwhile. Please go for it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380650351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380651105","html_url":"https://github.com/apache/druid/pull/5634#issuecomment-380651105","issue_url":"https://api.github.com/repos/apache/druid/issues/5634","id":380651105,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY1MTEwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T02:03:47Z","updated_at":"2018-04-12T02:03:47Z","author_association":"CONTRIBUTOR","body":"Ok, I'll leave #5633 open then, and additionally review this one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380651105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/380658594","html_url":"https://github.com/apache/druid/pull/5632#issuecomment-380658594","issue_url":"https://api.github.com/repos/apache/druid/issues/5632","id":380658594,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY1ODU5NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T02:50:37Z","updated_at":"2018-04-12T02:50:37Z","author_association":"CONTRIBUTOR","body":"@gianm \r\n\r\nKafkaSupervisor calls removeAll in checkPendingCompletionTasks, where both collections are ArrayLists, containing task groups \r\n\r\nPendingTaskBasedWorkerProvisioningStrategy and SimpleWorkerProvisioningStrategy have instances where Set.removeAll is called with a List, containing worker IDs\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/380658594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]