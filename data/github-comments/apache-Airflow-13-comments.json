[{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143022444","html_url":"https://github.com/apache/airflow/issues/417#issuecomment-143022444","issue_url":"https://api.github.com/repos/apache/airflow/issues/417","id":143022444,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzAyMjQ0NA==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-24T19:11:55Z","updated_at":"2015-09-24T19:11:55Z","author_association":"CONTRIBUTOR","body":"Authenticated job submission?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143022444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143023922","html_url":"https://github.com/apache/airflow/pull/460#issuecomment-143023922","issue_url":"https://api.github.com/repos/apache/airflow/issues/460","id":143023922,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzAyMzkyMg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-24T19:19:05Z","updated_at":"2015-09-24T19:19:05Z","author_association":"MEMBER","body":"It passed the unit tests, mergin'. Thanks for your contribution!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143023922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143079568","html_url":"https://github.com/apache/airflow/issues/456#issuecomment-143079568","issue_url":"https://api.github.com/repos/apache/airflow/issues/456","id":143079568,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzA3OTU2OA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-24T23:31:47Z","updated_at":"2015-09-24T23:31:47Z","author_association":"MEMBER","body":"Click on one of the little square and click the Clear button from the\ncontextual menu. You can check all of \"upstream/downstream/future/past\"\nprior to click clear to clear all\n\nOn Thu, Sep 24, 2015 at 10:38 AM, praveev notifications@github.com wrote:\n\n> Thanks CLI airflow clear solved it. unclear on the UI trick as that DAG\n> is marked success already.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/airflow/issues/456#issuecomment-142999520.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143079568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143081317","html_url":"https://github.com/apache/airflow/issues/456#issuecomment-143081317","issue_url":"https://api.github.com/repos/apache/airflow/issues/456","id":143081317,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzA4MTMxNw==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-24T23:45:26Z","updated_at":"2015-09-24T23:45:26Z","author_association":"NONE","body":"thanks\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143081317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143098756","html_url":"https://github.com/apache/airflow/issues/457#issuecomment-143098756","issue_url":"https://api.github.com/repos/apache/airflow/issues/457","id":143098756,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzA5ODc1Ng==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-25T01:36:46Z","updated_at":"2015-09-25T01:37:34Z","author_association":"CONTRIBUTOR","body":"Turns out this was due to an unstripped Variable. It would be nice if Variable.get() did the String stripping. I cannot imagine a case where someone would want leading or trailing whitespace and it is very easy for the code writer to leave his DAG vulnerable to an admin putting in a bad variable name with respect to whitespace. Closing for now. If you think this is a worthwhile comment, feel free to re-open and fix.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143098756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143169132","html_url":"https://github.com/apache/airflow/issues/458#issuecomment-143169132","issue_url":"https://api.github.com/repos/apache/airflow/issues/458","id":143169132,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzE2OTEzMg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-25T09:26:09Z","updated_at":"2015-09-25T09:26:09Z","author_association":"NONE","body":"Yeah its very good looking! The user interface and easy python configuration was one of the reasons we wanted to try out airflow at my company. :)\n\nThe reason we have set up the jobs like in the graph is because we want all the extraction jobs to run first in parallell and then once they are all done, we start with the transform and export jobs (those are the jobs after the gatekeeper job).\n\nWe would like to configure airflow so that even if one of the extraction job fails, we would like the downstream jobs to still run. Because in our environment, its acceptable if it fails and we still will use data from previous successful daily extractions in the downstream jobs. We dont want to manually set the job to success since its being run in the early morning when we are sleeping. :)\n\nDo you have any suggestions how we could accomplish this? We also tried using a ExternalTaskSensor that looks at the gatekeeper job and allowed it to be in status failure, but we still get the upstream_failed status on all the downstream tasks.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143169132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143280978","html_url":"https://github.com/apache/airflow/issues/461#issuecomment-143280978","issue_url":"https://api.github.com/repos/apache/airflow/issues/461","id":143280978,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzI4MDk3OA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-25T16:57:05Z","updated_at":"2015-09-25T16:57:05Z","author_association":"CONTRIBUTOR","body":"@r39132, no `airflow test` does not check previous statuses. It will always run the task instance.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143280978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143281568","html_url":"https://github.com/apache/airflow/issues/461#issuecomment-143281568","issue_url":"https://api.github.com/repos/apache/airflow/issues/461","id":143281568,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzI4MTU2OA==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-25T16:58:11Z","updated_at":"2015-09-25T16:58:11Z","author_association":"CONTRIBUTOR","body":"Thx!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143281568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143354160","html_url":"https://github.com/apache/airflow/pull/462#issuecomment-143354160","issue_url":"https://api.github.com/repos/apache/airflow/issues/462","id":143354160,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzM1NDE2MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-25T21:02:47Z","updated_at":"2015-09-25T21:02:47Z","author_association":"MEMBER","body":"Oh nice. I won't have to fire up my debug server and try to recreate. Success.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143354160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143364673","html_url":"https://github.com/apache/airflow/issues/161#issuecomment-143364673","issue_url":"https://api.github.com/repos/apache/airflow/issues/161","id":143364673,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzM2NDY3Mw==","user":{"login":"tokenmathguy","id":4363,"node_id":"MDQ6VXNlcjQzNjM=","avatar_url":"https://avatars.githubusercontent.com/u/4363?v=4","gravatar_id":"","url":"https://api.github.com/users/tokenmathguy","html_url":"https://github.com/tokenmathguy","followers_url":"https://api.github.com/users/tokenmathguy/followers","following_url":"https://api.github.com/users/tokenmathguy/following{/other_user}","gists_url":"https://api.github.com/users/tokenmathguy/gists{/gist_id}","starred_url":"https://api.github.com/users/tokenmathguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tokenmathguy/subscriptions","organizations_url":"https://api.github.com/users/tokenmathguy/orgs","repos_url":"https://api.github.com/users/tokenmathguy/repos","events_url":"https://api.github.com/users/tokenmathguy/events{/privacy}","received_events_url":"https://api.github.com/users/tokenmathguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-25T22:07:39Z","updated_at":"2015-09-25T22:09:08Z","author_association":"NONE","body":"I was just reviewing this comment and noticed that the traceback listed line numbers for pg8000 core.py that looked a little funny. I then noticed the pg8000 version in the comments is slightly older than what's available in pypi (current is 1.10.2 uploaded in March 2015).\n\nI haven't tried to reproduce the reported issue with the current version of pg8000, but it may be worth re-examination, especially given that pg8000 has a BSD license, is pure python, and may be more amenable to include in some code bases.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143364673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143432839","html_url":"https://github.com/apache/airflow/issues/262#issuecomment-143432839","issue_url":"https://api.github.com/repos/apache/airflow/issues/262","id":143432839,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzQzMjgzOQ==","user":{"login":"thibault-ketterer","id":4283686,"node_id":"MDQ6VXNlcjQyODM2ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4283686?v=4","gravatar_id":"","url":"https://api.github.com/users/thibault-ketterer","html_url":"https://github.com/thibault-ketterer","followers_url":"https://api.github.com/users/thibault-ketterer/followers","following_url":"https://api.github.com/users/thibault-ketterer/following{/other_user}","gists_url":"https://api.github.com/users/thibault-ketterer/gists{/gist_id}","starred_url":"https://api.github.com/users/thibault-ketterer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thibault-ketterer/subscriptions","organizations_url":"https://api.github.com/users/thibault-ketterer/orgs","repos_url":"https://api.github.com/users/thibault-ketterer/repos","events_url":"https://api.github.com/users/thibault-ketterer/events{/privacy}","received_events_url":"https://api.github.com/users/thibault-ketterer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-26T12:34:39Z","updated_at":"2015-09-26T12:34:39Z","author_association":"CONTRIBUTOR","body":"won't it be solved by \"only_run_latest\" https://github.com/airbnb/airflow/issues/59 ?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143432839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143433427","html_url":"https://github.com/apache/airflow/issues/59#issuecomment-143433427","issue_url":"https://api.github.com/repos/apache/airflow/issues/59","id":143433427,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzQzMzQyNw==","user":{"login":"thibault-ketterer","id":4283686,"node_id":"MDQ6VXNlcjQyODM2ODY=","avatar_url":"https://avatars.githubusercontent.com/u/4283686?v=4","gravatar_id":"","url":"https://api.github.com/users/thibault-ketterer","html_url":"https://github.com/thibault-ketterer","followers_url":"https://api.github.com/users/thibault-ketterer/followers","following_url":"https://api.github.com/users/thibault-ketterer/following{/other_user}","gists_url":"https://api.github.com/users/thibault-ketterer/gists{/gist_id}","starred_url":"https://api.github.com/users/thibault-ketterer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thibault-ketterer/subscriptions","organizations_url":"https://api.github.com/users/thibault-ketterer/orgs","repos_url":"https://api.github.com/users/thibault-ketterer/repos","events_url":"https://api.github.com/users/thibault-ketterer/events{/privacy}","received_events_url":"https://api.github.com/users/thibault-ketterer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-26T12:38:51Z","updated_at":"2015-09-26T12:38:51Z","author_association":"CONTRIBUTOR","body":"+1, furthermore,  to me, having \"only_run_latest\" feature makes the \"skip/do not run\"  https://github.com/airbnb/airflow/issues/262 useless\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143433427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143435307","html_url":"https://github.com/apache/airflow/pull/431#issuecomment-143435307","issue_url":"https://api.github.com/repos/apache/airflow/issues/431","id":143435307,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzQzNTMwNw==","user":{"login":"wndhydrnt","id":3942978,"node_id":"MDQ6VXNlcjM5NDI5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3942978?v=4","gravatar_id":"","url":"https://api.github.com/users/wndhydrnt","html_url":"https://github.com/wndhydrnt","followers_url":"https://api.github.com/users/wndhydrnt/followers","following_url":"https://api.github.com/users/wndhydrnt/following{/other_user}","gists_url":"https://api.github.com/users/wndhydrnt/gists{/gist_id}","starred_url":"https://api.github.com/users/wndhydrnt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wndhydrnt/subscriptions","organizations_url":"https://api.github.com/users/wndhydrnt/orgs","repos_url":"https://api.github.com/users/wndhydrnt/repos","events_url":"https://api.github.com/users/wndhydrnt/events{/privacy}","received_events_url":"https://api.github.com/users/wndhydrnt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-26T13:17:28Z","updated_at":"2015-09-26T13:17:28Z","author_association":"CONTRIBUTOR","body":"@mistercrunch The ID is now stored in a Connection. Please take a look at it again.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143435307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143507033","html_url":"https://github.com/apache/airflow/pull/464#issuecomment-143507033","issue_url":"https://api.github.com/repos/apache/airflow/issues/464","id":143507033,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzUwNzAzMw==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T00:31:45Z","updated_at":"2015-09-27T00:31:45Z","author_association":"MEMBER","body":"Should close #439. The DAG in question had no start_date, though it had a default task `start_date` of 8am (on some day) and a `schedule_interval` of 1 day. The `round_time()` function turned the 8am start time into a midnight start time (in other words, a datetime with resolution of \"1 day\"), and since no tasks ever ran at midnight, the tree view was blank.\n\nBy moving the rounding to after a `start_date` is inferred, we can handle dates where the resolution of `base_date` is finer than that of `schedule_interval` (like 8am and daily runs). \n\nDAGs without a `start_date` and without a default task `start_date` could still fall into this trap at one point (see line note). \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143507033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143507163","html_url":"https://github.com/apache/airflow/pull/463#issuecomment-143507163","issue_url":"https://api.github.com/repos/apache/airflow/issues/463","id":143507163,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzUwNzE2Mw==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T00:37:47Z","updated_at":"2015-09-27T00:37:47Z","author_association":"MEMBER","body":"@syvineckruyk haven't used a SlackOperator yet (looking forward to it!) but I have two questions --\n1. I don't see why a failure shouldn't be raised. If users set the Slack operator as an upstream dependency and it doesn't post, then that _should_ stop the DAG execution, since they explicitly made it a dependency. And if it isn't a dependency -- say, it just waits for its upstream task to complete and sends a notification but has no downstream tasks -- then I think failure has no downstream consequence and should be raised so the user is aware.\n2. @mistercrunch is there a mechanism for handling operator name changes, sort of like a deprecation warning on the old name? Might be handy here in case anyone is using the old operator. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143507163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143511075","html_url":"https://github.com/apache/airflow/pull/463#issuecomment-143511075","issue_url":"https://api.github.com/repos/apache/airflow/issues/463","id":143511075,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzUxMTA3NQ==","user":{"login":"syvineckruyk","id":335167,"node_id":"MDQ6VXNlcjMzNTE2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/335167?v=4","gravatar_id":"","url":"https://api.github.com/users/syvineckruyk","html_url":"https://github.com/syvineckruyk","followers_url":"https://api.github.com/users/syvineckruyk/followers","following_url":"https://api.github.com/users/syvineckruyk/following{/other_user}","gists_url":"https://api.github.com/users/syvineckruyk/gists{/gist_id}","starred_url":"https://api.github.com/users/syvineckruyk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syvineckruyk/subscriptions","organizations_url":"https://api.github.com/users/syvineckruyk/orgs","repos_url":"https://api.github.com/users/syvineckruyk/repos","events_url":"https://api.github.com/users/syvineckruyk/events{/privacy}","received_events_url":"https://api.github.com/users/syvineckruyk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T01:15:00Z","updated_at":"2015-09-27T01:15:00Z","author_association":"CONTRIBUTOR","body":"@jlowin I see your point ... though I kind of think it depends on context ... I think of the this operator as a notification mechanism ... not sure if the notification failing should fail a dag (even if there are no downstream processes that will not get executed). I can go either way on that.\n\nAs for deprecation it's not an issue here ... the operator has not changed names and should be fully backwards compatible. Let me know if you think I am missing something.\n\nI am working on a more advanced version (i.e a full slack bot that interfaces into Airflow). But that requires integrations. In the free tier I believe most people get one maybe two ... so it would not replace the existing simple post by api call mechanism which does not require a slack integration.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143511075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143513740","html_url":"https://github.com/apache/airflow/pull/463#issuecomment-143513740","issue_url":"https://api.github.com/repos/apache/airflow/issues/463","id":143513740,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzUxMzc0MA==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T02:40:08Z","updated_at":"2015-09-27T02:40:08Z","author_association":"MEMBER","body":"@syvineckruyk I see your point too... I'll defer to @mistercrunch on that.\n\nAnd sorry about the deprecation point -- I didn't realize they were just changing order! \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143513740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143576442","html_url":"https://github.com/apache/airflow/pull/463#issuecomment-143576442","issue_url":"https://api.github.com/repos/apache/airflow/issues/463","id":143576442,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzU3NjQ0Mg==","user":{"login":"syvineckruyk","id":335167,"node_id":"MDQ6VXNlcjMzNTE2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/335167?v=4","gravatar_id":"","url":"https://api.github.com/users/syvineckruyk","html_url":"https://github.com/syvineckruyk","followers_url":"https://api.github.com/users/syvineckruyk/followers","following_url":"https://api.github.com/users/syvineckruyk/following{/other_user}","gists_url":"https://api.github.com/users/syvineckruyk/gists{/gist_id}","starred_url":"https://api.github.com/users/syvineckruyk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syvineckruyk/subscriptions","organizations_url":"https://api.github.com/users/syvineckruyk/orgs","repos_url":"https://api.github.com/users/syvineckruyk/repos","events_url":"https://api.github.com/users/syvineckruyk/events{/privacy}","received_events_url":"https://api.github.com/users/syvineckruyk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T16:50:29Z","updated_at":"2015-09-27T16:50:29Z","author_association":"CONTRIBUTOR","body":"@jlowin no worries and thanks for your feedback... good catch on the reorder ... not sure how that got in there.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143576442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143587060","html_url":"https://github.com/apache/airflow/pull/466#issuecomment-143587060","issue_url":"https://api.github.com/repos/apache/airflow/issues/466","id":143587060,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzU4NzA2MA==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T18:55:11Z","updated_at":"2015-09-27T18:55:11Z","author_association":"MEMBER","body":"Note -- depends on #467 because the default value needs to be `None` rather than `\"None\"` (a string)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143587060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143587723","html_url":"https://github.com/apache/airflow/pull/466#issuecomment-143587723","issue_url":"https://api.github.com/repos/apache/airflow/issues/466","id":143587723,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzU4NzcyMw==","user":{"login":"syvineckruyk","id":335167,"node_id":"MDQ6VXNlcjMzNTE2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/335167?v=4","gravatar_id":"","url":"https://api.github.com/users/syvineckruyk","html_url":"https://github.com/syvineckruyk","followers_url":"https://api.github.com/users/syvineckruyk/followers","following_url":"https://api.github.com/users/syvineckruyk/following{/other_user}","gists_url":"https://api.github.com/users/syvineckruyk/gists{/gist_id}","starred_url":"https://api.github.com/users/syvineckruyk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syvineckruyk/subscriptions","organizations_url":"https://api.github.com/users/syvineckruyk/orgs","repos_url":"https://api.github.com/users/syvineckruyk/repos","events_url":"https://api.github.com/users/syvineckruyk/events{/privacy}","received_events_url":"https://api.github.com/users/syvineckruyk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T19:01:07Z","updated_at":"2015-09-27T19:01:07Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143587723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143602490","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143602490","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143602490,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzYwMjQ5MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T23:20:03Z","updated_at":"2015-09-27T23:20:03Z","author_association":"MEMBER","body":"Airflow manages only its own metadata in initdb. Table creation for your pipes should be handled in your pipeline file, inside operators (for example a MySqlOperator running a CREATE TABLE statement), and these tables should probably live in a different database/schema then the Airflow metadata database.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143602490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143602943","html_url":"https://github.com/apache/airflow/pull/463#issuecomment-143602943","issue_url":"https://api.github.com/repos/apache/airflow/issues/463","id":143602943,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzYwMjk0Mw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T23:29:17Z","updated_at":"2015-09-27T23:29:17Z","author_association":"MEMBER","body":"I also wouldn't silence the failures in the operator, it's good to know when things fail, and there are retries and other mechanisms to handle failures. If needed, we could add another flag to `BaseOperator`: `always_succeed`, or `silence_errors` that would force a task to succeed regardless. That way people would explicitly silence certain tasks and live with the consequences.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143602943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143603957","html_url":"https://github.com/apache/airflow/pull/466#issuecomment-143603957","issue_url":"https://api.github.com/repos/apache/airflow/issues/466","id":143603957,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzYwMzk1Nw==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-27T23:44:50Z","updated_at":"2015-09-27T23:44:50Z","author_association":"MEMBER","body":"Just realized this doesn't cover the case of refreshing from the web app. Working on that.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143603957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143607278","html_url":"https://github.com/apache/airflow/pull/466#issuecomment-143607278","issue_url":"https://api.github.com/repos/apache/airflow/issues/466","id":143607278,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzYwNzI3OA==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T00:36:29Z","updated_at":"2015-09-28T00:43:05Z","author_association":"MEMBER","body":"Hmm... running into a situation @mistercrunch has described a number of times, trying to keep the dagbag of all the webservers in check. The solution is to greedily sync the S3 dags -- one way to force this across all web servers is to make `dagbag.dags` into a property which refreshes all dags whenever accessed. But I feel like that is extremely inelegant and hacky -- I don't really want to do it.\n\nI'm definitely interested in moving the DagBag to a stateless serialized (pickled?) model where each Dag is stored in the DataBase and updated as required (as opposed to requiring local files). @mistercrunch I remember you saying that pickling jinja templates was the blocker there -- is that still the case?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143607278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143609998","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143609998","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143609998,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzYwOTk5OA==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T01:01:09Z","updated_at":"2015-09-28T03:29:36Z","author_association":"NONE","body":"I am already using MySqlOperator to make changes to that table. But for creation I thought it would be cleaner if it was done along with the rest of the db setup. Also this is usually a one time thing and we really don't need a task at the beginning to find or create for this every time the DAG runs.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143609998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143619375","html_url":"https://github.com/apache/airflow/pull/463#issuecomment-143619375","issue_url":"https://api.github.com/repos/apache/airflow/issues/463","id":143619375,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzYxOTM3NQ==","user":{"login":"syvineckruyk","id":335167,"node_id":"MDQ6VXNlcjMzNTE2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/335167?v=4","gravatar_id":"","url":"https://api.github.com/users/syvineckruyk","html_url":"https://github.com/syvineckruyk","followers_url":"https://api.github.com/users/syvineckruyk/followers","following_url":"https://api.github.com/users/syvineckruyk/following{/other_user}","gists_url":"https://api.github.com/users/syvineckruyk/gists{/gist_id}","starred_url":"https://api.github.com/users/syvineckruyk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syvineckruyk/subscriptions","organizations_url":"https://api.github.com/users/syvineckruyk/orgs","repos_url":"https://api.github.com/users/syvineckruyk/repos","events_url":"https://api.github.com/users/syvineckruyk/events{/privacy}","received_events_url":"https://api.github.com/users/syvineckruyk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T01:48:18Z","updated_at":"2015-09-28T01:48:18Z","author_association":"CONTRIBUTOR","body":"Thanks @mistercrunch @jlowin.\nI have reinstated the \"params\" parameter and removed the try,except.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143619375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143634942","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143634942","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143634942,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzYzNDk0Mg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T03:50:18Z","updated_at":"2015-09-28T03:50:37Z","author_association":"MEMBER","body":"These are 2 very different things, the line in the sand has to be pretty clear. On one side Airflow ships with a metadata database. On the the other you use Airflow to build data pipelines and you can decide whether you include DDL or not as part of your pipelines or not.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143634942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143786720","html_url":"https://github.com/apache/airflow/pull/368#issuecomment-143786720","issue_url":"https://api.github.com/repos/apache/airflow/issues/368","id":143786720,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzc4NjcyMA==","user":{"login":"orientphoebus","id":14875251,"node_id":"MDQ6VXNlcjE0ODc1MjUx","avatar_url":"https://avatars.githubusercontent.com/u/14875251?v=4","gravatar_id":"","url":"https://api.github.com/users/orientphoebus","html_url":"https://github.com/orientphoebus","followers_url":"https://api.github.com/users/orientphoebus/followers","following_url":"https://api.github.com/users/orientphoebus/following{/other_user}","gists_url":"https://api.github.com/users/orientphoebus/gists{/gist_id}","starred_url":"https://api.github.com/users/orientphoebus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orientphoebus/subscriptions","organizations_url":"https://api.github.com/users/orientphoebus/orgs","repos_url":"https://api.github.com/users/orientphoebus/repos","events_url":"https://api.github.com/users/orientphoebus/events{/privacy}","received_events_url":"https://api.github.com/users/orientphoebus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T15:54:49Z","updated_at":"2015-09-28T15:54:49Z","author_association":"NONE","body":"On Oracle 11, having problem on the 5000 size of varchar, and ID column without Sequence definition. Any suggestion to resolve these properly? \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143786720/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143832060","html_url":"https://github.com/apache/airflow/pull/368#issuecomment-143832060","issue_url":"https://api.github.com/repos/apache/airflow/issues/368","id":143832060,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzgzMjA2MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T18:15:03Z","updated_at":"2015-09-28T18:15:03Z","author_association":"MEMBER","body":"What about adding a MAX_VARCHAR to configuration and using it for the large VARCHARs.\n\nWhat's Oracle max value for VARCHAR again?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143832060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143833204","html_url":"https://github.com/apache/airflow/pull/452#issuecomment-143833204","issue_url":"https://api.github.com/repos/apache/airflow/issues/452","id":143833204,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzgzMzIwNA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T18:20:05Z","updated_at":"2015-09-28T18:20:05Z","author_association":"MEMBER","body":"Sounds right. Don't feel obligated but `insert_lists` would be the way to go.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143833204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143842806","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143842806","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143842806,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzg0MjgwNg==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T18:53:36Z","updated_at":"2015-09-28T18:57:08Z","author_association":"NONE","body":"I am using the table to store metadata as well. Here's my use case - I only want one dag to be running for a specific dataset at any given point in time. So I am using a table to store its status - running, processed or failed. I have a sensor that checks with the table to decide whether or not to run the rest of the DAG for that dataset. \n\nHere's how the sensor works:\n\n```\nif (new data in HDFS)\n    if (table status for that data is processed or failed)\n        set status for that data to running\n        proceed further to the next task\n    else sleep and try again\n```\n\nThe table is only used to store metadata for the pipeline.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143842806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143844755","html_url":"https://github.com/apache/airflow/pull/464#issuecomment-143844755","issue_url":"https://api.github.com/repos/apache/airflow/issues/464","id":143844755,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzg0NDc1NQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T19:01:10Z","updated_at":"2015-09-28T19:01:10Z","author_association":"MEMBER","body":"![img](http://media.giphy.com/media/56gpAhgWRZg4w/giphy.gif)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143844755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143854009","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143854009","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143854009,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzg1NDAwOQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T19:42:19Z","updated_at":"2015-09-28T19:42:19Z","author_association":"MEMBER","body":"That's kind of what the `Variables` were created for:\nhttp://pythonhosted.org/airflow/concepts.html#variables\n\nBut you know typically people don't alter the schema of an application. It would be a good thing to keep your metadata separated from the Airflow metadata database.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143854009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143857220","html_url":"https://github.com/apache/airflow/pull/438#issuecomment-143857220","issue_url":"https://api.github.com/repos/apache/airflow/issues/438","id":143857220,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzg1NzIyMA==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T19:53:18Z","updated_at":"2015-09-28T19:56:32Z","author_association":"CONTRIBUTOR","body":"@mistercrunch I am preparing some additional patches (in contrib though :) ) that rely on this PR. Any chance to get it merged or are additional changes required? Are additional tests required (I think the implications are covered by current tests)?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143857220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143864431","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143864431","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143864431,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzg2NDQzMQ==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T20:25:56Z","updated_at":"2015-09-28T20:25:56Z","author_association":"NONE","body":"Hrm, I don't think @praveev 's explanation is really getting at what we are actually doing.\n\nWe have some directories on hdfs like\n\n```\n/prefix_dir/table_name/2015-09-01/version_string_001/files_of_data\n/prefix_dir/table_name/2015-09-01/version_string_002/files_of_data\n/prefix_dir/table_name/2015-09-01/version_string_003/files_of_data\n/prefix_dir/table_name/2015-09-02/version_string_001/files_of_data\n/prefix_dir/table_name/2015-09-02/version_string_002/files_of_data\n```\n\nThe idea here is that the newest `version_string` is the newest copy of the data for that given time period.  We are writing a sensor that watches the HDFS paths and checks what the newest version is and if it has been processed.  If the last processed version is older than the currently available version on HDFS, then we kick off the job using XCom to tell the rest of the DAG to process the relevant day of data.\n\nSo, this table stores the processed time ranges with their version.  And I'm hoping to eventually add a new thing to the airflow UI to enable viewing what time periods have been processed based on this as well as update the state flag for things like reprocessing.\n\nLogically, the data is equivalent to what airflow likely maintains about what DAGs have been run and how they ran and stuff like that.  So, I think it does make sense alongside the other airflow tables and doing a one-off creation of it whenever we run `initdb` would be nice.  I was imagining something where essentially our extension for the sensor could also have a method that is picked up when `initdb` is called.  I don't think it makes sense for us to have yet another database up and running just to store this extra metadata about how and when jobs should be scheduled.\n\nThat said, we could totally make the sensor intelligent enough to check for the table and create it if it doesn't exist.  We were just thinking that it might be nice to have the ability to add extra stuff to the `initdb` hook.  If you are against that, then maybe once we get this running and working well, we can talk about whether our changes could be useful to be included inside airflow in general and then maybe integrate it with `initdb`.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143864431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143892351","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143892351","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143892351,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzg5MjM1MQ==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T22:32:00Z","updated_at":"2015-09-28T22:32:31Z","author_association":"MEMBER","body":"I think this is a good use case for XComs, which if you think about it are basically lightweight ways to write arbitrary data to a key-value store maintained inside the airflow db.\n\nFor example, have your task push an XCom every time it processes your data, and at the start of each processing run, check that XCom to see what that latest processed stamp was.\n\nPseudocode (not tested):\n\n``` python\n# use in PythonOperator\ndef task_func(ti, **context):\n    # get last processed date from XCom (basically equivalent to querying database table)\n    last_processed = ti.xcom_pull(key='last_processed_version', include_prior_dates=True)\n    if not last_processed:\n        last_processed = '2015-01-01'\n    # get version strings\n    version_strings = parse_hdfs_paths()\n    # check if any versions are newer than last processed date\n    needs_processing = [version for version in version_strings if version > last_processed]\n    # if there are newer versions, update the XCom with the new date\n    if needs_processing:\n        ti.xcom_push(key='last_processed_version', value=max(needs_processing))\n   # automatic XCom push for use downstream\n    return needs_processing \n```\n\nI use something along these lines to check whether a database needs to be updated.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143892351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143895725","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143895725","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143895725,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzg5NTcyNQ==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-28T22:52:00Z","updated_at":"2015-09-28T22:52:00Z","author_association":"NONE","body":"Is there an easy way to access the XCom values from a UI plugin in airflow?  Also, will it be easy to add indexes to the table such that when we write the UI as well, we can make sure the queries it is doing are acceptable?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143895725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143912742","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143912742","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143912742,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzkxMjc0Mg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T00:47:45Z","updated_at":"2015-09-29T00:47:45Z","author_association":"MEMBER","body":"You can access the XComs straight through the models in your plugin.\n`from airflow.models import XCom`\n\nYou can add indexes as an Alembic migration\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143912742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143913943","html_url":"https://github.com/apache/airflow/issues/465#issuecomment-143913943","issue_url":"https://api.github.com/repos/apache/airflow/issues/465","id":143913943,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzkxMzk0Mw==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T00:58:04Z","updated_at":"2015-09-29T00:58:04Z","author_association":"NONE","body":"So, if I structure my XComs as something like `table-20150901-version -> current_status`, is it possible to then query and say \"What versions of 2015-09-01 on table X were processed and when?\"\n\nAlso, is it possible to ask \"What is the current status of all days between 2015-07-01 and 2015-10-01 including the most recently processed version string for each?\"\n\nMy understanding of XComs is that it is a simple key-value, so I had been assuming that such questions are not recommended...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143913943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143999312","html_url":"https://github.com/apache/airflow/issues/458#issuecomment-143999312","issue_url":"https://api.github.com/repos/apache/airflow/issues/458","id":143999312,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Mzk5OTMxMg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T09:08:02Z","updated_at":"2015-09-29T09:08:47Z","author_association":"NONE","body":"Hi,\n\nWe got all this to work by using an ExternalTaskSensor in the correct way. :) So for other people who wants to be able to continue running the graph even on failure or upstream_failed statuses, Im posting what we did below.\n\nHere is our daily graph of jobs, where the extraction jobs are the upper part of the picture. These extraction jobs are sometimes going to fail, and when they do, we still want all the downstream jobs to run.\n\n![external_task_sensor](https://cloud.githubusercontent.com/assets/6168354/10159275/982c8bf2-6697-11e5-87c0-68025a1fab01.png)\n\nSo what we did is we have a TimeSensor in the beginning of the first graph that will kick off the extraction jobs at a specific time every day. We also have a job that all the extraction jobs are leading to, called ExtractionsComplete (orange job in the pic since its in upstream_failed status). This job doesnt really do anything but we could put some testing code here to make sure we got what we expected, or whatever. \n\nIn the second graph, we start with a ExternalTaskSensor job, checking the status of the ExtractionsComplete job. We allow the ExtractionsComplete job to be in success, failure or upstream_failed statuses.\n\nThis way, the ExternalTaskSensor will always meet its success criteria, and its downstream jobs can run.\n\nHere is the relevant code as well:\n\ndefault_args = {\n    'owner': 'cron',\n    'wait_for_downstream': False,\n    'depends_on_past': False,\n    'start_date': datetime.datetime(2015, 9, 22, 0, 0)\n}\n\ndag = DAG('jobs', default_args=default_args, schedule_interval=timedelta(days=1))\n\nTimeSensor = TimeSensor(target_time=datetime.time(8, 00), task_id=\"TimeSensor\", dag=dag)\n\nExtractionsComplete = BashOperator(task_id=\"ExtractionsComplete\", bash_command=Scripts.AfterExtractions, dag=dag)\n\nExtractionsDone = ExternalTaskSensor(dag=dag, external_dag_id=\"jobs\", task_id=\"ExtractionsDone\", external_task_id=\"ExtractionsComplete\", allowed_states=[\"success\", \"failed\", \"upstream_failed\"], retry_delay=timedelta(minutes=1))\n\nWe do not have any parent to the ExtractionsDone job which is why the rest of the flow becomes a separate graph.\n\nHopefully this helps someone with a simular usecase as ours. :)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/143999312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144087865","html_url":"https://github.com/apache/airflow/pull/466#issuecomment-144087865","issue_url":"https://api.github.com/repos/apache/airflow/issues/466","id":144087865,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDA4Nzg2NQ==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T15:04:20Z","updated_at":"2015-09-29T15:04:42Z","author_association":"CONTRIBUTOR","body":"I like the S3 storage. But I was also thinking that storing it on HDFS might be easier (although maybe not used in all cases?). Then it would not be required to sync it to every executor they can just grab it themselves? (Don't want to hijack your PR btw)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144087865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144102814","html_url":"https://github.com/apache/airflow/issues/470#issuecomment-144102814","issue_url":"https://api.github.com/repos/apache/airflow/issues/470","id":144102814,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDEwMjgxNA==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T15:58:41Z","updated_at":"2015-09-29T15:58:41Z","author_association":"MEMBER","body":"@neovintage something weird is definitely happening here -- I will fix it.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144102814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144104983","html_url":"https://github.com/apache/airflow/issues/470#issuecomment-144104983","issue_url":"https://api.github.com/repos/apache/airflow/issues/470","id":144104983,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDEwNDk4Mw==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T16:06:05Z","updated_at":"2015-09-29T16:06:05Z","author_association":"MEMBER","body":"@neovintage I got a similar error as you under Python 2 (when I wrote my comment) but since then I can't replicate it under Py2 or Py3. Are you sure you have a `$DATABASE_URL` env var set (which would be the other reason you'd see that error)? For example if you set `sql_alchemy_conn = $PATH` (or some env var you know exists) do you see it properly expanded in the error message?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144104983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144107828","html_url":"https://github.com/apache/airflow/issues/6#issuecomment-144107828","issue_url":"https://api.github.com/repos/apache/airflow/issues/6","id":144107828,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDEwNzgyOA==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T16:14:08Z","updated_at":"2015-09-29T16:14:08Z","author_association":"MEMBER","body":"@mistercrunch sorry to hijack this thread but I've been using the `DummyOperator` approach for a couple Dags and was considering writing an `ExternalDagSensor`. Would you accept a PR for one? My thought was it would be identical to `ExternalTaskSensor` except instead of looking at just one task it would look at every task in the DAG (which it would retrieve from the ORM).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144107828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144109061","html_url":"https://github.com/apache/airflow/issues/470#issuecomment-144109061","issue_url":"https://api.github.com/repos/apache/airflow/issues/470","id":144109061,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDEwOTA2MQ==","user":{"login":"neovintage","id":2482,"node_id":"MDQ6VXNlcjI0ODI=","avatar_url":"https://avatars.githubusercontent.com/u/2482?v=4","gravatar_id":"","url":"https://api.github.com/users/neovintage","html_url":"https://github.com/neovintage","followers_url":"https://api.github.com/users/neovintage/followers","following_url":"https://api.github.com/users/neovintage/following{/other_user}","gists_url":"https://api.github.com/users/neovintage/gists{/gist_id}","starred_url":"https://api.github.com/users/neovintage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovintage/subscriptions","organizations_url":"https://api.github.com/users/neovintage/orgs","repos_url":"https://api.github.com/users/neovintage/repos","events_url":"https://api.github.com/users/neovintage/events{/privacy}","received_events_url":"https://api.github.com/users/neovintage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T16:18:27Z","updated_at":"2015-09-29T16:18:27Z","author_association":"CONTRIBUTOR","body":"@jlowin It's set and I've also tried changing it to something else. When I rollback to commit ba35124d75a3ad23266c324d729e80d5267e161f and then print the output (e.g. conf.get('core', 'SQL_ALCHEMY_URL')), I end up with the correct uri. At current head, when I print the conf var I end up with '$DATABASE_URL'. I've tried blowing away my virtualenv and starting from scratch. Is there any toher output that would be useful?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144109061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144112355","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144112355","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144112355,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDExMjM1NQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T16:30:42Z","updated_at":"2015-09-29T16:30:42Z","author_association":"MEMBER","body":"```\nfrom copy import deepcopy\nnew_dag = deepcopy(dag)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144112355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144112645","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144112645","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144112645,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDExMjY0NQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T16:31:54Z","updated_at":"2015-09-29T16:31:54Z","author_association":"MEMBER","body":"It's actually probably cleaner to write a function or a class that generates dag objects base on input parameters\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144112645/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144116944","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144116944","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144116944,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDExNjk0NA==","user":{"login":"martingrayson","id":870417,"node_id":"MDQ6VXNlcjg3MDQxNw==","avatar_url":"https://avatars.githubusercontent.com/u/870417?v=4","gravatar_id":"","url":"https://api.github.com/users/martingrayson","html_url":"https://github.com/martingrayson","followers_url":"https://api.github.com/users/martingrayson/followers","following_url":"https://api.github.com/users/martingrayson/following{/other_user}","gists_url":"https://api.github.com/users/martingrayson/gists{/gist_id}","starred_url":"https://api.github.com/users/martingrayson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martingrayson/subscriptions","organizations_url":"https://api.github.com/users/martingrayson/orgs","repos_url":"https://api.github.com/users/martingrayson/repos","events_url":"https://api.github.com/users/martingrayson/events{/privacy}","received_events_url":"https://api.github.com/users/martingrayson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T16:46:17Z","updated_at":"2015-09-29T16:46:17Z","author_association":"NONE","body":"Thanks for the pointer, out of interest should this work too?\n\n```\nmarkets = ['a', 'b', 'c']\n\nfor dag_market in markets:\n    dag = DAG(dag_id='my_dag_'+dag_market, default_args=global_args)\n\n   #tasks here...\n```\n\nIf I use this logic and push each dag into a list, I can see all 3 dags with three unique dag ids (when printing the list following the loop). However they dont all get put into the `DagBag`. I'm guessing this is some python shallowcopy business that I've not yet come across primarily being from a Java background.\n\nI think I'll go down your route of a parent dag generator function.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144116944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144135489","html_url":"https://github.com/apache/airflow/issues/470#issuecomment-144135489","issue_url":"https://api.github.com/repos/apache/airflow/issues/470","id":144135489,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDEzNTQ4OQ==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T17:55:19Z","updated_at":"2015-09-29T17:55:19Z","author_association":"MEMBER","body":"@neovintage ok, I was pretty sure you knew what you were doing but it never hurts to ask :). I suspect this is a weird corner case with the Py3 compatible basestring that for some reason I can never replicate (it popped up in one other issue). Could you please help me with one thing -- if you look at line 35, could you print the type of the env_var that is getting kicked out? If I'm right it'll be something like `newstr`:\n\n``` python\ndef expand_env_var(env_var):\n    if not isinstance(env_var, basestring):\n        print(type(env_var))\n        return env_var\n    ...\n```\n\nRegardless, I will rework the trap a different way. Really sorry for the trouble!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144135489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144136257","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144136257","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144136257,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDEzNjI1Nw==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T17:58:29Z","updated_at":"2015-09-29T17:58:29Z","author_association":"MEMBER","body":"@martingrayson I'm not sure but I think it's because each `dag` object gets overwritten by the next one in the loop, so when the script is finished only the last `dag` is available for import. I think @mistercrunch has an idiom for this which goes something like:\n\n``` python\nfor dag_market in markets:\n    globals()[dag] = DAG(...)\n```\n\nbut I haven't done this myself so I'm not 100% sure.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144136257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144136778","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144136778","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144136778,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDEzNjc3OA==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T18:00:44Z","updated_at":"2015-09-29T18:00:44Z","author_association":"MEMBER","body":"For folks generating multiple dags in a script, maybe a `DagContainer` object (which is just a list subclass) would be nice... then in addition to any DAG objects found in a script, anything in any DagContainers is also imported. Not sure how many people are actually doing this but I know it's come up a few times. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144136778/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144146850","html_url":"https://github.com/apache/airflow/issues/473#issuecomment-144146850","issue_url":"https://api.github.com/repos/apache/airflow/issues/473","id":144146850,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDE0Njg1MA==","user":{"login":"kapil-malik","id":3902288,"node_id":"MDQ6VXNlcjM5MDIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/3902288?v=4","gravatar_id":"","url":"https://api.github.com/users/kapil-malik","html_url":"https://github.com/kapil-malik","followers_url":"https://api.github.com/users/kapil-malik/followers","following_url":"https://api.github.com/users/kapil-malik/following{/other_user}","gists_url":"https://api.github.com/users/kapil-malik/gists{/gist_id}","starred_url":"https://api.github.com/users/kapil-malik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapil-malik/subscriptions","organizations_url":"https://api.github.com/users/kapil-malik/orgs","repos_url":"https://api.github.com/users/kapil-malik/repos","events_url":"https://api.github.com/users/kapil-malik/events{/privacy}","received_events_url":"https://api.github.com/users/kapil-malik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T18:27:06Z","updated_at":"2015-09-29T18:27:06Z","author_association":"NONE","body":"Full logs for reference -\n\n```\n2015-09-29 18:21:52,706 - root - INFO - Importing /home/centos/airflow/dags/tutorial.py\nTraceback (most recent call last):\n  File \"/usr/bin/airflow\", line 8, in <module>\n    execfile(__file__)\n  File \"/home/centos/git/airflow/airflow/bin/airflow\", line 10, in <module>\n    args.func(args)\n  File \"/home/centos/git/airflow/airflow/bin/cli.py\", line 278, in scheduler\n    job.run()\n  File \"/home/centos/git/airflow/airflow/jobs.py\", line 159, in run\n    self._execute()\n  File \"/home/centos/git/airflow/airflow/jobs.py\", line 490, in _execute\n    dagbag = models.DagBag(self.subdir, sync_to_db=True)\n  File \"/home/centos/git/airflow/airflow/models.py\", line 121, in __init__\n    self.deactivate_inactive_dags()\n  File \"/home/centos/git/airflow/airflow/models.py\", line 272, in deactivate_inactive_dags\n    DagModel).filter(~DagModel.dag_id.in_(active_dag_ids)).all():\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2307, in all\n    return list(self)\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2425, in __iter__\n    return self._execute_and_instances(context)\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2438, in _execute_and_instances\n    close_with_result=True)\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2429, in _connection_from_session\n    **kw)\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 881, in connection\n    execution_options=execution_options)\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 886, in _connection_for_bind\n    engine, execution_options)\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 306, in _connection_for_bind\n    self._assert_active()\n  File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 214, in _assert_active\n    % self._rollback_exception\nsqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (ProgrammingError) (1064, u\"You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''', 'airflow')' at line 1\") u'INSERT INTO dag (dag_id, is_paused, is_subdag, is_active, last_scheduler_run, last_pickled, last_expired, scheduler_lock, pickle_id, fileloc, owners) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)' ('tutorial', 0, 0, 1, None, None, None, None, None, '/home/centos/airflow/dags/tutorial.py', 'airflow')\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144146850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144156565","html_url":"https://github.com/apache/airflow/issues/255#issuecomment-144156565","issue_url":"https://api.github.com/repos/apache/airflow/issues/255","id":144156565,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDE1NjU2NQ==","user":{"login":"morgandu","id":11281451,"node_id":"MDQ6VXNlcjExMjgxNDUx","avatar_url":"https://avatars.githubusercontent.com/u/11281451?v=4","gravatar_id":"","url":"https://api.github.com/users/morgandu","html_url":"https://github.com/morgandu","followers_url":"https://api.github.com/users/morgandu/followers","following_url":"https://api.github.com/users/morgandu/following{/other_user}","gists_url":"https://api.github.com/users/morgandu/gists{/gist_id}","starred_url":"https://api.github.com/users/morgandu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morgandu/subscriptions","organizations_url":"https://api.github.com/users/morgandu/orgs","repos_url":"https://api.github.com/users/morgandu/repos","events_url":"https://api.github.com/users/morgandu/events{/privacy}","received_events_url":"https://api.github.com/users/morgandu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T18:58:37Z","updated_at":"2015-09-29T18:58:37Z","author_association":"NONE","body":"You need to restart the airflow webserver before it shows up in UI\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144156565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144166777","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144166777","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144166777,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDE2Njc3Nw==","user":{"login":"martingrayson","id":870417,"node_id":"MDQ6VXNlcjg3MDQxNw==","avatar_url":"https://avatars.githubusercontent.com/u/870417?v=4","gravatar_id":"","url":"https://api.github.com/users/martingrayson","html_url":"https://github.com/martingrayson","followers_url":"https://api.github.com/users/martingrayson/followers","following_url":"https://api.github.com/users/martingrayson/following{/other_user}","gists_url":"https://api.github.com/users/martingrayson/gists{/gist_id}","starred_url":"https://api.github.com/users/martingrayson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martingrayson/subscriptions","organizations_url":"https://api.github.com/users/martingrayson/orgs","repos_url":"https://api.github.com/users/martingrayson/repos","events_url":"https://api.github.com/users/martingrayson/events{/privacy}","received_events_url":"https://api.github.com/users/martingrayson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-29T19:39:34Z","updated_at":"2015-09-29T19:39:34Z","author_association":"NONE","body":"Thanks @jlowin I'll give this a bash tomorrow.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144166777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144262941","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144262941","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144262941,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDI2Mjk0MQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T02:34:32Z","updated_at":"2015-09-30T02:34:32Z","author_association":"MEMBER","body":"Yes, this should work, the DagBag crawls through the folder importing python modules and inspecting their global namespace for dag objects.\n\n@jlowin, I agree that this is magical and that we should have an alternative to use an explicit method to add a dag to the dagbag. I'll add a note.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144262941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144269575","html_url":"https://github.com/apache/airflow/issues/417#issuecomment-144269575","issue_url":"https://api.github.com/repos/apache/airflow/issues/417","id":144269575,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDI2OTU3NQ==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T03:08:36Z","updated_at":"2015-09-30T03:11:27Z","author_association":"MEMBER","body":"A few \"smaller\" ideas that I'd love to push forward. I'll add more as they occur to me.\n1. Stateless DAGs\n   \n   DAGs live as pickled objects in the database, and are unpickled as needed. This would allow DAG `.py` scripts to live at any local or remote location since they only need to be read once in order to become available to the entire airflow ecosystem. If a user/worker/task notices or decides that a DAG pickle has expired, it can refresh the DAG for every consumer. \n2. Improved worker logs\n   \n   We run airflow in a dockerized environment, where each worker is a separate microservice (and communicating across microservices is hard). As a result we have no way to access worker logs -- the workers don't communicate and even if they could, they could disappear/restart at any time. This isn't my area of expertise, but perhaps workers could write logfiles to a remote filesystem (S3?) rather than keeping them locally. Then the webserver could load and display them appropriately\n\nWith regard to `ExternallyTriggeredDags` -- here are some thoughts, some of which may make sense..\n\nToday, DAGs are a hybrid of 1) task dependency graphs and 2) scheduler attributes (`start_date`, `end_date`, `schedule_interval`). \n\nI suggest recasting a DAG as purely a dependency graph. It specifies the order in which tasks take place, but makes no claims about when they all start, stop, or repeat. It simply knows how to run its tasks in topological order, given an instruction to do so.\n\nThose instructions could come from Scheduler objects which attach to DAGs and emit run times -- maybe just once, maybe on a regular schedule, maybe irregularly, maybe totally at random. When the attached Scheduler tells the DAG to run, it runs. \n\nIn other words, _every_ DAG is really an \"Externally Triggered DAG\" -- it just happens that some of them are triggered on a regular schedule (and behave like DAGs do today). The Scheduler, instead of being a single master process that queries every DAG every 5 seconds to see if the DAG is supposed to run, becomes many smaller processes, one for each DAG, that actually kicks off the DAG at the right time. And the master process is nothing more than a Clock which tells each of the Schedulers that it's time to update...\n\nBasically, I'm worried about having two classes of DAGs -- externally triggered vs \"classic\" -- when there really isn't a fundamental difference between them. Airflow 1.x is obviously designed around periodic DAG runs, so an externally triggered DAG represents something that needs special handling. But if Airflow 2.x is built around arbitrary run times, then these two DAG types could be unified very nicely. And I like that because they both have the same core purpose: run tasks in order.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144269575/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144272615","html_url":"https://github.com/apache/airflow/pull/469#issuecomment-144272615","issue_url":"https://api.github.com/repos/apache/airflow/issues/469","id":144272615,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDI3MjYxNQ==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T03:30:04Z","updated_at":"2015-09-30T03:30:04Z","author_association":"MEMBER","body":"@mistercrunch not sure how you manage your install -- but would you want celery to be added to the `devel` config?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144272615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144327907","html_url":"https://github.com/apache/airflow/issues/474#issuecomment-144327907","issue_url":"https://api.github.com/repos/apache/airflow/issues/474","id":144327907,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDMyNzkwNw==","user":{"login":"tanminhnu","id":8220811,"node_id":"MDQ6VXNlcjgyMjA4MTE=","avatar_url":"https://avatars.githubusercontent.com/u/8220811?v=4","gravatar_id":"","url":"https://api.github.com/users/tanminhnu","html_url":"https://github.com/tanminhnu","followers_url":"https://api.github.com/users/tanminhnu/followers","following_url":"https://api.github.com/users/tanminhnu/following{/other_user}","gists_url":"https://api.github.com/users/tanminhnu/gists{/gist_id}","starred_url":"https://api.github.com/users/tanminhnu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanminhnu/subscriptions","organizations_url":"https://api.github.com/users/tanminhnu/orgs","repos_url":"https://api.github.com/users/tanminhnu/repos","events_url":"https://api.github.com/users/tanminhnu/events{/privacy}","received_events_url":"https://api.github.com/users/tanminhnu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T08:35:40Z","updated_at":"2015-09-30T08:39:10Z","author_association":"NONE","body":"How can I set the conn_id for the S3KeySensor, I set the S3KeySensor like this :\ntask_source_logs_files_check = S3KeySensor(\n    task_id='check_source_logs_file_exists',\n    bucket_key='s3://AAAAA/******',\n    bucket_name='AAAAA',\n    wildcard_match=True,\n    dag=dag)\n\nAnd run the scheduler,But I get the wrong message:\n![image](https://cloud.githubusercontent.com/assets/8220811/10188402/a2b5a432-6791-11e5-9605-d644895307be.png)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144327907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144334051","html_url":"https://github.com/apache/airflow/issues/471#issuecomment-144334051","issue_url":"https://api.github.com/repos/apache/airflow/issues/471","id":144334051,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDMzNDA1MQ==","user":{"login":"martingrayson","id":870417,"node_id":"MDQ6VXNlcjg3MDQxNw==","avatar_url":"https://avatars.githubusercontent.com/u/870417?v=4","gravatar_id":"","url":"https://api.github.com/users/martingrayson","html_url":"https://github.com/martingrayson","followers_url":"https://api.github.com/users/martingrayson/followers","following_url":"https://api.github.com/users/martingrayson/following{/other_user}","gists_url":"https://api.github.com/users/martingrayson/gists{/gist_id}","starred_url":"https://api.github.com/users/martingrayson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martingrayson/subscriptions","organizations_url":"https://api.github.com/users/martingrayson/orgs","repos_url":"https://api.github.com/users/martingrayson/repos","events_url":"https://api.github.com/users/martingrayson/events{/privacy}","received_events_url":"https://api.github.com/users/martingrayson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T09:10:02Z","updated_at":"2015-09-30T09:10:02Z","author_association":"NONE","body":"Thanks guys, this works perfectly for me at the moment. I'll keep an eye on the roadmap and switch to a `DagContainer` style object if you decide that's the way to go.\n\nI guess this could also help to group dags into logical areas if you're able to name a dag container. That could make the UI pretty by giving the ability to hide a whole group of dags.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144334051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144449599","html_url":"https://github.com/apache/airflow/issues/373#issuecomment-144449599","issue_url":"https://api.github.com/repos/apache/airflow/issues/373","id":144449599,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDQ0OTU5OQ==","user":{"login":"neovintage","id":2482,"node_id":"MDQ6VXNlcjI0ODI=","avatar_url":"https://avatars.githubusercontent.com/u/2482?v=4","gravatar_id":"","url":"https://api.github.com/users/neovintage","html_url":"https://github.com/neovintage","followers_url":"https://api.github.com/users/neovintage/followers","following_url":"https://api.github.com/users/neovintage/following{/other_user}","gists_url":"https://api.github.com/users/neovintage/gists{/gist_id}","starred_url":"https://api.github.com/users/neovintage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovintage/subscriptions","organizations_url":"https://api.github.com/users/neovintage/orgs","repos_url":"https://api.github.com/users/neovintage/repos","events_url":"https://api.github.com/users/neovintage/events{/privacy}","received_events_url":"https://api.github.com/users/neovintage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T15:37:46Z","updated_at":"2015-09-30T15:37:46Z","author_association":"CONTRIBUTOR","body":"I did some work on this and it comes down to the url scheme in flask. If you can redirect to that and your whatever you're using to proxy requests ELB in this case uses `X-Forwarded-Proto` in the headers, then this is fixable. \n\nThis gist (https://gist.github.com/neovintage/d93baefc7f623a8f599f) is a plugin that you can add to your installation to add SSL support. Ideally, this should really be merged into master and a config option added. We don't want passwords and things flying over the wire in plain text. \n\nIf @mistercrunch thinks it's worthwhile, I can create a pull request instead of this being a plugin.\n\nWe can prob close this issue out too.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144449599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144474231","html_url":"https://github.com/apache/airflow/pull/463#issuecomment-144474231","issue_url":"https://api.github.com/repos/apache/airflow/issues/463","id":144474231,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDQ3NDIzMQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T16:53:15Z","updated_at":"2015-09-30T16:53:15Z","author_association":"MEMBER","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144474231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144547078","html_url":"https://github.com/apache/airflow/pull/448#issuecomment-144547078","issue_url":"https://api.github.com/repos/apache/airflow/issues/448","id":144547078,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDU0NzA3OA==","user":{"login":"patrickleotardif","id":787256,"node_id":"MDQ6VXNlcjc4NzI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/787256?v=4","gravatar_id":"","url":"https://api.github.com/users/patrickleotardif","html_url":"https://github.com/patrickleotardif","followers_url":"https://api.github.com/users/patrickleotardif/followers","following_url":"https://api.github.com/users/patrickleotardif/following{/other_user}","gists_url":"https://api.github.com/users/patrickleotardif/gists{/gist_id}","starred_url":"https://api.github.com/users/patrickleotardif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrickleotardif/subscriptions","organizations_url":"https://api.github.com/users/patrickleotardif/orgs","repos_url":"https://api.github.com/users/patrickleotardif/repos","events_url":"https://api.github.com/users/patrickleotardif/events{/privacy}","received_events_url":"https://api.github.com/users/patrickleotardif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T21:24:37Z","updated_at":"2015-09-30T21:24:37Z","author_association":"CONTRIBUTOR","body":"@mistercrunch added MAX_PERIODS. I decided that making it just fail if you go over cap is cleaner than trying to decide which 1000 to pick and adding more logic in code.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144547078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144574667","html_url":"https://github.com/apache/airflow/issues/475#issuecomment-144574667","issue_url":"https://api.github.com/repos/apache/airflow/issues/475","id":144574667,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDU3NDY2Nw==","user":{"login":"Yongyiw","id":3275577,"node_id":"MDQ6VXNlcjMyNzU1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/3275577?v=4","gravatar_id":"","url":"https://api.github.com/users/Yongyiw","html_url":"https://github.com/Yongyiw","followers_url":"https://api.github.com/users/Yongyiw/followers","following_url":"https://api.github.com/users/Yongyiw/following{/other_user}","gists_url":"https://api.github.com/users/Yongyiw/gists{/gist_id}","starred_url":"https://api.github.com/users/Yongyiw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yongyiw/subscriptions","organizations_url":"https://api.github.com/users/Yongyiw/orgs","repos_url":"https://api.github.com/users/Yongyiw/repos","events_url":"https://api.github.com/users/Yongyiw/events{/privacy}","received_events_url":"https://api.github.com/users/Yongyiw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T23:34:45Z","updated_at":"2015-09-30T23:34:59Z","author_association":"NONE","body":"My current solution is to create a new time senor class which will update its target_time after trigger.\nThe target time will be saved as environment variables.\n\nAny suggestions or better solutions are appreciated.\n\n```\nclass RunningTimeSensor(BaseSensorOperator):\n    \"\"\"\n    Waits until the specified time of the day, and when the target_time\n    passes, trigger once and update the target_time by adding the given interval.\n\n    :param target_time: time after which the job succeeds.\n    :type target_time: datetime.time\n\n    :param next_target_interval: timedelta added to target_time after the job succeeds.\n    :type next_target_interval: datetime.timedelta\n    \"\"\"\n    template_fields = tuple()\n\n    @apply_defaults\n    def __init__(self, target_time, next_target_interval=timedelta(hours=1), *args, **kwargs):\n        kwargs['poke_interval'] = 10\n        super(RunningTimeSensor, self).__init__(*args, **kwargs)\n        self.task_id = kwargs['task_id']\n        try:\n            self.target_time = Variable.get(key=\"RunningSensor_\"+self.task_id, deserialize_json=False)\n            self.target_time = datetime.strptime(self.target_time , '%Y-%m-%d %H:%M:%S').time()  \n        except:\n            self.target_time = target_time\n            var = airflow.models.Variable(key='RunningSensor_'+self.task_id, val=self.target_time.strftime(\"%Y-%m-%d %H:%M:%S\"))\n            # get the database session\n            session = airflow.settings.Session()\n\n            # add the variable\n            session.add(var)\n            session.commit()\n\n        self.next_target_interval = next_target_interval\n\n        #print(\"#### Init ######\")\n        #print(self.target_time)\n\n    def poke(self, context):\n        #print(\"#### poking ######\")\n        #print(self.target_time)\n        logging.info(\n            'Checking if the time ({0}) has come'.format(self.target_time))\n        trigger = False\n        if datetime.now().time() > self.target_time:\n            trigger = True\n            self.target_time = (\n                datetime.combine(datetime.today(), self.target_time) + self.next_target_interval).time()\n            # save the next schedule time in global variables\n            var = airflow.models.Variable(key='RunningSensor_'+self.task_id, val=self.target_time.strftime(\"%Y-%m-%d %H:%M:%S\"))\n            # get the database session\n            session = airflow.settings.Session()\n\n            # add the variable\n            session.query(Variable).filter_by(key='RunningSensor_'+self.task_id).update({\"val\": self.target_time.strftime(\"%Y-%m-%d %H:%M:%S\")})\n            session.commit()\n            logging.info(\n                'Updating the target time to ({0}) and waiting...'.format(self.target_time))\n        return trigger\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144574667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144578554","html_url":"https://github.com/apache/airflow/pull/450#issuecomment-144578554","issue_url":"https://api.github.com/repos/apache/airflow/issues/450","id":144578554,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDU3ODU1NA==","user":{"login":"patrickleotardif","id":787256,"node_id":"MDQ6VXNlcjc4NzI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/787256?v=4","gravatar_id":"","url":"https://api.github.com/users/patrickleotardif","html_url":"https://github.com/patrickleotardif","followers_url":"https://api.github.com/users/patrickleotardif/followers","following_url":"https://api.github.com/users/patrickleotardif/following{/other_user}","gists_url":"https://api.github.com/users/patrickleotardif/gists{/gist_id}","starred_url":"https://api.github.com/users/patrickleotardif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrickleotardif/subscriptions","organizations_url":"https://api.github.com/users/patrickleotardif/orgs","repos_url":"https://api.github.com/users/patrickleotardif/repos","events_url":"https://api.github.com/users/patrickleotardif/events{/privacy}","received_events_url":"https://api.github.com/users/patrickleotardif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T00:06:31Z","updated_at":"2015-10-01T00:06:31Z","author_association":"CONTRIBUTOR","body":"@mistercrunch I fixed your notes and tested it fully on prod by triggering the scheduler in the middle of backfills that I created for test dags.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144578554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144601864","html_url":"https://github.com/apache/airflow/issues/476#issuecomment-144601864","issue_url":"https://api.github.com/repos/apache/airflow/issues/476","id":144601864,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDYwMTg2NA==","user":{"login":"mtustin-handy","id":12694887,"node_id":"MDQ6VXNlcjEyNjk0ODg3","avatar_url":"https://avatars.githubusercontent.com/u/12694887?v=4","gravatar_id":"","url":"https://api.github.com/users/mtustin-handy","html_url":"https://github.com/mtustin-handy","followers_url":"https://api.github.com/users/mtustin-handy/followers","following_url":"https://api.github.com/users/mtustin-handy/following{/other_user}","gists_url":"https://api.github.com/users/mtustin-handy/gists{/gist_id}","starred_url":"https://api.github.com/users/mtustin-handy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtustin-handy/subscriptions","organizations_url":"https://api.github.com/users/mtustin-handy/orgs","repos_url":"https://api.github.com/users/mtustin-handy/repos","events_url":"https://api.github.com/users/mtustin-handy/events{/privacy}","received_events_url":"https://api.github.com/users/mtustin-handy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T02:52:24Z","updated_at":"2015-10-01T02:52:24Z","author_association":"CONTRIBUTOR","body":"I created a PR to address this need: https://github.com/airbnb/airflow/pull/477\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144601864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144623067","html_url":"https://github.com/apache/airflow/issues/6#issuecomment-144623067","issue_url":"https://api.github.com/repos/apache/airflow/issues/6","id":144623067,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDYyMzA2Nw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T05:29:48Z","updated_at":"2015-10-01T05:29:48Z","author_association":"MEMBER","body":"@jlowin , `ExternalDagSensor` sounds good, check out the DAG's `root` property to get all tasks without downstream deps.\n\nI like for everything in a DAG to converge to a last point (an email operator + slack operator that post about completion) but I can understand that not everyone build their DAGs that way.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144623067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144626969","html_url":"https://github.com/apache/airflow/pull/477#issuecomment-144626969","issue_url":"https://api.github.com/repos/apache/airflow/issues/477","id":144626969,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDYyNjk2OQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T05:45:08Z","updated_at":"2015-10-01T05:45:08Z","author_association":"MEMBER","body":"Nice!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144626969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144628010","html_url":"https://github.com/apache/airflow/issues/475#issuecomment-144628010","issue_url":"https://api.github.com/repos/apache/airflow/issues/475","id":144628010,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDYyODAxMA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T05:53:06Z","updated_at":"2015-10-01T05:53:06Z","author_association":"MEMBER","body":"Wait, how often do you want to trigger the task? Hourly or daily? The schedule_interval is a DAG param, not a task param.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144628010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144689635","html_url":"https://github.com/apache/airflow/issues/383#issuecomment-144689635","issue_url":"https://api.github.com/repos/apache/airflow/issues/383","id":144689635,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDY4OTYzNQ==","user":{"login":"sergiohgz","id":14012309,"node_id":"MDQ6VXNlcjE0MDEyMzA5","avatar_url":"https://avatars.githubusercontent.com/u/14012309?v=4","gravatar_id":"","url":"https://api.github.com/users/sergiohgz","html_url":"https://github.com/sergiohgz","followers_url":"https://api.github.com/users/sergiohgz/followers","following_url":"https://api.github.com/users/sergiohgz/following{/other_user}","gists_url":"https://api.github.com/users/sergiohgz/gists{/gist_id}","starred_url":"https://api.github.com/users/sergiohgz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergiohgz/subscriptions","organizations_url":"https://api.github.com/users/sergiohgz/orgs","repos_url":"https://api.github.com/users/sergiohgz/repos","events_url":"https://api.github.com/users/sergiohgz/events{/privacy}","received_events_url":"https://api.github.com/users/sergiohgz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T10:32:37Z","updated_at":"2015-10-01T10:32:37Z","author_association":"CONTRIBUTOR","body":"I tried to set environment variables as shown at documentation with Postgres Master endoint and it didn't work. I  tested that with last version downloaded from git and the last version downloaded from pip. Could give examples of how define with environment variables HTTPs connections?\n\nThank you so much\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144689635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144704504","html_url":"https://github.com/apache/airflow/issues/475#issuecomment-144704504","issue_url":"https://api.github.com/repos/apache/airflow/issues/475","id":144704504,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDcwNDUwNA==","user":{"login":"Yongyiw","id":3275577,"node_id":"MDQ6VXNlcjMyNzU1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/3275577?v=4","gravatar_id":"","url":"https://api.github.com/users/Yongyiw","html_url":"https://github.com/Yongyiw","followers_url":"https://api.github.com/users/Yongyiw/followers","following_url":"https://api.github.com/users/Yongyiw/following{/other_user}","gists_url":"https://api.github.com/users/Yongyiw/gists{/gist_id}","starred_url":"https://api.github.com/users/Yongyiw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yongyiw/subscriptions","organizations_url":"https://api.github.com/users/Yongyiw/orgs","repos_url":"https://api.github.com/users/Yongyiw/repos","events_url":"https://api.github.com/users/Yongyiw/events{/privacy}","received_events_url":"https://api.github.com/users/Yongyiw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T11:45:02Z","updated_at":"2015-10-01T13:11:51Z","author_association":"NONE","body":"I want the task to be triggered hourly. \n\nJust found another similar issue: https://github.com/airbnb/airflow/issues/219\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144704504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144776303","html_url":"https://github.com/apache/airflow/issues/417#issuecomment-144776303","issue_url":"https://api.github.com/repos/apache/airflow/issues/417","id":144776303,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDc3NjMwMw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T16:16:41Z","updated_at":"2015-10-01T16:16:41Z","author_association":"MEMBER","body":"@jlowin , I like the clarity that breaking the schedule element away from the DAG brings. Breaking it apart means rethinking some of the UI design and things like SLA management, or just hiding some components where they don't make sense.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144776303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144778368","html_url":"https://github.com/apache/airflow/issues/474#issuecomment-144778368","issue_url":"https://api.github.com/repos/apache/airflow/issues/474","id":144778368,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDc3ODM2OA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T16:23:11Z","updated_at":"2015-10-01T16:23:11Z","author_association":"MEMBER","body":"The docs are missing a parameter `s3_conn_id` which defaults to `s3_default` (I'm adding it to the docs as soon as I have a minute), you need to create this connection through the Connection menu in the UI, or using environment variables.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144778368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144783032","html_url":"https://github.com/apache/airflow/issues/417#issuecomment-144783032","issue_url":"https://api.github.com/repos/apache/airflow/issues/417","id":144783032,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDc4MzAzMg==","user":{"login":"georgebdavis","id":1571534,"node_id":"MDQ6VXNlcjE1NzE1MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1571534?v=4","gravatar_id":"","url":"https://api.github.com/users/georgebdavis","html_url":"https://github.com/georgebdavis","followers_url":"https://api.github.com/users/georgebdavis/followers","following_url":"https://api.github.com/users/georgebdavis/following{/other_user}","gists_url":"https://api.github.com/users/georgebdavis/gists{/gist_id}","starred_url":"https://api.github.com/users/georgebdavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgebdavis/subscriptions","organizations_url":"https://api.github.com/users/georgebdavis/orgs","repos_url":"https://api.github.com/users/georgebdavis/repos","events_url":"https://api.github.com/users/georgebdavis/events{/privacy}","received_events_url":"https://api.github.com/users/georgebdavis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T16:43:30Z","updated_at":"2015-10-01T19:20:21Z","author_association":"NONE","body":"One way to minimize change and keep value in UI would be to retain a\ntimestamp (time of request for on-demand) but introduce a user provided\nlabel.  Concatenating the two would give an ordered unique id to reference\nruns even for near simultaneous requests, and sequenced UIs like the tree\nview wouldn't change much.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144783032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144784577","html_url":"https://github.com/apache/airflow/issues/476#issuecomment-144784577","issue_url":"https://api.github.com/repos/apache/airflow/issues/476","id":144784577,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDc4NDU3Nw==","user":{"login":"mtustin-handy","id":12694887,"node_id":"MDQ6VXNlcjEyNjk0ODg3","avatar_url":"https://avatars.githubusercontent.com/u/12694887?v=4","gravatar_id":"","url":"https://api.github.com/users/mtustin-handy","html_url":"https://github.com/mtustin-handy","followers_url":"https://api.github.com/users/mtustin-handy/followers","following_url":"https://api.github.com/users/mtustin-handy/following{/other_user}","gists_url":"https://api.github.com/users/mtustin-handy/gists{/gist_id}","starred_url":"https://api.github.com/users/mtustin-handy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtustin-handy/subscriptions","organizations_url":"https://api.github.com/users/mtustin-handy/orgs","repos_url":"https://api.github.com/users/mtustin-handy/repos","events_url":"https://api.github.com/users/mtustin-handy/events{/privacy}","received_events_url":"https://api.github.com/users/mtustin-handy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T16:50:44Z","updated_at":"2015-10-01T16:50:44Z","author_association":"CONTRIBUTOR","body":"FYI that last PR didn't affect the backfill cli behaviour. Here's a new one that fixes that: https://github.com/airbnb/airflow/pull/478\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144784577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144788469","html_url":"https://github.com/apache/airflow/pull/448#issuecomment-144788469","issue_url":"https://api.github.com/repos/apache/airflow/issues/448","id":144788469,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDc4ODQ2OQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T17:08:26Z","updated_at":"2015-10-01T17:08:26Z","author_association":"MEMBER","body":"Awesome. Looks perfect.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144788469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144812401","html_url":"https://github.com/apache/airflow/issues/417#issuecomment-144812401","issue_url":"https://api.github.com/repos/apache/airflow/issues/417","id":144812401,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDgxMjQwMQ==","user":{"login":"arijun","id":4633429,"node_id":"MDQ6VXNlcjQ2MzM0Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4633429?v=4","gravatar_id":"","url":"https://api.github.com/users/arijun","html_url":"https://github.com/arijun","followers_url":"https://api.github.com/users/arijun/followers","following_url":"https://api.github.com/users/arijun/following{/other_user}","gists_url":"https://api.github.com/users/arijun/gists{/gist_id}","starred_url":"https://api.github.com/users/arijun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arijun/subscriptions","organizations_url":"https://api.github.com/users/arijun/orgs","repos_url":"https://api.github.com/users/arijun/repos","events_url":"https://api.github.com/users/arijun/events{/privacy}","received_events_url":"https://api.github.com/users/arijun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T18:40:14Z","updated_at":"2015-10-01T19:30:53Z","author_association":"NONE","body":"I really like @jlowin's suggestion unify different methods of triggering DAGs. It might make sense to include these various triggers in the DAG though. Consider a case where I want to fire off a series of tasks when a file changes after 6pm. You could represent this either as a scheduler which is limited by FileSensor, or a file-watching ExternalTrigger which is limited by a time sensor. These would have very similar effects, but very different representations in the DAG with @jlowin's implementation. \n\nAn alternative might be to have a different class of node in the DAG that is a \"trigger\" node, which would take the place of that separately defined scheduler. Thus the first node of a DAG would (almost) always be one of these \"trigger\" nodes, like a `TimeOfDay` trigger for daily tasks or `FileUpdated` trigger for on demand tasks. \n\nThese trigger nodes would be fundamentally different than `Operator` nodes in that they would be stateful--they would fire only once, each time their requirements are met.  For example, a `TimeOfDay` trigger would conceptually differ from a `TimeSensor` operator in the sense that \n- if you ask a `TimeSensor` directly upstream of you if you can run the answer will always be yes (assuming the time has passed)\n- if you ask a `TimeOfDay` trigger directly upstream of you if you can run, the answer will be yes _only for one run_. If you do a run right after the time of day passes, asking again will give you a no.\n\nConceptually, this is very similar to [dataflow programming](https://en.wikipedia.org/wiki/Dataflow_programming) languages like LabView, and with good reason. I think that those kind of languages provide a very fruitful analogue to what people mean in describing their workflow. To paraphrase [this](http://stackoverflow.com/a/949771) stack overflow answer, airflow could be seen as a state of 'this is running now' flowing through otherwise static instructions (a DAG), like how electrical signals flow through circuits or water flows through pipes. In this view, the triggers would be the generators of the 'this is running now' state.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144812401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144821582","html_url":"https://github.com/apache/airflow/issues/475#issuecomment-144821582","issue_url":"https://api.github.com/repos/apache/airflow/issues/475","id":144821582,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDgyMTU4Mg==","user":{"login":"Yongyiw","id":3275577,"node_id":"MDQ6VXNlcjMyNzU1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/3275577?v=4","gravatar_id":"","url":"https://api.github.com/users/Yongyiw","html_url":"https://github.com/Yongyiw","followers_url":"https://api.github.com/users/Yongyiw/followers","following_url":"https://api.github.com/users/Yongyiw/following{/other_user}","gists_url":"https://api.github.com/users/Yongyiw/gists{/gist_id}","starred_url":"https://api.github.com/users/Yongyiw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yongyiw/subscriptions","organizations_url":"https://api.github.com/users/Yongyiw/orgs","repos_url":"https://api.github.com/users/Yongyiw/repos","events_url":"https://api.github.com/users/Yongyiw/events{/privacy}","received_events_url":"https://api.github.com/users/Yongyiw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-01T19:18:34Z","updated_at":"2015-10-01T19:18:34Z","author_association":"NONE","body":"Suddenly I realize I changed my default executor to `LocalExecutor` few days ago.... After I reset it back to `SequentialExecutor`, my customized time senor works in scheduler.\n\nAnd I kind of understand how to set up `schedule_interval` for DAG: If I want the time sensor tasks to be triggered hourly, I have to set the DAG `schedule_interval` to less than an hour. Or else the DAG will not be executed hourly, neither do the time sensors in that DAG.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144821582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144895879","html_url":"https://github.com/apache/airflow/issues/417#issuecomment-144895879","issue_url":"https://api.github.com/repos/apache/airflow/issues/417","id":144895879,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDg5NTg3OQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T01:35:18Z","updated_at":"2015-10-02T01:35:18Z","author_association":"MEMBER","body":"@arijun, interesting points. Triggers remind me of an oscillators in a synthesizer. Now if this is incorporated inside a DAG, that means that the triggering element acts on all (and only) downstream tasks from that point.\n\nRelated notes, and more related to having a trigger at a DAG level: the current primary key for a task instance is `(dag_id, task_id, execution_date)`, I was thinking in sticking with that, but having an external notion of which execution_dates should actually exist and a mean of attaching a run_id of some kind. You can picture a new model `DagRun` with (dag_id, execution_date, run_id), it defines the schedules that should exist for each DAG, the trigger can label that run using the run_id for future references. For a given scheduled DAG, the scheduler would probably insert new dag schedules in this model, and for externally triggered dags, an event of some kind would insert a new timestamp.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144895879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144896041","html_url":"https://github.com/apache/airflow/pull/450#issuecomment-144896041","issue_url":"https://api.github.com/repos/apache/airflow/issues/450","id":144896041,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDg5NjA0MQ==","user":{"login":"patrickleotardif","id":787256,"node_id":"MDQ6VXNlcjc4NzI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/787256?v=4","gravatar_id":"","url":"https://api.github.com/users/patrickleotardif","html_url":"https://github.com/patrickleotardif","followers_url":"https://api.github.com/users/patrickleotardif/followers","following_url":"https://api.github.com/users/patrickleotardif/following{/other_user}","gists_url":"https://api.github.com/users/patrickleotardif/gists{/gist_id}","starred_url":"https://api.github.com/users/patrickleotardif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrickleotardif/subscriptions","organizations_url":"https://api.github.com/users/patrickleotardif/orgs","repos_url":"https://api.github.com/users/patrickleotardif/repos","events_url":"https://api.github.com/users/patrickleotardif/events{/privacy}","received_events_url":"https://api.github.com/users/patrickleotardif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T01:37:05Z","updated_at":"2015-10-02T01:37:05Z","author_association":"CONTRIBUTOR","body":"Added changes as discussed and sent some test emails on prod successfully (across multiple days too).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144896041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144896200","html_url":"https://github.com/apache/airflow/pull/450#issuecomment-144896200","issue_url":"https://api.github.com/repos/apache/airflow/issues/450","id":144896200,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDg5NjIwMA==","user":{"login":"patrickleotardif","id":787256,"node_id":"MDQ6VXNlcjc4NzI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/787256?v=4","gravatar_id":"","url":"https://api.github.com/users/patrickleotardif","html_url":"https://github.com/patrickleotardif","followers_url":"https://api.github.com/users/patrickleotardif/followers","following_url":"https://api.github.com/users/patrickleotardif/following{/other_user}","gists_url":"https://api.github.com/users/patrickleotardif/gists{/gist_id}","starred_url":"https://api.github.com/users/patrickleotardif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrickleotardif/subscriptions","organizations_url":"https://api.github.com/users/patrickleotardif/orgs","repos_url":"https://api.github.com/users/patrickleotardif/repos","events_url":"https://api.github.com/users/patrickleotardif/events{/privacy}","received_events_url":"https://api.github.com/users/patrickleotardif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T01:38:45Z","updated_at":"2015-10-02T01:38:45Z","author_association":"CONTRIBUTOR","body":"@mistercrunch I would merge but I can't :cry: \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144896200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144896499","html_url":"https://github.com/apache/airflow/pull/450#issuecomment-144896499","issue_url":"https://api.github.com/repos/apache/airflow/issues/450","id":144896499,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDg5NjQ5OQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T01:41:45Z","updated_at":"2015-10-02T01:41:45Z","author_association":"MEMBER","body":"Mergin'!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144896499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144907999","html_url":"https://github.com/apache/airflow/pull/448#issuecomment-144907999","issue_url":"https://api.github.com/repos/apache/airflow/issues/448","id":144907999,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDkwNzk5OQ==","user":{"login":"jlowin","id":153965,"node_id":"MDQ6VXNlcjE1Mzk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/153965?v=4","gravatar_id":"","url":"https://api.github.com/users/jlowin","html_url":"https://github.com/jlowin","followers_url":"https://api.github.com/users/jlowin/followers","following_url":"https://api.github.com/users/jlowin/following{/other_user}","gists_url":"https://api.github.com/users/jlowin/gists{/gist_id}","starred_url":"https://api.github.com/users/jlowin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlowin/subscriptions","organizations_url":"https://api.github.com/users/jlowin/orgs","repos_url":"https://api.github.com/users/jlowin/repos","events_url":"https://api.github.com/users/jlowin/events{/privacy}","received_events_url":"https://api.github.com/users/jlowin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T03:29:32Z","updated_at":"2015-10-02T03:29:32Z","author_association":"MEMBER","body":"Great addition!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/144907999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145017551","html_url":"https://github.com/apache/airflow/issues/479#issuecomment-145017551","issue_url":"https://api.github.com/repos/apache/airflow/issues/479","id":145017551,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTAxNzU1MQ==","user":{"login":"mtustin-handy","id":12694887,"node_id":"MDQ6VXNlcjEyNjk0ODg3","avatar_url":"https://avatars.githubusercontent.com/u/12694887?v=4","gravatar_id":"","url":"https://api.github.com/users/mtustin-handy","html_url":"https://github.com/mtustin-handy","followers_url":"https://api.github.com/users/mtustin-handy/followers","following_url":"https://api.github.com/users/mtustin-handy/following{/other_user}","gists_url":"https://api.github.com/users/mtustin-handy/gists{/gist_id}","starred_url":"https://api.github.com/users/mtustin-handy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtustin-handy/subscriptions","organizations_url":"https://api.github.com/users/mtustin-handy/orgs","repos_url":"https://api.github.com/users/mtustin-handy/repos","events_url":"https://api.github.com/users/mtustin-handy/events{/privacy}","received_events_url":"https://api.github.com/users/mtustin-handy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T13:16:35Z","updated_at":"2015-10-02T13:16:35Z","author_association":"CONTRIBUTOR","body":"This was a configuration error. It would be nice to have a --verbose option/config option to dump config. Or even better, with an option to automatically test consistency of options when working with celery. \n\nObviously that's a non-trivial change. I'll leave this issue open in case I (or anyone else) gets around to implementing such functionality.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145017551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145021900","html_url":"https://github.com/apache/airflow/issues/479#issuecomment-145021900","issue_url":"https://api.github.com/repos/apache/airflow/issues/479","id":145021900,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTAyMTkwMA==","user":{"login":"mtustin-handy","id":12694887,"node_id":"MDQ6VXNlcjEyNjk0ODg3","avatar_url":"https://avatars.githubusercontent.com/u/12694887?v=4","gravatar_id":"","url":"https://api.github.com/users/mtustin-handy","html_url":"https://github.com/mtustin-handy","followers_url":"https://api.github.com/users/mtustin-handy/followers","following_url":"https://api.github.com/users/mtustin-handy/following{/other_user}","gists_url":"https://api.github.com/users/mtustin-handy/gists{/gist_id}","starred_url":"https://api.github.com/users/mtustin-handy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtustin-handy/subscriptions","organizations_url":"https://api.github.com/users/mtustin-handy/orgs","repos_url":"https://api.github.com/users/mtustin-handy/repos","events_url":"https://api.github.com/users/mtustin-handy/events{/privacy}","received_events_url":"https://api.github.com/users/mtustin-handy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T13:35:48Z","updated_at":"2015-10-02T13:35:48Z","author_association":"CONTRIBUTOR","body":"Or, perhaps less ambitiously, when running `airflow worker` printing out the DB connection string, just like the celery broker and result connection strings are printed. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145021900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145145927","html_url":"https://github.com/apache/airflow/issues/473#issuecomment-145145927","issue_url":"https://api.github.com/repos/apache/airflow/issues/473","id":145145927,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE0NTkyNw==","user":{"login":"kapil-malik","id":3902288,"node_id":"MDQ6VXNlcjM5MDIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/3902288?v=4","gravatar_id":"","url":"https://api.github.com/users/kapil-malik","html_url":"https://github.com/kapil-malik","followers_url":"https://api.github.com/users/kapil-malik/followers","following_url":"https://api.github.com/users/kapil-malik/following{/other_user}","gists_url":"https://api.github.com/users/kapil-malik/gists{/gist_id}","starred_url":"https://api.github.com/users/kapil-malik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapil-malik/subscriptions","organizations_url":"https://api.github.com/users/kapil-malik/orgs","repos_url":"https://api.github.com/users/kapil-malik/repos","events_url":"https://api.github.com/users/kapil-malik/events{/privacy}","received_events_url":"https://api.github.com/users/kapil-malik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T20:26:33Z","updated_at":"2015-10-02T20:26:33Z","author_association":"NONE","body":"I'd reproduced this error on 3 fresh installations atleast.\nNot observing it any more, \nsql_alchemy_conn is `mysql://root:aether@10.0.0.97:3306/airflow`\nI installed mariadb-devel explicitly this time, probably that helped.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145145927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145146031","html_url":"https://github.com/apache/airflow/issues/280#issuecomment-145146031","issue_url":"https://api.github.com/repos/apache/airflow/issues/280","id":145146031,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE0NjAzMQ==","user":{"login":"jasminetsai","id":1663847,"node_id":"MDQ6VXNlcjE2NjM4NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1663847?v=4","gravatar_id":"","url":"https://api.github.com/users/jasminetsai","html_url":"https://github.com/jasminetsai","followers_url":"https://api.github.com/users/jasminetsai/followers","following_url":"https://api.github.com/users/jasminetsai/following{/other_user}","gists_url":"https://api.github.com/users/jasminetsai/gists{/gist_id}","starred_url":"https://api.github.com/users/jasminetsai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasminetsai/subscriptions","organizations_url":"https://api.github.com/users/jasminetsai/orgs","repos_url":"https://api.github.com/users/jasminetsai/repos","events_url":"https://api.github.com/users/jasminetsai/events{/privacy}","received_events_url":"https://api.github.com/users/jasminetsai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T20:27:04Z","updated_at":"2015-10-02T20:27:04Z","author_association":"NONE","body":"@neovintage did you end up making progress on this? Would be curious to see it. I am attempting something similar atm.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145146031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145157140","html_url":"https://github.com/apache/airflow/issues/280#issuecomment-145157140","issue_url":"https://api.github.com/repos/apache/airflow/issues/280","id":145157140,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE1NzE0MA==","user":{"login":"neovintage","id":2482,"node_id":"MDQ6VXNlcjI0ODI=","avatar_url":"https://avatars.githubusercontent.com/u/2482?v=4","gravatar_id":"","url":"https://api.github.com/users/neovintage","html_url":"https://github.com/neovintage","followers_url":"https://api.github.com/users/neovintage/followers","following_url":"https://api.github.com/users/neovintage/following{/other_user}","gists_url":"https://api.github.com/users/neovintage/gists{/gist_id}","starred_url":"https://api.github.com/users/neovintage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovintage/subscriptions","organizations_url":"https://api.github.com/users/neovintage/orgs","repos_url":"https://api.github.com/users/neovintage/repos","events_url":"https://api.github.com/users/neovintage/events{/privacy}","received_events_url":"https://api.github.com/users/neovintage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T21:17:13Z","updated_at":"2015-10-02T21:17:13Z","author_association":"CONTRIBUTOR","body":"Yes I did and it works. :-)\n\nhttps://Github.com/heroku/heroku-airflow\n\nThere's zero documentation on how to release it to heroku and is all in my head unfortunately. I'll try to write that up soon\n\nSent from my iPhone\n\n> On Oct 2, 2015, at 1:27 PM, Jasmine Tsai notifications@github.com wrote:\n> \n> @neovintage did you end up making progress on this? Would be curious to see it. I am attempting something similar atm.\n> \n> â€”\n> Reply to this email directly or view it on GitHub.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145157140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145158966","html_url":"https://github.com/apache/airflow/issues/280#issuecomment-145158966","issue_url":"https://api.github.com/repos/apache/airflow/issues/280","id":145158966,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE1ODk2Ng==","user":{"login":"jasminetsai","id":1663847,"node_id":"MDQ6VXNlcjE2NjM4NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1663847?v=4","gravatar_id":"","url":"https://api.github.com/users/jasminetsai","html_url":"https://github.com/jasminetsai","followers_url":"https://api.github.com/users/jasminetsai/followers","following_url":"https://api.github.com/users/jasminetsai/following{/other_user}","gists_url":"https://api.github.com/users/jasminetsai/gists{/gist_id}","starred_url":"https://api.github.com/users/jasminetsai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasminetsai/subscriptions","organizations_url":"https://api.github.com/users/jasminetsai/orgs","repos_url":"https://api.github.com/users/jasminetsai/repos","events_url":"https://api.github.com/users/jasminetsai/events{/privacy}","received_events_url":"https://api.github.com/users/jasminetsai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T21:25:19Z","updated_at":"2015-10-02T21:25:19Z","author_association":"NONE","body":"Nice, are you running the scheduler + webserver in the same instance or\nseparately ?\n\nOn Fri, Oct 2, 2015 at 2:17 PM, Rimas Silkaitis notifications@github.com\nwrote:\n\n> Yes I did and it works. :-)\n> \n> https://Github.com/heroku/heroku-airflow\n> \n> There's zero documentation on how to release it to heroku and is all in my\n> head unfortunately. I'll try to write that up soon\n> \n> Sent from my iPhone\n> \n> > On Oct 2, 2015, at 1:27 PM, Jasmine Tsai notifications@github.com\n> > wrote:\n> > \n> > @neovintage did you end up making progress on this? Would be curious to\n> > see it. I am attempting something similar atm.\n> > \n> > â€”\n> > Reply to this email directly or view it on GitHub.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/airflow/issues/280#issuecomment-145157140.\n\n## \n\nJasmine Y. Tsai\n+1 415 812 2219\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145158966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145181033","html_url":"https://github.com/apache/airflow/issues/480#issuecomment-145181033","issue_url":"https://api.github.com/repos/apache/airflow/issues/480","id":145181033,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE4MTAzMw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T23:14:53Z","updated_at":"2015-10-02T23:14:53Z","author_association":"MEMBER","body":"`depends_on_past` mean \"Don't move forward if the previous schedule has not succeeded, unless this current run is the the start_date\". The logic that should be applied is : `depends_on_past AND trigger_rule`, is that not what you see?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145181033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145181507","html_url":"https://github.com/apache/airflow/issues/480#issuecomment-145181507","issue_url":"https://api.github.com/repos/apache/airflow/issues/480","id":145181507,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE4MTUwNw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T23:19:29Z","updated_at":"2015-10-02T23:19:29Z","author_association":"MEMBER","body":"BTW when I designed trigger_rule I thought about a much more complex design where many trigger rules could be applied and potentially AND/OR and parenthesis could have been used to combine the rules. depends_on_past would have then become just another trigger rule that could have been applied as part of a more complex combination or rules.\n\nBut I ended up keeping it simple as we've been solving 90% of cases with just \"all_done\" and the current options probably bring us to 99.x% of our use cases..\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145181507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145261592","html_url":"https://github.com/apache/airflow/issues/280#issuecomment-145261592","issue_url":"https://api.github.com/repos/apache/airflow/issues/280","id":145261592,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTI2MTU5Mg==","user":{"login":"neovintage","id":2482,"node_id":"MDQ6VXNlcjI0ODI=","avatar_url":"https://avatars.githubusercontent.com/u/2482?v=4","gravatar_id":"","url":"https://api.github.com/users/neovintage","html_url":"https://github.com/neovintage","followers_url":"https://api.github.com/users/neovintage/followers","following_url":"https://api.github.com/users/neovintage/following{/other_user}","gists_url":"https://api.github.com/users/neovintage/gists{/gist_id}","starred_url":"https://api.github.com/users/neovintage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovintage/subscriptions","organizations_url":"https://api.github.com/users/neovintage/orgs","repos_url":"https://api.github.com/users/neovintage/repos","events_url":"https://api.github.com/users/neovintage/events{/privacy}","received_events_url":"https://api.github.com/users/neovintage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T16:12:40Z","updated_at":"2015-10-03T16:12:40Z","author_association":"CONTRIBUTOR","body":"Scheduler runs in a separate process. Although, it's not documented in the current Procfile on the project.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145261592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145262907","html_url":"https://github.com/apache/airflow/issues/417#issuecomment-145262907","issue_url":"https://api.github.com/repos/apache/airflow/issues/417","id":145262907,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTI2MjkwNw==","user":{"login":"georgebdavis","id":1571534,"node_id":"MDQ6VXNlcjE1NzE1MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1571534?v=4","gravatar_id":"","url":"https://api.github.com/users/georgebdavis","html_url":"https://github.com/georgebdavis","followers_url":"https://api.github.com/users/georgebdavis/followers","following_url":"https://api.github.com/users/georgebdavis/following{/other_user}","gists_url":"https://api.github.com/users/georgebdavis/gists{/gist_id}","starred_url":"https://api.github.com/users/georgebdavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgebdavis/subscriptions","organizations_url":"https://api.github.com/users/georgebdavis/orgs","repos_url":"https://api.github.com/users/georgebdavis/repos","events_url":"https://api.github.com/users/georgebdavis/events{/privacy}","received_events_url":"https://api.github.com/users/georgebdavis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T16:25:21Z","updated_at":"2015-10-03T16:33:40Z","author_association":"NONE","body":"@mistercrunch $0.02 on the ID scheme (which makes good sense to me - no reason to forego the timestamp, which is useful even if something else triggered the run!): either make `run_id` a user-defined string or make sure there's a way to associate user tags with a `run_id`.  This snags you two short term benefits and a third in the distance:\n1. CLI commands will be easier to use if you can reference your own label for a run.  In cases where runs are sparse in time, it might be sufficient to specify just the user-defined label and avoid having to remember the date you ran it. (E.g. `airflow clear customer_cancellation_analysis generate_report -label customer_user_name`, without having to remember what date you generated the analysis.)\n2. If the label is accessible to DAG tasks (e.g. via the context), it could be a way to pass some metadata into a run (e.g. parameters of an on-demand run, like the above `customer_user_name`).\n3. In the future, labels might let you subselect runs for some of the same views that airflow provides now.  Imagine a DAG that analyzes stats within an availability zone in your architecture, and you trigger it once per day per AZ with the label for that AZ.  A new dropdown on the treeview could let you look at just the history for one AZ.\n\nSome of the use cases above might be better served by specific `run_id`-associated metadata, but just having one user-settable label would give a head start on all of them, and probably stay useful even if the metadata gets added at some future point.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145262907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145272452","html_url":"https://github.com/apache/airflow/issues/406#issuecomment-145272452","issue_url":"https://api.github.com/repos/apache/airflow/issues/406","id":145272452,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTI3MjQ1Mg==","user":{"login":"mtustin-handy","id":12694887,"node_id":"MDQ6VXNlcjEyNjk0ODg3","avatar_url":"https://avatars.githubusercontent.com/u/12694887?v=4","gravatar_id":"","url":"https://api.github.com/users/mtustin-handy","html_url":"https://github.com/mtustin-handy","followers_url":"https://api.github.com/users/mtustin-handy/followers","following_url":"https://api.github.com/users/mtustin-handy/following{/other_user}","gists_url":"https://api.github.com/users/mtustin-handy/gists{/gist_id}","starred_url":"https://api.github.com/users/mtustin-handy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtustin-handy/subscriptions","organizations_url":"https://api.github.com/users/mtustin-handy/orgs","repos_url":"https://api.github.com/users/mtustin-handy/repos","events_url":"https://api.github.com/users/mtustin-handy/events{/privacy}","received_events_url":"https://api.github.com/users/mtustin-handy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T17:51:50Z","updated_at":"2015-10-03T17:51:50Z","author_association":"CONTRIBUTOR","body":"FYI, you can now specify the core option `donot_pickle=True` to disable pickling, and instead pre-distribute your code.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145272452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145280684","html_url":"https://github.com/apache/airflow/issues/480#issuecomment-145280684","issue_url":"https://api.github.com/repos/apache/airflow/issues/480","id":145280684,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTI4MDY4NA==","user":{"login":"timeisapear","id":4983212,"node_id":"MDQ6VXNlcjQ5ODMyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/4983212?v=4","gravatar_id":"","url":"https://api.github.com/users/timeisapear","html_url":"https://github.com/timeisapear","followers_url":"https://api.github.com/users/timeisapear/followers","following_url":"https://api.github.com/users/timeisapear/following{/other_user}","gists_url":"https://api.github.com/users/timeisapear/gists{/gist_id}","starred_url":"https://api.github.com/users/timeisapear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timeisapear/subscriptions","organizations_url":"https://api.github.com/users/timeisapear/orgs","repos_url":"https://api.github.com/users/timeisapear/repos","events_url":"https://api.github.com/users/timeisapear/events{/privacy}","received_events_url":"https://api.github.com/users/timeisapear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T19:25:14Z","updated_at":"2015-10-03T19:25:14Z","author_association":"NONE","body":"The logic in using `trigger_rule AND depends_on_past` I was hoping for in our workflow would be: schedule today's task if the previous day's task instance is in a state defined in the current day's `trigger_rule` e.g. `failed` and not necessarily `succeeded`. That might not be desired for most people so I'm not surprised I don't see that behavior.\n\nOn a related note, we've been testing mostly with `airflow backfill` CLI and I've had trouble using merely `trigger_rule='all_done'` on a task downstream of multiple dependencies. If the tasks upstream of the `trigger_rule='all_done'` fail, they retry a few times and the relaxed trigger state task gets skipped. (note all my testing has been done off a `pip install` version of a few weeks ago.)\n\nOur dag: even if all 90 `anom` tasks failed today and yesterday, we'd want `dri` to run. Also would prefer `dri` for today ran before yesterday's.\n\n<img width=\"245\" alt=\"screen shot 2015-10-03 at 3 23 28 pm\" src=\"https://cloud.githubusercontent.com/assets/4983212/10264735/dd565fe8-69e2-11e5-9463-057793462b38.png\">\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145280684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145379832","html_url":"https://github.com/apache/airflow/issues/222#issuecomment-145379832","issue_url":"https://api.github.com/repos/apache/airflow/issues/222","id":145379832,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTM3OTgzMg==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-04T19:28:00Z","updated_at":"2015-10-04T19:28:00Z","author_association":"CONTRIBUTOR","body":"@txominpelu @garthcn @pharoson I need some help in testing the patches I have created. Would you mind taking a look and either comment on the PR-#438 or here what your experiences are?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145379832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145402857","html_url":"https://github.com/apache/airflow/issues/480#issuecomment-145402857","issue_url":"https://api.github.com/repos/apache/airflow/issues/480","id":145402857,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQwMjg1Nw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-04T23:38:47Z","updated_at":"2015-10-04T23:38:47Z","author_association":"MEMBER","body":"I'm not sure if I understand \"they retry a few times and the relaxed trigger state task gets skipped\"\n\nI just read the code to review the definition of all_done and right now it correspond to either: SUCCESS, FAILED, UPSTREAM_FAILED, SKIPPED. If all the task instances are in one of those states, only then the downstream task should trigger (well if depends_on_past and wait_for_downstream are met, independently from this). Let me know if you've observed otherwise or if you think the logic should be changed.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145402857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145447529","html_url":"https://github.com/apache/airflow/pull/254#issuecomment-145447529","issue_url":"https://api.github.com/repos/apache/airflow/issues/254","id":145447529,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQ0NzUyOQ==","user":{"login":"danielepolencic","id":1130499,"node_id":"MDQ6VXNlcjExMzA0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1130499?v=4","gravatar_id":"","url":"https://api.github.com/users/danielepolencic","html_url":"https://github.com/danielepolencic","followers_url":"https://api.github.com/users/danielepolencic/followers","following_url":"https://api.github.com/users/danielepolencic/following{/other_user}","gists_url":"https://api.github.com/users/danielepolencic/gists{/gist_id}","starred_url":"https://api.github.com/users/danielepolencic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielepolencic/subscriptions","organizations_url":"https://api.github.com/users/danielepolencic/orgs","repos_url":"https://api.github.com/users/danielepolencic/repos","events_url":"https://api.github.com/users/danielepolencic/events{/privacy}","received_events_url":"https://api.github.com/users/danielepolencic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T07:17:54Z","updated_at":"2015-10-05T07:17:54Z","author_association":"NONE","body":"@neovintage any luck with airflow on Heroku? I'd like to do the same, but I'm not well versed in python. Could you share how you did it?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145447529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145530934","html_url":"https://github.com/apache/airflow/issues/222#issuecomment-145530934","issue_url":"https://api.github.com/repos/apache/airflow/issues/222","id":145530934,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTUzMDkzNA==","user":{"login":"txominpelu","id":225215,"node_id":"MDQ6VXNlcjIyNTIxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/225215?v=4","gravatar_id":"","url":"https://api.github.com/users/txominpelu","html_url":"https://github.com/txominpelu","followers_url":"https://api.github.com/users/txominpelu/followers","following_url":"https://api.github.com/users/txominpelu/following{/other_user}","gists_url":"https://api.github.com/users/txominpelu/gists{/gist_id}","starred_url":"https://api.github.com/users/txominpelu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txominpelu/subscriptions","organizations_url":"https://api.github.com/users/txominpelu/orgs","repos_url":"https://api.github.com/users/txominpelu/repos","events_url":"https://api.github.com/users/txominpelu/events{/privacy}","received_events_url":"https://api.github.com/users/txominpelu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T13:41:32Z","updated_at":"2015-10-05T13:41:32Z","author_association":"NONE","body":"Hello @bolkedebruin, sure I'll have a look at your patches.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145530934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145554393","html_url":"https://github.com/apache/airflow/issues/480#issuecomment-145554393","issue_url":"https://api.github.com/repos/apache/airflow/issues/480","id":145554393,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTU1NDM5Mw==","user":{"login":"timeisapear","id":4983212,"node_id":"MDQ6VXNlcjQ5ODMyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/4983212?v=4","gravatar_id":"","url":"https://api.github.com/users/timeisapear","html_url":"https://github.com/timeisapear","followers_url":"https://api.github.com/users/timeisapear/followers","following_url":"https://api.github.com/users/timeisapear/following{/other_user}","gists_url":"https://api.github.com/users/timeisapear/gists{/gist_id}","starred_url":"https://api.github.com/users/timeisapear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timeisapear/subscriptions","organizations_url":"https://api.github.com/users/timeisapear/orgs","repos_url":"https://api.github.com/users/timeisapear/repos","events_url":"https://api.github.com/users/timeisapear/events{/privacy}","received_events_url":"https://api.github.com/users/timeisapear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T14:48:34Z","updated_at":"2015-10-05T15:35:40Z","author_association":"NONE","body":"So I think I've narrowed down an unexpected behavior on my end.\n\nWhen executing a backfill, if there is a task upstream in a failed state, the backfill correctly triggers the downstream tasks with the specified `trigger_rule='all done'`. However when the upstream task fails again after a retry (I've forced this for testing purposes) the following occurs:\n\n```\n2015-10-05 10:40:52,010 INFO - [backfill progress] waiting: 17 | succeeded: 245 | kicked_off: 68 | failed: 0 | skipped: 0\n2015-10-05 10:40:52,061 INFO - Adding to queue: airflow run one_day anom14 2013-02-01T00:00:00   --local     -sd DAGS_FOLDER/one_day.py -s 2013-02-01T00:00:00\n2015-10-05 10:40:57,010 INFO - LocalWorker running airflow run one_day anom14 2013-02-\n2015-10-05 10:40:57,010 INFO - LocalWorker running airflow run one_day anom23 2013-02-01T00:00:00   --local     -sd DAGS_FOLDER/one_day.py -s 2013-02-01T00:00:00\n2015-10-05 10:40:57,012 ERROR - Task instance ('one_day', 'opc14', datetime.datetime(2013, 2, 1, 0, 0)) failed\n2015-10-05 10:40:57,014 INFO - [backfill progress] waiting: 0 | succeeded: 252 | kicked_off: 68 | failed: 1 | skipped: 9\n```\n\nThe backfill throws an exception, immediately skips all the still-unscheduled tasks and quits with error:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/bin/airflow\", line 10, in <module>\n    args.func(args)\n  File \"/usr/local/lib/python2.7/site-packages/airflow/bin/cli.py\", line 66, in backfill\n    ignore_dependencies=args.ignore_dependencies)\n  File \"/usr/local/lib/python2.7/site-packages/airflow/models.py\", line 2195, in run\n    job.run()\n  File \"/usr/local/lib/python2.7/site-packages/airflow/jobs.py\", line 159, in run\n    self._execute()\n  File \"/usr/local/lib/python2.7/site-packages/airflow/jobs.py\", line 659, in _execute\n    \"Some tasks instances failed, here's the list:\\n\"+str(failed))\nairflow.utils.AirflowException: Some tasks instances failed, here's the list:\n[('one_day', 'opc14', datetime.datetime(2013, 2, 1, 0, 0))]\n```\n\nThanks for all your thorough responses so far.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145554393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145597830","html_url":"https://github.com/apache/airflow/issues/480#issuecomment-145597830","issue_url":"https://api.github.com/repos/apache/airflow/issues/480","id":145597830,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTU5NzgzMA==","user":{"login":"timeisapear","id":4983212,"node_id":"MDQ6VXNlcjQ5ODMyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/4983212?v=4","gravatar_id":"","url":"https://api.github.com/users/timeisapear","html_url":"https://github.com/timeisapear","followers_url":"https://api.github.com/users/timeisapear/followers","following_url":"https://api.github.com/users/timeisapear/following{/other_user}","gists_url":"https://api.github.com/users/timeisapear/gists{/gist_id}","starred_url":"https://api.github.com/users/timeisapear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timeisapear/subscriptions","organizations_url":"https://api.github.com/users/timeisapear/orgs","repos_url":"https://api.github.com/users/timeisapear/repos","events_url":"https://api.github.com/users/timeisapear/events{/privacy}","received_events_url":"https://api.github.com/users/timeisapear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T16:55:42Z","updated_at":"2015-10-05T19:33:50Z","author_association":"NONE","body":"I found this code in `airflow.jobs.py` in https://github.com/airbnb/airflow/blob/master/airflow/jobs.py#L667-L681.\n\nA downstream task with a `depends_on_false='all_done'` should not be skipped, correct? This occurs during a backfill.\n\n``` python\nif ti.state == State.FAILED:\n    failed.append(key)\n    logging.error(\"Task instance \" + str(key) + \" failed\")\n    del tasks_to_run[key]\n    # Removing downstream tasks from the one that has failed\n    for t in self.dag.get_task(task_id).get_flat_relatives(\n            upstream=False):\n        key = (ti.dag_id, t.task_id, execution_date)\n        if key in tasks_to_run:\n            wont_run.append(key)\n            del tasks_to_run[key]\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/145597830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]