[{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248694152","html_url":"https://github.com/apache/kafka/pull/1888#issuecomment-248694152","issue_url":"https://api.github.com/repos/apache/kafka/issues/1888","id":248694152,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODY5NDE1Mg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T18:06:08Z","updated_at":"2016-09-21T18:06:08Z","author_association":"CONTRIBUTOR","body":"PR LGTM. BTW does `\norg.apache.kafka.streams.integration.QueryableStateIntegrationTest > queryOnRebalance[1]` ever blocked on your local runs? Jenkins seems to be blocked on this test once.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248694152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248695860","html_url":"https://github.com/apache/kafka/pull/1891#issuecomment-248695860","issue_url":"https://api.github.com/repos/apache/kafka/issues/1891","id":248695860,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODY5NTg2MA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T18:12:13Z","updated_at":"2016-09-21T18:12:13Z","author_association":"CONTRIBUTOR","body":"LGTM. Merged to trunk and 0.10.1\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248695860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248696583","html_url":"https://github.com/apache/kafka/pull/1888#issuecomment-248696583","issue_url":"https://api.github.com/repos/apache/kafka/issues/1888","id":248696583,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODY5NjU4Mw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T18:14:39Z","updated_at":"2016-09-21T18:14:39Z","author_association":"CONTRIBUTOR","body":"Merged to trunk and 0.10.1.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248696583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248709795","html_url":"https://github.com/apache/kafka/pull/1885#issuecomment-248709795","issue_url":"https://api.github.com/repos/apache/kafka/issues/1885","id":248709795,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODcwOTc5NQ==","user":{"login":"eliaslevy","id":725218,"node_id":"MDQ6VXNlcjcyNTIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/725218?v=4","gravatar_id":"","url":"https://api.github.com/users/eliaslevy","html_url":"https://github.com/eliaslevy","followers_url":"https://api.github.com/users/eliaslevy/followers","following_url":"https://api.github.com/users/eliaslevy/following{/other_user}","gists_url":"https://api.github.com/users/eliaslevy/gists{/gist_id}","starred_url":"https://api.github.com/users/eliaslevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eliaslevy/subscriptions","organizations_url":"https://api.github.com/users/eliaslevy/orgs","repos_url":"https://api.github.com/users/eliaslevy/repos","events_url":"https://api.github.com/users/eliaslevy/events{/privacy}","received_events_url":"https://api.github.com/users/eliaslevy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T19:01:24Z","updated_at":"2016-09-21T19:01:24Z","author_association":"CONTRIBUTOR","body":"@guozhangwang please review.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248709795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248741104","html_url":"https://github.com/apache/kafka/pull/1894#issuecomment-248741104","issue_url":"https://api.github.com/repos/apache/kafka/issues/1894","id":248741104,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODc0MTEwNA==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T20:58:58Z","updated_at":"2016-09-21T20:58:58Z","author_association":"CONTRIBUTOR","body":"@benstopford Thanks a lot for reviewing this PR so quickly and sharing your thoughts. I left a comment about your suggestion to restructure the added code, and appreciate your clarification.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248741104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248762094","html_url":"https://github.com/apache/kafka/pull/1890#issuecomment-248762094","issue_url":"https://api.github.com/repos/apache/kafka/issues/1890","id":248762094,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODc2MjA5NA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T22:32:19Z","updated_at":"2016-09-21T22:32:19Z","author_association":"CONTRIBUTOR","body":"@ijuma When testing locally, I'm actually seeing more transient failures with this patch. In 1000 runs, I see about 10 failures without it and 20-30 failures with it.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248762094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248818477","html_url":"https://github.com/apache/kafka/pull/1898#issuecomment-248818477","issue_url":"https://api.github.com/repos/apache/kafka/issues/1898","id":248818477,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODgxODQ3Nw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T05:52:40Z","updated_at":"2016-09-22T05:52:53Z","author_association":"CONTRIBUTOR","body":"FYI: I've had about 30 consecutive successful executions of the failing test case. Previously, I could get the failure after 2-3 executions.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248818477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248837325","html_url":"https://github.com/apache/kafka/pull/1893#issuecomment-248837325","issue_url":"https://api.github.com/repos/apache/kafka/issues/1893","id":248837325,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODgzNzMyNQ==","user":{"login":"benstopford","id":1297498,"node_id":"MDQ6VXNlcjEyOTc0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1297498?v=4","gravatar_id":"","url":"https://api.github.com/users/benstopford","html_url":"https://github.com/benstopford","followers_url":"https://api.github.com/users/benstopford/followers","following_url":"https://api.github.com/users/benstopford/following{/other_user}","gists_url":"https://api.github.com/users/benstopford/gists{/gist_id}","starred_url":"https://api.github.com/users/benstopford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benstopford/subscriptions","organizations_url":"https://api.github.com/users/benstopford/orgs","repos_url":"https://api.github.com/users/benstopford/repos","events_url":"https://api.github.com/users/benstopford/events{/privacy}","received_events_url":"https://api.github.com/users/benstopford/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T08:02:56Z","updated_at":"2016-09-22T08:02:56Z","author_association":"CONTRIBUTOR","body":"Previous failure was ConsumerBounceTest which I don't think is related. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248837325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248837835","html_url":"https://github.com/apache/kafka/pull/1896#issuecomment-248837835","issue_url":"https://api.github.com/repos/apache/kafka/issues/1896","id":248837835,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODgzNzgzNQ==","user":{"login":"benstopford","id":1297498,"node_id":"MDQ6VXNlcjEyOTc0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1297498?v=4","gravatar_id":"","url":"https://api.github.com/users/benstopford","html_url":"https://github.com/benstopford","followers_url":"https://api.github.com/users/benstopford/followers","following_url":"https://api.github.com/users/benstopford/following{/other_user}","gists_url":"https://api.github.com/users/benstopford/gists{/gist_id}","starred_url":"https://api.github.com/users/benstopford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benstopford/subscriptions","organizations_url":"https://api.github.com/users/benstopford/orgs","repos_url":"https://api.github.com/users/benstopford/repos","events_url":"https://api.github.com/users/benstopford/events{/privacy}","received_events_url":"https://api.github.com/users/benstopford/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T08:05:56Z","updated_at":"2016-09-22T08:05:56Z","author_association":"CONTRIBUTOR","body":"Build failure was a timeout in KStreamAggregationIntegrationTest which I don't think is related. Rerunning\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248837835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248848209","html_url":"https://github.com/apache/kafka/pull/1899#issuecomment-248848209","issue_url":"https://api.github.com/repos/apache/kafka/issues/1899","id":248848209,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODg0ODIwOQ==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T09:02:56Z","updated_at":"2016-09-22T18:29:51Z","author_association":"CONTRIBUTOR","body":"@dguy please have a look. Thanks. cc @guozhangwang \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248848209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248848546","html_url":"https://github.com/apache/kafka/pull/1899#issuecomment-248848546","issue_url":"https://api.github.com/repos/apache/kafka/issues/1899","id":248848546,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODg0ODU0Ng==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T09:04:34Z","updated_at":"2016-09-22T09:04:34Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248848546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248850367","html_url":"https://github.com/apache/kafka/pull/1890#issuecomment-248850367","issue_url":"https://api.github.com/repos/apache/kafka/issues/1890","id":248850367,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODg1MDM2Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T09:13:45Z","updated_at":"2016-09-22T09:13:45Z","author_association":"MEMBER","body":"@hachikuji, thanks for checking. Did you test it on JDK 7? If so, you may be running into https://bugs.openjdk.java.net/browse/JDK-8040140\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248850367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248857546","html_url":"https://github.com/apache/kafka/pull/1864#issuecomment-248857546","issue_url":"https://api.github.com/repos/apache/kafka/issues/1864","id":248857546,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODg1NzU0Ng==","user":{"login":"benstopford","id":1297498,"node_id":"MDQ6VXNlcjEyOTc0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1297498?v=4","gravatar_id":"","url":"https://api.github.com/users/benstopford","html_url":"https://github.com/benstopford","followers_url":"https://api.github.com/users/benstopford/followers","following_url":"https://api.github.com/users/benstopford/following{/other_user}","gists_url":"https://api.github.com/users/benstopford/gists{/gist_id}","starred_url":"https://api.github.com/users/benstopford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benstopford/subscriptions","organizations_url":"https://api.github.com/users/benstopford/orgs","repos_url":"https://api.github.com/users/benstopford/repos","events_url":"https://api.github.com/users/benstopford/events{/privacy}","received_events_url":"https://api.github.com/users/benstopford/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T09:50:23Z","updated_at":"2016-09-22T09:50:23Z","author_association":"CONTRIBUTOR","body":"Thanks for review @ijuma @rajinisivaram - have addressed your comments. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248857546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248877782","html_url":"https://github.com/apache/kafka/pull/1864#issuecomment-248877782","issue_url":"https://api.github.com/repos/apache/kafka/issues/1864","id":248877782,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODg3Nzc4Mg==","user":{"login":"benstopford","id":1297498,"node_id":"MDQ6VXNlcjEyOTc0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1297498?v=4","gravatar_id":"","url":"https://api.github.com/users/benstopford","html_url":"https://github.com/benstopford","followers_url":"https://api.github.com/users/benstopford/followers","following_url":"https://api.github.com/users/benstopford/following{/other_user}","gists_url":"https://api.github.com/users/benstopford/gists{/gist_id}","starred_url":"https://api.github.com/users/benstopford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benstopford/subscriptions","organizations_url":"https://api.github.com/users/benstopford/orgs","repos_url":"https://api.github.com/users/benstopford/repos","events_url":"https://api.github.com/users/benstopford/events{/privacy}","received_events_url":"https://api.github.com/users/benstopford/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T11:32:22Z","updated_at":"2016-09-22T11:32:22Z","author_association":"CONTRIBUTOR","body":"Looks like the validation isn't working. I'll address now. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248877782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248957028","html_url":"https://github.com/apache/kafka/pull/1890#issuecomment-248957028","issue_url":"https://api.github.com/repos/apache/kafka/issues/1890","id":248957028,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk1NzAyOA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T16:33:39Z","updated_at":"2016-09-22T16:33:39Z","author_association":"CONTRIBUTOR","body":"@ijuma It was on Java 8 (1.8.0_65). I've been meaning to upgrade, so I'll do so and try again. Were you not able to reproduce the failures?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248957028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248957543","html_url":"https://github.com/apache/kafka/pull/1431#issuecomment-248957543","issue_url":"https://api.github.com/repos/apache/kafka/issues/1431","id":248957543,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk1NzU0Mw==","user":{"login":"cristim","id":95209,"node_id":"MDQ6VXNlcjk1MjA5","avatar_url":"https://avatars.githubusercontent.com/u/95209?v=4","gravatar_id":"","url":"https://api.github.com/users/cristim","html_url":"https://github.com/cristim","followers_url":"https://api.github.com/users/cristim/followers","following_url":"https://api.github.com/users/cristim/following{/other_user}","gists_url":"https://api.github.com/users/cristim/gists{/gist_id}","starred_url":"https://api.github.com/users/cristim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cristim/subscriptions","organizations_url":"https://api.github.com/users/cristim/orgs","repos_url":"https://api.github.com/users/cristim/repos","events_url":"https://api.github.com/users/cristim/events{/privacy}","received_events_url":"https://api.github.com/users/cristim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T16:35:33Z","updated_at":"2016-09-22T16:35:45Z","author_association":"NONE","body":"In #1652 we also have 1 GB(10x100MB), and the author mentioned that's pretty much a standard also in the Hadoop ecosystem.\n\nI'm not a big fan of it, but storage is cheap nowadays.\n\nIt would be nice if rotated logs could be compressed, but it turns out compression is not trivial to do in log4j just yet, unless using some extensions.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248957543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248966074","html_url":"https://github.com/apache/kafka/pull/1898#issuecomment-248966074","issue_url":"https://api.github.com/repos/apache/kafka/issues/1898","id":248966074,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk2NjA3NA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T17:08:44Z","updated_at":"2016-09-22T17:08:44Z","author_association":"CONTRIBUTOR","body":"LGTM. Merged to both trunk and 0.10.1.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248966074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248967534","html_url":"https://github.com/apache/kafka/pull/1884#issuecomment-248967534","issue_url":"https://api.github.com/repos/apache/kafka/issues/1884","id":248967534,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk2NzUzNA==","user":{"login":"hjafarpour","id":16784742,"node_id":"MDQ6VXNlcjE2Nzg0NzQy","avatar_url":"https://avatars.githubusercontent.com/u/16784742?v=4","gravatar_id":"","url":"https://api.github.com/users/hjafarpour","html_url":"https://github.com/hjafarpour","followers_url":"https://api.github.com/users/hjafarpour/followers","following_url":"https://api.github.com/users/hjafarpour/following{/other_user}","gists_url":"https://api.github.com/users/hjafarpour/gists{/gist_id}","starred_url":"https://api.github.com/users/hjafarpour/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjafarpour/subscriptions","organizations_url":"https://api.github.com/users/hjafarpour/orgs","repos_url":"https://api.github.com/users/hjafarpour/repos","events_url":"https://api.github.com/users/hjafarpour/events{/privacy}","received_events_url":"https://api.github.com/users/hjafarpour/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T17:14:23Z","updated_at":"2016-09-22T17:14:23Z","author_association":"NONE","body":"@dguy made changes according to your feedback and pushed the changes.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248967534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248972697","html_url":"https://github.com/apache/kafka/pull/1885#issuecomment-248972697","issue_url":"https://api.github.com/repos/apache/kafka/issues/1885","id":248972697,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk3MjY5Nw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T17:33:50Z","updated_at":"2016-09-22T17:33:50Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks for the catch. Merged to trunk and 0.10.1.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248972697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248973340","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-248973340","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":248973340,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk3MzM0MA==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T17:36:11Z","updated_at":"2016-09-22T17:36:11Z","author_association":"CONTRIBUTOR","body":"@ijuma The patch is updated. I am also running a branch builder test on this branch.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248973340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248986176","html_url":"https://github.com/apache/kafka/pull/1889#issuecomment-248986176","issue_url":"https://api.github.com/repos/apache/kafka/issues/1889","id":248986176,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk4NjE3Ng==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T18:24:12Z","updated_at":"2016-09-22T18:24:12Z","author_association":"CONTRIBUTOR","body":"@ijuma Does this fix the transient failure mentioned on https://issues.apache.org/jira/browse/KAFKA-2943?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248986176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248991099","html_url":"https://github.com/apache/kafka/pull/1889#issuecomment-248991099","issue_url":"https://api.github.com/repos/apache/kafka/issues/1889","id":248991099,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk5MTA5OQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T18:40:36Z","updated_at":"2016-09-22T18:40:36Z","author_association":"MEMBER","body":"@hachikuji I also found that JIRA, but that seemed to be caused by an exception being thrown during the send instead of the assertion on time taken. Sadly. :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/248991099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249008212","html_url":"https://github.com/apache/kafka/pull/1899#issuecomment-249008212","issue_url":"https://api.github.com/repos/apache/kafka/issues/1899","id":249008212,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTAwODIxMg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T19:46:14Z","updated_at":"2016-09-22T19:46:14Z","author_association":"CONTRIBUTOR","body":"LGTM. Merged to trunk and 0.10.1.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249008212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249013380","html_url":"https://github.com/apache/kafka/pull/1900#issuecomment-249013380","issue_url":"https://api.github.com/repos/apache/kafka/issues/1900","id":249013380,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTAxMzM4MA==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T20:07:17Z","updated_at":"2016-09-22T20:07:17Z","author_association":"CONTRIBUTOR","body":"LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249013380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249024714","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249024714","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249024714,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTAyNDcxNA==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T20:53:35Z","updated_at":"2016-09-22T20:53:35Z","author_association":"CONTRIBUTOR","body":"Two more points:\n- In the overall comment above, under KAFKA-3388 - that only applies when `maxInFlightRequests` is one. i.e., if it is greater than one we don't pay attention to whether there is an inflight request or not when expiring messages. In KAFKA-3388 we pay attention to whether there is an inflight request (via the `!muted` check) to preserve expiration order.\n- I don't think it is necessary to document the nuances under the `request.timeout` configuration. The details of timeouts in the accumulator are currently hidden from the user and that is probably a reasonable simplification. i.e., the request timeout can be understood as primarily applicable to the timeout when written out on the wire. The fact that it is also used in the accumulator is an internal detail. Our documentation could just be that the producer will timeout requests that are yet to be sent out if it determines that it is unable to make progress.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249024714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249031839","html_url":"https://github.com/apache/kafka/pull/1889#issuecomment-249031839","issue_url":"https://api.github.com/repos/apache/kafka/issues/1889","id":249031839,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTAzMTgzOQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T21:22:12Z","updated_at":"2016-09-22T21:22:12Z","author_association":"CONTRIBUTOR","body":"LGTM. Merging to trunk and 0.10.1.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249031839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249037722","html_url":"https://github.com/apache/kafka/pull/1428#issuecomment-249037722","issue_url":"https://api.github.com/repos/apache/kafka/issues/1428","id":249037722,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTAzNzcyMg==","user":{"login":"edoardocomar","id":6661532,"node_id":"MDQ6VXNlcjY2NjE1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6661532?v=4","gravatar_id":"","url":"https://api.github.com/users/edoardocomar","html_url":"https://github.com/edoardocomar","followers_url":"https://api.github.com/users/edoardocomar/followers","following_url":"https://api.github.com/users/edoardocomar/following{/other_user}","gists_url":"https://api.github.com/users/edoardocomar/gists{/gist_id}","starred_url":"https://api.github.com/users/edoardocomar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edoardocomar/subscriptions","organizations_url":"https://api.github.com/users/edoardocomar/orgs","repos_url":"https://api.github.com/users/edoardocomar/repos","events_url":"https://api.github.com/users/edoardocomar/events{/privacy}","received_events_url":"https://api.github.com/users/edoardocomar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T21:46:40Z","updated_at":"2016-09-22T21:46:40Z","author_association":"CONTRIBUTOR","body":"@ijuma @hachikuji can you please take a look at the revised PR? thanks\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249037722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249041790","html_url":"https://github.com/apache/kafka/pull/1866#issuecomment-249041790","issue_url":"https://api.github.com/repos/apache/kafka/issues/1866","id":249041790,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA0MTc5MA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T22:04:28Z","updated_at":"2016-09-22T22:04:28Z","author_association":"MEMBER","body":"Merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249041790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249068865","html_url":"https://github.com/apache/kafka/pull/1859#issuecomment-249068865","issue_url":"https://api.github.com/repos/apache/kafka/issues/1859","id":249068865,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA2ODg2NQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T00:37:23Z","updated_at":"2016-09-23T00:37:23Z","author_association":"CONTRIBUTOR","body":"@ijuma Ready for another look when you have a chance.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249068865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249071730","html_url":"https://github.com/apache/kafka/pull/1859#issuecomment-249071730","issue_url":"https://api.github.com/repos/apache/kafka/issues/1859","id":249071730,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA3MTczMA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T00:54:26Z","updated_at":"2016-09-23T00:54:26Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249071730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249085113","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249085113","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249085113,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA4NTExMw==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T02:18:59Z","updated_at":"2016-09-23T02:18:59Z","author_association":"CONTRIBUTOR","body":"@becketqin @sutambe : I am not sure that I fully understand the motivation of the change. For the MirrorMaker issue that you mentioned, is it because the updating of metadata request takes long? Couldn't you just configure a larger request timeout for the producer in MirrorMaker?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249085113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249089438","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249089438","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249089438,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA4OTQzOA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T02:54:36Z","updated_at":"2016-09-23T02:54:36Z","author_association":"CONTRIBUTOR","body":"@becketqin One other minor cleanup. This variable is no longer used: https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/log/FileMessageSet.scala#L167.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249089438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249095401","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249095401","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249095401,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA5NTQwMQ==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T03:43:56Z","updated_at":"2016-09-23T03:43:56Z","author_association":"CONTRIBUTOR","body":"@hachikuji Suggested tests are added. branch builder test has one failure which looks irrelevant. I kicked off another one just now.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249095401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249115427","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249115427","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249115427,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTExNTQyNw==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T06:45:19Z","updated_at":"2016-09-23T06:45:19Z","author_association":"CONTRIBUTOR","body":"@junrao @ijuma thanks for taking a look. Initially, I had also wondered about bumping up the request timeout to a much higher value (depending on how many batches are pending in the partition) - it could work, but I think there are shortcomings in the original request timeout proposal (KIP-19), its implementation and follow-ups that are worth summarizing.\n\nFirst off, with KIP-19 the _primary_ objective there was to add a request timeout to requests that were out on the wire. Without that, sudden broker death (i.e., killed/disk failure, etc.) could cause clients to hang and the accumulator to fill up even with a new leader being available. KIP-19’s scope broadened quite a bit to include the application-level send timeout (`max.block.ms`) and since we did not want to add separate timeouts for the accumulator phase we felt it would be reasonable to roll the request timeout into the accumulator phase as well. I think we reasoned that everything after the send call returns can be assumed to be “on the wire” from the user’s POV (even though the batch is sitting in the accumulator). However, that is a **gross oversimplification** of what really goes on in the accumulator phase: for requests that are in the accumulator, the clock should start ticking after the batch becomes ready. However, we added a further condition to timing out ready batches in the accumulator: i.e., we would expire batches only if the leader is unknown (i.e., metadata unavailable) and the batch has been ready for longer than the request timeout. The _intent_ there was really that if we know that we are able to make progress (by virtue of metadata being available) then we should not expire the batch even if it has been sitting in the accumulator longer than the timeout.\n\nThat condition did not work well with the scenario of a cluster being down which is why in KAFKA-2805 the metadata check was removed.\n\n… and in KAFKA-3388 we sort of went back to the metadata check (specifically, see https://github.com/apache/kafka/pull/1056#discussion-diff-56444453)\n\nBumping up the request timeout works but is an artificial way to get around this. It would be clearer to have a separate accumulator timeout but that is leaking too much of the producer’s internals to the user IMO and there are still various nuances to consider.\n\nSo yes there is a change in behavior but I think we have already been making similar changes in the referenced jiras. So I think its effect is not as significant than it seems. This is especially so because KIP-19 made gross oversimplifications on accumulator timeouts as I described above; it is reasonable to believe that users are for the most part unaware of these nuances. In fact one only has to read the current javadoc for `RecordAccumulator.ready` to decide that it may be too difficult and not worthwhile to attempt to precisely compute the time from the call to `send()` to the actual transmission on the wire.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249115427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249159550","html_url":"https://github.com/apache/kafka/pull/1376#issuecomment-249159550","issue_url":"https://api.github.com/repos/apache/kafka/issues/1376","id":249159550,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTE1OTU1MA==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T10:42:34Z","updated_at":"2016-09-23T10:42:34Z","author_association":"CONTRIBUTOR","body":"@ijuma thanks for the detailed review. I 've addressed the latest comments, can you take a look again?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249159550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249164671","html_url":"https://github.com/apache/kafka/pull/1902#issuecomment-249164671","issue_url":"https://api.github.com/repos/apache/kafka/issues/1902","id":249164671,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTE2NDY3MQ==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T11:10:02Z","updated_at":"2016-09-23T11:10:02Z","author_association":"CONTRIBUTOR","body":"@benstopford @ijuma Can you take a look? Thank you...\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249164671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249166921","html_url":"https://github.com/apache/kafka/pull/1376#issuecomment-249166921","issue_url":"https://api.github.com/repos/apache/kafka/issues/1376","id":249166921,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTE2NjkyMQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T11:22:21Z","updated_at":"2016-09-23T11:22:21Z","author_association":"MEMBER","body":"@arunmahadevan, thanks. I have to test this still, but the code changes look good to me. \n\n@hachikuji, do you think we can still include this in the 0.10.1 branch? It seems low risk as current users of the old consumer will continue to use the old consumer because of the `--zookeeper` parameter.\n\nThe main changes are that users can use the new consumer without having to specify `--new-consumer` and we note to console consumer users that the option of using the old consumer with it is deprecated and will be removed in a future release. I started a system tests run here to verify that this doesn't cause issues: https://jenkins.confluent.io/job/system-test-kafka-branch-builder-2/\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249166921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249228687","html_url":"https://github.com/apache/kafka/pull/1428#issuecomment-249228687","issue_url":"https://api.github.com/repos/apache/kafka/issues/1428","id":249228687,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTIyODY4Nw==","user":{"login":"mimaison","id":903615,"node_id":"MDQ6VXNlcjkwMzYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/903615?v=4","gravatar_id":"","url":"https://api.github.com/users/mimaison","html_url":"https://github.com/mimaison","followers_url":"https://api.github.com/users/mimaison/followers","following_url":"https://api.github.com/users/mimaison/following{/other_user}","gists_url":"https://api.github.com/users/mimaison/gists{/gist_id}","starred_url":"https://api.github.com/users/mimaison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mimaison/subscriptions","organizations_url":"https://api.github.com/users/mimaison/orgs","repos_url":"https://api.github.com/users/mimaison/repos","events_url":"https://api.github.com/users/mimaison/events{/privacy}","received_events_url":"https://api.github.com/users/mimaison/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T15:46:56Z","updated_at":"2016-09-23T15:46:56Z","author_association":"MEMBER","body":"Thanks for the feedback, we'll update the PR on Monday.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249228687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249247303","html_url":"https://github.com/apache/kafka/pull/1376#issuecomment-249247303","issue_url":"https://api.github.com/repos/apache/kafka/issues/1376","id":249247303,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTI0NzMwMw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T17:03:08Z","updated_at":"2016-09-23T17:03:08Z","author_association":"CONTRIBUTOR","body":"@ijuma Anything to decrease usage of the old consumer! One thing we should probably be a little careful about is all the system tests which depend on the console consumer (though the `ConsoleConsumer` test service). I think the main usage is in the `ProduceConsumeValidateTest`, but each test which extends it uses different options to construct the consumer. In most cases, I think we we want the test cases to be using the new consumer, but we should make sure the old consumer is still covered.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249247303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249253597","html_url":"https://github.com/apache/kafka/pull/1376#issuecomment-249253597","issue_url":"https://api.github.com/repos/apache/kafka/issues/1376","id":249253597,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTI1MzU5Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T17:29:41Z","updated_at":"2016-09-23T17:29:41Z","author_association":"MEMBER","body":"@hachikuji Yeah, I think the existing system tests should continue with their existing behaviour since they do:\n\n``` python\nif self.new_consumer:\n            cmd += \" --new-consumer --bootstrap-server %(broker_list)s\" % args\n        else:\n            cmd += \" --zookeeper %(zk_connect)s\" % args\n```\n\nI started the system tests build to double-check.\n\nLike you, I was thinking that we should change their behaviour so that the new consumer is used by default while ensuring that the old consumer is still covered. I filed https://issues.apache.org/jira/browse/KAFKA-4211 to track that for 0.10.2.0.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249253597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249255156","html_url":"https://github.com/apache/kafka/pull/1884#issuecomment-249255156","issue_url":"https://api.github.com/repos/apache/kafka/issues/1884","id":249255156,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTI1NTE1Ng==","user":{"login":"hjafarpour","id":16784742,"node_id":"MDQ6VXNlcjE2Nzg0NzQy","avatar_url":"https://avatars.githubusercontent.com/u/16784742?v=4","gravatar_id":"","url":"https://api.github.com/users/hjafarpour","html_url":"https://github.com/hjafarpour","followers_url":"https://api.github.com/users/hjafarpour/followers","following_url":"https://api.github.com/users/hjafarpour/following{/other_user}","gists_url":"https://api.github.com/users/hjafarpour/gists{/gist_id}","starred_url":"https://api.github.com/users/hjafarpour/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjafarpour/subscriptions","organizations_url":"https://api.github.com/users/hjafarpour/orgs","repos_url":"https://api.github.com/users/hjafarpour/repos","events_url":"https://api.github.com/users/hjafarpour/events{/privacy}","received_events_url":"https://api.github.com/users/hjafarpour/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T17:36:00Z","updated_at":"2016-09-23T17:36:00Z","author_association":"NONE","body":"@dguy Applied the feedback and pushed the changes.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249255156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249265817","html_url":"https://github.com/apache/kafka/pull/1376#issuecomment-249265817","issue_url":"https://api.github.com/repos/apache/kafka/issues/1376","id":249265817,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTI2NTgxNw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T18:20:00Z","updated_at":"2016-09-23T18:20:00Z","author_association":"CONTRIBUTOR","body":"@ijuma Makes sense. Thanks for the explanation.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249265817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249285930","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249285930","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249285930,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTI4NTkzMA==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T19:48:39Z","updated_at":"2016-09-23T19:48:39Z","author_association":"CONTRIBUTOR","body":"@junrao We can bump up the request timeout to avoid expiration of the batches in the accumulator. But it is really a workaround as Joel said. The following is my take on KIP-19 and the timeouts.\n\nRequest timeout is really for serving the purpose of preventing the clients from waiting for a response forever. The reason the clients timeout a request is because they have no idea whether the broker can still make progress. This is something like my laptop does not respond to anything and I don't know what happened, so I reboot it. \n\nIdeally we should have a separate timeout configuration for batches in the accumulator to prevent the batches from sitting in the accumulator forever. If the accumulator is a completely independent module, it would be similar to something like a `batch.draining.timeout`, i.e. if a batch cannot be drained in some timeout, the accumulator assumes it does not know whether the partition can still make progress or not and expire the batches. However, the difference here is that the accumulator actually has a reasonably good idea about whether the batches can still make progress or not. In that case, expiring the batches naively is an overkill and also bring problems to the users unnecessarily. This is more of a case that I am running some crazy job on my machine and I don't know how long it will take, but as long as it is reporting the progress, I don't reboot my laptop.\n\nAnother important reason we do not have a separate timeout config for the batches in the accumulator was that this timeout is not an SLA, i.e. we do not provide guarantee of a strict batch timeout in the accumulator. This is different from request timeout, which is both an SLA and a \"panic then reboot\". That is a compromise we made in KIP-19 because it is difficult to do and sometimes unreasonable.\n\nSo my understanding for KIP-19 is that:\n1. We have a strict request timeout for request on the wire.\n2. We reused this request timeout in the accumulator for \"panic and reboot\", that is why we added the metadata check in the first place, i.e. \"no panic, no reboot\".\n3. From users perspective, all the API calls has a strict timeout `max.block.ms`. After that, there is no strong guarantee of how long it will take for the messages to be actually sent/failed. The produce will try its best to make progress and expire the batch if it cannot.\n\nAs of the past changes, \n- The initial patch has an issue that the producer may not panic even if it cannot make progress because it relies on metadata but is not checking if the metadata is stale.\n- KAFKA-2805 removed the metadata check completely. This was not desired because it changes the \"panic then reboot\" to \"always reboot\".\n- KAFKA-3388 was trying to fix KAFKA-2805 by adding back the \"panic\" check by inferring if the producer should \"panic\" from whether there is a batch in flight. This way of determine whether the producer should panic failed because we may \"false panic\"\n- This patch tries to fix the way to trigger a panic by going back to relying on metadata, but fix the issue in the original patch where the metadata is not trustworthy anymore.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249285930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249291466","html_url":"https://github.com/apache/kafka/pull/1859#issuecomment-249291466","issue_url":"https://api.github.com/repos/apache/kafka/issues/1859","id":249291466,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTI5MTQ2Ng==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T20:15:09Z","updated_at":"2016-09-23T20:15:09Z","author_association":"CONTRIBUTOR","body":"Merged to trunk and 0.10.1.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249291466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249302375","html_url":"https://github.com/apache/kafka/pull/1834#issuecomment-249302375","issue_url":"https://api.github.com/repos/apache/kafka/issues/1834","id":249302375,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMwMjM3NQ==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T21:06:27Z","updated_at":"2016-09-23T21:06:27Z","author_association":"CONTRIBUTOR","body":"ping @ewencp This is one of the kafka branches I mentioned to you earlier today\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249302375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249305910","html_url":"https://github.com/apache/kafka/pull/1157#issuecomment-249305910","issue_url":"https://api.github.com/repos/apache/kafka/issues/1157","id":249305910,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMwNTkxMA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T21:23:31Z","updated_at":"2016-09-23T21:23:56Z","author_association":"CONTRIBUTOR","body":"@ijuma We may as well get this in. Even if the fix may not satisfy all users, at least problems will be more apparent in the logs.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249305910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249306182","html_url":"https://github.com/apache/kafka/pull/1856#issuecomment-249306182","issue_url":"https://api.github.com/repos/apache/kafka/issues/1856","id":249306182,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMwNjE4Mg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T21:25:00Z","updated_at":"2016-09-23T21:25:00Z","author_association":"MEMBER","body":"Merged to trunk and 0.10.1 branches.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249306182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249309275","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249309275","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249309275,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMwOTI3NQ==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T21:40:51Z","updated_at":"2016-09-23T21:40:51Z","author_association":"CONTRIBUTOR","body":"@jjkoshy @becketqin @sutambe : I am still not quite sure that I understand the new proposal. I thought the idea of request timeout is that the user can get a guarantee when the registered producer callback will be called after the send returns. Currently, that time is bounded by request.timeout + linger.ms, which is a bit hard to explain, but seems to make intuitive sense. metadata.refresh.age on the other hand, controls how often we want to refresh the metadata to pick up changes like # of partitions. That seems orthogonal to when the user wants the callback to be called. So, I am not sure if it makes sense to tie them together. For example, let's say all brokers are down and the producer can't send any request. The producer will immediately try to refresh the metadata and know that it can't. The patch in this PR will still delay the expiration by at least metadata.refresh.age even though it knows metadata refresh has been failing.\n\nIt seems that the issue that you guys have experienced is that for some reason a metadata request takes significantly long than it normally does? Is that due to a bug or a slow broker? If it's the latter, it seems increasing request.timeout would make sense?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249309275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249314191","html_url":"https://github.com/apache/kafka/pull/1157#issuecomment-249314191","issue_url":"https://api.github.com/repos/apache/kafka/issues/1157","id":249314191,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMxNDE5MQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T22:09:29Z","updated_at":"2016-09-23T22:09:29Z","author_association":"CONTRIBUTOR","body":"Discussed offline with @ijuma. We think this patch may not be providing much additional value at the moment and there's some risk of excess log spam. It's probably better to leave this issue open and come back to it after the dust has settled as far as the long-term handling of unknown topics/partitions. This problem should primarily affect users using manual assignment and they can currently enable DEBUG logging to get more details.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249314191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249324434","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249324434","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249324434,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMyNDQzNA==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T23:22:00Z","updated_at":"2016-09-23T23:22:26Z","author_association":"CONTRIBUTOR","body":"@junrao I am not sure if there is a guarantee of how long it will take for the callback to fire. For example when we have a request retry after timeout, the successive batches in that partition won't be timed out until the retrying batch either sent successfully or failed. This can be up to (`request.timeout` + `retry.backoff.ms`) \\* `retries` which may be longer than `linger.ms` + `request.timeout.ms`. So it is difficult for us to claim a timeout as SLA except the `max.block.ms`, because there are so many different scenarios can happen. Instead, it seems the guarantee we provide is that 1) we will not timeout a batch prematurely and 2) we will eventually timeout a batch.\n\nThe case we encountered is a pretty general problem. It is not specific to a metadata refresh. What happened was the following (assuming `max.in.flight.requests.per.connection=1`):\n1. user keep calling `producer.send()` and the batch queue in the accumulator for a partition started to pile up.\n2. At time T a batch X and batch X+1 are full so they are ready to be sent.\n3. At time T + `request.timeout.ms`, the batch reaches the head of the queue, in the sender thread we will first drain it, mute the partition then check the expiration. So in this case we will not timeout the batch even though it has already been ready for longer than `request.timeout.ms`. The reason is that we don't want to naively timeout it when we can send it. So that batch goes through.\n4. Batch X+1 reaches the head of the batch queue but won't be expired because the partition is muted.\n5. At time T + `request.timeout.ms` + delta, batch X is successfully sent and callbacks are fired.\n6. The producer found that the metadata should be refreshed. In that case, the network client will define all the node as not ready to give the priority of metadata request.\n7. Now batch X+1 is not drained because its leader node is not ready (due to metadata refresh), therefore the partition is not muted and batch X+1 is then expired.\n\nSo at step 6, it could be some other reasons for the leader not to be not ready. e.g. disconnected and waiting for reconnect. That means the expiration behavior becomes non-deterministic. When the metadata refresh happen, the partition happened to have a in flight batch, no expiration, otherwise it is exposed to the batch expiration. \n\nDue to this issue back pressure in the producer is almost impossible unless user set request timeout to very long. If the buffer is full, it is very likely that before `producer.send()` is returned after `max.block.ms`, the batches in the accumulator has been expired.\n\nAlso increasing the request timeout has a big side effect of increasing the failure recover time. e.g. `producer.flush()` is called in the mirror maker, if we have a message hitting request timeout, that means the producer will block for `request.timeout.ms` until it refreshes its metadata and retry.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249324434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249325896","html_url":"https://github.com/apache/kafka/pull/1499#issuecomment-249325896","issue_url":"https://api.github.com/repos/apache/kafka/issues/1499","id":249325896,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMyNTg5Ng==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T23:33:47Z","updated_at":"2016-09-23T23:33:47Z","author_association":"CONTRIBUTOR","body":"@hachikuji I made the changes you mentioned your last review. I hope I've not missed anything. Thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249325896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249326000","html_url":"https://github.com/apache/kafka/pull/1903#issuecomment-249326000","issue_url":"https://api.github.com/repos/apache/kafka/issues/1903","id":249326000,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMyNjAwMA==","user":{"login":"apurvam","id":830220,"node_id":"MDQ6VXNlcjgzMDIyMA==","avatar_url":"https://avatars.githubusercontent.com/u/830220?v=4","gravatar_id":"","url":"https://api.github.com/users/apurvam","html_url":"https://github.com/apurvam","followers_url":"https://api.github.com/users/apurvam/followers","following_url":"https://api.github.com/users/apurvam/following{/other_user}","gists_url":"https://api.github.com/users/apurvam/gists{/gist_id}","starred_url":"https://api.github.com/users/apurvam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apurvam/subscriptions","organizations_url":"https://api.github.com/users/apurvam/orgs","repos_url":"https://api.github.com/users/apurvam/repos","events_url":"https://api.github.com/users/apurvam/events{/privacy}","received_events_url":"https://api.github.com/users/apurvam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T23:34:31Z","updated_at":"2016-09-23T23:34:31Z","author_association":"CONTRIBUTOR","body":"Eh. Somehow it is pulling in a whole bunch of commits unnecessarily. Will try to submit again with just my commits.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249326000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249326432","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249326432","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249326432,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMyNjQzMg==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T23:38:17Z","updated_at":"2016-09-23T23:38:17Z","author_association":"CONTRIBUTOR","body":"@hachikuji Comments addressed. Could you take another look. Branch builder tests failed at different places, it seems irrelevant to this change.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249326432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249330992","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249330992","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249330992,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMzMDk5Mg==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T00:21:17Z","updated_at":"2016-09-24T00:21:17Z","author_association":"CONTRIBUTOR","body":"@becketqin Did you see my comment here? https://github.com/apache/kafka/pull/1897#issuecomment-249089438. \n\nOne other thing worth discussing. For the `listTopics()` and `partitionsFor()` APIs, we use `request.timeout.ms` as the maximum blocking time. Is there any reason we cannot do the same thing here? Although we cannot easily change the indefinite blocking for internal calls to this API (i.e. when setting the initial positions), I think user calls through `offsetsForTimes` can use a timeout without affecting consumer behavior since it is an isolated request API call. What do you think?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249330992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249331701","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249331701","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249331701,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMzMTcwMQ==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T00:26:49Z","updated_at":"2016-09-24T00:26:49Z","author_association":"CONTRIBUTOR","body":"@hachikuji I have removed the unused variable in the latest update, do you still see it? Yes, I agree we should make them behave the same. I'll make the change in the `getOffsetsByTimes()` loop in the `Fetcher`.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249331701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249331978","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249331978","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249331978,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMzMTk3OA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T00:29:07Z","updated_at":"2016-09-24T00:29:07Z","author_association":"CONTRIBUTOR","body":"@becketqin Yep, you're right. Thanks for the fix. Been having some issues with stale github data.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249331978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249333100","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249333100","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249333100,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMzMzEwMA==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T00:38:42Z","updated_at":"2016-09-24T00:38:42Z","author_association":"CONTRIBUTOR","body":"@becketqin : Thanks for the explanation. You brought up a good point, which is that if MirrorMaker has backlogs, you don't want the messages to timeout prematurely because the amount of time the producer takes to drain a full buffer worth of messages exceeds the request timeout. Roughly, you want buffer.memory / producerByterRate to be less than request timeout. For example, with our default buffer.memory of 32MB and request.timeout of 30 secs, a message will only timeout if the producer sends data at less than 1.1MB/sec, which seems less likely to happen. Have you increased buffer.memory in MirrorMaker by any chance? Perhaps the solution for this problem is to adjust buffer.memory accordingly? \n\nOn the other hand, it seems that it's useful to be able to bound the time when the callback will be called. For example, when using Kafka to do logging in a web server, if the callback is not called on time, it could tie up a waiting app thread, which will eventually kill the web server. You raised a good point on needing to factor in the retries and retry backoff time in the current implementation. Perhaps, it's better to simplify that rather than making timeout logic even more unpredictable?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249333100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249354192","html_url":"https://github.com/apache/kafka/pull/1667#issuecomment-249354192","issue_url":"https://api.github.com/repos/apache/kafka/issues/1667","id":249354192,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTM1NDE5Mg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T09:02:32Z","updated_at":"2016-09-24T09:02:32Z","author_association":"MEMBER","body":"I think this was fixed by changing the default acks value from `0` to `1`. If you agree, maybe we can close this PR?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249354192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249355111","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249355111","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249355111,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTM1NTExMQ==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T09:24:37Z","updated_at":"2016-09-24T09:24:37Z","author_association":"CONTRIBUTOR","body":"@junrao Thanks for the suggestion. I am a little nervous about tying the request timeout with the buffer size for the following reasons:\n1. Firstly it may not always be possible to tweak the buffer size because that may require us to adjust the batch size and take the number of partitions mirrored into consideration.  And tweaking those things usually brings performance impact. \n2. Even if we can tweak the buffer size to mitigate the issue, that seems more complicated than simply ensure buffer.memory / producerByterRate is less than request timeout. It is possible that a particular partition is drained slowly while the overall producerByteRate looks good. And this association with the traffic patterns could make it very difficult to tune. \n\nI do think it is a bug in the current trunk that we expire a batch when a node is transiently not ready for sending messages. This is purely based on the luckiness of the partitions, i.e. whether they have an in-flight batch or retrying batch when the leader node is defined as transiently not ready. If we exclude that buggy behavior, there seems not much difference between the current trunk and this patch:\n1. When no broker is down and no transient node not ready issue, the trunk and this patch work the same - both of them won't timeout the batches. (As Joel noticed, there is a discrepancy between `max.in.flight.requests.per.connection` = 1 and > 1 in the trunk code though, which is also a little awkward.).\n2. When some brokers are down, but not all the brokers, both trunk and this patch will expire the batches that do not have a leader anymore.\n3. When all the brokers are down at T, the trunk will expire the batch at T + `request.timeout.ms`, this patch will expire the batch at T + `metadata.max.age.ms` + (`request.timeout.ms` + `retry.backoff.ms`)*`retries`\n\nSo it seems this patch actually fixes the unpredictable batch expiration behavior (and also the discrepancy) in the trunk rather than making it more unpredictable. \n\nArguably in case 3 this patch will expire the batches much later. If that is the concern, we can think about improve the staleness check to see how to expire sooner. e.g. based on something like `lastFailedRefreshMs` + `request.timeout.ms`. This do not differ much the current trunk expiration delay and can probably provide good enough headroom for a transient metadata refresh failure as well.  \n\nI agree that it would be good to have a guarantee of when the callback will be fired. It is doable if we have more configurations than only a `request.timeout.ms`. Maybe we should add a `callback.timeout.ms` config. However, there were some strong opposition to have more timeout configurations when we had discussion in KIP-19.\n\nIn our current situation, because `request.timeout.ms` is the only configuration we have in the sender thread, and its primary goal is to bound the time to recover from the case where a broker is not responsive. Any callback timeout derived from that has limitations. I am not sure if we can provide to the users a way to set a strict timeout freely without any side effects.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249355111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249355251","html_url":"https://github.com/apache/kafka/pull/1895#issuecomment-249355251","issue_url":"https://api.github.com/repos/apache/kafka/issues/1895","id":249355251,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTM1NTI1MQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T09:28:07Z","updated_at":"2016-09-24T09:28:07Z","author_association":"MEMBER","body":"Thanks for the PR, LGTM. Merged to trunk and 0.10.1 branches after minor edits. Note that I removed the change to `ops.html` because it didn't seem to fit there (it seemed to be about metrics that one would use to identify issues in production).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249355251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249409164","html_url":"https://github.com/apache/kafka/pull/1376#issuecomment-249409164","issue_url":"https://api.github.com/repos/apache/kafka/issues/1376","id":249409164,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQwOTE2NA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-25T08:15:58Z","updated_at":"2016-09-25T08:15:58Z","author_association":"MEMBER","body":"The initial system tests run had 3 unrelated failures. I rebased the branch on trunk and the system tests then passed: https://jenkins.confluent.io/job/system-test-kafka-branch-builder-2/98/\n\nI also manually tested the 3 command-line tools changed in this PR.\n\nLGTM, merged to trunk and 0.10.1 branches after a minor tweak of the deprecation message we output for the console consumer.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249409164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249409197","html_url":"https://github.com/apache/kafka/pull/1904#issuecomment-249409197","issue_url":"https://api.github.com/repos/apache/kafka/issues/1904","id":249409197,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQwOTE5Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-25T08:16:54Z","updated_at":"2016-09-25T08:16:54Z","author_association":"MEMBER","body":"@granders, would have cycles to take a look at this as well?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249409197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249410287","html_url":"https://github.com/apache/kafka/pull/1905#issuecomment-249410287","issue_url":"https://api.github.com/repos/apache/kafka/issues/1905","id":249410287,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQxMDI4Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-25T08:45:53Z","updated_at":"2016-09-25T08:45:53Z","author_association":"MEMBER","body":"Review by @hachikuji \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249410287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249436795","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249436795","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249436795,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQzNjc5NQ==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-25T18:16:23Z","updated_at":"2016-09-25T18:16:23Z","author_association":"CONTRIBUTOR","body":"@hachikuji Would you take another look?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249436795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249455186","html_url":"https://github.com/apache/kafka/pull/1860#issuecomment-249455186","issue_url":"https://api.github.com/repos/apache/kafka/issues/1860","id":249455186,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQ1NTE4Ng==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T00:00:43Z","updated_at":"2016-09-26T00:00:43Z","author_association":"CONTRIBUTOR","body":"@rajinisivaram : Thanks for the patch. LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249455186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249465028","html_url":"https://github.com/apache/kafka/pull/1897#issuecomment-249465028","issue_url":"https://api.github.com/repos/apache/kafka/issues/1897","id":249465028,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQ2NTAyOA==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T02:15:49Z","updated_at":"2016-09-26T02:15:49Z","author_association":"CONTRIBUTOR","body":"@ijuma Sorry I did miss the follow-up comments in the previous RB. I just replied in the previous RB and updated the patch. Thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249465028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249482000","html_url":"https://github.com/apache/kafka/pull/1755#issuecomment-249482000","issue_url":"https://api.github.com/repos/apache/kafka/issues/1755","id":249482000,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQ4MjAwMA==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T05:26:17Z","updated_at":"2016-09-26T05:26:17Z","author_association":"CONTRIBUTOR","body":"The patch needs to be rebased. It seems an anonymous shutdown thread should work. If so should we consider changing some of the invocation of `halt()` to `exit()`? (e.g. in `KafkaServerStartable`)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249482000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249495234","html_url":"https://github.com/apache/kafka/pull/1900#issuecomment-249495234","issue_url":"https://api.github.com/repos/apache/kafka/issues/1900","id":249495234,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQ5NTIzNA==","user":{"login":"pilloPl","id":8503093,"node_id":"MDQ6VXNlcjg1MDMwOTM=","avatar_url":"https://avatars.githubusercontent.com/u/8503093?v=4","gravatar_id":"","url":"https://api.github.com/users/pilloPl","html_url":"https://github.com/pilloPl","followers_url":"https://api.github.com/users/pilloPl/followers","following_url":"https://api.github.com/users/pilloPl/following{/other_user}","gists_url":"https://api.github.com/users/pilloPl/gists{/gist_id}","starred_url":"https://api.github.com/users/pilloPl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pilloPl/subscriptions","organizations_url":"https://api.github.com/users/pilloPl/orgs","repos_url":"https://api.github.com/users/pilloPl/repos","events_url":"https://api.github.com/users/pilloPl/events{/privacy}","received_events_url":"https://api.github.com/users/pilloPl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T07:10:25Z","updated_at":"2016-09-26T07:10:25Z","author_association":"NONE","body":"Reopening - unexpected build failure\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249495234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249523334","html_url":"https://github.com/apache/kafka/pull/1827#issuecomment-249523334","issue_url":"https://api.github.com/repos/apache/kafka/issues/1827","id":249523334,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTUyMzMzNA==","user":{"login":"mimaison","id":903615,"node_id":"MDQ6VXNlcjkwMzYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/903615?v=4","gravatar_id":"","url":"https://api.github.com/users/mimaison","html_url":"https://github.com/mimaison","followers_url":"https://api.github.com/users/mimaison/followers","following_url":"https://api.github.com/users/mimaison/following{/other_user}","gists_url":"https://api.github.com/users/mimaison/gists{/gist_id}","starred_url":"https://api.github.com/users/mimaison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mimaison/subscriptions","organizations_url":"https://api.github.com/users/mimaison/orgs","repos_url":"https://api.github.com/users/mimaison/repos","events_url":"https://api.github.com/users/mimaison/events{/privacy}","received_events_url":"https://api.github.com/users/mimaison/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T09:33:58Z","updated_at":"2016-09-26T09:33:58Z","author_association":"MEMBER","body":"The Jenkins build timed out, I don't think it was caused by our changes.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249523334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249611052","html_url":"https://github.com/apache/kafka/pull/1884#issuecomment-249611052","issue_url":"https://api.github.com/repos/apache/kafka/issues/1884","id":249611052,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTYxMTA1Mg==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T15:50:50Z","updated_at":"2016-09-26T15:50:50Z","author_association":"CONTRIBUTOR","body":"oic - the problem with making it public on KafkaStreams is that it would\nthen be part of the public API. We probably should move the field from\nKafkaStreams to an internal class and have KafkaStreams and this class\nreference that. Problem is i'm not entirely sure where to put it right now.\n@guozhangwang https://github.com/guozhangwang might have an idea.\nOtherwise, just leave it here and we can fix it later\n\nOn Mon, 26 Sep 2016 at 16:42 hjafarpour notifications@github.com wrote:\n\n> ## _@hjafarpour_ commented on this pull request.\n> \n> In\n> streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamsKafkaClient.java\n> https://github.com/apache/kafka/pull/1884:\n> \n> > -        final Time time = new SystemTime();\n> >   +\n> > -        final Map<String, String> metricTags = new LinkedHashMap<>();\n> > -        metricTags.put(\"client-id\", StreamsConfig.CLIENT_ID_CONFIG);\n> >   +\n> > -        final Metadata metadata = new Metadata(streamsConfig.getLong(StreamsConfig.RETRY_BACKOFF_MS_CONFIG), streamsConfig.getLong(StreamsConfig.METADATA_MAX_AGE_CONFIG));\n> > -        final List<InetSocketAddress> addresses = ClientUtils.parseAndValidateAddresses(streamsConfig.getList(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG));\n> > -        metadata.update(Cluster.bootstrap(addresses), time.milliseconds());\n> >   +\n> > -        final MetricConfig metricConfig = new MetricConfig().samples(streamsConfig.getInt(CommonClientConfigs.METRICS_NUM_SAMPLES_CONFIG))\n> > -                .timeWindow(streamsConfig.getLong(CommonClientConfigs.METRICS_SAMPLE_WINDOW_MS_CONFIG), TimeUnit.MILLISECONDS)\n> > -                .tags(metricTags);\n> > -        final List<MetricsReporter> reporters = streamsConfig.getConfiguredInstances(ProducerConfig.METRIC_REPORTER_CLASSES_CONFIG,\n> > -                MetricsReporter.class);\n> > -        // TODO: This should come from the KafkaStream\n> > -        reporters.add(new JmxReporter(\"kafka.streams\"));\n> \n> @dguy https://github.com/dguy in KafkaStreams.java JMX_PREFIX is\n> defined private:\n> private static final String JMX_PREFIX = \"kafka.streams\";\n> \n> I could either make it public and use it here or define a new field here.\n> Which one would you suggest?\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/apache/kafka/pull/1884, or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AADWLZWjZDJwgxkR127lsm1YE6ligzLRks5qt-fkgaJpZM4KBGjN\n> .\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249611052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249612400","html_url":"https://github.com/apache/kafka/pull/1884#issuecomment-249612400","issue_url":"https://api.github.com/repos/apache/kafka/issues/1884","id":249612400,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTYxMjQwMA==","user":{"login":"hjafarpour","id":16784742,"node_id":"MDQ6VXNlcjE2Nzg0NzQy","avatar_url":"https://avatars.githubusercontent.com/u/16784742?v=4","gravatar_id":"","url":"https://api.github.com/users/hjafarpour","html_url":"https://github.com/hjafarpour","followers_url":"https://api.github.com/users/hjafarpour/followers","following_url":"https://api.github.com/users/hjafarpour/following{/other_user}","gists_url":"https://api.github.com/users/hjafarpour/gists{/gist_id}","starred_url":"https://api.github.com/users/hjafarpour/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjafarpour/subscriptions","organizations_url":"https://api.github.com/users/hjafarpour/orgs","repos_url":"https://api.github.com/users/hjafarpour/repos","events_url":"https://api.github.com/users/hjafarpour/events{/privacy}","received_events_url":"https://api.github.com/users/hjafarpour/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T15:55:27Z","updated_at":"2016-09-26T15:55:40Z","author_association":"NONE","body":"@dguy Alright, leaving it as it until we decide where we can move the field.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249612400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249642396","html_url":"https://github.com/apache/kafka/pull/1902#issuecomment-249642396","issue_url":"https://api.github.com/repos/apache/kafka/issues/1902","id":249642396,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY0MjM5Ng==","user":{"login":"benstopford","id":1297498,"node_id":"MDQ6VXNlcjEyOTc0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1297498?v=4","gravatar_id":"","url":"https://api.github.com/users/benstopford","html_url":"https://github.com/benstopford","followers_url":"https://api.github.com/users/benstopford/followers","following_url":"https://api.github.com/users/benstopford/following{/other_user}","gists_url":"https://api.github.com/users/benstopford/gists{/gist_id}","starred_url":"https://api.github.com/users/benstopford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benstopford/subscriptions","organizations_url":"https://api.github.com/users/benstopford/orgs","repos_url":"https://api.github.com/users/benstopford/repos","events_url":"https://api.github.com/users/benstopford/events{/privacy}","received_events_url":"https://api.github.com/users/benstopford/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T17:43:59Z","updated_at":"2016-09-26T17:43:59Z","author_association":"CONTRIBUTOR","body":"I will get to this @rajinisivaram :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249642396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249651438","html_url":"https://github.com/apache/kafka/pull/1428#issuecomment-249651438","issue_url":"https://api.github.com/repos/apache/kafka/issues/1428","id":249651438,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY1MTQzOA==","user":{"login":"edoardocomar","id":6661532,"node_id":"MDQ6VXNlcjY2NjE1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6661532?v=4","gravatar_id":"","url":"https://api.github.com/users/edoardocomar","html_url":"https://github.com/edoardocomar","followers_url":"https://api.github.com/users/edoardocomar/followers","following_url":"https://api.github.com/users/edoardocomar/following{/other_user}","gists_url":"https://api.github.com/users/edoardocomar/gists{/gist_id}","starred_url":"https://api.github.com/users/edoardocomar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edoardocomar/subscriptions","organizations_url":"https://api.github.com/users/edoardocomar/orgs","repos_url":"https://api.github.com/users/edoardocomar/repos","events_url":"https://api.github.com/users/edoardocomar/events{/privacy}","received_events_url":"https://api.github.com/users/edoardocomar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T18:15:00Z","updated_at":"2016-09-26T18:15:00Z","author_association":"CONTRIBUTOR","body":"@ijuma We have handled the FETCH and PRODUCE commands\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249651438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249651627","html_url":"https://github.com/apache/kafka/pull/1428#issuecomment-249651627","issue_url":"https://api.github.com/repos/apache/kafka/issues/1428","id":249651627,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY1MTYyNw==","user":{"login":"edoardocomar","id":6661532,"node_id":"MDQ6VXNlcjY2NjE1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6661532?v=4","gravatar_id":"","url":"https://api.github.com/users/edoardocomar","html_url":"https://github.com/edoardocomar","followers_url":"https://api.github.com/users/edoardocomar/followers","following_url":"https://api.github.com/users/edoardocomar/following{/other_user}","gists_url":"https://api.github.com/users/edoardocomar/gists{/gist_id}","starred_url":"https://api.github.com/users/edoardocomar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edoardocomar/subscriptions","organizations_url":"https://api.github.com/users/edoardocomar/orgs","repos_url":"https://api.github.com/users/edoardocomar/repos","events_url":"https://api.github.com/users/edoardocomar/events{/privacy}","received_events_url":"https://api.github.com/users/edoardocomar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T18:15:39Z","updated_at":"2016-09-26T18:15:39Z","author_association":"CONTRIBUTOR","body":"As I have squashed some commits, I am opening  a new PR \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249651627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249660925","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249660925","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249660925,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY2MDkyNQ==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T18:47:59Z","updated_at":"2016-09-26T18:47:59Z","author_association":"CONTRIBUTOR","body":"@junrao - thanks again for taking the time to think through this. I agree with the theme of these comments that we should ideally provide guaranteed timeouts to users. I’m also certain that most users currently have the wrong perception that there is such a thing as a guaranteed timeout in the producer today. The reality is that there are so many if’s and buts in the current code that they will be surprised to learn that we actually do not have a guaranteed timeout from when the send returns to when the callback fires (or future is ready).\n\nI think we are all in agreement that increasing request timeout **kind of** works. The problem with this approach is that it forces exposing users to the intricacies of where the request timeout is applicable. As I mentioned earlier, I think KIP-19 (which was originally for wire timeouts) became overloaded with other timeouts and the end-state is inadequate. Even in its end state the **intent** was that if we can make progress then do not timeout batches in the accumulator, but over time the implementation diverged from that intent. The root problem seems to be that we are using request timeout for the time spent in the accumulator as well (and doing a poor job of that to boot). The clock starts ticking when the request is added to the accumulator. However, it is reset when the request is written out on the wire. So the code clearly admits guilt :) - that it is overloading what was intended to be a wire timeout for the accumulator. So in order to accommodate a high volume producer (such as a mirror maker that is catching up) in which batches may spend considerable time in the accumulator, it forces the user to set an artificially high request timeout. Again, this works but at the expense of increasing the time-to-detect a broker failure. Also, reducing the buffer size is **precisely the opposite** of what should be done in a high-volume producer.\n\nAs suggested earlier in this conversation, we could have an explicit accumulator timeout to avoid these hidden effects. However, that exposes users to internals of the producer. @becketqin I think had a better idea - which is to add an explicit callback/future timeout. While I know that many are loathe to adding more timeouts, I think this addresses the problem and gives us the opportunity to actually provide intuitive guarantees to users. So the timeouts would end up being:\n- `max.block.ms`: maximum time the initial send blocks\n- `request.timeout`: only applies to the request timeout on the wire\n- `send.timeout` or `callback.timeout`: maximum time from the point the send returns to the callback/future. This timeout would be much larger than the `request.timeout`.\n\nAny thoughts? We can put together a KIP if this sounds reasonable.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249660925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249662122","html_url":"https://github.com/apache/kafka/pull/1791#issuecomment-249662122","issue_url":"https://api.github.com/repos/apache/kafka/issues/1791","id":249662122,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY2MjEyMg==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T18:52:04Z","updated_at":"2016-09-26T18:52:04Z","author_association":"CONTRIBUTOR","body":"btw, this was touched upon in KIP-19 and we wanted to avoid the separate timeout due to its interaction with retries. So if we do this then we would document that `send.timeout` takes precedence over any remaining retries.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249662122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249679157","html_url":"https://github.com/apache/kafka/pull/932#issuecomment-249679157","issue_url":"https://api.github.com/repos/apache/kafka/issues/932","id":249679157,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY3OTE1Nw==","user":{"login":"jeffwidman","id":483314,"node_id":"MDQ6VXNlcjQ4MzMxNA==","avatar_url":"https://avatars.githubusercontent.com/u/483314?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffwidman","html_url":"https://github.com/jeffwidman","followers_url":"https://api.github.com/users/jeffwidman/followers","following_url":"https://api.github.com/users/jeffwidman/following{/other_user}","gists_url":"https://api.github.com/users/jeffwidman/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffwidman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffwidman/subscriptions","organizations_url":"https://api.github.com/users/jeffwidman/orgs","repos_url":"https://api.github.com/users/jeffwidman/repos","events_url":"https://api.github.com/users/jeffwidman/events{/privacy}","received_events_url":"https://api.github.com/users/jeffwidman/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2016-09-26T19:56:10Z","updated_at":"2016-09-26T19:56:10Z","author_association":"CONTRIBUTOR","body":"For anyone else reading this later, the default is to IGNORE internal topics, not include them (contrary to what the top comment says).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249679157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249679375","html_url":"https://github.com/apache/kafka/pull/1082#issuecomment-249679375","issue_url":"https://api.github.com/repos/apache/kafka/issues/1082","id":249679375,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY3OTM3NQ==","user":{"login":"jeffwidman","id":483314,"node_id":"MDQ6VXNlcjQ4MzMxNA==","avatar_url":"https://avatars.githubusercontent.com/u/483314?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffwidman","html_url":"https://github.com/jeffwidman","followers_url":"https://api.github.com/users/jeffwidman/followers","following_url":"https://api.github.com/users/jeffwidman/following{/other_user}","gists_url":"https://api.github.com/users/jeffwidman/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffwidman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffwidman/subscriptions","organizations_url":"https://api.github.com/users/jeffwidman/orgs","repos_url":"https://api.github.com/users/jeffwidman/repos","events_url":"https://api.github.com/users/jeffwidman/events{/privacy}","received_events_url":"https://api.github.com/users/jeffwidman/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2016-09-26T19:56:56Z","updated_at":"2016-09-26T19:56:56Z","author_association":"CONTRIBUTOR","body":"For anyone else reading this later, the default is to IGNORE internal topics, not include them (contrary to what the top comment in the thread says).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249679375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249695727","html_url":"https://github.com/apache/kafka/pull/1909#issuecomment-249695727","issue_url":"https://api.github.com/repos/apache/kafka/issues/1909","id":249695727,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTY5NTcyNw==","user":{"login":"kkonstantine","id":16238634,"node_id":"MDQ6VXNlcjE2MjM4NjM0","avatar_url":"https://avatars.githubusercontent.com/u/16238634?v=4","gravatar_id":"","url":"https://api.github.com/users/kkonstantine","html_url":"https://github.com/kkonstantine","followers_url":"https://api.github.com/users/kkonstantine/followers","following_url":"https://api.github.com/users/kkonstantine/following{/other_user}","gists_url":"https://api.github.com/users/kkonstantine/gists{/gist_id}","starred_url":"https://api.github.com/users/kkonstantine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkonstantine/subscriptions","organizations_url":"https://api.github.com/users/kkonstantine/orgs","repos_url":"https://api.github.com/users/kkonstantine/repos","events_url":"https://api.github.com/users/kkonstantine/events{/privacy}","received_events_url":"https://api.github.com/users/kkonstantine/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T20:59:02Z","updated_at":"2016-09-26T20:59:02Z","author_association":"CONTRIBUTOR","body":"This refactoring will allow us to use this class to validate correct production and consumption of records in situations where the producer is more loosely coupled with consumer. @ewencp I'd appreciate your review. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249695727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249708999","html_url":"https://github.com/apache/kafka/pull/1907#issuecomment-249708999","issue_url":"https://api.github.com/repos/apache/kafka/issues/1907","id":249708999,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTcwODk5OQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T21:53:33Z","updated_at":"2016-09-26T21:53:33Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249708999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249710543","html_url":"https://github.com/apache/kafka/pull/846#issuecomment-249710543","issue_url":"https://api.github.com/repos/apache/kafka/issues/846","id":249710543,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTcxMDU0Mw==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T22:00:29Z","updated_at":"2016-09-26T22:00:29Z","author_association":"CONTRIBUTOR","body":"@MayureshGharat Could rebase the patch?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249710543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249713416","html_url":"https://github.com/apache/kafka/pull/846#issuecomment-249713416","issue_url":"https://api.github.com/repos/apache/kafka/issues/846","id":249713416,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTcxMzQxNg==","user":{"login":"MayureshGharat","id":4326831,"node_id":"MDQ6VXNlcjQzMjY4MzE=","avatar_url":"https://avatars.githubusercontent.com/u/4326831?v=4","gravatar_id":"","url":"https://api.github.com/users/MayureshGharat","html_url":"https://github.com/MayureshGharat","followers_url":"https://api.github.com/users/MayureshGharat/followers","following_url":"https://api.github.com/users/MayureshGharat/following{/other_user}","gists_url":"https://api.github.com/users/MayureshGharat/gists{/gist_id}","starred_url":"https://api.github.com/users/MayureshGharat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MayureshGharat/subscriptions","organizations_url":"https://api.github.com/users/MayureshGharat/orgs","repos_url":"https://api.github.com/users/MayureshGharat/repos","events_url":"https://api.github.com/users/MayureshGharat/events{/privacy}","received_events_url":"https://api.github.com/users/MayureshGharat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T22:14:16Z","updated_at":"2016-09-26T22:14:16Z","author_association":"CONTRIBUTOR","body":"@becketqin I will try to get to this in a day. Somehow it missed my radar.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249713416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249726058","html_url":"https://github.com/apache/kafka/pull/1819#issuecomment-249726058","issue_url":"https://api.github.com/repos/apache/kafka/issues/1819","id":249726058,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTcyNjA1OA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T23:22:50Z","updated_at":"2016-09-26T23:22:50Z","author_association":"CONTRIBUTOR","body":"There are a few places that we should handle exceptions better:\n1. In `AbstractTask.initializeOffsetLimits()`, when `consumer.committed()` throws exceptions except `WakeupException` we could wrap them with `ProcessorStateException` indicating that something went wrong when initializing the offset limit.\n2. In `ProcessorContextImpl / StandbyContextImpl` constructor, if `config.keySerde() / valueSerde()` throws any exceptions, wrap them with `StreamsException` indicating something went wrong when configuring the default serializers or deserializers.\n3. In `RecordCollector`, there are calls to `producer.send()` throws `TimeoutException`, we should consider backing off and retry.\n4. In `ProcessorStateManager.register()`, when calling `consumer.partitionsFor` throwing `TimeoutException`, we could wrap it with the same `StreamsException(String.format(\"task [%s]  Could not find partition info for topic: %s\", taskId, topic));`.\n5. In `ProcessorStateManager.updateStandbyStates()`, when calling `restoreCallback.restore()` we should capture any thrown exceptions and wrap them with a different messages indicating that something went wrong while restoring the state store.\n6. In `ProcessorStateManager.flush()`, when calling `store.flush()` capture any thrown exception and wrap with informative message; similarly for `store.flush()` and `store.close()` in the `close()` function.\n7. In `ProcessorNode`, when calling underlying `processor.init()` and `processor.process()` and `processor.close`, we could wrap any thrown exceptions indicating which processor node of which tasks went wrong, etc.\n8. In `StreamTask.punctuate()`, capture any thrown exceptions indicating which thread's which tasks went wrong, etc.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249726058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249726771","html_url":"https://github.com/apache/kafka/pull/1819#issuecomment-249726771","issue_url":"https://api.github.com/repos/apache/kafka/issues/1819","id":249726771,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTcyNjc3MQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T23:26:53Z","updated_at":"2016-09-26T23:26:53Z","author_association":"CONTRIBUTOR","body":"@dguy I wrote the above meta comment before reviewing the diff, and I think some of them may be already addressed.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249726771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249731022","html_url":"https://github.com/apache/kafka/pull/1911#issuecomment-249731022","issue_url":"https://api.github.com/repos/apache/kafka/issues/1911","id":249731022,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTczMTAyMg==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T23:55:16Z","updated_at":"2016-09-27T00:44:19Z","author_association":"CONTRIBUTOR","body":"Review by @shikhar and @ewencp. This was a lot more work than expected. Given the size of this patch and the severity of the bug (seems not too high IMO), I'm inclined to kick it out of 0.10.1. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249731022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249733772","html_url":"https://github.com/apache/kafka/pull/1906#issuecomment-249733772","issue_url":"https://api.github.com/repos/apache/kafka/issues/1906","id":249733772,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTczMzc3Mg==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T00:14:35Z","updated_at":"2016-09-27T00:14:35Z","author_association":"CONTRIBUTOR","body":"The meta question is whether it makes sense to replace replication.quota.throttled.rate with leader.replication.quota.throttled.rate and follower.replication.quota.throttled.rate. The will match the throttled replica set and give the admin more flexibility since typically the outgoing bandwidth is more limited than the incoming bandwidth due to the multi subscription nature.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249733772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249734145","html_url":"https://github.com/apache/kafka/pull/1910#issuecomment-249734145","issue_url":"https://api.github.com/repos/apache/kafka/issues/1910","id":249734145,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTczNDE0NQ==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T00:17:00Z","updated_at":"2016-09-27T00:17:00Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch. LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249734145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249735016","html_url":"https://github.com/apache/kafka/pull/1906#issuecomment-249735016","issue_url":"https://api.github.com/repos/apache/kafka/issues/1906","id":249735016,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTczNTAxNg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T00:23:49Z","updated_at":"2016-09-27T00:24:17Z","author_association":"MEMBER","body":"@junrao that was the question I was going to ask in the KIP mailing list discussion as I was wondering the same.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249735016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249738479","html_url":"https://github.com/apache/kafka/pull/1906#issuecomment-249738479","issue_url":"https://api.github.com/repos/apache/kafka/issues/1906","id":249738479,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTczODQ3OQ==","user":{"login":"apurvam","id":830220,"node_id":"MDQ6VXNlcjgzMDIyMA==","avatar_url":"https://avatars.githubusercontent.com/u/830220?v=4","gravatar_id":"","url":"https://api.github.com/users/apurvam","html_url":"https://github.com/apurvam","followers_url":"https://api.github.com/users/apurvam/followers","following_url":"https://api.github.com/users/apurvam/following{/other_user}","gists_url":"https://api.github.com/users/apurvam/gists{/gist_id}","starred_url":"https://api.github.com/users/apurvam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apurvam/subscriptions","organizations_url":"https://api.github.com/users/apurvam/orgs","repos_url":"https://api.github.com/users/apurvam/repos","events_url":"https://api.github.com/users/apurvam/events{/privacy}","received_events_url":"https://api.github.com/users/apurvam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T00:50:21Z","updated_at":"2016-09-27T00:50:21Z","author_association":"CONTRIBUTOR","body":"File the following potentially under 'newbie questions one has to ask'.. Hence feel free to ignore it. \n\nBut would it make sense to only specify leader throttled replicas and leader throttling rate? If the outgoing bandwidth is scarer, we will be bottlenecked on that anyway. \n\nAnother way to put it, the follower throttle is basically a fraction of the leader throttle, based on how many followers there are. Similarly, if you throttle leaders for a specific topic/partition, the followers get throttled automatically as well. \n\nBy specifying only configs for leaders, we can reduce the number of configs, and will make the system easier to administer. Also, I can't envision a case where we will want to specify follower-only throttles, since that could easily oversubscribe a leader.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249738479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249740277","html_url":"https://github.com/apache/kafka/pull/1896#issuecomment-249740277","issue_url":"https://api.github.com/repos/apache/kafka/issues/1896","id":249740277,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc0MDI3Nw==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T01:04:20Z","updated_at":"2016-09-27T01:04:20Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch. LGTM. Just a couple of minor comments.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249740277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249741233","html_url":"https://github.com/apache/kafka/pull/1906#issuecomment-249741233","issue_url":"https://api.github.com/repos/apache/kafka/issues/1906","id":249741233,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc0MTIzMw==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T01:12:19Z","updated_at":"2016-09-27T01:12:19Z","author_association":"CONTRIBUTOR","body":"Well, the more general case is that the followers on a given broker may be fetching from leaders on different brokers. So, if the leaders are spread in say 10 brokers, the follower broker could get 10 X leader traffic.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249741233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249745742","html_url":"https://github.com/apache/kafka/pull/1907#issuecomment-249745742","issue_url":"https://api.github.com/repos/apache/kafka/issues/1907","id":249745742,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc0NTc0Mg==","user":{"login":"terrencehan","id":1846250,"node_id":"MDQ6VXNlcjE4NDYyNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1846250?v=4","gravatar_id":"","url":"https://api.github.com/users/terrencehan","html_url":"https://github.com/terrencehan","followers_url":"https://api.github.com/users/terrencehan/followers","following_url":"https://api.github.com/users/terrencehan/following{/other_user}","gists_url":"https://api.github.com/users/terrencehan/gists{/gist_id}","starred_url":"https://api.github.com/users/terrencehan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/terrencehan/subscriptions","organizations_url":"https://api.github.com/users/terrencehan/orgs","repos_url":"https://api.github.com/users/terrencehan/repos","events_url":"https://api.github.com/users/terrencehan/events{/privacy}","received_events_url":"https://api.github.com/users/terrencehan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T01:50:35Z","updated_at":"2016-09-27T01:50:35Z","author_association":"NONE","body":"Good to know\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249745742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249747152","html_url":"https://github.com/apache/kafka/pull/1499#issuecomment-249747152","issue_url":"https://api.github.com/repos/apache/kafka/issues/1499","id":249747152,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc0NzE1Mg==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T02:00:28Z","updated_at":"2016-09-27T02:00:28Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks for the patch!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249747152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249747338","html_url":"https://github.com/apache/kafka/pull/1906#issuecomment-249747338","issue_url":"https://api.github.com/repos/apache/kafka/issues/1906","id":249747338,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc0NzMzOA==","user":{"login":"apurvam","id":830220,"node_id":"MDQ6VXNlcjgzMDIyMA==","avatar_url":"https://avatars.githubusercontent.com/u/830220?v=4","gravatar_id":"","url":"https://api.github.com/users/apurvam","html_url":"https://github.com/apurvam","followers_url":"https://api.github.com/users/apurvam/followers","following_url":"https://api.github.com/users/apurvam/following{/other_user}","gists_url":"https://api.github.com/users/apurvam/gists{/gist_id}","starred_url":"https://api.github.com/users/apurvam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apurvam/subscriptions","organizations_url":"https://api.github.com/users/apurvam/orgs","repos_url":"https://api.github.com/users/apurvam/repos","events_url":"https://api.github.com/users/apurvam/events{/privacy}","received_events_url":"https://api.github.com/users/apurvam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T02:01:48Z","updated_at":"2016-09-27T02:01:48Z","author_association":"CONTRIBUTOR","body":"Ah. Yes. Makes sense. I was assuming an even distribution. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249747338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249758348","html_url":"https://github.com/apache/kafka/pull/1914#issuecomment-249758348","issue_url":"https://api.github.com/repos/apache/kafka/issues/1914","id":249758348,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc1ODM0OA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T03:39:30Z","updated_at":"2016-09-27T03:39:30Z","author_association":"CONTRIBUTOR","body":"Review by @ijuma. This is a followup for KAFKA-3282.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249758348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249761632","html_url":"https://github.com/apache/kafka/pull/1901#issuecomment-249761632","issue_url":"https://api.github.com/repos/apache/kafka/issues/1901","id":249761632,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc2MTYzMg==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T04:09:10Z","updated_at":"2016-09-27T04:09:10Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks for the fix!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249761632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249766390","html_url":"https://github.com/apache/kafka/pull/1502#issuecomment-249766390","issue_url":"https://api.github.com/repos/apache/kafka/issues/1502","id":249766390,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc2NjM5MA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T04:57:02Z","updated_at":"2016-09-27T04:57:02Z","author_association":"CONTRIBUTOR","body":"@Ishiihara Looks like patch is a bit out of date. If you don't think you have time to complete it in the next week, feel free to close this pr and I'll pick it up.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249766390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249768804","html_url":"https://github.com/apache/kafka/pull/1915#issuecomment-249768804","issue_url":"https://api.github.com/repos/apache/kafka/issues/1915","id":249768804,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc2ODgwNA==","user":{"login":"omkreddy","id":8134545,"node_id":"MDQ6VXNlcjgxMzQ1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8134545?v=4","gravatar_id":"","url":"https://api.github.com/users/omkreddy","html_url":"https://github.com/omkreddy","followers_url":"https://api.github.com/users/omkreddy/followers","following_url":"https://api.github.com/users/omkreddy/following{/other_user}","gists_url":"https://api.github.com/users/omkreddy/gists{/gist_id}","starred_url":"https://api.github.com/users/omkreddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omkreddy/subscriptions","organizations_url":"https://api.github.com/users/omkreddy/orgs","repos_url":"https://api.github.com/users/omkreddy/repos","events_url":"https://api.github.com/users/omkreddy/events{/privacy}","received_events_url":"https://api.github.com/users/omkreddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T05:19:38Z","updated_at":"2016-09-27T05:19:38Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249768804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249778387","html_url":"https://github.com/apache/kafka/pull/1913#issuecomment-249778387","issue_url":"https://api.github.com/repos/apache/kafka/issues/1913","id":249778387,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc3ODM4Nw==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T06:34:38Z","updated_at":"2016-09-27T06:34:38Z","author_association":"CONTRIBUTOR","body":"It seems the original PR  #846 hasn't been merged? Is this one created accidentally?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249778387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249796310","html_url":"https://github.com/apache/kafka/pull/1908#issuecomment-249796310","issue_url":"https://api.github.com/repos/apache/kafka/issues/1908","id":249796310,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTc5NjMxMA==","user":{"login":"edoardocomar","id":6661532,"node_id":"MDQ6VXNlcjY2NjE1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6661532?v=4","gravatar_id":"","url":"https://api.github.com/users/edoardocomar","html_url":"https://github.com/edoardocomar","followers_url":"https://api.github.com/users/edoardocomar/followers","following_url":"https://api.github.com/users/edoardocomar/following{/other_user}","gists_url":"https://api.github.com/users/edoardocomar/gists{/gist_id}","starred_url":"https://api.github.com/users/edoardocomar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edoardocomar/subscriptions","organizations_url":"https://api.github.com/users/edoardocomar/orgs","repos_url":"https://api.github.com/users/edoardocomar/repos","events_url":"https://api.github.com/users/edoardocomar/events{/privacy}","received_events_url":"https://api.github.com/users/edoardocomar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T08:11:13Z","updated_at":"2016-09-27T08:11:13Z","author_association":"CONTRIBUTOR","body":"Hi @ijuma all tests seem to have passed (they do locally for me) but the Jenkins build failed\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/249796310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]