[{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231239673","html_url":"https://github.com/apache/bigtop/pull/989#issuecomment-1231239673","issue_url":"https://api.github.com/repos/apache/bigtop/issues/989","id":1231239673,"node_id":"IC_kwDOACDj7M5JYzn5","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T07:08:12Z","updated_at":"2022-08-30T07:08:12Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231239673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231337308","html_url":"https://github.com/apache/bigtop/pull/989#issuecomment-1231337308","issue_url":"https://api.github.com/repos/apache/bigtop/issues/989","id":1231337308,"node_id":"IC_kwDOACDj7M5JZLdc","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T08:34:00Z","updated_at":"2022-08-30T08:34:00Z","author_association":"MEMBER","body":"The solr and some other services would fail to start when enabling Kerberos.\r\nLet's fix them in the subsequent separated PRs/Jiras.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231337308/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231338029","html_url":"https://github.com/apache/bigtop/pull/989#issuecomment-1231338029","issue_url":"https://api.github.com/repos/apache/bigtop/issues/989","id":1231338029,"node_id":"IC_kwDOACDj7M5JZLot","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T08:34:40Z","updated_at":"2022-08-30T08:34:40Z","author_association":"MEMBER","body":"Merged, thanks.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231338029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231552169","html_url":"https://github.com/apache/bigtop/pull/986#issuecomment-1231552169","issue_url":"https://api.github.com/repos/apache/bigtop/issues/986","id":1231552169,"node_id":"IC_kwDOACDj7M5JZ_6p","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T11:44:18Z","updated_at":"2022-08-30T11:45:26Z","author_association":"CONTRIBUTOR","body":"> > I also ran `./gradlew allclean zookeeper-pkg hive-pkg kafka-pkg -Pprefix=/usr/bigtop`, and confirmed that the files under /usr were relocated to `$prefix/$bigtop_version/usr`, and the ones under /etc and /var were not. It almost looks good, but is it OK that /etc/(zookeeper|hive|kafka) aren't relocated, because configuration files can be incompatible between different versions?\r\n> \r\n> `/var/log`,`/var/run`,`/etc/%{name}/conf` won't be relocated to `/usr/bigtop/${version}/`, but `/var/lib` will.\r\n> \r\n> I'm thinking we should create symlink from `alternatives confdir` to `/usr/lib/%{name}/conf`, it'll be easier for components' upgrade.\r\n\r\nI think I can relocate all dir to `/usr/bigtop/${version}/`, and create symlink for `/var/log`,`/var/run`,`/etc/%{name}/conf` in bigtop-select in the future.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231552169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231664126","html_url":"https://github.com/apache/bigtop/pull/961#issuecomment-1231664126","issue_url":"https://api.github.com/repos/apache/bigtop/issues/961","id":1231664126,"node_id":"IC_kwDOACDj7M5JabP-","user":{"login":"yoda-mon","id":14937752,"node_id":"MDQ6VXNlcjE0OTM3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/14937752?v=4","gravatar_id":"","url":"https://api.github.com/users/yoda-mon","html_url":"https://github.com/yoda-mon","followers_url":"https://api.github.com/users/yoda-mon/followers","following_url":"https://api.github.com/users/yoda-mon/following{/other_user}","gists_url":"https://api.github.com/users/yoda-mon/gists{/gist_id}","starred_url":"https://api.github.com/users/yoda-mon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoda-mon/subscriptions","organizations_url":"https://api.github.com/users/yoda-mon/orgs","repos_url":"https://api.github.com/users/yoda-mon/repos","events_url":"https://api.github.com/users/yoda-mon/events{/privacy}","received_events_url":"https://api.github.com/users/yoda-mon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T13:23:34Z","updated_at":"2022-08-30T13:23:34Z","author_association":"CONTRIBUTOR","body":"@guyuqi  I tried to checked on CentOS7/arm64 and Ubuntu 22.04/x86, but could not reproduce the error. (That might be network connectivity... ?). \r\n\r\nThrough checking the process, I found the smoke test for Hadoop also failed. The reason is SysV init script is removed on fedora 36 docker image. I added the installation of init-script, and passed the smoke-test.\r\nI will add the test command to this PR's comment.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1231664126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1232643708","html_url":"https://github.com/apache/bigtop/pull/986#issuecomment-1232643708","issue_url":"https://api.github.com/repos/apache/bigtop/issues/986","id":1232643708,"node_id":"IC_kwDOACDj7M5JeKZ8","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T08:41:01Z","updated_at":"2022-08-31T08:41:01Z","author_association":"CONTRIBUTOR","body":"Pull requests will be created for each component for easy review","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1232643708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1234242740","html_url":"https://github.com/apache/bigtop/pull/994#issuecomment-1234242740","issue_url":"https://api.github.com/repos/apache/bigtop/issues/994","id":1234242740,"node_id":"IC_kwDOACDj7M5JkQy0","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T12:56:49Z","updated_at":"2022-09-01T12:56:49Z","author_association":"CONTRIBUTOR","body":"+1. This change itself doesn't change any behavior of the existing build script, so we can safely merge it.\r\nWe need stricter check for the succeeding changes, such as BIGTOP-3796, BIGTOP-3797 and BIGTOP-3798.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1234242740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1234244219","html_url":"https://github.com/apache/bigtop/pull/994#issuecomment-1234244219","issue_url":"https://api.github.com/repos/apache/bigtop/issues/994","id":1234244219,"node_id":"IC_kwDOACDj7M5JkRJ7","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T12:58:14Z","updated_at":"2022-09-01T12:58:14Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks for your contribution @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1234244219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236008006","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1236008006","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1236008006,"node_id":"IC_kwDOACDj7M5Jq_xG","user":{"login":"timyuer","id":16263438,"node_id":"MDQ6VXNlcjE2MjYzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/16263438?v=4","gravatar_id":"","url":"https://api.github.com/users/timyuer","html_url":"https://github.com/timyuer","followers_url":"https://api.github.com/users/timyuer/followers","following_url":"https://api.github.com/users/timyuer/following{/other_user}","gists_url":"https://api.github.com/users/timyuer/gists{/gist_id}","starred_url":"https://api.github.com/users/timyuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timyuer/subscriptions","organizations_url":"https://api.github.com/users/timyuer/orgs","repos_url":"https://api.github.com/users/timyuer/repos","events_url":"https://api.github.com/users/timyuer/events{/privacy}","received_events_url":"https://api.github.com/users/timyuer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T00:51:54Z","updated_at":"2022-09-03T01:12:52Z","author_association":"CONTRIBUTOR","body":"\r\n![hive_status_20220903091150](https://user-images.githubusercontent.com/16263438/188250060-3896be6e-279d-4558-9b38-4982cc63c782.png)\r\n\r\n![hive_service_check](https://user-images.githubusercontent.com/16263438/188249407-8670f8f7-b736-43e9-89e9-e9c1cfb8d397.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236008006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236013544","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1236013544","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1236013544,"node_id":"IC_kwDOACDj7M5JrBHo","user":{"login":"timyuer","id":16263438,"node_id":"MDQ6VXNlcjE2MjYzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/16263438?v=4","gravatar_id":"","url":"https://api.github.com/users/timyuer","html_url":"https://github.com/timyuer","followers_url":"https://api.github.com/users/timyuer/followers","following_url":"https://api.github.com/users/timyuer/following{/other_user}","gists_url":"https://api.github.com/users/timyuer/gists{/gist_id}","starred_url":"https://api.github.com/users/timyuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timyuer/subscriptions","organizations_url":"https://api.github.com/users/timyuer/orgs","repos_url":"https://api.github.com/users/timyuer/repos","events_url":"https://api.github.com/users/timyuer/events{/privacy}","received_events_url":"https://api.github.com/users/timyuer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T01:07:02Z","updated_at":"2022-09-03T01:07:02Z","author_association":"CONTRIBUTOR","body":"Metastore in Hive 3.1.3 is not compatible with Hadoop 3.3.x when Kerberos enabled.\r\nRelated to https://github.com/apache/bigtop/pull/1001","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236013544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236292930","html_url":"https://github.com/apache/bigtop/pull/993#issuecomment-1236292930","issue_url":"https://api.github.com/repos/apache/bigtop/issues/993","id":1236292930,"node_id":"IC_kwDOACDj7M5JsFVC","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T09:01:47Z","updated_at":"2022-09-04T09:01:47Z","author_association":"CONTRIBUTOR","body":"Can we have custom configs like other components?\r\n![image](https://user-images.githubusercontent.com/31196226/188305841-565d3177-1f3b-4026-bf93-b65d6939f34b.png)\r\n![image](https://user-images.githubusercontent.com/31196226/188305850-d09f8407-59a1-47a6-8a42-660a624b286a.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236292930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236293116","html_url":"https://github.com/apache/bigtop/pull/993#issuecomment-1236293116","issue_url":"https://api.github.com/repos/apache/bigtop/issues/993","id":1236293116,"node_id":"IC_kwDOACDj7M5JsFX8","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T09:02:46Z","updated_at":"2022-09-04T09:02:46Z","author_association":"CONTRIBUTOR","body":"I can still see errors while running service_check\r\n![image](https://user-images.githubusercontent.com/31196226/188305875-aaa3c8fc-a508-45f4-afee-7a5fd27ccef0.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236293116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236458488","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1236458488","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1236458488,"node_id":"IC_kwDOACDj7M5Jstv4","user":{"login":"timyuer","id":16263438,"node_id":"MDQ6VXNlcjE2MjYzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/16263438?v=4","gravatar_id":"","url":"https://api.github.com/users/timyuer","html_url":"https://github.com/timyuer","followers_url":"https://api.github.com/users/timyuer/followers","following_url":"https://api.github.com/users/timyuer/following{/other_user}","gists_url":"https://api.github.com/users/timyuer/gists{/gist_id}","starred_url":"https://api.github.com/users/timyuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timyuer/subscriptions","organizations_url":"https://api.github.com/users/timyuer/orgs","repos_url":"https://api.github.com/users/timyuer/repos","events_url":"https://api.github.com/users/timyuer/events{/privacy}","received_events_url":"https://api.github.com/users/timyuer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T01:13:05Z","updated_at":"2022-09-05T01:13:05Z","author_association":"CONTRIBUTOR","body":"Update as iwasakims comment.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236458488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236602481","html_url":"https://github.com/apache/bigtop/pull/993#issuecomment-1236602481","issue_url":"https://api.github.com/repos/apache/bigtop/issues/993","id":1236602481,"node_id":"IC_kwDOACDj7M5JtQ5x","user":{"login":"smallyao","id":13212217,"node_id":"MDQ6VXNlcjEzMjEyMjE3","avatar_url":"https://avatars.githubusercontent.com/u/13212217?v=4","gravatar_id":"","url":"https://api.github.com/users/smallyao","html_url":"https://github.com/smallyao","followers_url":"https://api.github.com/users/smallyao/followers","following_url":"https://api.github.com/users/smallyao/following{/other_user}","gists_url":"https://api.github.com/users/smallyao/gists{/gist_id}","starred_url":"https://api.github.com/users/smallyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallyao/subscriptions","organizations_url":"https://api.github.com/users/smallyao/orgs","repos_url":"https://api.github.com/users/smallyao/repos","events_url":"https://api.github.com/users/smallyao/events{/privacy}","received_events_url":"https://api.github.com/users/smallyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T06:47:48Z","updated_at":"2022-09-05T06:47:48Z","author_association":"CONTRIBUTOR","body":"> Can we have custom configs like other components? ![image](https://user-images.githubusercontent.com/31196226/188305841-565d3177-1f3b-4026-bf93-b65d6939f34b.png) ![image](https://user-images.githubusercontent.com/31196226/188305850-d09f8407-59a1-47a6-8a42-660a624b286a.png)\r\n\r\nThanks for your review.\r\nIn current flink configs webï¼Œ we can directly add/delete/update configuration in flink-conf template or log4j related textarea.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236602481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236610044","html_url":"https://github.com/apache/bigtop/pull/993#issuecomment-1236610044","issue_url":"https://api.github.com/repos/apache/bigtop/issues/993","id":1236610044,"node_id":"IC_kwDOACDj7M5JtSv8","user":{"login":"smallyao","id":13212217,"node_id":"MDQ6VXNlcjEzMjEyMjE3","avatar_url":"https://avatars.githubusercontent.com/u/13212217?v=4","gravatar_id":"","url":"https://api.github.com/users/smallyao","html_url":"https://github.com/smallyao","followers_url":"https://api.github.com/users/smallyao/followers","following_url":"https://api.github.com/users/smallyao/following{/other_user}","gists_url":"https://api.github.com/users/smallyao/gists{/gist_id}","starred_url":"https://api.github.com/users/smallyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallyao/subscriptions","organizations_url":"https://api.github.com/users/smallyao/orgs","repos_url":"https://api.github.com/users/smallyao/repos","events_url":"https://api.github.com/users/smallyao/events{/privacy}","received_events_url":"https://api.github.com/users/smallyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T06:58:22Z","updated_at":"2022-09-05T06:58:22Z","author_association":"CONTRIBUTOR","body":"> I can still see errors while running service_check ![image](https://user-images.githubusercontent.com/31196226/188305875-aaa3c8fc-a508-45f4-afee-7a5fd27ccef0.png)\r\n\r\nFixed, thanks @kevinw66 ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236610044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236622420","html_url":"https://github.com/apache/bigtop/pull/993#issuecomment-1236622420","issue_url":"https://api.github.com/repos/apache/bigtop/issues/993","id":1236622420,"node_id":"IC_kwDOACDj7M5JtVxU","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T07:14:36Z","updated_at":"2022-09-05T07:14:36Z","author_association":"CONTRIBUTOR","body":"+1 LGTM, @guyuqi Could you please take a look, thanks!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1236622420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1237243175","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1237243175","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1237243175,"node_id":"IC_kwDOACDj7M5JvtUn","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T15:54:42Z","updated_at":"2022-09-05T15:54:42Z","author_association":"MEMBER","body":"Hmm. I ran unit tests of Hive with `-Dcurator.version=4.2.0`. Test failures caused by curator version mismatch are observed. Just setting the `curator.verion` seems not to work.\r\n\r\n```\r\n$ mvn -Dcurator.version=4.2.0 -Dhbase.version=2.4.13 -Dzookeeper.version=3.5.9 -Dhadoop.version=3.3.4 -Dtez.version=0.10.1 -Dspark.version=3.2.1 -Dscala.binary.version=2.12 -Dscala.version=2.12.13 -Dguava.version=27.0-jre -Dmaven.test.failure.ignore test\r\n```\r\n```\r\n[ERROR] Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.121 s <<< FAILURE! - in org.apache.hadoop.hive.ql.lockmgr.zookeeper.TestZookeeperLockManager\r\n[ERROR] testDeleteNoChildren(org.apache.hadoop.hive.ql.lockmgr.zookeeper.TestZookeeperLockManager)  Time elapsed: 1.431 s  <<< ERROR!\r\njava.lang.NoSuchMethodError: org.apache.curator.framework.api.CreateBuilder.creatingParentsIfNeeded()Lorg/apache/curator/framework/api/ProtectACLCreateModePathAndBytesable;\r\n        at org.apache.hadoop.hive.ql.lockmgr.zookeeper.TestZookeeperLockManager.testDeleteNoChildren(TestZookeeperLockManager.java:94)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        ...\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1237243175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1237272848","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1237272848","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1237272848,"node_id":"IC_kwDOACDj7M5Jv0kQ","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:20:42Z","updated_at":"2022-09-05T16:20:42Z","author_association":"MEMBER","body":"While I see NoSuchMethodError only in test classes (TestSlotZnode and TestZookeeperLockManager), it should be addressed as part of [HIVE-26513](https://issues.apache.org/jira/browse/HIVE-26513). We can see if no defect by running tests again after it.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1237272848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1237873621","html_url":"https://github.com/apache/bigtop/pull/992#issuecomment-1237873621","issue_url":"https://api.github.com/repos/apache/bigtop/issues/992","id":1237873621,"node_id":"IC_kwDOACDj7M5JyHPV","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T09:07:42Z","updated_at":"2022-09-06T09:07:42Z","author_association":"MEMBER","body":"Thanks, @kevinw66 ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1237873621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1238782440","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1238782440","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1238782440,"node_id":"IC_kwDOACDj7M5J1lHo","user":{"login":"timyuer","id":16263438,"node_id":"MDQ6VXNlcjE2MjYzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/16263438?v=4","gravatar_id":"","url":"https://api.github.com/users/timyuer","html_url":"https://github.com/timyuer","followers_url":"https://api.github.com/users/timyuer/followers","following_url":"https://api.github.com/users/timyuer/following{/other_user}","gists_url":"https://api.github.com/users/timyuer/gists{/gist_id}","starred_url":"https://api.github.com/users/timyuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timyuer/subscriptions","organizations_url":"https://api.github.com/users/timyuer/orgs","repos_url":"https://api.github.com/users/timyuer/repos","events_url":"https://api.github.com/users/timyuer/events{/privacy}","received_events_url":"https://api.github.com/users/timyuer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-07T00:39:25Z","updated_at":"2022-09-07T00:39:43Z","author_association":"CONTRIBUTOR","body":">While I see NoSuchMethodError only in test classes (TestSlotZnode and TestZookeeperLockManager), it should be addressed as part of [HIVE-26513](https://issues.apache.org/jira/browse/HIVE-26513). We can see if no defect by running tests again after it.\r\n\r\nThe Hive community says it will not be fixed to be compatible with the Hadoop3.3.x, if using the Hadoop3.3.x, they recommend upgrading the Hive to the master branch. @iwasakims ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1238782440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1238888202","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1238888202","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1238888202,"node_id":"IC_kwDOACDj7M5J1-8K","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-07T04:15:58Z","updated_at":"2022-09-07T04:15:58Z","author_association":"MEMBER","body":"Then we should backport [HIVE-22205](https://issues.apache.org/jira/browse/HIVE-22205) to Hive 3.1.3 as done for existing patch*.diff. We can not upgrade Hive before Hive 4.0.0 is released. @timyuer.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1238888202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1238932255","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1238932255","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1238932255,"node_id":"IC_kwDOACDj7M5J2Jsf","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-07T05:44:20Z","updated_at":"2022-09-07T05:44:20Z","author_association":"MEMBER","body":"> Then we should backport [HIVE-22205](https://issues.apache.org/jira/browse/HIVE-22205) to Hive 3.1.3 as done for existing patch*.diff.\r\n\r\nI summitted https://github.com/apache/bigtop/pull/1003 doing this. @timyuer.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1238932255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1239191797","html_url":"https://github.com/apache/bigtop/pull/1003#issuecomment-1239191797","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1003","id":1239191797,"node_id":"IC_kwDOACDj7M5J3JD1","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-07T10:14:05Z","updated_at":"2022-09-07T10:14:05Z","author_association":"MEMBER","body":"smoke-tests of Hive passed on Rocky Linux 8 x86_64.\r\n\r\n```\r\n$ ./docker-hadoop.sh \\\r\n       --create 3 \\\r\n       --image bigtop/puppet:trunk-rockylinux-8 \\\r\n       --memory 8g \\\r\n       --repo file:///bigtop-home/output \\\r\n       --disable-gpg-check \\\r\n       --stack hdfs,yarn,mapreduce,hive \\\r\n       --smoke-tests hive\r\n...\r\nNow testing...\r\n:bigtop-tests:smoke-tests:hive:test (Thread[Execution worker for ':' Thread 4,5,main]) completed. Took 13.508 secs.\r\n\r\nBUILD SUCCESSFUL in 47s\r\n30 actionable tasks: 6 executed, 24 up-to-date\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1239191797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1240247698","html_url":"https://github.com/apache/bigtop/pull/1005#issuecomment-1240247698","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1005","id":1240247698,"node_id":"IC_kwDOACDj7M5J7K2S","user":{"login":"timyuer","id":16263438,"node_id":"MDQ6VXNlcjE2MjYzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/16263438?v=4","gravatar_id":"","url":"https://api.github.com/users/timyuer","html_url":"https://github.com/timyuer","followers_url":"https://api.github.com/users/timyuer/followers","following_url":"https://api.github.com/users/timyuer/following{/other_user}","gists_url":"https://api.github.com/users/timyuer/gists{/gist_id}","starred_url":"https://api.github.com/users/timyuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timyuer/subscriptions","organizations_url":"https://api.github.com/users/timyuer/orgs","repos_url":"https://api.github.com/users/timyuer/repos","events_url":"https://api.github.com/users/timyuer/events{/privacy}","received_events_url":"https://api.github.com/users/timyuer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-08T05:44:49Z","updated_at":"2022-09-08T05:44:49Z","author_association":"CONTRIBUTOR","body":"![solr_kerberos_20220908134418](https://user-images.githubusercontent.com/16263438/189043690-8297799e-64dd-4f0c-b13e-330b81ba6630.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1240247698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1241797676","html_url":"https://github.com/apache/bigtop/pull/993#issuecomment-1241797676","issue_url":"https://api.github.com/repos/apache/bigtop/issues/993","id":1241797676,"node_id":"IC_kwDOACDj7M5KBFQs","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-09T10:29:58Z","updated_at":"2022-09-09T10:29:58Z","author_association":"MEMBER","body":"Verified on the local host enabling Kerberos, +1\r\n![1662719246477](https://user-images.githubusercontent.com/20575685/189329919-2bb66b37-2ce1-4aee-9388-cacf219c03a6.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1241797676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1241798691","html_url":"https://github.com/apache/bigtop/pull/993#issuecomment-1241798691","issue_url":"https://api.github.com/repos/apache/bigtop/issues/993","id":1241798691,"node_id":"IC_kwDOACDj7M5KBFgj","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-09T10:30:56Z","updated_at":"2022-09-09T10:30:56Z","author_association":"MEMBER","body":"Merged, thanks @smallyao ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1241798691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1242031580","html_url":"https://github.com/apache/bigtop/pull/961#issuecomment-1242031580","issue_url":"https://api.github.com/repos/apache/bigtop/issues/961","id":1242031580,"node_id":"IC_kwDOACDj7M5KB-Xc","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-09T14:17:19Z","updated_at":"2022-09-09T14:17:19Z","author_association":"CONTRIBUTOR","body":"+1, tested with an ARM64 machine on Azure, as follows:\r\n\r\n```\r\n$ facter architecture\r\naarch64\r\n$ facter os\r\n{\"name\"=>\"CentOS\", \"family\"=>\"RedHat\", \"release\"=>{\"major\"=>\"7\", \"minor\"=>\"9\", \"full\"=>\"7.9.2009\"}, \"lsb\"=>{\"distcodename\"=>\"AltArch\", \"distid\"=>\"CentOS\", \"distdescription\"=>\"CentOS Linux release 7.9.2009 (AltArch)\", \"release\"=>\":core-4.1-aarch64:core-4.1-noarch\", \"distrelease\"=>\"7.9.2009\", \"majdistrelease\"=>\"7\", \"minordistrelease\"=>\"9\"}}\r\n$ curl -sL https://github.com/apache/bigtop/pull/961.patch | git apply\r\n$ ./gradlew bigtop-puppet -POS=fedora-36\r\n\r\n...\r\n\r\nSuccessfully built d6fe8e41da0e\r\nSuccessfully tagged bigtop/puppet:trunk-fedora-36-aarch64\r\n+ rm -f Dockerfile puppetize.sh\r\n\r\nBUILD SUCCESSFUL in 1m 56s\r\n1 actionable task: 1 executed\r\n```\r\n\r\n```\r\n$ ./gradlew bigtop-slaves -POS=fedora-36\r\n\r\n...\r\n\r\nSuccessfully built 28481fe37bd8\r\nSuccessfully tagged bigtop/slaves:trunk-fedora-36-aarch64\r\n+ rm -f Dockerfile\r\n\r\nBUILD SUCCESSFUL in 30m 17s\r\n1 actionable task: 1 executed\r\n```\r\n\r\n```\r\n$ ./gradlew allclean hadoop-pkg-ind -POS=fedora-36 -Pdocker-run-option=\"--privileged\" -Pmvn-cache-volume=true\r\n\r\n...\r\n\r\n> Task :hadoop-pkg\r\nCaching disabled for task ':hadoop-pkg' because:\r\n  Build cache is disabled\r\nTask ':hadoop-pkg' is not up-to-date because:\r\n  Task has not declared any outputs despite executing actions.\r\n:hadoop-pkg (Thread[Execution worker for ':',5,main]) completed. Took 0.0 secs.\r\n\r\nBUILD SUCCESSFUL in 37m 6s\r\n6 actionable tasks: 6 executed\r\n+ RESULT=0\r\n+ mkdir -p output\r\n+ docker cp da4972c76fa4b2b04cb7a7e84d27efbee88920a7004dc8e392dbbbb3ea234169:/bigtop/build .\r\n+ docker cp da4972c76fa4b2b04cb7a7e84d27efbee88920a7004dc8e392dbbbb3ea234169:/bigtop/output .\r\n+ docker rm -f da4972c76fa4b2b04cb7a7e84d27efbee88920a7004dc8e392dbbbb3ea234169\r\nda4972c76fa4b2b04cb7a7e84d27efbee88920a7004dc8e392dbbbb3ea234169\r\n+ '[' 0 -ne 0 ']'\r\n+ docker rm -f da4972c76fa4b2b04cb7a7e84d27efbee88920a7004dc8e392dbbbb3ea234169\r\nError: No such container: da4972c76fa4b2b04cb7a7e84d27efbee88920a7004dc8e392dbbbb3ea234169\r\n\r\nBUILD SUCCESSFUL in 37m 34s\r\n3 actionable tasks: 3 executed\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1242031580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1242032559","html_url":"https://github.com/apache/bigtop/pull/961#issuecomment-1242032559","issue_url":"https://api.github.com/repos/apache/bigtop/issues/961","id":1242032559,"node_id":"IC_kwDOACDj7M5KB-mv","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-09T14:18:14Z","updated_at":"2022-09-09T14:18:14Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thank you for the contribution @yoda-mon!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1242032559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243073981","html_url":"https://github.com/apache/bigtop/pull/995#issuecomment-1243073981","issue_url":"https://api.github.com/repos/apache/bigtop/issues/995","id":1243073981,"node_id":"IC_kwDOACDj7M5KF829","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T00:03:34Z","updated_at":"2022-09-12T01:46:55Z","author_association":"CONTRIBUTOR","body":"+1 LGTM.\r\n\r\nI confirmed that there's no problematic difference between the original and the patched versions, without the `-PparentDir` option.\r\n\r\n```\r\n$ ./gradlew zookeeper-clean zookeeper-pkg\r\n$ mv output/zookeeper ~\r\n$ curl -sL https://github.com/apache/bigtop/pull/995.patch | git apply \r\n$ ./gradlew zookeeper-clean zookeeper-pkg\r\n$ for i in $(ls output/zookeeper/x86_64); do diff <(rpm -qlp output/zookeeper/x86_64/$i) <(rpm -qlp ~/zookeeper/x86_64/$i); done\r\n2d1\r\n< /etc/zookeeper\r\n3,8c3,8\r\n< /usr/lib/debug/.build-id/14\r\n< /usr/lib/debug/.build-id/14/edc5f1dcfaffcaa714524d9732d8c5a1352dc6\r\n< /usr/lib/debug/.build-id/14/edc5f1dcfaffcaa714524d9732d8c5a1352dc6.debug\r\n< /usr/lib/debug/.build-id/33\r\n< /usr/lib/debug/.build-id/33/2d47f0bc8e4aeac4a75c4b59844cb93e970367\r\n< /usr/lib/debug/.build-id/33/2d47f0bc8e4aeac4a75c4b59844cb93e970367.debug\r\n---\r\n> /usr/lib/debug/.build-id/0a\r\n> /usr/lib/debug/.build-id/0a/bc2524f78e09840bf2f944eec5bc6c7d740233\r\n> /usr/lib/debug/.build-id/0a/bc2524f78e09840bf2f944eec5bc6c7d740233.debug\r\n> /usr/lib/debug/.build-id/28\r\n> /usr/lib/debug/.build-id/28/1088f9ef357519fcf8d11d9523bf0f1b8ca252\r\n> /usr/lib/debug/.build-id/28/1088f9ef357519fcf8d11d9523bf0f1b8ca252.debug\r\n14,16c14,16\r\n< /usr/lib/debug/.build-id/ed\r\n< /usr/lib/debug/.build-id/ed/f40eda575769f9847d2ec53083289680b80252\r\n< /usr/lib/debug/.build-id/ed/f40eda575769f9847d2ec53083289680b80252.debug\r\n---\r\n> /usr/lib/debug/.build-id/be\r\n> /usr/lib/debug/.build-id/be/e3efb1fcbe74cf455cdcf04d8ea8641199c77b\r\n> /usr/lib/debug/.build-id/be/e3efb1fcbe74cf455cdcf04d8ea8641199c77b.debug\r\n```\r\n\r\nThe diffs above are all ignorable, since:\r\n\r\n* The former diff (/etc/zookeeper) is explicitly added by the PR so as to configure the prefix before it.\r\n* The latter diffs (/usr/lib/debug/.build-id/*) are just sha-1 checksums.\r\n\r\nJust in case, I also confirmed that the patched version passed the smoke tests.\r\n\r\n```\r\n$ ./gradlew repo\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 11s\r\n2 actionable tasks: 2 executed\r\n$ cd provisioner/docker\r\n$ ./docker-hadoop.sh -d -C config_centos-7.yaml -r file:///bigtop-home/output -G -k bigtop-utils,zookeeper -s zookeeper -c 3\r\n\r\n...\r\n\r\nTestZookeeper > testZkServerStatus STANDARD_ERROR\r\n    22/09/11 23:51:10 INFO lang.Object: Running zkServer.sh status\r\n    22/09/11 23:51:11 INFO lang.Object: zkServer.sh status checks out.\r\nFinished generating test XML results (0.007 secs) into: /bigtop-home/bigtop-tests/smoke-tests/zookeeper/build/test-results/test\r\nGenerating HTML test report...\r\nFinished generating test html results (0.017 secs) into: /bigtop-home/bigtop-tests/smoke-tests/zookeeper/build/reports/tests/test\r\nNow testing...\r\n:bigtop-tests:smoke-tests:zookeeper:test (Thread[Daemon worker,5,main]) completed. Took 1.881 secs.\r\n\r\nBUILD SUCCESSFUL in 1m 2s\r\n30 actionable tasks: 7 executed, 23 up-to-date\r\nStopped 1 worker daemon(s).\r\n+ rm -rf buildSrc/build/test-results/binary\r\n+ rm -rf /bigtop-home/.gradle\r\n```\r\n\r\nAlso, the contents in the packages built with the `-PparentDir=/usr/bigtop` option look reasonable.\r\n\r\n```\r\n$ ./gradlew zookeeper-clean zookeeper-pkg -PparentDir=/usr/bigtop\r\n$ for i in $(ls output/zookeeper/x86_64); do echo $i; rpm -qlpv output/zookeeper/x86_64/$i; echo; done\r\nzookeeper-3.5.9-2.el7.x86_64.rpm\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /etc/zookeeper\r\n-rw-r--r--    1 root    root                      855  9æœˆ 11 01:35 /usr/bigtop/etc/default/zookeeper\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/etc/zookeeper/conf.dist\r\n...\r\n-rw-r--r--    1 root    root                      922  9æœˆ 11 01:35 /usr/bigtop/etc/zookeeper/conf.dist/zoo_sample.cfg\r\n-rwxr-xr-x    1 root    root                      413  9æœˆ 11 01:35 /usr/bigtop/usr/bin/zookeeper-client\r\n...\r\n-rwxr-xr-x    1 root    root                      750  9æœˆ 11 01:35 /usr/bigtop/usr/bin/zookeeper-server-initialize\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/bin\r\n...\r\n-rwxr-xr-x    1 root    root                    10682  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/bin/zkServer.sh\r\nlrwxrwxrwx    1 root    root                       19  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/conf -> /etc/zookeeper/conf\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/contrib\r\n...\r\n-rw-r--r--    1 root    root                    45854  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/contrib/rest/zookeeper-contrib-rest-3.5.9.jar\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/lib\r\n...\r\n-rw-r--r--    1 root    root                   248486  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/lib/zookeeper-jute-3.5.9.jar\r\n-rw-r--r--    1 root    root                   984001  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/zookeeper-3.5.9.jar\r\n-rw-r--r--    1 root    root                   248486  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/zookeeper-jute-3.5.9.jar\r\nlrwxrwxrwx    1 root    root                       24  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/zookeeper-jute.jar -> zookeeper-jute-3.5.9.jar\r\nlrwxrwxrwx    1 root    root                       19  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper/zookeeper.jar -> zookeeper-3.5.9.jar\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/usr/share/doc/zookeeper-3.5.9\r\n...\r\n-rw-r--r--    1 root    root                    28959  9æœˆ 11 01:34 /usr/bigtop/usr/share/doc/zookeeper-3.5.9/zookeeperTutorial.html\r\n-rw-r--r--    1 root    root                     1518  9æœˆ 11 01:35 /usr/bigtop/usr/share/man/man1/zookeeper.1.gz\r\n\r\nzookeeper-debuginfo-3.5.9-2.el7.x86_64.rpm\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/lib/debug\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/lib/debug/.build-id\r\n...\r\nlrwxrwxrwx    1 root    root                       56  9æœˆ 11 01:35 /usr/lib/debug/.build-id/ff/5a0fabb780796f653dbaa2b04b689d5b4fc2ac.debug -> ../../usr/bigtop/usr/lib/zookeeper-native/load_gen.debug\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/lib/debug/.dwz\r\n-rw-r--r--    1 root    root                    38977  9æœˆ 11 01:35 /usr/lib/debug/.dwz/zookeeper-3.5.9-2.el7.x86_64\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/lib/debug/usr\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/lib/debug/usr/bigtop\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/lib/debug/usr/bigtop/usr\r\n...\r\nlrwxrwxrwx    1 root    root                       30  9æœˆ 11 01:35 /usr/lib/debug/usr/bigtop/usr/lib64/libzookeeper_st.so.debug -> libzookeeper_st.so.2.0.0.debug\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/src/debug/apache-zookeeper-3.5.9\r\n...\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/src/debug/apache-zookeeper-3.5.9/zookeeper-client/zookeeper-client-c/target/c\r\n\r\nzookeeper-native-3.5.9-2.el7.x86_64.rpm\r\n-rwxr-xr-x    1 root    root                      175  9æœˆ 11 01:35 /usr/bigtop/usr/bin/cli_mt\r\n-rwxr-xr-x    1 root    root                      175  9æœˆ 11 01:35 /usr/bigtop/usr/bin/cli_st\r\n-rwxr-xr-x    1 root    root                      177  9æœˆ 11 01:35 /usr/bigtop/usr/bin/load_gen\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/usr/include/zookeeper\r\n...\r\n-rw-r--r--    1 root    root                     1054  9æœˆ 11 01:35 /usr/bigtop/usr/include/zookeeper/zookeeper_version.h\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper-native\r\n...\r\n-rwxr-xr-x    1 root    root                    15776  9æœˆ 11 01:35 /usr/bigtop/usr/lib/zookeeper-native/load_gen\r\n-rw-r--r--    1 root    root                   246370  9æœˆ 11 01:35 /usr/bigtop/usr/lib64/libzookeeper_mt.a\r\n...\r\n-rwxr-xr-x    1 root    root                   229968  9æœˆ 11 01:35 /usr/bigtop/usr/lib64/libzookeeper_st.so.2.0.0\r\n\r\nzookeeper-rest-3.5.9-2.el7.x86_64.rpm\r\n-rwxr-xr-x    1 root    root                     4527  9æœˆ 11 01:35 /etc/rc.d/init.d/zookeeper-rest\r\n\r\nzookeeper-server-3.5.9-2.el7.x86_64.rpm\r\n-rwxr-xr-x    1 root    root                     5122  9æœˆ 11 01:35 /etc/rc.d/init.d/zookeeper-server\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243073981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243074319","html_url":"https://github.com/apache/bigtop/pull/995#issuecomment-1243074319","issue_url":"https://api.github.com/repos/apache/bigtop/issues/995","id":1243074319,"node_id":"IC_kwDOACDj7M5KF88P","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T00:04:41Z","updated_at":"2022-09-12T00:04:41Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thank you so much for addressing this @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243074319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243117394","html_url":"https://github.com/apache/bigtop/pull/996#issuecomment-1243117394","issue_url":"https://api.github.com/repos/apache/bigtop/issues/996","id":1243117394,"node_id":"IC_kwDOACDj7M5KGHdS","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T01:45:46Z","updated_at":"2022-09-12T01:45:46Z","author_association":"CONTRIBUTOR","body":"+1, I confirmed that the package built with this PR (w/o `parentDir`) doesn't have any problematic difference from the original one.\r\n\r\n```\r\n[vagrant@rocky8 bigtop]$ ./gradlew kafka-clean kafka-pkg repo -Dbuildwithdeps=true\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 3m 37s\r\n19 actionable tasks: 19 executed\r\n[vagrant@rocky8 bigtop]$ mv output/kafka ~\r\n[vagrant@rocky8 bigtop]$ curl -sL https://github.com/apache/bigtop/pull/996.patch | git apply \r\n\r\n...\r\n\r\n[vagrant@rocky8 bigtop]$ ./gradlew kafka-clean kafka-pkg repo\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 3m 30s\r\n9 actionable tasks: 9 executed\r\n[vagrant@rocky8 bigtop]$ for i in $(ls output/kafka/noarch); do diff <(rpm -qlp output/kafka/noarch/$i) <(rpm -qlp ~/kafka/noarch/$i); done\r\n2d1\r\n< /etc/kafka\r\n```\r\n\r\nIt also passed the smoke test.\r\n\r\n```\r\n[vagrant@rocky8 docker]$ ./docker-hadoop.sh -d -C config_rockylinux-8.yaml -r file:///bigtop-home/output -G -k bigtop-utils,zookeeper,kafka -s kafka -c 3\r\n\r\n...\r\n\r\n> Task :bigtop-tests:smoke-tests:kafka:test\r\nFinished generating test XML results (0.02 secs) into: /bigtop-home/bigtop-tests/smoke-tests/kafka/build/test-results/test\r\nGenerating HTML test report...\r\nFinished generating test html results (0.042 secs) into: /bigtop-home/bigtop-tests/smoke-tests/kafka/build/reports/tests/test\r\nNow testing...\r\n:bigtop-tests:smoke-tests:kafka:test (Thread[Daemon worker,5,main]) completed. Took 13.318 secs.\r\n\r\nBUILD SUCCESSFUL in 1m 44s\r\n30 actionable tasks: 9 executed, 21 up-to-date\r\n```\r\n\r\nThe contents in the package built with the `parentDir` option looks good too.\r\n\r\n```\r\n[vagrant@rocky8 bigtop]$ ./gradlew kafka-clean kafka-pkg -PparentDir=/usr/bigtop\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 3m 33s\r\n7 actionable tasks: 7 executed\r\n[vagrant@rocky8 bigtop]$ for i in $(ls output/kafka/noarch); do echo $i; rpm -qlpv output/kafka/noarch/$i; echo; done                                                                                                                         \r\nkafka-2.8.1-2.el8.noarch.rpm                                                                                                                                                                                                                  \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /etc/kafka                                                                                                                                                                 \r\n-rw-r--r--    1 root    root                        0 Sep 12 00:59 /usr/bigtop/etc/default/kafka                                                                                                                                              \r\ndrwxr-xr-x    2 root    root                        0 Sep 12 00:59 /usr/bigtop/etc/kafka/conf.dist                                                                                                                                            \r\n-rw-r--r--    1 root    root                     4674 Sep 12 00:59 /usr/bigtop/etc/kafka/conf.dist/log4j.properties                                                                                                                           \r\n-rw-r--r--    1 root    root                     6849 Sep 14  2021 /usr/bigtop/etc/kafka/conf.dist/server.properties                                                                                                                          \r\n-rw-r--r--    1 root    root                     1032 Sep 14  2021 /usr/bigtop/etc/kafka/conf.dist/tools-log4j.properties                                                                                                                     \r\n-rwxr-xr-x    1 root    root                      165 Sep 12 00:59 /usr/bigtop/usr/bin/kafka-console-consumer.sh                                                                                                                              \r\n-rwxr-xr-x    1 root    root                      165 Sep 12 00:59 /usr/bigtop/usr/bin/kafka-console-producer.sh                                                                                                                              \r\n-rwxr-xr-x    1 root    root                      158 Sep 12 00:59 /usr/bigtop/usr/bin/kafka-run-class.sh                                                                                                                                     \r\n-rwxr-xr-x    1 root    root                      155 Sep 12 00:59 /usr/bigtop/usr/bin/kafka-topics.sh                                                                                                                                        \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /usr/bigtop/usr/lib/kafka                                                                                                                                                  \r\n\r\n...\r\n\r\n-rwxr-xr-x    1 kafka   kafka                    1019 Sep 14  2021 /usr/bigtop/usr/lib/kafka/bin/zookeeper-shell.sh                                                                                                                           \r\nlrwxrwxrwx    1 kafka   kafka                      15 Sep 12 00:59 /usr/bigtop/usr/lib/kafka/config -> /etc/kafka/conf                                                                                                                        \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /usr/bigtop/usr/lib/kafka/libs                                                                                                                                             \r\n\r\n...\r\n\r\nlrwxrwxrwx    1 kafka   kafka                      48 Sep 12 00:59 /usr/bigtop/usr/lib/kafka/libs/zookeeper-jute.jar -> /usr/bigtop/usr/lib/zookeeper/zookeeper-jute.jar                                                                      \r\nlrwxrwxrwx    1 kafka   kafka                      43 Sep 12 00:59 /usr/bigtop/usr/lib/kafka/libs/zookeeper.jar -> /usr/bigtop/usr/lib/zookeeper/zookeeper.jar                                                                                \r\n-rwxr-xr-x    1 kafka   kafka                 6474018 Sep  9 07:57 /usr/bigtop/usr/lib/kafka/libs/zstd-jni-1.4.9-1.jar                                                                                                                        \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /usr/bigtop/usr/lib/kafka/licenses                                                                                                                                         \r\n\r\n...\r\n\r\n-rwxr-xr-x    1 kafka   kafka                    1360 Sep 14  2021 /usr/bigtop/usr/lib/kafka/licenses/zstd-jni-BSD-2-clause                                                                                                                   \r\nlrwxrwxrwx    1 kafka   kafka                      14 Sep 12 00:59 /usr/bigtop/usr/lib/kafka/logs -> /var/log/kafka                                                                                                                           \r\ndrwxr-xr-x    2 root    root                        0 Sep 12 00:59 /usr/bigtop/usr/share/doc/kafka-2.8.1                                                                                                                                      \r\n\r\n...\r\n\r\n-rw-r--r--    1 root    root                     5987 Sep 14  2021 /usr/bigtop/usr/share/doc/kafka-2.8.1/site-docs/uses.html                                                     \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /usr/bigtop/var/lib/kafka                                                                                                                                                  \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /usr/bigtop/var/lib/kafka/data                                                                                                                                             \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /var/log/kafka                                                                                                                                                             \r\ndrwxr-xr-x    2 kafka   kafka                       0 Sep 12 00:59 /var/run/kafka                                                                                                                                                             \r\n\r\nkafka-server-2.8.1-2.el8.noarch.rpm\r\n-rwxr-xr-x    1 root    root                     4938 Sep 12 00:59 /etc/rc.d/init.d/kafka-server\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243117394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243117715","html_url":"https://github.com/apache/bigtop/pull/996#issuecomment-1243117715","issue_url":"https://api.github.com/repos/apache/bigtop/issues/996","id":1243117715,"node_id":"IC_kwDOACDj7M5KGHiT","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T01:46:17Z","updated_at":"2022-09-12T01:46:17Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243117715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243144172","html_url":"https://github.com/apache/bigtop/pull/990#issuecomment-1243144172","issue_url":"https://api.github.com/repos/apache/bigtop/issues/990","id":1243144172,"node_id":"IC_kwDOACDj7M5KGN_s","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T02:31:14Z","updated_at":"2022-09-12T02:31:14Z","author_association":"CONTRIBUTOR","body":"+1. Building Tez with this PR finished without any errors and its artifact passed the smoke test.\r\n\r\n```\r\n$ curl -sL https://github.com/apache/bigtop/pull/990.patch | git apply\r\n$ ./gradlew tez-clean tez-pkg repo -Dbuildwithdeps=true\r\n\r\n...\r\n\r\nChecking for unpackaged file(s): /usr/lib/rpm/check-files /home/vagrant/bigtop/build/tez/rpm/BUILDROOT/tez-0.10.1-1.el7.x86_64                                                                                                                \r\nWrote: /home/vagrant/bigtop/build/tez/rpm/RPMS/noarch/tez-0.10.1-1.el7.noarch.rpm                                                                                                                                                             \r\nExecuting(%clean): /bin/sh -e /var/tmp/rpm-tmp.1bHWq8                                                                                                                                                                                         \r\n+ umask 022                                                                                                                                                                                                                                   \r\n+ cd /home/vagrant/bigtop/build/tez/rpm//BUILD                                                                                                                                                                                                \r\n+ cd apache-tez-0.10.1-src                                                                                                                                                                                                                    \r\n+ /usr/bin/rm -rf /home/vagrant/bigtop/build/tez/rpm/BUILDROOT/tez-0.10.1-1.el7.x86_64                                                                                                                                                        \r\n+ exit 0                                                                                                                                                                                                                                      \r\nExecuting(--clean): /bin/sh -e /var/tmp/rpm-tmp.tirrGP                                                                                                                                                                                        \r\n+ umask 022                                                                                                                                                                                                                                   \r\n+ cd /home/vagrant/bigtop/build/tez/rpm//BUILD                                                                                                                                                                                                \r\n+ rm -rf apache-tez-0.10.1-src                                                                                                                                                                                                                \r\n+ exit 0                                                                                                                                                                                                                                      \r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 3m 30s\r\n34 actionable tasks: 34 executed\r\n```\r\n\r\n```\r\n$ cd provisioner/docker\r\n$ ./docker-hadoop.sh -d -C config_centos-7.yaml -r file:///bigtop-home/output -G -k hdfs,yarn,tez -s tez -c 3\r\n\r\n...\r\n\r\n> Task :bigtop-tests:smoke-tests:tez:test\r\nFinished generating test XML results (0.019 secs) into: /bigtop-home/bigtop-tests/smoke-tests/tez/build/test-results/test\r\nGenerating HTML test report...\r\nFinished generating test html results (0.038 secs) into: /bigtop-home/bigtop-tests/smoke-tests/tez/build/reports/tests/test\r\nNow testing...\r\n:bigtop-tests:smoke-tests:tez:test (Thread[Daemon worker,5,main]) completed. Took 50.256 secs.\r\n\r\nBUILD SUCCESSFUL in 2m 51s\r\n30 actionable tasks: 7 executed, 23 up-to-date\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243144172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243144407","html_url":"https://github.com/apache/bigtop/pull/990#issuecomment-1243144407","issue_url":"https://api.github.com/repos/apache/bigtop/issues/990","id":1243144407,"node_id":"IC_kwDOACDj7M5KGODX","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T02:31:41Z","updated_at":"2022-09-12T02:31:41Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks for the contribution @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243144407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243184762","html_url":"https://github.com/apache/bigtop/pull/990#issuecomment-1243184762","issue_url":"https://api.github.com/repos/apache/bigtop/issues/990","id":1243184762,"node_id":"IC_kwDOACDj7M5KGX56","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T03:48:18Z","updated_at":"2022-09-12T03:48:18Z","author_association":"CONTRIBUTOR","body":"@kevinw66 I've just noticed that I forgot to test it for the deb package, and it seems to have a problem. Would you take a look?\r\n\r\n```\r\ndh_install: warning: tez missing files: etc/tez/conf\r\n        install -d debian/tez//usr/lib\r\n        cp --reflink=auto -a debian/tmp/usr/lib/tez debian/tez//usr/lib/\r\n        install -d debian/tez//usr/share/man\r\n        cp --reflink=auto -a debian/tmp/usr/share/man/man1 debian/tez//usr/share/man/\r\ndh_install: error: missing files, aborting\r\n        install -d debian/.debhelper/generated/tez\r\nmake: *** [debian/rules:32: binary] Error 25\r\ndpkg-buildpackage: error: fakeroot debian/rules binary subprocess returned exit status 2\r\ndebuild: fatal error at line 1182:\r\ndpkg-buildpackage -us -uc -ui -b\r\n failed\r\n\r\n> Task :tez-deb FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nScript '/home/vagrant/bigtop/packages.gradle' line: 355\r\n\r\n* What went wrong:\r\nExecution failed for task ':tez-deb'.\r\n> Process 'command 'debuild'' finished with non-zero exit value 29\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243184762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243243423","html_url":"https://github.com/apache/bigtop/pull/998#issuecomment-1243243423","issue_url":"https://api.github.com/repos/apache/bigtop/issues/998","id":1243243423,"node_id":"IC_kwDOACDj7M5KGmOf","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T05:34:52Z","updated_at":"2022-09-12T05:34:52Z","author_association":"CONTRIBUTOR","body":"@kevinw66 Would you resolve the conflicts?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243243423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243250047","html_url":"https://github.com/apache/bigtop/pull/990#issuecomment-1243250047","issue_url":"https://api.github.com/repos/apache/bigtop/issues/990","id":1243250047,"node_id":"IC_kwDOACDj7M5KGn1_","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T05:46:40Z","updated_at":"2022-09-12T05:46:40Z","author_association":"CONTRIBUTOR","body":"> @kevinw66 I've just noticed that I forgot to test it for the deb package, and it seems to have a problem. Would you take a look?\r\n> \r\n> ```\r\n> dh_install: warning: tez missing files: etc/tez/conf\r\n>         install -d debian/tez//usr/lib\r\n>         cp --reflink=auto -a debian/tmp/usr/lib/tez debian/tez//usr/lib/\r\n>         install -d debian/tez//usr/share/man\r\n>         cp --reflink=auto -a debian/tmp/usr/share/man/man1 debian/tez//usr/share/man/\r\n> dh_install: error: missing files, aborting\r\n>         install -d debian/.debhelper/generated/tez\r\n> make: *** [debian/rules:32: binary] Error 25\r\n> dpkg-buildpackage: error: fakeroot debian/rules binary subprocess returned exit status 2\r\n> debuild: fatal error at line 1182:\r\n> dpkg-buildpackage -us -uc -ui -b\r\n>  failed\r\n> \r\n> > Task :tez-deb FAILED\r\n> \r\n> FAILURE: Build failed with an exception.\r\n> \r\n> * Where:\r\n> Script '/home/vagrant/bigtop/packages.gradle' line: 355\r\n> \r\n> * What went wrong:\r\n> Execution failed for task ':tez-deb'.\r\n> > Process 'command 'debuild'' finished with non-zero exit value 29\r\n> ```\r\n\r\nSure, let me check on this","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243250047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243255036","html_url":"https://github.com/apache/bigtop/pull/998#issuecomment-1243255036","issue_url":"https://api.github.com/repos/apache/bigtop/issues/998","id":1243255036,"node_id":"IC_kwDOACDj7M5KGpD8","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T05:56:48Z","updated_at":"2022-09-12T05:56:48Z","author_association":"CONTRIBUTOR","body":"> @kevinw66 Would you resolve the conflicts?\r\n\r\nresolved","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243255036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243773388","html_url":"https://github.com/apache/bigtop/pull/1004#issuecomment-1243773388","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1004","id":1243773388,"node_id":"IC_kwDOACDj7M5KInnM","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T13:49:51Z","updated_at":"2022-09-12T13:49:51Z","author_association":"CONTRIBUTOR","body":"+1. There's no difference between the contents of the original and patched version (without the `parentDir` option). Also, the latter passed the smoke test:\r\n\r\n```\r\n[vagrant@rocky8 bigtop]$ ./gradlew allclean hadoop-pkg flink-pkg -Dbuildwithdeps=true\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 1h 1m 26s\r\n72 actionable tasks: 72 executed\r\n\r\n[vagrant@rocky8 bigtop]$ mv output/flink ~\r\n[vagrant@rocky8 bigtop]$ curl -sL https://github.com/apache/bigtop/pull/1004.patch | git apply\r\n[vagrant@rocky8 bigtop]$ git diff --stat \r\n bigtop-packages/src/common/flink/install_flink.sh | 45 ++++++++++++++++++++++++++++++---------------\r\n bigtop-packages/src/rpm/flink/SPECS/flink.spec    | 52 +++++++++++++++++++++++++++++++++++++---------------\r\n 2 files changed, 67 insertions(+), 30 deletions(-)\r\n[vagrant@rocky8 bigtop]$ ./gradlew flink-clean flink-pkg repo\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 28m 9s   \r\n9 actionable tasks: 9 executed\r\n[vagrant@rocky8 bigtop]$ for i in $(ls output/flink/noarch); do diff <(rpm -qlp output/flink/noarch/$i) <(rpm -qlp ~/flink/noarch/$i); done\r\n[vagrant@rocky8 bigtop]$ cd provisioner/docker\r\n[vagrant@rocky8 docker]$ ./docker-hadoop.sh -d -C config_rockylinux-8.yaml -r file:///bigtop-home/output -G -k hdfs,flink -s flink -c 3\r\n\r\n...\r\n\r\n> Task :bigtop-tests:smoke-tests:flink:test\r\nFinished generating test XML results (0.01 secs) into: /bigtop-home/bigtop-tests/smoke-tests/flink/build/test-results/test\r\nGenerating HTML test report...\r\nFinished generating test html results (0.017 secs) into: /bigtop-home/bigtop-tests/smoke-tests/flink/build/reports/tests/test\r\nNow testing...\r\n:bigtop-tests:smoke-tests:flink:test (Thread[Daemon worker,5,main]) completed. Took 15.07 secs.\r\n\r\nBUILD SUCCESSFUL in 1m 30s\r\n30 actionable tasks: 7 executed, 23 up-to-date\r\n```\r\n\r\nThe `parentDir` option seems to work as expected, too.\r\n\r\n```\r\n[vagrant@rocky8 bigtop]$ ./gradlew flink-clean flink-pkg -PparentDir=/usr/bigtop\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 20m 44s\r\n7 actionable tasks: 7 executed\r\n[vagrant@rocky8 bigtop]$ for i in $(ls output/flink/noarch); do echo $i; rpm -qlpv output/flink/noarch/$i; echo; done                                                                                                                         \r\nflink-1.15.0-1.el8.noarch.rpm                                                                                                                                                                                                                 \r\ndrwxr-xr-x    2 flink   flink                       0 Sep 12 13:18 /etc/flink                                                                                                                                                                 \r\ndrwxr-xr-x    2 root    root                        0 Sep 12 13:18 /usr/bigtop/etc/flink/conf.dist                                                                                                                                            \r\n\r\n...\r\n\r\n-rw-r--r--    1 root    root                     1434 Apr 20 17:50 /usr/bigtop/etc/flink/conf.dist/zoo.cfg                                                                                                                                    \r\n-rwxr-xr-x    1 root    root                      469 Sep 12 13:18 /usr/bigtop/usr/bin/flink                                                                                                                                                  \r\ndrwxr-xr-x    2 root    root                        0 Sep 12 13:18 /usr/bigtop/usr/lib/flink                                                                                                                                                  \r\n\r\n...\r\n\r\n-rw-r--r--    1 root    root                    24279 Jul  2 14:47 /usr/bigtop/usr/lib/flink/lib/log4j-slf4j-impl-2.17.1.jar                                                                                                                  \r\ndrwxr-xr-x    2 flink   flink                       0 Sep 12 13:18 /var/log/flink                                                                                                                                                             \r\ndrwxrw-rwx    2 flink   flink                       0 Sep 12 13:18 /var/log/flink-cli                                                                                                                                                         \r\n                                                                                                                                                                                                                                              \r\nflink-jobmanager-1.15.0-1.el8.noarch.rpm                                                                                                                                                                                                      \r\n-rwxr-xr-x    1 root    root                     4735 Sep 12 13:18 /etc/rc.d/init.d/flink-jobmanager                                                                                                                                          \r\n                                                                                                                                                                                                                                              \r\nflink-taskmanager-1.15.0-1.el8.noarch.rpm                                                                                                                                                                                                     \r\n-rwxr-xr-x    1 root    root                     4706 Sep 12 13:18 /etc/rc.d/init.d/flink-taskmanager                                                                                                                                         \r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243773388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243773957","html_url":"https://github.com/apache/bigtop/pull/1004#issuecomment-1243773957","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1004","id":1243773957,"node_id":"IC_kwDOACDj7M5KInwF","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-12T13:50:17Z","updated_at":"2022-09-12T13:50:17Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1243773957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244759297","html_url":"https://github.com/apache/bigtop/pull/1006#issuecomment-1244759297","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1006","id":1244759297,"node_id":"IC_kwDOACDj7M5KMYUB","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T00:56:55Z","updated_at":"2022-09-13T00:56:55Z","author_association":"CONTRIBUTOR","body":"+1, tested on Debian 11.\r\n\r\n```\r\n$ curl -sL https://github.com/apache/bigtop/pull/1006.patch | git apply\r\n$ ./gradlew tez-clean tez-pkg repo -Dbuildwithdeps=true\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 3m 53s                                                                                                                                                                                                                    \r\n34 actionable tasks: 34 executed                                                                                                                                                                                                              \r\n```\r\n\r\n```\r\n$ cd provisioner/docker\r\n$ ./docker-hadoop.sh -d -C config_debian-11.yaml -F docker-compose-cgroupv2.yml -r file:///bigtop-home/output/apt -G -k hdfs,yarn,tez -s tez -c 3\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 1m 30s\r\n30 actionable tasks: 6 executed, 24 up-to-date\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244759297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244759512","html_url":"https://github.com/apache/bigtop/pull/1006#issuecomment-1244759512","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1006","id":1244759512,"node_id":"IC_kwDOACDj7M5KMYXY","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T00:57:20Z","updated_at":"2022-09-13T00:57:20Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thank you for fixing this @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244759512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244876216","html_url":"https://github.com/apache/bigtop/pull/997#issuecomment-1244876216","issue_url":"https://api.github.com/repos/apache/bigtop/issues/997","id":1244876216,"node_id":"IC_kwDOACDj7M5KM024","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T04:17:09Z","updated_at":"2022-09-13T04:17:09Z","author_association":"CONTRIBUTOR","body":"+1, no difference in the RPM packages between the original and patched versions (without the `parentDir` option). The latter also passed the smoke test.\r\n\r\n```\r\n$ ./gradlew zeppelin-clean zeppelin-pkg repo -Dbuildwithdeps=true\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 1h 36m 51s\r\n49 actionable tasks: 49 executed\r\n$ mv output/zeppelin ~\r\n$ curl -sL https://github.com/apache/bigtop/pull/997.patch | git apply\r\n$ git diff --stat \r\n bigtop-packages/src/common/zeppelin/install_zeppelin.sh | 47 +++++++++++++++++++++++++++--------------------\r\n bigtop-packages/src/rpm/zeppelin/SPECS/zeppelin.spec    | 56 +++++++++++++++++++++++++++++++++-----------------------\r\n 2 files changed, 60 insertions(+), 43 deletions(-)\r\n$ ./gradlew zeppelin-clean zeppelin-pkg repo\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 1h 38m 36s\r\n9 actionable tasks: 9 executed\r\n$ diff <(rpm -qlp output/zeppelin/x86_64/zeppelin-0.10.1-1.fc35.x86_64.rpm) <(rpm -qlp ~/zeppelin/x86_64/zeppelin-0.10.1-1.fc35.x86_64.rpm)\r\n$ cd provisioner/docker\r\n$ ./docker-hadoop.sh -d -C config_fedora-35.yaml -F docker-compose-cgroupv2.yml -r file:///bigtop-home/output -G -k zeppelin -s zeppelin -c 1\r\n\r\n...\r\n\r\n> Task :bigtop-tests:smoke-tests:zeppelin:test\r\nFinished generating test XML results (0.013 secs) into: /bigtop-home/bigtop-tests/smoke-tests/zeppelin/build/test-results/test\r\nGenerating HTML test report...\r\nFinished generating test html results (0.034 secs) into: /bigtop-home/bigtop-tests/smoke-tests/zeppelin/build/reports/tests/test\r\nNow testing...\r\n:bigtop-tests:smoke-tests:zeppelin:test (Thread[Daemon worker,5,main]) completed. Took 15.798 secs.\r\n\r\nBUILD SUCCESSFUL in 2m 14s\r\n30 actionable tasks: 5 executed, 25 up-to-date\r\n```\r\n\r\nThe `parentDir` option also works fine.\r\n\r\n```\r\n$ ./gradlew zeppelin-clean zeppelin-pkg -PparentDir=/usr/bigtop\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 1h 34m 58s\r\n7 actionable tasks: 7 executed\r\n$ rpm -qlpv output/zeppelin/x86_64/zeppelin-0.10.1-1.fc35.x86_64.rpm                                                                                                                                                 \r\n-rwxr-xr-x    1 root     root                     4115 Sep 13 01:15 /etc/rc.d/init.d/zeppelin                                                                                                                                                 \r\ndrwxr-xr-x    2 zeppelin zeppelin                    0 Sep 13 01:15 /etc/zeppelin                                                                                                                                                             \r\ndrwxr-xr-x    2 zeppelin zeppelin                    0 Sep 13 01:15 /usr/bigtop/etc/zeppelin/conf.dist                                                                                                                                        \r\n\r\n...\r\n\r\n-rwxr-xr-x    1 zeppelin zeppelin                26753 Feb 24  2022 /usr/bigtop/etc/zeppelin/conf.dist/zeppelin-site.xml.template                                                                                                             \r\ndrwxr-xr-x    2 root     root                        0 Sep 13 01:15 /usr/bigtop/usr/lib/zeppelin/bin                                                                                                                                          \r\n\r\n...\r\n\r\n-rw-r--r--    1 root     root                 29696461 Sep 13 01:14 /usr/bigtop/usr/lib/zeppelin/zeppelin-web-0.10.1.war                                                                                                                      \r\ndrwxr-xr-x    2 root     root                        0 Sep 13 01:15 /usr/bigtop/usr/share/doc/zeppelin-0.10.1                                                                                                                                 \r\n\r\n...\r\n\r\n-rw-r--r--    1 root     root                     1271 Feb 24  2022 /usr/bigtop/usr/share/doc/zeppelin-0.10.1/licenses/LICENSE-sqlline-1.0.2                                                                                                  \r\ndrwxr-xr-x    2 zeppelin zeppelin                    0 Sep 13 01:15 /usr/bigtop/var/lib/zeppelin                                                                                                                                              \r\n\r\n...\r\n\r\n-rwxr-xr-x    1 zeppelin zeppelin               155923 Feb 24  2022 /usr/bigtop/var/lib/zeppelin/notebook/Spark Tutorial/8. PySpark Conda Env in Yarn Mode_2GE79Y5FV.zpln  \r\ndrwxr-xr-x    2 zeppelin zeppelin                    0 Sep 13 01:15 /var/log/zeppelin                                                                                                                                                         \r\ndrwxr-xr-x    2 zeppelin zeppelin                    0 Sep 13 01:15 /var/run/zeppelin                                                                                                                                                         \r\ndrwxr-xr-x    2 zeppelin zeppelin                    0 Sep 13 01:15 /var/run/zeppelin/webapps                                                                                                                                                 \r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244876216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244876369","html_url":"https://github.com/apache/bigtop/pull/997#issuecomment-1244876369","issue_url":"https://api.github.com/repos/apache/bigtop/issues/997","id":1244876369,"node_id":"IC_kwDOACDj7M5KM05R","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T04:17:28Z","updated_at":"2022-09-13T04:17:28Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244876369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244936342","html_url":"https://github.com/apache/bigtop/pull/998#issuecomment-1244936342","issue_url":"https://api.github.com/repos/apache/bigtop/issues/998","id":1244936342,"node_id":"IC_kwDOACDj7M5KNDiW","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T05:57:32Z","updated_at":"2022-09-13T05:57:32Z","author_association":"CONTRIBUTOR","body":"+1, No problematic difference in the rpm packages between the original and the patched versions (without the `parentDir` option). The smoke test also passed.\r\n\r\n```\r\n$ ./gradlew hive-clean hive-pkg -Dbuildwithdeps=true\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 24m 55s\r\n37 actionable tasks: 37 executed\r\n$ mv output/hive ~\r\n$ curl -sL https://patch-diff.githubusercontent.com/raw/apache/bigtop/pull/998.diff | git apply\r\n$ git diff --stat \r\n bigtop-packages/src/common/hive/install_hive.sh | 200 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------------------\r\n bigtop-packages/src/deb/hive/rules              |   2 +-\r\n bigtop-packages/src/rpm/hive/SPECS/hive.spec    | 105 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------\r\n 3 files changed, 175 insertions(+), 132 deletions(-)\r\n$ ./gradlew hive-clean hive-pkg repo\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 6m 10s                                                                                             \r\n9 actionable tasks: 9 executed                                                                                         \r\n$ for i in $(ls output/hive/noarch); do diff <(rpm -qlp output/hive/noarch/$i) <(rpm -qlp ~/hive/noarch/$i); done\r\n1d0\r\n< /etc/hive\r\n1d0\r\n< /etc/hive-hcatalog\r\n1d0\r\n< /etc/hive-webhcat\r\n$ cd provisioner/docker\r\n$ ./docker-hadoop.sh -d -C config_centos-7.yaml -r file:///bigtop-home/output -G -k hdfs,yarn,hive -s hive -c 3\r\n\r\n...\r\n\r\n> Task :bigtop-tests:smoke-tests:hive:test\r\nFinished generating test XML results (0.016 secs) into: /bigtop-home/bigtop-tests/smoke-tests/hive/build/test-results/test\r\nGenerating HTML test report...\r\nFinished generating test html results (0.032 secs) into: /bigtop-home/bigtop-tests/smoke-tests/hive/build/reports/tests/test\r\nNow testing...\r\n:bigtop-tests:smoke-tests:hive:test (Thread[Daemon worker,5,main]) completed. Took 17.587 secs.\r\n\r\nBUILD SUCCESSFUL in 1m 34s\r\n30 actionable tasks: 7 executed, 23 up-to-date\r\n```\r\n\r\nThe `parentDir` option works as expected too.\r\n\r\n```\r\n$ ./gradlew hive-clean hive-pkg -PparentDir=/usr/bigtop\r\n\r\n...\r\n\r\nBUILD SUCCESSFUL in 6m 40s\r\n7 actionable tasks: 7 executed\r\n$ for i in $(ls output/hive/noarch); do echo $i; rpm -qlpv output/hive/noarch/$i; echo; done                                                                                                                          \r\n\r\n...\r\n\r\nhive-3.1.3-1.el7.noarch.rpm                                                                                                                                                                                                                   \r\ndrwxr-xr-x    2 hive    hive                        0  9æœˆ 12 14:39 /etc/hive                                                                                                                                                                 \r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/etc/hive/conf.dist                                                                                                                                            \r\n\r\n...\r\n\r\n-rw-r--r--    1 root    root                     2662 10æœˆ 24  2019 /usr/bigtop/etc/hive/conf.dist/parquet-logging.properties                                                                                                                 \r\n-rwxr-xr-x    1 root    root                      423  9æœˆ 12 14:39 /usr/bigtop/usr/bin/beeline                                                                                                                                               \r\n-rwxr-xr-x    1 root    root                      420  9æœˆ 12 14:39 /usr/bigtop/usr/bin/hive                                                                                                                                                  \r\n-rwxr-xr-x    1 root    root                      427  9æœˆ 12 14:39 /usr/bigtop/usr/bin/hiveserver2                                                                                                                                           \r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/bin                                                                                                                                              \r\n\r\n...\r\n\r\n-rw-r--r--    1 root    root                      265  3æœˆ 28 19:39 /usr/bigtop/usr/lib/hive/scripts/metastore/upgrade/postgres/upgrade.order.postgres                                                                                        \r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/usr/share/doc/hive-3.1.3                                                                                                                                      \r\n\r\n...\r\n\r\n-rw-r--r--    1 root    root                      224  3æœˆ 28 19:39 /usr/bigtop/usr/share/doc/hive-3.1.3/examples/queries/union.q                                                                                                             \r\n-rw-r--r--    1 root    root                     1943  9æœˆ 12 14:39 /usr/bigtop/usr/share/man/man1/hive.1.gz                                                                                                                                  \r\ndrwxr-xr-x    2 hive    hive                        0  9æœˆ 12 14:39 /usr/bigtop/var/lib/hive                                                                                                                                                  \r\ndrwxrwxrwt    2 hive    hive                        0  9æœˆ 12 14:39 /usr/bigtop/var/lib/hive/metastore                                                                                                                                        \r\ndrwxr-xr-x    2 hive    hive                        0  9æœˆ 12 14:39 /var/log/hive                                                                                                                                                             \r\ndrwxr-xr-x    2 hive    hive                        0  9æœˆ 12 14:39 /var/run/hive                                                                                                                                                             \r\n                                                                                                                                                                                                                                              \r\nhive-hbase-3.1.3-1.el7.noarch.rpm                                                                                                                                                                                                             \r\nlrwxrwxrwx    1 root    root                       42  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hbase-client.jar -> /usr/bigtop/usr/lib/hbase/hbase-client.jar                                                                               \r\nlrwxrwxrwx    1 root    root                       42  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hbase-common.jar -> /usr/bigtop/usr/lib/hbase/hbase-common.jar                                                                               \r\nlrwxrwxrwx    1 root    root                       49  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hbase-hadoop-compat.jar -> /usr/bigtop/usr/lib/hbase/hbase-hadoop-compat.jar                                                                 \r\nlrwxrwxrwx    1 root    root                       50  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hbase-hadoop2-compat.jar -> /usr/bigtop/usr/lib/hbase/hbase-hadoop2-compat.jar                                                               \r\nlrwxrwxrwx    1 root    root                       45  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hbase-procedure.jar -> /usr/bigtop/usr/lib/hbase/hbase-procedure.jar                                                                         \r\nlrwxrwxrwx    1 root    root                       44  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hbase-protocol.jar -> /usr/bigtop/usr/lib/hbase/hbase-protocol.jar                                                                           \r\nlrwxrwxrwx    1 root    root                       42  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hbase-server.jar -> /usr/bigtop/usr/lib/hbase/hbase-server.jar                                                                               \r\n-rw-r--r--    1 root    root                   121352  9æœˆ 12 14:38 /usr/bigtop/usr/lib/hive/lib/hive-hbase-handler-3.1.3.jar                                                                                                                 \r\nlrwxrwxrwx    1 root    root                       28  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/lib/hive-hbase-handler.jar -> hive-hbase-handler-3.1.3.jar                                                                                       \r\n                                                                                                                                                                                                                                              \r\nhive-hcatalog-3.1.3-1.el7.noarch.rpm                                                                                                                                                                                                          \r\ndrwxrwxr-x    2 hive    hive                        0  9æœˆ 12 14:39 /etc/hive-hcatalog                                                                                                                                                        \r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/etc/hive-hcatalog/conf.dist                                                                                                                                   \r\n-rwxr-xr-x    1 root    root                     1505  3æœˆ 28 19:39 /usr/bigtop/etc/hive-hcatalog/conf.dist/jndi.properties                                                                                                                   \r\n-rwxr-xr-x    1 root    root                     4593 10æœˆ 24  2019 /usr/bigtop/etc/hive-hcatalog/conf.dist/proto-hive-site.xml                                                                                                               \r\n-rwxr-xr-x    1 root    root                      616  9æœˆ 12 14:39 /usr/bigtop/usr/bin/hcat                                                                                                                                                  \r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive-hcatalog\r\n\r\n...\r\n\r\nlrwxrwxrwx    1 root    root                       33  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive-hcatalog/share/hcatalog/hive-hcatalog-streaming.jar -> hive-hcatalog-streaming-3.1.3.jar                                                         \r\n-rw-r--r--    1 root    root                     1347  9æœˆ 12 14:39 /usr/bigtop/usr/share/man/man1/hive-hcatalog.1.gz                                                                                                                         \r\ndrwxrwxr-x    2 hive    hive                        0  9æœˆ 12 14:39 /usr/bigtop/var/lib/hive-hcatalog                                                                                                                                         \r\ndrwxrwxr-x    2 hive    hive                        0  9æœˆ 12 14:39 /var/log/hive-hcatalog                                                                                                                                                    \r\n                                                                                                                                                                                                                                              \r\nhive-hcatalog-server-3.1.3-1.el7.noarch.rpm                                                                                                                                                                                                   \r\n-rwxr-xr-x    1 root    root                     4380  9æœˆ 12 14:39 /etc/rc.d/init.d/hive-hcatalog-server\r\n-rw-r--r--    1 root    root                     1123  9æœˆ 12 14:39 /usr/bigtop/etc/default/hive-hcatalog-server\r\n\r\nhive-jdbc-3.1.3-1.el7.noarch.rpm\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive/jdbc\r\n-rw-r--r--    1 root    root                 84267953  9æœˆ 12 14:37 /usr/bigtop/usr/lib/hive/jdbc/hive-jdbc-3.1.3-standalone.jar\r\n\r\nhive-metastore-3.1.3-1.el7.noarch.rpm\r\n-rwxr-xr-x    1 root    root                     4610  9æœˆ 12 14:39 /etc/rc.d/init.d/hive-metastore\r\n-rw-r--r--    1 root    root                      932  9æœˆ 12 14:39 /usr/bigtop/etc/default/hive-metastore\r\n\r\nhive-server2-3.1.3-1.el7.noarch.rpm\r\n-rwxr-xr-x    1 root    root                     4606  9æœˆ 12 14:39 /etc/rc.d/init.d/hive-server2\r\n-rw-r--r--    1 root    root                      930  9æœˆ 12 14:39 /usr/bigtop/etc/default/hive-server2\r\n\r\nhive-webhcat-3.1.3-1.el7.noarch.rpm\r\ndrwxrwxr-x    2 hive    hive                        0  9æœˆ 12 14:39 /etc/hive-webhcat\r\ndrwxr-xr-x    2 root    root                        0  9æœˆ 12 14:39 /usr/bigtop/etc/hive-webhcat/conf.dist\r\n-rwxr-xr-x    1 root    root                    13847  9æœˆ 12 14:39 /usr/bigtop/etc/hive-webhcat/conf.dist/webhcat-default.xml\r\n-rwxr-xr-x    1 root    root                     2708  9æœˆ 12 14:39 /usr/bigtop/etc/hive-webhcat/conf.dist/webhcat-log4j2.properties\r\nlrwxrwxrwx    1 root    root                       22  9æœˆ 12 14:39 /usr/bigtop/usr/lib/hive-hcatalog/etc/webhcat -> /etc/hive-webhcat/conf\r\n\r\n...\r\n\r\n-rw-r--r--    1 root    root                   194354  6æœˆ  9 14:25 /usr/bigtop/usr/lib/hive-hcatalog/share/webhcat/svr/lib/xml-apis-1.3.04.jar\r\n                                                                                                                                                                                                                                              \r\nhive-webhcat-server-3.1.3-1.el7.noarch.rpm                                                                                                                                                                                                    \r\n-rwxr-xr-x    1 root    root                     4379  9æœˆ 12 14:39 /etc/rc.d/init.d/hive-webhcat-server                                                                                                                                      \r\n-rw-r--r--    1 root    root                     1045  9æœˆ 12 14:39 /usr/bigtop/etc/default/hive-webhcat-server                                                                                                                               \r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244936342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244936511","html_url":"https://github.com/apache/bigtop/pull/998#issuecomment-1244936511","issue_url":"https://api.github.com/repos/apache/bigtop/issues/998","id":1244936511,"node_id":"IC_kwDOACDj7M5KNDk_","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T05:57:50Z","updated_at":"2022-09-13T05:57:50Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244936511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244937650","html_url":"https://github.com/apache/bigtop/pull/1005#issuecomment-1244937650","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1005","id":1244937650,"node_id":"IC_kwDOACDj7M5KND2y","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T05:59:42Z","updated_at":"2022-09-13T05:59:42Z","author_association":"MEMBER","body":"Testes it both on x86 and Arm64 hosts.\r\n+1.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244937650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244937946","html_url":"https://github.com/apache/bigtop/pull/1005#issuecomment-1244937946","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1005","id":1244937946,"node_id":"IC_kwDOACDj7M5KND7a","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-13T06:00:13Z","updated_at":"2022-09-13T06:00:13Z","author_association":"MEMBER","body":"Merged, thanks @timyuer ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1244937946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246155007","html_url":"https://github.com/apache/bigtop/pull/1008#issuecomment-1246155007","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1008","id":1246155007,"node_id":"IC_kwDOACDj7M5KRtD_","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T02:31:36Z","updated_at":"2022-09-14T02:31:36Z","author_association":"MEMBER","body":"@sekikn Hmm. Deployment by the following cmdline stucked.\r\n\r\n```\r\n$ ./docker-hadoop.sh \\\r\n       --create 1 \\\r\n       --image bigtop/puppet:trunk-rockylinux-8 \\\r\n       --memory 16g \\\r\n       --repo file:///bigtop-home/output \\\r\n       --disable-gpg-check \\\r\n       --stack hdfs,yarn,mapreduce,spark\r\n```\r\n\r\nHow about using dependency between classes following existing convention? like\r\n\r\n```\r\ndiff --git a/bigtop-deploy/puppet/modules/spark/manifests/init.pp b/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\nindex 06d804e5..bce16cff 100644\r\n--- a/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\n+++ b/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\n@@ -42,6 +42,7 @@ class spark {\r\n\r\n     if ('spark-thriftserver' in $roles) {\r\n       include spark::spark_thriftserver\r\n+      Class['Hadoop::Init_hdfs'] -> Class['Spark::Spark_thriftserver']\r\n     }\r\n\r\n   }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246155007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246161648","html_url":"https://github.com/apache/bigtop/pull/1008#issuecomment-1246161648","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1008","id":1246161648,"node_id":"IC_kwDOACDj7M5KRurw","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T02:43:59Z","updated_at":"2022-09-14T02:43:59Z","author_association":"MEMBER","body":"Sorry, @sekin. It looks installing spark-sparkr is stucked in the container process.\r\n\r\n```\r\n/usr/libexec/platform-python /usr/bin/dnf -d 0 -e 1 -y install spark-sparkr\r\n```\r\n\r\nWhile the patch should not be the cause, I think `Class['Hadoop::Init_hdfs'] -> Class['Spark::Spark_thriftserver']` is easier to understand the dependency between modules.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246161648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246168244","html_url":"https://github.com/apache/bigtop/pull/1007#issuecomment-1246168244","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1007","id":1246168244,"node_id":"IC_kwDOACDj7M5KRwS0","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T02:56:16Z","updated_at":"2022-09-14T02:56:16Z","author_association":"MEMBER","body":"@kevinw66 Could you update [the script for deb](https://github.com/apache/bigtop/blob/fb9ef5da82d6528eef649f594faf87ea2edd7854/bigtop-packages/src/deb/hadoop/hadoop-httpfs.preinst#L40) too?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246168244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246180774","html_url":"https://github.com/apache/bigtop/pull/1007#issuecomment-1246180774","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1007","id":1246180774,"node_id":"IC_kwDOACDj7M5KRzWm","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T03:19:16Z","updated_at":"2022-09-14T03:19:16Z","author_association":"CONTRIBUTOR","body":"> @kevinw66 Could you update [the script for deb](https://github.com/apache/bigtop/blob/fb9ef5da82d6528eef649f594faf87ea2edd7854/bigtop-packages/src/deb/hadoop/hadoop-httpfs.preinst#L40) too?\r\n\r\n@iwasakims Updated","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246180774/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246182088","html_url":"https://github.com/apache/bigtop/pull/1007#issuecomment-1246182088","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1007","id":1246182088,"node_id":"IC_kwDOACDj7M5KRzrI","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T03:21:46Z","updated_at":"2022-09-14T03:21:46Z","author_association":"MEMBER","body":"Fix for the spec looks good.\r\n\r\n```\r\n$ rpm -q --scripts -p output/hadoop/x86_64/hadoop-httpfs-3.3.4-1.el8.x86_64.rpm | grep home\r\ngetent passwd httpfs >/dev/null || /usr/sbin/useradd --comment \"Hadoop HTTPFS\" --shell /bin/bash -M -r -g httpfs -G httpfs --home /var/lib/hadoop-httpfs httpfs\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246182088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246324047","html_url":"https://github.com/apache/bigtop/pull/1007#issuecomment-1246324047","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1007","id":1246324047,"node_id":"IC_kwDOACDj7M5KSWVP","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T06:52:20Z","updated_at":"2022-09-14T06:52:20Z","author_association":"MEMBER","body":"oops. I missed something for deb packaging. I filed [BIGTOP-3815](https://issues.apache.org/jira/browse/BIGTOP-3815) as follow-up. will submit a PR.\r\n\r\n```\r\nSetting up hadoop-httpfs (3.3.4-1) ...\r\nchown: cannot access '/var/run/hadoop-httpfs': No such file or directory\r\ndpkg: error processing package hadoop-httpfs (--configure):\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246324047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246461504","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1246461504","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1246461504,"node_id":"IC_kwDOACDj7M5KS35A","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:02:53Z","updated_at":"2022-09-14T09:02:53Z","author_association":"MEMBER","body":"@timyuer  Thanks for working on it.\r\n\r\nBut after I combined the https://github.com/apache/bigtop/pull/1001 ,https://github.com/apache/bigtop/pull/1003 with this PR, and rebuilt Hive, it seems `HiveServer2` failed to start:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/var/lib/ambari-agent/cache/stacks/BGTP/1.0/services/HIVE/package/scripts/hive_server.py\", line 143, in <module>\r\n    HiveServer().execute()\r\n  File \"/usr/lib/ambari-agent/lib/resource_management/libraries/script/script.py\", line 352, in execute\r\n    method(env)\r\n  File \"/var/lib/ambari-agent/cache/stacks/BGTP/1.0/services/HIVE/package/scripts/hive_server.py\", line 53, in start\r\n    hive_service('hiveserver2', action = 'start', upgrade_type=upgrade_type)\r\n  File \"/var/lib/ambari-agent/cache/stacks/BGTP/1.0/services/HIVE/package/scripts/hive_service.py\", line 101, in hive_service\r\n    wait_for_znode()\r\n  File \"/usr/lib/ambari-agent/lib/resource_management/libraries/functions/decorator.py\", line 62, in wrapper\r\n    return function(*args, **kwargs)\r\n  File \"/var/lib/ambari-agent/cache/stacks/BGTP/1.0/services/HIVE/package/scripts/hive_service.py\", line 196, in wait_for_znode\r\n    raise Fail(format(\"ZooKeeper node /{hive_server2_zookeeper_namespace} is not ready yet\"))\r\nresource_management.core.exceptions.Fail: ZooKeeper node /hiveserver2 is not ready yet\r\n```\r\n\r\n```\r\n................\r\n.........\r\n.....\r\n2022-09-14 08:49:51,350 - Will retry 5 time(s), caught exception: ZooKeeper node /hiveserver2 is not ready yet. Sleeping for 10 sec(s)\r\n2022-09-14 08:50:01,361 - call['/usr/lib/zookeeper/bin/zkCli.sh -server ambari-server:2181,ambari-agent-01:2181,ambari-agent-02:2181 ls /hiveserver2 | grep 'serverUri=''] {}\r\n2022-09-14 08:50:02,086 - call returned (1, '')\r\n2022-09-14 08:50:02,087 - Will retry 4 time(s), caught exception: ZooKeeper node /hiveserver2 is not ready yet. Sleeping for 10 sec(s)\r\n2022-09-14 08:50:12,098 - call['/usr/lib/zookeeper/bin/zkCli.sh -server ambari-server:2181,ambari-agent-01:2181,ambari-agent-02:2181 ls /hiveserver2 | grep 'serverUri=''] {}\r\n2022-09-14 08:50:12,926 - call returned (1, '')\r\n2022-09-14 08:50:12,927 - Will retry 3 time(s), caught exception: ZooKeeper node /hiveserver2 is not ready yet. Sleeping for 10 sec(s)\r\n2022-09-14 08:50:22,938 - call['/usr/lib/zookeeper/bin/zkCli.sh -server ambari-server:2181,ambari-agent-01:2181,ambari-agent-02:2181 ls /hiveserver2 | grep 'serverUri=''] {}\r\n2022-09-14 08:50:23,686 - call returned (1, '')\r\n2022-09-14 08:50:23,687 - Will retry 2 time(s), caught exception: ZooKeeper node /hiveserver2 is not ready yet. Sleeping for 10 sec(s)\r\n2022-09-14 08:50:33,688 - call['/usr/lib/zookeeper/bin/zkCli.sh -server ambari-server:2181,ambari-agent-01:2181,ambari-agent-02:2181 ls /hiveserver2 | grep 'serverUri=''] {}\r\n2022-09-14 08:50:34,521 - call returned (1, '')\r\n2022-09-14 08:50:34,522 - Will retry 1 time(s), caught exception: ZooKeeper node /hiveserver2 is not ready yet. Sleeping for 10 sec(s)\r\n2022-09-14 08:50:44,529 - call['/usr/lib/zookeeper/bin/zkCli.sh -server ambari-server:2181,ambari-agent-01:2181,ambari-agent-02:2181 ls /hiveserver2 | grep 'serverUri=''] {}\r\n2022-09-14 08:50:45,282 - call returned (1, '')\r\n```\r\n\r\n`Hadoop: 3.3.4`\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246461504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246465303","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1246465303","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1246465303,"node_id":"IC_kwDOACDj7M5KS40X","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:06:13Z","updated_at":"2022-09-14T09:06:13Z","author_association":"MEMBER","body":"I deployed Hadoop, zookeeper, Hive, Tez by Ambari UI first, and then enabled Kerberos:\r\n![1663146335406](https://user-images.githubusercontent.com/20575685/190111556-5d973cba-04af-4c8f-b3ad-db4dd90587af.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246465303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246477736","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1246477736","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1246477736,"node_id":"IC_kwDOACDj7M5KS72o","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:17:05Z","updated_at":"2022-09-14T09:18:34Z","author_association":"MEMBER","body":"Tested this PR with https://github.com/apache/bigtop/pull/1003.\r\n\r\n```\r\n./docker-hadoop.sh --create 3 \\\r\n--image bigtop/puppet:trunk-centos-7 \\\r\n--memory 8g \\\r\n--repo file:///bigtop-home/output \\\r\n--disable-gpg-check \\\r\n--stack hdfs,yarn,mapreduce,hbase,tez,hive \\\r\n--smoke-tests hive\r\n```\r\n\r\n```\r\n..........\r\n.......\r\n...\r\n> Task :bigtop-tests:smoke-tests:hive:test\r\nFinished generating test XML results (0.014 secs) into: /bigtop-home/bigtop-tests/smoke-tests/hive/build/test-results/test\r\nGenerating HTML test report...\r\nFinished generating test html results (0.031 secs) into: /bigtop-home/bigtop-tests/smoke-tests/hive/build/reports/tests/test\r\nNow testing...\r\n:bigtop-tests:smoke-tests:hive:test (Thread[Execution worker for ':' Thread 6,5,main]) completed. Took 23.513 secs.\r\n\r\nBUILD SUCCESSFUL in 4m 4s\r\n30 actionable tasks: 7 executed, 23 up-to-date\r\nStopped 1 worker daemon(s).\r\n+ rm -rf buildSrc/build/test-results/binary\r\n+ rm -rf /bigtop-home/.gradle\r\n```\r\n\r\n\r\n+1 \r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246477736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246480269","html_url":"https://github.com/apache/bigtop/pull/1001#issuecomment-1246480269","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1001","id":1246480269,"node_id":"IC_kwDOACDj7M5KS8eN","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:19:13Z","updated_at":"2022-09-14T09:19:13Z","author_association":"MEMBER","body":"Merged. Thanks, @timyuer @iwasakims ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246480269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246480685","html_url":"https://github.com/apache/bigtop/pull/1003#issuecomment-1246480685","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1003","id":1246480685,"node_id":"IC_kwDOACDj7M5KS8kt","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:19:35Z","updated_at":"2022-09-14T09:19:35Z","author_association":"MEMBER","body":"+1, tested it with https://github.com/apache/bigtop/pull/1001.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246480685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246519239","html_url":"https://github.com/apache/bigtop/pull/1008#issuecomment-1246519239","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1008","id":1246519239,"node_id":"IC_kwDOACDj7M5KTF_H","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:53:01Z","updated_at":"2022-09-14T09:53:01Z","author_association":"CONTRIBUTOR","body":"@iwasakims Specifying a class directly (`Class['Hadoop::Init_hdfs']`) assumes that it's defined somewhere in the applied manifests, so it doesn't work if users try to deploy Spark without Hadoop, as follows.\r\n\r\n```\r\n$ git diff\r\ndiff --git a/bigtop-deploy/puppet/modules/spark/manifests/init.pp b/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\nindex 06d804e5..3b9440c4 100644\r\n--- a/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\n+++ b/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\n@@ -63,7 +63,7 @@ class spark {\r\n       hasrestart => true,\r\n       hasstatus  => true,\r\n     }\r\n-    \r\n+    Class['Hadoop::Init_hdfs'] -> Class['Spark::Spark_thriftserver']\r\n   }\r\n \r\n   class client {\r\n$ ./docker-hadoop.sh -d -C config_rockylinux-8.yaml -r file:///bigtop-home/output -G -k spark -c 1\r\n\r\n...\r\n\r\nError: Could not find resource 'Class[Hadoop::Init_hdfs]' for relationship on 'Class[Spark::Spark_thriftserver]' on node c3c4f6763873.bigtop.apache.org\r\n```\r\n\r\nSuch situation may be rare, but it's possible if users want to deploy only Spark onto their existing Hadoop cluster, for example.\r\nPuppet's resource collector (`Exec<| title == \"init hdfs\" |>`) can handle such case, so I think it's better here.\r\n\r\n```\r\n$ git diff\r\ndiff --git a/bigtop-deploy/puppet/modules/spark/manifests/init.pp b/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\nindex 06d804e5..0da9f7f8 100644\r\n--- a/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\n+++ b/bigtop-deploy/puppet/modules/spark/manifests/init.pp\r\n@@ -63,7 +63,7 @@ class spark {\r\n       hasrestart => true,\r\n       hasstatus  => true,\r\n     }\r\n-    \r\n+    Exec<| title == \"init hdfs\" |> -> Service[\"spark-thriftserver\"]\r\n   }\r\n \r\n   class client {\r\n$ ./docker-hadoop.sh -d -C config_rockylinux-8.yaml -r file:///bigtop-home/output -G -k spark -c 1\r\n\r\n...\r\n\r\nNotice: /Stage[main]/Spark::Datanucleus/Package[spark-datanucleus]/ensure: created\r\nNotice: /Stage[main]/Spark::Common/Package[spark-core]/ensure: created\r\nNotice: /Stage[main]/Spark::Common/File[/etc/spark/conf/spark-env.sh]/content: content changed '{md5}d5faace87add5ae723d31eb6b37e5007' to '{md5}7797eb3bd1be34a7a2d0ebc5bee1c4f4'\r\nNotice: /Stage[main]/Spark::Common/File[/etc/spark/conf/spark-defaults.conf]/ensure: defined content as '{md5}fc22ef68dcc50913d006da8d4466de4e'\r\nNotice: /Stage[main]/Spark::Common/File[/etc/spark/conf/log4j.properties]/ensure: defined content as '{md5}7fe3f0915ee2f08d6174bb80518c2b9a'\r\nNotice: /Stage[main]/Spark::Sparkr/Package[spark-sparkr]/ensure: created\r\nNotice: /Stage[main]/Spark::Client/Package[spark-python]/ensure: created\r\nNotice: /Stage[main]/Spark::Client/Package[spark-external]/ensure: created\r\nNotice: /Stage[main]/Spark::Yarn_shuffle/Package[spark-yarn-shuffle]/ensure: created\r\nNotice: /Stage[main]/Spark::Spark_thriftserver/Package[spark-thriftserver]/ensure: created\r\nNotice: /Stage[main]/Spark::Spark_thriftserver/Service[spark-thriftserver]/ensure: ensure changed 'stopped' to 'running'\r\nNotice: Applied catalog in 1729.48 seconds\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1246519239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247683523","html_url":"https://github.com/apache/bigtop/pull/1008#issuecomment-1247683523","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1008","id":1247683523,"node_id":"IC_kwDOACDj7M5KXiPD","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T07:19:28Z","updated_at":"2022-09-15T07:19:28Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thank you for the review @iwasakims!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247683523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247751336","html_url":"https://github.com/apache/bigtop/pull/1013#issuecomment-1247751336","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1013","id":1247751336,"node_id":"IC_kwDOACDj7M5KXyyo","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:19:44Z","updated_at":"2022-09-15T08:19:44Z","author_association":"CONTRIBUTOR","body":"Please keep same style for name `NameNode Logs`, `ResourceManager logs` and `JobHistory logs`.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247751336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247769189","html_url":"https://github.com/apache/bigtop/pull/1013#issuecomment-1247769189","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1013","id":1247769189,"node_id":"IC_kwDOACDj7M5KX3Jl","user":{"login":"smallyao","id":13212217,"node_id":"MDQ6VXNlcjEzMjEyMjE3","avatar_url":"https://avatars.githubusercontent.com/u/13212217?v=4","gravatar_id":"","url":"https://api.github.com/users/smallyao","html_url":"https://github.com/smallyao","followers_url":"https://api.github.com/users/smallyao/followers","following_url":"https://api.github.com/users/smallyao/following{/other_user}","gists_url":"https://api.github.com/users/smallyao/gists{/gist_id}","starred_url":"https://api.github.com/users/smallyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallyao/subscriptions","organizations_url":"https://api.github.com/users/smallyao/orgs","repos_url":"https://api.github.com/users/smallyao/repos","events_url":"https://api.github.com/users/smallyao/events{/privacy}","received_events_url":"https://api.github.com/users/smallyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:33:53Z","updated_at":"2022-09-15T08:34:17Z","author_association":"CONTRIBUTOR","body":"> Please keep same style for name `NameNode Logs`, `ResourceManager logs` and `JobHistory logs`.\r\n\r\nThanks for your review. \r\nfixed.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247769189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247777735","html_url":"https://github.com/apache/bigtop/pull/1012#issuecomment-1247777735","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1012","id":1247777735,"node_id":"IC_kwDOACDj7M5KX5PH","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:40:35Z","updated_at":"2022-09-15T08:40:45Z","author_association":"MEMBER","body":"It makes sense, and shall we apply it to all other components for Debian packaging?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247777735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247782634","html_url":"https://github.com/apache/bigtop/pull/1012#issuecomment-1247782634","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1012","id":1247782634,"node_id":"IC_kwDOACDj7M5KX6bq","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:44:30Z","updated_at":"2022-09-15T08:44:30Z","author_association":"CONTRIBUTOR","body":"LGTM!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247782634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247877540","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1247877540","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1247877540,"node_id":"IC_kwDOACDj7M5KYRmk","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T10:02:17Z","updated_at":"2022-09-15T11:38:12Z","author_association":"CONTRIBUTOR","body":"@guyuqi works fine on my machine.\r\n\r\n![image](https://user-images.githubusercontent.com/31196226/190375715-4d7511f0-222f-44dc-b89f-2b1846bbf0b7.png)\r\n\r\nBut the MapReduce service check failed at first, but succeed when I run it separately after kerberos enabled\r\n![image](https://user-images.githubusercontent.com/31196226/190376136-a1625b2e-0a97-43bd-8ef7-3a259a150e8a.png)\r\n\r\n![image](https://user-images.githubusercontent.com/31196226/190376001-aa8c99ee-b9a7-4016-a952-8fa38c2dba6b.png)\r\n![image](https://user-images.githubusercontent.com/31196226/190376071-87a3785e-d935-49af-8e8d-d369b930d5f8.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247877540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247911965","html_url":"https://github.com/apache/bigtop/pull/1012#issuecomment-1247911965","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1012","id":1247911965,"node_id":"IC_kwDOACDj7M5KYaAd","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T10:33:07Z","updated_at":"2022-09-15T10:33:07Z","author_association":"MEMBER","body":"> It makes sense, and shall we apply it to all other components for Debian packaging?\r\n\r\nI will file another JIRA for time consuming products if any after merging this. @guyuqi ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247911965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247916969","html_url":"https://github.com/apache/bigtop/pull/1012#issuecomment-1247916969","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1012","id":1247916969,"node_id":"IC_kwDOACDj7M5KYbOp","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T10:37:40Z","updated_at":"2022-09-15T10:37:40Z","author_association":"MEMBER","body":"I merged this to master and branch-3.1. Thanks, @guyuqi and @elukey.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1247916969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248846681","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1248846681","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1248846681,"node_id":"IC_kwDOACDj7M5Kb-NZ","user":{"login":"timyuer","id":16263438,"node_id":"MDQ6VXNlcjE2MjYzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/16263438?v=4","gravatar_id":"","url":"https://api.github.com/users/timyuer","html_url":"https://github.com/timyuer","followers_url":"https://api.github.com/users/timyuer/followers","following_url":"https://api.github.com/users/timyuer/following{/other_user}","gists_url":"https://api.github.com/users/timyuer/gists{/gist_id}","starred_url":"https://api.github.com/users/timyuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timyuer/subscriptions","organizations_url":"https://api.github.com/users/timyuer/orgs","repos_url":"https://api.github.com/users/timyuer/repos","events_url":"https://api.github.com/users/timyuer/events{/privacy}","received_events_url":"https://api.github.com/users/timyuer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T02:38:15Z","updated_at":"2022-09-16T02:38:15Z","author_association":"CONTRIBUTOR","body":"ZhiguoWu's deploy order is:\r\n1. Deploy Hadoop, zookeeper, Tez by Ambari UI first.\r\n2. Deploy Hive by Ambari UI first.\r\n3. Enabled Kerberos.\r\n\r\nThis lead to the `/etc/passwd`(source file MapReduce checked) file size changed, and then cause MapReduce Service Check Failed.\r\n\r\nThis problem maybe caused by a BUG from resource_management in Ambari Server-2.7.5, I will find it and fix it.\r\n\r\nAll in all, I can make sure this Hive PR is correct.\r\n\r\nCan you please try again? @guyuqi \r\n@kevinw66 \r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248846681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248859584","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1248859584","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1248859584,"node_id":"IC_kwDOACDj7M5KcBXA","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T02:57:02Z","updated_at":"2022-09-16T02:57:02Z","author_association":"MEMBER","body":"> ZhiguoWu's deploy order is:\r\n> \r\n> 1. Deploy Hadoop, zookeeper, Tez by Ambari UI first.\r\n> 2. Deploy Hive by Ambari UI first.\r\n> 3. Enabled Kerberos.\r\n> \r\n> This lead to the `/etc/passwd`(source file MapReduce checked) file size changed, and then cause MapReduce Service Check Failed.\r\n> \r\n> This problem maybe caused by a BUG from resource_management in Ambari Server-2.7.5, I will find it and fix it.\r\n> \r\n> All in all, I can make sure this Hive PR is correct.\r\n> \r\n> Can you please try again? @guyuqi @kevinw66 Thanks.\r\n\r\nMay I ask which Hadoop version you deploy?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248859584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248863910","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1248863910","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1248863910,"node_id":"IC_kwDOACDj7M5KcCam","user":{"login":"timyuer","id":16263438,"node_id":"MDQ6VXNlcjE2MjYzNDM4","avatar_url":"https://avatars.githubusercontent.com/u/16263438?v=4","gravatar_id":"","url":"https://api.github.com/users/timyuer","html_url":"https://github.com/timyuer","followers_url":"https://api.github.com/users/timyuer/followers","following_url":"https://api.github.com/users/timyuer/following{/other_user}","gists_url":"https://api.github.com/users/timyuer/gists{/gist_id}","starred_url":"https://api.github.com/users/timyuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timyuer/subscriptions","organizations_url":"https://api.github.com/users/timyuer/orgs","repos_url":"https://api.github.com/users/timyuer/repos","events_url":"https://api.github.com/users/timyuer/events{/privacy}","received_events_url":"https://api.github.com/users/timyuer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:00:25Z","updated_at":"2022-09-16T03:00:25Z","author_association":"CONTRIBUTOR","body":"> > ZhiguoWu's deploy order is:\r\n> > \r\n> > Deploy Hadoop, zookeeper, Tez by Ambari UI first.\r\n> > Deploy Hive by Ambari UI first.\r\n> > Enabled Kerberos.\r\n> > This lead to the /etc/passwd(source file MapReduce checked) file size changed, and then cause MapReduce Service Check Failed.\r\n> > \r\n> > This problem maybe caused by a BUG from resource_management in Ambari Server-2.7.5, I will find it and fix it.\r\n> > \r\n> > All in all, I can make sure this Hive PR is correct.\r\n> > \r\n> > Can you please try again? @guyuqi @kevinw66 Thanks.\r\n> \r\n> May I ask which Hadoop version you deploy?\r\n\r\nHadoop 3.3.4, compiled by https://ci.bigtop.apache.org/job/Bigtop-trunk-snapshot/.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248863910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248871211","html_url":"https://github.com/apache/bigtop/pull/1013#issuecomment-1248871211","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1013","id":1248871211,"node_id":"IC_kwDOACDj7M5KcEMr","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:15:09Z","updated_at":"2022-09-16T03:15:09Z","author_association":"MEMBER","body":"+1.LGTM","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248871211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248871417","html_url":"https://github.com/apache/bigtop/pull/1013#issuecomment-1248871417","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1013","id":1248871417,"node_id":"IC_kwDOACDj7M5KcEP5","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:15:37Z","updated_at":"2022-09-16T03:15:37Z","author_association":"MEMBER","body":"Merged, thanks @smallyao ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248871417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248901857","html_url":"https://github.com/apache/bigtop/pull/1000#issuecomment-1248901857","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1000","id":1248901857,"node_id":"IC_kwDOACDj7M5KcLrh","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T04:20:24Z","updated_at":"2022-09-16T04:20:24Z","author_association":"MEMBER","body":"@timyuer @kevinw66  \r\noops, I found that I did not update my local packages repo and failed to fetch the new built Hive rpms.\r\nAfter using latest Hadoop and Hive rpms, everything is ok.\r\nLGTM, +1.\r\nThank you guys for working on it. :-)\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248901857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248906462","html_url":"https://github.com/apache/bigtop/pull/1014#issuecomment-1248906462","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1014","id":1248906462,"node_id":"IC_kwDOACDj7M5KcMze","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T04:29:45Z","updated_at":"2022-09-16T04:29:45Z","author_association":"CONTRIBUTOR","body":"@yzydhf Could you provide more details? What's the purpose of this PR?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248906462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248976352","html_url":"https://github.com/apache/bigtop/pull/1013#issuecomment-1248976352","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1013","id":1248976352,"node_id":"IC_kwDOACDj7M5Kcd3g","user":{"login":"smallyao","id":13212217,"node_id":"MDQ6VXNlcjEzMjEyMjE3","avatar_url":"https://avatars.githubusercontent.com/u/13212217?v=4","gravatar_id":"","url":"https://api.github.com/users/smallyao","html_url":"https://github.com/smallyao","followers_url":"https://api.github.com/users/smallyao/followers","following_url":"https://api.github.com/users/smallyao/following{/other_user}","gists_url":"https://api.github.com/users/smallyao/gists{/gist_id}","starred_url":"https://api.github.com/users/smallyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallyao/subscriptions","organizations_url":"https://api.github.com/users/smallyao/orgs","repos_url":"https://api.github.com/users/smallyao/repos","events_url":"https://api.github.com/users/smallyao/events{/privacy}","received_events_url":"https://api.github.com/users/smallyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T06:39:36Z","updated_at":"2022-09-16T06:39:36Z","author_association":"CONTRIBUTOR","body":"> Merged, thanks @smallyao\r\n\r\nThanks @guyuqi ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1248976352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1250114938","html_url":"https://github.com/apache/bigtop/pull/1014#issuecomment-1250114938","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1014","id":1250114938,"node_id":"IC_kwDOACDj7M5Kgz16","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-17T17:56:48Z","updated_at":"2022-09-17T17:56:48Z","author_association":"CONTRIBUTOR","body":"+1 LGTM, thanks","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1250114938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1250538093","html_url":"https://github.com/apache/bigtop/pull/1011#issuecomment-1250538093","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1011","id":1250538093,"node_id":"IC_kwDOACDj7M5KibJt","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-19T03:50:16Z","updated_at":"2022-09-19T03:50:16Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1250538093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1250538171","html_url":"https://github.com/apache/bigtop/pull/1011#issuecomment-1250538171","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1011","id":1250538171,"node_id":"IC_kwDOACDj7M5KibK7","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-19T03:50:32Z","updated_at":"2022-09-19T03:50:32Z","author_association":"MEMBER","body":"Merged.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1250538171/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254368909","html_url":"https://github.com/apache/bigtop/pull/1018#issuecomment-1254368909","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1018","id":1254368909,"node_id":"IC_kwDOACDj7M5KxCaN","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-22T00:40:17Z","updated_at":"2022-09-22T00:40:17Z","author_association":"CONTRIBUTOR","body":"Thank you for this improvement @vivostar!\r\nI tried this PR on Ubuntu 18.04 and came across the following error. Would you take a look? systemctl seems to exist in /bin on that Docker image.\r\n\r\n```\r\n$ ./docker-hadoop.sh -d -C config_ubuntu-18.04.yaml -r file:///bigtop-home/output/apt -G -k zookeeper,hdfs,hbase,phoenix -c 3\r\n\r\n...\r\n\r\nNotice: /Stage[main]/Phoenix::Server/Package[phoenix]/ensure: created\r\nNotice: /Stage[main]/Phoenix::Server/File[phoenix-server-lib]/ensure: created\r\nError: Could not find command 'systemctl'\r\nError: /Stage[main]/Phoenix::Hbase_server_restart/Exec[hbase_server_restart]/returns: change from 'notrun' to ['0'] failed: Could not find command 'systemctl'\r\n\r\n...\r\n\r\nNotice: /Stage[main]/Hadoop_hbase::Master/Package[hbase-master]/ensure: created\r\nError: Could not find command 'systemctl'\r\nError: /Stage[main]/Phoenix::Hbase_master_restart/Exec[hbase_master_restart]/returns: change from 'notrun' to ['0'] failed: Could not find command 'systemctl'\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254368909/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254414025","html_url":"https://github.com/apache/bigtop/pull/1009#issuecomment-1254414025","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1009","id":1254414025,"node_id":"IC_kwDOACDj7M5KxNbJ","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-22T01:56:52Z","updated_at":"2022-09-22T01:56:52Z","author_association":"MEMBER","body":"Just moved `dev-support` files to Bigtop provisioner and rename it to bigtop-stack-provisioner.\r\nTested it by deploying Ambari Mpack.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254414025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254415070","html_url":"https://github.com/apache/bigtop/pull/1009#issuecomment-1254415070","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1009","id":1254415070,"node_id":"IC_kwDOACDj7M5KxNre","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-22T01:58:04Z","updated_at":"2022-09-22T01:58:04Z","author_association":"MEMBER","body":"Merged.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254415070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254528270","html_url":"https://github.com/apache/bigtop/pull/1018#issuecomment-1254528270","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1018","id":1254528270,"node_id":"IC_kwDOACDj7M5KxpUO","user":{"login":"vivostar","id":49220700,"node_id":"MDQ6VXNlcjQ5MjIwNzAw","avatar_url":"https://avatars.githubusercontent.com/u/49220700?v=4","gravatar_id":"","url":"https://api.github.com/users/vivostar","html_url":"https://github.com/vivostar","followers_url":"https://api.github.com/users/vivostar/followers","following_url":"https://api.github.com/users/vivostar/following{/other_user}","gists_url":"https://api.github.com/users/vivostar/gists{/gist_id}","starred_url":"https://api.github.com/users/vivostar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivostar/subscriptions","organizations_url":"https://api.github.com/users/vivostar/orgs","repos_url":"https://api.github.com/users/vivostar/repos","events_url":"https://api.github.com/users/vivostar/events{/privacy}","received_events_url":"https://api.github.com/users/vivostar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-22T04:55:27Z","updated_at":"2022-09-22T04:55:27Z","author_association":"CONTRIBUTOR","body":"tested on ubuntu-18.04\r\n```shell\r\n./docker-hadoop.sh -d \\\r\n       --create 1 \\\r\n       --image bigtop/puppet:trunk-ubuntu-18.04 \\\r\n       --memory 8g \\\r\n       --repo http://repos.bigtop.apache.org/releases/3.1.0/ubuntu/18.04/\\$\\(ARCH\\)\\\r\n       --disable-gpg-check \\\r\n       --stack hdfs,yarn,mapreduce,hbase,phoenix\r\n./docker-hadoop.sh -e 1 /bin/bash\r\n\r\n/# python3 /usr/lib/phoenix/bin/sqlline.py localhost\r\n...\r\n0: jdbc:phoenix:localhost> CREATE TABLE t(c VARCHAR PRIMARY KEY);\r\nNo rows affected (1.218 seconds)\r\n0: jdbc:phoenix:localhost> UPSERT INTO t VALUES ('foo');\r\n1 row affected (0.085 seconds)\r\n0: jdbc:phoenix:localhost> SELECT * FROM t;\r\n+-----+\r\n|  C  |\r\n+-----+\r\n| foo |\r\n+-----+\r\n1 row selected (0.031 seconds)\r\n```\r\ntested on debian-10\r\n```shell\r\n./docker-hadoop.sh -d \\\r\n       --create 3 \\\r\n       --image bigtop/puppet:trunk-debian-10 \\\r\n       --memory 8g \\\r\n       --repo http://repos.bigtop.apache.org/releases/3.1.0/debian/10/\\$\\(ARCH\\) \\\r\n       --disable-gpg-check \\\r\n       --stack hdfs,yarn,mapreduce,hbase,phoenix\r\n./docker-hadoop.sh -e 1 /bin/bash\r\n\r\n/# python3 /usr/lib/phoenix/bin/sqlline.py localhost\r\n...\r\n0: jdbc:phoenix:localhost> CREATE TABLE t(c VARCHAR PRIMARY KEY);\r\nNo rows affected (1.218 seconds)\r\n0: jdbc:phoenix:localhost> UPSERT INTO t VALUES ('foo');\r\n1 row affected (0.085 seconds)\r\n0: jdbc:phoenix:localhost> SELECT * FROM t;\r\n+-----+\r\n|  C  |\r\n+-----+\r\n| foo |\r\n+-----+\r\n1 row selected (0.031 seconds)\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254528270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254528939","html_url":"https://github.com/apache/bigtop/pull/1018#issuecomment-1254528939","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1018","id":1254528939,"node_id":"IC_kwDOACDj7M5Kxper","user":{"login":"vivostar","id":49220700,"node_id":"MDQ6VXNlcjQ5MjIwNzAw","avatar_url":"https://avatars.githubusercontent.com/u/49220700?v=4","gravatar_id":"","url":"https://api.github.com/users/vivostar","html_url":"https://github.com/vivostar","followers_url":"https://api.github.com/users/vivostar/followers","following_url":"https://api.github.com/users/vivostar/following{/other_user}","gists_url":"https://api.github.com/users/vivostar/gists{/gist_id}","starred_url":"https://api.github.com/users/vivostar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivostar/subscriptions","organizations_url":"https://api.github.com/users/vivostar/orgs","repos_url":"https://api.github.com/users/vivostar/repos","events_url":"https://api.github.com/users/vivostar/events{/privacy}","received_events_url":"https://api.github.com/users/vivostar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-22T04:56:49Z","updated_at":"2022-09-22T04:56:49Z","author_association":"CONTRIBUTOR","body":"hi, @sekikn , thanks for your advice, I have updated the pr, and test it on ubuntu-18.04 and debian-10","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1254528939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1255769120","html_url":"https://github.com/apache/bigtop/pull/1018#issuecomment-1255769120","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1018","id":1255769120,"node_id":"IC_kwDOACDj7M5K2YQg","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-23T03:42:46Z","updated_at":"2022-09-23T03:42:46Z","author_association":"CONTRIBUTOR","body":"+1, tested on CentOS 7, Fedora 35 and 36, Debian 10, and Ubuntu 18.04 and 20.04.\r\nThanks @vivostar!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1255769120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1257676545","html_url":"https://github.com/apache/bigtop/pull/1024#issuecomment-1257676545","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1024","id":1257676545,"node_id":"IC_kwDOACDj7M5K9p8B","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-26T08:26:16Z","updated_at":"2022-09-26T08:26:16Z","author_association":"MEMBER","body":"Rebuilt `HBase`, `Phoenix `and `Zeppelin` on Arm64 Debian.\r\n+1.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1257676545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1257677206","html_url":"https://github.com/apache/bigtop/pull/1024#issuecomment-1257677206","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1024","id":1257677206,"node_id":"IC_kwDOACDj7M5K9qGW","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-26T08:26:47Z","updated_at":"2022-09-26T08:26:47Z","author_association":"MEMBER","body":"Megerd, thanks @iwasakims ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1257677206/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1262983229","html_url":"https://github.com/apache/bigtop/pull/979#issuecomment-1262983229","issue_url":"https://api.github.com/repos/apache/bigtop/issues/979","id":1262983229,"node_id":"IC_kwDOACDj7M5LR5g9","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T00:56:19Z","updated_at":"2022-09-30T00:56:19Z","author_association":"CONTRIBUTOR","body":"@vivostar As you mentioned, the plugin version of \"docker compose\" command is available in v2.\r\nhttps://docs.docker.com/compose/#compose-v2-and-the-new-docker-compose-command\r\nI think this change is useful for the users of that version (including me), so would you submit this PR again?\r\nAnd in that PR, the option name `--docker-compose-v2` feels somewhat ambiguous to me if it refers to the yaml format or plugin command, so `--docker-compose-plugin` or something may be better.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1262983229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263022133","html_url":"https://github.com/apache/bigtop/pull/979#issuecomment-1263022133","issue_url":"https://api.github.com/repos/apache/bigtop/issues/979","id":1263022133,"node_id":"IC_kwDOACDj7M5LSDA1","user":{"login":"vivostar","id":49220700,"node_id":"MDQ6VXNlcjQ5MjIwNzAw","avatar_url":"https://avatars.githubusercontent.com/u/49220700?v=4","gravatar_id":"","url":"https://api.github.com/users/vivostar","html_url":"https://github.com/vivostar","followers_url":"https://api.github.com/users/vivostar/followers","following_url":"https://api.github.com/users/vivostar/following{/other_user}","gists_url":"https://api.github.com/users/vivostar/gists{/gist_id}","starred_url":"https://api.github.com/users/vivostar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivostar/subscriptions","organizations_url":"https://api.github.com/users/vivostar/orgs","repos_url":"https://api.github.com/users/vivostar/repos","events_url":"https://api.github.com/users/vivostar/events{/privacy}","received_events_url":"https://api.github.com/users/vivostar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T02:12:54Z","updated_at":"2022-09-30T02:12:54Z","author_association":"CONTRIBUTOR","body":"hi, @sekikn , thanks for your concern the issue, I will reopen the pr and work on this.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263022133/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263046799","html_url":"https://github.com/apache/bigtop/pull/979#issuecomment-1263046799","issue_url":"https://api.github.com/repos/apache/bigtop/issues/979","id":1263046799,"node_id":"IC_kwDOACDj7M5LSJCP","user":{"login":"vivostar","id":49220700,"node_id":"MDQ6VXNlcjQ5MjIwNzAw","avatar_url":"https://avatars.githubusercontent.com/u/49220700?v=4","gravatar_id":"","url":"https://api.github.com/users/vivostar","html_url":"https://github.com/vivostar","followers_url":"https://api.github.com/users/vivostar/followers","following_url":"https://api.github.com/users/vivostar/following{/other_user}","gists_url":"https://api.github.com/users/vivostar/gists{/gist_id}","starred_url":"https://api.github.com/users/vivostar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivostar/subscriptions","organizations_url":"https://api.github.com/users/vivostar/orgs","repos_url":"https://api.github.com/users/vivostar/repos","events_url":"https://api.github.com/users/vivostar/events{/privacy}","received_events_url":"https://api.github.com/users/vivostar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T03:00:35Z","updated_at":"2022-09-30T03:00:35Z","author_association":"CONTRIBUTOR","body":"test docker-hadoop.sh\r\n1. start containers\r\n```shell\r\n./docker-hadoop.sh \\\r\n       -d \\\r\n       -dcp \\\r\n       --create 2 \\\r\n       --image bigtop/puppet:trunk-centos-7 \\\r\n       --memory 8g \\\r\n       --repo http://repos.bigtop.apache.org/releases/3.1.0/centos/7/\\$basearch \\\r\n       --disable-gpg-check \\\r\n       --stack hdfs,yarn,mapreduce,spark,hive\r\n./docker-hadoop.sh \\\r\n       -d \\\r\n       --docker-compose-plugin \\\r\n       --create 2 \\\r\n       --image bigtop/puppet:trunk-centos-7 \\\r\n       --memory 8g \\\r\n       --repo http://repos.bigtop.apache.org/releases/3.1.0/centos/7/\\$basearch \\\r\n       --disable-gpg-check \\\r\n       --stack hdfs,yarn,mapreduce,spark,hive\r\n```\r\n2. stop containers\r\n```\r\n./docker-hadoop.sh  -d  -dcp # don't forget add the command line parameter\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263046799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263066780","html_url":"https://github.com/apache/bigtop/pull/979#issuecomment-1263066780","issue_url":"https://api.github.com/repos/apache/bigtop/issues/979","id":1263066780,"node_id":"IC_kwDOACDj7M5LSN6c","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T03:42:22Z","updated_at":"2022-09-30T03:42:22Z","author_association":"CONTRIBUTOR","body":"Thanks @vivostar! Would you rebase the PR on the latest master? It looks mergeable on GitHub, but it actually conflicts #1026 and seems to cancel that change.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263066780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263082300","html_url":"https://github.com/apache/bigtop/pull/979#issuecomment-1263082300","issue_url":"https://api.github.com/repos/apache/bigtop/issues/979","id":1263082300,"node_id":"IC_kwDOACDj7M5LSRs8","user":{"login":"vivostar","id":49220700,"node_id":"MDQ6VXNlcjQ5MjIwNzAw","avatar_url":"https://avatars.githubusercontent.com/u/49220700?v=4","gravatar_id":"","url":"https://api.github.com/users/vivostar","html_url":"https://github.com/vivostar","followers_url":"https://api.github.com/users/vivostar/followers","following_url":"https://api.github.com/users/vivostar/following{/other_user}","gists_url":"https://api.github.com/users/vivostar/gists{/gist_id}","starred_url":"https://api.github.com/users/vivostar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivostar/subscriptions","organizations_url":"https://api.github.com/users/vivostar/orgs","repos_url":"https://api.github.com/users/vivostar/repos","events_url":"https://api.github.com/users/vivostar/events{/privacy}","received_events_url":"https://api.github.com/users/vivostar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T04:16:25Z","updated_at":"2022-09-30T04:16:25Z","author_association":"CONTRIBUTOR","body":"hi @sekikn, thanks for your advice, I have updated the pr.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263082300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263130170","html_url":"https://github.com/apache/bigtop/pull/979#issuecomment-1263130170","issue_url":"https://api.github.com/repos/apache/bigtop/issues/979","id":1263130170,"node_id":"IC_kwDOACDj7M5LSdY6","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T05:47:58Z","updated_at":"2022-09-30T05:47:58Z","author_association":"CONTRIBUTOR","body":"+1, tested with both \"docker-compose\" and \"docker compose\". @vivostar thank you for your contribution!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263130170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263320351","html_url":"https://github.com/apache/bigtop/pull/1022#issuecomment-1263320351","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1022","id":1263320351,"node_id":"IC_kwDOACDj7M5LTL0f","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T09:14:00Z","updated_at":"2022-09-30T09:14:00Z","author_association":"CONTRIBUTOR","body":"+1, tested as follows.\r\n\r\n```\r\n$ ./gradlew solr-clean solr-pkg repo -Dbuildwithdeps=true\r\n$ mv output/solr /tmp\r\n$ curl -sL https://github.com/apache/bigtop/pull/1022.diff | git apply\r\n<stdin>:223: trailing whitespace.\r\n%config(noreplace) %{etc_default}/solr \r\nwarning: 1 line adds whitespace errors.\r\n$ ./gradlew solr-clean solr-pkg repo -Dbuildwithdeps=true\r\n$ for i in $(ls output/solr/noarch); do diff <(rpm -qlp output/solr/noarch/$i) <(rpm -qlp /tmp/solr/noarch/$i); done\r\n3d2\r\n< /etc/solr\r\n$ ./gradlew solr-clean solr-pkg repo -Dbuildwithdeps=true -PparentDir=/usr/bigtop\r\n$ for i in $(ls output/solr/noarch); do rpm -qlp output/solr/noarch/$i; done\r\n/etc/solr\r\n/usr/bigtop/etc/default/solr\r\n/usr/bigtop/etc/default/solr.in.sh\r\n/usr/bigtop/etc/solr/conf.dist\r\n/usr/bigtop/etc/solr/conf.dist/jetty-logging.properties\r\n/usr/bigtop/etc/solr/conf.dist/log4j2-console.xml\r\n/usr/bigtop/etc/solr/conf.dist/log4j2.xml\r\n/usr/bigtop/usr/bin/solrctl\r\n/usr/bigtop/usr/lib/solr\r\n\r\n...\r\n\r\n/usr/bigtop/var/lib/solr\r\n/var/log/solr\r\n/var/run/solr\r\n/usr/bigtop/usr/share/doc/solr-doc-8.11.2\r\n\r\n...\r\n\r\n/etc/rc.d/init.d/solr-server\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263320351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263320868","html_url":"https://github.com/apache/bigtop/pull/1022#issuecomment-1263320868","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1022","id":1263320868,"node_id":"IC_kwDOACDj7M5LTL8k","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T09:14:31Z","updated_at":"2022-09-30T09:14:31Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263320868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263330529","html_url":"https://github.com/apache/bigtop/pull/1021#issuecomment-1263330529","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1021","id":1263330529,"node_id":"IC_kwDOACDj7M5LTOTh","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T09:24:05Z","updated_at":"2022-09-30T09:24:05Z","author_association":"CONTRIBUTOR","body":"+1, tested as follows:\r\n\r\n```\r\n$ ./gradlew hbase-clean hbase-pkg repo -Dbuildwithdeps=true\r\n$ mv output/hbase /tmp\r\n$ curl -sL https://github.com/apache/bigtop/pull/1021.diff | git apply\r\n$ ./gradlew hbase-clean hbase-pkg repo -Dbuildwithdeps=true\r\n$ for i in $(find output/hbase -name '*.rpm'); do diff <(rpm -qlp $i) <(rpm -qlp ${i/output/\\/tmp}); done\r\n2d1\r\n< /etc/hbase\r\n$ ./gradlew hbase-clean hbase-pkg repo -Dbuildwithdeps=true -PparentDir=/usr/bigtop\r\n$ for i in $(find output/hbase/noarch output/hbase/x86_64 -name '*.rpm'); do rpm -qlp $i; done\r\n/usr/bigtop/usr/share/doc/hbase-2.4.13\r\n\r\n...\r\n\r\n/etc/hbase\r\n/etc/security/limits.d/hbase.nofiles.conf\r\n/usr/bigtop/etc/default/hbase\r\n/usr/bigtop/etc/hbase/conf.dist\r\n/usr/bigtop/etc/hbase/conf.dist/hadoop-metrics2-hbase.properties\r\n/usr/bigtop/etc/hbase/conf.dist/hbase-env.sh\r\n/usr/bigtop/etc/hbase/conf.dist/hbase-policy.xml\r\n/usr/bigtop/etc/hbase/conf.dist/hbase-site.xml\r\n/usr/bigtop/etc/hbase/conf.dist/log4j-hbtop.properties\r\n/usr/bigtop/etc/hbase/conf.dist/log4j.properties\r\n/usr/bigtop/etc/hbase/conf.dist/regionservers\r\n/usr/bigtop/usr/bin/hbase\r\n/usr/bigtop/usr/lib/hbase\r\n\r\n...\r\n\r\n/usr/bigtop/var/lib/hbase\r\n/var/log/hbase\r\n/var/run/hbase\r\n/etc/rc.d/init.d/hbase-regionserver\r\n/etc/rc.d/init.d/hbase-thrift2\r\n/etc/rc.d/init.d/hbase-master\r\n/etc/rc.d/init.d/hbase-thrift\r\n/etc/rc.d/init.d/hbase-rest\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263330529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263331029","html_url":"https://github.com/apache/bigtop/pull/1021#issuecomment-1263331029","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1021","id":1263331029,"node_id":"IC_kwDOACDj7M5LTObV","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T09:24:35Z","updated_at":"2022-09-30T09:24:35Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263331029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263409903","html_url":"https://github.com/apache/bigtop/pull/1002#issuecomment-1263409903","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1002","id":1263409903,"node_id":"IC_kwDOACDj7M5LThrv","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T10:39:52Z","updated_at":"2022-09-30T10:39:52Z","author_association":"CONTRIBUTOR","body":"+1, tested as follows:\r\n\r\n```\r\n$ ./gradlew spark-clean spark-pkg repo -Dbuildwithdeps=true\r\n$ mv output/spark /tmp\r\n$ curl -sL https://github.com/apache/bigtop/pull/1002.diff | git apply \r\n$ ./gradlew spark-clean spark-pkg repo -Dbuildwithdeps=true\r\n$ for i in $(ls output/spark/noarch); do diff <(rpm -qlp output/spark/noarch/$i) <(rpm -qlp /tmp/spark/noarch/$i); done\r\n$ ./gradlew spark-clean spark-pkg repo -Dbuildwithdeps=true -PparentDir=/usr/bigtop\r\n$ for i in $(ls output/spark/noarch); do rpm -qlp output/spark/noarch/$i; done                                                                                                                                        \r\n/etc/spark                                                                                                                                                                                                                                    \r\n/usr/bigtop/etc/spark/conf.dist                                                                                                                                                                                                               \r\n\r\n...\r\n\r\n/usr/bigtop/etc/spark/conf.dist/workers.template                                                                                                                                                                                              \r\n/usr/bigtop/usr/bin/find-spark-home                                                                                                                                                                                                           \r\n/usr/bigtop/usr/bin/spark-class                                                                                                                                                                                                               \r\n/usr/bigtop/usr/bin/spark-example                                                                                                                                                                                                             \r\n/usr/bigtop/usr/bin/spark-shell\r\n/usr/bigtop/usr/bin/spark-sql\r\n/usr/bigtop/usr/bin/spark-submit\r\n/usr/bigtop/usr/lib/spark/LICENSE\r\n\r\n...\r\n\r\n/usr/bigtop/usr/lib/spark/external/lib/spark-token-provider-kafka-0-10_2.12-3.2.1.jar                                                                                                                                                         \r\n/etc/rc.d/init.d/spark-history-server                                                                                                                                                                                                         \r\n/etc/rc.d/init.d/spark-master                                                                                                                                                                                                                 \r\n/usr/bigtop/usr/bin/pyspark                                                                                                                                                                                                                   \r\n/usr/bigtop/usr/lib/spark/bin/pyspark                                                                                                                                                                                                         \r\n\r\n...\r\n\r\n/usr/bigtop/usr/lib/spark/python/test_support/userlibrary.py                                                                                                                                                                                  \r\n/usr/bigtop/usr/bin/sparkR                                                                                                                                                                                                                    \r\n/usr/bigtop/usr/lib/spark/R                                                                                                                                                                                                                   \r\n\r\n...\r\n\r\n/usr/bigtop/usr/lib/spark/bin/sparkR                                                                                                                                                                                                          \r\n/etc/rc.d/init.d/spark-thriftserver                                                                                                                                                                                                           \r\n/etc/rc.d/init.d/spark-worker                                                                                                                                                                                                                 \r\n/usr/bigtop/usr/lib/spark/yarn/lib/spark-yarn-shuffle.jar                                                                                                                                                                                     \r\n/usr/bigtop/usr/lib/spark/yarn/spark-3.2.1-yarn-shuffle.jar                                                                                                                                                                                   \r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263409903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263410965","html_url":"https://github.com/apache/bigtop/pull/1002#issuecomment-1263410965","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1002","id":1263410965,"node_id":"IC_kwDOACDj7M5LTh8V","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T10:40:54Z","updated_at":"2022-09-30T10:40:54Z","author_association":"CONTRIBUTOR","body":"Merged into master. Thanks @kevinw66!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263410965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263416725","html_url":"https://github.com/apache/bigtop/pull/1021#issuecomment-1263416725","issue_url":"https://api.github.com/repos/apache/bigtop/issues/1021","id":1263416725,"node_id":"IC_kwDOACDj7M5LTjWV","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T10:46:26Z","updated_at":"2022-09-30T10:46:26Z","author_association":"CONTRIBUTOR","body":"Oh, I've just found some debug messages after merging it. @kevinw66 would you submit a brief patch to remove them?\r\nhttps://github.com/apache/bigtop/pull/1022/files#diff-830b6899b86a1bb787661972ce4541597f14f09e39a973e1c8ae0b0225990a64R155-R157","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/1263416725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]