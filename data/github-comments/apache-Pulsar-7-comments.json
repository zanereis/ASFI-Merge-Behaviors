[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280120859","html_url":"https://github.com/apache/pulsar/pull/214#issuecomment-280120859","issue_url":"https://api.github.com/repos/apache/pulsar/issues/214","id":280120859,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDEyMDg1OQ==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T19:56:41Z","updated_at":"2017-02-15T19:56:41Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280120859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280176419","html_url":"https://github.com/apache/pulsar/pull/200#issuecomment-280176419","issue_url":"https://api.github.com/repos/apache/pulsar/issues/200","id":280176419,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDE3NjQxOQ==","user":{"login":"yush1ga","id":22343413,"node_id":"MDQ6VXNlcjIyMzQzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/22343413?v=4","gravatar_id":"","url":"https://api.github.com/users/yush1ga","html_url":"https://github.com/yush1ga","followers_url":"https://api.github.com/users/yush1ga/followers","following_url":"https://api.github.com/users/yush1ga/following{/other_user}","gists_url":"https://api.github.com/users/yush1ga/gists{/gist_id}","starred_url":"https://api.github.com/users/yush1ga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yush1ga/subscriptions","organizations_url":"https://api.github.com/users/yush1ga/orgs","repos_url":"https://api.github.com/users/yush1ga/repos","events_url":"https://api.github.com/users/yush1ga/events{/privacy}","received_events_url":"https://api.github.com/users/yush1ga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T23:31:07Z","updated_at":"2017-02-15T23:31:07Z","author_association":"CONTRIBUTOR","body":"Broker has tls connection test but it doesn't have tls authentication test.\r\nI will send another PR about end to end tls authentication test for both C++ and Java client.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280176419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280178101","html_url":"https://github.com/apache/pulsar/pull/196#issuecomment-280178101","issue_url":"https://api.github.com/repos/apache/pulsar/issues/196","id":280178101,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDE3ODEwMQ==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T23:38:27Z","updated_at":"2017-02-15T23:38:27Z","author_association":"CONTRIBUTOR","body":"üëç Can you check the build?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280178101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280178640","html_url":"https://github.com/apache/pulsar/pull/200#issuecomment-280178640","issue_url":"https://api.github.com/repos/apache/pulsar/issues/200","id":280178640,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDE3ODY0MA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T23:41:03Z","updated_at":"2017-02-15T23:41:03Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280178640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280179132","html_url":"https://github.com/apache/pulsar/pull/201#issuecomment-280179132","issue_url":"https://api.github.com/repos/apache/pulsar/issues/201","id":280179132,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDE3OTEzMg==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T23:43:22Z","updated_at":"2017-02-15T23:43:22Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280179132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280441149","html_url":"https://github.com/apache/pulsar/pull/215#issuecomment-280441149","issue_url":"https://api.github.com/repos/apache/pulsar/issues/215","id":280441149,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ0MTE0OQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T19:57:59Z","updated_at":"2017-02-16T19:57:59Z","author_association":"CONTRIBUTOR","body":">The only issue I see is that, the consumer will keep reconnecting in a loop without backoff.\r\nThe backoff time in reconnection is reset every time a producer/consumer is successful in re-establishing itself to the broker.\r\n\r\nThat is correct. But we are targeting clients which are using old version so, we have to prevent at broker side. To address reconnection, I modified change:\r\n- close consumer at broker side without closing connection\r\n- this will remove consumer from subscription and `ServerCnx` and resends pendingAck messages to other consumers\r\n\r\nThis will prevent reconnection, logs message at broker and consumer will not receive any further messages.\r\n\r\nAny thought?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280441149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280473128","html_url":"https://github.com/apache/pulsar/pull/218#issuecomment-280473128","issue_url":"https://api.github.com/repos/apache/pulsar/issues/218","id":280473128,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ3MzEyOA==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T21:51:53Z","updated_at":"2017-02-16T21:51:53Z","author_association":"CONTRIBUTOR","body":"@yush1ga - can you please have a look at these changes","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280473128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280475126","html_url":"https://github.com/apache/pulsar/pull/215#issuecomment-280475126","issue_url":"https://api.github.com/repos/apache/pulsar/issues/215","id":280475126,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ3NTEyNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T21:58:57Z","updated_at":"2017-02-16T21:58:57Z","author_association":"CONTRIBUTOR","body":"Sound good to me. Another option I was thinking of would to mark the topic as a \"topic that a some point got batched messages\" and prevent consumer to subscribe again. That way the back off would kick in","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280475126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280520836","html_url":"https://github.com/apache/pulsar/pull/215#issuecomment-280520836","issue_url":"https://api.github.com/repos/apache/pulsar/issues/215","id":280520836,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUyMDgzNg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T01:23:57Z","updated_at":"2017-02-18T02:19:34Z","author_association":"CONTRIBUTOR","body":">Another option I was thinking of would to mark the topic as a \"topic that a some point got batched messages\" and prevent consumer to subscribe again. That way the back off would kick in\r\n\r\nYes, that is also a good option and at least in that way, client will receive an error and consumer would know what's going on.\r\n\r\nHowever, there are few complications to implement it and not sure if it's worth to introduce it to solve a problem which may touch very small no of clients for now.\r\n- to prevent same unsupported-consumer connect again: need to store unsupported-consumerId set at topic level (because once consumer is disconnected, it will try to create new connection on topic)\r\n- now, we can have unique consumer-id at connection level but not at topic-level so, can't store consumer with just consumerId.\r\n\r\nDo you think we should still go with this approach?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280520836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280738898","html_url":"https://github.com/apache/pulsar/issues/207#issuecomment-280738898","issue_url":"https://api.github.com/repos/apache/pulsar/issues/207","id":280738898,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDczODg5OA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T19:08:56Z","updated_at":"2017-02-17T19:08:56Z","author_association":"CONTRIBUTOR","body":"Looks like this tests is exposing some real reconnection race conditions.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280738898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280748498","html_url":"https://github.com/apache/pulsar/pull/196#issuecomment-280748498","issue_url":"https://api.github.com/repos/apache/pulsar/issues/196","id":280748498,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc0ODQ5OA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T19:47:29Z","updated_at":"2017-02-17T19:47:29Z","author_association":"CONTRIBUTOR","body":"@rdhabalia I'll get to review this one soon...","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280748498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280755512","html_url":"https://github.com/apache/pulsar/pull/219#issuecomment-280755512","issue_url":"https://api.github.com/repos/apache/pulsar/issues/219","id":280755512,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc1NTUxMg==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:17:36Z","updated_at":"2017-02-17T20:17:36Z","author_association":"CONTRIBUTOR","body":"You can merge it once the travis build passes. It's better to create a script with the steps to build in mac.\r\nüëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280755512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280769866","html_url":"https://github.com/apache/pulsar/issues/18#issuecomment-280769866","issue_url":"https://api.github.com/repos/apache/pulsar/issues/18","id":280769866,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc2OTg2Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T21:22:03Z","updated_at":"2017-02-17T21:22:03Z","author_association":"CONTRIBUTOR","body":"Closing as it didn't reproduce in a long time","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280769866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280778685","html_url":"https://github.com/apache/pulsar/pull/221#issuecomment-280778685","issue_url":"https://api.github.com/repos/apache/pulsar/issues/221","id":280778685,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc3ODY4NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T22:01:34Z","updated_at":"2017-02-17T22:01:34Z","author_association":"CONTRIBUTOR","body":"@saandrews @rdhabalia We should consider to backport this to 1.16 branch as well. No need to release immediately 1.16.1, but to keep it there ready.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280778685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280784084","html_url":"https://github.com/apache/pulsar/pull/221#issuecomment-280784084","issue_url":"https://api.github.com/repos/apache/pulsar/issues/221","id":280784084,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc4NDA4NA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T22:28:18Z","updated_at":"2017-02-17T22:28:18Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280784084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280788813","html_url":"https://github.com/apache/pulsar/pull/221#issuecomment-280788813","issue_url":"https://api.github.com/repos/apache/pulsar/issues/221","id":280788813,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc4ODgxMw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T22:53:51Z","updated_at":"2017-02-17T22:53:51Z","author_association":"CONTRIBUTOR","body":">We should consider to backport this to 1.16 branch as well. No need to release immediately 1.16.1, but to keep it there ready\r\n\r\nYes, we will create a branch and will add this patch and we can wait for sometime before releasing if we want to include other patches as well.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280788813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280791261","html_url":"https://github.com/apache/pulsar/pull/221#issuecomment-280791261","issue_url":"https://api.github.com/repos/apache/pulsar/issues/221","id":280791261,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc5MTI2MQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T23:07:25Z","updated_at":"2017-02-17T23:07:25Z","author_association":"CONTRIBUTOR","body":"Merged in [branch-1.16](/yahoo/pulsar/tree/branch-1.16) at 956430d57c09d958092a9406b28222057600ae50","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280791261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280798641","html_url":"https://github.com/apache/pulsar/pull/219#issuecomment-280798641","issue_url":"https://api.github.com/repos/apache/pulsar/issues/219","id":280798641,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc5ODY0MQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T23:53:46Z","updated_at":"2017-02-17T23:53:46Z","author_association":"CONTRIBUTOR","body":"@jai1 I've added a few changes I needed in the comment.\r\nI still have a link issue, since the cmake is trying to link with `/usr/lib/libssl.dylib`, instead of the openssl from brew","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280798641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280800211","html_url":"https://github.com/apache/pulsar/pull/219#issuecomment-280800211","issue_url":"https://api.github.com/repos/apache/pulsar/issues/219","id":280800211,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgwMDIxMQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T00:04:15Z","updated_at":"2017-02-18T00:04:15Z","author_association":"CONTRIBUTOR","body":"@jai Actually, I've got it working with\r\n```\r\ncmake . -DOPENSSL_ROOT_DIR=/usr/local/opt/openssl\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280800211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280802612","html_url":"https://github.com/apache/pulsar/pull/223#issuecomment-280802612","issue_url":"https://api.github.com/repos/apache/pulsar/issues/223","id":280802612,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgwMjYxMg==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T00:22:27Z","updated_at":"2017-02-18T00:22:27Z","author_association":"CONTRIBUTOR","body":"Can we patch 1.16 as well?\r\nüëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280802612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280870281","html_url":"https://github.com/apache/pulsar/issues/227#issuecomment-280870281","issue_url":"https://api.github.com/repos/apache/pulsar/issues/227","id":280870281,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDg3MDI4MQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T19:51:03Z","updated_at":"2017-02-18T19:51:03Z","author_association":"CONTRIBUTOR","body":"The `peek-messages` command will show messages that are in \"backlog\", meaning they were published but no consumer has either received them or acknowledged their consumption.\r\n\r\nIf you have the test consumer running, it will quickly receive and ack all the messages. Try to stop it, or make it consume messages slowly (eg: `bin/pulsar-perf consume --rate 10`) so that the backlog start accumulating. Then you can peek at messages","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280870281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280874787","html_url":"https://github.com/apache/pulsar/issues/227#issuecomment-280874787","issue_url":"https://api.github.com/repos/apache/pulsar/issues/227","id":280874787,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDg3NDc4Nw==","user":{"login":"hakangs","id":2677768,"node_id":"MDQ6VXNlcjI2Nzc3Njg=","avatar_url":"https://avatars.githubusercontent.com/u/2677768?v=4","gravatar_id":"","url":"https://api.github.com/users/hakangs","html_url":"https://github.com/hakangs","followers_url":"https://api.github.com/users/hakangs/followers","following_url":"https://api.github.com/users/hakangs/following{/other_user}","gists_url":"https://api.github.com/users/hakangs/gists{/gist_id}","starred_url":"https://api.github.com/users/hakangs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hakangs/subscriptions","organizations_url":"https://api.github.com/users/hakangs/orgs","repos_url":"https://api.github.com/users/hakangs/repos","events_url":"https://api.github.com/users/hakangs/events{/privacy}","received_events_url":"https://api.github.com/users/hakangs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T21:02:22Z","updated_at":"2017-02-18T21:02:22Z","author_association":"NONE","body":"thank you very much, I was acknowledging the messages...","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280874787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280877132","html_url":"https://github.com/apache/pulsar/issues/228#issuecomment-280877132","issue_url":"https://api.github.com/repos/apache/pulsar/issues/228","id":280877132,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDg3NzEzMg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T21:41:16Z","updated_at":"2017-02-18T21:41:16Z","author_association":"CONTRIBUTOR","body":"Can you paste the logs from the client?\n\nMost probable reason is that the machine running the standalone broker has\na hostname that the client cannot resolve.\n\nEventually the client needs to connect to a hostname that the broker\nself-advertised of itself. By default we use the machine \"hostname\". You\ncan override that in the standalone.conf by setting the\nadvertisedAddress=192.168.1.28 or by passing an option (I think that's -a)\nwhen starting the standalone service.\nOn Sat, Feb 18, 2017 at 1:14 PM hakangs <notifications@github.com> wrote:\n\n> Expected behavior\n>\n> I am connecting to server from client code like :\n>\n> client = PulsarClient.create(\"pulsar://192.168.1.28:6650\");\n> Actual behavior\n>\n> I start the server as standalone. There is no problem when client and\n> server are on the same machine, but when I execute the client code on\n> another pc (in my network), I get the following exception trace:\n>\n> com.yahoo.pulsar.client.api.PulsarClientException\n> java.util.concurrent.CompletionException\n> com.yahoo.pulsar.client.api.PulsarClientException\n> java.nio.channels.UnresolvedAddressException\n>\n> telnet result is successful to port 6650 from client (failing) to server.\n>\n> What can be the problem ?\n> System configuration\n>\n> *Pulsar version*: 1.16\n>\n> ‚Äî\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/yahoo/pulsar/issues/228>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD0JCvyJ9kY5MBmlNGM3EXOcM10SdL8ks5rd18xgaJpZM4MFQku>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280877132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280877487","html_url":"https://github.com/apache/pulsar/issues/228#issuecomment-280877487","issue_url":"https://api.github.com/repos/apache/pulsar/issues/228","id":280877487,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDg3NzQ4Nw==","user":{"login":"hakangs","id":2677768,"node_id":"MDQ6VXNlcjI2Nzc3Njg=","avatar_url":"https://avatars.githubusercontent.com/u/2677768?v=4","gravatar_id":"","url":"https://api.github.com/users/hakangs","html_url":"https://github.com/hakangs","followers_url":"https://api.github.com/users/hakangs/followers","following_url":"https://api.github.com/users/hakangs/following{/other_user}","gists_url":"https://api.github.com/users/hakangs/gists{/gist_id}","starred_url":"https://api.github.com/users/hakangs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hakangs/subscriptions","organizations_url":"https://api.github.com/users/hakangs/orgs","repos_url":"https://api.github.com/users/hakangs/repos","events_url":"https://api.github.com/users/hakangs/events{/privacy}","received_events_url":"https://api.github.com/users/hakangs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T21:46:54Z","updated_at":"2017-02-18T21:46:54Z","author_association":"NONE","body":"-a solved my problem, thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280877487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280884417","html_url":"https://github.com/apache/pulsar/pull/205#issuecomment-280884417","issue_url":"https://api.github.com/repos/apache/pulsar/issues/205","id":280884417,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDg4NDQxNw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T23:59:03Z","updated_at":"2017-02-18T23:59:03Z","author_association":"CONTRIBUTOR","body":"Agree with @agarman, the current text sounds correct to me.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/280884417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281099271","html_url":"https://github.com/apache/pulsar/pull/192#issuecomment-281099271","issue_url":"https://api.github.com/repos/apache/pulsar/issues/192","id":281099271,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTA5OTI3MQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T14:53:56Z","updated_at":"2017-02-20T14:53:56Z","author_association":"CONTRIBUTOR","body":"@merlimat I added a configuration field to specify the amount of ranges to persist, it defaults to 1000.\r\nI don't know if the naming is correct, please do suggest alternatives.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281099271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281101888","html_url":"https://github.com/apache/pulsar/issues/190#issuecomment-281101888","issue_url":"https://api.github.com/repos/apache/pulsar/issues/190","id":281101888,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTEwMTg4OA==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T15:04:20Z","updated_at":"2017-02-20T15:04:20Z","author_association":"CONTRIBUTOR","body":"@merlimat could you take a look at the logs?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281101888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281199821","html_url":"https://github.com/apache/pulsar/issues/190#issuecomment-281199821","issue_url":"https://api.github.com/repos/apache/pulsar/issues/190","id":281199821,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTE5OTgyMQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T22:48:00Z","updated_at":"2017-02-20T22:48:00Z","author_association":"CONTRIBUTOR","body":"So, I'm not sure on what is exactly happening, though it seems to be related with the RackAware policy and the notification it gets when the z-node with the mapping is changed.\r\n\r\nIn particular, at the beginning of the log : \r\n\r\n```\r\n2017-02-03 02:39:04,038 - INFO  - [zk-cache-executor-11-1:ZkBookieRackAffinityMapping@160] - Bookie rack info updated to {us-east-1={10.64.103.28:3181=com.yahoo.pulsar.zookeeper.BookieInfo@583c6a6e, 10.64.102.115:3181=com.yahoo.pulsar.zookeeper.BookieInfo@410cbbe8, 10.64.102.214:3181=com.yahoo.pulsar.zookeeper.BookieInfo@797f9064, 10.64.102.126:3181=com.yahoo.pulsar.zookeeper.BookieInfo@10f00f34, 10.64.103.156:3181=com.yahoo.pulsar.zookeeper.BookieInfo@2ba4685e, 10.64.102.237:3181=com.yahoo.pulsar.zookeeper.BookieInfo@f535539, 10.64.102.145:3181=com.yahoo.pulsar.zookeeper.BookieInfo@a2a0807, 10.64.103.176:3181=com.yahoo.pulsar.zookeeper.BookieInfo@1ab32fd9, 10.64.103.68:3181=com.yahoo.pulsar.zookeeper.BookieInfo@12dd5249, 10.64.103.79:3181=com.yahoo.pulsar.zookeeper.BookieInfo@73227b6, 10.64.102.65:3181=com.yahoo.pulsar.zookeeper.BookieInfo@5d026d67, 10.64.103.171:3181=com.yahoo.pulsar.zookeeper.BookieInfo@5e4c5cf9}}. Notifying rackaware policy.\r\n2017-02-03 02:39:04,039 - INFO  - [zk-cache-executor-11-1:NetworkTopology@463] - Removing a node: /us-east-1e/10.64.103.176:3181\r\n2017-02-03 02:39:04,039 - INFO  - [zk-cache-executor-11-1:NetworkTopology@394] - Adding a new node: /us-east-1e/10.64.103.176:3181\r\n```\r\n\r\nSo, first bookie 10.64.103.176 gets removed and then immediately added back again. I need to setup a test env to try to reproduce this. \r\n\r\nIn the meantime, I think you were updating rack-aware mapping z-node every time a bookie was removed from `/ledgers/available`, right? Can you try not to touch the mapping and see if it makes any difference?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281199821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281232249","html_url":"https://github.com/apache/pulsar/issues/190#issuecomment-281232249","issue_url":"https://api.github.com/repos/apache/pulsar/issues/190","id":281232249,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTIzMjI0OQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T03:01:25Z","updated_at":"2017-02-21T03:01:25Z","author_association":"CONTRIBUTOR","body":"@sschepens Not able to reproduce locally so far.\r\n\r\nCan you try turning debug logs on these classes?\r\n```\r\norg.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy\r\norg.apache.bookkeeper.net.NetworkTopology\r\ncom.yahoo.pulsar.zookeeper.ZkBookieRackAffinityMapping\r\n```\r\n\r\nAlso can you explain again how do you update the rack info?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281232249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281432995","html_url":"https://github.com/apache/pulsar/pull/223#issuecomment-281432995","issue_url":"https://api.github.com/repos/apache/pulsar/issues/223","id":281432995,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQzMjk5NQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:28:03Z","updated_at":"2017-02-21T18:28:03Z","author_association":"CONTRIBUTOR","body":">Can we patch 1.16 as well?\r\n\r\nyes.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281432995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281434192","html_url":"https://github.com/apache/pulsar/pull/229#issuecomment-281434192","issue_url":"https://api.github.com/repos/apache/pulsar/issues/229","id":281434192,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQzNDE5Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:31:57Z","updated_at":"2017-02-21T18:31:57Z","author_association":"CONTRIBUTOR","body":"@rdhabalia No need to create PR for backporting patches. Just push the commit to the branch","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281434192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281440282","html_url":"https://github.com/apache/pulsar/issues/230#issuecomment-281440282","issue_url":"https://api.github.com/repos/apache/pulsar/issues/230","id":281440282,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ0MDI4Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:52:32Z","updated_at":"2017-02-21T18:52:32Z","author_association":"CONTRIBUTOR","body":"Yes, after recovery the ledger is not immediately created (to avoid doing it in case the topic is not used). The cursor position data will be either stored on the old ledger or on the z-node, depending on how the managed-ledger was closed. \r\n\r\nA new request to perform mark-delete should trigger the ledger creation, though we need to make sure the mark-delete request does not get rate-limited.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281440282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281441801","html_url":"https://github.com/apache/pulsar/issues/230#issuecomment-281441801","issue_url":"https://api.github.com/repos/apache/pulsar/issues/230","id":281441801,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ0MTgwMQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:56:56Z","updated_at":"2017-02-21T18:56:56Z","author_association":"CONTRIBUTOR","body":"But how do we handle this case here? we're resetting the cursor, all consumers have been disconected, but we have no ledger.\r\nShould we create one and the continue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281441801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281460915","html_url":"https://github.com/apache/pulsar/pull/225#issuecomment-281460915","issue_url":"https://api.github.com/repos/apache/pulsar/issues/225","id":281460915,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ2MDkxNQ==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T19:54:48Z","updated_at":"2017-02-21T19:54:48Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281460915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281467639","html_url":"https://github.com/apache/pulsar/pull/216#issuecomment-281467639","issue_url":"https://api.github.com/repos/apache/pulsar/issues/216","id":281467639,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ2NzYzOQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T20:19:01Z","updated_at":"2017-02-21T20:19:01Z","author_association":"CONTRIBUTOR","body":"just a thought:\r\n- if client requires subscription level stats then : if consumerId is not provided then should broker return subscription level stats in the map?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281467639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281576438","html_url":"https://github.com/apache/pulsar/pull/232#issuecomment-281576438","issue_url":"https://api.github.com/repos/apache/pulsar/issues/232","id":281576438,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTU3NjQzOA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T05:51:17Z","updated_at":"2017-02-22T05:51:17Z","author_association":"CONTRIBUTOR","body":"@rdhabalia But we need to resume the replicator it was stopped. Replicator will be paused when no one is connected and there are no local subscriptions.\r\n\r\nNow, whenever a new producer comes in, we need to restart the replicator. How would that work with this patch?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281576438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281587692","html_url":"https://github.com/apache/pulsar/pull/232#issuecomment-281587692","issue_url":"https://api.github.com/repos/apache/pulsar/issues/232","id":281587692,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTU4NzY5Mg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T07:07:48Z","updated_at":"2017-02-22T07:07:48Z","author_association":"CONTRIBUTOR","body":">But we need to resume the replicator it was stopped. Replicator will be paused when no one is connected and there are no local subscriptions.\r\n\r\nAren't we starting the replicator on topic loading. And due to inactivity when gc closes the replicator, it also [deletes the topic](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentTopic.java#L1082). So, next time when producer/consumer will be connected, it forces topic to be loaded and that would also start the replicator. I think GC is the only usecase where broker pause the replicator.\r\nAlso, if [remove-replicator](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentReplicator.java#L180) signals producer to be closed after creation then we should avoid [addProducer](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentTopic.java#L242) to overwrite the state. Another option could be check `TopicAlreadyClosed` on [readFailure](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentReplicator.java#L491)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281587692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281587786","html_url":"https://github.com/apache/pulsar/pull/188#issuecomment-281587786","issue_url":"https://api.github.com/repos/apache/pulsar/issues/188","id":281587786,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTU4Nzc4Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T07:08:21Z","updated_at":"2017-02-22T07:08:21Z","author_association":"CONTRIBUTOR","body":"@rdhabalia Updated the PR\r\n\r\nAdded:\r\n * Replication views\r\n * Show brokers even with no topic\r\n * Added single broker view","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281587786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281588286","html_url":"https://github.com/apache/pulsar/pull/232#issuecomment-281588286","issue_url":"https://api.github.com/repos/apache/pulsar/issues/232","id":281588286,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTU4ODI4Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T07:11:49Z","updated_at":"2017-02-22T07:11:49Z","author_association":"CONTRIBUTOR","body":"> Aren't we starting the replicator on topic loading. And due to inactivity when gc closes the replicator, it also deletes the topic. So, next time when producer/consumer will be connected, it forces topic to be loaded and that would also start the replicator. I think GC is the only usecase where broker pause the replicator.\r\n\r\nThe replicator will be paused and the topic might not be deleted (eg: an incoming replicator is still connected and keeps the topic alive)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281588286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281588466","html_url":"https://github.com/apache/pulsar/pull/186#issuecomment-281588466","issue_url":"https://api.github.com/repos/apache/pulsar/issues/186","id":281588466,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTU4ODQ2Ng==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T07:13:08Z","updated_at":"2017-02-22T07:13:08Z","author_association":"CONTRIBUTOR","body":"@merlimat : addressed all the changes, added one more change:\r\nConfigRegistered should be triggered only if the [configValue has been changed](https://github.com/rdhabalia/pulsar/blob/f4adac9c376b63e1e7e4850cacefde29e8ed8481/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/BrokerService.java#L926)\r\nany thought?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281588466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281593019","html_url":"https://github.com/apache/pulsar/pull/232#issuecomment-281593019","issue_url":"https://api.github.com/repos/apache/pulsar/issues/232","id":281593019,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTU5MzAxOQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T07:41:34Z","updated_at":"2017-02-22T07:41:34Z","author_association":"CONTRIBUTOR","body":"Change lgtm. Should we have at least a test that adds and removes a cluster from the list multiple times to stress the race condition?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281593019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281604167","html_url":"https://github.com/apache/pulsar/pull/232#issuecomment-281604167","issue_url":"https://api.github.com/repos/apache/pulsar/issues/232","id":281604167,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYwNDE2Nw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T08:38:50Z","updated_at":"2017-02-22T08:38:50Z","author_association":"CONTRIBUTOR","body":"Actually, this change will still create the same issue. if someone(addProducer) calls `startProducer` before producer is created then as state is `Stopping`, it will schedule `startProducer`. and as soon as producer will be closed, state will be flipped to `Stopped` so, `startProducer` will again try to create producer and try to `readEntries` using closed-cursor.\r\n\r\nI think fundamental issue is: [removeReplicator()](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentTopic.java#L678) disconnects producers and removes replicator from cache (replicators) asynchronously and it's not atomic. So, if  someone(addProducer) tries to [startReplProducer](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentTopic.java#L270) in between it then it will create inconsistency in behavior. \r\n\r\nSo, `startReplProducer` should read replicator-clusters directly from policies rather from `cache(replicators)`\r\n\r\nI will add test-case if change looks fine.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281604167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281766606","html_url":"https://github.com/apache/pulsar/pull/234#issuecomment-281766606","issue_url":"https://api.github.com/repos/apache/pulsar/issues/234","id":281766606,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTc2NjYwNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T18:58:59Z","updated_at":"2017-02-22T18:58:59Z","author_association":"CONTRIBUTOR","body":"We had this long time back. Eventually we turned off compression because compressing stats was generating a log GC pressures. \r\n\r\nI'd be ok to put this with a config switch to disable it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281766606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281775069","html_url":"https://github.com/apache/pulsar/pull/218#issuecomment-281775069","issue_url":"https://api.github.com/repos/apache/pulsar/issues/218","id":281775069,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTc3NTA2OQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T19:28:06Z","updated_at":"2017-02-22T19:28:06Z","author_association":"CONTRIBUTOR","body":"@jai1 Please use \"Squash and merge\" when merging a PR, unless there is specific need to keep multiple commits separated","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281775069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281787482","html_url":"https://github.com/apache/pulsar/pull/234#issuecomment-281787482","issue_url":"https://api.github.com/repos/apache/pulsar/issues/234","id":281787482,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTc4NzQ4Mg==","user":{"login":"agarman","id":138454,"node_id":"MDQ6VXNlcjEzODQ1NA==","avatar_url":"https://avatars.githubusercontent.com/u/138454?v=4","gravatar_id":"","url":"https://api.github.com/users/agarman","html_url":"https://github.com/agarman","followers_url":"https://api.github.com/users/agarman/followers","following_url":"https://api.github.com/users/agarman/following{/other_user}","gists_url":"https://api.github.com/users/agarman/gists{/gist_id}","starred_url":"https://api.github.com/users/agarman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agarman/subscriptions","organizations_url":"https://api.github.com/users/agarman/orgs","repos_url":"https://api.github.com/users/agarman/repos","events_url":"https://api.github.com/users/agarman/events{/privacy}","received_events_url":"https://api.github.com/users/agarman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T20:08:13Z","updated_at":"2017-02-22T20:08:13Z","author_association":"NONE","body":"Can we keep the default to off?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281787482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281789009","html_url":"https://github.com/apache/pulsar/pull/232#issuecomment-281789009","issue_url":"https://api.github.com/repos/apache/pulsar/issues/232","id":281789009,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTc4OTAwOQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T20:13:52Z","updated_at":"2017-02-22T20:13:52Z","author_association":"CONTRIBUTOR","body":"Added testcase to verify this race-condition.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281789009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281801254","html_url":"https://github.com/apache/pulsar/pull/234#issuecomment-281801254","issue_url":"https://api.github.com/repos/apache/pulsar/issues/234","id":281801254,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTgwMTI1NA==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T20:57:12Z","updated_at":"2017-02-22T20:57:12Z","author_association":"CONTRIBUTOR","body":"@merlimat have you ever considered moving the WebService to a netty backed http server implementation?\r\nIt of course wouldn't be as nice or magical as the current one, but would surely be more performant, and would reduce gc.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281801254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281810772","html_url":"https://github.com/apache/pulsar/pull/234#issuecomment-281810772","issue_url":"https://api.github.com/repos/apache/pulsar/issues/234","id":281810772,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTgxMDc3Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T21:31:59Z","updated_at":"2017-02-22T21:31:59Z","author_association":"CONTRIBUTOR","body":"@sschepens Yes, I actually thought of that long time back :). Main problem is that we have a big number of REST handlers already in place and most of them are not really perf sensitive or called that much frequent. So it would be a huge effort to port them all.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281810772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281818088","html_url":"https://github.com/apache/pulsar/pull/231#issuecomment-281818088","issue_url":"https://api.github.com/repos/apache/pulsar/issues/231","id":281818088,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTgxODA4OA==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-22T21:59:14Z","updated_at":"2017-02-22T21:59:14Z","author_association":"CONTRIBUTOR","body":"@merlimat can you have a look a this?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281818088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281923626","html_url":"https://github.com/apache/pulsar/pull/235#issuecomment-281923626","issue_url":"https://api.github.com/repos/apache/pulsar/issues/235","id":281923626,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTkyMzYyNg==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T08:11:01Z","updated_at":"2017-02-23T08:11:01Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/281923626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282000711","html_url":"https://github.com/apache/pulsar/pull/192#issuecomment-282000711","issue_url":"https://api.github.com/repos/apache/pulsar/issues/192","id":282000711,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjAwMDcxMQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T14:10:14Z","updated_at":"2017-02-23T14:10:14Z","author_association":"CONTRIBUTOR","body":"@merlimat I pushed a new commit rearranging some of the locking and synchronization in `ManagedCursorImpl` some synchronization blocks were no necessary I believe, and some covered way too much code that wasn't actually needing the synchronization or lock I think. Can you give this a look?\r\n\r\nWe were getting deadlocks because `buildIndividualDeletedMessageRanges` is now requiring a lock (we had `ConcurrentModificationException`s before) but `persistPosition` is sometimes called from within a synchronized block, and this caused a deadlock. Here is the detail:\r\n\r\n```\r\nFound one Java-level deadlock:\r\n=============================\r\n\"pulsar-io-39-8\":\r\n  waiting for ownable synchronizer 0x00000006c3e59278, (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync),\r\n  which is held by \"pulsar-io-39-2\"\r\n\"pulsar-io-39-2\":\r\n  waiting to lock monitor 0x00007f3980058158 (object 0x00000006c3e59320, a java.util.ArrayDeque),\r\n  which is held by \"bookkeeper-ml-workers-31-1\"\r\n\"bookkeeper-ml-workers-31-1\":\r\n  waiting for ownable synchronizer 0x00000006c3e59278, (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync),\r\n  which is held by \"pulsar-io-39-2\"\r\n\r\nJava stack information for the threads listed above:\r\n===================================================\r\n\"pulsar-io-39-8\":\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  <0x00000006c3e59278> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n        at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:943)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.asyncDelete(ManagedCursorImpl.java:1409)\r\n        at com.yahoo.pulsar.broker.service.persistent.PersistentSubscription.acknowledgeMessage(PersistentSubscription.java:169)\r\n        at com.yahoo.pulsar.broker.service.Consumer.messageAcked(Consumer.java:306)\r\n        at com.yahoo.pulsar.broker.service.ServerCnx.handleAck(ServerCnx.java:497)\r\n        at com.yahoo.pulsar.common.api.PulsarDecoder.channelRead(PulsarDecoder.java:112)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:367)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:353)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:346)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:367)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:353)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:346)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1294)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:367)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:353)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:911)\r\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:934)\r\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:405)\r\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:310)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:140)\r\n        at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\"pulsar-io-39-2\":\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.internalAsyncMarkDelete(ManagedCursorImpl.java:1251)\r\n        - waiting to lock <0x00000006c3e59320> (a java.util.ArrayDeque)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.asyncDelete(ManagedCursorImpl.java:1475)\r\n        at com.yahoo.pulsar.broker.service.persistent.PersistentSubscription.acknowledgeMessage(PersistentSubscription.java:169)\r\n        at com.yahoo.pulsar.broker.service.Consumer.messageAcked(Consumer.java:306)\r\n        at com.yahoo.pulsar.broker.service.ServerCnx.handleAck(ServerCnx.java:497)\r\n        at com.yahoo.pulsar.common.api.PulsarDecoder.channelRead(PulsarDecoder.java:112)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:367)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:353)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:346)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:367)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:353)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:346)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1294)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:367)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:353)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:911)\r\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:934)\r\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:405)\r\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:310)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:140)\r\n        at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\"bookkeeper-ml-workers-31-1\":\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  <0x00000006c3e59278> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(AbstractQueuedSynchronizer.java:967)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireShared(AbstractQueuedSynchronizer.java:1283)\r\n        at java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.lock(ReentrantReadWriteLock.java:727)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.buildIndividualDeletedMessageRanges(ManagedCursorImpl.java:1822)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.persistPosition(ManagedCursorImpl.java:1850)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.internalMarkDelete(ManagedCursorImpl.java:1290)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.internalFlushPendingMarkDeletes(ManagedCursorImpl.java:1770)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.flushPendingMarkDeletes(ManagedCursorImpl.java:1753)\r\n        at org.apache.bookkeeper.mledger.impl.ManagedCursorImpl.readOperationCompleted(ManagedCursorImpl.java:2001)\r\n        - locked <0x00000006c3e59320> (a java.util.ArrayDeque)\r\n        at org.apache.bookkeeper.mledger.impl.OpReadEntry.checkReadCompletion(OpReadEntry.java:120)\r\n        at org.apache.bookkeeper.mledger.impl.OpReadEntry.readEntriesComplete(OpReadEntry.java:71)\r\n        at org.apache.bookkeeper.mledger.impl.EntryCacheImpl.lambda$null$2(EntryCacheImpl.java:274)\r\n        at org.apache.bookkeeper.mledger.impl.EntryCacheImpl$$Lambda$245/787545477.run(Unknown Source)\r\n        at org.apache.bookkeeper.mledger.util.SafeRun$1.safeRun(SafeRun.java:27)\r\n        at org.apache.bookkeeper.util.SafeRunnable.run(SafeRunnable.java:31)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\nFound 1 deadlock.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282000711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282049277","html_url":"https://github.com/apache/pulsar/issues/13#issuecomment-282049277","issue_url":"https://api.github.com/repos/apache/pulsar/issues/13","id":282049277,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA0OTI3Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T16:47:28Z","updated_at":"2017-02-23T16:47:28Z","author_association":"CONTRIBUTOR","body":"Didn't see this failure in long time, closing for now","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282049277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282062209","html_url":"https://github.com/apache/pulsar/issues/217#issuecomment-282062209","issue_url":"https://api.github.com/repos/apache/pulsar/issues/217","id":282062209,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA2MjIwOQ==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T17:31:01Z","updated_at":"2017-02-23T17:31:01Z","author_association":"CONTRIBUTOR","body":"Fixed in Commit 16917784d433c16d6103febced5955cefea6cca9","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282062209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282103341","html_url":"https://github.com/apache/pulsar/pull/232#issuecomment-282103341","issue_url":"https://api.github.com/repos/apache/pulsar/issues/232","id":282103341,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjEwMzM0MQ==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T19:59:28Z","updated_at":"2017-02-23T19:59:28Z","author_association":"CONTRIBUTOR","body":"LGTM üëç @merlimat Can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282103341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282130585","html_url":"https://github.com/apache/pulsar/pull/224#issuecomment-282130585","issue_url":"https://api.github.com/repos/apache/pulsar/issues/224","id":282130585,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjEzMDU4NQ==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T21:42:39Z","updated_at":"2017-02-23T21:42:39Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282130585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282152388","html_url":"https://github.com/apache/pulsar/pull/215#issuecomment-282152388","issue_url":"https://api.github.com/repos/apache/pulsar/issues/215","id":282152388,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjE1MjM4OA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T23:12:30Z","updated_at":"2017-02-23T23:12:30Z","author_association":"CONTRIBUTOR","body":"@merlimat I think I misunderstood your previous comment. I have updated the change. Can you please take a look of it. I have introduced new error-code [UnsupporteVersion](https://github.com/rdhabalia/pulsar/blob/71fd6e2556d3c29e641e41751d11a9c766794597/pulsar-common/src/main/proto/PulsarApi.proto#L80) in case if one introduces new client without inital support of batch-msg, can also handle the error gracefully.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282152388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282157050","html_url":"https://github.com/apache/pulsar/pull/239#issuecomment-282157050","issue_url":"https://api.github.com/repos/apache/pulsar/issues/239","id":282157050,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjE1NzA1MA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-23T23:35:58Z","updated_at":"2017-02-23T23:35:58Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282157050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282369532","html_url":"https://github.com/apache/pulsar/pull/242#issuecomment-282369532","issue_url":"https://api.github.com/repos/apache/pulsar/issues/242","id":282369532,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjM2OTUzMg==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T18:39:52Z","updated_at":"2017-02-24T18:39:52Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282369532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282377587","html_url":"https://github.com/apache/pulsar/pull/231#issuecomment-282377587","issue_url":"https://api.github.com/repos/apache/pulsar/issues/231","id":282377587,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjM3NzU4Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T19:10:23Z","updated_at":"2017-02-24T19:10:23Z","author_association":"CONTRIBUTOR","body":"@sschepens I didn't forget about these PRs. I'll get to them today.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282377587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282395340","html_url":"https://github.com/apache/pulsar/issues/244#issuecomment-282395340","issue_url":"https://api.github.com/repos/apache/pulsar/issues/244","id":282395340,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjM5NTM0MA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T20:24:39Z","updated_at":"2017-02-24T20:24:39Z","author_association":"CONTRIBUTOR","body":"Actually the problem is that you enable logs, you'll reach the max log size for the Travis build and that will make the build fail ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282395340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282396016","html_url":"https://github.com/apache/pulsar/pull/243#issuecomment-282396016","issue_url":"https://api.github.com/repos/apache/pulsar/issues/243","id":282396016,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjM5NjAxNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T20:27:44Z","updated_at":"2017-02-24T20:27:44Z","author_association":"CONTRIBUTOR","body":"Fix looks good, though can you mention which test has been corrected in the git log message? :smile:","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282396016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282398814","html_url":"https://github.com/apache/pulsar/pull/243#issuecomment-282398814","issue_url":"https://api.github.com/repos/apache/pulsar/issues/243","id":282398814,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjM5ODgxNA==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T20:40:44Z","updated_at":"2017-02-24T20:40:44Z","author_association":"CONTRIBUTOR","body":"@merlimat - added the name of the test case in the commit message.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282398814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282409910","html_url":"https://github.com/apache/pulsar/pull/239#issuecomment-282409910","issue_url":"https://api.github.com/repos/apache/pulsar/issues/239","id":282409910,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjQwOTkxMA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T21:31:31Z","updated_at":"2017-02-24T21:31:31Z","author_association":"CONTRIBUTOR","body":"@merlimat we are thinking to patch this PR  and #232 into 1.16 branch, and then want to release it.\r\nCan you also please review it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282409910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282421816","html_url":"https://github.com/apache/pulsar/pull/241#issuecomment-282421816","issue_url":"https://api.github.com/repos/apache/pulsar/issues/241","id":282421816,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjQyMTgxNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T22:22:24Z","updated_at":"2017-02-24T22:22:24Z","author_association":"CONTRIBUTOR","body":"I don't think we can or should maintain compatibility with the internal version. One example is that the C++ namespace was already changed (`cms::` to `pulsar::`) , so the source-level compatibility is already gone.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282421816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282427015","html_url":"https://github.com/apache/pulsar/pull/215#issuecomment-282427015","issue_url":"https://api.github.com/repos/apache/pulsar/issues/215","id":282427015,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjQyNzAxNQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-24T22:49:17Z","updated_at":"2017-02-24T22:49:17Z","author_association":"CONTRIBUTOR","body":"updated the changes.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282427015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282528495","html_url":"https://github.com/apache/pulsar/issues/246#issuecomment-282528495","issue_url":"https://api.github.com/repos/apache/pulsar/issues/246","id":282528495,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjUyODQ5NQ==","user":{"login":"agarman","id":138454,"node_id":"MDQ6VXNlcjEzODQ1NA==","avatar_url":"https://avatars.githubusercontent.com/u/138454?v=4","gravatar_id":"","url":"https://api.github.com/users/agarman","html_url":"https://github.com/agarman","followers_url":"https://api.github.com/users/agarman/followers","following_url":"https://api.github.com/users/agarman/following{/other_user}","gists_url":"https://api.github.com/users/agarman/gists{/gist_id}","starred_url":"https://api.github.com/users/agarman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agarman/subscriptions","organizations_url":"https://api.github.com/users/agarman/orgs","repos_url":"https://api.github.com/users/agarman/repos","events_url":"https://api.github.com/users/agarman/events{/privacy}","received_events_url":"https://api.github.com/users/agarman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-26T02:49:07Z","updated_at":"2017-02-26T02:49:07Z","author_association":"NONE","body":"Have you considered using the [WebSocket](https://github.com/yahoo/pulsar/blob/master/docs/WebSocket.md) client?\r\n\r\nIt'll be simpler than getting a bunch of Java 8 libraries to work (stably) in Dalvik.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282528495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282529219","html_url":"https://github.com/apache/pulsar/pull/247#issuecomment-282529219","issue_url":"https://api.github.com/repos/apache/pulsar/issues/247","id":282529219,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjUyOTIxOQ==","user":{"login":"agarman","id":138454,"node_id":"MDQ6VXNlcjEzODQ1NA==","avatar_url":"https://avatars.githubusercontent.com/u/138454?v=4","gravatar_id":"","url":"https://api.github.com/users/agarman","html_url":"https://github.com/agarman","followers_url":"https://api.github.com/users/agarman/followers","following_url":"https://api.github.com/users/agarman/following{/other_user}","gists_url":"https://api.github.com/users/agarman/gists{/gist_id}","starred_url":"https://api.github.com/users/agarman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agarman/subscriptions","organizations_url":"https://api.github.com/users/agarman/orgs","repos_url":"https://api.github.com/users/agarman/repos","events_url":"https://api.github.com/users/agarman/events{/privacy}","received_events_url":"https://api.github.com/users/agarman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-26T03:09:05Z","updated_at":"2017-02-26T03:09:05Z","author_association":"NONE","body":"I was just opening an issue too.  :-)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282529219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282531512","html_url":"https://github.com/apache/pulsar/pull/216#issuecomment-282531512","issue_url":"https://api.github.com/repos/apache/pulsar/issues/216","id":282531512,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjUzMTUxMg==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-26T04:07:44Z","updated_at":"2017-02-26T04:07:44Z","author_association":"CONTRIBUTOR","body":"@merlimat - if you find time, can you review this PR.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282531512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282573567","html_url":"https://github.com/apache/pulsar/issues/237#issuecomment-282573567","issue_url":"https://api.github.com/repos/apache/pulsar/issues/237","id":282573567,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjU3MzU2Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-26T17:53:14Z","updated_at":"2017-02-26T17:53:14Z","author_association":"CONTRIBUTOR","body":"@jai1 Test is still failing with timeout https://travis-ci.org/yahoo/pulsar/builds/205425873\r\n\r\n```\r\nsocketTest(com.yahoo.pulsar.websocket.proxy.ProxyPublishConsumeTest)  Time elapsed: 30.017 sec  <<< FAILURE!\r\norg.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.socketTest() didn't finish within the time-out 30000\r\n\tat com.yahoo.pulsar.websocket.proxy.ProxyPublishConsumeTest.socketTest(ProxyPublishConsumeTest.java:105)\r\n```\r\n\r\nThe thread is blocked at line 105:\r\n\r\n```java\r\n                consumeClient.stop();\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282573567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282796916","html_url":"https://github.com/apache/pulsar/pull/216#issuecomment-282796916","issue_url":"https://api.github.com/repos/apache/pulsar/issues/216","id":282796916,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjc5NjkxNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T17:54:29Z","updated_at":"2017-02-27T17:54:29Z","author_association":"CONTRIBUTOR","body":"Ok, I was about to get to it ;)\nOn Mon, Feb 27, 2017 at 9:52 AM jai1 <notifications@github.com> wrote:\n\n> Merged #216 <https://github.com/yahoo/pulsar/pull/216>.\n>\n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/yahoo/pulsar/pull/216#event-978782783>, or mute the\n> thread\n> <https://github.com/notifications/unsubscribe-auth/AAD0JFYQ-dU-Mz5EZMqX8kadwm8fhT5bks5rgw1PgaJpZM4MDYHI>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282796916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282807970","html_url":"https://github.com/apache/pulsar/pull/241#issuecomment-282807970","issue_url":"https://api.github.com/repos/apache/pulsar/issues/241","id":282807970,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjgwNzk3MA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T18:33:34Z","updated_at":"2017-02-27T18:33:34Z","author_association":"CONTRIBUTOR","body":"Matteo,\n\n  It's easier to address the namespace difference just by adding\n-Dpulsar=cms during compilation. Even dev packages can be generated by\nreplacing pulsar to cms. This way, we don't have to maintain 2 versions of\nheaders and made duplicate changes.\n\nAndrews.\n\nOn Fri, Feb 24, 2017 at 2:22 PM, Matteo Merli <notifications@github.com>\nwrote:\n\n> I don't think we can or should maintain compatibility with the internal\n> version. One example is that the C++ namespace was already changed (cms::\n> to pulsar::) , so the source-level compatibility is already gone.\n>\n> ‚Äî\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/yahoo/pulsar/pull/241#issuecomment-282421816>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ATk4LKzjd5LIum17NMfElSEM9nwRML77ks5rf1gigaJpZM4MKwkl>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282807970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282846529","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282846529","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282846529,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg0NjUyOQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T20:41:54Z","updated_at":"2017-02-27T20:41:54Z","author_association":"CONTRIBUTOR","body":"@merlimat @saandrews we have to add it to the patch as regression tests are failing.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282846529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282883884","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282883884","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282883884,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg4Mzg4NA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T22:54:28Z","updated_at":"2017-02-27T22:54:28Z","author_association":"CONTRIBUTOR","body":"@merlimat updated changes.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282883884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282886763","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282886763","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282886763,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg4Njc2Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T23:07:09Z","updated_at":"2017-02-27T23:07:09Z","author_association":"CONTRIBUTOR","body":"@merlimat before merging this PR: was thinking another change:\r\nintroduce 2 methods:\r\n- disconnect() -> disconnect all consumers and disconnect dispatcher\r\n- disconnectAllConsumers() -> just disconnect all consumers\r\nand `resetCursor()` should call `disconnectAllConsumers()` and in that way, it doesn't have to `dispatcher.reset()`\r\nany thought?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282886763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282890452","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282890452","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282890452,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg5MDQ1Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T23:23:42Z","updated_at":"2017-02-27T23:23:42Z","author_association":"CONTRIBUTOR","body":"> * disconnect() -> disconnect all consumers and disconnect dispatcher\r\n\r\nStill I'm not clear what \"disconnecting dispatcher\" means :) . We can disconnect the consumer by either closing the TCP connection or anyway reject everything from it, but what does that mean for the dispatcher. Isn't then `close()` more appropriate?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282890452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282891678","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282891678","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282891678,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg5MTY3OA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T23:29:18Z","updated_at":"2017-02-27T23:29:18Z","author_association":"CONTRIBUTOR","body":"> Isn't then close() more appropriate?\r\n\r\nYes, I tried to explain as per old api `disconnect()`. But yes, it should be `close()` . so, it should have  `close()` and `disconnectAllConsumers()`\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282891678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282891768","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282891768","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282891768,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg5MTc2OA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T23:29:47Z","updated_at":"2017-02-27T23:29:47Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282891768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282899893","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282899893","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282899893,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg5OTg5Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T00:12:51Z","updated_at":"2017-02-28T00:12:51Z","author_association":"CONTRIBUTOR","body":"@merlimat updated discussed change. Can you please review it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282899893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282900204","html_url":"https://github.com/apache/pulsar/pull/250#issuecomment-282900204","issue_url":"https://api.github.com/repos/apache/pulsar/issues/250","id":282900204,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjkwMDIwNA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T00:14:47Z","updated_at":"2017-02-28T00:14:47Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/282900204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283091719","html_url":"https://github.com/apache/pulsar/issues/251#issuecomment-283091719","issue_url":"https://api.github.com/repos/apache/pulsar/issues/251","id":283091719,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzA5MTcxOQ==","user":{"login":"agarman","id":138454,"node_id":"MDQ6VXNlcjEzODQ1NA==","avatar_url":"https://avatars.githubusercontent.com/u/138454?v=4","gravatar_id":"","url":"https://api.github.com/users/agarman","html_url":"https://github.com/agarman","followers_url":"https://api.github.com/users/agarman/followers","following_url":"https://api.github.com/users/agarman/following{/other_user}","gists_url":"https://api.github.com/users/agarman/gists{/gist_id}","starred_url":"https://api.github.com/users/agarman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agarman/subscriptions","organizations_url":"https://api.github.com/users/agarman/orgs","repos_url":"https://api.github.com/users/agarman/repos","events_url":"https://api.github.com/users/agarman/events{/privacy}","received_events_url":"https://api.github.com/users/agarman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T16:35:56Z","updated_at":"2017-02-28T16:35:56Z","author_association":"NONE","body":"Pulsar uses a fork of Bookkeeper optimized for its workload. AFAIK complete compatibility with [Apache Bookkeeper documentation](http://bookkeeper.apache.org/docs/r4.3.2/) is a nice-to-have not must-have.\r\n\r\nIf/when the Pulsar fork is merged into Apache Bookkeeper, then full configurations will likely be supported.\r\n\r\nUntil then refer to [Pulsar Bookkeeper documentation](https://github.com/yahoo/pulsar/blob/master/docs/ClusterSetup.md#bookkeeper).\r\n\r\n@merlimat & co. would it make sense to pair down [bookkeeper.conf](https://github.com/yahoo/pulsar/blob/master/conf/bookkeeper.conf) to not have traps w.r.t. configurations that do not work with Pulsar Bookkeeper?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283091719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283117328","html_url":"https://github.com/apache/pulsar/pull/241#issuecomment-283117328","issue_url":"https://api.github.com/repos/apache/pulsar/issues/241","id":283117328,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzExNzMyOA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:05:36Z","updated_at":"2017-02-28T18:05:36Z","author_association":"CONTRIBUTOR","body":"üëç \r\n\r\n@merlimat your thoughts? I think this is better than maintaining older version of Auth.h and Auth.cc. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283117328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283118708","html_url":"https://github.com/apache/pulsar/pull/241#issuecomment-283118708","issue_url":"https://api.github.com/repos/apache/pulsar/issues/241","id":283118708,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzExODcwOA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:11:07Z","updated_at":"2017-02-28T18:11:07Z","author_association":"CONTRIBUTOR","body":"@saandrews  I still don't see how source level compatibility can be maintained. Eg: how can you enable YCA? yca auth implementation is not included in this repo","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283118708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283121133","html_url":"https://github.com/apache/pulsar/pull/241#issuecomment-283121133","issue_url":"https://api.github.com/repos/apache/pulsar/issues/241","id":283121133,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyMTEzMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:21:19Z","updated_at":"2017-02-28T18:21:19Z","author_association":"CONTRIBUTOR","body":"@saandrews @yush1ga Looks good to me. Change a couple of minor things.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283121133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283129829","html_url":"https://github.com/apache/pulsar/issues/248#issuecomment-283129829","issue_url":"https://api.github.com/repos/apache/pulsar/issues/248","id":283129829,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyOTgyOQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:57:14Z","updated_at":"2017-02-28T18:57:14Z","author_association":"CONTRIBUTOR","body":"I don't see a way to do it with the current API. To be able to do :\r\n\r\n```java\r\nPulsarClient client = PulsarClient.create(\"...\");\r\n```\r\n\r\nYou need to refer to the impl from the api package.\r\n\r\nI don't think this is a problem though, since all the code is in the same maven module anyway, and you can still provide an alternative implementation of the api.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283129829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283132639","html_url":"https://github.com/apache/pulsar/issues/251#issuecomment-283132639","issue_url":"https://api.github.com/repos/apache/pulsar/issues/251","id":283132639,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEzMjYzOQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:07:16Z","updated_at":"2017-02-28T19:07:16Z","author_association":"CONTRIBUTOR","body":"> If/when the Pulsar fork is merged into Apache Bookkeeper, then full configurations will likely be supported.\r\n\r\nThe effort of merging the fork into main branch of apache bookkeeper is actively ongoing :) \r\n\r\n\r\n> @merlimat & co. would it make sense to pair down bookkeeper.conf to not have traps w.r.t. configurations that do not work with Pulsar Bookkeeper?\r\n\r\nAll the bookkeeper options are actually supported. The issue with the multiple directories is that they are not supported in the `DbLedgerStorage` implementation that comes enabled in the config file shipped with Pulsar.\r\n\r\nThat doesn't prevent one to use the classic `SortedLedgerStorage` that support that feature.\r\n\r\nSo, for @krumo my suggestions could be to either:\r\n 1. Use LVM / software-raid / hardware-raid to provide a single disk view for the ledger storage volume\r\n 2. Enable `SortedLedgerStorage` and keep using multiple volumes\r\n     ```\r\n     ledgerStorageClass=org.apache.bookkeeper.bookie.SortedLedgerStorage\r\n    ```\r\n    The main reason for `DbLedgerStorage` is to support a large number of topics per bookie, which might not be the primary concern for every one.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283132639/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283135163","html_url":"https://github.com/apache/pulsar/pull/252#issuecomment-283135163","issue_url":"https://api.github.com/repos/apache/pulsar/issues/252","id":283135163,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEzNTE2Mw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:17:13Z","updated_at":"2017-02-28T19:17:13Z","author_association":"CONTRIBUTOR","body":"> So, in case of broker's cold-restart, all clients may end-up creating lookup-connection to same one broker \r\n\r\nUhm, all the lookup from a _single_ client will end up on the same broker/discovery-service instance,  but there is no reason why lookups from multiple clients should do the same.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283135163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283146647","html_url":"https://github.com/apache/pulsar/pull/188#issuecomment-283146647","issue_url":"https://api.github.com/repos/apache/pulsar/issues/188","id":283146647,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0NjY0Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T20:04:52Z","updated_at":"2017-02-28T20:04:52Z","author_association":"CONTRIBUTOR","body":"@saandrews @rdhabalia Ping","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283146647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283148008","html_url":"https://github.com/apache/pulsar/pull/252#issuecomment-283148008","issue_url":"https://api.github.com/repos/apache/pulsar/issues/252","id":283148008,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0ODAwOA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T20:10:56Z","updated_at":"2017-02-28T20:10:56Z","author_association":"CONTRIBUTOR","body":">but there is no reason why lookups from multiple clients should do the same.\r\n\r\nIn case of cold-restart as soon as first broker comes up all the client tries to do lookup and they will endup creating lookup-connection with one broker. Also, lookup connection is persistent so, it will be used forever for that client so, that one broker will endup serving all the lookup requests. So, does it make sense to not keep lookup-connection persistent and can be closed after fixed time..??","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283148008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283148063","html_url":"https://github.com/apache/pulsar/pull/231#issuecomment-283148063","issue_url":"https://api.github.com/repos/apache/pulsar/issues/231","id":283148063,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0ODA2Mw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T20:11:11Z","updated_at":"2017-02-28T20:11:11Z","author_association":"CONTRIBUTOR","body":"great, now build is failing because S3 is down üòÜ ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283148063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283192562","html_url":"https://github.com/apache/pulsar/pull/216#issuecomment-283192562","issue_url":"https://api.github.com/repos/apache/pulsar/issues/216","id":283192562,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE5MjU2Mg==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T23:15:16Z","updated_at":"2017-02-28T23:15:16Z","author_association":"CONTRIBUTOR","body":"Sorry - was in a hurry to get this out, will plan better next time onwards\n\nOn Mon, Feb 27, 2017 at 9:54 AM, Matteo Merli <notifications@github.com>\nwrote:\n\n> Ok, I was about to get to it ;)\n> On Mon, Feb 27, 2017 at 9:52 AM jai1 <notifications@github.com> wrote:\n>\n> > Merged #216 <https://github.com/yahoo/pulsar/pull/216>.\n> >\n> > ‚Äî\n> > You are receiving this because you were mentioned.\n> > Reply to this email directly, view it on GitHub\n> > <https://github.com/yahoo/pulsar/pull/216#event-978782783>, or mute the\n> > thread\n> > <https://github.com/notifications/unsubscribe-auth/AAD0JFYQ-dU-\n> Mz5EZMqX8kadwm8fhT5bks5rgw1PgaJpZM4MDYHI>\n> > .\n> >\n>\n> ‚Äî\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/yahoo/pulsar/pull/216#issuecomment-282796916>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AIQh_F8HALVIdU1obGNbSU6712P0g9_Bks5rgw3XgaJpZM4MDYHI>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283192562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283231212","html_url":"https://github.com/apache/pulsar/pull/254#issuecomment-283231212","issue_url":"https://api.github.com/repos/apache/pulsar/issues/254","id":283231212,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIzMTIxMg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T03:02:05Z","updated_at":"2017-03-01T03:02:05Z","author_association":"CONTRIBUTOR","body":"@jai1 can you create individual PRs for the unrelated changes?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283231212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283253441","html_url":"https://github.com/apache/pulsar/pull/254#issuecomment-283253441","issue_url":"https://api.github.com/repos/apache/pulsar/issues/254","id":283253441,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI1MzQ0MQ==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T06:05:52Z","updated_at":"2017-03-01T06:05:52Z","author_association":"CONTRIBUTOR","body":"@merlimat - Opened separate PRs #255 #256 #257 #254 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283253441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283464346","html_url":"https://github.com/apache/pulsar/pull/257#issuecomment-283464346","issue_url":"https://api.github.com/repos/apache/pulsar/issues/257","id":283464346,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ2NDM0Ng==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T20:45:28Z","updated_at":"2017-03-01T20:45:28Z","author_association":"CONTRIBUTOR","body":"Added tests - can i get a +1 please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283464346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283486721","html_url":"https://github.com/apache/pulsar/issues/237#issuecomment-283486721","issue_url":"https://api.github.com/repos/apache/pulsar/issues/237","id":283486721,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ4NjcyMQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T22:08:16Z","updated_at":"2017-03-01T22:08:16Z","author_association":"CONTRIBUTOR","body":"Fixed in #253 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283486721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283487820","html_url":"https://github.com/apache/pulsar/pull/252#issuecomment-283487820","issue_url":"https://api.github.com/repos/apache/pulsar/issues/252","id":283487820,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ4NzgyMA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T22:12:21Z","updated_at":"2017-03-01T22:12:21Z","author_association":"CONTRIBUTOR","body":"> In case of cold-restart as soon as first broker comes up all the client tries to do lookup and they will endup creating lookup-connection with one broker. \r\n\r\nGood point.. In that case all the connections would stick to same broker.\r\n\r\nMy only concern is that by closing the connection after X time will make every lookup after a failover to open a new TCP connection (one per client) and re-do authentication, while if we maintain the connection open it would be ready to use. I'm not sure that would be a big deal though.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283487820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283488804","html_url":"https://github.com/apache/pulsar/pull/252#issuecomment-283488804","issue_url":"https://api.github.com/repos/apache/pulsar/issues/252","id":283488804,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ4ODgwNA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T22:15:56Z","updated_at":"2017-03-01T22:15:56Z","author_association":"CONTRIBUTOR","body":"In that case, it would behave similar to our http lookup for the first request. Should be ok I think.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283488804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283489287","html_url":"https://github.com/apache/pulsar/pull/252#issuecomment-283489287","issue_url":"https://api.github.com/repos/apache/pulsar/issues/252","id":283489287,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ4OTI4Nw==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T22:17:49Z","updated_at":"2017-03-01T22:17:49Z","author_association":"CONTRIBUTOR","body":"There are few more scenarios to address: Handling failure in case broker is unable to serve the lookup(similar to http 500) and closing it only if inactive for the configured duration. Will be addressed in a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283489287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283489722","html_url":"https://github.com/apache/pulsar/pull/252#issuecomment-283489722","issue_url":"https://api.github.com/repos/apache/pulsar/issues/252","id":283489722,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ4OTcyMg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T22:19:37Z","updated_at":"2017-03-01T22:19:37Z","author_association":"CONTRIBUTOR","body":"> In that case, it would behave similar to our http lookup for the first request. Should be ok I think.\r\n\r\nTrue, it would kind of be the same. One other option could be to react on the lookups being rejected by the broker (from #181) and close the connection only if errors are received in a certain timeframe.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283489722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283506358","html_url":"https://github.com/apache/pulsar/pull/265#issuecomment-283506358","issue_url":"https://api.github.com/repos/apache/pulsar/issues/265","id":283506358,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzUwNjM1OA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T23:31:14Z","updated_at":"2017-03-01T23:31:14Z","author_association":"CONTRIBUTOR","body":"Could we also set the closing of the HTTP session on the server side? When Jetty catches the exception is maybe possible to force it to use `Connection: close` in the response itself.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283506358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283563022","html_url":"https://github.com/apache/pulsar/issues/268#issuecomment-283563022","issue_url":"https://api.github.com/repos/apache/pulsar/issues/268","id":283563022,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzU2MzAyMg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-02T05:48:47Z","updated_at":"2017-03-02T05:48:47Z","author_association":"CONTRIBUTOR","body":"This looks like a problem in the JNI wrapper of RocksDB.. even if we were using the API in the wrong way it shouldn't blow up the JVM. \r\n\r\nI haven't seen this error locally or on Travis yet. Can you try by updating rocksdbjni dependency to latest version (5.1.2)?\r\n\r\nWe want to upgrade RocksDB anyway to take advantage of some new features introduced lately.\r\n\r\nI think that to fix the new version,  it should be enough to add the new dependency in the `<dependencyManagement>` section of the top level `pom.xml`: \r\n\r\n```xml\r\n<dependency>\r\n    <groupId>org.rocksdb</groupId>\r\n    <artifactId>rocksdbjni</artifactId>\r\n    <version>5.1.2</version>\r\n</dependency>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/283563022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]