[{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759764848","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-759764848","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":759764848,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTc2NDg0OA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T21:59:14Z","updated_at":"2021-01-13T21:59:36Z","author_association":"MEMBER","body":"Later maybe we should look into more detail why remove mutation pass is not working.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759764848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759765145","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-759765145","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":759765145,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTc2NTE0NQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T21:59:52Z","updated_at":"2021-01-13T21:59:52Z","author_association":"MEMBER","body":"Thanks @codeislife99 @t-vi ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759765145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759765797","html_url":"https://github.com/apache/tvm/pull/7273#issuecomment-759765797","issue_url":"https://api.github.com/repos/apache/tvm/issues/7273","id":759765797,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTc2NTc5Nw==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T22:01:14Z","updated_at":"2021-01-13T22:01:48Z","author_association":"CONTRIBUTOR","body":"> hmm, I think I've already added a fix for such cases, here:\r\n> \r\n> https://github.com/apache/tvm/blob/82942fb33fd6e3572897c815af16905c4f75c2a4/python/tvm/tir/ir_builder.py#L205-L206\r\n> \r\n> Do you know why it is not working? cc @mbrookhart\r\n\r\nIs this because this the lines that you suggested are specific to IR Builder, while the failure that I see is for injective schedule? My failures was coming for an injective schedule.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759765797/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759768625","html_url":"https://github.com/apache/tvm/pull/7273#issuecomment-759768625","issue_url":"https://api.github.com/repos/apache/tvm/issues/7273","id":759768625,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTc2ODYyNQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T22:06:01Z","updated_at":"2021-01-13T22:06:01Z","author_association":"CONTRIBUTOR","body":"Yeah, I think this change catches it at a lower level. We might not need the ir_builder change after this.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759768625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759786425","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-759786425","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":759786425,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTc4NjQyNQ==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T22:46:09Z","updated_at":"2021-01-13T22:46:09Z","author_association":"CONTRIBUTOR","body":"FWIW, I don't think the test is really effective in ensuring that it's good.\r\n```python\r\n@torch.jit.script\r\ndef fn(x):\r\n  _ = x.unsqueeze_(2)\r\n  y = x *2\r\n  return y\r\nm,p = tvm.relay.frontend.from_pytorch(fn, [('input', [5, 5])])\r\nm2 = tvm.relay.transform.InferType()(m)\r\nprint(m2['main'].body.checked_type)\r\nprint(fn(torch.randn(5,5)).shape)\r\n```\r\n\r\ngives\r\n```\r\nTensor[(5, 5), float32]\r\ntorch.Size([5, 5, 1])\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759786425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759827446","html_url":"https://github.com/apache/tvm/issues/7277#issuecomment-759827446","issue_url":"https://api.github.com/repos/apache/tvm/issues/7277","id":759827446,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTgyNzQ0Ng==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T23:39:51Z","updated_at":"2021-01-13T23:39:51Z","author_association":"MEMBER","body":"cc @jwfromm @jcf94 @Meteorix ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759827446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759827498","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-759827498","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":759827498,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTgyNzQ5OA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T23:40:02Z","updated_at":"2021-01-13T23:40:02Z","author_association":"MEMBER","body":"created https://github.com/apache/tvm/issues/7277 to track the issue","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759827498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759845518","html_url":"https://github.com/apache/tvm/pull/7210#issuecomment-759845518","issue_url":"https://api.github.com/repos/apache/tvm/issues/7210","id":759845518,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTg0NTUxOA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T00:32:32Z","updated_at":"2021-01-14T00:32:32Z","author_association":"MEMBER","body":"cc @icemelon9 @zhiics Any thought on this issue? I think this is important to discuss.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759845518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759864070","html_url":"https://github.com/apache/tvm/pull/7269#issuecomment-759864070","issue_url":"https://api.github.com/repos/apache/tvm/issues/7269","id":759864070,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTg2NDA3MA==","user":{"login":"tmoreau89","id":5974488,"node_id":"MDQ6VXNlcjU5NzQ0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5974488?v=4","gravatar_id":"","url":"https://api.github.com/users/tmoreau89","html_url":"https://github.com/tmoreau89","followers_url":"https://api.github.com/users/tmoreau89/followers","following_url":"https://api.github.com/users/tmoreau89/following{/other_user}","gists_url":"https://api.github.com/users/tmoreau89/gists{/gist_id}","starred_url":"https://api.github.com/users/tmoreau89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmoreau89/subscriptions","organizations_url":"https://api.github.com/users/tmoreau89/orgs","repos_url":"https://api.github.com/users/tmoreau89/repos","events_url":"https://api.github.com/users/tmoreau89/events{/privacy}","received_events_url":"https://api.github.com/users/tmoreau89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T01:27:54Z","updated_at":"2021-01-14T01:27:54Z","author_association":"CONTRIBUTOR","body":"Thanks @gromero @areusch the PR is merged.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759864070/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759876408","html_url":"https://github.com/apache/tvm/pull/7278#issuecomment-759876408","issue_url":"https://api.github.com/repos/apache/tvm/issues/7278","id":759876408,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTg3NjQwOA==","user":{"login":"slyubomirsky","id":5624871,"node_id":"MDQ6VXNlcjU2MjQ4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5624871?v=4","gravatar_id":"","url":"https://api.github.com/users/slyubomirsky","html_url":"https://github.com/slyubomirsky","followers_url":"https://api.github.com/users/slyubomirsky/followers","following_url":"https://api.github.com/users/slyubomirsky/following{/other_user}","gists_url":"https://api.github.com/users/slyubomirsky/gists{/gist_id}","starred_url":"https://api.github.com/users/slyubomirsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slyubomirsky/subscriptions","organizations_url":"https://api.github.com/users/slyubomirsky/orgs","repos_url":"https://api.github.com/users/slyubomirsky/repos","events_url":"https://api.github.com/users/slyubomirsky/events{/privacy}","received_events_url":"https://api.github.com/users/slyubomirsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T02:06:10Z","updated_at":"2021-01-14T02:06:10Z","author_association":"CONTRIBUTOR","body":"I'm experimenting with some BYOC patterns that rely on matching custom annotations on call nodes -- I got a segfault when I passed it an ordinary function call","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759876408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759877208","html_url":"https://github.com/apache/tvm/pull/7278#issuecomment-759877208","issue_url":"https://api.github.com/repos/apache/tvm/issues/7278","id":759877208,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTg3NzIwOA==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T02:08:44Z","updated_at":"2021-01-14T02:08:44Z","author_association":"CONTRIBUTOR","body":"Yep, this needed a null check. Sorry for the segfault, thank you for fixing it!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759877208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759903910","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-759903910","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":759903910,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTkwMzkxMA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T03:36:01Z","updated_at":"2021-01-14T03:36:01Z","author_association":"MEMBER","body":"@codeislife99 can you follow up?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759903910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759957921","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-759957921","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":759957921,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTk1NzkyMQ==","user":{"login":"zhuwenxi","id":4969797,"node_id":"MDQ6VXNlcjQ5Njk3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4969797?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuwenxi","html_url":"https://github.com/zhuwenxi","followers_url":"https://api.github.com/users/zhuwenxi/followers","following_url":"https://api.github.com/users/zhuwenxi/following{/other_user}","gists_url":"https://api.github.com/users/zhuwenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuwenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuwenxi/subscriptions","organizations_url":"https://api.github.com/users/zhuwenxi/orgs","repos_url":"https://api.github.com/users/zhuwenxi/repos","events_url":"https://api.github.com/users/zhuwenxi/events{/privacy}","received_events_url":"https://api.github.com/users/zhuwenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T06:30:34Z","updated_at":"2021-01-14T06:48:41Z","author_association":"CONTRIBUTOR","body":"> Thank you @zhuwenxi! this is indeed an issue that we need to work to resolve. The main problem was the stack used for parallel packed call being raised into outside of the parallel for block during PackedCall lowering.\r\n> \r\n> We will need to think about ways to improve the packed call handling to avoid lifting such allocation to outside of the parallel for block\r\n\r\n@tqchen , thanks for the reply!\r\n\r\nDespite the race condition in a parallel schedule, I think the approach that allocate stack outside of (parallel) loops does have some sort of performance advantages, that it makes a shared stack which can be used by multiple packed func calls thus they don't need to create and allocate their own stacks.\r\n\r\nSo my point is, put stack allocation outside of for-loop is OK, we just need to take special treatments to those packed func in parallel for loops.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759957921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759976432","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-759976432","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":759976432,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTk3NjQzMg==","user":{"login":"zhuwenxi","id":4969797,"node_id":"MDQ6VXNlcjQ5Njk3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4969797?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuwenxi","html_url":"https://github.com/zhuwenxi","followers_url":"https://api.github.com/users/zhuwenxi/followers","following_url":"https://api.github.com/users/zhuwenxi/following{/other_user}","gists_url":"https://api.github.com/users/zhuwenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuwenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuwenxi/subscriptions","organizations_url":"https://api.github.com/users/zhuwenxi/orgs","repos_url":"https://api.github.com/users/zhuwenxi/repos","events_url":"https://api.github.com/users/zhuwenxi/events{/privacy}","received_events_url":"https://api.github.com/users/zhuwenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T07:14:54Z","updated_at":"2021-01-14T09:24:28Z","author_association":"CONTRIBUTOR","body":"> Possible way to resolve the issue:\r\n> \r\n> * Introduce the packed_arg_alloca intrinsic that is only gauranteed to be valid for the specific packed func call\r\n>   \r\n>   * Skip the lifting alloca step, and keep alloca always next to the func call\r\n> * Update LLVM codegen to insert alloca always to the beginning of the current function block\r\n> * Update StackVM and C codegen to support things accordingly\r\n\r\nIf I understand correctly, you wanna introduce a special \"packed_arg_alloca\" tir and make sure all backends implement it? Correct me if I'm wrong :)\r\n\r\nAs I mentioned above, the root cause of this problem is the **tir** lowering for packed func in a parallel for is not thread-safe. So have you considered to fix it on tir level, utilizing existing TVM IRs? Thus no new tir type introduction and corresponding backend codegen implementations are required. \r\n\r\nThis is what I propose to fix the problem: re-allocation the stack next to the packed func call, but only in the parallel for loop.\r\n![image](https://user-images.githubusercontent.com/4969797/104556407-84444e80-567a-11eb-931f-c24677709786.png)\r\n\r\nI've already tried this fix and confirmed this approach does work.\r\n\r\n(I understand the re-allocation is against the SSA constrain, but it can be avoid easily, by making re-allocated stacks have distinct names, such as \"stack_value_1\", \"stack_value_2\") ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/759976432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760248364","html_url":"https://github.com/apache/tvm/issues/7283#issuecomment-760248364","issue_url":"https://api.github.com/repos/apache/tvm/issues/7283","id":760248364,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDI0ODM2NA==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T14:56:03Z","updated_at":"2021-01-14T14:56:03Z","author_association":"CONTRIBUTOR","body":"Hi @peter197321 - it might worth raising this discussion on https://discuss.tvm.apache.org/ rather than as an issue.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760248364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760262372","html_url":"https://github.com/apache/tvm/issues/7283#issuecomment-760262372","issue_url":"https://api.github.com/repos/apache/tvm/issues/7283","id":760262372,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDI2MjM3Mg==","user":{"login":"peter197321","id":46971586,"node_id":"MDQ6VXNlcjQ2OTcxNTg2","avatar_url":"https://avatars.githubusercontent.com/u/46971586?v=4","gravatar_id":"","url":"https://api.github.com/users/peter197321","html_url":"https://github.com/peter197321","followers_url":"https://api.github.com/users/peter197321/followers","following_url":"https://api.github.com/users/peter197321/following{/other_user}","gists_url":"https://api.github.com/users/peter197321/gists{/gist_id}","starred_url":"https://api.github.com/users/peter197321/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter197321/subscriptions","organizations_url":"https://api.github.com/users/peter197321/orgs","repos_url":"https://api.github.com/users/peter197321/repos","events_url":"https://api.github.com/users/peter197321/events{/privacy}","received_events_url":"https://api.github.com/users/peter197321/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T15:17:30Z","updated_at":"2021-01-14T15:17:30Z","author_association":"NONE","body":"OK @leandron I will push it there :)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760262372/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760285952","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-760285952","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":760285952,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDI4NTk1Mg==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T15:54:07Z","updated_at":"2021-01-14T15:54:07Z","author_association":"MEMBER","body":"Thanks @zhuwenxi. I still think the original proposal is better. Especially in the case of (rare) nested parallel loops(parallel inside parallel). Notably performance-wise we are allocating the stack at the beginning of the current function(rather than the calling site), so it comes from the thread-local stack. I don't think there will be a performance issue.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760285952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760296703","html_url":"https://github.com/apache/tvm/pull/7148#issuecomment-760296703","issue_url":"https://api.github.com/repos/apache/tvm/issues/7148","id":760296703,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDI5NjcwMw==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T16:11:06Z","updated_at":"2021-01-14T16:11:06Z","author_association":"CONTRIBUTOR","body":"> So I just hit the bug that this fixes. Can we add a test to make sure we don't hit it again in the future. Here is the test I wrote:\r\n> \r\n> ```python\r\n> @tvm.testing.requires_cuda\r\n> def test_sparse_dense_padded_alter_op():\r\n>     with tvm.target.Target(\"cuda\"):\r\n>         M = 128\r\n>         N = 16\r\n>         K = 128\r\n>         X_np = np.random.randn(M, K).astype(\"float32\")\r\n>         W_sp_np = random_bsr_matrix(N, K, 2, 2, density=0.01, dtype=\"float32\")\r\n>         x = relay.var(\"x\", relay.TensorType(X_np.shape,\"float32\"))\r\n>         mult = relay.op.nn.sparse_dense(\r\n>             x,\r\n>             (\r\n>                 relay.Constant(tvm.nd.array(W_sp_np.data)),\r\n>                 relay.Constant(tvm.nd.array(W_sp_np.indices)),\r\n>                 relay.Constant(tvm.nd.array(W_sp_np.indptr)),\r\n>             ),\r\n>         )\r\n>         f = relay.Function([x], mult)\r\n>         f_ = relay.transform.InferType()(tvm.IRModule.from_expr(f))\r\n>         f_ = relay.transform.AlterOpLayout()(f_)\r\n>         assert f_[\"main\"].body.op.name == \"nn.internal.sparse_dense_padded\"\r\n> \r\n>         # build with cuda and AlterOpLayout to ensure that sparse_dense_padded is has an implementation\r\n>         with tvm.transform.PassContext(opt_level=3, required_pass=\"AlterOpLayout\"):\r\n>             x = relay.build(tvm.IRModule.from_expr(f), target=tvm.target.Target(\"cuda\"))\r\n> ```\r\n> \r\n> in `tests/python/topi/python/test_topi_sparse.py`\r\n\r\nThanks @tkonolige ! The test case is added now.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760296703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760308654","html_url":"https://github.com/apache/tvm/pull/7278#issuecomment-760308654","issue_url":"https://api.github.com/repos/apache/tvm/issues/7278","id":760308654,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDMwODY1NA==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T16:30:04Z","updated_at":"2021-01-14T16:30:04Z","author_association":"CONTRIBUTOR","body":"Thanks @slyubomirsky!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760308654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760363786","html_url":"https://github.com/apache/tvm/pull/7276#issuecomment-760363786","issue_url":"https://api.github.com/repos/apache/tvm/issues/7276","id":760363786,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDM2Mzc4Ng==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T18:00:52Z","updated_at":"2021-01-14T18:00:52Z","author_association":"CONTRIBUTOR","body":"@tom-gall @tmoreau89 @tqchen ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760363786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760363930","html_url":"https://github.com/apache/tvm/pull/7274#issuecomment-760363930","issue_url":"https://api.github.com/repos/apache/tvm/issues/7274","id":760363930,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDM2MzkzMA==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T18:01:08Z","updated_at":"2021-01-14T18:01:08Z","author_association":"CONTRIBUTOR","body":"@tqchen @junrushao1994 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760363930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760385498","html_url":"https://github.com/apache/tvm/pull/7276#issuecomment-760385498","issue_url":"https://api.github.com/repos/apache/tvm/issues/7276","id":760385498,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDM4NTQ5OA==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T18:27:19Z","updated_at":"2021-01-14T18:27:19Z","author_association":"CONTRIBUTOR","body":"@gromero ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760385498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760398709","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-760398709","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":760398709,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDM5ODcwOQ==","user":{"login":"codeislife99","id":17168743,"node_id":"MDQ6VXNlcjE3MTY4NzQz","avatar_url":"https://avatars.githubusercontent.com/u/17168743?v=4","gravatar_id":"","url":"https://api.github.com/users/codeislife99","html_url":"https://github.com/codeislife99","followers_url":"https://api.github.com/users/codeislife99/followers","following_url":"https://api.github.com/users/codeislife99/following{/other_user}","gists_url":"https://api.github.com/users/codeislife99/gists{/gist_id}","starred_url":"https://api.github.com/users/codeislife99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeislife99/subscriptions","organizations_url":"https://api.github.com/users/codeislife99/orgs","repos_url":"https://api.github.com/users/codeislife99/repos","events_url":"https://api.github.com/users/codeislife99/events{/privacy}","received_events_url":"https://api.github.com/users/codeislife99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T18:52:00Z","updated_at":"2021-01-14T18:52:00Z","author_association":"CONTRIBUTOR","body":"@t-vi WHen I try to use your example as a test-case , it works.  I am trying to understand what the underlying problem is ... ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760398709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760441831","html_url":"https://github.com/apache/tvm/pull/7254#issuecomment-760441831","issue_url":"https://api.github.com/repos/apache/tvm/issues/7254","id":760441831,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDQ0MTgzMQ==","user":{"login":"gromero","id":3375505,"node_id":"MDQ6VXNlcjMzNzU1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3375505?v=4","gravatar_id":"","url":"https://api.github.com/users/gromero","html_url":"https://github.com/gromero","followers_url":"https://api.github.com/users/gromero/followers","following_url":"https://api.github.com/users/gromero/following{/other_user}","gists_url":"https://api.github.com/users/gromero/gists{/gist_id}","starred_url":"https://api.github.com/users/gromero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gromero/subscriptions","organizations_url":"https://api.github.com/users/gromero/orgs","repos_url":"https://api.github.com/users/gromero/repos","events_url":"https://api.github.com/users/gromero/events{/privacy}","received_events_url":"https://api.github.com/users/gromero/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T19:58:21Z","updated_at":"2021-01-14T19:58:58Z","author_association":"CONTRIBUTOR","body":"@areusch hrm same error again? \r\n\r\noh nm, it's still building : ) ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760441831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760480648","html_url":"https://github.com/apache/tvm/pull/7282#issuecomment-760480648","issue_url":"https://api.github.com/repos/apache/tvm/issues/7282","id":760480648,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDQ4MDY0OA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T21:15:16Z","updated_at":"2021-01-14T21:15:16Z","author_association":"MEMBER","body":"Thanks @mbrookhart @comaniac ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760480648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760483589","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-760483589","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":760483589,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDQ4MzU4OQ==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T21:20:40Z","updated_at":"2021-01-14T21:20:40Z","author_association":"CONTRIBUTOR","body":"I don't know what the test case does, but I'm relatively sure it doesn't handle the update of the input by running the above example and getting a wrong shape in TVM. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760483589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760568557","html_url":"https://github.com/apache/tvm/pull/7287#issuecomment-760568557","issue_url":"https://api.github.com/repos/apache/tvm/issues/7287","id":760568557,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDU2ODU1Nw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T00:42:09Z","updated_at":"2021-01-15T00:45:00Z","author_association":"MEMBER","body":"Thanks @tkonolige. One thing to note that assert may not be available in every platform, better to put down a comment. Might be useful to have it as a separate testing function.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760568557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760603648","html_url":"https://github.com/apache/tvm/pull/7148#issuecomment-760603648","issue_url":"https://api.github.com/repos/apache/tvm/issues/7148","id":760603648,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDYwMzY0OA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T02:29:45Z","updated_at":"2021-01-15T02:29:45Z","author_association":"CONTRIBUTOR","body":"Thanks @ANSHUMAN87 @tkonolige ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760603648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760623570","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-760623570","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":760623570,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDYyMzU3MA==","user":{"login":"zhuwenxi","id":4969797,"node_id":"MDQ6VXNlcjQ5Njk3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4969797?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuwenxi","html_url":"https://github.com/zhuwenxi","followers_url":"https://api.github.com/users/zhuwenxi/followers","following_url":"https://api.github.com/users/zhuwenxi/following{/other_user}","gists_url":"https://api.github.com/users/zhuwenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuwenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuwenxi/subscriptions","organizations_url":"https://api.github.com/users/zhuwenxi/orgs","repos_url":"https://api.github.com/users/zhuwenxi/repos","events_url":"https://api.github.com/users/zhuwenxi/events{/privacy}","received_events_url":"https://api.github.com/users/zhuwenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T03:35:52Z","updated_at":"2021-01-15T03:39:43Z","author_association":"CONTRIBUTOR","body":"@tqchen \r\nJust curious, as far as I know nested parallel loops are not allowed in CPU backend: https://github.com/apache/tvm/blob/main/src/target/llvm/codegen_cpu.cc#L994, so I suppose you mean other backends such GPU?\r\n\r\nThread-local stack does make sense. Is it true that the `packed_arg_alloca` tir will only be generated, when current function is in a \"parallel\" for loop? \r\n\r\nIf so, there will be no performance issue. Otherwise, there could be a performance degradation in a pure single-thread schedule (no \"parallel()\" at all), because there will be multiple thread-local stacks, while they could have shared a single global stack in the first place.    ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760623570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760625791","html_url":"https://github.com/apache/tvm/pull/7266#issuecomment-760625791","issue_url":"https://api.github.com/repos/apache/tvm/issues/7266","id":760625791,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDYyNTc5MQ==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T03:43:52Z","updated_at":"2021-01-15T03:43:52Z","author_association":"CONTRIBUTOR","body":"@liangfu @tqchen @tmoreau89 @gromero @tom-gall @u99127 @leandron @manupa-arm ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760625791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760798261","html_url":"https://github.com/apache/tvm/pull/6950#issuecomment-760798261","issue_url":"https://api.github.com/repos/apache/tvm/issues/6950","id":760798261,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDc5ODI2MQ==","user":{"login":"manupak","id":61496855,"node_id":"MDQ6VXNlcjYxNDk2ODU1","avatar_url":"https://avatars.githubusercontent.com/u/61496855?v=4","gravatar_id":"","url":"https://api.github.com/users/manupak","html_url":"https://github.com/manupak","followers_url":"https://api.github.com/users/manupak/followers","following_url":"https://api.github.com/users/manupak/following{/other_user}","gists_url":"https://api.github.com/users/manupak/gists{/gist_id}","starred_url":"https://api.github.com/users/manupak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manupak/subscriptions","organizations_url":"https://api.github.com/users/manupak/orgs","repos_url":"https://api.github.com/users/manupak/repos","events_url":"https://api.github.com/users/manupak/events{/privacy}","received_events_url":"https://api.github.com/users/manupak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T10:05:32Z","updated_at":"2021-01-15T10:05:32Z","author_association":"CONTRIBUTOR","body":"Hi @areusch @zhiics ,\r\n\r\nI've addressed all the minor comments.\r\n\r\nThe current limitation of making this generator a pure C code generator is that is carries a Array\\<NDArray\\> for constants that will be copied in, if required by the compilation pipeline. I feel changing this is a bigger work and its only there to test the external codegen/runtime pathway (especially the JSONRuntime) handles the constant copying. Therefore, given that we  have Array\\<NDArray\\>, I might as well use the macro. However, I clearly commented and made it obvious that bit of the code is C++ (using ifdef __cplusplus as @areusch suggested.) \r\n\r\nTherefore, in the absense of the constant copying, this will generate a pure C code -- If you see I have removed macro usage for the main compute function (its just the constant copying one uses it).\r\n\r\nLet me know your thoughts and what more could be done about it, if any.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760798261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760961517","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-760961517","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":760961517,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDk2MTUxNw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T14:06:58Z","updated_at":"2021-01-15T14:06:58Z","author_association":"MEMBER","body":"It will be generated in singele threaded as well. In that case the space will be allocated in the begining of the function, and i believe LLVM optimization should be able to collapse them via liveness analysis","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/760961517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761043520","html_url":"https://github.com/apache/tvm/issues/7277#issuecomment-761043520","issue_url":"https://api.github.com/repos/apache/tvm/issues/7277","id":761043520,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTA0MzUyMA==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T16:29:12Z","updated_at":"2021-01-15T16:30:34Z","author_association":"CONTRIBUTOR","body":"(Posting here as I think it is related)\r\n\r\nWhen running TVM tests on a CPU only machine, I'm getting an error when running `/test_topi_batch_matmul_tensorcore.py:test_batch_matmul`:\r\nhttps://github.com/apache/tvm/blob/89e3688137b9d8dd0e431cbdadb84d42dae9eee3/tests/python/topi/python/test_topi_batch_matmul_tensorcore.py#L66-L71\r\n\r\n\r\nThe error I see is:\r\n> Check failed: allow_missing == false: Device API gpu is not enabled.\r\n\r\nAs you can see, the test is marked as `uses_gpu`.\r\n\r\nI wonder whether we should move it to either `requires_gpu` or even `requires_tensorcore`? (happy to send a PR, in either case)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761043520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761053826","html_url":"https://github.com/apache/tvm/pull/6998#issuecomment-761053826","issue_url":"https://api.github.com/repos/apache/tvm/issues/6998","id":761053826,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTA1MzgyNg==","user":{"login":"d-smirnov","id":25180015,"node_id":"MDQ6VXNlcjI1MTgwMDE1","avatar_url":"https://avatars.githubusercontent.com/u/25180015?v=4","gravatar_id":"","url":"https://api.github.com/users/d-smirnov","html_url":"https://github.com/d-smirnov","followers_url":"https://api.github.com/users/d-smirnov/followers","following_url":"https://api.github.com/users/d-smirnov/following{/other_user}","gists_url":"https://api.github.com/users/d-smirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/d-smirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-smirnov/subscriptions","organizations_url":"https://api.github.com/users/d-smirnov/orgs","repos_url":"https://api.github.com/users/d-smirnov/repos","events_url":"https://api.github.com/users/d-smirnov/events{/privacy}","received_events_url":"https://api.github.com/users/d-smirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T16:47:51Z","updated_at":"2021-01-15T16:47:51Z","author_association":"CONTRIBUTOR","body":"How can we make a progress here?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761053826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761075052","html_url":"https://github.com/apache/tvm/pull/7291#issuecomment-761075052","issue_url":"https://api.github.com/repos/apache/tvm/issues/7291","id":761075052,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTA3NTA1Mg==","user":{"login":"mdw-octoml","id":63477620,"node_id":"MDQ6VXNlcjYzNDc3NjIw","avatar_url":"https://avatars.githubusercontent.com/u/63477620?v=4","gravatar_id":"","url":"https://api.github.com/users/mdw-octoml","html_url":"https://github.com/mdw-octoml","followers_url":"https://api.github.com/users/mdw-octoml/followers","following_url":"https://api.github.com/users/mdw-octoml/following{/other_user}","gists_url":"https://api.github.com/users/mdw-octoml/gists{/gist_id}","starred_url":"https://api.github.com/users/mdw-octoml/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdw-octoml/subscriptions","organizations_url":"https://api.github.com/users/mdw-octoml/orgs","repos_url":"https://api.github.com/users/mdw-octoml/repos","events_url":"https://api.github.com/users/mdw-octoml/events{/privacy}","received_events_url":"https://api.github.com/users/mdw-octoml/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T17:26:36Z","updated_at":"2021-01-15T17:26:36Z","author_association":"CONTRIBUTOR","body":"@areusch Quick PR for you.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761075052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761081715","html_url":"https://github.com/apache/tvm/pull/7254#issuecomment-761081715","issue_url":"https://api.github.com/repos/apache/tvm/issues/7254","id":761081715,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTA4MTcxNQ==","user":{"login":"gromero","id":3375505,"node_id":"MDQ6VXNlcjMzNzU1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3375505?v=4","gravatar_id":"","url":"https://api.github.com/users/gromero","html_url":"https://github.com/gromero","followers_url":"https://api.github.com/users/gromero/followers","following_url":"https://api.github.com/users/gromero/following{/other_user}","gists_url":"https://api.github.com/users/gromero/gists{/gist_id}","starred_url":"https://api.github.com/users/gromero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gromero/subscriptions","organizations_url":"https://api.github.com/users/gromero/orgs","repos_url":"https://api.github.com/users/gromero/repos","events_url":"https://api.github.com/users/gromero/events{/privacy}","received_events_url":"https://api.github.com/users/gromero/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T17:39:42Z","updated_at":"2021-01-15T17:39:42Z","author_association":"CONTRIBUTOR","body":"@areusch you're right, it was just a matter of re-triggering the build. Tests seem ok now :)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761081715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761083068","html_url":"https://github.com/apache/tvm/pull/7284#issuecomment-761083068","issue_url":"https://api.github.com/repos/apache/tvm/issues/7284","id":761083068,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTA4MzA2OA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T17:42:20Z","updated_at":"2021-01-15T17:42:20Z","author_association":"CONTRIBUTOR","body":"@anijain2305 please fix the CI error that seems failed at an OD model.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761083068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761090330","html_url":"https://github.com/apache/tvm/pull/7289#issuecomment-761090330","issue_url":"https://api.github.com/repos/apache/tvm/issues/7289","id":761090330,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTA5MDMzMA==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T17:56:24Z","updated_at":"2021-01-15T17:56:24Z","author_association":"CONTRIBUTOR","body":"thanks for the reviews so far everyone! one quick note:\r\n\r\nthe actual list of dependencies (and their version constraints) are still WIP. so definitely feel free to comment on things that are missing, but I know the list is wrong and I plan to fix the list and add tests if everyone's good w/ the approach.\r\n\r\ni'll leave this open to collect reviews over the weekend and on Monday (holiday for me) and then i'll work to merge this mid-next-week if we are good w/ it.\r\n\r\n@comaniac @tkonolige @leandron ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761090330/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761094488","html_url":"https://github.com/apache/tvm/pull/7254#issuecomment-761094488","issue_url":"https://api.github.com/repos/apache/tvm/issues/7254","id":761094488,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTA5NDQ4OA==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T18:02:07Z","updated_at":"2021-01-15T18:02:07Z","author_association":"CONTRIBUTOR","body":"this will get updated on docs.tvm.ai when we regenerate the site, will probably happen later on today or tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761094488/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761108796","html_url":"https://github.com/apache/tvm/issues/7277#issuecomment-761108796","issue_url":"https://api.github.com/repos/apache/tvm/issues/7277","id":761108796,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTEwODc5Ng==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T18:28:49Z","updated_at":"2021-01-15T18:28:49Z","author_association":"MEMBER","body":"I think `requires_tensorcore` is the right macro cc @tkonolige ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761108796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761112339","html_url":"https://github.com/apache/tvm/issues/7277#issuecomment-761112339","issue_url":"https://api.github.com/repos/apache/tvm/issues/7277","id":761112339,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTExMjMzOQ==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T18:35:52Z","updated_at":"2021-01-15T18:35:52Z","author_association":"CONTRIBUTOR","body":"Yes, it should be `requires_tensorcore`.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761112339/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761121252","html_url":"https://github.com/apache/tvm/pull/7266#issuecomment-761121252","issue_url":"https://api.github.com/repos/apache/tvm/issues/7266","id":761121252,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTEyMTI1Mg==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T18:53:55Z","updated_at":"2021-01-15T18:53:55Z","author_association":"CONTRIBUTOR","body":"@liangfu thanks for the review, please take another look when you have a minute","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761121252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761173735","html_url":"https://github.com/apache/tvm/pull/7210#issuecomment-761173735","issue_url":"https://api.github.com/repos/apache/tvm/issues/7210","id":761173735,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTE3MzczNQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T20:12:22Z","updated_at":"2021-01-15T20:12:22Z","author_association":"MEMBER","body":"@icemelon9 it should be ready","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761173735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761175149","html_url":"https://github.com/apache/tvm/pull/7235#issuecomment-761175149","issue_url":"https://api.github.com/repos/apache/tvm/issues/7235","id":761175149,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTE3NTE0OQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T20:15:29Z","updated_at":"2021-01-15T20:15:29Z","author_association":"MEMBER","body":"Unfortunately these scripts are being used in the CI and CI needs `origin/main`. Let us just encourage developers to use \r\n\r\n```bash\r\n./tests/lint/git-clang-format.sh -i upstream/main\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761175149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761204133","html_url":"https://github.com/apache/tvm/pull/7210#issuecomment-761204133","issue_url":"https://api.github.com/repos/apache/tvm/issues/7210","id":761204133,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTIwNDEzMw==","user":{"login":"icemelon","id":2696494,"node_id":"MDQ6VXNlcjI2OTY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2696494?v=4","gravatar_id":"","url":"https://api.github.com/users/icemelon","html_url":"https://github.com/icemelon","followers_url":"https://api.github.com/users/icemelon/followers","following_url":"https://api.github.com/users/icemelon/following{/other_user}","gists_url":"https://api.github.com/users/icemelon/gists{/gist_id}","starred_url":"https://api.github.com/users/icemelon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icemelon/subscriptions","organizations_url":"https://api.github.com/users/icemelon/orgs","repos_url":"https://api.github.com/users/icemelon/repos","events_url":"https://api.github.com/users/icemelon/events{/privacy}","received_events_url":"https://api.github.com/users/icemelon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T21:22:46Z","updated_at":"2021-01-15T21:22:46Z","author_association":"MEMBER","body":"Thanks @masahi @zhiics @mbrookhart ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761204133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761217256","html_url":"https://github.com/apache/tvm/pull/7295#issuecomment-761217256","issue_url":"https://api.github.com/repos/apache/tvm/issues/7295","id":761217256,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTIxNzI1Ng==","user":{"login":"altanh","id":3124994,"node_id":"MDQ6VXNlcjMxMjQ5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3124994?v=4","gravatar_id":"","url":"https://api.github.com/users/altanh","html_url":"https://github.com/altanh","followers_url":"https://api.github.com/users/altanh/followers","following_url":"https://api.github.com/users/altanh/following{/other_user}","gists_url":"https://api.github.com/users/altanh/gists{/gist_id}","starred_url":"https://api.github.com/users/altanh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/altanh/subscriptions","organizations_url":"https://api.github.com/users/altanh/orgs","repos_url":"https://api.github.com/users/altanh/repos","events_url":"https://api.github.com/users/altanh/events{/privacy}","received_events_url":"https://api.github.com/users/altanh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T21:50:54Z","updated_at":"2021-01-15T21:50:54Z","author_association":"CONTRIBUTOR","body":"not the fault of this PR, but I've noticed some confusing and inconsistent usage of `src` and `dst` in different `Unify` functions (along with non-matching implementation argument names). There might even be a slight bug where the order is exchanged in `TypeSolver` vs `TypeSolver::Unifier`, not sure if this affects correctness.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761217256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761220335","html_url":"https://github.com/apache/tvm/pull/7295#issuecomment-761220335","issue_url":"https://api.github.com/repos/apache/tvm/issues/7295","id":761220335,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTIyMDMzNQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T21:58:31Z","updated_at":"2021-01-15T21:58:31Z","author_association":"CONTRIBUTOR","body":"Yeah, it's a little weird. I'd like to run through CI just in case I introduced a bug somewhere, but once that's complete I can take a look at unifying the different versions of Unify.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761220335/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761226359","html_url":"https://github.com/apache/tvm/pull/7293#issuecomment-761226359","issue_url":"https://api.github.com/repos/apache/tvm/issues/7293","id":761226359,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTIyNjM1OQ==","user":{"login":"d-smirnov","id":25180015,"node_id":"MDQ6VXNlcjI1MTgwMDE1","avatar_url":"https://avatars.githubusercontent.com/u/25180015?v=4","gravatar_id":"","url":"https://api.github.com/users/d-smirnov","html_url":"https://github.com/d-smirnov","followers_url":"https://api.github.com/users/d-smirnov/followers","following_url":"https://api.github.com/users/d-smirnov/following{/other_user}","gists_url":"https://api.github.com/users/d-smirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/d-smirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-smirnov/subscriptions","organizations_url":"https://api.github.com/users/d-smirnov/orgs","repos_url":"https://api.github.com/users/d-smirnov/repos","events_url":"https://api.github.com/users/d-smirnov/events{/privacy}","received_events_url":"https://api.github.com/users/d-smirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T22:15:27Z","updated_at":"2021-01-15T22:15:27Z","author_association":"CONTRIBUTOR","body":"cc @anijain2305","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761226359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761258851","html_url":"https://github.com/apache/tvm/pull/6950#issuecomment-761258851","issue_url":"https://api.github.com/repos/apache/tvm/issues/6950","id":761258851,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTI1ODg1MQ==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T23:47:41Z","updated_at":"2021-01-15T23:47:41Z","author_association":"MEMBER","body":"Thanks @manupa-arm @areusch ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761258851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761271750","html_url":"https://github.com/apache/tvm/pull/7296#issuecomment-761271750","issue_url":"https://api.github.com/repos/apache/tvm/issues/7296","id":761271750,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTI3MTc1MA==","user":{"login":"mdw-octoml","id":63477620,"node_id":"MDQ6VXNlcjYzNDc3NjIw","avatar_url":"https://avatars.githubusercontent.com/u/63477620?v=4","gravatar_id":"","url":"https://api.github.com/users/mdw-octoml","html_url":"https://github.com/mdw-octoml","followers_url":"https://api.github.com/users/mdw-octoml/followers","following_url":"https://api.github.com/users/mdw-octoml/following{/other_user}","gists_url":"https://api.github.com/users/mdw-octoml/gists{/gist_id}","starred_url":"https://api.github.com/users/mdw-octoml/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdw-octoml/subscriptions","organizations_url":"https://api.github.com/users/mdw-octoml/orgs","repos_url":"https://api.github.com/users/mdw-octoml/repos","events_url":"https://api.github.com/users/mdw-octoml/events{/privacy}","received_events_url":"https://api.github.com/users/mdw-octoml/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T00:24:44Z","updated_at":"2021-01-16T00:24:44Z","author_association":"CONTRIBUTOR","body":"@areusch @tmoreau89 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761271750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761274179","html_url":"https://github.com/apache/tvm/pull/7296#issuecomment-761274179","issue_url":"https://api.github.com/repos/apache/tvm/issues/7296","id":761274179,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTI3NDE3OQ==","user":{"login":"mdw-octoml","id":63477620,"node_id":"MDQ6VXNlcjYzNDc3NjIw","avatar_url":"https://avatars.githubusercontent.com/u/63477620?v=4","gravatar_id":"","url":"https://api.github.com/users/mdw-octoml","html_url":"https://github.com/mdw-octoml","followers_url":"https://api.github.com/users/mdw-octoml/followers","following_url":"https://api.github.com/users/mdw-octoml/following{/other_user}","gists_url":"https://api.github.com/users/mdw-octoml/gists{/gist_id}","starred_url":"https://api.github.com/users/mdw-octoml/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdw-octoml/subscriptions","organizations_url":"https://api.github.com/users/mdw-octoml/orgs","repos_url":"https://api.github.com/users/mdw-octoml/repos","events_url":"https://api.github.com/users/mdw-octoml/events{/privacy}","received_events_url":"https://api.github.com/users/mdw-octoml/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T00:35:46Z","updated_at":"2021-01-16T00:35:46Z","author_association":"CONTRIBUTOR","body":"> Thank you @mdw-octoml for improving TVM tutorials!\r\n> \r\n> Is the change in permissions of the ubuntu_install_qemu.sh file intentional?\r\n\r\nYes because it is a script that needs to be run.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761274179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761277427","html_url":"https://github.com/apache/tvm/pull/6998#issuecomment-761277427","issue_url":"https://api.github.com/repos/apache/tvm/issues/6998","id":761277427,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTI3NzQyNw==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T00:50:43Z","updated_at":"2021-01-16T00:50:43Z","author_association":"MEMBER","body":"@d-smirnov I will review it today, thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761277427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761531206","html_url":"https://github.com/apache/tvm/pull/6998#issuecomment-761531206","issue_url":"https://api.github.com/repos/apache/tvm/issues/6998","id":761531206,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTUzMTIwNg==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T09:05:59Z","updated_at":"2021-01-16T09:05:59Z","author_association":"MEMBER","body":"please fix ci problem","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761531206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761546956","html_url":"https://github.com/apache/tvm/pull/7294#issuecomment-761546956","issue_url":"https://api.github.com/repos/apache/tvm/issues/7294","id":761546956,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTU0Njk1Ng==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T11:19:50Z","updated_at":"2021-01-16T11:19:50Z","author_association":"CONTRIBUTOR","body":"@tqchen can we merge this, when possible?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761546956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761575454","html_url":"https://github.com/apache/tvm/pull/7294#issuecomment-761575454","issue_url":"https://api.github.com/repos/apache/tvm/issues/7294","id":761575454,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTU3NTQ1NA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T14:48:17Z","updated_at":"2021-01-16T14:48:17Z","author_association":"MEMBER","body":"Thanks @tkonolige @leandron !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761575454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761605334","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-761605334","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":761605334,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTYwNTMzNA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T17:51:21Z","updated_at":"2021-01-16T17:51:21Z","author_association":"MEMBER","body":"Thanks @ZihengJiang @tkonolige @junrushao1994 @jroesch @areusch ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761605334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761705160","html_url":"https://github.com/apache/tvm/pull/7300#issuecomment-761705160","issue_url":"https://api.github.com/repos/apache/tvm/issues/7300","id":761705160,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTcwNTE2MA==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-17T00:35:44Z","updated_at":"2021-01-17T00:35:44Z","author_association":"CONTRIBUTOR","body":"@masahi @mbrookhart can you guys let me know what you think of this PR?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761705160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761728734","html_url":"https://github.com/apache/tvm/pull/7059#issuecomment-761728734","issue_url":"https://api.github.com/repos/apache/tvm/issues/7059","id":761728734,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTcyODczNA==","user":{"login":"codgeek","id":20918280,"node_id":"MDQ6VXNlcjIwOTE4Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/20918280?v=4","gravatar_id":"","url":"https://api.github.com/users/codgeek","html_url":"https://github.com/codgeek","followers_url":"https://api.github.com/users/codgeek/followers","following_url":"https://api.github.com/users/codgeek/following{/other_user}","gists_url":"https://api.github.com/users/codgeek/gists{/gist_id}","starred_url":"https://api.github.com/users/codgeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codgeek/subscriptions","organizations_url":"https://api.github.com/users/codgeek/orgs","repos_url":"https://api.github.com/users/codgeek/repos","events_url":"https://api.github.com/users/codgeek/events{/privacy}","received_events_url":"https://api.github.com/users/codgeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-17T04:13:08Z","updated_at":"2021-01-17T04:19:51Z","author_association":"NONE","body":"Thanks for fixing it! I've run into this bug too on [Dec 10 01:26:05 2020 version](https://github.com/apache/tvm/tree/ffb6029de15c468a4a1024a86ca1daa4ad18bb51) code. \r\n\r\nAfter this fix, I am using the [newest version code of 'Fri Jan 15 07:59:28 2021'](https://github.com/apache/tvm/tree/c9474639dd3761b78a457ab274603d87a3dcf9b8), there is another error when running `python vta/tutorials/frontend/legacy/deploy_detection.py` on pynq Z1 board.  on pynq Z1 board. actually this error occurs on`graph_pack()` stage, still on host, not on Z1. \r\n```\r\nFile \"vta/tutorials/frontend/legacy/deploy_detection.py\", line 243, in <module>\r\n    stop_name_idx=pack_dictMODEL_NAME,\r\n  Check failed: false == false: [00:55:37]  tvm/src/relay/op/tensor/transform.cc:703: \r\n  Check failed: oshape_sum == data_shape_sum (172380 vs. 173056) : Input tensor shape and reshaped shape are not compatible\r\n```\r\n\r\nDid your `deploy_detection.py` run successfully?  @fprotopapa  looking forward to you practice.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761728734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761834331","html_url":"https://github.com/apache/tvm/issues/7301#issuecomment-761834331","issue_url":"https://api.github.com/repos/apache/tvm/issues/7301","id":761834331,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTgzNDMzMQ==","user":{"login":"codgeek","id":20918280,"node_id":"MDQ6VXNlcjIwOTE4Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/20918280?v=4","gravatar_id":"","url":"https://api.github.com/users/codgeek","html_url":"https://github.com/codgeek","followers_url":"https://api.github.com/users/codgeek/followers","following_url":"https://api.github.com/users/codgeek/following{/other_user}","gists_url":"https://api.github.com/users/codgeek/gists{/gist_id}","starred_url":"https://api.github.com/users/codgeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codgeek/subscriptions","organizations_url":"https://api.github.com/users/codgeek/orgs","repos_url":"https://api.github.com/users/codgeek/repos","events_url":"https://api.github.com/users/codgeek/events{/privacy}","received_events_url":"https://api.github.com/users/codgeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-17T15:56:51Z","updated_at":"2021-01-18T08:25:37Z","author_association":"NONE","body":"some new discoveries:\r\nAfter reset to version when yolo-v3-tiny from @huajsj  is merged [09c55fd1f3354d2280bb792a252590ac6bd68e58](https://github.com/apache/tvm/commit/09c55fd1f3354d2280bb792a252590ac6bd68e58).  the detection task works! Inference time on pynq Z1 is reduced to 615.49ms from 4520ms on arm_cpu version.  \r\n\r\n**As an strong infer , some  changes in 'Relay transform or vta packing' might lead to the error on latest version wrote in the bug above.   could any  'good soul' offer some help ?**\r\n\r\n> Cannot find config for target=ext_dev -device=vta -keys=cpu -model=pynq_1x16_i8w8a32_15_15_18_17, workload=('conv2d_nchw_winograd.arm_cpu', A fallback configuration is used, which may bring great performance regression.\r\n> yolov3-tiny inference graph built in 14.41s!\r\n> Performed inference in 615.49ms (std = 0.02) for 1 samples\r\n> Average per sample inference time: 615.49ms\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761834331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761902343","html_url":"https://github.com/apache/tvm/pull/7298#issuecomment-761902343","issue_url":"https://api.github.com/repos/apache/tvm/issues/7298","id":761902343,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkwMjM0Mw==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-17T23:48:13Z","updated_at":"2021-01-17T23:48:13Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761902343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761948446","html_url":"https://github.com/apache/tvm/issues/7302#issuecomment-761948446","issue_url":"https://api.github.com/repos/apache/tvm/issues/7302","id":761948446,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTk0ODQ0Ng==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T03:00:51Z","updated_at":"2021-01-18T03:00:51Z","author_association":"MEMBER","body":"I like the proposal, especially the design philosophy that separates `thread_binding` and other `annotations`, where `thread_binding` are required to be taken care of by each pass, and `annotations` are optional and are safe to ignore in irrelevant passes.\r\n\r\nOne question: what is the implication for the roundtrippable TIR parser? How do we print `thread_binding` in this case?\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761948446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761996624","html_url":"https://github.com/apache/tvm/pull/7260#issuecomment-761996624","issue_url":"https://api.github.com/repos/apache/tvm/issues/7260","id":761996624,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTk5NjYyNA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T05:45:16Z","updated_at":"2021-01-18T05:45:16Z","author_association":"CONTRIBUTOR","body":"I'm still not clear about the registration mechanism with the decorator. I agree with you that using the preload callback should be sufficient for users to specify custom rules, and it seems just a fast path without any additional functions that the preload callback doesn't have. Accordingly, should we just remove the decorator and registry to make the design simple and easy to maintain?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/761996624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762059838","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-762059838","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":762059838,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjA1OTgzOA==","user":{"login":"zhuwenxi","id":4969797,"node_id":"MDQ6VXNlcjQ5Njk3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4969797?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuwenxi","html_url":"https://github.com/zhuwenxi","followers_url":"https://api.github.com/users/zhuwenxi/followers","following_url":"https://api.github.com/users/zhuwenxi/following{/other_user}","gists_url":"https://api.github.com/users/zhuwenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuwenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuwenxi/subscriptions","organizations_url":"https://api.github.com/users/zhuwenxi/orgs","repos_url":"https://api.github.com/users/zhuwenxi/repos","events_url":"https://api.github.com/users/zhuwenxi/events{/privacy}","received_events_url":"https://api.github.com/users/zhuwenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T07:58:35Z","updated_at":"2021-01-18T07:58:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation, @tqchen . May I know when will this bug be fixed? And please let me know if I can help.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762059838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762097337","html_url":"https://github.com/apache/tvm/pull/7260#issuecomment-762097337","issue_url":"https://api.github.com/repos/apache/tvm/issues/7260","id":762097337,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjA5NzMzNw==","user":{"login":"jcf94","id":12119698,"node_id":"MDQ6VXNlcjEyMTE5Njk4","avatar_url":"https://avatars.githubusercontent.com/u/12119698?v=4","gravatar_id":"","url":"https://api.github.com/users/jcf94","html_url":"https://github.com/jcf94","followers_url":"https://api.github.com/users/jcf94/followers","following_url":"https://api.github.com/users/jcf94/following{/other_user}","gists_url":"https://api.github.com/users/jcf94/gists{/gist_id}","starred_url":"https://api.github.com/users/jcf94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcf94/subscriptions","organizations_url":"https://api.github.com/users/jcf94/orgs","repos_url":"https://api.github.com/users/jcf94/repos","events_url":"https://api.github.com/users/jcf94/events{/privacy}","received_events_url":"https://api.github.com/users/jcf94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T09:00:58Z","updated_at":"2021-01-18T09:00:58Z","author_association":"CONTRIBUTOR","body":"> I'm still not clear about the registration mechanism with the decorator. I agree with you that using the preload callback should be sufficient for users to specify custom rules, and it seems just a fast path without any additional functions that the preload callback doesn't have. Accordingly, should we just remove the decorator and registry to make the design simple and easy to maintain?\r\n\r\nI agree, decorator has been removed.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762097337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762162332","html_url":"https://github.com/apache/tvm/pull/7299#issuecomment-762162332","issue_url":"https://api.github.com/repos/apache/tvm/issues/7299","id":762162332,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjE2MjMzMg==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T10:46:21Z","updated_at":"2021-01-18T10:46:21Z","author_association":"MEMBER","body":"Hi @apeskov Thanks for your contribution. Could you add more introduction for Apple BNNS backend in your description? I think this will help others know more about it. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762162332/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762303027","html_url":"https://github.com/apache/tvm/issues/7302#issuecomment-762303027","issue_url":"https://api.github.com/repos/apache/tvm/issues/7302","id":762303027,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjMwMzAyNw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T14:59:37Z","updated_at":"2021-01-18T14:59:37Z","author_association":"MEMBER","body":"Thanks @junrushao1994  We have already some mechanism to print the low level thread binding via attr (printed as launch_thread). When the threadIdx is shared in multiple launch point, the var is printed separately. Otherwise it is printed inline to the code. I believe we could adopt a similar strategy.\r\n\r\nNote that because the initial refactor is only wrt to the data structure, we can defer the parsing syntax decision until the parser support gets in. but would be great to discuss it.\r\n\r\ncc @spectrometerHBH @tkonolige ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762303027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762306580","html_url":"https://github.com/apache/tvm/issues/7302#issuecomment-762306580","issue_url":"https://api.github.com/repos/apache/tvm/issues/7302","id":762306580,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjMwNjU4MA==","user":{"login":"spectrometerHBH","id":32121147,"node_id":"MDQ6VXNlcjMyMTIxMTQ3","avatar_url":"https://avatars.githubusercontent.com/u/32121147?v=4","gravatar_id":"","url":"https://api.github.com/users/spectrometerHBH","html_url":"https://github.com/spectrometerHBH","followers_url":"https://api.github.com/users/spectrometerHBH/followers","following_url":"https://api.github.com/users/spectrometerHBH/following{/other_user}","gists_url":"https://api.github.com/users/spectrometerHBH/gists{/gist_id}","starred_url":"https://api.github.com/users/spectrometerHBH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spectrometerHBH/subscriptions","organizations_url":"https://api.github.com/users/spectrometerHBH/orgs","repos_url":"https://api.github.com/users/spectrometerHBH/repos","events_url":"https://api.github.com/users/spectrometerHBH/events{/privacy}","received_events_url":"https://api.github.com/users/spectrometerHBH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T15:05:48Z","updated_at":"2021-01-18T15:05:48Z","author_association":"CONTRIBUTOR","body":"The problem is that launch_thread was not designed to print those additional hints，since launch_thread was syntax for Attr  now.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762306580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762308405","html_url":"https://github.com/apache/tvm/issues/7302#issuecomment-762308405","issue_url":"https://api.github.com/repos/apache/tvm/issues/7302","id":762308405,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjMwODQwNQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T15:09:07Z","updated_at":"2021-01-18T15:09:07Z","author_association":"MEMBER","body":"I see, I don't think the thread binding can come with additional annotations, which might simplify the problem (if we enforce such check in IR validation). ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762308405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762314809","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-762314809","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":762314809,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjMxNDgwOQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T15:19:53Z","updated_at":"2021-01-18T15:19:53Z","author_association":"MEMBER","body":"Please let me know if you are interested in contributing a patch :) Would be more than happy to shepherd the PR","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762314809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762330423","html_url":"https://github.com/apache/tvm/issues/7302#issuecomment-762330423","issue_url":"https://api.github.com/repos/apache/tvm/issues/7302","id":762330423,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjMzMDQyMw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T15:47:23Z","updated_at":"2021-01-18T15:47:23Z","author_association":"MEMBER","body":"@spectrometerHBH it would be great if you can take a stab to get the first strawman syntax and parser","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762330423/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762359226","html_url":"https://github.com/apache/tvm/pull/7304#issuecomment-762359226","issue_url":"https://api.github.com/repos/apache/tvm/issues/7304","id":762359226,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjM1OTIyNg==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T16:38:44Z","updated_at":"2021-01-18T16:38:44Z","author_association":"CONTRIBUTOR","body":"This is the relates to https://discuss.tvm.apache.org/t/byoc-partitioning-support-on-tvmc/8901, in which we can discuss about the motivations behind this PR.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762359226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762362957","html_url":"https://github.com/apache/tvm/issues/6792#issuecomment-762362957","issue_url":"https://api.github.com/repos/apache/tvm/issues/6792","id":762362957,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjM2Mjk1Nw==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T16:45:58Z","updated_at":"2021-01-18T16:45:58Z","author_association":"CONTRIBUTOR","body":"> @leandron please update the state of the thread accordingly\r\n\r\nThe status is correct as it is displayed. We'll be updating it in the next weeks with new PRs.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762362957/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762460528","html_url":"https://github.com/apache/tvm/pull/7251#issuecomment-762460528","issue_url":"https://api.github.com/repos/apache/tvm/issues/7251","id":762460528,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjQ2MDUyOA==","user":{"login":"d-smirnov","id":25180015,"node_id":"MDQ6VXNlcjI1MTgwMDE1","avatar_url":"https://avatars.githubusercontent.com/u/25180015?v=4","gravatar_id":"","url":"https://api.github.com/users/d-smirnov","html_url":"https://github.com/d-smirnov","followers_url":"https://api.github.com/users/d-smirnov/followers","following_url":"https://api.github.com/users/d-smirnov/following{/other_user}","gists_url":"https://api.github.com/users/d-smirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/d-smirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-smirnov/subscriptions","organizations_url":"https://api.github.com/users/d-smirnov/orgs","repos_url":"https://api.github.com/users/d-smirnov/repos","events_url":"https://api.github.com/users/d-smirnov/events{/privacy}","received_events_url":"https://api.github.com/users/d-smirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T20:37:47Z","updated_at":"2021-01-18T20:37:47Z","author_association":"CONTRIBUTOR","body":"Correct. Tests were restored to initial state (before padding limitations). Now each test always resulted to ACL-partitioned IR so there is no need to have this variations.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762460528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762573994","html_url":"https://github.com/apache/tvm/issues/7246#issuecomment-762573994","issue_url":"https://api.github.com/repos/apache/tvm/issues/7246","id":762573994,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjU3Mzk5NA==","user":{"login":"zhuwenxi","id":4969797,"node_id":"MDQ6VXNlcjQ5Njk3OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4969797?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuwenxi","html_url":"https://github.com/zhuwenxi","followers_url":"https://api.github.com/users/zhuwenxi/followers","following_url":"https://api.github.com/users/zhuwenxi/following{/other_user}","gists_url":"https://api.github.com/users/zhuwenxi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuwenxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuwenxi/subscriptions","organizations_url":"https://api.github.com/users/zhuwenxi/orgs","repos_url":"https://api.github.com/users/zhuwenxi/repos","events_url":"https://api.github.com/users/zhuwenxi/events{/privacy}","received_events_url":"https://api.github.com/users/zhuwenxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T03:12:59Z","updated_at":"2021-01-19T03:16:26Z","author_association":"CONTRIBUTOR","body":"I'm happy to contribute this patch :) I will start from writing a prototype to do POC, and I'll keep you posted.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762573994/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762627151","html_url":"https://github.com/apache/tvm/pull/7260#issuecomment-762627151","issue_url":"https://api.github.com/repos/apache/tvm/issues/7260","id":762627151,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjYyNzE1MQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T06:18:40Z","updated_at":"2021-01-19T06:18:40Z","author_association":"CONTRIBUTOR","body":"Thanks @jcf94 @merrymercy ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762627151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762644052","html_url":"https://github.com/apache/tvm/pull/7306#issuecomment-762644052","issue_url":"https://api.github.com/repos/apache/tvm/issues/7306","id":762644052,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjY0NDA1Mg==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T07:00:49Z","updated_at":"2021-01-19T07:00:49Z","author_association":"MEMBER","body":"Thanks @tqchen @jcf94 @spectrometerHBH! It is merged :-)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762644052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762707056","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-762707056","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":762707056,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjcwNzA1Ng==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T09:11:55Z","updated_at":"2021-01-19T09:11:55Z","author_association":"MEMBER","body":"@tkonolige @mbrookhart I separated the two scatter implementations, things should look clean now. The sequential one is chosen by default, and I confirmed that by tuning the scatter op the parallel one can be chosen. \r\n\r\nTuning the scatter op revealed an interesting issue in AutoTVM, discussed in https://discuss.tvm.apache.org/t/autotvm-cuda-runtime-error-when-tuning-extern-ops/8832/7. Thanks @FrozenGene for help.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762707056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762863140","html_url":"https://github.com/apache/tvm/issues/7302#issuecomment-762863140","issue_url":"https://api.github.com/repos/apache/tvm/issues/7302","id":762863140,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjg2MzE0MA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T14:10:21Z","updated_at":"2021-01-19T14:10:21Z","author_association":"MEMBER","body":"https://github.com/apache/tvm/pull/7306","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762863140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762871262","html_url":"https://github.com/apache/tvm/pull/7108#issuecomment-762871262","issue_url":"https://api.github.com/repos/apache/tvm/issues/7108","id":762871262,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjg3MTI2Mg==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T14:23:08Z","updated_at":"2021-01-19T14:23:08Z","author_association":"MEMBER","body":"closing in favor of the alternative capturing approach","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762871262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762969945","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-762969945","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":762969945,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjk2OTk0NQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T16:45:15Z","updated_at":"2021-01-19T16:45:15Z","author_association":"CONTRIBUTOR","body":"Scan is probably the most hand-optimized kernel in thrust, I'm thrilled to be within 10x for a cross-GPU kernel. Overall I'm happy with this, but I have 2 thoughts.\r\n\r\n1. Should we add the TIR inclusive scan back in? I have that on a branch from my first implementation of get_valid_counts: https://github.com/mbrookhart/tvm/commit/944ee3c62d3176e86d555c85097c45c88d082204\r\n2. We should probably generalize for rank, I think maybe we can use the same kind of before/after trick used in sort: https://github.com/apache/tvm/blob/f91b51d638874973a2d9ccbcb4d49cf7c668f516/python/tvm/topi/cuda/sort.py#L69-L85","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/762969945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763036932","html_url":"https://github.com/apache/tvm/pull/7309#issuecomment-763036932","issue_url":"https://api.github.com/repos/apache/tvm/issues/7309","id":763036932,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzAzNjkzMg==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T18:30:13Z","updated_at":"2021-01-19T18:31:16Z","author_association":"MEMBER","body":"The deletion on non-virtual destructor is fine as long as they are held via ObjectPtr (the deleter is stored inside the object itself).\r\n\r\nUnfortunately directly printing out the first element's type is not sufficient in this case. Think about the following example\r\n\r\n```python\r\nX = { key0: v0, key1: v1 }\r\n```\r\n\r\nIf key0 and key1 belongs to different types. e.g. key0 is IntImm, and key1 is Add. and the Map is `Map<PrimExpr, Value>`, but will print as `Map<IntImm, Value>`.  A middle ground should be printing the actual value that mismatches. e.g. key1 is the one that mismatches, printing out the type under that particular value.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763036932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763065131","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-763065131","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":763065131,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzA2NTEzMQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T19:09:16Z","updated_at":"2021-01-19T19:09:16Z","author_association":"CONTRIBUTOR","body":"Thanks @masahi @tkonolige @FrozenGene ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763065131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763106769","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763106769","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763106769,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzEwNjc2OQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T20:19:38Z","updated_at":"2021-01-19T20:20:37Z","author_association":"MEMBER","body":"1. Right now, inclusive scan can be supported by `exclusive_scan(data) + data`. I think that is fine for now, given that our scan IR is far from stable and we don't want to maintain two IRs for the sake of removing the additional sum.\r\n\r\n2. Yes, we can definitely do that. But this PR is already not small and I want to keep the original IR as close as possible for this PR. There are other TODO items for scan (e.g. support other binary ops), so I hope we can address this problem in the future as well.\r\n\r\nA related discussion point: Do you expect scan performance on non-innermost axis to be slower than the innermost case? If that's the case (which I believe yes), I think supporting non innermost scan and other ranks by \r\n```\r\nreshape + transpose -> innermost scan -> reshape and transpose back \r\n```\r\nis a good solution. It is definitely preferred in terms of implementation simplicity, allowing scan implementation to focus on 1 or 2D + innermost axis.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763106769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763226229","html_url":"https://github.com/apache/tvm/pull/6370#issuecomment-763226229","issue_url":"https://api.github.com/repos/apache/tvm/issues/6370","id":763226229,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzIyNjIyOQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T00:00:48Z","updated_at":"2021-01-20T00:00:48Z","author_association":"MEMBER","body":"also cc @ZihengJiang ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763226229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763230104","html_url":"https://github.com/apache/tvm/pull/6370#issuecomment-763230104","issue_url":"https://api.github.com/repos/apache/tvm/issues/6370","id":763230104,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzIzMDEwNA==","user":{"login":"ZihengJiang","id":17693755,"node_id":"MDQ6VXNlcjE3NjkzNzU1","avatar_url":"https://avatars.githubusercontent.com/u/17693755?v=4","gravatar_id":"","url":"https://api.github.com/users/ZihengJiang","html_url":"https://github.com/ZihengJiang","followers_url":"https://api.github.com/users/ZihengJiang/followers","following_url":"https://api.github.com/users/ZihengJiang/following{/other_user}","gists_url":"https://api.github.com/users/ZihengJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/ZihengJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZihengJiang/subscriptions","organizations_url":"https://api.github.com/users/ZihengJiang/orgs","repos_url":"https://api.github.com/users/ZihengJiang/repos","events_url":"https://api.github.com/users/ZihengJiang/events{/privacy}","received_events_url":"https://api.github.com/users/ZihengJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T00:07:43Z","updated_at":"2021-01-20T00:07:43Z","author_association":"CONTRIBUTOR","body":"@hanke580  Nice work! I did not realize that we already has an implementation for `einsum`. I will take a closer look at it!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763230104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763244935","html_url":"https://github.com/apache/tvm/pull/7293#issuecomment-763244935","issue_url":"https://api.github.com/repos/apache/tvm/issues/7293","id":763244935,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI0NDkzNQ==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T00:42:57Z","updated_at":"2021-01-20T00:42:57Z","author_association":"CONTRIBUTOR","body":"Thanks @d-smirnov @jwfromm ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763244935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763245797","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763245797","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763245797,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI0NTc5Nw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T00:45:17Z","updated_at":"2021-01-20T00:45:17Z","author_association":"CONTRIBUTOR","body":"Yeah, scanning on the non-inner axis will have a cache locality performance hit, but I'm honestly not sure if that would be better or worse than the overhead from doing a pair of reshape/transpose ops. Reshape and transpose are heavily limited by memory bandwidth.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763245797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763257824","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763257824","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763257824,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI1NzgyNA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T01:19:03Z","updated_at":"2021-01-20T01:19:03Z","author_association":"MEMBER","body":"hmm interesting, I've never created a test case with empty tensor, is that possible?\r\n\r\nNote that the IR is copied straight from https://github.com/apache/tvm/pull/7303, so the same guard against empty tensor is here.\r\n\r\nhttps://github.com/apache/tvm/blob/4e13a3f4a04300113e9332ef581859cb0a40a082/python/tvm/topi/cuda/scan.py#L59","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763257824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763263064","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763263064","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763263064,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI2MzA2NA==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T01:34:06Z","updated_at":"2021-01-20T01:34:06Z","author_association":"CONTRIBUTOR","body":"Yes, I eyeballed the changes wrt to empty tensor and they looked good. So, I am happy to approve this PR. Once it is merged, I can try on my end with TF models as well.\r\n\r\nFor empty tensor test case - https://github.com/apache/tvm/blob/main/tests/python/relay/test_any.py#L879","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763263064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763264832","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763264832","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763264832,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI2NDgzMg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T01:39:18Z","updated_at":"2021-01-20T01:39:18Z","author_association":"MEMBER","body":"> Once it is merged, I can try on my end with TF models as well.\r\n\r\nPerf improvement is not expected, since it only improves `get_valid_count` slightly if you use thrust scan instead of TIR scan. The purpose of this PR is to enable parallelization for other ops, that are difficult without it. `argwhere` is a perfect example that I'll demonstrate soon after this one.\r\n\r\n@anijain2305 The term you want to search for is \"gpu stream compaction\".","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763264832/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763291062","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763291062","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763291062,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI5MTA2Mg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T02:47:53Z","updated_at":"2021-01-20T02:50:46Z","author_association":"MEMBER","body":"@anijain2305 I added an empty tensor test in https://github.com/apache/tvm/pull/7303/commits/a6c740348282c2d13f22883e62c7c910b73ad8c2\r\n\r\nOpenCL seems to have a problem with 0 size buffer, but otherwise both TIR scan and thrust scan seem to have no issue. Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763291062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763297967","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763297967","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763297967,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI5Nzk2Nw==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T03:08:04Z","updated_at":"2021-01-20T03:08:04Z","author_association":"CONTRIBUTOR","body":"Thanks :) LGTM :)\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763297967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763456381","html_url":"https://github.com/apache/tvm/pull/7303#issuecomment-763456381","issue_url":"https://api.github.com/repos/apache/tvm/issues/7303","id":763456381,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzQ1NjM4MQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T09:12:23Z","updated_at":"2021-01-20T09:12:23Z","author_association":"MEMBER","body":"Thanks @mbrookhart @anijain2305 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763456381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763535804","html_url":"https://github.com/apache/tvm/pull/7251#issuecomment-763535804","issue_url":"https://api.github.com/repos/apache/tvm/issues/7251","id":763535804,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzUzNTgwNA==","user":{"login":"d-smirnov","id":25180015,"node_id":"MDQ6VXNlcjI1MTgwMDE1","avatar_url":"https://avatars.githubusercontent.com/u/25180015?v=4","gravatar_id":"","url":"https://api.github.com/users/d-smirnov","html_url":"https://github.com/d-smirnov","followers_url":"https://api.github.com/users/d-smirnov/followers","following_url":"https://api.github.com/users/d-smirnov/following{/other_user}","gists_url":"https://api.github.com/users/d-smirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/d-smirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-smirnov/subscriptions","organizations_url":"https://api.github.com/users/d-smirnov/orgs","repos_url":"https://api.github.com/users/d-smirnov/repos","events_url":"https://api.github.com/users/d-smirnov/events{/privacy}","received_events_url":"https://api.github.com/users/d-smirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T11:21:31Z","updated_at":"2021-01-20T11:21:31Z","author_association":"CONTRIBUTOR","body":"Ping. How we can make a progress here?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763535804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763550274","html_url":"https://github.com/apache/tvm/pull/7251#issuecomment-763550274","issue_url":"https://api.github.com/repos/apache/tvm/issues/7251","id":763550274,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzU1MDI3NA==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T11:48:45Z","updated_at":"2021-01-20T11:48:45Z","author_association":"CONTRIBUTOR","body":"Thanks @d-smirnov ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763550274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763715317","html_url":"https://github.com/apache/tvm/pull/7267#issuecomment-763715317","issue_url":"https://api.github.com/repos/apache/tvm/issues/7267","id":763715317,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzcxNTMxNw==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T15:36:30Z","updated_at":"2021-01-20T15:36:30Z","author_association":"CONTRIBUTOR","body":"cc @tkonolige , @FrozenGene ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763715317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763723572","html_url":"https://github.com/apache/tvm/pull/7313#issuecomment-763723572","issue_url":"https://api.github.com/repos/apache/tvm/issues/7313","id":763723572,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzcyMzU3Mg==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T15:46:14Z","updated_at":"2021-01-20T15:46:14Z","author_association":"CONTRIBUTOR","body":"Thanks @jcf94 for the PR! \r\nMay be once the PR is ready, it would be really great if you can share the stats of sparse_dense Op with and without Ansor.\r\nReally excited to see those.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763723572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763724507","html_url":"https://github.com/apache/tvm/pull/7311#issuecomment-763724507","issue_url":"https://api.github.com/repos/apache/tvm/issues/7311","id":763724507,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzcyNDUwNw==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T15:47:34Z","updated_at":"2021-01-20T15:47:34Z","author_association":"CONTRIBUTOR","body":"Congrats @tkonolige :+1: ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763724507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763813132","html_url":"https://github.com/apache/tvm/pull/7266#issuecomment-763813132","issue_url":"https://api.github.com/repos/apache/tvm/issues/7266","id":763813132,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzgxMzEzMg==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T17:34:24Z","updated_at":"2021-01-20T17:34:24Z","author_association":"CONTRIBUTOR","body":"@liangfu please take a look and approve if you're ok with this now","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763813132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763883831","html_url":"https://github.com/apache/tvm/pull/7286#issuecomment-763883831","issue_url":"https://api.github.com/repos/apache/tvm/issues/7286","id":763883831,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mzg4MzgzMQ==","user":{"login":"tmoreau89","id":5974488,"node_id":"MDQ6VXNlcjU5NzQ0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5974488?v=4","gravatar_id":"","url":"https://api.github.com/users/tmoreau89","html_url":"https://github.com/tmoreau89","followers_url":"https://api.github.com/users/tmoreau89/followers","following_url":"https://api.github.com/users/tmoreau89/following{/other_user}","gists_url":"https://api.github.com/users/tmoreau89/gists{/gist_id}","starred_url":"https://api.github.com/users/tmoreau89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmoreau89/subscriptions","organizations_url":"https://api.github.com/users/tmoreau89/orgs","repos_url":"https://api.github.com/users/tmoreau89/repos","events_url":"https://api.github.com/users/tmoreau89/events{/privacy}","received_events_url":"https://api.github.com/users/tmoreau89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T19:36:13Z","updated_at":"2021-01-20T19:36:13Z","author_association":"CONTRIBUTOR","body":"@tqchen I'd love some input on this if you have time to review","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/763883831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]