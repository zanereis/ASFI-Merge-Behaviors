[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023586","html_url":"https://github.com/apache/couchdb/issues/1254#issuecomment-405023586","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1254","id":405023586,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyMzU4Ng==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T13:23:50Z","updated_at":"2018-07-14T13:23:50Z","author_association":"MEMBER","body":"I believe https://github.com/apache/couchdb/issues/1323 could make use of this","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023586/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023633","html_url":"https://github.com/apache/couchdb/issues/1326#issuecomment-405023633","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1326","id":405023633,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyMzYzMw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T13:24:38Z","updated_at":"2018-07-14T13:24:38Z","author_association":"MEMBER","body":"closing until repro.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023831","html_url":"https://github.com/apache/couchdb/issues/1344#issuecomment-405023831","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1344","id":405023831,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyMzgzMQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T13:28:50Z","updated_at":"2018-07-14T13:28:50Z","author_association":"MEMBER","body":"This is a nice feature request, but without a concrete proposal on how to implement it, this is too vague to keep open like this. Please re-open (or send a new PR) with a proposal on how this could be implemented, copious of code references, or a patch would be best :)\r\n\r\nWe’d likely accept a patch that implements this, if we can agree on an implementation approach. It has been tried before but hasn’t made it into a PR yet. So any progress here would be appreciated.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023911","html_url":"https://github.com/apache/couchdb/issues/1352#issuecomment-405023911","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1352","id":405023911,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyMzkxMQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T13:30:22Z","updated_at":"2018-07-14T13:30:22Z","author_association":"MEMBER","body":"@wohali I’ve been closing issues that have corresponding PRs, feel free to open, if you want a unified place for multiple PRs","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405023911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405025465","html_url":"https://github.com/apache/couchdb/pull/1435#issuecomment-405025465","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1435","id":405025465,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyNTQ2NQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T13:59:45Z","updated_at":"2018-07-14T16:24:04Z","author_association":"MEMBER","body":"I tried a good while trying to get this going, but it is not going to be a trivial patch.\r\n\r\nThe problem is as follows: the git sha is only known at `make dist` time. At that point, `make dist` runs `git archive` to build the tarball. That means that only files that have been committed to the source tree make it into the source archive. In order to get the git sha in there, we’d have to make a commit. Or to ament the tarball with a new file that contains the git sha. The former doesn’t sound right to me as that would make the tarball dependent on a commit that will only exist on the release manager’s machine, plus those commits would never make sense to share. The second option might be worth investigating, but I ran out of time for this. Dropping from 2.2.0 unless someone picks this up.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405025465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405026589","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-405026589","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":405026589,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyNjU4OQ==","user":{"login":"redgeoff","id":3378986,"node_id":"MDQ6VXNlcjMzNzg5ODY=","avatar_url":"https://avatars.githubusercontent.com/u/3378986?v=4","gravatar_id":"","url":"https://api.github.com/users/redgeoff","html_url":"https://github.com/redgeoff","followers_url":"https://api.github.com/users/redgeoff/followers","following_url":"https://api.github.com/users/redgeoff/following{/other_user}","gists_url":"https://api.github.com/users/redgeoff/gists{/gist_id}","starred_url":"https://api.github.com/users/redgeoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redgeoff/subscriptions","organizations_url":"https://api.github.com/users/redgeoff/orgs","repos_url":"https://api.github.com/users/redgeoff/repos","events_url":"https://api.github.com/users/redgeoff/events{/privacy}","received_events_url":"https://api.github.com/users/redgeoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:20:08Z","updated_at":"2018-07-14T14:20:08Z","author_association":"CONTRIBUTOR","body":"@janl I wouldn’t recommend closing this as I think this is a vital feature. I’d even argue that it is a design flaw in CouchDB. Using mango selectors for this is slow and would probably be much too slow for a large dataset. If this remains closed is there a list that this will be added to?\r\n\r\nI understand that this would take time to implement and that someone has to do the work :). I just don’t want to see something like this get forgotten.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405026589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028384","html_url":"https://github.com/apache/couchdb/issues/1226#issuecomment-405028384","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1226","id":405028384,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODM4NA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:53:44Z","updated_at":"2018-07-14T14:53:44Z","author_association":"MEMBER","body":"@janl No, unfortunately, when view sig composed `update_seq` [explicitly pulled from db](https://github.com/apache/couchdb/blob/master/src/couch_mrview/src/couch_mrview_util.erl#L199) and not taken from view's state. Ironically the problem here is opposite to the one you fixed, it's the fact that we _include_ `update_seq` into view and hence can get vary etags.\r\n\r\nOn the other note: I'm going to reopen this issue, I kept it as a frame to keep conversations separate from code review and have a common aggregate issue in case `WIP` approach wouldn't work and I'll close that PR in favor of something different. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028384/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028475","html_url":"https://github.com/apache/couchdb/pull/389#issuecomment-405028475","issue_url":"https://api.github.com/repos/apache/couchdb/issues/389","id":405028475,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODQ3NQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:55:10Z","updated_at":"2018-07-14T14:55:10Z","author_association":"MEMBER","body":"please reopen if this moves forward.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028513","html_url":"https://github.com/apache/couchdb/pull/437#issuecomment-405028513","issue_url":"https://api.github.com/repos/apache/couchdb/issues/437","id":405028513,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODUxMw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:55:59Z","updated_at":"2018-07-14T14:55:59Z","author_association":"MEMBER","body":"@rnewson is this something you’ll look at in the future or should we close this out?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028589","html_url":"https://github.com/apache/couchdb/pull/477#issuecomment-405028589","issue_url":"https://api.github.com/repos/apache/couchdb/issues/477","id":405028589,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODU4OQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:57:11Z","updated_at":"2018-07-14T14:57:11Z","author_association":"MEMBER","body":"Closing until this moves forward.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028620","html_url":"https://github.com/apache/couchdb/pull/806#issuecomment-405028620","issue_url":"https://api.github.com/repos/apache/couchdb/issues/806","id":405028620,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODYyMA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:57:47Z","updated_at":"2018-07-14T14:57:47Z","author_association":"MEMBER","body":"@davisp did a variant of this land as part of PSE, or are you interested to get this rebased?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028660","html_url":"https://github.com/apache/couchdb/pull/1006#issuecomment-405028660","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1006","id":405028660,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODY2MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:58:28Z","updated_at":"2018-07-14T14:58:28Z","author_association":"MEMBER","body":"Please re-open with updates.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028691","html_url":"https://github.com/apache/couchdb/pull/1075#issuecomment-405028691","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1075","id":405028691,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODY5MQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T14:59:02Z","updated_at":"2018-07-14T14:59:02Z","author_association":"MEMBER","body":"@jaydoane can you rebase?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028850","html_url":"https://github.com/apache/couchdb/pull/1089#issuecomment-405028850","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1089","id":405028850,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODg1MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T15:01:12Z","updated_at":"2018-07-14T15:01:12Z","author_association":"MEMBER","body":"Closing until progress.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028942","html_url":"https://github.com/apache/couchdb/pull/1182#issuecomment-405028942","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1182","id":405028942,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAyODk0Mg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T15:02:39Z","updated_at":"2018-07-14T15:02:39Z","author_association":"MEMBER","body":"@obi458 would you be able to resolve the conflicts?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405028942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405034584","html_url":"https://github.com/apache/couchdb/issues/1391#issuecomment-405034584","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1391","id":405034584,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAzNDU4NA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T16:33:55Z","updated_at":"2018-07-14T16:33:55Z","author_association":"MEMBER","body":"please reopen with more info","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405034584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405039229","html_url":"https://github.com/apache/couchdb/pull/1075#issuecomment-405039229","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1075","id":405039229,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTAzOTIyOQ==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-14T17:50:54Z","updated_at":"2018-07-14T17:50:54Z","author_association":"CONTRIBUTOR","body":"@janl closing in favor of https://github.com/apache/couchdb/pull/1444","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405039229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405060795","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-405060795","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":405060795,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MDc5NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T01:27:22Z","updated_at":"2018-07-15T01:27:22Z","author_association":"MEMBER","body":"@redgeoff wouldn't the fix just be \"make Mango faster\" here?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405060795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061718","html_url":"https://github.com/apache/couchdb/issues/1108#issuecomment-405061718","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1108","id":405061718,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MTcxOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T01:54:19Z","updated_at":"2018-07-15T01:54:19Z","author_association":"MEMBER","body":"I don't like this approach to closing issues that still have unlanded PRs, @janl.\r\n\r\nI'd rather have #1337 itself close this issue. If for whatever reason #1337 can't land and is closed, we lose track of the original request by your approach.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061787","html_url":"https://github.com/apache/couchdb/issues/1309#issuecomment-405061787","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1309","id":405061787,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MTc4Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T01:56:56Z","updated_at":"2018-07-15T01:56:56Z","author_association":"MEMBER","body":"Since the PR may not land, I am reopening this one.\r\n\r\nWe need a way to distinguish RCs from release builds, and it would be best if the build itself can report its own git hash. Somehow. But probably not the way we currently do it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061840","html_url":"https://github.com/apache/couchdb/issues/1132#issuecomment-405061840","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1132","id":405061840,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MTg0MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T01:59:06Z","updated_at":"2018-07-15T01:59:06Z","author_association":"MEMBER","body":"OK, fair enough, if it recurs I'll re-open...haven't seen this one in a long while.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061840/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061964","html_url":"https://github.com/apache/couchdb/issues/1076#issuecomment-405061964","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1076","id":405061964,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MTk2NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T02:02:40Z","updated_at":"2018-07-15T02:02:40Z","author_association":"MEMBER","body":"Correct, 2.1.2 uses Erlang 19.3.6.8.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061979","html_url":"https://github.com/apache/couchdb/issues/967#issuecomment-405061979","issue_url":"https://api.github.com/repos/apache/couchdb/issues/967","id":405061979,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MTk3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T02:03:18Z","updated_at":"2018-07-15T02:03:18Z","author_association":"MEMBER","body":"Right, @dch fixed that on our 2.1.2 branch in a nice way. Thanks Dave!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405061979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405062028","html_url":"https://github.com/apache/couchdb/issues/897#issuecomment-405062028","issue_url":"https://api.github.com/repos/apache/couchdb/issues/897","id":405062028,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MjAyOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T02:05:16Z","updated_at":"2018-07-15T02:05:16Z","author_association":"MEMBER","body":"#1439 hasn't landed yet, reopening until it does","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405062028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405062074","html_url":"https://github.com/apache/couchdb/issues/777#issuecomment-405062074","issue_url":"https://api.github.com/repos/apache/couchdb/issues/777","id":405062074,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MjA3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T02:06:40Z","updated_at":"2018-07-15T02:06:40Z","author_association":"MEMBER","body":"@janl That would break the approach @kocolosk has set up for the Docker images, kubernetes and the helm chart. It also would be backwards compatibility breaking. I don't like it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405062074/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405062691","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-405062691","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":405062691,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA2MjY5MQ==","user":{"login":"redgeoff","id":3378986,"node_id":"MDQ6VXNlcjMzNzg5ODY=","avatar_url":"https://avatars.githubusercontent.com/u/3378986?v=4","gravatar_id":"","url":"https://api.github.com/users/redgeoff","html_url":"https://github.com/redgeoff","followers_url":"https://api.github.com/users/redgeoff/followers","following_url":"https://api.github.com/users/redgeoff/following{/other_user}","gists_url":"https://api.github.com/users/redgeoff/gists{/gist_id}","starred_url":"https://api.github.com/users/redgeoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redgeoff/subscriptions","organizations_url":"https://api.github.com/users/redgeoff/orgs","repos_url":"https://api.github.com/users/redgeoff/repos","events_url":"https://api.github.com/users/redgeoff/events{/privacy}","received_events_url":"https://api.github.com/users/redgeoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T02:25:38Z","updated_at":"2018-07-15T02:26:14Z","author_association":"CONTRIBUTOR","body":"Hehe... well, that may be a nice enhancement, but what I really think is:\r\n1. #592 needs to be fixed so that indexed views can be used for filtered replication\r\n2. I think some sort of new indexing construct is needed so that you can create an index based on key so that you can specify a key when using a view during filtered replication. I'm not entirely sure of the inner workings of CouchDB so I can't be much more specific here. Sorry.\r\n\r\nCurrently the only way to avoid the latency with this slow filtered replication is to manually shard the database, e.g. in my example above, create a database per class type, but this can get very unmanageable when the scenario gets more complicated. (Creating a new database allows you to partition the data and makes the replication faster).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405062691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405072201","html_url":"https://github.com/apache/couchdb/issues/1108#issuecomment-405072201","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1108","id":405072201,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA3MjIwMQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T07:09:48Z","updated_at":"2018-07-15T07:09:48Z","author_association":"MEMBER","body":"Suits me, I'd rather not have two things open for one thing here on GitHub because issues and PRs are functionally similar ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405072201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405090786","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-405090786","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":405090786,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA5MDc4Ng==","user":{"login":"igorski89","id":56879,"node_id":"MDQ6VXNlcjU2ODc5","avatar_url":"https://avatars.githubusercontent.com/u/56879?v=4","gravatar_id":"","url":"https://api.github.com/users/igorski89","html_url":"https://github.com/igorski89","followers_url":"https://api.github.com/users/igorski89/followers","following_url":"https://api.github.com/users/igorski89/following{/other_user}","gists_url":"https://api.github.com/users/igorski89/gists{/gist_id}","starred_url":"https://api.github.com/users/igorski89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igorski89/subscriptions","organizations_url":"https://api.github.com/users/igorski89/orgs","repos_url":"https://api.github.com/users/igorski89/repos","events_url":"https://api.github.com/users/igorski89/events{/privacy}","received_events_url":"https://api.github.com/users/igorski89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T13:05:07Z","updated_at":"2018-07-15T13:07:55Z","author_association":"NONE","body":"@wohali lets take an example: you have an app that uses couchdb as the main data storage. It is intended to be used with offline-first clients (PouchDB/CouchBase Lite 1.x). Let’s assume that overall there is about 1k docs to replicate.\r\n\r\nGenerally speaking you have two options:\r\n1. on the server create a new “proxy” database, replicate this 1k docs there and finally use it as a source from offline clients to replicate from\r\n2. use filtered replication\r\n\r\nAnalyzing the consequences of each solution:\r\n1. added complexity, data duplication, additional server usage resources - in my understanding per-user db was at least partiality made to addresss this problem, but I think the shortcomings are known by now \r\n2. since the _changes feed is not indexed, what is the CPU+IO cost of filtering 1k docs over the db of 1M docs? what if you have 1k users, 10k, 100k?\r\n\r\n@redgeoff we have a patch of indexed changes implementation based on views which works well for us, including filtering by key, etc. We can share the details if you wish.\r\n\r\nI do however agree this approach has a few shortcomings: view and _changes outputs are not exactly idempotent. For ex: if the view no longer emits the doc, how this should be reflected in the _changes feed?\r\n\r\n@janl @wohali I’m sorry for my ignorance, but would you mind pointing me to the page explaining the process of submitting proposals for couchdb?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405090786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405105392","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-405105392","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":405105392,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTEwNTM5Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T17:23:36Z","updated_at":"2018-07-15T17:24:42Z","author_association":"MEMBER","body":"@evsukov89 Sign up to and then email dev@couchdb.apache.org, instructions are on https://couchdb.apache.org/\r\n\r\nI haven't read it closely, but I believe you may have missed some specific failure scenarios in your approach.  PRs with approaches to filter a _changes feed by a view's secondary index in the past have failed due to invalid logical assumptions that I'm failing to remember just now - beyond just deletes not surfacing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405105392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405105548","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-405105548","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":405105548,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTEwNTU0OA==","user":{"login":"igorski89","id":56879,"node_id":"MDQ6VXNlcjU2ODc5","avatar_url":"https://avatars.githubusercontent.com/u/56879?v=4","gravatar_id":"","url":"https://api.github.com/users/igorski89","html_url":"https://github.com/igorski89","followers_url":"https://api.github.com/users/igorski89/followers","following_url":"https://api.github.com/users/igorski89/following{/other_user}","gists_url":"https://api.github.com/users/igorski89/gists{/gist_id}","starred_url":"https://api.github.com/users/igorski89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igorski89/subscriptions","organizations_url":"https://api.github.com/users/igorski89/orgs","repos_url":"https://api.github.com/users/igorski89/repos","events_url":"https://api.github.com/users/igorski89/events{/privacy}","received_events_url":"https://api.github.com/users/igorski89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T17:26:29Z","updated_at":"2018-07-15T17:26:29Z","author_association":"NONE","body":"@wohali thank you.\r\n\r\nYes as I said – works for us because we have a very narrow controlled use-case, I do not believe this should be like this in master, still would like to start a discussion in this direction.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405105548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405107154","html_url":"https://github.com/apache/couchdb/pull/1440#issuecomment-405107154","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1440","id":405107154,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTEwNzE1NA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T17:55:49Z","updated_at":"2018-07-15T17:55:49Z","author_association":"MEMBER","body":"+1, very tidy.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405107154/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405107299","html_url":"https://github.com/apache/couchdb/pull/1435#issuecomment-405107299","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1435","id":405107299,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTEwNzI5OQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T17:58:26Z","updated_at":"2018-07-15T17:58:26Z","author_association":"MEMBER","body":"turns out this was easier after all. After the `git archive`, we do a bunch of things to the tarball, like copying the docs and fauxton builds into it, so I’m now appending `git_sha` to `version.mk` and have `Makefile[.win]` -> `src/couch/rebar.config.script` -> `couch_server.erl` pick it up:\r\n\r\n```\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"88e9b5e25\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405107299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405112427","html_url":"https://github.com/apache/couchdb/pull/1435#issuecomment-405112427","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1435","id":405112427,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTExMjQyNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T19:27:36Z","updated_at":"2018-07-15T19:27:36Z","author_association":"MEMBER","body":"@janl I will test this tomorrow.\r\n\r\nWhat do you think about dropping the `--short` everywhere, so we get the full hash?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405112427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405117942","html_url":"https://github.com/apache/couchdb/pull/1435#issuecomment-405117942","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1435","id":405117942,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTExNzk0Mg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-15T21:00:02Z","updated_at":"2018-07-15T21:00:02Z","author_association":"MEMBER","body":"@wohali no strong opinion either way. Feel free to amend my patch directly. \r\n\r\nOne thing I could see people ask is to not make this info available on a non-admin endpoint (I know), what's your thinking on that?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405117942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405144635","html_url":"https://github.com/apache/couchdb/pull/1370#issuecomment-405144635","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1370","id":405144635,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTE0NDYzNQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T04:01:48Z","updated_at":"2018-07-16T04:01:48Z","author_association":"CONTRIBUTOR","body":"okay @wohali thanks for letting us know.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405144635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405210433","html_url":"https://github.com/apache/couchdb/pull/1447#issuecomment-405210433","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1447","id":405210433,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTIxMDQzMw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T10:49:26Z","updated_at":"2018-07-16T10:49:26Z","author_association":"MEMBER","body":"@iilyak thanks for the quick +1!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405210433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405211067","html_url":"https://github.com/apache/couchdb/pull/1447#issuecomment-405211067","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1447","id":405211067,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTIxMTA2Nw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T10:52:28Z","updated_at":"2018-07-16T10:52:28Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405211067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405212239","html_url":"https://github.com/apache/couchdb/issues/1132#issuecomment-405212239","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1132","id":405212239,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTIxMjIzOQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T10:58:18Z","updated_at":"2018-07-16T10:58:18Z","author_association":"MEMBER","body":"leaving this closed until next occurrence, but noting that this looks like a separate issue after all","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405212239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405327483","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405327483","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405327483,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTMyNzQ4Mw==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T17:54:30Z","updated_at":"2018-07-16T17:54:30Z","author_association":"MEMBER","body":"What's the use case?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405327483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405335727","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405335727","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405335727,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTMzNTcyNw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T18:25:27Z","updated_at":"2018-07-16T18:25:27Z","author_association":"CONTRIBUTOR","body":"From what I understand it is to allow using CouchDB when FIPS mode is enabled.  In that case computing md5 via OpenSSL (`crypto:hash(md5, ...)`) fails. \r\n\r\nThe other alternative is to switch CouchDB to use a different hash function, but that is a bigger change, so I suggested just using Erlang's built-in md5 for now as an option. \r\n\r\nThere was some discussion here about it: https://github.com/apache/couchdb/issues/1171","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405335727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405336967","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405336967","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405336967,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTMzNjk2Nw==","user":{"login":"rokek","id":8279528,"node_id":"MDQ6VXNlcjgyNzk1Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8279528?v=4","gravatar_id":"","url":"https://api.github.com/users/rokek","html_url":"https://github.com/rokek","followers_url":"https://api.github.com/users/rokek/followers","following_url":"https://api.github.com/users/rokek/following{/other_user}","gists_url":"https://api.github.com/users/rokek/gists{/gist_id}","starred_url":"https://api.github.com/users/rokek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rokek/subscriptions","organizations_url":"https://api.github.com/users/rokek/orgs","repos_url":"https://api.github.com/users/rokek/repos","events_url":"https://api.github.com/users/rokek/events{/privacy}","received_events_url":"https://api.github.com/users/rokek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T18:29:39Z","updated_at":"2018-07-16T18:29:39Z","author_association":"CONTRIBUTOR","body":"@rnewson Updated to include rationale, thank you for the reminder.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405336967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405338539","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405338539","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405338539,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTMzODUzOQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T18:34:38Z","updated_at":"2018-07-16T18:44:44Z","author_association":"CONTRIBUTOR","body":"EUnit tests pass with and without the `--erlang-md5` configure option.\r\n\r\n+1\r\n\r\nI'd suggest mentioning the issue number (#1171) in the commit message. Also rebase against latest master. \r\n\r\nThen create a docs pull request to make note about the new option. Maybe under `Runtime Errors` section in https://github.com/apache/couchdb-documentation/blob/master/src/install/troubleshooting.rst. Make sure to mention there could be a performance penalty.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405338539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405359950","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405359950","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405359950,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTM1OTk1MA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T19:48:06Z","updated_at":"2018-07-16T19:48:06Z","author_association":"CONTRIBUTOR","body":"@rokek no, don't need a new PR. Just switch to master, do a git pull to update it. Then switch back to the PR branch. Run `git rebase master`. Then update commit to mention issue number in it (git commit --amend). And at last `git push --force` to update the branch on Github. \r\n\r\nDocumentation PR is separate.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405359950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405374334","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405374334","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405374334,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTM3NDMzNA==","user":{"login":"rokek","id":8279528,"node_id":"MDQ6VXNlcjgyNzk1Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8279528?v=4","gravatar_id":"","url":"https://api.github.com/users/rokek","html_url":"https://github.com/rokek","followers_url":"https://api.github.com/users/rokek/followers","following_url":"https://api.github.com/users/rokek/following{/other_user}","gists_url":"https://api.github.com/users/rokek/gists{/gist_id}","starred_url":"https://api.github.com/users/rokek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rokek/subscriptions","organizations_url":"https://api.github.com/users/rokek/orgs","repos_url":"https://api.github.com/users/rokek/repos","events_url":"https://api.github.com/users/rokek/events{/privacy}","received_events_url":"https://api.github.com/users/rokek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T20:38:48Z","updated_at":"2018-07-16T20:38:48Z","author_association":"CONTRIBUTOR","body":"@nickva @rnewson Completed, thank you for the guidance, and let me know if there is more to do.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405374334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405375968","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405375968","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405375968,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTM3NTk2OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T20:44:30Z","updated_at":"2018-07-16T20:44:30Z","author_association":"CONTRIBUTOR","body":"@rokek LGTM. Thanks for your contribution, it is much appreciated!\r\n\r\nI'll merge it and will review the docs PR","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405375968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405380776","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405380776","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405380776,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTM4MDc3Ng==","user":{"login":"rokek","id":8279528,"node_id":"MDQ6VXNlcjgyNzk1Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8279528?v=4","gravatar_id":"","url":"https://api.github.com/users/rokek","html_url":"https://github.com/rokek","followers_url":"https://api.github.com/users/rokek/followers","following_url":"https://api.github.com/users/rokek/following{/other_user}","gists_url":"https://api.github.com/users/rokek/gists{/gist_id}","starred_url":"https://api.github.com/users/rokek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rokek/subscriptions","organizations_url":"https://api.github.com/users/rokek/orgs","repos_url":"https://api.github.com/users/rokek/repos","events_url":"https://api.github.com/users/rokek/events{/privacy}","received_events_url":"https://api.github.com/users/rokek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T21:01:31Z","updated_at":"2018-07-16T21:01:47Z","author_association":"CONTRIBUTOR","body":"@nickva Thank you for the assistance!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405380776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405412279","html_url":"https://github.com/apache/couchdb/pull/1435#issuecomment-405412279","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1435","id":405412279,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxMjI3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T23:32:11Z","updated_at":"2018-07-16T23:32:11Z","author_association":"MEMBER","body":"While reviewing this PR, I found that our fixes to improve the 2.1.2 RC process accidentally broke building \"snapshot\" dist tarballs from `master` (useful if you want to run bleeding edge releases, for instance). This, in turn, broke our Jenkins CI setup.\r\n\r\nI've fixed the bug, and also added dirty detection (which marks a release as `-dirty` in the tag if it's been locally modified.)\r\n\r\nLike the commits prior, this absolutely requires the repo to be inside of git. If we switch version control systems ever, we'll have to redo this part of the Makefile.\r\n\r\n##  Examples\r\n\r\n### Building this PR\r\n```sh\r\n# ./configure && make dist\r\nDone: apache-couchdb-2.2.0-794ea816c.tar.gz\r\n# dev/run -n 1 >/dev/null &\r\n# curl localhost:15984\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0-794ea816c\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n# When building and running from the generated tarball:\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```\r\nI think that, perhaps, we want to keep the sha suffix on this one inside the tarball. It's not a tagged release of any sort. Then again, the Jenkins auto-built tarballs rarely make their way out of the developer community, and if they do, people use them at their own peril. The presence of the `git_sha` is all that's necessary to distinguish this from a real release.\r\n\r\nThis is a minor concern and I don't think blocks this PR.\r\n\r\n### Tagging this branch (locally!!!) `2.2.0-RC1`:\r\n```\r\n# ./configure -c && make dist\r\nDone: apache-couchdb-2.2.0-RC1.tar.gz\r\n# dev/run -n 1 >/dev/null &\r\n# curl localhost:15984\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n# When building and running from the generated tarball:\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```\r\nEverything is as expected: the tarball clearly says 2.2.0-RC1, but the build acts like a real 2.2.0 release, from tarball or from the free.\r\n\r\n### Tagging this branch (locally!!!) `2.2.0` *without* removing the `2.2.0-RC1` tag (mimicing a real release):\r\n```\r\n# ./configure -c && make dist\r\nDone: apache-couchdb-2.2.0.tar.gz\r\n# dev/run -n 1 >/dev/null &\r\n# curl localhost:15984\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n# When building and running from the generated tarball:\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```\r\nAgain, everything is as expected. Tarball and both built binaries match.\r\n\r\n### After making a trivial change to a file (dirty repo) and running the build again:\r\n```\r\n# ./configure -c && make dist\r\nDone: apache-couchdb-2.2.0-dirty.tar.gz\r\n# dev/run -n 1 >/dev/null &\r\n# curl localhost:15984\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0-dirty\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n# When building and running from the generated tarball:\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```\r\nThis is fine for a first pass. It'd be nice if the asset inside the tarball reflected in the sha that it's been messed with, but that's a new ticket in my mind.\r\n\r\n### Removing all tags, then tagging this branch (locally!!!) `2.3.4-RC1`:\r\n```\r\n# ./configure -c && make dist\r\nDone: apache-couchdb-2.3.4-RC1.tar.gz\r\n# dev/run -n 1 >/dev/null &\r\n# curl localhost:15984\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.3.4\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n# When building and running from the generated tarball:\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.2.0\",\"git_sha\":\"794ea816c\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```\r\nThis was an invalid test I did to satisfy my curiosity. The result is unusual, but expected: we still rely on the `version.mk` checked into git to be accurate inside a tarball. (Removing the need to have `version.mk` checked into the tree is something we could conceivably do later.)\r\n\r\n@janl I thought about it, and no one in our repo is likely to collide hashes, and basically ~everyone uses short git hashes, so let's stick with it as is.\r\n\r\nAs for the info not being visible on a non-admin endpoint...prior art shows Cloudant exposes their internal build numbers on `GET /`... Honestly I don't think it's worth worrying about. If people are that worried they can block the entire `GET /` endpoint because they won't want to expose they're running 2.1.0 still! :wink:\r\n\r\nI still need to test this on Windows - which, incidentally, doesn't support `make dist` right now (bash dependency). That's up next.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405412279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405414362","html_url":"https://github.com/apache/couchdb/pull/1435#issuecomment-405414362","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1435","id":405414362,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxNDM2Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T23:45:18Z","updated_at":"2018-07-16T23:45:18Z","author_association":"MEMBER","body":"And the windows build is broken, because the new `hyper` app doesn't support it /cc @kocolosk \r\n\r\nI'll fix Windows issues in another ticket. For now this is +1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405414362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405414375","html_url":"https://github.com/apache/couchdb/pull/1435#issuecomment-405414375","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1435","id":405414375,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxNDM3NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T23:45:22Z","updated_at":"2018-07-16T23:45:22Z","author_association":"MEMBER","body":"And the windows build is broken, because the new `hyper` app doesn't support it /cc @kocolosk \r\n\r\nI'll fix Windows issues in another ticket. For now this is +1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405414375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405414619","html_url":"https://github.com/apache/couchdb/pull/1346#issuecomment-405414619","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1346","id":405414619,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxNDYxOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T23:46:57Z","updated_at":"2018-07-16T23:46:57Z","author_association":"MEMBER","body":"FYI this broke the Windows build:\r\n\r\n```\r\nCompiling c:/relax/couchdb/src/hyper/c_src/hyper_carray.c\r\n'cc' is not recognized as an internal or external command,\r\noperable program or batch file.\r\nERROR: compile failed while processing c:/relax/couchdb/src/hyper: rebar_abort\r\nmake: *** [couch] Error 1\r\n```\r\n\r\nWe really need to get Windows into the CI build farm somehow.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405414619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405417337","html_url":"https://github.com/apache/couchdb/pull/1448#issuecomment-405417337","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1448","id":405417337,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQxNzMzNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T00:04:01Z","updated_at":"2018-07-17T00:04:01Z","author_association":"MEMBER","body":"Could this lead to infinite loops? Hoping not...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405417337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405422113","html_url":"https://github.com/apache/couchdb/pull/1346#issuecomment-405422113","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1346","id":405422113,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQyMjExMw==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T00:33:23Z","updated_at":"2018-07-17T00:33:23Z","author_association":"MEMBER","body":"Since I faced the same issue, I started looking to fix that. Could it be fixed with a simple alias such as: export cc=g++  ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405422113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405423244","html_url":"https://github.com/apache/couchdb/pull/1448#issuecomment-405423244","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1448","id":405423244,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQyMzI0NA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T00:41:30Z","updated_at":"2018-07-17T00:41:30Z","author_association":"MEMBER","body":"@wohali it should be all right, once N reaches zero it should match on line 87 and return `{error, request_failed}`. As a matter a fact it seems that this PR _fixes_ potential infinite loop in a clause above where `request/5` been called instead `request/6` that'd reset repeat counter.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405423244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405431107","html_url":"https://github.com/apache/couchdb/pull/1346#issuecomment-405431107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1346","id":405431107,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQzMTEwNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T01:34:37Z","updated_at":"2018-07-17T01:34:37Z","author_association":"MEMBER","body":"no, it's worse than that sadly, there is some invalid pointer arith and some C99 reserved words the MS compiler doesn't support.\r\n\r\nfixing rebar.config is pretty easy, there's no need to alias CC=cc, just leave it out. I have this worked out already\r\n\r\nI'll get to it tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405431107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405584672","html_url":"https://github.com/apache/couchdb/issues/1399#issuecomment-405584672","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1399","id":405584672,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTU4NDY3Mg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T13:37:52Z","updated_at":"2018-07-17T13:37:52Z","author_association":"CONTRIBUTOR","body":"@nerdvegas did max_history and retries_per_request help solve the problem?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405584672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405661872","html_url":"https://github.com/apache/couchdb/issues/1450#issuecomment-405661872","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1450","id":405661872,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2MTg3Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:27:27Z","updated_at":"2018-07-17T17:55:39Z","author_association":"MEMBER","body":"Reproducible with:\r\n\r\n```\r\ngit reset --hard && git clean -ffdx\r\n./configure --dev\r\nmake clean\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405661872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405666368","html_url":"https://github.com/apache/couchdb/pull/1445#issuecomment-405666368","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1445","id":405666368,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2NjM2OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:41:53Z","updated_at":"2018-07-17T17:41:53Z","author_association":"MEMBER","body":"@nickva @rokek sadly this broke the build, see #1450 for details.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405666368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405670342","html_url":"https://github.com/apache/couchdb/issues/1450#issuecomment-405670342","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1450","id":405670342,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY3MDM0Mg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:54:38Z","updated_at":"2018-07-17T17:54:38Z","author_association":"CONTRIBUTOR","body":"I can't run make clean, does it need a ./configure before make clean can work:\r\n\r\n```\r\n$ git reset --hard && git clean -ffdx\r\nHEAD is now at 3ef314978 re-raise max_http_request_size to 4GB\r\nasf (master) $ make clean\r\nmake: .../asf/bin/rebar: No such file or directory\r\nmake: *** [clean] Error 1\r\n```\r\n\r\nSame result on master from 5 days ago","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405670342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405670742","html_url":"https://github.com/apache/couchdb/issues/1450#issuecomment-405670742","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1450","id":405670742,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY3MDc0Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:55:54Z","updated_at":"2018-07-17T17:55:54Z","author_association":"MEMBER","body":"Sorry, I cut the example down too far. Yes, you need a `./configure --dev`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405670742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405671706","html_url":"https://github.com/apache/couchdb/issues/1450#issuecomment-405671706","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1450","id":405671706,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY3MTcwNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:59:02Z","updated_at":"2018-07-17T17:59:02Z","author_association":"MEMBER","body":"@nickva if I change `src/couch/rebar.config.script` line 77 to `_ ->` it works, presumably rebar failed because there was no default branch for the case statement.\r\n\r\nPR coming right up.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405671706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405672483","html_url":"https://github.com/apache/couchdb/issues/1450#issuecomment-405672483","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1450","id":405672483,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY3MjQ4Mw==","user":{"login":"rokek","id":8279528,"node_id":"MDQ6VXNlcjgyNzk1Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8279528?v=4","gravatar_id":"","url":"https://api.github.com/users/rokek","html_url":"https://github.com/rokek","followers_url":"https://api.github.com/users/rokek/followers","following_url":"https://api.github.com/users/rokek/following{/other_user}","gists_url":"https://api.github.com/users/rokek/gists{/gist_id}","starred_url":"https://api.github.com/users/rokek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rokek/subscriptions","organizations_url":"https://api.github.com/users/rokek/orgs","repos_url":"https://api.github.com/users/rokek/repos","events_url":"https://api.github.com/users/rokek/events{/privacy}","received_events_url":"https://api.github.com/users/rokek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T18:01:24Z","updated_at":"2018-07-17T18:01:24Z","author_association":"CONTRIBUTOR","body":"@wohali thank you for the fix!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405672483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405853490","html_url":"https://github.com/apache/couchdb/issues/1449#issuecomment-405853490","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1449","id":405853490,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTg1MzQ5MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T08:31:44Z","updated_at":"2018-07-18T08:31:44Z","author_association":"MEMBER","body":"what needs doing here? cc @davisp @kocolosk ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405853490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405863629","html_url":"https://github.com/apache/couchdb/issues/1103#issuecomment-405863629","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1103","id":405863629,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTg2MzYyOQ==","user":{"login":"ericclack","id":903568,"node_id":"MDQ6VXNlcjkwMzU2OA==","avatar_url":"https://avatars.githubusercontent.com/u/903568?v=4","gravatar_id":"","url":"https://api.github.com/users/ericclack","html_url":"https://github.com/ericclack","followers_url":"https://api.github.com/users/ericclack/followers","following_url":"https://api.github.com/users/ericclack/following{/other_user}","gists_url":"https://api.github.com/users/ericclack/gists{/gist_id}","starred_url":"https://api.github.com/users/ericclack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericclack/subscriptions","organizations_url":"https://api.github.com/users/ericclack/orgs","repos_url":"https://api.github.com/users/ericclack/repos","events_url":"https://api.github.com/users/ericclack/events{/privacy}","received_events_url":"https://api.github.com/users/ericclack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T09:06:12Z","updated_at":"2018-07-18T09:06:12Z","author_association":"NONE","body":"No, nothing more needed. Many thanks for your help.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405863629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405902159","html_url":"https://github.com/apache/couchdb/pull/1195#issuecomment-405902159","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1195","id":405902159,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkwMjE1OQ==","user":{"login":"AlexanderKaraberov","id":3254818,"node_id":"MDQ6VXNlcjMyNTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3254818?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderKaraberov","html_url":"https://github.com/AlexanderKaraberov","followers_url":"https://api.github.com/users/AlexanderKaraberov/followers","following_url":"https://api.github.com/users/AlexanderKaraberov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderKaraberov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderKaraberov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderKaraberov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderKaraberov/orgs","repos_url":"https://api.github.com/users/AlexanderKaraberov/repos","events_url":"https://api.github.com/users/AlexanderKaraberov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderKaraberov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T11:41:52Z","updated_at":"2018-07-18T11:44:26Z","author_association":"CONTRIBUTOR","body":"Hi,\r\nis there a small chance this PR might be reviewed before the 2.2.0 release? It would be nice to have this functionality in the CouchDB 2.2","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405902159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405902416","html_url":"https://github.com/apache/couchdb/pull/1432#issuecomment-405902416","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1432","id":405902416,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkwMjQxNg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T11:42:58Z","updated_at":"2018-07-18T11:42:58Z","author_association":"CONTRIBUTOR","body":"@tonysun83: I am not sure if we can merge this PR before CouchDB release. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405902416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405917152","html_url":"https://github.com/apache/couchdb/issues/1454#issuecomment-405917152","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1454","id":405917152,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkxNzE1Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T12:43:09Z","updated_at":"2018-07-18T12:43:09Z","author_association":"MEMBER","body":"@shimaore correct, this requires the clouseau/dreyfus addon from Cloudant. We are unable to ship this add-on due to licensing restrictions as part of CouchDB. However, the `$text` operator is supported by Mango if this add-on is installed.\r\n\r\nI will reopen this against our documentation repository. A pull request to remove the references would be welcome!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405917152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405917827","html_url":"https://github.com/apache/couchdb/pull/1432#issuecomment-405917827","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1432","id":405917827,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkxNzgyNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T12:45:50Z","updated_at":"2018-07-18T12:45:50Z","author_association":"MEMBER","body":"@iilyak is there a strong motivation to merge it for 2.2.0?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405917827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405954505","html_url":"https://github.com/apache/couchdb/pull/1423#issuecomment-405954505","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1423","id":405954505,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk1NDUwNQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T14:38:55Z","updated_at":"2018-07-18T14:38:55Z","author_association":"MEMBER","body":"I've run some perf tests on this. First a very basic performance test. Below are metrics for network traffic between nodes. The first image is for current mango. The second image is CouchDB with this PR.\r\n![old-mango2](https://user-images.githubusercontent.com/179458/42888527-c1c0a704-8aa8-11e8-9e25-bfebbcb3e02d.png)\r\n\r\n\r\n![new-mango2](https://user-images.githubusercontent.com/179458/42888561-ce4197a4-8aa8-11e8-8253-8e383f4c61d4.png)\r\n\r\nThe graphs are not at the same scale which is a bit frustrating. There is no regression and a slight improvement on network traffic. \r\nThen I ran a full regression test:\r\n![regression-test](https://user-images.githubusercontent.com/179458/42888648-f9729112-8aa8-11e8-9daf-3e6371548f23.png)\r\n\r\nThere are no regressions and in some cases a nice performance improvement.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405954505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405973123","html_url":"https://github.com/apache/couchdb/issues/1449#issuecomment-405973123","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1449","id":405973123,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk3MzEyMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T15:30:31Z","updated_at":"2018-07-18T15:30:31Z","author_association":"MEMBER","body":"Partially addressed by https://github.com/apache/couchdb-hyper/pull/4\r\n\r\nTurns out `bcrypt` won't compile now, that's the next step.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405973123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405975884","html_url":"https://github.com/apache/couchdb/pull/1432#issuecomment-405975884","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1432","id":405975884,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk3NTg4NA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T15:38:34Z","updated_at":"2018-07-18T15:38:34Z","author_association":"CONTRIBUTOR","body":"> @iilyak is there a strong motivation to merge it for 2.2.0?\r\n\r\n@wohali: We can wait. It is a bug fix for a feature which is not used yet. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405975884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405986847","html_url":"https://github.com/apache/couchdb/pull/1160#issuecomment-405986847","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1160","id":405986847,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk4Njg0Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T16:08:58Z","updated_at":"2018-07-18T16:08:58Z","author_association":"MEMBER","body":"@pierrekilly @janl unfortunately bcrypt is terminally broken on Windows, as it is missing the BSD libc extensions (queue.h) and a useful pthreads implementation.\r\n\r\nFurther, it seems to me that it makes no sense for our NIF to link to a function that is, itself, launching pthreads. Surely this will wreak havoc with the Erlang scheduler? /cc @davisp \r\n\r\nI am unfortunately going to have to remove this functionality to unblock the 2.2 release for now, as we can't hold up the release waiting for a rewrite. \r\n\r\nI have restored the `bcrypt` branch so that work can be ongoing for this in a future release. I will attempt to cherry-pick any bcrypt changes that landed post-`bcrypt` to that branch as a convenience.\r\n\r\nSince both PRs have landed, I will open a new ticket for this issue to track work going forward.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405986847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405989096","html_url":"https://github.com/apache/couchdb/pull/1423#issuecomment-405989096","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1423","id":405989096,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk4OTA5Ng==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T16:15:51Z","updated_at":"2018-07-18T16:15:51Z","author_association":"MEMBER","body":"From what I see there's basically no difference. For the network traffic graphs it looks maybe a bit less on the front end but then spikes badly on the second half. And if memory serves you were attempting to have a best case scenario for this test by restricting results to an empty set. Given there's not a dramatic difference I'm hesitant on whether this change is actually providing any benefit.\r\n\r\nThe regression tests I think are even more indicative of this not having much if any effect on the results. Your largest median change on a single test is only 23ms and it looks like nearly half of them are measuring nearly exactly the same suggesting this PR isn't providing a measurable difference.\r\n\r\nCan you describe the tests you did for the network graphs? Perhaps we missed something there or we can figure out how to measure things better?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405989096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405989532","html_url":"https://github.com/apache/couchdb/issues/1449#issuecomment-405989532","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1449","id":405989532,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk4OTUzMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T16:17:11Z","updated_at":"2018-07-18T16:17:11Z","author_association":"MEMBER","body":"https://github.com/apache/couchdb/pull/1456 will fix the hyper issue.\r\n\r\nBacking `bcrypt` out of master with +1s from  @rnewson and @janl, see https://github.com/apache/couchdb/pull/1160#issuecomment-405986847","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405989532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405989634","html_url":"https://github.com/apache/couchdb/pull/1160#issuecomment-405989634","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1160","id":405989634,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk4OTYzNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T16:17:32Z","updated_at":"2018-07-18T16:17:32Z","author_association":"MEMBER","body":"The new issue is at https://github.com/apache/couchdb/issues/1455","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405989634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405990494","html_url":"https://github.com/apache/couchdb/issues/1455#issuecomment-405990494","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1455","id":405990494,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk5MDQ5NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T16:20:22Z","updated_at":"2018-07-18T16:20:22Z","author_association":"MEMBER","body":"The `bcrypt` branch has been restored, and has cherry-picked commits on it for all of the merged PRs that improved its test suite.\r\n\r\nFeel free to use this for work going forward, or if a rewrite is needed, reimplement from scratch.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/405990494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406031589","html_url":"https://github.com/apache/couchdb/pull/1423#issuecomment-406031589","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1423","id":406031589,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjAzMTU4OQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T18:34:50Z","updated_at":"2018-07-18T18:34:50Z","author_association":"MEMBER","body":"@davisp I was expecting much better performance. I'm happy to park this PR for now. I think it would be useful for when we look at mango aggregation. So we can either close this PR or keep it open for a bit. \r\n\r\nI'll revisit it once we get around to mango aggregations.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406031589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406036182","html_url":"https://github.com/apache/couchdb/issues/1449#issuecomment-406036182","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1449","id":406036182,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjAzNjE4Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T18:50:00Z","updated_at":"2018-07-18T18:50:00Z","author_association":"MEMBER","body":"bcrypt has been removed, now this is holding things up:\r\n\r\nhttps://github.com/apache/couchdb-fauxton/issues/1105\r\n\r\n/cc @popojargo @Antonio-Maranhao ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406036182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406058892","html_url":"https://github.com/apache/couchdb/issues/1449#issuecomment-406058892","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1449","id":406058892,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjA1ODg5Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T20:11:24Z","updated_at":"2018-07-18T20:11:24Z","author_association":"MEMBER","body":"Building without Fauxton, all CouchDB tests now pass. \\o/","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406058892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406182080","html_url":"https://github.com/apache/couchdb/issues/1407#issuecomment-406182080","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1407","id":406182080,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjE4MjA4MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T07:29:53Z","updated_at":"2018-07-19T07:29:53Z","author_association":"MEMBER","body":"I’ve had a detailed look at this, and the reason this wasn't ported (other than this feature being on the deprecation path) was that chttpd doesn’t have a way to load routes from runtime configuration. The design of `chttpd` also makes this an unlikely addition.\r\n\r\nWhat *would be possible* is re-hooking up the old handler in a new way (so the feature would be exist again, but it’d be configured differently). E.g. we could do a new config section:\r\n\r\n```\r\n[chttpd_proxy]\r\nendpoint = \"http://example.com\"\r\n```\r\n\r\nThe way this would work then is a static URL like `/_proxy/:endpoint` for all requests, but you could configure `:endpoint`, but not `_proxy` which you could do before.\r\n\r\nI believe that would still satisfy the requirements for this feature, however:\r\n\r\n1. This approach wouldn’t be backwards compatible to 1.x. Since bringing this feature back is about restoring that compatibility is the whole point, we miss that point.\r\n\r\n2. This whole feature is slated to be deprecated for 3.0, so I’m hard pressed to add any code that will be relatively short lived and deprecated on introduction.\r\n\r\n3. I realise it is convenient to just run CouchDB somewhere and have it be the sole piece of infrastructure needed, but these days it is very simple to spin up a proxy server in front of CouchDB in whatever environment you need (haproxy, nginx, [g]unicorn, node.js etc.pp.), so at least there is a workaround.\r\n\r\n4. Adding a BC-preserving version of this would mean a significant addition to `chttpd` that I don’t see anyone adding, or if proposed, willing to maintain.\r\n\r\nTherefore, I propose to mark this as a documentation error, we should have announced it’s removal on the release of 2.0.0. As we’ve missed this, we should follow suit quickly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406182080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406183360","html_url":"https://github.com/apache/couchdb/issues/1054#issuecomment-406183360","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1054","id":406183360,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjE4MzM2MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T07:34:34Z","updated_at":"2018-07-19T07:34:34Z","author_association":"MEMBER","body":"See https://github.com/apache/couchdb/issues/1407","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406183360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406389509","html_url":"https://github.com/apache/couchdb/issues/1171#issuecomment-406389509","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1171","id":406389509,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjM4OTUwOQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T19:34:01Z","updated_at":"2018-07-19T19:34:01Z","author_association":"CONTRIBUTOR","body":"Closing this issue. Fixed in https://github.com/apache/couchdb/pull/1445","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406389509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406635942","html_url":"https://github.com/apache/couchdb/issues/1171#issuecomment-406635942","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1171","id":406635942,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjYzNTk0Mg==","user":{"login":"Nanonid","id":1835820,"node_id":"MDQ6VXNlcjE4MzU4MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1835820?v=4","gravatar_id":"","url":"https://api.github.com/users/Nanonid","html_url":"https://github.com/Nanonid","followers_url":"https://api.github.com/users/Nanonid/followers","following_url":"https://api.github.com/users/Nanonid/following{/other_user}","gists_url":"https://api.github.com/users/Nanonid/gists{/gist_id}","starred_url":"https://api.github.com/users/Nanonid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nanonid/subscriptions","organizations_url":"https://api.github.com/users/Nanonid/orgs","repos_url":"https://api.github.com/users/Nanonid/repos","events_url":"https://api.github.com/users/Nanonid/events{/privacy}","received_events_url":"https://api.github.com/users/Nanonid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T15:29:11Z","updated_at":"2018-07-20T15:29:11Z","author_association":"NONE","body":"TY!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406635942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406818013","html_url":"https://github.com/apache/couchdb/issues/1459#issuecomment-406818013","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1459","id":406818013,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjgxODAxMw==","user":{"login":"rambhavaraju","id":6705212,"node_id":"MDQ6VXNlcjY3MDUyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/6705212?v=4","gravatar_id":"","url":"https://api.github.com/users/rambhavaraju","html_url":"https://github.com/rambhavaraju","followers_url":"https://api.github.com/users/rambhavaraju/followers","following_url":"https://api.github.com/users/rambhavaraju/following{/other_user}","gists_url":"https://api.github.com/users/rambhavaraju/gists{/gist_id}","starred_url":"https://api.github.com/users/rambhavaraju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rambhavaraju/subscriptions","organizations_url":"https://api.github.com/users/rambhavaraju/orgs","repos_url":"https://api.github.com/users/rambhavaraju/repos","events_url":"https://api.github.com/users/rambhavaraju/events{/privacy}","received_events_url":"https://api.github.com/users/rambhavaraju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-21T19:19:40Z","updated_at":"2018-07-21T19:19:40Z","author_association":"NONE","body":"@wohali  could you please help with one.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406818013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406827757","html_url":"https://github.com/apache/couchdb/issues/1458#issuecomment-406827757","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1458","id":406827757,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjgyNzc1Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-21T22:36:58Z","updated_at":"2018-07-21T22:36:58Z","author_association":"MEMBER","body":"Unfortunately, we are no longer supporting CouchDB 1.x.\r\n\r\nIt is most likely that you have received an updated libmozjs185 library (CentOS maybe?), and CouchDB needs to be recompiled against the new library. You can also pin your libmozjs185 library against an older version.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406827757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406827791","html_url":"https://github.com/apache/couchdb/issues/1459#issuecomment-406827791","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1459","id":406827791,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjgyNzc5MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-21T22:37:27Z","updated_at":"2018-07-21T22:37:27Z","author_association":"MEMBER","body":"Duplicate of #1458.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406827791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406834713","html_url":"https://github.com/apache/couchdb/issues/1459#issuecomment-406834713","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1459","id":406834713,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjgzNDcxMw==","user":{"login":"rambhavaraju","id":6705212,"node_id":"MDQ6VXNlcjY3MDUyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/6705212?v=4","gravatar_id":"","url":"https://api.github.com/users/rambhavaraju","html_url":"https://github.com/rambhavaraju","followers_url":"https://api.github.com/users/rambhavaraju/followers","following_url":"https://api.github.com/users/rambhavaraju/following{/other_user}","gists_url":"https://api.github.com/users/rambhavaraju/gists{/gist_id}","starred_url":"https://api.github.com/users/rambhavaraju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rambhavaraju/subscriptions","organizations_url":"https://api.github.com/users/rambhavaraju/orgs","repos_url":"https://api.github.com/users/rambhavaraju/repos","events_url":"https://api.github.com/users/rambhavaraju/events{/privacy}","received_events_url":"https://api.github.com/users/rambhavaraju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-22T01:33:01Z","updated_at":"2018-07-22T01:33:01Z","author_association":"NONE","body":"Thanks wohali","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406834713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406844158","html_url":"https://github.com/apache/couchdb/issues/1458#issuecomment-406844158","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1458","id":406844158,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjg0NDE1OA==","user":{"login":"priyabratap","id":6428176,"node_id":"MDQ6VXNlcjY0MjgxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/6428176?v=4","gravatar_id":"","url":"https://api.github.com/users/priyabratap","html_url":"https://github.com/priyabratap","followers_url":"https://api.github.com/users/priyabratap/followers","following_url":"https://api.github.com/users/priyabratap/following{/other_user}","gists_url":"https://api.github.com/users/priyabratap/gists{/gist_id}","starred_url":"https://api.github.com/users/priyabratap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyabratap/subscriptions","organizations_url":"https://api.github.com/users/priyabratap/orgs","repos_url":"https://api.github.com/users/priyabratap/repos","events_url":"https://api.github.com/users/priyabratap/events{/privacy}","received_events_url":"https://api.github.com/users/priyabratap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-22T06:21:31Z","updated_at":"2018-07-22T06:22:42Z","author_association":"NONE","body":"Hi @wohali ,\r\nThanks for your reply. I have checked and the related package has not been updated.\r\njs-devel.x86_64       1.70-12.el6              @epel          \r\n\r\nWe are using Amazon ec2\r\n NAME=\"Amazon Linux AMI\"\r\nVERSION=\"2015.09\"\r\nID_LIKE=\"rhel fedora\"\r\n\r\nI would appreciate you for your suggestion. Why this type of error occurs not getting any clue. Seeking your help.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406844158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406859572","html_url":"https://github.com/apache/couchdb/issues/1458#issuecomment-406859572","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1458","id":406859572,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjg1OTU3Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-22T11:41:51Z","updated_at":"2018-07-22T11:41:51Z","author_association":"MEMBER","body":"Sorry, no idea, someone else will have to help you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406859572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406917110","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-406917110","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":406917110,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjkxNzExMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T01:55:17Z","updated_at":"2018-07-23T01:55:17Z","author_association":"MEMBER","body":"We're down to a Fauxton tagged release and the release notes. Woo hoo!\r\n\r\nDon't forget to check all the versions in master's `rebar.config.script`, @wohali.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406917110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406946608","html_url":"https://github.com/apache/couchdb/issues/1458#issuecomment-406946608","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1458","id":406946608,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjk0NjYwOA==","user":{"login":"priyabratap","id":6428176,"node_id":"MDQ6VXNlcjY0MjgxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/6428176?v=4","gravatar_id":"","url":"https://api.github.com/users/priyabratap","html_url":"https://github.com/priyabratap","followers_url":"https://api.github.com/users/priyabratap/followers","following_url":"https://api.github.com/users/priyabratap/following{/other_user}","gists_url":"https://api.github.com/users/priyabratap/gists{/gist_id}","starred_url":"https://api.github.com/users/priyabratap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyabratap/subscriptions","organizations_url":"https://api.github.com/users/priyabratap/orgs","repos_url":"https://api.github.com/users/priyabratap/repos","events_url":"https://api.github.com/users/priyabratap/events{/privacy}","received_events_url":"https://api.github.com/users/priyabratap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T05:51:09Z","updated_at":"2018-07-23T05:51:09Z","author_association":"NONE","body":"I got the solution. In my **_users** table there was a design document created **_design/X12635**. After I deleted the document, now It's working fine. \r\n\r\nI am not sure, how this document generated and why it's required.\r\n\r\n```\r\n{\r\n   \"_id\": \"_design/X12635\",\r\n   \"_rev\": \"1-12bc5863e7f65bad6ddf51c1748c3e42\",\r\n   \"language\": \"erlang\",\r\n   \"validate_doc_update\": \"fun ({NewDoc}, OldDoc, UserCtx, SecObj)->\\n\\t%%Covers CVE-2017-12635\\n\\tRoles = proplists:lookup_all(<<\\\"roles\\\">>,NewDoc),\\n\\tcase length(Roles) < 2 of\\n\\t\\ttrue -> ok;\\n\\t\\tfalse ->throw({[{<<\\\"forbidden\\\">>, <<\\\"You can’t hack roles,sorry\\\">>}]})\\n\\tend,\\n\\t1\\nend.\"\r\n}\r\n```\r\n\r\nThanks for your response @wohali ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/406946608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407088957","html_url":"https://github.com/apache/couchdb/pull/1406#issuecomment-407088957","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1406","id":407088957,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzA4ODk1Nw==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T15:01:06Z","updated_at":"2018-07-23T15:01:06Z","author_association":"MEMBER","body":"The tests are all green on this. I would be keen to merge this. Is there anything other than maybe cleaning up the commits stopping us from merging this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407088957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407098317","html_url":"https://github.com/apache/couchdb/issues/1460#issuecomment-407098317","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1460","id":407098317,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzA5ODMxNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T15:27:41Z","updated_at":"2018-07-23T15:27:41Z","author_association":"MEMBER","body":"@jvegaseg ??? Surely this has more to do with your OS, HW, provisioning than with CouchDB?\r\n\r\nOr do you mean to say that the new node is *using* more or less disk space than before?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407098317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407111100","html_url":"https://github.com/apache/couchdb/issues/1460#issuecomment-407111100","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1460","id":407111100,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzExMTEwMA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T16:04:15Z","updated_at":"2018-07-23T16:04:15Z","author_association":"MEMBER","body":"how do things look when you compact all shards and view indexes and cleanup all old view indexes on that node?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407111100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407131080","html_url":"https://github.com/apache/couchdb/issues/1460#issuecomment-407131080","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1460","id":407131080,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzEzMTA4MA==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T17:07:28Z","updated_at":"2018-07-23T17:07:28Z","author_association":"NONE","body":"I mean that space used in data directory was almost twice times greater than previous node.\r\nIt is a new replaced node, so it should not need any cleanup (I suppose). I am not using indexes (we only store mail attachments and always are retrieved by key).\r\n\r\nAs an example, the same shard has a very different size in two different nodes for same database:\r\n\r\nNode1: 396 Gb\r\nNode2: 511 Gb\r\n\r\nRegards,\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407131080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407132366","html_url":"https://github.com/apache/couchdb/issues/1460#issuecomment-407132366","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1460","id":407132366,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzEzMjM2Ng==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T17:11:51Z","updated_at":"2018-07-23T17:11:51Z","author_association":"NONE","body":"And in the third node is has 301 Gb\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407132366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407211510","html_url":"https://github.com/apache/couchdb/pull/1406#issuecomment-407211510","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1406","id":407211510,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzIxMTUxMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T21:46:04Z","updated_at":"2018-07-23T21:47:01Z","author_association":"MEMBER","body":"@garrensmith let me cut the 2.2.x branch first - should be within 24-48h - then go for it\r\n\r\nTo be clear, we need to sort out dependency installation & CI environments before we make this part of the actual runs still. I don't want to hold up the WIP any more but I do hope that someone other than me can look at what is necessary to get this to run in a minimal build environment.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407211510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407212570","html_url":"https://github.com/apache/couchdb/issues/1461#issuecomment-407212570","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1461","id":407212570,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzIxMjU3MA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T21:50:16Z","updated_at":"2018-07-23T21:50:16Z","author_association":"MEMBER","body":"Hi, That's correct, CouchDB indexes only support a single sort order, hence the accurate error message you received.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407212570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407226138","html_url":"https://github.com/apache/couchdb/pull/1085#issuecomment-407226138","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1085","id":407226138,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzIyNjEzOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T22:53:44Z","updated_at":"2018-07-23T22:53:44Z","author_association":"MEMBER","body":"@dharders note that this will be in 2.2.0, which is releasing imminently - may be something you'll want to review for your next PouchDB release.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407226138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407233269","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-407233269","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":407233269,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzIzMzI2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T23:35:07Z","updated_at":"2018-07-23T23:35:07Z","author_association":"MEMBER","body":"Due to the concerns about changing the defaults here, and the need to get a 2.2.0 release out the door, the change to CouchDB's defaults will not happen until post-2.2.0.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407233269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407286777","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-407286777","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":407286777,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzI4Njc3Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T05:36:22Z","updated_at":"2018-07-24T07:42:58Z","author_association":"MEMBER","body":"We have a tagged Fauxton release, so #1464 has been added to the milestone. Once the release notes and #1464 are resolved, I can tag `couchdb-documentation` as 2.2.0, bump `rebar.config.script` and cut our first 2.2.0 release candidate! :D","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407286777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]