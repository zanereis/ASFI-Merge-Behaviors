[{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245047714","html_url":"https://github.com/apache/kafka/pull/1803#issuecomment-245047714","issue_url":"https://api.github.com/repos/apache/kafka/issues/1803","id":245047714,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTA0NzcxNA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T18:39:24Z","updated_at":"2016-09-06T18:39:24Z","author_association":"CONTRIBUTOR","body":"LGTM and merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245047714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245050632","html_url":"https://github.com/apache/kafka/pull/1808#issuecomment-245050632","issue_url":"https://api.github.com/repos/apache/kafka/issues/1808","id":245050632,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTA1MDYzMg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T18:48:38Z","updated_at":"2016-09-06T18:48:38Z","author_association":"CONTRIBUTOR","body":"@mjsax Could you rebase?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245050632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245093748","html_url":"https://github.com/apache/kafka/pull/1824#issuecomment-245093748","issue_url":"https://api.github.com/repos/apache/kafka/issues/1824","id":245093748,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTA5Mzc0OA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T21:14:02Z","updated_at":"2016-09-06T21:14:02Z","author_association":"CONTRIBUTOR","body":"Left a comment about updating javadoc on possible thrown exceptions for public APIs. Otherwise LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245093748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245097982","html_url":"https://github.com/apache/kafka/pull/1808#issuecomment-245097982","issue_url":"https://api.github.com/repos/apache/kafka/issues/1808","id":245097982,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTA5Nzk4Mg==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T21:24:37Z","updated_at":"2016-09-06T21:24:37Z","author_association":"MEMBER","body":"@guozhangwang Done.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245097982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245117551","html_url":"https://github.com/apache/kafka/pull/1808#issuecomment-245117551","issue_url":"https://api.github.com/repos/apache/kafka/issues/1808","id":245117551,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTExNzU1MQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T22:35:35Z","updated_at":"2016-09-06T22:35:35Z","author_association":"CONTRIBUTOR","body":"Thanks @mjsax , merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245117551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245117699","html_url":"https://github.com/apache/kafka/pull/1767#issuecomment-245117699","issue_url":"https://api.github.com/repos/apache/kafka/issues/1767","id":245117699,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTExNzY5OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T22:36:20Z","updated_at":"2016-09-06T22:36:20Z","author_association":"CONTRIBUTOR","body":"@mjsax Since #1808 has been merged into trunk, do you want to make a pass over this PR again and possible update it if necessary?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245117699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245120409","html_url":"https://github.com/apache/kafka/pull/1825#issuecomment-245120409","issue_url":"https://api.github.com/repos/apache/kafka/issues/1825","id":245120409,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTEyMDQwOQ==","user":{"login":"gwenshap","id":1189030,"node_id":"MDQ6VXNlcjExODkwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1189030?v=4","gravatar_id":"","url":"https://api.github.com/users/gwenshap","html_url":"https://github.com/gwenshap","followers_url":"https://api.github.com/users/gwenshap/followers","following_url":"https://api.github.com/users/gwenshap/following{/other_user}","gists_url":"https://api.github.com/users/gwenshap/gists{/gist_id}","starred_url":"https://api.github.com/users/gwenshap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwenshap/subscriptions","organizations_url":"https://api.github.com/users/gwenshap/orgs","repos_url":"https://api.github.com/users/gwenshap/repos","events_url":"https://api.github.com/users/gwenshap/events{/privacy}","received_events_url":"https://api.github.com/users/gwenshap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T22:50:30Z","updated_at":"2016-09-06T22:50:30Z","author_association":"CONTRIBUTOR","body":"1) I believe this message could be useful for troubleshooting (\"why am I authenticated as ANON?\")\n2) Endless flood of messages is obviously bad for troubleshooting anything. Can we rate limit the message?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245120409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245121346","html_url":"https://github.com/apache/kafka/pull/1767#issuecomment-245121346","issue_url":"https://api.github.com/repos/apache/kafka/issues/1767","id":245121346,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTEyMTM0Ng==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T22:54:57Z","updated_at":"2016-09-06T22:54:57Z","author_association":"MEMBER","body":"@guozhangwang Just rebased and updated this PR to use `MockTime` now. Test passed locally.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245121346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245121541","html_url":"https://github.com/apache/kafka/pull/1825#issuecomment-245121541","issue_url":"https://api.github.com/repos/apache/kafka/issues/1825","id":245121541,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTEyMTU0MQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T22:55:48Z","updated_at":"2016-09-06T22:55:48Z","author_association":"MEMBER","body":"@gwenshap generally, the recommended approach is to set client authentication as required if you need it. Once you do that, this logging message is not particularly useful in my opinion.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245121541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245121840","html_url":"https://github.com/apache/kafka/pull/1820#issuecomment-245121840","issue_url":"https://api.github.com/repos/apache/kafka/issues/1820","id":245121840,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTEyMTg0MA==","user":{"login":"gwenshap","id":1189030,"node_id":"MDQ6VXNlcjExODkwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1189030?v=4","gravatar_id":"","url":"https://api.github.com/users/gwenshap","html_url":"https://github.com/gwenshap","followers_url":"https://api.github.com/users/gwenshap/followers","following_url":"https://api.github.com/users/gwenshap/following{/other_user}","gists_url":"https://api.github.com/users/gwenshap/gists{/gist_id}","starred_url":"https://api.github.com/users/gwenshap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwenshap/subscriptions","organizations_url":"https://api.github.com/users/gwenshap/orgs","repos_url":"https://api.github.com/users/gwenshap/repos","events_url":"https://api.github.com/users/gwenshap/events{/privacy}","received_events_url":"https://api.github.com/users/gwenshap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T22:57:13Z","updated_at":"2016-09-06T22:57:13Z","author_association":"CONTRIBUTOR","body":"Thank you for tackling our failing tests. This is awesome!\n\nI think you could use org.apache.kafka.test.TestUtils.checkForConditions() which already implements pretty much what you implemented here? It allows you to set your own timeout or use a default.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245121840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245122721","html_url":"https://github.com/apache/kafka/pull/1825#issuecomment-245122721","issue_url":"https://api.github.com/repos/apache/kafka/issues/1825","id":245122721,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTEyMjcyMQ==","user":{"login":"gwenshap","id":1189030,"node_id":"MDQ6VXNlcjExODkwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1189030?v=4","gravatar_id":"","url":"https://api.github.com/users/gwenshap","html_url":"https://github.com/gwenshap","followers_url":"https://api.github.com/users/gwenshap/followers","following_url":"https://api.github.com/users/gwenshap/following{/other_user}","gists_url":"https://api.github.com/users/gwenshap/gists{/gist_id}","starred_url":"https://api.github.com/users/gwenshap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwenshap/subscriptions","organizations_url":"https://api.github.com/users/gwenshap/orgs","repos_url":"https://api.github.com/users/gwenshap/repos","events_url":"https://api.github.com/users/gwenshap/events{/privacy}","received_events_url":"https://api.github.com/users/gwenshap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T23:01:23Z","updated_at":"2016-09-06T23:01:23Z","author_association":"CONTRIBUTOR","body":"@ijuma you did more security troubleshooting and support calls than I did... if you don't think it is useful, I trust your judgement :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245122721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245138061","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245138061","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245138061,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTEzODA2MQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T00:27:14Z","updated_at":"2016-09-07T00:27:14Z","author_association":"MEMBER","body":"@hachikuji That's a good point. If we want to continue using it in those cases, we probably need to update the config documentation.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245138061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245139145","html_url":"https://github.com/apache/kafka/pull/1672#issuecomment-245139145","issue_url":"https://api.github.com/repos/apache/kafka/issues/1672","id":245139145,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTEzOTE0NQ==","user":{"login":"gwenshap","id":1189030,"node_id":"MDQ6VXNlcjExODkwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1189030?v=4","gravatar_id":"","url":"https://api.github.com/users/gwenshap","html_url":"https://github.com/gwenshap","followers_url":"https://api.github.com/users/gwenshap/followers","following_url":"https://api.github.com/users/gwenshap/following{/other_user}","gists_url":"https://api.github.com/users/gwenshap/gists{/gist_id}","starred_url":"https://api.github.com/users/gwenshap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwenshap/subscriptions","organizations_url":"https://api.github.com/users/gwenshap/orgs","repos_url":"https://api.github.com/users/gwenshap/repos","events_url":"https://api.github.com/users/gwenshap/events{/privacy}","received_events_url":"https://api.github.com/users/gwenshap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T00:34:05Z","updated_at":"2016-09-07T00:34:05Z","author_association":"CONTRIBUTOR","body":"oops, missed the update. sorry for delay. LGTM and merging.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245139145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245140449","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245140449","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245140449,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE0MDQ0OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T00:42:00Z","updated_at":"2016-09-07T00:42:00Z","author_association":"CONTRIBUTOR","body":"A meta comment following the one I had in `ForwardingStateStoreSupplier` is that, we can consider making the currently-named `MemoryLRUCacheBytes` a specific per-thread cache and move the DSL implementation that auto leverage this cache into the processor node implementation instead of in the state store implementation. So that:\n1. We can remove `ForwardingStateStoreSupplier`, `CacheFlushListener` and `ProcessorRecordContext`.\n2. Not adding `enableCaching` in `PersistentKeyValueFactory` in `Stores`.\n\nAnd for QS, we can either claim that since caching the state store are separate, anything that is only in cache but not yet in state store is hence not queryable, or we can complicate the QS logic to work it around to find the corresponding cache partitions.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245140449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245145966","html_url":"https://github.com/apache/kafka/pull/1726#issuecomment-245145966","issue_url":"https://api.github.com/repos/apache/kafka/issues/1726","id":245145966,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE0NTk2Ng==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T01:15:46Z","updated_at":"2016-09-07T01:15:46Z","author_association":"MEMBER","body":"@hachikuji, this looks like a good candidate for your first KIP merge :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245145966/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245147580","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245147580","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245147580,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE0NzU4MA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T01:25:27Z","updated_at":"2016-09-07T01:25:27Z","author_association":"CONTRIBUTOR","body":"@ijuma Yeah, agreed. Seems like the problem is that the definition of \"failed request\" might not be too clear in the documentation. I think what we really mean is any metadata fetch containing errors, which covers topics not existing, partition leaders not available, etc. These cases are considered \"successful\" updates from the perspective of the `Metadata` object, but not from that of the producer/consumer. I think there are two problems with the current implementation:\n1. We treat the bootstrapped cluster as a regular metadata update and enforce the backoff, which causes the weird delay on startup. This should be easy to fix by providing a separate path for bootstrapping the metadata.\n2. The current implementation takes the interpretation of the backoff setting to the extreme and prevents _any_ repeat metadata fetches within each backoff duration. Perhaps we can loosen this and override the backoff interval if the set of topics being fetched changes? In fact, if we did this, then the first problem would be solved as a matter of course.\n\nThoughts?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245147580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245164647","html_url":"https://github.com/apache/kafka/pull/1825#issuecomment-245164647","issue_url":"https://api.github.com/repos/apache/kafka/issues/1825","id":245164647,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE2NDY0Nw==","user":{"login":"jaikiran","id":143523,"node_id":"MDQ6VXNlcjE0MzUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/143523?v=4","gravatar_id":"","url":"https://api.github.com/users/jaikiran","html_url":"https://github.com/jaikiran","followers_url":"https://api.github.com/users/jaikiran/followers","following_url":"https://api.github.com/users/jaikiran/following{/other_user}","gists_url":"https://api.github.com/users/jaikiran/gists{/gist_id}","starred_url":"https://api.github.com/users/jaikiran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaikiran/subscriptions","organizations_url":"https://api.github.com/users/jaikiran/orgs","repos_url":"https://api.github.com/users/jaikiran/repos","events_url":"https://api.github.com/users/jaikiran/events{/privacy}","received_events_url":"https://api.github.com/users/jaikiran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T03:27:46Z","updated_at":"2016-09-07T03:27:46Z","author_association":"MEMBER","body":"@ijuma On a slightly related note, if this PR has to be requested to be merged into 0.10 branch too (since that probably will see a release soon), should I create a new PR against that branch?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245164647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245183692","html_url":"https://github.com/apache/kafka/pull/1767#issuecomment-245183692","issue_url":"https://api.github.com/repos/apache/kafka/issues/1767","id":245183692,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE4MzY5Mg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T06:03:07Z","updated_at":"2016-09-07T06:03:07Z","author_association":"CONTRIBUTOR","body":"LGTM and merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245183692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245187561","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245187561","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245187561,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE4NzU2MQ==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T06:29:45Z","updated_at":"2016-09-07T06:31:21Z","author_association":"CONTRIBUTOR","body":"@guozhangwang I disagree with `And for QS, we can either claim that since caching the state store are separate, anything that is only in cache but not yet in state store is hence not queryable` I think it is very confusing the ignore the latest updates when doing a query. This has the potential of confusing users who want to query their latest updates.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245187561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245187842","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245187842","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245187842,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE4Nzg0Mg==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T06:31:39Z","updated_at":"2016-09-07T06:31:39Z","author_association":"CONTRIBUTOR","body":"(PR closed by mistake, and reopened)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245187842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245195818","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245195818","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245195818,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE5NTgxOA==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T07:16:58Z","updated_at":"2016-09-07T07:16:58Z","author_association":"CONTRIBUTOR","body":"The `MemoryLRUCacheBytes` is already per-thread as previously mentioned. Even if we moved the caching to the `Processor` as you suggested, we still need to be able to update the context. We still need `ProcessorRecordContext` - you can't just forward on the `context` when a flush/eviction happens as it could happen at any stage, i.e., before or after the node in the topology. So, on flush etc the `context` needs to be updated to relate to the entry that is being flushed. That is the `ProcessorNode` and message timestamps etc need to be reset to the same `ProcessorNode` from where the original `cache.put` originated, hence we need `ProcessorRecordContext`\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245195818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245199575","html_url":"https://github.com/apache/kafka/pull/1825#issuecomment-245199575","issue_url":"https://api.github.com/repos/apache/kafka/issues/1825","id":245199575,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTE5OTU3NQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T07:35:04Z","updated_at":"2016-09-07T07:35:04Z","author_association":"MEMBER","body":"@jaikiran, no new PR is needed if the change can be cherry-picked without conflicts. Note that 0.10.1.0 will be out before 0.10.0.2 though.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245199575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245205823","html_url":"https://github.com/apache/kafka/pull/1824#issuecomment-245205823","issue_url":"https://api.github.com/repos/apache/kafka/issues/1824","id":245205823,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTIwNTgyMw==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T08:03:34Z","updated_at":"2016-09-07T08:03:34Z","author_association":"CONTRIBUTOR","body":"@guozhangwang I've changed the variable in `StreamThread` to `initialized` as suggested and also updated the exception thrown.\nAlso, i moved the `InvalidStateStoreException` to `org.apache.kafka.streams.errors` as that seems like where it should be. I updated the javadoc of `InvalidStateStoreException` to mention about the transient nature of these exceptions and that it is valid to backoff and retry.\nI also added `throws InvalidStateStoreException` to all `ReadOnlyKeyValueStore` and `ReadOnlyWindowStore` javadocs\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245205823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245207119","html_url":"https://github.com/apache/kafka/pull/1825#issuecomment-245207119","issue_url":"https://api.github.com/repos/apache/kafka/issues/1825","id":245207119,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTIwNzExOQ==","user":{"login":"jaikiran","id":143523,"node_id":"MDQ6VXNlcjE0MzUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/143523?v=4","gravatar_id":"","url":"https://api.github.com/users/jaikiran","html_url":"https://github.com/jaikiran","followers_url":"https://api.github.com/users/jaikiran/followers","following_url":"https://api.github.com/users/jaikiran/following{/other_user}","gists_url":"https://api.github.com/users/jaikiran/gists{/gist_id}","starred_url":"https://api.github.com/users/jaikiran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaikiran/subscriptions","organizations_url":"https://api.github.com/users/jaikiran/orgs","repos_url":"https://api.github.com/users/jaikiran/repos","events_url":"https://api.github.com/users/jaikiran/events{/privacy}","received_events_url":"https://api.github.com/users/jaikiran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T08:09:32Z","updated_at":"2016-09-07T08:09:32Z","author_association":"MEMBER","body":"> >  Note that 0.10.1.0 will be out before 0.10.0.2 though.\n\nIn that case, I will just wait for 0.10.1.0 and upgrade to it which will have this commit.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245207119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245217789","html_url":"https://github.com/apache/kafka/pull/1823#issuecomment-245217789","issue_url":"https://api.github.com/repos/apache/kafka/issues/1823","id":245217789,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTIxNzc4OQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T08:54:49Z","updated_at":"2016-09-07T08:54:49Z","author_association":"MEMBER","body":"Thanks for the PR, LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245217789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245234736","html_url":"https://github.com/apache/kafka/pull/1831#issuecomment-245234736","issue_url":"https://api.github.com/repos/apache/kafka/issues/1831","id":245234736,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTIzNDczNg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T10:04:53Z","updated_at":"2016-09-07T10:04:53Z","author_association":"MEMBER","body":"Thanks for the PR @rajinisivaram, would it be possible to include a test? cc @hachikuji \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245234736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245252912","html_url":"https://github.com/apache/kafka/pull/1831#issuecomment-245252912","issue_url":"https://api.github.com/repos/apache/kafka/issues/1831","id":245252912,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTI1MjkxMg==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T11:30:35Z","updated_at":"2016-09-07T11:30:35Z","author_association":"CONTRIBUTOR","body":"@ijuma Have added  a unit test. Thank you.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245252912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245271477","html_url":"https://github.com/apache/kafka/pull/1832#issuecomment-245271477","issue_url":"https://api.github.com/repos/apache/kafka/issues/1832","id":245271477,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTI3MTQ3Nw==","user":{"login":"mfenniak","id":91093,"node_id":"MDQ6VXNlcjkxMDkz","avatar_url":"https://avatars.githubusercontent.com/u/91093?v=4","gravatar_id":"","url":"https://api.github.com/users/mfenniak","html_url":"https://github.com/mfenniak","followers_url":"https://api.github.com/users/mfenniak/followers","following_url":"https://api.github.com/users/mfenniak/following{/other_user}","gists_url":"https://api.github.com/users/mfenniak/gists{/gist_id}","starred_url":"https://api.github.com/users/mfenniak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfenniak/subscriptions","organizations_url":"https://api.github.com/users/mfenniak/orgs","repos_url":"https://api.github.com/users/mfenniak/repos","events_url":"https://api.github.com/users/mfenniak/events{/privacy}","received_events_url":"https://api.github.com/users/mfenniak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T12:55:33Z","updated_at":"2016-09-07T12:55:33Z","author_association":"CONTRIBUTOR","body":"Reference for config.storage.topic: https://github.com/apache/kafka/blob/bd8681cdd51d2878ea917941abe335f68a373716/connect/runtime/src/main/java/org/apache/kafka/connect/storage/KafkaConfigBackingStore.java#L84\n\nReference for status.storage.topic: https://github.com/apache/kafka/blob/bd8681cdd51d2878ea917941abe335f68a373716/connect/runtime/src/main/java/org/apache/kafka/connect/storage/KafkaStatusBackingStore.java#L57\n\nI'm a little less confident about offset.storage.topic, but it does seem clear to me that offsets should have a persistent state and Kafka is the only state used for the distributed worker.\n\nThis contribution is my original work and I license the work to the project under the project's open source license.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245271477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245296108","html_url":"https://github.com/apache/kafka/pull/1795#issuecomment-245296108","issue_url":"https://api.github.com/repos/apache/kafka/issues/1795","id":245296108,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTI5NjEwOA==","user":{"login":"cotedm","id":10028669,"node_id":"MDQ6VXNlcjEwMDI4NjY5","avatar_url":"https://avatars.githubusercontent.com/u/10028669?v=4","gravatar_id":"","url":"https://api.github.com/users/cotedm","html_url":"https://github.com/cotedm","followers_url":"https://api.github.com/users/cotedm/followers","following_url":"https://api.github.com/users/cotedm/following{/other_user}","gists_url":"https://api.github.com/users/cotedm/gists{/gist_id}","starred_url":"https://api.github.com/users/cotedm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cotedm/subscriptions","organizations_url":"https://api.github.com/users/cotedm/orgs","repos_url":"https://api.github.com/users/cotedm/repos","events_url":"https://api.github.com/users/cotedm/events{/privacy}","received_events_url":"https://api.github.com/users/cotedm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T14:22:09Z","updated_at":"2016-09-07T14:22:09Z","author_association":"CONTRIBUTOR","body":"latest commits address the two doc changes brought up by @ijuma \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245296108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245303463","html_url":"https://github.com/apache/kafka/pull/1795#issuecomment-245303463","issue_url":"https://api.github.com/repos/apache/kafka/issues/1795","id":245303463,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTMwMzQ2Mw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T14:44:28Z","updated_at":"2016-09-07T14:44:28Z","author_association":"MEMBER","body":"Thanks, LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245303463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245316628","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245316628","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245316628,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTMxNjYyOA==","user":{"login":"kawamuray","id":2255161,"node_id":"MDQ6VXNlcjIyNTUxNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2255161?v=4","gravatar_id":"","url":"https://api.github.com/users/kawamuray","html_url":"https://github.com/kawamuray","followers_url":"https://api.github.com/users/kawamuray/followers","following_url":"https://api.github.com/users/kawamuray/following{/other_user}","gists_url":"https://api.github.com/users/kawamuray/gists{/gist_id}","starred_url":"https://api.github.com/users/kawamuray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kawamuray/subscriptions","organizations_url":"https://api.github.com/users/kawamuray/orgs","repos_url":"https://api.github.com/users/kawamuray/repos","events_url":"https://api.github.com/users/kawamuray/events{/privacy}","received_events_url":"https://api.github.com/users/kawamuray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T15:24:02Z","updated_at":"2016-09-08T01:28:35Z","author_association":"CONTRIBUTOR","body":"@hachikuji Thanks for your comment.\n\"if a partition leader is not available\" means a leader broker went down but metadata isn't updated even on broker side yet so the fetched metadata still points dead broker as a leader of topic-partition right?\nIndeed in that case a client can continually send metadata update request in each time it fails to produce to the dead leader, but the interval between each metadata update request is still controllable by `reconnect.backoff.ms` IIUC.\nWhen producer tries to send next message which will be routed to dead broker, it tries to re-initiate connection to dead broker, fail, and `reconnect.backoff.ms` applied.\nOut of curiosity, but how is it harmful if clients continually send metadata request in tight loop during broker failover?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245316628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245329113","html_url":"https://github.com/apache/kafka/pull/1833#issuecomment-245329113","issue_url":"https://api.github.com/repos/apache/kafka/issues/1833","id":245329113,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTMyOTExMw==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T15:59:16Z","updated_at":"2016-09-07T15:59:16Z","author_association":"CONTRIBUTOR","body":"@enothereska @guozhangwang please review\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245329113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245350137","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245350137","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245350137,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTM1MDEzNw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T17:07:13Z","updated_at":"2016-09-07T17:08:25Z","author_association":"CONTRIBUTOR","body":"@kawamuray Hmm.. interesting point. We do get some protection from the reconnect backoff in some cases, but I'm still a little uneasy in general about changing the backoff behavior. The metadata requests can be harmful, especially in some cases for the consumer where we have to fetch metadata for all topics (i.e. regex subscriptions). We've seen cases where a bunch of clients fetching metadata in a tight loop have brought the cluster to its knees. \n\nWhat do you think about my suggestions above? We essentially keep the current behavior, but we bypass the backoff if the set of topics has changed since the last refresh.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245350137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245350893","html_url":"https://github.com/apache/kafka/pull/1821#issuecomment-245350893","issue_url":"https://api.github.com/repos/apache/kafka/issues/1821","id":245350893,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTM1MDg5Mw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T17:09:58Z","updated_at":"2016-09-07T17:09:58Z","author_association":"CONTRIBUTOR","body":"Pushed some changes and ran a suite of tests: http://testing.confluent.io/confluent-kafka-branch-builder-system-test-results/?prefix=2016-09-07--001.1473260158--hachikuji--KAFKA-3807--a9f4742/. One failure is the streams smoke test, which we know about. The other appears to have been a transient framework issue. I reran the test case individually and it works fine: http://confluent-kafka-branch-builder-system-test-results.s3-us-west-2.amazonaws.com/2016-09-07--001.1473268093--hachikuji--KAFKA-3807--a9f4742/report.txt.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245350893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245387793","html_url":"https://github.com/apache/kafka/pull/1834#issuecomment-245387793","issue_url":"https://api.github.com/repos/apache/kafka/issues/1834","id":245387793,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTM4Nzc5Mw==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T19:21:07Z","updated_at":"2016-09-07T19:21:07Z","author_association":"CONTRIBUTOR","body":"Note: DO NOT MERGE until ducktape 0.6.0 is released\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245387793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245387865","html_url":"https://github.com/apache/kafka/pull/1834#issuecomment-245387865","issue_url":"https://api.github.com/repos/apache/kafka/issues/1834","id":245387865,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTM4Nzg2NQ==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T19:21:24Z","updated_at":"2016-09-07T19:21:24Z","author_association":"CONTRIBUTOR","body":"ping @ewencp \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245387865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245400891","html_url":"https://github.com/apache/kafka/pull/1588#issuecomment-245400891","issue_url":"https://api.github.com/repos/apache/kafka/issues/1588","id":245400891,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTQwMDg5MQ==","user":{"login":"jeyhunkarimov","id":5923880,"node_id":"MDQ6VXNlcjU5MjM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/5923880?v=4","gravatar_id":"","url":"https://api.github.com/users/jeyhunkarimov","html_url":"https://github.com/jeyhunkarimov","followers_url":"https://api.github.com/users/jeyhunkarimov/followers","following_url":"https://api.github.com/users/jeyhunkarimov/following{/other_user}","gists_url":"https://api.github.com/users/jeyhunkarimov/gists{/gist_id}","starred_url":"https://api.github.com/users/jeyhunkarimov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeyhunkarimov/subscriptions","organizations_url":"https://api.github.com/users/jeyhunkarimov/orgs","repos_url":"https://api.github.com/users/jeyhunkarimov/repos","events_url":"https://api.github.com/users/jeyhunkarimov/events{/privacy}","received_events_url":"https://api.github.com/users/jeyhunkarimov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T20:08:36Z","updated_at":"2016-09-07T21:09:18Z","author_association":"CONTRIBUTOR","body":"@dguy sorry for late reply, I saw your reply few days ago. Can you please check the last PR?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245400891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245448879","html_url":"https://github.com/apache/kafka/pull/1336#issuecomment-245448879","issue_url":"https://api.github.com/repos/apache/kafka/issues/1336","id":245448879,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTQ0ODg3OQ==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T23:19:52Z","updated_at":"2016-09-07T23:19:52Z","author_association":"CONTRIBUTOR","body":"@junrao The patch is updated to include coordinator info when `--new-consumer` is used. Since the group column and the new coordinator column report redundant information I modified the output of `--new-consumer` option to\n\n```\nNote: This will only show information about consumers that use the new consumer API (non-ZooKeeper-based consumers).\n\nConsumer group: cgroup1\nConsumer group coordinator broker id: 0\n\nTOPIC                          PARTITION  CURRENT-OFFSET  LOG-END-OFFSET  LAG        MEMBER-ID                                          MEMBER-HOST                    CLIENT-ID\nbar                            0          234             234             0          consumer-1-a0d7940a-c90a-40df-b995-64d2e104bbb6    /127.0.0.1                     consumer-1\n```\n\nThe ZooKeeper based output will not print the coordinator line above.\n\nYour feedback is appreciated.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245448879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245451579","html_url":"https://github.com/apache/kafka/pull/1817#issuecomment-245451579","issue_url":"https://api.github.com/repos/apache/kafka/issues/1817","id":245451579,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTQ1MTU3OQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-07T23:34:13Z","updated_at":"2016-09-07T23:34:41Z","author_association":"CONTRIBUTOR","body":"@rajinisivaram Sorry for the late review. For some reason I had a stale version of the pr and didn't see the comments from Ismael and yourself (as well as the fact that you closed it). I think something like the current patch may still be nice to have even if it doesn't address all the problems with close() for the producer. In the consumer anyway, we would like to ensure that the final OffsetCommit and LeaveGroup do in fact get sent and it does seem like a problem that we might close() before transmitting a send stored in `KafkaChannel`. We might also need to flush unsent requests in `ConsumerNetworkClient`. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245451579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245457338","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245457338","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245457338,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTQ1NzMzOA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T00:08:31Z","updated_at":"2016-09-08T00:08:31Z","author_association":"CONTRIBUTOR","body":"@enothereska @dguy @mjsax as per our offline discussion, we think that using `context().getCache()` to move the cache from state stores to processor nodes is a bit too complicated to be exposed as public interfaces.\n\nAnother suggestion I am thinking now (sorry for throwing all these different ideas at this late time in reviewing), is that much of the complexity in cache we are introducing in this PR is due to the global eviction policy of the thread cache, where the thread can \"jump\" from one processor node to another node with a different in-flight record when trying to put a new record into the cache and cause cache entry evictions. We know that this is to allow more flexible caching behavior, or even generally speaking, having a flexible \"scheduling\" of the record processing based on caches instead of always processing a single record till the end of the topology before processing another one, but after reviewing this PR I feel its benefits may be overwhelmed by the extra overhead it is introducing.\n\nSo how about making a more restrictive eviction policy such that we still use global total bytes to limit all cache partition's sizes, but a `put` call into the cache will only cause records within the same namespace (and hence the same processor node / state store) to be flushed? Then we can consider abstracting this function to the DSL's use only, more specifically:\n1. Move `enableCaching` from `PersistentKeyValueFactory` to `KTableProcessorSupplier`, with one parameter `DirtyEntryFlushListener` as\n\n```\n    void enableCaching(DirtyEntryFlushListener);\n```\n\nwhere\n\n```\n    public interface DirtyEntryFlushListener {\n        void apply(final Bytes key, final byte[] value, RecordContext rc, ProcessorContext pc);\n    }\n```\n\nwhere `ProcessorContext` is passed as the one maintained on the processor side upon triggering. Other fields are similar to `DirtyEntry` but just with multiple variables instead of a wrapper variable, and `RecordContext` is an internal class.\n1. Add a `setTopic() / Partition() / Offset() / Timestamp()` functions in `ProcessorContext` to allow users to overwrite these values, and `ProcessorContext` no longer delegates to `StreamTask` for forwarding but keep these fields plus the `curNode` as local modifiable variables (note that `curNode` will not change when flushing happens in this case).\n2. Implement the listener as:\n\n```\napply(final Bytes key, final byte[] value, RecordContext rc, ProcessorContext pc) {\n    pc.setTopic(..);\n    pc.setPartition(..);\n    ...\n\n    pc.forward(key, value);\n}\n```\n\nSince `KTableProcessorSupplier` is specific to the Streams DSL, we are effectively abstracting this function away from non-DSL users since there is no `getCache` anymore in the `ProcessorContext`. For those who work directly on the processor API, they have to manually do this themselves or choose whatever dedupping implementation they prefer. And as a result, the `max.cache.bytes` config will be defined ONLY for the DSL.\n\nThoughts?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245457338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245461181","html_url":"https://github.com/apache/kafka/pull/1832#issuecomment-245461181","issue_url":"https://api.github.com/repos/apache/kafka/issues/1832","id":245461181,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTQ2MTE4MQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T00:35:53Z","updated_at":"2016-09-08T00:35:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch! Committed to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245461181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245461999","html_url":"https://github.com/apache/kafka/pull/1824#issuecomment-245461999","issue_url":"https://api.github.com/repos/apache/kafka/issues/1824","id":245461999,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTQ2MTk5OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T00:41:40Z","updated_at":"2016-09-08T00:41:40Z","author_association":"CONTRIBUTOR","body":"Created https://issues.apache.org/jira/browse/KAFKA-4143 for the transient failure in Jenkins.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245461999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245471939","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245471939","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245471939,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTQ3MTkzOQ==","user":{"login":"kawamuray","id":2255161,"node_id":"MDQ6VXNlcjIyNTUxNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2255161?v=4","gravatar_id":"","url":"https://api.github.com/users/kawamuray","html_url":"https://github.com/kawamuray","followers_url":"https://api.github.com/users/kawamuray/followers","following_url":"https://api.github.com/users/kawamuray/following{/other_user}","gists_url":"https://api.github.com/users/kawamuray/gists{/gist_id}","starred_url":"https://api.github.com/users/kawamuray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kawamuray/subscriptions","organizations_url":"https://api.github.com/users/kawamuray/orgs","repos_url":"https://api.github.com/users/kawamuray/repos","events_url":"https://api.github.com/users/kawamuray/events{/privacy}","received_events_url":"https://api.github.com/users/kawamuray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T01:52:40Z","updated_at":"2016-09-08T01:52:40Z","author_association":"CONTRIBUTOR","body":"@hachikuji \n\n> but we bypass the backoff if the set of topics has changed since the last refresh.\n\nHmm, I think this approach still doesn't work for following case?\n1. Successful metadata update.\n2. Successful metadata update again which is triggerred by metadata expiration. Highly likely the fetched metadata havn't changed since the last time, so refreshBackoffMs isn't overridden.\n3. BrokerA failed immediately after 2.\n4. Client wants to send metadata update request immediately but blocked by refreshBackoffMs before it allowed to do.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245471939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245517718","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245517718","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245517718,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTUxNzcxOA==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T07:37:09Z","updated_at":"2016-09-08T07:37:09Z","author_association":"CONTRIBUTOR","body":"@guozhangwang that would work for eviction, but not for `flush`. Flush happens at commit, so we effectively have no current `ProcessorNode`, so on each flushed entry we need to set the correct `ProcessorNode` otherwise we are flushing to nothing, or more likely NPE\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245517718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245535316","html_url":"https://github.com/apache/kafka/pull/1588#issuecomment-245535316","issue_url":"https://api.github.com/repos/apache/kafka/issues/1588","id":245535316,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTUzNTMxNg==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T08:55:14Z","updated_at":"2016-09-08T08:55:14Z","author_association":"CONTRIBUTOR","body":"Hi @jeyhunkarimov, looks like you've had a bad merge\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245535316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245535859","html_url":"https://github.com/apache/kafka/pull/1588#issuecomment-245535859","issue_url":"https://api.github.com/repos/apache/kafka/issues/1588","id":245535859,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTUzNTg1OQ==","user":{"login":"jeyhunkarimov","id":5923880,"node_id":"MDQ6VXNlcjU5MjM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/5923880?v=4","gravatar_id":"","url":"https://api.github.com/users/jeyhunkarimov","html_url":"https://github.com/jeyhunkarimov","followers_url":"https://api.github.com/users/jeyhunkarimov/followers","following_url":"https://api.github.com/users/jeyhunkarimov/following{/other_user}","gists_url":"https://api.github.com/users/jeyhunkarimov/gists{/gist_id}","starred_url":"https://api.github.com/users/jeyhunkarimov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeyhunkarimov/subscriptions","organizations_url":"https://api.github.com/users/jeyhunkarimov/orgs","repos_url":"https://api.github.com/users/jeyhunkarimov/repos","events_url":"https://api.github.com/users/jeyhunkarimov/events{/privacy}","received_events_url":"https://api.github.com/users/jeyhunkarimov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T08:57:18Z","updated_at":"2016-09-08T08:57:18Z","author_association":"CONTRIBUTOR","body":"@dguy yes, I forgot to rebase. I think my last commit (which is under test now) is ok.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245535859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245548567","html_url":"https://github.com/apache/kafka/pull/1428#issuecomment-245548567","issue_url":"https://api.github.com/repos/apache/kafka/issues/1428","id":245548567,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTU0ODU2Nw==","user":{"login":"mimaison","id":903615,"node_id":"MDQ6VXNlcjkwMzYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/903615?v=4","gravatar_id":"","url":"https://api.github.com/users/mimaison","html_url":"https://github.com/mimaison","followers_url":"https://api.github.com/users/mimaison/followers","following_url":"https://api.github.com/users/mimaison/following{/other_user}","gists_url":"https://api.github.com/users/mimaison/gists{/gist_id}","starred_url":"https://api.github.com/users/mimaison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mimaison/subscriptions","organizations_url":"https://api.github.com/users/mimaison/orgs","repos_url":"https://api.github.com/users/mimaison/repos","events_url":"https://api.github.com/users/mimaison/events{/privacy}","received_events_url":"https://api.github.com/users/mimaison/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T09:49:20Z","updated_at":"2016-09-08T09:49:20Z","author_association":"MEMBER","body":"@ijuma @hachikuji I believe we've addressed all the comments, can you have another look ?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245548567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245549077","html_url":"https://github.com/apache/kafka/pull/1428#issuecomment-245549077","issue_url":"https://api.github.com/repos/apache/kafka/issues/1428","id":245549077,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTU0OTA3Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T09:51:31Z","updated_at":"2016-09-08T09:51:31Z","author_association":"MEMBER","body":"Sorry for the delay @mimaison and thanks for the reminder. Will try to look at this soon.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245549077/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245590538","html_url":"https://github.com/apache/kafka/pull/1681#issuecomment-245590538","issue_url":"https://api.github.com/repos/apache/kafka/issues/1681","id":245590538,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTU5MDUzOA==","user":{"login":"cotedm","id":10028669,"node_id":"MDQ6VXNlcjEwMDI4NjY5","avatar_url":"https://avatars.githubusercontent.com/u/10028669?v=4","gravatar_id":"","url":"https://api.github.com/users/cotedm","html_url":"https://github.com/cotedm","followers_url":"https://api.github.com/users/cotedm/followers","following_url":"https://api.github.com/users/cotedm/following{/other_user}","gists_url":"https://api.github.com/users/cotedm/gists{/gist_id}","starred_url":"https://api.github.com/users/cotedm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cotedm/subscriptions","organizations_url":"https://api.github.com/users/cotedm/orgs","repos_url":"https://api.github.com/users/cotedm/repos","events_url":"https://api.github.com/users/cotedm/events{/privacy}","received_events_url":"https://api.github.com/users/cotedm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T13:05:17Z","updated_at":"2016-09-08T13:05:17Z","author_association":"CONTRIBUTOR","body":"Closing this because @hachikuji is going to work on this one from here\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245590538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245602639","html_url":"https://github.com/apache/kafka/pull/1588#issuecomment-245602639","issue_url":"https://api.github.com/repos/apache/kafka/issues/1588","id":245602639,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTYwMjYzOQ==","user":{"login":"jeyhunkarimov","id":5923880,"node_id":"MDQ6VXNlcjU5MjM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/5923880?v=4","gravatar_id":"","url":"https://api.github.com/users/jeyhunkarimov","html_url":"https://github.com/jeyhunkarimov","followers_url":"https://api.github.com/users/jeyhunkarimov/followers","following_url":"https://api.github.com/users/jeyhunkarimov/following{/other_user}","gists_url":"https://api.github.com/users/jeyhunkarimov/gists{/gist_id}","starred_url":"https://api.github.com/users/jeyhunkarimov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeyhunkarimov/subscriptions","organizations_url":"https://api.github.com/users/jeyhunkarimov/orgs","repos_url":"https://api.github.com/users/jeyhunkarimov/repos","events_url":"https://api.github.com/users/jeyhunkarimov/events{/privacy}","received_events_url":"https://api.github.com/users/jeyhunkarimov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T13:47:29Z","updated_at":"2016-09-08T13:47:29Z","author_association":"CONTRIBUTOR","body":"@dguy finally, my last commit passed checks I think. Can you please check this?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245602639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245603141","html_url":"https://github.com/apache/kafka/pull/1831#issuecomment-245603141","issue_url":"https://api.github.com/repos/apache/kafka/issues/1831","id":245603141,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTYwMzE0MQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T13:49:12Z","updated_at":"2016-09-08T13:49:12Z","author_association":"MEMBER","body":"LGTM, but I'll leave it for @hachikuji to review and merge.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245603141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245637215","html_url":"https://github.com/apache/kafka/pull/846#issuecomment-245637215","issue_url":"https://api.github.com/repos/apache/kafka/issues/846","id":245637215,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTYzNzIxNQ==","user":{"login":"omkreddy","id":8134545,"node_id":"MDQ6VXNlcjgxMzQ1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8134545?v=4","gravatar_id":"","url":"https://api.github.com/users/omkreddy","html_url":"https://github.com/omkreddy","followers_url":"https://api.github.com/users/omkreddy/followers","following_url":"https://api.github.com/users/omkreddy/following{/other_user}","gists_url":"https://api.github.com/users/omkreddy/gists{/gist_id}","starred_url":"https://api.github.com/users/omkreddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omkreddy/subscriptions","organizations_url":"https://api.github.com/users/omkreddy/orgs","repos_url":"https://api.github.com/users/omkreddy/repos","events_url":"https://api.github.com/users/omkreddy/events{/privacy}","received_events_url":"https://api.github.com/users/omkreddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T15:31:53Z","updated_at":"2016-09-08T15:31:53Z","author_association":"CONTRIBUTOR","body":"@MayureshGharat  I raised PR for similar issue  (KAFKA-4074) here: https://github.com/apache/kafka/pull/1784\n\nCan you rebase this PR?  I will try to merge my changes to this PR. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245637215/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245648165","html_url":"https://github.com/apache/kafka/pull/1794#issuecomment-245648165","issue_url":"https://api.github.com/repos/apache/kafka/issues/1794","id":245648165,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTY0ODE2NQ==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T16:04:05Z","updated_at":"2016-09-08T16:04:05Z","author_association":"CONTRIBUTOR","body":"@ewasserman : Sorry for the late review. I made a pass and left some comments.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245648165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245660649","html_url":"https://github.com/apache/kafka/pull/1831#issuecomment-245660649","issue_url":"https://api.github.com/repos/apache/kafka/issues/1831","id":245660649,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTY2MDY0OQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T16:43:49Z","updated_at":"2016-09-08T16:43:49Z","author_association":"CONTRIBUTOR","body":"LGTM. Merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245660649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245682195","html_url":"https://github.com/apache/kafka/pull/1833#issuecomment-245682195","issue_url":"https://api.github.com/repos/apache/kafka/issues/1833","id":245682195,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTY4MjE5NQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T17:53:44Z","updated_at":"2016-09-08T17:53:44Z","author_association":"CONTRIBUTOR","body":"LGTM and merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245682195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245707832","html_url":"https://github.com/apache/kafka/pull/1588#issuecomment-245707832","issue_url":"https://api.github.com/repos/apache/kafka/issues/1588","id":245707832,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTcwNzgzMg==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T19:13:03Z","updated_at":"2016-09-08T19:13:03Z","author_association":"CONTRIBUTOR","body":"Thanks @jeyhunkarimov for the updates. I'm going to have to hold off on reviewing as there are some other big changes that are close to going in and will likely have an impact on this. So i don't want to say one thing and then in a few days have to say something different. I do apologize.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245707832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245708672","html_url":"https://github.com/apache/kafka/pull/1588#issuecomment-245708672","issue_url":"https://api.github.com/repos/apache/kafka/issues/1588","id":245708672,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTcwODY3Mg==","user":{"login":"jeyhunkarimov","id":5923880,"node_id":"MDQ6VXNlcjU5MjM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/5923880?v=4","gravatar_id":"","url":"https://api.github.com/users/jeyhunkarimov","html_url":"https://github.com/jeyhunkarimov","followers_url":"https://api.github.com/users/jeyhunkarimov/followers","following_url":"https://api.github.com/users/jeyhunkarimov/following{/other_user}","gists_url":"https://api.github.com/users/jeyhunkarimov/gists{/gist_id}","starred_url":"https://api.github.com/users/jeyhunkarimov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeyhunkarimov/subscriptions","organizations_url":"https://api.github.com/users/jeyhunkarimov/orgs","repos_url":"https://api.github.com/users/jeyhunkarimov/repos","events_url":"https://api.github.com/users/jeyhunkarimov/events{/privacy}","received_events_url":"https://api.github.com/users/jeyhunkarimov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T19:15:55Z","updated_at":"2016-09-08T19:15:55Z","author_association":"CONTRIBUTOR","body":"@dguy thanks for your response. Sure, whenever it is possible to review you can do it. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245708672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245721703","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245721703","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245721703,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTcyMTcwMw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T20:01:43Z","updated_at":"2016-09-08T20:01:43Z","author_association":"CONTRIBUTOR","body":"@dguy Is that fixable by modifying `StreamTask.commit()` to also walk through the topology's state stores and set the `currNode` before we evict the dirty entries, just like what is done in `StreamTask.close()` except that we now need to move the `currNode` to `ProcessorContext` from the task?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245721703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245737394","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245737394","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245737394,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTczNzM5NA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T20:54:18Z","updated_at":"2016-09-08T20:54:18Z","author_association":"CONTRIBUTOR","body":"@kawamuray I think a longer delay to respond to failures is basically the price you have to pay to avoid overwhelming the servers. It takes a little time on the server side to detect the failure and migrate partitions anyway, so I don't think immediately sending a metadata update after the failure would have much value, though I could be wrong. I'd prefer for now to leave the current backoff behavior in tact except when we know something in the request has changed. Perhaps it would make sense to consider in a follow-up issue whether something like exponential backoff would be a more ideal way to address this problem in practice.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245737394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245738056","html_url":"https://github.com/apache/kafka/pull/1836#issuecomment-245738056","issue_url":"https://api.github.com/repos/apache/kafka/issues/1836","id":245738056,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTczODA1Ng==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T20:56:25Z","updated_at":"2016-09-08T20:56:25Z","author_association":"CONTRIBUTOR","body":"@hachikuji @ijuma The old PR was not useful for producers and it wasn't fully fixing consumers either. So here is a new PR. The changes are:\n1. Consumers now wait for pending coordinator requests to complete. So this should take care of commits and leave-group.\n2. Broker now handles completed receives from channels when a channel is closed. With producer acks=0 when requests are immediately followed by close + exit, this change processes the last messages received instead of dropping them.\n\nFor producers with acks=0, it may still be possible to lose data if the producer exits immediately after sending a lot of messages because SO_LINGER doesn't linger in non-blocking mode. But I haven't been able to recreate the problem with this PR.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245738056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245761677","html_url":"https://github.com/apache/kafka/pull/1696#issuecomment-245761677","issue_url":"https://api.github.com/repos/apache/kafka/issues/1696","id":245761677,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTc2MTY3Nw==","user":{"login":"rekhajoshm","id":5987836,"node_id":"MDQ6VXNlcjU5ODc4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5987836?v=4","gravatar_id":"","url":"https://api.github.com/users/rekhajoshm","html_url":"https://github.com/rekhajoshm","followers_url":"https://api.github.com/users/rekhajoshm/followers","following_url":"https://api.github.com/users/rekhajoshm/following{/other_user}","gists_url":"https://api.github.com/users/rekhajoshm/gists{/gist_id}","starred_url":"https://api.github.com/users/rekhajoshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rekhajoshm/subscriptions","organizations_url":"https://api.github.com/users/rekhajoshm/orgs","repos_url":"https://api.github.com/users/rekhajoshm/repos","events_url":"https://api.github.com/users/rekhajoshm/events{/privacy}","received_events_url":"https://api.github.com/users/rekhajoshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-08T22:28:01Z","updated_at":"2016-09-08T22:28:01Z","author_association":"CONTRIBUTOR","body":"Thank you @ewencp @shikhar for your review comments.sorry, had lost thread of this, updated.Please have a look.thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245761677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245805222","html_url":"https://github.com/apache/kafka/pull/1726#issuecomment-245805222","issue_url":"https://api.github.com/repos/apache/kafka/issues/1726","id":245805222,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgwNTIyMg==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T02:57:52Z","updated_at":"2016-09-09T02:57:52Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks for patch! Committed to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245805222/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245820786","html_url":"https://github.com/apache/kafka/pull/1363#issuecomment-245820786","issue_url":"https://api.github.com/repos/apache/kafka/issues/1363","id":245820786,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgyMDc4Ng==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T05:08:53Z","updated_at":"2016-09-09T05:08:53Z","author_association":"CONTRIBUTOR","body":"The fix for this defect was provided as part of a [PR](https://github.com/apache/kafka/pull/1726) for [KIP-70](https://cwiki.apache.org/confluence/display/KAFKA/KIP-70%3A+Revise+Partition+Assignment+Semantics+on+New+Consumer's+Subscription+Change) ([KAFKA-4033](https://issues.apache.org/jira/browse/KAFKA-4033)). Closing this PR.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245820786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245835435","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245835435","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245835435,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgzNTQzNQ==","user":{"login":"kawamuray","id":2255161,"node_id":"MDQ6VXNlcjIyNTUxNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2255161?v=4","gravatar_id":"","url":"https://api.github.com/users/kawamuray","html_url":"https://github.com/kawamuray","followers_url":"https://api.github.com/users/kawamuray/followers","following_url":"https://api.github.com/users/kawamuray/following{/other_user}","gists_url":"https://api.github.com/users/kawamuray/gists{/gist_id}","starred_url":"https://api.github.com/users/kawamuray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kawamuray/subscriptions","organizations_url":"https://api.github.com/users/kawamuray/orgs","repos_url":"https://api.github.com/users/kawamuray/repos","events_url":"https://api.github.com/users/kawamuray/events{/privacy}","received_events_url":"https://api.github.com/users/kawamuray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T06:59:33Z","updated_at":"2016-09-09T16:32:45Z","author_association":"CONTRIBUTOR","body":"@hachikuji \n\n> It takes a little time on the server side to detect the failure and migrate partitions anyway\n\nI think this isn't true for some cases. For example, when we perform rolling restart of brokers, each broker will shutdown gracefully so the controller can detect shutdown broker much faster than waiting zk session timeout.\n\n> so I don't think immediately sending a metadata update after the failure would have much value\n\nHowever I agree with this. At least in case of broker failure, the first immediate metadata request likely results unchanged metadata, which results producer to wait `retry.backoff.ms` at least to recover anyways.\n\nActually I'm bit confusing now. The reason I lengthened `retry.backoff.ms` was to prevent a producer being send retry Produce requests in tight loop and exhaust retry attempts w/o waiting sufficient time for broker recovery, but seems the actual behavior is different from what I expected.\nWhen I shortened `retry.backoff.ms`, on each Sender#run it tries to re-initiate connection to dead leader, so the NetworkClient#ready doesn't return true for unavailable topic-partition's leader node then retry count won't decreased in that attempt. Even on next loop, the Selector already knows that the dead leader has already disconnected so the same thing happens, so producer won't exhaust retry attempts during this loop. Also the WARN logs such as \"Got error produce response with correlation id ...\" won't flood in logs.\n\nThen the first case(the first producer.send() blocked inappropriately) is the only problem as long as we keep `retry.backoff.ms` to reasonably smaller value?\nIn case, is there any reason we still better follow your idea(do not apply backoff when the last result changed)? Or is the single line of change - `metadata.update(..., 0)` - enough to fix this?\n\nAnyway, I strongly agree with that it's much better to have exponential backoff or just an idea but something like \"listen to metadata update\" mechanism which sounds like not that hard to implement as we already have purgatory implementation in server side, in order to minimize MTTR. WDYT?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245835435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245838367","html_url":"https://github.com/apache/kafka/pull/1837#issuecomment-245838367","issue_url":"https://api.github.com/repos/apache/kafka/issues/1837","id":245838367,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgzODM2Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T07:18:00Z","updated_at":"2016-09-09T07:18:00Z","author_association":"MEMBER","body":"Thanks for the PR, LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245838367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245864962","html_url":"https://github.com/apache/kafka/pull/1821#issuecomment-245864962","issue_url":"https://api.github.com/repos/apache/kafka/issues/1821","id":245864962,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg2NDk2Mg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T09:27:50Z","updated_at":"2016-09-09T09:27:50Z","author_association":"MEMBER","body":"Thanks for the updates @hachikuji, I went through the PR once again and left a few minor comments. They should be trivial to address and then we can finally merge it. :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245864962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245894812","html_url":"https://github.com/apache/kafka/pull/1838#issuecomment-245894812","issue_url":"https://api.github.com/repos/apache/kafka/issues/1838","id":245894812,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg5NDgxMg==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T12:06:40Z","updated_at":"2016-09-09T12:06:40Z","author_association":"CONTRIBUTOR","body":"@ijuma please have a look.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245894812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245897850","html_url":"https://github.com/apache/kafka/pull/1838#issuecomment-245897850","issue_url":"https://api.github.com/repos/apache/kafka/issues/1838","id":245897850,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg5Nzg1MA==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T12:22:42Z","updated_at":"2016-09-09T12:24:07Z","author_association":"CONTRIBUTOR","body":"When I ran the test with the above modification I got:\n_(ducktape tests/kafkatest/tests/streams/streams_smoke_test.py\n[INFO:2016-09-09 13:03:11,820]: SerialTestRunner: starting test run with session id 2016-09-09--009...\n[INFO:2016-09-09 13:03:11,821]: SerialTestRunner: running 1 tests...\n\n# [INFO:2016-09-09 13:03:11,821]: SerialTestRunner: Ignoring, and moving to next test...\n\nSESSION REPORT (ALL TESTS)\nsession_id: 2016-09-09--009\nrun time:   0.001 seconds\ntests run:  1\npassed:     0\nfailed:     0\n\n# ignored:    1\n\ntest_id:    2016-09-09--009.kafkatest.tests.streams.streams_smoke_test.StreamsSmokeTest.test_streams\nstatus:     IGNORE\nrun time:   0.000 seconds\n--------------------------------------------------------------------------------------------------------------_\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245897850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245901295","html_url":"https://github.com/apache/kafka/pull/1838#issuecomment-245901295","issue_url":"https://api.github.com/repos/apache/kafka/issues/1838","id":245901295,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTkwMTI5NQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T12:39:42Z","updated_at":"2016-09-09T12:39:50Z","author_association":"MEMBER","body":"Thanks for the PR, LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245901295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245954756","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-245954756","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":245954756,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTk1NDc1Ng==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T15:52:09Z","updated_at":"2016-09-09T15:52:09Z","author_association":"CONTRIBUTOR","body":"@guozhangwang big update. \n- Removed all of the caching related code from the Public API ( is possible there might be some left as big change)\n- Cache eviction now only evicts from the current namespace.\n- Cache flushing works pretty much as suggested above, though it is `ProcessorStateManager` that actually does the flushing.\n- In order to remove all the caching stuff from the Public API i created 2 new internal interfaces: \n  1. `CacheEnabledProcessor` - this is just a marker interface that is implemented by `KTableProcessorSupplier`, `KStreamReduce` etc and is used in `TopologyBuilder` to identify `ProcessorNode`s that will have `StateStore`s with caching enabled.\n  2. `CanSendOldValues` - this is for `StateStore`s that will forward old values in the case when  caching is on, so for instance, `InMemoryKeyValueStore` doesn't implement this, but `RocksDBStore` does\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245954756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245966152","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-245966152","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":245966152,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTk2NjE1Mg==","user":{"login":"kawamuray","id":2255161,"node_id":"MDQ6VXNlcjIyNTUxNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2255161?v=4","gravatar_id":"","url":"https://api.github.com/users/kawamuray","html_url":"https://github.com/kawamuray","followers_url":"https://api.github.com/users/kawamuray/followers","following_url":"https://api.github.com/users/kawamuray/following{/other_user}","gists_url":"https://api.github.com/users/kawamuray/gists{/gist_id}","starred_url":"https://api.github.com/users/kawamuray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kawamuray/subscriptions","organizations_url":"https://api.github.com/users/kawamuray/orgs","repos_url":"https://api.github.com/users/kawamuray/repos","events_url":"https://api.github.com/users/kawamuray/events{/privacy}","received_events_url":"https://api.github.com/users/kawamuray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T16:31:18Z","updated_at":"2016-09-09T16:31:18Z","author_association":"CONTRIBUTOR","body":"@hachikuji \nugh, I think I didn't understand your idea properly.\n\n> Perhaps we can loosen this and override the backoff interval if the set of topics being fetched changes\n\nI read through your comments again and realized that \"set of topics\" is `topics` field of Metadata you meant. Then your idea would prevents this:\n\n``` java\nproducer.send(new ProducerRecord(\"topic-A\", ...));\nproducer.send(new ProducerRecord(\"topic-B\", ...)); // Maybe blocked refreshBackoffMs\n```\n\nOf course it prevents the first problem as well.\nSounds good to try. Let me update this PR to apply your suggestion.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/245966152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246014495","html_url":"https://github.com/apache/kafka/pull/1840#issuecomment-246014495","issue_url":"https://api.github.com/repos/apache/kafka/issues/1840","id":246014495,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjAxNDQ5NQ==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T19:27:12Z","updated_at":"2016-09-09T19:27:12Z","author_association":"CONTRIBUTOR","body":"@guozhangwang @enothereska just spotted this one\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246014495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246028271","html_url":"https://github.com/apache/kafka/pull/1821#issuecomment-246028271","issue_url":"https://api.github.com/repos/apache/kafka/issues/1821","id":246028271,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjAyODI3MQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T20:20:19Z","updated_at":"2016-09-09T20:20:19Z","author_association":"MEMBER","body":"Thanks for the PR, LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246028271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246049578","html_url":"https://github.com/apache/kafka/pull/1840#issuecomment-246049578","issue_url":"https://api.github.com/repos/apache/kafka/issues/1840","id":246049578,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA0OTU3OA==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T21:46:07Z","updated_at":"2016-09-09T21:46:07Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246049578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246057017","html_url":"https://github.com/apache/kafka/pull/1839#issuecomment-246057017","issue_url":"https://api.github.com/repos/apache/kafka/issues/1839","id":246057017,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA1NzAxNw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T22:21:38Z","updated_at":"2016-09-09T22:21:38Z","author_association":"CONTRIBUTOR","body":"@vahidhashemian The other approach here is to remove the comment saying that it is an error. I'm wondering about use cases where the subscribed topics is dynamic and may be empty at times. Previously this was supported, but now it will break. But maybe in this case it's not too bad for people to restructure their code to skip the call to poll if no topics are subscribed. What do you think?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246057017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246060597","html_url":"https://github.com/apache/kafka/pull/1839#issuecomment-246060597","issue_url":"https://api.github.com/repos/apache/kafka/issues/1839","id":246060597,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA2MDU5Nw==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T22:40:58Z","updated_at":"2016-09-09T22:40:58Z","author_association":"CONTRIBUTOR","body":"@hachikuji It comes down to deciding whether issuing a `poll` following an `unsubscribe` should be allowed or not. Conceptually, we could argue that a `poll` when the consumer is not subscribed to any topic is meaningless and it would be reasonable to raise an exception in this case (in fact, it could help in avoiding this normally unwanted scenario in consumer code). This change does not break any of the existing unit tests. So it's a matter of whether users make a call to `poll` irrespective of consumers' subscription status.\n\nHaving said that, I'm okay with removing the comment too, as it's the safer alternative.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246060597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246064613","html_url":"https://github.com/apache/kafka/pull/1707#issuecomment-246064613","issue_url":"https://api.github.com/repos/apache/kafka/issues/1707","id":246064613,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA2NDYxMw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T23:05:24Z","updated_at":"2016-09-09T23:05:24Z","author_association":"CONTRIBUTOR","body":"@kawamuray Yeah, sounds good, sorry if my suggestion wasn't clear at first (I've been looking at this code a little too long so I just assume everyone else has as well). Also good to know that we won't exhaust the retry limit for produce requests when dealing with partition leader failover.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246064613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246080692","html_url":"https://github.com/apache/kafka/pull/1843#issuecomment-246080692","issue_url":"https://api.github.com/repos/apache/kafka/issues/1843","id":246080692,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA4MDY5Mg==","user":{"login":"bbejeck","id":199238,"node_id":"MDQ6VXNlcjE5OTIzOA==","avatar_url":"https://avatars.githubusercontent.com/u/199238?v=4","gravatar_id":"","url":"https://api.github.com/users/bbejeck","html_url":"https://github.com/bbejeck","followers_url":"https://api.github.com/users/bbejeck/followers","following_url":"https://api.github.com/users/bbejeck/following{/other_user}","gists_url":"https://api.github.com/users/bbejeck/gists{/gist_id}","starred_url":"https://api.github.com/users/bbejeck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbejeck/subscriptions","organizations_url":"https://api.github.com/users/bbejeck/orgs","repos_url":"https://api.github.com/users/bbejeck/repos","events_url":"https://api.github.com/users/bbejeck/events{/privacy}","received_events_url":"https://api.github.com/users/bbejeck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-10T01:48:09Z","updated_at":"2016-09-10T01:49:32Z","author_association":"MEMBER","body":"Moved the updates for topics matching the supplied regex to the StreamPartitionAssignor.subscription method.  This allows any following Regex KStream-Consumers to be updated with the subscribed topics.  The previous version had an implicit assumption that the KStream-consumer would only be the leader.\n\nI'm working on an integration test, but I wanted to get the fix in for review\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246080692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246095780","html_url":"https://github.com/apache/kafka/pull/1842#issuecomment-246095780","issue_url":"https://api.github.com/repos/apache/kafka/issues/1842","id":246095780,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA5NTc4MA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-10T07:03:33Z","updated_at":"2016-09-10T07:03:33Z","author_association":"MEMBER","body":"Thanks for the PR, LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246095780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246096412","html_url":"https://github.com/apache/kafka/pull/1841#issuecomment-246096412","issue_url":"https://api.github.com/repos/apache/kafka/issues/1841","id":246096412,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA5NjQxMg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-10T07:15:51Z","updated_at":"2016-09-10T07:15:51Z","author_association":"MEMBER","body":"@hachikuji, can you please elaborate on the race condition that was causing the NPE? Do I understand correctly that it was just a test problem and not something that would affect non-test usage?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246096412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246098584","html_url":"https://github.com/apache/kafka/pull/1753#issuecomment-246098584","issue_url":"https://api.github.com/repos/apache/kafka/issues/1753","id":246098584,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjA5ODU4NA==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-10T08:07:10Z","updated_at":"2016-09-10T08:07:10Z","author_association":"CONTRIBUTOR","body":"@junrao Would you be a able to review this in time to include in 0.10.1.0? Thank you...\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246098584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246102581","html_url":"https://github.com/apache/kafka/pull/1840#issuecomment-246102581","issue_url":"https://api.github.com/repos/apache/kafka/issues/1840","id":246102581,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjEwMjU4MQ==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-10T09:42:51Z","updated_at":"2016-09-10T09:42:51Z","author_association":"CONTRIBUTOR","body":"@dguy looks like there was an error on queryOnRebalance.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246102581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246125289","html_url":"https://github.com/apache/kafka/pull/1812#issuecomment-246125289","issue_url":"https://api.github.com/repos/apache/kafka/issues/1812","id":246125289,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjEyNTI4OQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-10T17:44:45Z","updated_at":"2016-09-10T17:44:45Z","author_association":"MEMBER","body":"@nepal the release plan for 0.10.1.0 has been posted and the feature freeze is on the 19th September. So we are on a tight schedule. :) Have you had a chance to work on the missing bits and do you have an ETA? Let us know if we can help move this forward. Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246125289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246127531","html_url":"https://github.com/apache/kafka/pull/1841#issuecomment-246127531","issue_url":"https://api.github.com/repos/apache/kafka/issues/1841","id":246127531,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjEyNzUzMQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-10T18:26:22Z","updated_at":"2016-09-10T18:26:22Z","author_association":"CONTRIBUTOR","body":"@ijuma Yeah, sorry for the shortage of details. The problem was basically that there was a race condition where the heartbeat thread could execute the offset response logic before the calling thread. With bad luck, the update of the committed position can then actually occur after the calling thread calls poll(). So the sequence is something like this:\n\nforeground: sendOffsetCommit()\nbackground: poll() -> offset commit response returns\nforeground: poll() -> nothing to do\nforeground: assert committed position\nbackground: set committed position\n\nSo my fix was basically to take the background thread out of the equation, since it is not actually significant to the functionality under test. Initially, I could get a handful of instances of this problem every 500 runs of the test or so. With the change, I haven't seen a recurrence after several thousand runs.\n\nAs far as I can tell, this is only a problem with the test case. I don't think it's a problem in `KafkaConsumer.committed()` because we will block to update the committed position if it happens to be null.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246127531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246161970","html_url":"https://github.com/apache/kafka/pull/1794#issuecomment-246161970","issue_url":"https://api.github.com/repos/apache/kafka/issues/1794","id":246161970,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjE2MTk3MA==","user":{"login":"ewasserman","id":5298980,"node_id":"MDQ6VXNlcjUyOTg5ODA=","avatar_url":"https://avatars.githubusercontent.com/u/5298980?v=4","gravatar_id":"","url":"https://api.github.com/users/ewasserman","html_url":"https://github.com/ewasserman","followers_url":"https://api.github.com/users/ewasserman/followers","following_url":"https://api.github.com/users/ewasserman/following{/other_user}","gists_url":"https://api.github.com/users/ewasserman/gists{/gist_id}","starred_url":"https://api.github.com/users/ewasserman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewasserman/subscriptions","organizations_url":"https://api.github.com/users/ewasserman/orgs","repos_url":"https://api.github.com/users/ewasserman/repos","events_url":"https://api.github.com/users/ewasserman/events{/privacy}","received_events_url":"https://api.github.com/users/ewasserman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-11T04:55:48Z","updated_at":"2016-09-11T04:55:48Z","author_association":"CONTRIBUTOR","body":"@junrao Thanks for the review. Hope this addresses all the issues you found.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246161970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246162736","html_url":"https://github.com/apache/kafka/pull/1794#issuecomment-246162736","issue_url":"https://api.github.com/repos/apache/kafka/issues/1794","id":246162736,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjE2MjczNg==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-11T05:25:20Z","updated_at":"2016-09-11T05:25:20Z","author_association":"CONTRIBUTOR","body":"@ewasserman : Thanks for the updated patch. Left a few more minor comments.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246162736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246166542","html_url":"https://github.com/apache/kafka/pull/1841#issuecomment-246166542","issue_url":"https://api.github.com/repos/apache/kafka/issues/1841","id":246166542,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjE2NjU0Mg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-11T07:27:41Z","updated_at":"2016-09-11T07:45:34Z","author_association":"MEMBER","body":"Thanks for the explanation @hachikuji. ~~I was looking at the `KafkaConsumer.committed` code and it calls `refreshCommittedOffsetsIfNeeded`, which seems to update state in `SubscriptionState` without any lock. It looks like `refreshCommittedOffsetsIfNeeded` is called from methods that could be called from the heartbeat thread. Am I overlooking something or is this an issue?~~ My bad, it seems fine.\n\nLGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246166542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246167260","html_url":"https://github.com/apache/kafka/pull/1835#issuecomment-246167260","issue_url":"https://api.github.com/repos/apache/kafka/issues/1835","id":246167260,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjE2NzI2MA==","user":{"login":"sslavic","id":176382,"node_id":"MDQ6VXNlcjE3NjM4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/176382?v=4","gravatar_id":"","url":"https://api.github.com/users/sslavic","html_url":"https://github.com/sslavic","followers_url":"https://api.github.com/users/sslavic/followers","following_url":"https://api.github.com/users/sslavic/following{/other_user}","gists_url":"https://api.github.com/users/sslavic/gists{/gist_id}","starred_url":"https://api.github.com/users/sslavic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sslavic/subscriptions","organizations_url":"https://api.github.com/users/sslavic/orgs","repos_url":"https://api.github.com/users/sslavic/repos","events_url":"https://api.github.com/users/sslavic/events{/privacy}","received_events_url":"https://api.github.com/users/sslavic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-11T07:49:56Z","updated_at":"2016-09-11T07:49:56Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246167260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246218192","html_url":"https://github.com/apache/kafka/pull/1753#issuecomment-246218192","issue_url":"https://api.github.com/repos/apache/kafka/issues/1753","id":246218192,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjIxODE5Mg==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T01:14:18Z","updated_at":"2016-09-12T01:14:18Z","author_association":"CONTRIBUTOR","body":"@rajinisivaram : Sorry for the late review. I made a pass and left some comments. \n\nAlso, could update the design doc on quota related stuff?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246218192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246220809","html_url":"https://github.com/apache/kafka/pull/1794#issuecomment-246220809","issue_url":"https://api.github.com/repos/apache/kafka/issues/1794","id":246220809,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjIyMDgwOQ==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T01:45:31Z","updated_at":"2016-09-12T01:45:31Z","author_association":"CONTRIBUTOR","body":"@ewasserman : Thanks for the patch. LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246220809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246234981","html_url":"https://github.com/apache/kafka/pull/1689#issuecomment-246234981","issue_url":"https://api.github.com/repos/apache/kafka/issues/1689","id":246234981,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjIzNDk4MQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T03:21:34Z","updated_at":"2016-09-12T03:21:34Z","author_association":"CONTRIBUTOR","body":"@antonnazaruk Sorry for the late reply...\n\nWe have discussed about this issue on Apache Kafka mailing list several times, and will soon propose an API modification about punctuate semantics. This change may not likely to be included in the Oct. release as it is approaching to the feature freeze deadline, but will keep you posted on the proposal.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246234981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246238468","html_url":"https://github.com/apache/kafka/pull/1840#issuecomment-246238468","issue_url":"https://api.github.com/repos/apache/kafka/issues/1840","id":246238468,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjIzODQ2OA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T04:00:45Z","updated_at":"2016-09-12T04:00:45Z","author_association":"CONTRIBUTOR","body":"LGTM and merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246238468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246254784","html_url":"https://github.com/apache/kafka/pull/1828#issuecomment-246254784","issue_url":"https://api.github.com/repos/apache/kafka/issues/1828","id":246254784,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjI1NDc4NA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T05:44:19Z","updated_at":"2016-09-12T05:44:19Z","author_association":"CONTRIBUTOR","body":"@dguy This is semi-related to the KIP-71's streams end changes, could you make a pass of this PR? The main idea is to lift the restriction that a state store must be changelog-backed or it is from `KTableSource` (hence the source topic can be just treated as the changelog).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246254784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246254813","html_url":"https://github.com/apache/kafka/pull/1828#issuecomment-246254813","issue_url":"https://api.github.com/repos/apache/kafka/issues/1828","id":246254813,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjI1NDgxMw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T05:44:34Z","updated_at":"2016-09-12T05:44:34Z","author_association":"CONTRIBUTOR","body":"@dguy Just saw you are already on this, so nvm :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246254813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246255247","html_url":"https://github.com/apache/kafka/pull/1752#issuecomment-246255247","issue_url":"https://api.github.com/repos/apache/kafka/issues/1752","id":246255247,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjI1NTI0Nw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T05:48:22Z","updated_at":"2016-09-12T05:48:22Z","author_association":"CONTRIBUTOR","body":"@enothereska @dguy Make a quick pass over the new changes, overall looks reasonable. I have not looked deep into the delegate iterator for query-and-merge yet.\n\nI will make a more thorough pass over this PR tomorrow.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246255247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246255299","html_url":"https://github.com/apache/kafka/pull/1799#issuecomment-246255299","issue_url":"https://api.github.com/repos/apache/kafka/issues/1799","id":246255299,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjI1NTI5OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T05:48:52Z","updated_at":"2016-09-12T05:48:52Z","author_association":"CONTRIBUTOR","body":"@hjafarpour Could you try to address the comments?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246255299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246328620","html_url":"https://github.com/apache/kafka/pull/1812#issuecomment-246328620","issue_url":"https://api.github.com/repos/apache/kafka/issues/1812","id":246328620,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjMyODYyMA==","user":{"login":"nepal","id":791273,"node_id":"MDQ6VXNlcjc5MTI3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/791273?v=4","gravatar_id":"","url":"https://api.github.com/users/nepal","html_url":"https://github.com/nepal","followers_url":"https://api.github.com/users/nepal/followers","following_url":"https://api.github.com/users/nepal/following{/other_user}","gists_url":"https://api.github.com/users/nepal/gists{/gist_id}","starred_url":"https://api.github.com/users/nepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nepal/subscriptions","organizations_url":"https://api.github.com/users/nepal/orgs","repos_url":"https://api.github.com/users/nepal/repos","events_url":"https://api.github.com/users/nepal/events{/privacy}","received_events_url":"https://api.github.com/users/nepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T12:12:25Z","updated_at":"2016-09-12T12:12:25Z","author_association":"CONTRIBUTOR","body":"I've pushed interface change for FetchRequest/Response. The remaining bits are -\n1) tests\n2) round robin logic (in AbstractFetcherThread?).\n\n@ijuma  - not sure if I can finish this until feature freeze, so maybe it is a good time for you to step in.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246328620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246333485","html_url":"https://github.com/apache/kafka/pull/1753#issuecomment-246333485","issue_url":"https://api.github.com/repos/apache/kafka/issues/1753","id":246333485,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjMzMzQ4NQ==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T12:34:58Z","updated_at":"2016-09-12T12:34:58Z","author_association":"CONTRIBUTOR","body":"@junrao Thank you very much for the review. I have addressed all your comments. I will update the design docs and document the config changes under KAFKA-4079.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246333485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246344005","html_url":"https://github.com/apache/kafka/pull/1845#issuecomment-246344005","issue_url":"https://api.github.com/repos/apache/kafka/issues/1845","id":246344005,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjM0NDAwNQ==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T13:18:12Z","updated_at":"2016-09-12T13:18:12Z","author_association":"CONTRIBUTOR","body":"@enothereska @guozhangwang - i just came across this one when `QueryableStateIntegerationTest.queryOnRebalance` failed.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246344005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246344167","html_url":"https://github.com/apache/kafka/pull/1845#issuecomment-246344167","issue_url":"https://api.github.com/repos/apache/kafka/issues/1845","id":246344167,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjM0NDE2Nw==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T13:18:44Z","updated_at":"2016-09-12T13:18:44Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/246344167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]