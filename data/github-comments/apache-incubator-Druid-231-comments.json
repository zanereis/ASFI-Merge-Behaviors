[{"url":"https://api.github.com/repos/apache/druid/issues/comments/476857575","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-476857575","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":476857575,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg1NzU3NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T21:21:23Z","updated_at":"2019-03-26T21:21:23Z","author_association":"CONTRIBUTOR","body":"This suggested terminology sounds reasonable to me - in summary, not changing the meaning of `is_available` or `is_published`, but adding a new `is_active` property that basically means `is_published && is_not_overshadowed_by_any_other_published_segment`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476857575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476858742","html_url":"https://github.com/apache/druid/pull/7336#issuecomment-476858742","issue_url":"https://api.github.com/repos/apache/druid/issues/7336","id":476858742,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg1ODc0Mg==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T21:25:04Z","updated_at":"2019-03-26T21:25:04Z","author_association":"NONE","body":"@xueyumusic could you please check the test failure.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476858742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476861755","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-476861755","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":476861755,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg2MTc1NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T21:34:15Z","updated_at":"2019-03-26T21:34:15Z","author_association":"CONTRIBUTOR","body":"> Reconcile terminology and method naming to 'used/unused segments'\r\n\r\nThis looks related and somewhat conflicting with the terminology discussion on #7233, where initial confusion over the meaning of `is_published` led to a suggestion of creating a new term \"active\". What do you think about the suggestion on https://github.com/apache/incubator-druid/issues/7233#issuecomment-474639633?\r\n\r\nI think if we go with where 7233 is going, the term for \"used segments\" would be \"published segments\". Fwiw, one reason I like this term because it lends itself well to being used as verbs in the following way:\r\n\r\n- A task would first _push_ a segment to deep storage, and then _publish_ it to the metadata store.\r\n- When a segment is dropped it is _unpublished_ from the metadata store by setting `used = false`.\r\n\r\n> Don't use terms 'enable/disable data source'\r\n\r\nYeah, I definitely also believe these terms are not great, and are confusing for the reasons you mention. Here the \"publish\" and \"unpublish\" terms are a bit awkward though. It doesn't sound right to say \"publish all segments in a datasource\" instead of \"enable a datasource\". \"Mark used\" or \"activate\" sounds better. I'm not sure how to reconcile this with the fact that I _do_ think \"publish\" sounds good & intuitive as a verb in the case where a task is initially writing a segment record to the metadata store.\r\n\r\nMaybe this is how:\r\n\r\n- Tasks \"publish\" segments when they insert records into the metadata store with `used = true` (upon creation of the segment)\r\n- Later on if we drop a segment, we do that by \"marking it unused\" or, potentially, \"deactivating\" it.\r\n- If we re-enable a segment, we do that by \"marking it used\", or, potentially, \"activating\" it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476861755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476871868","html_url":"https://github.com/apache/druid/pull/6896#issuecomment-476871868","issue_url":"https://api.github.com/repos/apache/druid/issues/6896","id":476871868,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg3MTg2OA==","user":{"login":"rae89","id":9400794,"node_id":"MDQ6VXNlcjk0MDA3OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9400794?v=4","gravatar_id":"","url":"https://api.github.com/users/rae89","html_url":"https://github.com/rae89","followers_url":"https://api.github.com/users/rae89/followers","following_url":"https://api.github.com/users/rae89/following{/other_user}","gists_url":"https://api.github.com/users/rae89/gists{/gist_id}","starred_url":"https://api.github.com/users/rae89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rae89/subscriptions","organizations_url":"https://api.github.com/users/rae89/orgs","repos_url":"https://api.github.com/users/rae89/repos","events_url":"https://api.github.com/users/rae89/events{/privacy}","received_events_url":"https://api.github.com/users/rae89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T22:06:56Z","updated_at":"2019-03-26T22:06:56Z","author_association":"NONE","body":"I still get the error  \r\n\r\n> [ERROR] Failed to execute goal on project ambari-metrics-emitter: Could not resolve dependencies for project org.apache.druid.extensions.contrib:ambari-metrics-emitter:jar:0.15.0-incubating-SNAPSHOT: Could not transfer artifact org.apache.ambari:ambari-metrics-common:jar:2.4.1.0.22 from/to hortonworks (http://repo.hortonworks.com/content/repositories/releases): Failed to transfer file http://repo.hortonworks.com/content/repositories/releases/org/apache/ambari/ambari-metrics-common/2.4.1.0.22/ambari-metrics-common-2.4.1.0.22.jar with status code 503 \r\n\r\nI also posted on here since it might be related that closed issue:\r\nhttps://github.com/apache/incubator-druid/issues/4537\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476871868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476873476","html_url":"https://github.com/apache/druid/pull/7254#issuecomment-476873476","issue_url":"https://api.github.com/repos/apache/druid/issues/7254","id":476873476,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg3MzQ3Ng==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T22:12:26Z","updated_at":"2019-03-26T22:12:26Z","author_association":"MEMBER","body":"Closing since #7258 was merged to master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476873476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476877475","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-476877475","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":476877475,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg3NzQ3NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T22:27:54Z","updated_at":"2019-03-26T22:27:54Z","author_association":"MEMBER","body":"Is this right that `sys.segments` table is a *virtual* table that Druid processes queries against for the SQL interface to Druid? It doesn't exist in the metadata store (or any other *real* SQL database Druid depends on)?\r\n\r\nOr not, since this message\r\n\r\n> What I meant to say is sys.segments table stores metadata about segments, one of the column it has is is_published, which stores the information about whether a segment is published in metadata store with used=1 or not. And it contains overshadowed segments and their is_published column is set to true, which may not be the correct behavior because those overshadowed segments are going to be marked used=0 once compaction finishes.\r\n\r\nContains the verb \"stores\"?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476877475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476879411","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-476879411","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":476879411,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg3OTQxMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T22:35:46Z","updated_at":"2019-03-26T22:36:30Z","author_association":"MEMBER","body":"I don't like `is_active`. Active is a very overloaded term, and it's not obvious what's the difference between \"active\" and \"published\". I would suggest `is_overshadowed`, and if somebody wants \"active\", they need to write `is_published = true AND is_overshadowed = false`. `is_overshadowed` is defined as \"overshadowed by other published segments *that are loaded in the cluster*\". I suggest to add it only in `sys.segments`, but not in metadata store. In the codebase, all occurrences of \"overshadowed\" should be aligned with the above definition. \"Overshadowed by published but not yet loaded segments\" should be called somehow else (if it is used in the codebase), like \"preOvershadowed\".","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476879411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476880727","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-476880727","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":476880727,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg4MDcyNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T22:40:59Z","updated_at":"2019-03-26T22:40:59Z","author_association":"MEMBER","body":"I think it makes sense to keep terminology between virtual Druid's SQL table `sys.segments` and metadata store (and therefore the remaining of the codebase) separate.\r\n\r\nCan `used` be renamed? Or not, because it's a column in the database that needs to remain compatible?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476880727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476884709","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-476884709","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":476884709,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njg4NDcwOQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T22:56:23Z","updated_at":"2019-03-26T22:56:23Z","author_association":"NONE","body":"> Is this right that sys.segments table is a virtual table that Druid processes queries against for the SQL interface to Druid? It doesn't exist in the metadata store (or any other real SQL database Druid depends on)?\r\n\r\nYes this seems right, I guess \"contains\" conveys the meaning better than \"stores\" ? Not sure on which verb to use.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476884709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476904950","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-476904950","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":476904950,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjkwNDk1MA==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T00:09:19Z","updated_at":"2019-03-27T00:09:19Z","author_association":"NONE","body":"> I would suggest is_overshadowed, and if somebody wants \"active\", they need to write is_published = true AND is_overshadowed = false.\r\n\r\nWe were trying to make it easier for the user to get active segments just by writing `is_active=true` and documenting what `is_published` vs `is_active` implies. Do you have any other suggested name instead of `is_active` ? Yeah we can always create a `is_overshadowed` col, and let user query the way you suggest, but thought the other approach might be more convenient for users. \r\n\r\n>I suggest to add it only in sys.segments, but not in metadata store.\r\n\r\nThat's the plan.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476904950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476914630","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-476914630","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":476914630,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjkxNDYzMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T00:47:28Z","updated_at":"2019-03-27T00:47:28Z","author_association":"CONTRIBUTOR","body":"@leventov I agree that `is_active` is not the best term. That actually represents that the segment is supposed to be loaded or not, so that users can understand why some segments are not loaded, or notice that some segments should be loaded but they are not. Do you have a better suggestion?\r\n\r\nRegarding `is_overshadowed`, I don't think it's a good idea to restrict its definition to such a narrow scope because it's being used in various situations in our code base as well as documents. So, for example, the coordinator searches for segments which are loaded by historicals and overshadowed by published segments to tidy up old segments. Brokers searches for non-overshadowed segments among available segments in tasks or historicals for query execution. Even in historicals, they searches for non-overshadowed segments among the segments loaded in itself (note that two segments of different versions but for the same interval can exist in the same historical before the coordinator cleans up the old one). I don't think it's worth to define different terms for various cases. It would make things more complicated.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476914630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476920684","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-476920684","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":476920684,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjkyMDY4NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T01:12:46Z","updated_at":"2019-03-27T01:12:46Z","author_association":"CONTRIBUTOR","body":"> is_overshadowed is defined as \"overshadowed by other published segments that are loaded in the cluster\"\r\n\r\nAny particular reason you‚Äôre thinking it makes sense to define `is_overshadowed` as ‚Äúovershadowed by other published segments that are loaded‚Äù? (I assume this would mean: segments with used = true and that are available on some server)\r\n\r\nI‚Äôm thinking ‚Äúovershadowed by some published segments‚Äù would be more useful in a debugging scenario. It allows you to write `is_published && !is_overshadowed` to mean ‚Äúshould be available‚Äù. In turn, comparing that to `is_available` helps narrow down where the current cluster state (what‚Äôs available) is different from the desired cluster state (what should be available).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476920684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476946764","html_url":"https://github.com/apache/druid/pull/7336#issuecomment-476946764","issue_url":"https://api.github.com/repos/apache/druid/issues/7336","id":476946764,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njk0Njc2NA==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T02:52:43Z","updated_at":"2019-03-27T03:56:52Z","author_association":"CONTRIBUTOR","body":"@surekhasaharan , thanks for reminding. It looks the the order of virtualColumns of this test case might be a little randoms..I will look it deeper..","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476946764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476979009","html_url":"https://github.com/apache/druid/pull/7321#issuecomment-476979009","issue_url":"https://api.github.com/repos/apache/druid/issues/7321","id":476979009,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njk3OTAwOQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T05:14:27Z","updated_at":"2019-03-27T05:14:27Z","author_association":"CONTRIBUTOR","body":"Has a look over the new History dialog and it looks good to me. üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476979009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476988260","html_url":"https://github.com/apache/druid/pull/7133#issuecomment-476988260","issue_url":"https://api.github.com/repos/apache/druid/issues/7133","id":476988260,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njk4ODI2MA==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T05:53:40Z","updated_at":"2019-03-27T05:53:40Z","author_association":"CONTRIBUTOR","body":"For the unordered case, there is no performance regression as demonstrated by the results of the ScanBenchmark before and after the PR below.  The benchmark was run on an EC2 instance.\r\n\r\n```\r\njava -Xmx8g -server -jar target/benchmarks.jar ScanBenchmark -f 1 -i 50 -wi 25 -p schemaAndQuery=basic.A -p ordering=NONE -p limit=0,1000,99999\r\n\r\nAfter PR:\r\n# Run complete. Total time: 00:33:03\r\n\r\nBenchmark                                  (limit)  (numProcessingThreads)  (numSegments)  (rowsPerSegment)  (schemaAndQuery)  Mode  Cnt        Score        Error  Units\r\nScanBenchmark.queryMultiQueryableIndex           0                       2              2            200000           basic.A  avgt   50  1047299.585 ¬± 100832.876  us/op\r\nScanBenchmark.queryMultiQueryableIndex           0                       2              4            200000           basic.A  avgt   50  3327877.446 ¬± 340896.932  us/op\r\nScanBenchmark.queryMultiQueryableIndex        1000                       2              2            200000           basic.A  avgt   50     2871.893 ¬±      1.312  us/op\r\nScanBenchmark.queryMultiQueryableIndex        1000                       2              4            200000           basic.A  avgt   50     2932.073 ¬±      3.538  us/op\r\nScanBenchmark.queryMultiQueryableIndex       99999                       2              2            200000           basic.A  avgt   50   230683.292 ¬±   1364.525  us/op\r\nScanBenchmark.queryMultiQueryableIndex       99999                       2              4            200000           basic.A  avgt   50   231715.616 ¬±   1572.446  us/op\r\n\r\nScanBenchmark.querySingleIncrementalIndex        0                       2              2            200000           basic.A  avgt   50   349069.471 ¬±   4376.445  us/op\r\nScanBenchmark.querySingleIncrementalIndex        0                       2              4            200000           basic.A  avgt   50   340061.203 ¬±   3059.043  us/op\r\nScanBenchmark.querySingleIncrementalIndex     1000                       2              2            200000           basic.A  avgt   50     1258.837 ¬±      0.716  us/op\r\nScanBenchmark.querySingleIncrementalIndex     1000                       2              4            200000           basic.A  avgt   50     1320.102 ¬±      1.458  us/op\r\nScanBenchmark.querySingleIncrementalIndex    99999                       2              2            200000           basic.A  avgt   50   155196.629 ¬±   1357.245  us/op\r\nScanBenchmark.querySingleIncrementalIndex    99999                       2              4            200000           basic.A  avgt   50   162660.413 ¬±   1560.482  us/op\r\n\r\nScanBenchmark.querySingleQueryableIndex          0                       2              2            200000           basic.A  avgt   50   492261.267 ¬±   5470.700  us/op\r\nScanBenchmark.querySingleQueryableIndex          0                       2              4            200000           basic.A  avgt   50   480649.890 ¬±   5540.968  us/op\r\nScanBenchmark.querySingleQueryableIndex       1000                       2              2            200000           basic.A  avgt   50     2795.713 ¬±      1.473  us/op\r\nScanBenchmark.querySingleQueryableIndex       1000                       2              4            200000           basic.A  avgt   50     2864.783 ¬±      2.959  us/op\r\nScanBenchmark.querySingleQueryableIndex      99999                       2              2            200000           basic.A  avgt   50   240433.943 ¬±   1845.204  us/op\r\nScanBenchmark.querySingleQueryableIndex      99999                       2              4            200000           basic.A  avgt   50   234122.746 ¬±   1507.052  us/op\r\n\r\n\r\nBefore PR:\r\n# Run complete. Total time: 00:33:02\r\n\r\nBenchmark                                  (limit)  (numProcessingThreads)  (numSegments)  (rowsPerSegment)  (schemaAndQuery)  Mode  Cnt        Score        Error  Units\r\nScanBenchmark.queryMultiQueryableIndex           0                       2              2            200000           basic.A  avgt   50  1172830.904 ¬± 201573.754  us/op\r\nScanBenchmark.queryMultiQueryableIndex           0                       2              4            200000           basic.A  avgt   50  3267726.979 ¬± 319137.068  us/op\r\nScanBenchmark.queryMultiQueryableIndex        1000                       2              2            200000           basic.A  avgt   50     2824.916 ¬±      3.079  us/op\r\nScanBenchmark.queryMultiQueryableIndex        1000                       2              4            200000           basic.A  avgt   50     2777.685 ¬±      3.450  us/op\r\nScanBenchmark.queryMultiQueryableIndex       99999                       2              2            200000           basic.A  avgt   50   231104.252 ¬±   1376.867  us/op\r\nScanBenchmark.queryMultiQueryableIndex       99999                       2              4            200000           basic.A  avgt   50   231335.680 ¬±   1355.400  us/op\r\n\r\nScanBenchmark.querySingleIncrementalIndex        0                       2              2            200000           basic.A  avgt   50   342828.419 ¬±   4551.446  us/op\r\nScanBenchmark.querySingleIncrementalIndex        0                       2              4            200000           basic.A  avgt   50   333952.670 ¬±   3096.050  us/op\r\nScanBenchmark.querySingleIncrementalIndex     1000                       2              2            200000           basic.A  avgt   50     1307.223 ¬±      0.686  us/op\r\nScanBenchmark.querySingleIncrementalIndex     1000                       2              4            200000           basic.A  avgt   50     1288.650 ¬±      1.255  us/op\r\nScanBenchmark.querySingleIncrementalIndex    99999                       2              2            200000           basic.A  avgt   50   158636.920 ¬±    781.898  us/op\r\nScanBenchmark.querySingleIncrementalIndex    99999                       2              4            200000           basic.A  avgt   50   162173.353 ¬±    961.087  us/op\r\n\r\nScanBenchmark.querySingleQueryableIndex          0                       2              2            200000           basic.A  avgt   50   488685.621 ¬±   5538.093  us/op\r\nScanBenchmark.querySingleQueryableIndex          0                       2              4            200000           basic.A  avgt   50   486952.922 ¬±   5868.651  us/op\r\nScanBenchmark.querySingleQueryableIndex       1000                       2              2            200000           basic.A  avgt   50     2879.226 ¬±      1.755  us/op\r\nScanBenchmark.querySingleQueryableIndex       1000                       2              4            200000           basic.A  avgt   50     2823.509 ¬±     21.211  us/op\r\nScanBenchmark.querySingleQueryableIndex      99999                       2              2            200000           basic.A  avgt   50   238340.781 ¬±   1514.616  us/op\r\nScanBenchmark.querySingleQueryableIndex      99999                       2              4            200000           basic.A  avgt   50   235502.141 ¬±   1402.612  us/op\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476988260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/476991968","html_url":"https://github.com/apache/druid/pull/7336#issuecomment-476991968","issue_url":"https://api.github.com/repos/apache/druid/issues/7336","id":476991968,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njk5MTk2OA==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T06:07:52Z","updated_at":"2019-03-27T06:07:52Z","author_association":"CONTRIBUTOR","body":"Updated, @surekhasaharan , thanks~","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/476991968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477226767","html_url":"https://github.com/apache/druid/pull/7212#issuecomment-477226767","issue_url":"https://api.github.com/repos/apache/druid/issues/7212","id":477226767,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzIyNjc2Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T16:02:36Z","updated_at":"2019-03-27T16:02:36Z","author_association":"CONTRIBUTOR","body":"@justinborromeo, now that changes to SS stuff seem to have settled down, could you please resolve the conflicts?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477226767/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477256621","html_url":"https://github.com/apache/druid/pull/7336#issuecomment-477256621","issue_url":"https://api.github.com/repos/apache/druid/issues/7336","id":477256621,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzI1NjYyMQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T17:03:46Z","updated_at":"2019-03-27T17:03:46Z","author_association":"NONE","body":"thanks @xueyumusic for quick fix.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477256621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477297867","html_url":"https://github.com/apache/druid/pull/7314#issuecomment-477297867","issue_url":"https://api.github.com/repos/apache/druid/issues/7314","id":477297867,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzI5Nzg2Nw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T18:40:25Z","updated_at":"2019-03-27T18:40:25Z","author_association":"CONTRIBUTOR","body":"Thank you for making the change, I think this is üëç  once CI passes","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477297867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477311167","html_url":"https://github.com/apache/druid/issues/7357#issuecomment-477311167","issue_url":"https://api.github.com/repos/apache/druid/issues/7357","id":477311167,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzMxMTE2Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T19:18:23Z","updated_at":"2019-03-27T19:18:23Z","author_association":"CONTRIBUTOR","body":"Looking","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477311167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477311551","html_url":"https://github.com/apache/druid/issues/7357#issuecomment-477311551","issue_url":"https://api.github.com/repos/apache/druid/issues/7357","id":477311551,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzMxMTU1MQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T19:19:30Z","updated_at":"2019-03-27T19:20:25Z","author_association":"MEMBER","body":"I think it's because the pom has groupid as `org.apache.druid.extensions.contrib`, testing","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477311551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477312018","html_url":"https://github.com/apache/druid/pull/7352#issuecomment-477312018","issue_url":"https://api.github.com/repos/apache/druid/issues/7352","id":477312018,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzMxMjAxOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T19:20:49Z","updated_at":"2019-03-27T19:20:49Z","author_association":"CONTRIBUTOR","body":"File changed in patch has no errors in TC report","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477312018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477313476","html_url":"https://github.com/apache/druid/issues/7357#issuecomment-477313476","issue_url":"https://api.github.com/repos/apache/druid/issues/7357","id":477313476,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzMxMzQ3Ng==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T19:25:06Z","updated_at":"2019-03-27T19:25:06Z","author_association":"MEMBER","body":"Yeah, it's that, fixing makes `-Pdist` work for me :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477313476/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477316435","html_url":"https://github.com/apache/druid/issues/7357#issuecomment-477316435","issue_url":"https://api.github.com/repos/apache/druid/issues/7357","id":477316435,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzMxNjQzNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T19:34:08Z","updated_at":"2019-03-27T19:34:08Z","author_association":"CONTRIBUTOR","body":"@clintropolis your build is fast :) ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477316435/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477332162","html_url":"https://github.com/apache/druid/issues/7356#issuecomment-477332162","issue_url":"https://api.github.com/repos/apache/druid/issues/7356","id":477332162,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzMzMjE2Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T20:21:34Z","updated_at":"2019-03-27T20:21:34Z","author_association":"CONTRIBUTOR","body":"Thanks for raising this issue.. It looks real. I'll fix it soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477332162/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477343792","html_url":"https://github.com/apache/druid/pull/7358#issuecomment-477343792","issue_url":"https://api.github.com/repos/apache/druid/issues/7358","id":477343792,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM0Mzc5Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T20:55:18Z","updated_at":"2019-03-27T20:55:18Z","author_association":"CONTRIBUTOR","body":"@clintropolis thanks for the quick fix! It works in my local.\r\n\r\nLooks that Travis is not being started because of [Slow booting linux builds issue in Travis](https://www.traviscistatus.com/).\r\n\r\nI would vote for merging this PR without waiting for Travis because it's blocking people from building master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477343792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477344548","html_url":"https://github.com/apache/druid/pull/6972#issuecomment-477344548","issue_url":"https://api.github.com/repos/apache/druid/issues/6972","id":477344548,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM0NDU0OA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T20:57:36Z","updated_at":"2019-03-27T20:57:36Z","author_association":"CONTRIBUTOR","body":"I am still reviewing and testing out this patch, I will have more comments on it this week.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477344548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477350254","html_url":"https://github.com/apache/druid/pull/7358#issuecomment-477350254","issue_url":"https://api.github.com/repos/apache/druid/issues/7358","id":477350254,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM1MDI1NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T21:14:28Z","updated_at":"2019-03-27T21:14:28Z","author_association":"CONTRIBUTOR","body":"> I would vote for merging this PR without waiting for Travis because it's blocking people from building master.\r\n\r\n@drcrallen what do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477350254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477353031","html_url":"https://github.com/apache/druid/pull/7279#issuecomment-477353031","issue_url":"https://api.github.com/repos/apache/druid/issues/7279","id":477353031,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM1MzAzMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T21:23:21Z","updated_at":"2019-03-27T21:23:21Z","author_association":"MEMBER","body":"@gianm @asdf2014 do you have more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477353031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477354626","html_url":"https://github.com/apache/druid/pull/7358#issuecomment-477354626","issue_url":"https://api.github.com/repos/apache/druid/issues/7358","id":477354626,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM1NDYyNg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T21:28:29Z","updated_at":"2019-03-27T21:28:29Z","author_association":"MEMBER","body":"CI didn't really catch this before this patch, so I don't think it would change the outcome","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477354626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477360752","html_url":"https://github.com/apache/druid/pull/7212#issuecomment-477360752","issue_url":"https://api.github.com/repos/apache/druid/issues/7212","id":477360752,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM2MDc1Mg==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T21:49:24Z","updated_at":"2019-03-27T21:49:24Z","author_association":"CONTRIBUTOR","body":"@gianm done","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477360752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477377099","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-477377099","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":477377099,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM3NzA5OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T22:51:26Z","updated_at":"2019-03-27T22:51:26Z","author_association":"CONTRIBUTOR","body":"> I think it makes sense to keep terminology between virtual Druid's SQL table `sys.segments` and metadata store (and therefore the remaining of the codebase) separate.\r\n\r\nI don't think we need to be dogmatic about it. But if possible, it benefits everyone (users & developers alike) to have consistent terminology across the entire system.\r\n\r\n> Can `used` be renamed? Or not, because it's a column in the database that needs to remain compatible?\r\n\r\nDo you mean in the metadata store? I don't think it could be, since we don't have a way to automatically migrate already-existing metadata stores that use the name `used`. But we could decide we want to call the concept something else _in general_, and just keep a note that for legacy reasons, the metadata store uses the old name.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477377099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477377977","html_url":"https://github.com/apache/druid/pull/4196#issuecomment-477377977","issue_url":"https://api.github.com/repos/apache/druid/issues/4196","id":477377977,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM3Nzk3Nw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T22:54:59Z","updated_at":"2019-03-27T22:54:59Z","author_association":"MEMBER","body":"Closing in favor of https://github.com/apache/incubator-druid/pull/7363","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477377977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477378949","html_url":"https://github.com/apache/druid/pull/7338#issuecomment-477378949","issue_url":"https://api.github.com/repos/apache/druid/issues/7338","id":477378949,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM3ODk0OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T22:59:12Z","updated_at":"2019-03-27T22:59:12Z","author_association":"CONTRIBUTOR","body":"Hmm, on the second thought, setting `maxTotalRows` to `maxRowsPerSegments` wouldn't be enough because `totalRows` is the total sum of rows added so far across segments. Maybe it should be set to something a high value?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477378949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477380826","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-477380826","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":477380826,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM4MDgyNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T23:07:30Z","updated_at":"2019-03-27T23:07:47Z","author_association":"MEMBER","body":"> But if possible, it benefits everyone (users & developers alike) to have consistent terminology across the entire system.\r\n\r\nI'm not sure that a column in `sys.segments` and the internal codebase concept (currently \"used segments\") are *the same thing*. Calling them the same may add more confusion and make navigation in the codebase harder than if the names are different. For example, if `sys.segments` concept is called \"published\" and somebody sees \"published\" in code, they know it's about the virtual SQL table, not the table in the metadata store.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477380826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477382296","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-477382296","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":477382296,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM4MjI5Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-27T23:14:09Z","updated_at":"2019-03-27T23:14:09Z","author_association":"CONTRIBUTOR","body":"> I'm not sure that a column in sys.segments and the internal codebase concept (currently \"used segments\") are the same thing.\r\n\r\nI think it's best if they are the same thing, since the point of system tables like `sys.segments` is to help cluster operators introspect into the state of the system using a familiar SQL style API. (So they don't have to go digging through metadata store, ZK, various Druid APIs to get a picture of what's going on.)\r\n\r\nIf it turns out that for some reason, they _can't_ be the same thing, then it makes sense to use two different names. But if they could be the same thing then it's probably best to do that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477382296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477396898","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-477396898","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":477396898,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzM5Njg5OA==","user":{"login":"peferron","id":7009852,"node_id":"MDQ6VXNlcjcwMDk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/7009852?v=4","gravatar_id":"","url":"https://api.github.com/users/peferron","html_url":"https://github.com/peferron","followers_url":"https://api.github.com/users/peferron/followers","following_url":"https://api.github.com/users/peferron/following{/other_user}","gists_url":"https://api.github.com/users/peferron/gists{/gist_id}","starred_url":"https://api.github.com/users/peferron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peferron/subscriptions","organizations_url":"https://api.github.com/users/peferron/orgs","repos_url":"https://api.github.com/users/peferron/repos","events_url":"https://api.github.com/users/peferron/events{/privacy}","received_events_url":"https://api.github.com/users/peferron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T00:28:39Z","updated_at":"2019-03-28T00:30:21Z","author_association":"CONTRIBUTOR","body":"@leerho I think we're on the same page regarding the behavior of the current topN. Our disagreement comes from what we consider \"meaningful\", which is more subjective.\r\n\r\nFor you, \"meaningful\" means returning useful and correct results regardless of the data being queried.\r\n\r\nFor me, it's OK if correctness depends on the data; for example, I consider binary search to be useful and capable of returning meaningful results, even though it returns garbage on unsorted data.\r\n\r\nYou probably also consider binary search to be useful. So the main difference is, I think, that it's usually simple to ensure that data fed to binary search is sorted, but much harder to ensure that data fed to topN is suitable along all combinations of aggregations/filters/intervals. That's the main practical problem with topN IMO. But the difficulty here depends on the size of the query space, which is application-specific, so I don't think there can be a single yes/no answer regarding whether one should use topN or not.\r\n\r\nIt's interesting that you mention running brute force queries to verify topN correctness. It's actually quite viable, because the topN query quickly returns results to the user while the brute force (groupBy) query runs in the background using spare cluster resources. So the user experience is improved, even though the total computation time and resources are indeed larger than running only the brute force query.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477396898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477400925","html_url":"https://github.com/apache/druid/pull/7321#issuecomment-477400925","issue_url":"https://api.github.com/repos/apache/druid/issues/7321","id":477400925,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzQwMDkyNQ==","user":{"login":"shuqi7","id":29443129,"node_id":"MDQ6VXNlcjI5NDQzMTI5","avatar_url":"https://avatars.githubusercontent.com/u/29443129?v=4","gravatar_id":"","url":"https://api.github.com/users/shuqi7","html_url":"https://github.com/shuqi7","followers_url":"https://api.github.com/users/shuqi7/followers","following_url":"https://api.github.com/users/shuqi7/following{/other_user}","gists_url":"https://api.github.com/users/shuqi7/gists{/gist_id}","starred_url":"https://api.github.com/users/shuqi7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuqi7/subscriptions","organizations_url":"https://api.github.com/users/shuqi7/orgs","repos_url":"https://api.github.com/users/shuqi7/repos","events_url":"https://api.github.com/users/shuqi7/events{/privacy}","received_events_url":"https://api.github.com/users/shuqi7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T00:51:16Z","updated_at":"2019-03-28T00:51:16Z","author_association":"CONTRIBUTOR","body":"> üëç\r\n> \r\n> Should you update the PR description to include mention of the change that the free-form author input has been removed and will use a fixed \"console\" as the author after this change?\r\n\r\nUpdated","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477400925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477402793","html_url":"https://github.com/apache/druid/pull/7365#issuecomment-477402793","issue_url":"https://api.github.com/repos/apache/druid/issues/7365","id":477402793,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzQwMjc5Mw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T01:01:18Z","updated_at":"2019-03-28T01:01:18Z","author_association":"CONTRIBUTOR","body":"gotta have those new lines in the ends of the files! TY üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477402793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477402857","html_url":"https://github.com/apache/druid/pull/6896#issuecomment-477402857","issue_url":"https://api.github.com/repos/apache/druid/issues/6896","id":477402857,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzQwMjg1Nw==","user":{"login":"donbowman","id":5131923,"node_id":"MDQ6VXNlcjUxMzE5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/5131923?v=4","gravatar_id":"","url":"https://api.github.com/users/donbowman","html_url":"https://github.com/donbowman","followers_url":"https://api.github.com/users/donbowman/followers","following_url":"https://api.github.com/users/donbowman/following{/other_user}","gists_url":"https://api.github.com/users/donbowman/gists{/gist_id}","starred_url":"https://api.github.com/users/donbowman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donbowman/subscriptions","organizations_url":"https://api.github.com/users/donbowman/orgs","repos_url":"https://api.github.com/users/donbowman/repos","events_url":"https://api.github.com/users/donbowman/events{/privacy}","received_events_url":"https://api.github.com/users/donbowman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T01:01:42Z","updated_at":"2019-03-28T01:01:42Z","author_association":"CONTRIBUTOR","body":"> I still get the error\r\n> \r\n> > [ERROR] Failed to execute goal on project ambari-metrics-emitter: Could not resolve dependencies for project org.apache.druid.extensions.contrib:ambari-metrics-emitter:jar:0.15.0-incubating-SNAPSHOT: Could not transfer artifact org.apache.ambari:ambari-metrics-common:jar:2.4.1.0.22 from/to hortonworks (http://repo.hortonworks.com/content/repositories/releases): Failed to transfer file http://repo.hortonworks.com/content/repositories/releases/org/apache/ambari/ambari-metrics-common/2.4.1.0.22/ambari-metrics-common-2.4.1.0.22.jar with status code 503\r\n> \r\n> I also posted on here since it might be related that closed issue:\r\n> #4537\r\n\r\nis it possible you have a proxy or firewall in the path?\r\nI can download the referenced [file](http://repo.hortonworks.com/content/repositories/releases/org/apache/ambari/ambari-metrics-common/2.4.1.0.22/ambari-metrics-common-2.4.1.0.22.jar) w/o the 503 you get.\r\nmaybe a cache?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477402857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477434646","html_url":"https://github.com/apache/druid/pull/7338#issuecomment-477434646","issue_url":"https://api.github.com/repos/apache/druid/issues/7338","id":477434646,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzQzNDY0Ng==","user":{"login":"lxqfy","id":9974509,"node_id":"MDQ6VXNlcjk5NzQ1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/9974509?v=4","gravatar_id":"","url":"https://api.github.com/users/lxqfy","html_url":"https://github.com/lxqfy","followers_url":"https://api.github.com/users/lxqfy/followers","following_url":"https://api.github.com/users/lxqfy/following{/other_user}","gists_url":"https://api.github.com/users/lxqfy/gists{/gist_id}","starred_url":"https://api.github.com/users/lxqfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxqfy/subscriptions","organizations_url":"https://api.github.com/users/lxqfy/orgs","repos_url":"https://api.github.com/users/lxqfy/repos","events_url":"https://api.github.com/users/lxqfy/events{/privacy}","received_events_url":"https://api.github.com/users/lxqfy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T03:36:31Z","updated_at":"2019-03-28T03:36:31Z","author_association":"CONTRIBUTOR","body":"@jihoonson Do you mean there can be more than one segment in the Appenderator? I thought there will be multiple segments in Appederator only when `numShards` is configured, which is not allowed to use together with `targetCompactionSizeBytes`. Correct me if I was wrong. If there is multiple-segment situation, we need to set maxRowsPerSegments to a high value e.g. `Long.MAX_VALUE`?\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477434646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477437094","html_url":"https://github.com/apache/druid/pull/7314#issuecomment-477437094","issue_url":"https://api.github.com/repos/apache/druid/issues/7314","id":477437094,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzQzNzA5NA==","user":{"login":"shuqi7","id":29443129,"node_id":"MDQ6VXNlcjI5NDQzMTI5","avatar_url":"https://avatars.githubusercontent.com/u/29443129?v=4","gravatar_id":"","url":"https://api.github.com/users/shuqi7","html_url":"https://github.com/shuqi7","followers_url":"https://api.github.com/users/shuqi7/followers","following_url":"https://api.github.com/users/shuqi7/following{/other_user}","gists_url":"https://api.github.com/users/shuqi7/gists{/gist_id}","starred_url":"https://api.github.com/users/shuqi7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuqi7/subscriptions","organizations_url":"https://api.github.com/users/shuqi7/orgs","repos_url":"https://api.github.com/users/shuqi7/repos","events_url":"https://api.github.com/users/shuqi7/events{/privacy}","received_events_url":"https://api.github.com/users/shuqi7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T03:51:06Z","updated_at":"2019-03-28T03:51:06Z","author_association":"CONTRIBUTOR","body":"Fixed conflict","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477437094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477477480","html_url":"https://github.com/apache/druid/pull/6943#issuecomment-477477480","issue_url":"https://api.github.com/repos/apache/druid/issues/6943","id":477477480,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzQ3NzQ4MA==","user":{"login":"kamaci","id":3921885,"node_id":"MDQ6VXNlcjM5MjE4ODU=","avatar_url":"https://avatars.githubusercontent.com/u/3921885?v=4","gravatar_id":"","url":"https://api.github.com/users/kamaci","html_url":"https://github.com/kamaci","followers_url":"https://api.github.com/users/kamaci/followers","following_url":"https://api.github.com/users/kamaci/following{/other_user}","gists_url":"https://api.github.com/users/kamaci/gists{/gist_id}","starred_url":"https://api.github.com/users/kamaci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamaci/subscriptions","organizations_url":"https://api.github.com/users/kamaci/orgs","repos_url":"https://api.github.com/users/kamaci/repos","events_url":"https://api.github.com/users/kamaci/events{/privacy}","received_events_url":"https://api.github.com/users/kamaci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T07:15:54Z","updated_at":"2019-03-28T07:15:54Z","author_association":"MEMBER","body":"> @kamaci in which case this is not a violation? Could you please point to an example?\r\n\r\n@leventov  I've removed that style from being warning. On the other hand, I've edited checkstyle regex for not to fail on `QueryInterruptedException`. I've also fixed test classes about not to ignore `InterruptedException`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477477480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477523971","html_url":"https://github.com/apache/druid/issues/7297#issuecomment-477523971","issue_url":"https://api.github.com/repos/apache/druid/issues/7297","id":477523971,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzUyMzk3MQ==","user":{"login":"quenlang","id":11764573,"node_id":"MDQ6VXNlcjExNzY0NTcz","avatar_url":"https://avatars.githubusercontent.com/u/11764573?v=4","gravatar_id":"","url":"https://api.github.com/users/quenlang","html_url":"https://github.com/quenlang","followers_url":"https://api.github.com/users/quenlang/followers","following_url":"https://api.github.com/users/quenlang/following{/other_user}","gists_url":"https://api.github.com/users/quenlang/gists{/gist_id}","starred_url":"https://api.github.com/users/quenlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quenlang/subscriptions","organizations_url":"https://api.github.com/users/quenlang/orgs","repos_url":"https://api.github.com/users/quenlang/repos","events_url":"https://api.github.com/users/quenlang/events{/privacy}","received_events_url":"https://api.github.com/users/quenlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T09:49:01Z","updated_at":"2019-03-28T09:49:01Z","author_association":"NONE","body":"@jihoonson Can you also have a look at this issue? I had reproduced in druid 0.13.0 and druid 0.14.0-rc1. it probably is a bug. But I have no method to find a way out. because I can't read java code. üòÖ \r\nThank you so much!  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477523971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477541947","html_url":"https://github.com/apache/druid/pull/6740#issuecomment-477541947","issue_url":"https://api.github.com/repos/apache/druid/issues/6740","id":477541947,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzU0MTk0Nw==","user":{"login":"michael-trelinski","id":4055823,"node_id":"MDQ6VXNlcjQwNTU4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/4055823?v=4","gravatar_id":"","url":"https://api.github.com/users/michael-trelinski","html_url":"https://github.com/michael-trelinski","followers_url":"https://api.github.com/users/michael-trelinski/followers","following_url":"https://api.github.com/users/michael-trelinski/following{/other_user}","gists_url":"https://api.github.com/users/michael-trelinski/gists{/gist_id}","starred_url":"https://api.github.com/users/michael-trelinski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michael-trelinski/subscriptions","organizations_url":"https://api.github.com/users/michael-trelinski/orgs","repos_url":"https://api.github.com/users/michael-trelinski/repos","events_url":"https://api.github.com/users/michael-trelinski/events{/privacy}","received_events_url":"https://api.github.com/users/michael-trelinski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T10:42:42Z","updated_at":"2019-03-28T10:42:42Z","author_association":"CONTRIBUTOR","body":"@clintropolis can you please restart the build (or advise)?  I don't believe these errors are my fault, they seem IntelliJ-related on the TeamCity service.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477541947/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477543937","html_url":"https://github.com/apache/druid/pull/7367#issuecomment-477543937","issue_url":"https://api.github.com/repos/apache/druid/issues/7367","id":477543937,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzU0MzkzNw==","user":{"login":"michael-trelinski","id":4055823,"node_id":"MDQ6VXNlcjQwNTU4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/4055823?v=4","gravatar_id":"","url":"https://api.github.com/users/michael-trelinski","html_url":"https://github.com/michael-trelinski","followers_url":"https://api.github.com/users/michael-trelinski/followers","following_url":"https://api.github.com/users/michael-trelinski/following{/other_user}","gists_url":"https://api.github.com/users/michael-trelinski/gists{/gist_id}","starred_url":"https://api.github.com/users/michael-trelinski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michael-trelinski/subscriptions","organizations_url":"https://api.github.com/users/michael-trelinski/orgs","repos_url":"https://api.github.com/users/michael-trelinski/repos","events_url":"https://api.github.com/users/michael-trelinski/events{/privacy}","received_events_url":"https://api.github.com/users/michael-trelinski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T10:48:07Z","updated_at":"2019-03-28T10:48:07Z","author_association":"CONTRIBUTOR","body":"@a2l007 Please add refactor the movingAverage/rollingAverage when that is accepted separately.\r\n\r\nWill Sketches supported?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477543937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477677260","html_url":"https://github.com/apache/druid/pull/6896#issuecomment-477677260","issue_url":"https://api.github.com/repos/apache/druid/issues/6896","id":477677260,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY3NzI2MA==","user":{"login":"rae89","id":9400794,"node_id":"MDQ6VXNlcjk0MDA3OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9400794?v=4","gravatar_id":"","url":"https://api.github.com/users/rae89","html_url":"https://github.com/rae89","followers_url":"https://api.github.com/users/rae89/followers","following_url":"https://api.github.com/users/rae89/following{/other_user}","gists_url":"https://api.github.com/users/rae89/gists{/gist_id}","starred_url":"https://api.github.com/users/rae89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rae89/subscriptions","organizations_url":"https://api.github.com/users/rae89/orgs","repos_url":"https://api.github.com/users/rae89/repos","events_url":"https://api.github.com/users/rae89/events{/privacy}","received_events_url":"https://api.github.com/users/rae89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T16:43:46Z","updated_at":"2019-03-28T16:43:46Z","author_association":"NONE","body":"After finally getting it to build and run, I was wondering how one goes about loading the wikipedia tutorial data described in the loading a file tutorial from the druid docs?  http://druid.io/docs/latest/tutorials/tutorial-batch.html\r\n\r\nThe overlord container does not seem to have bash and python installed to be able to run the script `bin/post-index-task`.\r\n\r\nOr am I missing something here?  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477677260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477678451","html_url":"https://github.com/apache/druid/pull/6896#issuecomment-477678451","issue_url":"https://api.github.com/repos/apache/druid/issues/6896","id":477678451,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY3ODQ1MQ==","user":{"login":"donbowman","id":5131923,"node_id":"MDQ6VXNlcjUxMzE5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/5131923?v=4","gravatar_id":"","url":"https://api.github.com/users/donbowman","html_url":"https://github.com/donbowman","followers_url":"https://api.github.com/users/donbowman/followers","following_url":"https://api.github.com/users/donbowman/following{/other_user}","gists_url":"https://api.github.com/users/donbowman/gists{/gist_id}","starred_url":"https://api.github.com/users/donbowman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donbowman/subscriptions","organizations_url":"https://api.github.com/users/donbowman/orgs","repos_url":"https://api.github.com/users/donbowman/repos","events_url":"https://api.github.com/users/donbowman/events{/privacy}","received_events_url":"https://api.github.com/users/donbowman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T16:46:31Z","updated_at":"2019-03-28T16:46:31Z","author_association":"CONTRIBUTOR","body":"you run those from your host, outside the container, pointing @ the ports you exposed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477678451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477723441","html_url":"https://github.com/apache/druid/issues/7297#issuecomment-477723441","issue_url":"https://api.github.com/repos/apache/druid/issues/7297","id":477723441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzcyMzQ0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T18:43:49Z","updated_at":"2019-03-28T18:43:49Z","author_association":"CONTRIBUTOR","body":"@quenlang thanks for debugging. It sounds like a bug. I'll take a look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477723441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477763460","html_url":"https://github.com/apache/druid/issues/7370#issuecomment-477763460","issue_url":"https://api.github.com/repos/apache/druid/issues/7370","id":477763460,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc2MzQ2MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T20:43:12Z","updated_at":"2019-03-28T20:43:12Z","author_association":"CONTRIBUTOR","body":"> Scan is used if ordering by __time is specified\r\n\r\nScan is already used if ordering by `__time` is _not_ specified so I suppose this proposed change means that Select will _never_ be used by Druid SQL. That sounds ok to me, because in situations you describe (lots of segments or high thresholds), Select queries have resource usage issues anyway as described in #6088. Make sure to update the Druid SQL documentation to talk about how the queries are planned now.\r\n\r\nüëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477763460/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477778052","html_url":"https://github.com/apache/druid/pull/6972#issuecomment-477778052","issue_url":"https://api.github.com/repos/apache/druid/issues/6972","id":477778052,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc3ODA1Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T21:28:54Z","updated_at":"2019-03-29T00:48:36Z","author_association":"CONTRIBUTOR","body":"@mohammadjkhan @nishantmonu51 \r\n\r\nGiven that the metadata store-backed and LDAP implementations have such different configurations, I would structure this as follows:\r\n- Create an abstract `PasswordBasedAuthenticator`, and override the credentials validation in separate `BasicHTTPAuthenticator` and `LDAPAuthenticator` classes\r\n- Create an abstract `RoleBasedAuthorizer`, and override the rolemap calculation in separate classes for metadata-backed and LDAP-backed authorizer (The PR currently preferentially checks the metadata-backed store and then LDAP, I think these should be separate since the incoming request would be authenticated against only one or the other)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477778052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477779479","html_url":"https://github.com/apache/druid/pull/7279#issuecomment-477779479","issue_url":"https://api.github.com/repos/apache/druid/issues/7279","id":477779479,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc3OTQ3OQ==","user":{"login":"yurmix","id":1529282,"node_id":"MDQ6VXNlcjE1MjkyODI=","avatar_url":"https://avatars.githubusercontent.com/u/1529282?v=4","gravatar_id":"","url":"https://api.github.com/users/yurmix","html_url":"https://github.com/yurmix","followers_url":"https://api.github.com/users/yurmix/followers","following_url":"https://api.github.com/users/yurmix/following{/other_user}","gists_url":"https://api.github.com/users/yurmix/gists{/gist_id}","starred_url":"https://api.github.com/users/yurmix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurmix/subscriptions","organizations_url":"https://api.github.com/users/yurmix/orgs","repos_url":"https://api.github.com/users/yurmix/repos","events_url":"https://api.github.com/users/yurmix/events{/privacy}","received_events_url":"https://api.github.com/users/yurmix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T21:33:29Z","updated_at":"2019-03-28T21:33:29Z","author_association":"CONTRIBUTOR","body":"@leventov looks nice! two small suggestions:\r\n1. There is no hyperlink to `committer-instructions.md`, I think `CONTRIBUTING.md` should link to it.\r\n2. I think the asset files should be organized into sub-folders (perhaps `TeamCity_images`, `IDE_images`), especially since there is no README.md in the folder so it's harder to sort things out.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477779479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477780789","html_url":"https://github.com/apache/druid/pull/7338#issuecomment-477780789","issue_url":"https://api.github.com/repos/apache/druid/issues/7338","id":477780789,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc4MDc4OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T21:37:47Z","updated_at":"2019-03-28T21:37:47Z","author_association":"CONTRIBUTOR","body":"Oh, `maxTotalRows` and `numShards` look similar but different. An appenderator can append to multiple segments at the same time. For example, if the segment granularity is `DAY` and two rows of different days are added, the appenderator would append each row to different segments. `maxTotalRows` is to limit the total number of rows in all segments which are actively being appended across all [time chunks](http://druid.io/docs/latest/ingestion/index.html).\r\n\r\n`numShards` is quite different. `numShards` and `maxRowsPerSegment` are configurations to determine how many segments would be created per time chunk. If `numShards` is set, the index task generates the exactly same number of segments. If `maxRowsPerSegment` is set, the index task would create a new segment whenever number of rows in a generating segment reaches to the threshold. Once a new segment is created, the old segment is not active anymore and is not counted to check `maxTotalRows`.\r\n\r\n> If there is multiple-segment situation, we need to set maxRowsPerSegments to a high value e.g. Long.MAX_VALUE?\r\n\r\nYeah, I think it makes more sense to `Long.MAX_VALUE` to generate segments of intended size unless it's explicitly set by users.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477780789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477783437","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-477783437","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":477783437,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc4MzQzNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T21:47:14Z","updated_at":"2019-03-28T21:47:14Z","author_association":"MEMBER","body":"@gianm I didn't question that \"published in `sys.segments`\" and \"`used` in metadata store\" is the same thing, logically. I did question whether making this same logical thing called the same would actually make positive, rather than negative impact on the codebase. However, now I also think it's higher probability that it will have positive impact on the codebase. So I will support the rename.\r\n\r\nIt doesn't seem to me that this PR is conflicting with the rename. I think it's supportive to the rename because in this PR I did some nasty work at finding and sweeping old names and variants of naming that were looking completely unrelated. Now for the rename, somebody needs to make just two full-text searches in the codebase on Github (I did many more when preparing this PR):\r\n - \"[used segment](https://github.com/apache/incubator-druid/search?q=unused+segment&unscoped_q=used+segment)\"\r\n - \"[unused segment](https://github.com/apache/incubator-druid/search?q=unused+segment&unscoped_q=unused+segment)\"\r\n\r\nThen visit all result files that look relevant manually and rename \"used/unused segments\" to \"publish/published/unpublished\". (Note that this search needs to be performed after this PR is merged, because Github indexes only master codebase for full-text search.)\r\n\r\nFor this reason, I tag this PR `Development Blocker` for #7233.\r\n\r\n> Maybe this is how:\r\n\r\n> - Tasks \"publish\" segments when they insert records into the metadata store with used = true (upon creation of the segment)\r\n> - Later on if we drop a segment, we do that by \"marking it unused\" or, potentially, \"deactivating\" it.\r\n> - If we re-enable a segment, we do that by \"marking it used\", or, potentially, \"activating\" it.\r\n\r\nOh no, I think we must go all-in with publish/unpublish/published/unpublished terminology. So we should call these actions \"mark (as) published\", however awkward it sounds, and \"unpublish\" (I think \"unpublish all segments in a data source\" sounds fine), or, alternatively, \"mark (as) unpublished\".\r\n ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477783437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477784096","html_url":"https://github.com/apache/druid/pull/7367#issuecomment-477784096","issue_url":"https://api.github.com/repos/apache/druid/issues/7367","id":477784096,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc4NDA5Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T21:49:35Z","updated_at":"2019-03-28T21:49:35Z","author_association":"CONTRIBUTOR","body":"@michael-trelinski thank you for your contribution! Would you please write a proposal for this PR? Here is the link: https://github.com/apache/incubator-druid/issues/new/choose.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477784096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477787296","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-477787296","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":477787296,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc4NzI5Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T22:00:48Z","updated_at":"2019-03-28T22:00:48Z","author_association":"MEMBER","body":"Perhaps `is_actual` is better than `is_active`.\r\n\r\nRegarding the semantics of `is_overshadowed`, you all are right, confusing it with the temporal state of being loaded on some servers is probably a wrong idea.\r\n\r\nMaybe we need both:\r\n - `is_actual` for published and not overshadowed by *loaded* segments, in other words, \"segments that can and should be queried now\".\r\n - `is_overshadowed` to provide ability to introspect into `is_published && !is_overshadowed` and `is_published && !is_overshadowed && !is_available` views.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477787296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477794972","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-477794972","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":477794972,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc5NDk3Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T22:31:21Z","updated_at":"2019-03-28T22:32:50Z","author_association":"MEMBER","body":"For reviewers: in the latest commits I've made some more clarification renames:\r\n - `KillTask` -> `KillUnusedSegmentsTask`\r\n - `TaskMonitor.killTask()` -> `cancelTask()` (see also related #7361)\r\n - `IndexingServiceClient.killTask()` -> `cancelTask()`\r\n - `IndexingServiceClient.killSegments()` -> `killUnusedSegments()`\r\n - `ClientQuery` -> `ClientTaskQuery`\r\n - `ClientKillQuery` -> `ClientKillUnusedSegmentsTaskQuery`\r\n - `ClientCompactQuery` -> `ClientCompactionTaskQuery`\r\n - `ClientCompactQueryTuningConfig` -> `ClientCompactionTaskQueryTuningConfig`\r\n\r\n`CoordinatorDynamicConfig`'s properties:\r\n - `millisToWaitBeforeDeleting` -> `millisLagSinceCoordinatorBecomesLeaderBeforeCanMarkAsUnusedOvershadowedSegments`\r\n - `killAllDataSources` -> `killUnusedSegmentsInAllDataSources`\r\n - `specificDataSourcesToKill` -> `specificDataSourcesToKillUnusedSegmentsIn`\r\n - `protectedPendingSegmentDatasources` -> `dataSourcesToNotKillStalePendingSegmentsIn`\r\n\r\nI kept the old names of JSON properties because aliases (for backward compatibility) are only supported in Jackson 2.9, see #7152.\r\n\r\nDruidCoordinatorHelpers:\r\n - `DruidCoordinatorCleanupPendingSegments` -> `DruidCoordinatorKillStalePendingSegments`\r\n - `DruidCoordinatorCleanupUnusedSegments` -> `DruidCoordinatorUnloadUnusedSegments`\r\n - `DruidCoordinatorCleanupOvershadowed` -> `DruidCoordinatorMarkAsUnusedOvershadowedSegments`\r\n - `DruidCoordinatorSegmentKiller` -> `DruidCoordinatorUnusedSegmentsKiller`\r\n\r\n(Next steps will be: remove \"DruidCoordinator\" prefixes and make all class names noun phrases or verb phrases, but not a mix.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477794972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477795547","html_url":"https://github.com/apache/druid/pull/7367#issuecomment-477795547","issue_url":"https://api.github.com/repos/apache/druid/issues/7367","id":477795547,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc5NTU0Nw==","user":{"login":"michael-trelinski","id":4055823,"node_id":"MDQ6VXNlcjQwNTU4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/4055823?v=4","gravatar_id":"","url":"https://api.github.com/users/michael-trelinski","html_url":"https://github.com/michael-trelinski","followers_url":"https://api.github.com/users/michael-trelinski/followers","following_url":"https://api.github.com/users/michael-trelinski/following{/other_user}","gists_url":"https://api.github.com/users/michael-trelinski/gists{/gist_id}","starred_url":"https://api.github.com/users/michael-trelinski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michael-trelinski/subscriptions","organizations_url":"https://api.github.com/users/michael-trelinski/orgs","repos_url":"https://api.github.com/users/michael-trelinski/repos","events_url":"https://api.github.com/users/michael-trelinski/events{/privacy}","received_events_url":"https://api.github.com/users/michael-trelinski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T22:33:55Z","updated_at":"2019-03-28T22:37:27Z","author_association":"CONTRIBUTOR","body":"> @michael-trelinski thank you for your contribution! Would you please write a proposal for this PR? Here is the link: https://github.com/apache/incubator-druid/issues/new/choose.\r\n\r\n@jihoonson: Should I add this as a Feature/Change or a Proposal?  I can see merits for both.\r\n\r\nAlso, IntelliJ lied to me and the unit tests were broken, so I pushed another commit, which hopefully fixes it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477795547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477798278","html_url":"https://github.com/apache/druid/pull/6740#issuecomment-477798278","issue_url":"https://api.github.com/repos/apache/druid/issues/6740","id":477798278,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc5ODI3OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T22:45:19Z","updated_at":"2019-03-28T22:45:19Z","author_association":"MEMBER","body":"@michael-trelinski you can try to merge master into your branch, it may help.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477798278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477817138","html_url":"https://github.com/apache/druid/pull/7368#issuecomment-477817138","issue_url":"https://api.github.com/repos/apache/druid/issues/7368","id":477817138,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxNzEzOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:15:49Z","updated_at":"2019-03-29T00:15:49Z","author_association":"CONTRIBUTOR","body":"I removed new integration tests I added in this PR because they are flaky and I think it would take some time to fix them. I don't think it's important to block the release. I'll raise a follow-up PR for integration tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477817138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477817724","html_url":"https://github.com/apache/druid/issues/6319#issuecomment-477817724","issue_url":"https://api.github.com/repos/apache/druid/issues/6319","id":477817724,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxNzcyNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:19:19Z","updated_at":"2019-03-29T00:19:19Z","author_association":"CONTRIBUTOR","body":"> If the task is overwriting existing segments, the new segmentIds would have those existing segments in their overshadowedSegments. \r\n\r\nWhen using the segment-level locks, can you add more description to this part that points out that the new segments with the same segmentGranularity would have the same version string as the segments being overshadowed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477817724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818116","html_url":"https://github.com/apache/druid/issues/6319#issuecomment-477818116","issue_url":"https://api.github.com/repos/apache/druid/issues/6319","id":477818116,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxODExNg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:21:15Z","updated_at":"2019-03-29T00:21:15Z","author_association":"CONTRIBUTOR","body":"In the `Changes to TaskLockbox` section, can you clarify the difference between `shared` and `mixed` locks?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818536","html_url":"https://github.com/apache/druid/issues/7378#issuecomment-477818536","issue_url":"https://api.github.com/repos/apache/druid/issues/7378","id":477818536,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxODUzNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:23:40Z","updated_at":"2019-03-29T00:23:40Z","author_association":"CONTRIBUTOR","body":"This is intended. If a task doesn't respond, the supervisor will kill it and spawn a new one. Maybe it's more important to check why the task didn't respond.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818743","html_url":"https://github.com/apache/druid/pull/7367#issuecomment-477818743","issue_url":"https://api.github.com/repos/apache/druid/issues/7367","id":477818743,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxODc0Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:24:48Z","updated_at":"2019-03-29T00:24:48Z","author_association":"CONTRIBUTOR","body":"I think `Feature/Change` label is for asking some new features or changes of existing features to the community. So, it is more about what is needed and why. `Proposal` is `Feature/Change` + how to implement and rationale about its design.\r\n\r\nI think `Proposal` is more proper for your case.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818753","html_url":"https://github.com/apache/druid/issues/7342#issuecomment-477818753","issue_url":"https://api.github.com/repos/apache/druid/issues/7342","id":477818753,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxODc1Mw==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:24:50Z","updated_at":"2019-03-29T00:24:50Z","author_association":"CONTRIBUTOR","body":"For the latter question, see the [clustering docs](http://druid.io/docs/latest/tutorials/cluster.html).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818830","html_url":"https://github.com/apache/druid/issues/7378#issuecomment-477818830","issue_url":"https://api.github.com/repos/apache/druid/issues/7378","id":477818830,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxODgzMA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:25:21Z","updated_at":"2019-03-29T00:25:21Z","author_association":"CONTRIBUTOR","body":"@jihoonson  I agree. Need to investigate this further, opening an issue to track this.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818887","html_url":"https://github.com/apache/druid/issues/6319#issuecomment-477818887","issue_url":"https://api.github.com/repos/apache/druid/issues/6319","id":477818887,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxODg4Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:25:38Z","updated_at":"2019-03-29T00:25:38Z","author_association":"CONTRIBUTOR","body":"In this proposal, what happens in the following case?\r\n\r\n- Suppose we have two segments as partitions of a DAY granularity time chunk, partitions 0,1\r\n- Two compaction tasks are issued on those segments simultaneously, which would compact 0,1 to a new single DAY granularity segment\r\n- The two tasks both attempt to get a lock on (0,1)\r\n- One task gets a lock on (0,1) first and creates segment with partition 2, its overshadowedSegments are (0,1)\r\n- Now that the locks are free, what does the second task do? Would it try to compact (0,1) again?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477818887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477819795","html_url":"https://github.com/apache/druid/issues/6319#issuecomment-477819795","issue_url":"https://api.github.com/repos/apache/druid/issues/6319","id":477819795,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgxOTc5NQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:30:32Z","updated_at":"2019-03-29T00:30:32Z","author_association":"CONTRIBUTOR","body":"For ` private final Set<Integer> overshadowingSegments;`, I think it's worth mentioning that an alternative design would be to store the complete overshadowing graph here","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477819795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477828781","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-477828781","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":477828781,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgyODc4MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T01:20:29Z","updated_at":"2019-03-29T01:20:29Z","author_association":"CONTRIBUTOR","body":"I think that's a pretty reasonable breakdown for logging conventions.\r\n\r\nReplacing \"WTF\" with the more professional-sounding \"ASSERTION_ERROR\" is good too, and I'm okay with dropping debug/trace logs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477828781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477830539","html_url":"https://github.com/apache/druid/issues/6873#issuecomment-477830539","issue_url":"https://api.github.com/repos/apache/druid/issues/6873","id":477830539,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgzMDUzOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T01:29:22Z","updated_at":"2019-03-29T01:29:22Z","author_association":"CONTRIBUTOR","body":"Hi @capistrant, thank you for the proposal.\r\n\r\nIt sounds useful, but I'm wondering how different it is from `druid.coordinator.kill.durationToRetain`. The coordinator currently doesn't kill segments if their intervals overlap with (`now - durationToRetain`, `now`). The proposed solution sounds like counting time per segment since each of them has been disabled. Do you know a particular use case that the current behavior doesn't make sense and the proposed solution is needed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477830539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477832317","html_url":"https://github.com/apache/druid/pull/7368#issuecomment-477832317","issue_url":"https://api.github.com/repos/apache/druid/issues/7368","id":477832317,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgzMjMxNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T01:38:48Z","updated_at":"2019-03-29T01:38:48Z","author_association":"CONTRIBUTOR","body":"I ran unit tests and integration tests locally and they passed. I also tested the bug has fixed in my local cluster.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477832317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477838834","html_url":"https://github.com/apache/druid/issues/7297#issuecomment-477838834","issue_url":"https://api.github.com/repos/apache/druid/issues/7297","id":477838834,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgzODgzNA==","user":{"login":"quenlang","id":11764573,"node_id":"MDQ6VXNlcjExNzY0NTcz","avatar_url":"https://avatars.githubusercontent.com/u/11764573?v=4","gravatar_id":"","url":"https://api.github.com/users/quenlang","html_url":"https://github.com/quenlang","followers_url":"https://api.github.com/users/quenlang/followers","following_url":"https://api.github.com/users/quenlang/following{/other_user}","gists_url":"https://api.github.com/users/quenlang/gists{/gist_id}","starred_url":"https://api.github.com/users/quenlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quenlang/subscriptions","organizations_url":"https://api.github.com/users/quenlang/orgs","repos_url":"https://api.github.com/users/quenlang/repos","events_url":"https://api.github.com/users/quenlang/events{/privacy}","received_events_url":"https://api.github.com/users/quenlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T02:12:23Z","updated_at":"2019-03-29T02:12:23Z","author_association":"NONE","body":"> @quenlang thanks for debugging. It sounds like a bug. I'll take a look.\r\n\r\nThank you so much! üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477838834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477842918","html_url":"https://github.com/apache/druid/pull/7338#issuecomment-477842918","issue_url":"https://api.github.com/repos/apache/druid/issues/7338","id":477842918,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzg0MjkxOA==","user":{"login":"lxqfy","id":9974509,"node_id":"MDQ6VXNlcjk5NzQ1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/9974509?v=4","gravatar_id":"","url":"https://api.github.com/users/lxqfy","html_url":"https://github.com/lxqfy","followers_url":"https://api.github.com/users/lxqfy/followers","following_url":"https://api.github.com/users/lxqfy/following{/other_user}","gists_url":"https://api.github.com/users/lxqfy/gists{/gist_id}","starred_url":"https://api.github.com/users/lxqfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxqfy/subscriptions","organizations_url":"https://api.github.com/users/lxqfy/orgs","repos_url":"https://api.github.com/users/lxqfy/repos","events_url":"https://api.github.com/users/lxqfy/events{/privacy}","received_events_url":"https://api.github.com/users/lxqfy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T02:33:43Z","updated_at":"2019-03-29T02:33:43Z","author_association":"CONTRIBUTOR","body":"@jihoonson Thanks for the explanation. I will set to `Long.MAX_VALUE`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477842918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477852554","html_url":"https://github.com/apache/druid/pull/7368#issuecomment-477852554","issue_url":"https://api.github.com/repos/apache/druid/issues/7368","id":477852554,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzg1MjU1NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T03:24:59Z","updated_at":"2019-03-29T03:24:59Z","author_association":"CONTRIBUTOR","body":"TravisCI is still having issues today, merging as TeamCity has passed and local UT/IT have passed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477852554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477860488","html_url":"https://github.com/apache/druid/pull/7371#issuecomment-477860488","issue_url":"https://api.github.com/repos/apache/druid/issues/7371","id":477860488,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzg2MDQ4OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T04:13:09Z","updated_at":"2019-03-29T04:13:09Z","author_association":"CONTRIBUTOR","body":"Please separate the docs change form the code PR, those do not belong together. Also the docs PR could be back ported much more readily ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477860488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477877698","html_url":"https://github.com/apache/druid/pull/7379#issuecomment-477877698","issue_url":"https://api.github.com/repos/apache/druid/issues/7379","id":477877698,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzg3NzY5OA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T05:55:05Z","updated_at":"2019-03-29T05:55:05Z","author_association":"CONTRIBUTOR","body":"Unit and integration tests also pass locally for the backport.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477877698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477879520","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-477879520","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":477879520,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzg3OTUyMA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T06:03:41Z","updated_at":"2019-03-29T06:03:57Z","author_association":"CONTRIBUTOR","body":"@jon-wei  ok using `HLLSketchBuild` does work. though the documentation for this could definitely be improved.\r\n\r\nThat said there are still a couple functionalities from `Cardinality` missing:\r\n\r\n1. `Cardinality` can take multiple fields. `HLLSketchBuild` can only take 1. \r\n2. The `byRow` calculation is missing as pointed by @gianm \r\n\r\nAs mentioned in the [druid 0.13. docs for `Cardinality`](http://druid.io/docs/latest/querying/aggregations), I wonder how these 2 examples would translate to `HllSketchBuild`. \r\n\r\n**Examples for Cardinality**\r\n\r\n1. Determine the number of distinct countries people are living in or have come from.\r\n\r\n```json\r\n{\r\n  \"type\": \"cardinality\",\r\n  \"name\": \"distinct_countries\",\r\n  \"fields\": [ \"country_of_origin\", \"country_of_residence\" ]\r\n}\r\n```\r\n\r\n2. Determine the number of distinct people (i.e. combinations of first and last name).\r\n\r\n```json\r\n{\r\n  \"type\": \"cardinality\",\r\n  \"name\": \"distinct_people\",\r\n  \"fields\": [ \"first_name\", \"last_name\" ],\r\n  \"byRow\" : true\r\n}\r\n```\r\n\r\n3. Determine the number of distinct starting characters of last names\r\n\r\n```json\r\n{\r\n  \"type\": \"cardinality\",\r\n  \"name\": \"distinct_last_name_first_char\",\r\n  \"fields\": [\r\n    {\r\n     \"type\" : \"extraction\",\r\n     \"dimension\" : \"last_name\",\r\n     \"outputName\" :  \"last_name_first_char\",\r\n     \"extractionFn\" : { \"type\" : \"substring\", \"index\" : 0, \"length\" : 1 }\r\n    }\r\n  ],\r\n  \"byRow\" : true\r\n}\r\n```\r\n\r\n<hr/>\r\n\r\nIf you can provide the answers, I am happy to update the HLLSketch documentation with the equivalents for these.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477879520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/477955042","html_url":"https://github.com/apache/druid/issues/2479#issuecomment-477955042","issue_url":"https://api.github.com/repos/apache/druid/issues/2479","id":477955042,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzk1NTA0Mg==","user":{"login":"remizyaka","id":4035725,"node_id":"MDQ6VXNlcjQwMzU3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/4035725?v=4","gravatar_id":"","url":"https://api.github.com/users/remizyaka","html_url":"https://github.com/remizyaka","followers_url":"https://api.github.com/users/remizyaka/followers","following_url":"https://api.github.com/users/remizyaka/following{/other_user}","gists_url":"https://api.github.com/users/remizyaka/gists{/gist_id}","starred_url":"https://api.github.com/users/remizyaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remizyaka/subscriptions","organizations_url":"https://api.github.com/users/remizyaka/orgs","repos_url":"https://api.github.com/users/remizyaka/repos","events_url":"https://api.github.com/users/remizyaka/events{/privacy}","received_events_url":"https://api.github.com/users/remizyaka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T10:51:48Z","updated_at":"2019-03-29T10:51:48Z","author_association":"NONE","body":"Have the same issue with granularity period P1M when origin is at the end of the month. Any chance it will be fixed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/477955042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478030751","html_url":"https://github.com/apache/druid/issues/6873#issuecomment-478030751","issue_url":"https://api.github.com/repos/apache/druid/issues/6873","id":478030751,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODAzMDc1MQ==","user":{"login":"capistrant","id":7452350,"node_id":"MDQ6VXNlcjc0NTIzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/7452350?v=4","gravatar_id":"","url":"https://api.github.com/users/capistrant","html_url":"https://github.com/capistrant","followers_url":"https://api.github.com/users/capistrant/followers","following_url":"https://api.github.com/users/capistrant/following{/other_user}","gists_url":"https://api.github.com/users/capistrant/gists{/gist_id}","starred_url":"https://api.github.com/users/capistrant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/capistrant/subscriptions","organizations_url":"https://api.github.com/users/capistrant/orgs","repos_url":"https://api.github.com/users/capistrant/repos","events_url":"https://api.github.com/users/capistrant/events{/privacy}","received_events_url":"https://api.github.com/users/capistrant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T15:02:40Z","updated_at":"2019-03-29T15:02:40Z","author_association":"CONTRIBUTOR","body":"@jihoonson \r\n\r\n`druid.coordinator.kill.durationToRetain` is useful for us in some cases. We currently use it so protect the last N days from being killed (usually 7 or 14 days for us).\r\n\r\nThe use case I am referring to is more of a `soft kill` for a set period fo time followed by an actual kill if no action was taken to re-enable the segments. This opposed to a permanent retain rule like the `durationToRetain` config does. Our initial idea was to only have the kill task runner run once per day, but that only gives us a good grace period for segments that wen't to unused shortly after the previous execution of the kill task process. Our main problem has been disabling datasources that were still needed and having them be killed before we were alerted to the problem.\r\n\r\nNow that I am thinking about this more, it may just be an administrative issue that my org needs to sort out on our own instead of adding this guard. We run a multi-tenant cluster in production with a large number of end users so the lines on what data is useful and what is stale can get blurred for us. Long story short, maybe this proposal isn't the best solution to the problem we face.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478030751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478092750","html_url":"https://github.com/apache/druid/issues/7375#issuecomment-478092750","issue_url":"https://api.github.com/repos/apache/druid/issues/7375","id":478092750,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODA5Mjc1MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T17:56:23Z","updated_at":"2019-03-29T17:56:23Z","author_association":"CONTRIBUTOR","body":"Interesting proposal.\r\n\r\nhttps://github.com/eclipse/jetty.project/issues/918#issuecomment-250791417 has some gotchas that will probably need noted on if it impacts here.\r\n\r\nThere could be other cases where the key store is not on disk though, yes? for example, if a server does on-the-fly decryption out of blob storage to get the key store, then it wouldn't just be a path that needs watched.\r\n\r\nIn such a scenario, CertificateWatcher would be an interface and not an implementation, so any sort of updates could be handled by an extension.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478092750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478126061","html_url":"https://github.com/apache/druid/issues/6281#issuecomment-478126061","issue_url":"https://api.github.com/repos/apache/druid/issues/6281","id":478126061,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODEyNjA2MQ==","user":{"login":"milimetric","id":1038928,"node_id":"MDQ6VXNlcjEwMzg5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1038928?v=4","gravatar_id":"","url":"https://api.github.com/users/milimetric","html_url":"https://github.com/milimetric","followers_url":"https://api.github.com/users/milimetric/followers","following_url":"https://api.github.com/users/milimetric/following{/other_user}","gists_url":"https://api.github.com/users/milimetric/gists{/gist_id}","starred_url":"https://api.github.com/users/milimetric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milimetric/subscriptions","organizations_url":"https://api.github.com/users/milimetric/orgs","repos_url":"https://api.github.com/users/milimetric/repos","events_url":"https://api.github.com/users/milimetric/events{/privacy}","received_events_url":"https://api.github.com/users/milimetric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T19:42:53Z","updated_at":"2019-03-29T19:42:53Z","author_association":"NONE","body":"Writing the name of the column seems to fail for us, do you have a working example?  We tried passing a string literal and that works, so the spec is fine except it doesn't seem to work to rename as @meazza asked for here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478126061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478133576","html_url":"https://github.com/apache/druid/issues/316#issuecomment-478133576","issue_url":"https://api.github.com/repos/apache/druid/issues/316","id":478133576,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODEzMzU3Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T20:08:57Z","updated_at":"2019-03-29T20:08:57Z","author_association":"MEMBER","body":"Closing as duplicate of #3247","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478133576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478135246","html_url":"https://github.com/apache/druid/issues/7036#issuecomment-478135246","issue_url":"https://api.github.com/repos/apache/druid/issues/7036","id":478135246,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODEzNTI0Ng==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T20:14:37Z","updated_at":"2019-03-29T20:14:37Z","author_association":"CONTRIBUTOR","body":"Closing because it was implemented in #7133 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478135246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478140427","html_url":"https://github.com/apache/druid/issues/7382#issuecomment-478140427","issue_url":"https://api.github.com/repos/apache/druid/issues/7382","id":478140427,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODE0MDQyNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T20:33:09Z","updated_at":"2019-03-29T20:33:28Z","author_association":"MEMBER","body":"It probably makes BroadcastDistributionRules's timing (interval, period, forever) irrelevant too. All timing can be figured out from the load rules applying to the colocated data sources.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478140427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478144537","html_url":"https://github.com/apache/druid/issues/6281#issuecomment-478144537","issue_url":"https://api.github.com/repos/apache/druid/issues/6281","id":478144537,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODE0NDUzNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T20:47:11Z","updated_at":"2019-03-29T20:47:11Z","author_association":"CONTRIBUTOR","body":"Writing the name of the column as an expression should definitely work, but watch out for potential need to escape special characters.  You might need to wrap the column name in double quotes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478144537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478153854","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-478153854","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":478153854,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODE1Mzg1NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T21:22:15Z","updated_at":"2019-03-29T21:22:15Z","author_association":"CONTRIBUTOR","body":"For multidimension cardinality `byValue`, you could use a union of Theta sketches\r\n\r\nFor multidimension cardinality `byRow`, you could construct a virtual column (http://druid.io/docs/latest/querying/virtual-columns.html) from the target input columns and feed that into the HLLSketch","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478153854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478160814","html_url":"https://github.com/apache/druid/issues/6873#issuecomment-478160814","issue_url":"https://api.github.com/repos/apache/druid/issues/6873","id":478160814,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODE2MDgxNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T21:51:29Z","updated_at":"2019-03-29T21:51:29Z","author_association":"CONTRIBUTOR","body":"Thank you for the details. I have a follow-up question. Kill tasks can delete only unpublished segments (segments with `used = false` in metadata store) and this is also same when `durationToRetain` is set. If you have published segments older than `now - durationToRetain`, they won't be deleted. So, I guess the difference is a sort of soft-kill-period is reset once an unpublished segment is published again. Is this correct? It sounds good to me, but it would be nice if it can be implemented without changing the data schema of metadata store. \r\n\r\n> Long story short, maybe this proposal isn't the best solution to the problem we face.\r\n\r\nWelcome any idea if you have a better one!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478160814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478161261","html_url":"https://github.com/apache/druid/pull/7279#issuecomment-478161261","issue_url":"https://api.github.com/repos/apache/druid/issues/7279","id":478161261,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODE2MTI2MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T21:53:40Z","updated_at":"2019-03-29T21:53:40Z","author_association":"MEMBER","body":"@yurmix good suggestions, thanks. I've moved images to a folder. I didn't mention `committer-instructions.md` in `CONTRIBUTING.md` because committers don't read CONTRIBUTING.md, but I referenced the `dev/` directory in general. I think it should be the place for all development-related prose, like checklists, code style description, [principles for choosing logging severity](https://github.com/apache/incubator-druid/issues/7362), etc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478161261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478164813","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-478164813","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":478164813,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODE2NDgxMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T22:10:22Z","updated_at":"2019-03-29T22:10:22Z","author_association":"CONTRIBUTOR","body":"> \"segments that can and should be queried now\".\r\n\r\nI think this statement is a bit incorrect because segments which are currently being generated by stream ingestion tasks should also be able to be queried but `is_actual` doesn't include them.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478164813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478196684","html_url":"https://github.com/apache/druid/pull/7381#issuecomment-478196684","issue_url":"https://api.github.com/repos/apache/druid/issues/7381","id":478196684,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODE5NjY4NA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-30T02:08:29Z","updated_at":"2019-03-30T02:08:29Z","author_association":"CONTRIBUTOR","body":"Hahahaha you documented \"Rune\"... it was meant to be an in-joke... I guess it still can be.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478196684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478205887","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-478205887","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":478205887,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODIwNTg4Nw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-30T04:27:52Z","updated_at":"2019-03-30T04:27:52Z","author_association":"CONTRIBUTOR","body":"@jon-wei looking at the `Theta` sketch, can't it basically do everything `HLL` sketch can do?\r\nIs the `HLL` sketch just faster than `Theta` sketch but covers less use cases?\r\n\r\nIe, is it correct to say `HLL` is a subset of `Theta` sketch in terms of features, but we include it cause its faster?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478205887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478317823","html_url":"https://github.com/apache/druid/issues/3303#issuecomment-478317823","issue_url":"https://api.github.com/repos/apache/druid/issues/3303","id":478317823,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODMxNzgyMw==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-31T07:09:57Z","updated_at":"2019-03-31T07:09:57Z","author_association":"NONE","body":"why do not used \"__time\" instead of \"timestamp\"","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478317823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478317831","html_url":"https://github.com/apache/druid/issues/3303#issuecomment-478317831","issue_url":"https://api.github.com/repos/apache/druid/issues/3303","id":478317831,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODMxNzgzMQ==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-31T07:10:08Z","updated_at":"2019-03-31T07:10:08Z","author_association":"NONE","body":"> why do not used \"__time\" instead of \"timestamp\"\r\n\r\n@gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478317831/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478320905","html_url":"https://github.com/apache/druid/pull/3859#issuecomment-478320905","issue_url":"https://api.github.com/repos/apache/druid/issues/3859","id":478320905,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODMyMDkwNQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-31T08:04:33Z","updated_at":"2019-03-31T08:04:33Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that‚Äôs incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478320905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478394857","html_url":"https://github.com/apache/druid/issues/5859#issuecomment-478394857","issue_url":"https://api.github.com/repos/apache/druid/issues/5859","id":478394857,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODM5NDg1Nw==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-31T23:15:27Z","updated_at":"2019-03-31T23:15:27Z","author_association":"CONTRIBUTOR","body":"Sorry about such late response! I'm not working on this anymore, and it kinda slipped my attention...\r\nAnyway, AFAIR, it works basically by knowing how much data will be sent and how it will be split into shards. After sending the data, it surely uses `/segments` to check if correct number of shards got created, and perhaps some other details, as well.\r\nIt works with multiple Tasks in parallel, independently, so it all has to be done at Task level.\r\n/cc @neutrinus?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478394857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478464561","html_url":"https://github.com/apache/druid/pull/7338#issuecomment-478464561","issue_url":"https://api.github.com/repos/apache/druid/issues/7338","id":478464561,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODQ2NDU2MQ==","user":{"login":"lxqfy","id":9974509,"node_id":"MDQ6VXNlcjk5NzQ1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/9974509?v=4","gravatar_id":"","url":"https://api.github.com/users/lxqfy","html_url":"https://github.com/lxqfy","followers_url":"https://api.github.com/users/lxqfy/followers","following_url":"https://api.github.com/users/lxqfy/following{/other_user}","gists_url":"https://api.github.com/users/lxqfy/gists{/gist_id}","starred_url":"https://api.github.com/users/lxqfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxqfy/subscriptions","organizations_url":"https://api.github.com/users/lxqfy/orgs","repos_url":"https://api.github.com/users/lxqfy/repos","events_url":"https://api.github.com/users/lxqfy/events{/privacy}","received_events_url":"https://api.github.com/users/lxqfy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T07:19:42Z","updated_at":"2019-04-01T07:19:42Z","author_association":"CONTRIBUTOR","body":"@jihoonson `targetCompactionSizeBytes` cannot be used `withmaxRowsPerSegment`, `maxTotalRows`, or `numShards` together. set `maxTotalRows` to `Long.MAX_VALUE` with `targetCompactionSizeBytes` configured should be enough here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478464561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478465578","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-478465578","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":478465578,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODQ2NTU3OA==","user":{"login":"hueiyuanSu","id":17706153,"node_id":"MDQ6VXNlcjE3NzA2MTUz","avatar_url":"https://avatars.githubusercontent.com/u/17706153?v=4","gravatar_id":"","url":"https://api.github.com/users/hueiyuanSu","html_url":"https://github.com/hueiyuanSu","followers_url":"https://api.github.com/users/hueiyuanSu/followers","following_url":"https://api.github.com/users/hueiyuanSu/following{/other_user}","gists_url":"https://api.github.com/users/hueiyuanSu/gists{/gist_id}","starred_url":"https://api.github.com/users/hueiyuanSu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hueiyuanSu/subscriptions","organizations_url":"https://api.github.com/users/hueiyuanSu/orgs","repos_url":"https://api.github.com/users/hueiyuanSu/repos","events_url":"https://api.github.com/users/hueiyuanSu/events{/privacy}","received_events_url":"https://api.github.com/users/hueiyuanSu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T07:23:32Z","updated_at":"2019-04-01T07:23:32Z","author_association":"NONE","body":"you can try to set this config in \"common.runtime.properties file\":\r\ndruid.extensions.pullList = [\"io.druid.extensions.contrib:druid-cassandra-storage:0.12.1\"]\r\n\r\nit should be work!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478465578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478515069","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-478515069","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":478515069,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODUxNTA2OQ==","user":{"login":"Freya0214","id":39218654,"node_id":"MDQ6VXNlcjM5MjE4NjU0","avatar_url":"https://avatars.githubusercontent.com/u/39218654?v=4","gravatar_id":"","url":"https://api.github.com/users/Freya0214","html_url":"https://github.com/Freya0214","followers_url":"https://api.github.com/users/Freya0214/followers","following_url":"https://api.github.com/users/Freya0214/following{/other_user}","gists_url":"https://api.github.com/users/Freya0214/gists{/gist_id}","starred_url":"https://api.github.com/users/Freya0214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freya0214/subscriptions","organizations_url":"https://api.github.com/users/Freya0214/orgs","repos_url":"https://api.github.com/users/Freya0214/repos","events_url":"https://api.github.com/users/Freya0214/events{/privacy}","received_events_url":"https://api.github.com/users/Freya0214/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T09:57:37Z","updated_at":"2019-04-01T09:58:04Z","author_association":"NONE","body":"> you can try to set this config in \"common.runtime.properties file\":\r\n> druid.extensions.pullList = [\"io.druid.extensions.contrib:druid-cassandra-storage:0.12.1\"]\r\n> it should be work!\r\n\r\n\r\nTHXÔºåI tried itÔºåit's still not work, common.runtime.properties file\" has been set Ôºö\r\ndruid.extensions.directory=dist/druid/extensions\r\ndruid.extensions.hadoopDependenciesDir=dist/druid/hadoop-dependencies\r\ndruid.extensions.loadList=[\"druid-cassandra-storage\", \"druid-histogram\", \"druid-datasketches\", \"druid-kafka-indexing-service\", \"druid-parser-route\", \"imply-utility-belt\"]\r\ndruid.extensions.pullList=[\"io.druid.extensions.contrib:druid-cassandra-storage:0.12.0\"]\r\n\r\nindexing-logs out the following exception still unchanged \r\n\r\n2019-04-01T17:07:37,674 ERROR [main] org.apache.druid.cli.CliPeon - Error when starting up.  Failing.\r\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n\r\n1) Unknown provider[c*] of Key[type=org.apache.druid.segment.loading.DataSegmentPusher, annotation=[none]], known options[[local]]\r\n  at org.apache.druid.guice.PolyBind.createChoice(PolyBind.java:70) (via modules: com.google.inject.util.Modules$OverrideModule -> com.google.inject.util.Modules$OverrideModule -> org.apache.druid.guice.LocalDataStorageDruidModule)\r\n  while locating org.apache.druid.segment.loading.DataSegmentPusher\r\n    for the 4th parameter of org.apache.druid.indexing.common.TaskToolboxFactory.<init>(TaskToolboxFactory.java:113)\r\n  at org.apache.druid.cli.CliPeon$1.configure(CliPeon.java:201) (via modules: com.google.inject.util.Modules$OverrideModule -> com.google.inject.util.Modules$OverrideModule -> org.apache.druid.cli.CliPeon$1)\r\n  while locating org.apache.druid.indexing.common.TaskToolboxFactory\r\n    for the 1st parameter of org.apache.druid.indexing.overlord.SingleTaskBackgroundRunner.<init>(SingleTaskBackgroundRunner.java:95)\r\n  at org.apache.druid.cli.CliPeon$1.configure(CliPeon.java:240) (via modules: com.google.inject.util.Modules$OverrideModule -> com.google.inject.util.Modules$OverrideModule -> org.apache.druid.cli.CliPeon$1)\r\n  while locating org.apache.druid.indexing.overlord.SingleTaskBackgroundRunner\r\n  while locating org.apache.druid.indexing.overlord.TaskRunner\r\n    for the 4th parameter of org.apache.druid.indexing.worker.executor.ExecutorLifecycle.<init>(ExecutorLifecycle.java:79)\r\n  at org.apache.druid.cli.CliPeon$1.configure(CliPeon.java:224) (via modules: com.google.inject.util.Modules$OverrideModule -> com.google.inject.util.Modules$OverrideModule -> org.apache.druid.cli.CliPeon$1)\r\n  while locating org.apache.druid.indexing.worker.executor.ExecutorLifecycle\r\n\r\n1 error\r\n        at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1028) ~[guice-4.1.0.jar:?]\r\n        at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1050) ~[guice-4.1.0.jar:?]\r\n        at org.apache.druid.guice.LifecycleModule$2.start(LifecycleModule.java:132) ~[druid-api-0.13.0-incubating-iap11.jar:0.13.0-incubating-iap11]\r\n        at org.apache.druid.cli.GuiceRunnable.initLifecycle(GuiceRunnable.java:109) [druid-services-0.13.0-incubating-iap11.jar:0.13.0-incubating-iap11]\r\n        at org.apache.druid.cli.CliPeon.run(CliPeon.java:350) [druid-services-0.13.0-incubating-iap11.jar:0.13.0-incubating-iap11]\r\n        at org.apache.druid.cli.Main.main(Main.java:118) [druid-services-0.13.0-incubating-iap11.jar:0.13.0-incubating-iap11]\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478515069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478569365","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-478569365","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":478569365,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODU2OTM2NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T13:01:19Z","updated_at":"2019-04-01T13:01:19Z","author_association":"MEMBER","body":"@surekhasaharan did you consider the following designs:\r\n - Brokers delegate Druid SQL *queries* against `sys.segments` to Coordinator. So brokers don't have to deal with published (used) segments in their memory at all.\r\n - Brokers access the metadata store to update their view of published (used) segments directly, without Coordinator as a proxy.\r\n - For memory savings, adding an extra flags to `DataSegment` object: `isAvailable`, `isPublished`, and using a single unified `ConcurrentHashMap` view for the purposes of both `BrokerServerView` and `MetadataSegmentView`.\r\n\r\nWhat do you think about these?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478569365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478594824","html_url":"https://github.com/apache/druid/issues/6281#issuecomment-478594824","issue_url":"https://api.github.com/repos/apache/druid/issues/6281","id":478594824,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODU5NDgyNA==","user":{"login":"milimetric","id":1038928,"node_id":"MDQ6VXNlcjEwMzg5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1038928?v=4","gravatar_id":"","url":"https://api.github.com/users/milimetric","html_url":"https://github.com/milimetric","followers_url":"https://api.github.com/users/milimetric/followers","following_url":"https://api.github.com/users/milimetric/following{/other_user}","gists_url":"https://api.github.com/users/milimetric/gists{/gist_id}","starred_url":"https://api.github.com/users/milimetric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milimetric/subscriptions","organizations_url":"https://api.github.com/users/milimetric/orgs","repos_url":"https://api.github.com/users/milimetric/repos","events_url":"https://api.github.com/users/milimetric/events{/privacy}","received_events_url":"https://api.github.com/users/milimetric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T14:09:27Z","updated_at":"2019-04-01T14:09:27Z","author_association":"NONE","body":"hm, we do seem to have a problem here.  We tried `\"expression\": \"plainName\"`, `\"expression\": \"\\\"nameInQuotes\\\"\"`, and `\"expression\": \"'literal'\"`.  The `'literal'` works, but the other two fail and we can't find anything in the logs.  How should we look for logs for this?  The documentation is not very clear on where errors would show up.  I'd like to post an error message to clarify this problem.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478594824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]