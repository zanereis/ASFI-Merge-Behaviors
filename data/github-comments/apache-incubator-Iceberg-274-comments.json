[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687007123","html_url":"https://github.com/apache/iceberg/pull/8071#issuecomment-1687007123","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8071","id":1687007123,"node_id":"IC_kwDOCW7NX85kja-T","user":{"login":"dchristle","id":5257839,"node_id":"MDQ6VXNlcjUyNTc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5257839?v=4","gravatar_id":"","url":"https://api.github.com/users/dchristle","html_url":"https://github.com/dchristle","followers_url":"https://api.github.com/users/dchristle/followers","following_url":"https://api.github.com/users/dchristle/following{/other_user}","gists_url":"https://api.github.com/users/dchristle/gists{/gist_id}","starred_url":"https://api.github.com/users/dchristle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchristle/subscriptions","organizations_url":"https://api.github.com/users/dchristle/orgs","repos_url":"https://api.github.com/users/dchristle/repos","events_url":"https://api.github.com/users/dchristle/events{/privacy}","received_events_url":"https://api.github.com/users/dchristle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-21T20:35:33Z","updated_at":"2023-08-21T20:35:33Z","author_association":"CONTRIBUTOR","body":"@bryanck Thank you for fixing this! It stymied my efforts to try to use GCSFileIO for several weeks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687007123/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687178886","html_url":"https://github.com/apache/iceberg/pull/8360#issuecomment-1687178886","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8360","id":1687178886,"node_id":"IC_kwDOCW7NX85kkE6G","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-21T23:07:59Z","updated_at":"2023-08-21T23:07:59Z","author_association":"CONTRIBUTOR","body":"Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687178886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687198915","html_url":"https://github.com/apache/iceberg/pull/8227#issuecomment-1687198915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8227","id":1687198915,"node_id":"IC_kwDOCW7NX85kkJzD","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-21T23:34:30Z","updated_at":"2023-08-21T23:34:30Z","author_association":"CONTRIBUTOR","body":"Thanks, @tomtongue! Thanks for reviewing, @ConeyLiu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687198915/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687225274","html_url":"https://github.com/apache/iceberg/issues/6900#issuecomment-1687225274","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6900","id":1687225274,"node_id":"IC_kwDOCW7NX85kkQO6","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T00:10:20Z","updated_at":"2023-08-22T00:10:20Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687225274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687228211","html_url":"https://github.com/apache/iceberg/pull/8361#issuecomment-1687228211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8361","id":1687228211,"node_id":"IC_kwDOCW7NX85kkQ8z","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T00:14:33Z","updated_at":"2023-08-22T00:14:33Z","author_association":"CONTRIBUTOR","body":"Thanks for review @danielcweeks @nastra !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687228211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687252299","html_url":"https://github.com/apache/iceberg/pull/8360#issuecomment-1687252299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8360","id":1687252299,"node_id":"IC_kwDOCW7NX85kkW1L","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T00:51:47Z","updated_at":"2023-08-22T00:51:47Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @RussellSpitzer @singhpk234 @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687252299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687275423","html_url":"https://github.com/apache/iceberg/issues/6414#issuecomment-1687275423","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6414","id":1687275423,"node_id":"IC_kwDOCW7NX85kkcef","user":{"login":"AlexMercedCoder","id":52634838,"node_id":"MDQ6VXNlcjUyNjM0ODM4","avatar_url":"https://avatars.githubusercontent.com/u/52634838?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMercedCoder","html_url":"https://github.com/AlexMercedCoder","followers_url":"https://api.github.com/users/AlexMercedCoder/followers","following_url":"https://api.github.com/users/AlexMercedCoder/following{/other_user}","gists_url":"https://api.github.com/users/AlexMercedCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMercedCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMercedCoder/subscriptions","organizations_url":"https://api.github.com/users/AlexMercedCoder/orgs","repos_url":"https://api.github.com/users/AlexMercedCoder/repos","events_url":"https://api.github.com/users/AlexMercedCoder/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMercedCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T01:26:13Z","updated_at":"2023-08-22T01:26:13Z","author_association":"CONTRIBUTOR","body":"I have started on some of the steps regarding this which high-level would be:\n\n- Update Pynessie to support the V2 endpoints\n- Use Pynessie to create a catalog class for PyIceberg\n\nMy schedule has gotten busier so may be a bit before I can do anymore but here is some links to what I've done if anyone wants to continue from there.\n\n- [Link to Pull request for new methods for V2 methods in pynessie](https://github.com/projectnessie/pynessie/pull/21)\n- [Link to Unofficial V2 Client I made to help myself better understand the spec](https://pypi.org/project/nessiev2-unofficial/)\n\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687275423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687286139","html_url":"https://github.com/apache/iceberg/pull/7910#issuecomment-1687286139","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7910","id":1687286139,"node_id":"IC_kwDOCW7NX85kkfF7","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T01:41:49Z","updated_at":"2023-08-22T01:41:49Z","author_association":"CONTRIBUTOR","body":"It seems like we are trying to fix a bug in Spark, which is beyond Iceberg control. While I don't mind that cause we would have to wait for a new Spark release otherwise, it would be nice to look for a proper fix in Spark that would work without Iceberg extensions.\r\n\r\nLet me take a closer look at the Spark side.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687286139/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687307732","html_url":"https://github.com/apache/iceberg/issues/7226#issuecomment-1687307732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7226","id":1687307732,"node_id":"IC_kwDOCW7NX85kkkXU","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T02:09:57Z","updated_at":"2023-08-22T02:12:09Z","author_association":"CONTRIBUTOR","body":"This is a Spark issue, not an Iceberg issue (at least in 3.4). We may consider fixing Spark 3.3 and older but I am not so sure about 3.4. In Spark 3.4, we are relying on the function catalog API to resolve transforms.\r\n\r\n@Marcus-Rosti, could you confirm `toTable` works in 3.4? I believe you tried 3.3 before.\r\n\r\n@Fokko is right that `start()`, unlike `toTable()`, does not populate the catalog, hence we can't resolve the transforms. I believe the right solution would be to fix Spark to use `SupportsCatalogOptions` when loading `Table` from `TableProvider`.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687307732/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687313178","html_url":"https://github.com/apache/iceberg/pull/8260#issuecomment-1687313178","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8260","id":1687313178,"node_id":"IC_kwDOCW7NX85kklsa","user":{"login":"rustyconover","id":731941,"node_id":"MDQ6VXNlcjczMTk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/731941?v=4","gravatar_id":"","url":"https://api.github.com/users/rustyconover","html_url":"https://github.com/rustyconover","followers_url":"https://api.github.com/users/rustyconover/followers","following_url":"https://api.github.com/users/rustyconover/following{/other_user}","gists_url":"https://api.github.com/users/rustyconover/gists{/gist_id}","starred_url":"https://api.github.com/users/rustyconover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rustyconover/subscriptions","organizations_url":"https://api.github.com/users/rustyconover/orgs","repos_url":"https://api.github.com/users/rustyconover/repos","events_url":"https://api.github.com/users/rustyconover/events{/privacy}","received_events_url":"https://api.github.com/users/rustyconover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T02:18:14Z","updated_at":"2023-08-22T02:18:14Z","author_association":"CONTRIBUTOR","body":"Hi All, I love the idea of this spec, I'm especially interested in using Iceberg with S3 replication for disaster recovery with S3 replication. \r\n\r\nThere will be challenges with the Glue catalog specifically. But I have ideas how to over come them.  Additionally with S3 replication there can be time where all of the contents of a table snapshot are not yet replicated, so it would be useful to track which \"snapshot\" is available at each location where the table is replicated.  Again, this is possible to do for S3 but I'm unsure of other storage systems.\r\n\r\nFrom reading the google doc, it is not especially clear what is proposed.  There are many \"alternatives\" proposed and I couldn't divine the actual proposal's TL;DR action points.\r\n\r\nPersonally, I was thinking of solving this challenge with a map of a \"location\" string to a regular expression to apply to all table URIs.  Each catalog instance could specify their \"location\" using a URI parameter added to the `metadata.json` current_metadata.  An example could be for a table in us-east-2 replicated from us-east-1.\r\n\r\n`s3://bucket-us-east-2/database/table_name/data/[uuid].metadata.json?location=aws:us-east-2`\r\n\r\nThe Iceberg table's metadata would have a property called \"location_replacements\" which would be a JSON string of a serialized map from each \"location\" to a regular expression to perform on all URI references.\r\n\r\n```\r\nmetadata.table.location_replacements = {\r\n  \"aws:us-east-2\": \"s/^s3:\\/\\/bucket-us-east-1\\//s3:\\/\\/bucket-us-east-2/\"\r\n}\r\n```\r\n\r\nThe regular expression substitution would mean paths that normally reference `bucket-us-east-1` would reference `bucket-us-east-2` when reading the catalog from that \"location\".\r\n\r\nThe location replacements map would contain a \"stringified\" regular expression that can be applied all URIs that are contained in the table.  The use of regular expressions would allow a lot of flexibility, but bring a moderate amount of complexity.  Regular expressions could allow tables to be at different relative paths depending on storage media.\r\n\r\nSince this will change almost every client of Iceberg this spec should likely have more eyes on it.\r\n\r\n@fokko your thoughts from the Python perspective?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687313178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687362589","html_url":"https://github.com/apache/iceberg/pull/8227#issuecomment-1687362589","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8227","id":1687362589,"node_id":"IC_kwDOCW7NX85kkxwd","user":{"login":"tomtongue","id":43331405,"node_id":"MDQ6VXNlcjQzMzMxNDA1","avatar_url":"https://avatars.githubusercontent.com/u/43331405?v=4","gravatar_id":"","url":"https://api.github.com/users/tomtongue","html_url":"https://github.com/tomtongue","followers_url":"https://api.github.com/users/tomtongue/followers","following_url":"https://api.github.com/users/tomtongue/following{/other_user}","gists_url":"https://api.github.com/users/tomtongue/gists{/gist_id}","starred_url":"https://api.github.com/users/tomtongue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomtongue/subscriptions","organizations_url":"https://api.github.com/users/tomtongue/orgs","repos_url":"https://api.github.com/users/tomtongue/repos","events_url":"https://api.github.com/users/tomtongue/events{/privacy}","received_events_url":"https://api.github.com/users/tomtongue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T03:31:56Z","updated_at":"2023-08-22T03:31:56Z","author_association":"CONTRIBUTOR","body":"Thanks for kindly fixing and reviewing, @aokolnychyi @ConeyLiu !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687362589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687400934","html_url":"https://github.com/apache/iceberg/pull/8346#issuecomment-1687400934","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8346","id":1687400934,"node_id":"IC_kwDOCW7NX85kk7Hm","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T04:31:33Z","updated_at":"2023-08-22T04:31:33Z","author_association":"CONTRIBUTOR","body":"Here are some numbers with #8336 and this change.\r\n\r\nAfter the changes:\r\n\r\n```\r\nBenchmark                                                                   Mode  Cnt           Score            Error   Units\r\nTaskGroupPlanningBenchmark.planTaskGroups                                     ss    5           1.989 ±          0.097    s/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·async                              ss                  NaN                      ---\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.alloc.rate                      ss    5         569.803 ±         30.506  MB/sec\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.alloc.rate.norm                 ss    5  1499818088.000 ±    3617083.698    B/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Eden_Space             ss    5         603.209 ±       3180.736  MB/sec\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Eden_Space.norm        ss    5  1596666675.200 ± 8422157507.465    B/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Survivor_Space         ss    5          25.930 ±        149.334  MB/sec\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Survivor_Space.norm    ss    5    68311168.000 ±  391184976.025    B/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.count                           ss    5           2.000                   counts\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.time                            ss    5          63.000                       ms\r\n``` \r\n\r\nBefore the changes:\r\n\r\n```\r\nBenchmark                                                                   Mode  Cnt            Score            Error   Units\r\nTaskGroupPlanningBenchmark.planTaskGroups                                     ss    5            6.659 ±          0.214    s/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·async                              ss                   NaN                      ---\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.alloc.rate                      ss    5         2529.137 ±         70.078  MB/sec\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.alloc.rate.norm                 ss    5  19052489617.600 ±    3591565.223    B/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Eden_Space             ss    5         2559.777 ±       1165.034  MB/sec\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Eden_Space.norm        ss    5  19285409792.000 ± 8829460580.255    B/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Survivor_Space         ss    5           38.440 ±         29.535  MB/sec\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.churn.PS_Survivor_Space.norm    ss    5    289638648.000 ±  225080948.753    B/op\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.count                           ss    5           22.000                   counts\r\nTaskGroupPlanningBenchmark.planTaskGroups:·gc.time                            ss    5          908.000                       ms\r\n```\r\n\r\nApart from time, there is 10+ times reduction in allocation rate and only 2 vs 22 garbage collections, which would make a big difference if we are running low on memory.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687400934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687416600","html_url":"https://github.com/apache/iceberg/issues/8338#issuecomment-1687416600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8338","id":1687416600,"node_id":"IC_kwDOCW7NX85kk-8Y","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T04:52:23Z","updated_at":"2023-08-22T04:52:23Z","author_association":"CONTRIBUTOR","body":"Is there a particular reason that you're using Hadoop's `S3AFileSystem`? You could switch to using `S3FileIO` when using Minio. Is it possible that `s3a://XXXXXXXXXX/data/event_ts_day=1970-01-01/00007-167930-e397f970-eb12-41ad-9e10-e855c8fd6e53-00001.parquet` got deleted in the meantime by another job? Also can you share the output of `xyz.files` and your catalog configuration just in case?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687416600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687447211","html_url":"https://github.com/apache/iceberg/issues/8348#issuecomment-1687447211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8348","id":1687447211,"node_id":"IC_kwDOCW7NX85klGar","user":{"login":"zhongyujiang","id":42907416,"node_id":"MDQ6VXNlcjQyOTA3NDE2","avatar_url":"https://avatars.githubusercontent.com/u/42907416?v=4","gravatar_id":"","url":"https://api.github.com/users/zhongyujiang","html_url":"https://github.com/zhongyujiang","followers_url":"https://api.github.com/users/zhongyujiang/followers","following_url":"https://api.github.com/users/zhongyujiang/following{/other_user}","gists_url":"https://api.github.com/users/zhongyujiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhongyujiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhongyujiang/subscriptions","organizations_url":"https://api.github.com/users/zhongyujiang/orgs","repos_url":"https://api.github.com/users/zhongyujiang/repos","events_url":"https://api.github.com/users/zhongyujiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhongyujiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T05:19:30Z","updated_at":"2023-08-22T05:19:30Z","author_association":"CONTRIBUTOR","body":"I think you can do this by configuring the `starting-strategy` as `INCREMENTAL_FROM_SNAPSHOT_ID`, details are in the [docs](https://iceberg.apache.org/docs/latest/flink-configuration/#runtime-configuration).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687447211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687571943","html_url":"https://github.com/apache/iceberg/pull/8367#issuecomment-1687571943","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8367","id":1687571943,"node_id":"IC_kwDOCW7NX85klk3n","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T06:48:06Z","updated_at":"2023-08-22T06:48:06Z","author_association":"CONTRIBUTOR","body":"cc @lirui-apache @szehon-ho","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687571943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687708679","html_url":"https://github.com/apache/iceberg/issues/8368#issuecomment-1687708679","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8368","id":1687708679,"node_id":"IC_kwDOCW7NX85kmGQH","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T08:21:15Z","updated_at":"2023-08-22T08:21:15Z","author_association":"CONTRIBUTOR","body":"You can check https://iceberg.apache.org/docs/latest/spark-procedures/#remove_orphan_files for some instructions.\r\nThis procedure uses the `FileIO` implementation that is configured for the underlying table, so the statement that it only supports the Hadoop filesystem isn't correct.\r\n\r\nHow does your catalog configuration look like and how do are you calling the procedure?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687708679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687721599","html_url":"https://github.com/apache/iceberg/issues/8338#issuecomment-1687721599","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8338","id":1687721599,"node_id":"IC_kwDOCW7NX85kmJZ_","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T08:29:32Z","updated_at":"2023-08-22T08:29:32Z","author_association":"CONTRIBUTOR","body":"Sorry it's a bit difficult to tell exactly what's going on without having full access to the logs and knowing what actions were happening at that time","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687721599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687744333","html_url":"https://github.com/apache/iceberg/issues/8369#issuecomment-1687744333","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8369","id":1687744333,"node_id":"IC_kwDOCW7NX85kmO9N","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T08:43:13Z","updated_at":"2023-08-22T08:43:13Z","author_association":"CONTRIBUTOR","body":"This is because \r\n```\r\ndb_name STRING METADATA FROM 'database_name' VIRTUAL,\r\ntable_name STRING METADATA FROM 'table_name' VIRTUAL,\r\n```\r\nis currently not supported. Only physical columns are supported.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687744333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687748714","html_url":"https://github.com/apache/iceberg/pull/7389#issuecomment-1687748714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7389","id":1687748714,"node_id":"IC_kwDOCW7NX85kmQBq","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T08:46:02Z","updated_at":"2023-08-22T08:46:02Z","author_association":"NONE","body":"when i backport to spark 3.1 with error:\r\njava.lang.IllegalArgumentException: Cannot parse path or identifier: 9a439584-c00f-45a5-9df7-31adfe182900\r\n\tat org.apache.iceberg.spark.Spark3Util.catalogAndIdentifier(Spark3Util.java:722)\r\n\tat org.apache.iceberg.spark.Spark3Util.catalogAndIdentifier(Spark3Util.java:713)\r\n\tat org.apache.iceberg.spark.source.IcebergSource.catalogAndIdentifier(IcebergSource.java:141)\r\n\tat org.apache.iceberg.spark.source.IcebergSource.extractIdentifier(IcebergSource.java:167)\r\n\tat org.apache.spark.sql.DataFrameReader.$anonfun$load$1(DataFrameReader.scala:288)\r\n i think the problem is \r\n`        Dataset<Row> posDeletes =\r\n                spark\r\n                        .read()\r\n                        .format(\"iceberg\")\r\n                        .option(SparkReadOptions.FILE_SCAN_TASK_SET_ID, groupId)\r\n                        .option(SparkReadOptions.SPLIT_SIZE, splitSize(inputSize(group)))\r\n                        .option(SparkReadOptions.FILE_OPEN_COST, \"0\")\r\n                        .load(groupId);`\r\nit seems like spark 3.1 can not read table based on groupId?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687748714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687754711","html_url":"https://github.com/apache/iceberg/issues/8369#issuecomment-1687754711","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8369","id":1687754711,"node_id":"IC_kwDOCW7NX85kmRfX","user":{"login":"tb77506668","id":45682286,"node_id":"MDQ6VXNlcjQ1NjgyMjg2","avatar_url":"https://avatars.githubusercontent.com/u/45682286?v=4","gravatar_id":"","url":"https://api.github.com/users/tb77506668","html_url":"https://github.com/tb77506668","followers_url":"https://api.github.com/users/tb77506668/followers","following_url":"https://api.github.com/users/tb77506668/following{/other_user}","gists_url":"https://api.github.com/users/tb77506668/gists{/gist_id}","starred_url":"https://api.github.com/users/tb77506668/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tb77506668/subscriptions","organizations_url":"https://api.github.com/users/tb77506668/orgs","repos_url":"https://api.github.com/users/tb77506668/repos","events_url":"https://api.github.com/users/tb77506668/events{/privacy}","received_events_url":"https://api.github.com/users/tb77506668/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T08:49:38Z","updated_at":"2023-08-22T08:49:38Z","author_association":"NONE","body":"thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687754711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687932446","html_url":"https://github.com/apache/iceberg/issues/8347#issuecomment-1687932446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8347","id":1687932446,"node_id":"IC_kwDOCW7NX85km84e","user":{"login":"aiwhj","id":16408168,"node_id":"MDQ6VXNlcjE2NDA4MTY4","avatar_url":"https://avatars.githubusercontent.com/u/16408168?v=4","gravatar_id":"","url":"https://api.github.com/users/aiwhj","html_url":"https://github.com/aiwhj","followers_url":"https://api.github.com/users/aiwhj/followers","following_url":"https://api.github.com/users/aiwhj/following{/other_user}","gists_url":"https://api.github.com/users/aiwhj/gists{/gist_id}","starred_url":"https://api.github.com/users/aiwhj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aiwhj/subscriptions","organizations_url":"https://api.github.com/users/aiwhj/orgs","repos_url":"https://api.github.com/users/aiwhj/repos","events_url":"https://api.github.com/users/aiwhj/events{/privacy}","received_events_url":"https://api.github.com/users/aiwhj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T10:34:06Z","updated_at":"2023-08-22T10:34:06Z","author_association":"NONE","body":"> For glue you could try and specify the [client.credentials-provider](https://github.com/apache/iceberg/blob/master/aws/src/main/java/org/apache/iceberg/aws/AwsClientProperties.java#L52). However, I see that you specified a bunch of S3-related **table properties**, which is wrong. Those aren't used in any way.\r\n> \r\n> You need to pass them when creating the catalog, meaning that you need to set **catalog properties** instead of **table properties**. See https://iceberg.apache.org/docs/latest/flink-configuration/#catalog-configuration.\r\n> \r\n> Given that you want to use `S3FileIO`, you'd set only the ones that exist in https://github.com/apache/iceberg/blob/master/aws/src/main/java/org/apache/iceberg/aws/s3/S3FileIOProperties.java#L43. In your case that would most likely be `s3.access-key-id` / `s3.secret-access-key` / `s3.path-style-access` / `s3.endpoint`.\r\n\r\nThank you for your reply. I tried creating a Catalog first and then creating a table based on the Catalog. I followed your suggestion to configure using client.credentials-provider, and the authorization step has passed. However, I encountered another error. It seems that it is not connecting to my Minio but instead connecting to the online AWS service.\r\n```\r\nCREATE CATALOG my_catalog WITH (\r\n    'connector'='iceberg',\r\n    'catalog-name'='test_log',\r\n    'type'='iceberg',\r\n    'catalog-impl'='org.apache.iceberg.aws.glue.GlueCatalog',\r\n    'warehouse'='s3a://iceberg/my/key/prefix',\r\n    'io-impl'='org.apache.iceberg.aws.s3.S3FileIO',\r\n    's3.access-key-id'='DNxkAwJpbuB***',\r\n    's3.secret-access-key'='YVMYE78PgQ8xBizDPm******',\r\n    's3.endpoint'='http://minio:30619',\r\n    's3.path-style-access'='true',\r\n    'client.region'='us-east-1',\r\n    'client.credentials-provider'='software.amazon.awssdk.auth.credentials.EnvironmentVariableCredentialsProvider',\r\n    'client.factory'='org.apache.iceberg.aws.s3.DefaultS3FileIOAwsClientFactory'\r\n);\r\n```\r\n```\r\nCREATE TABLE `my_catalog`.`default`.`test`\r\n(\r\n    id   BIGINT COMMENT 'unique id',\r\n    data STRING\r\n);\r\n```\r\n![image](https://github.com/apache/iceberg/assets/16408168/a9c68abf-e858-4022-8617-16af4e23d771)\r\n\r\nI found a configuration called `client.factory` and specified it as `org.apache.iceberg.aws.s3.DefaultS3FileIOAwsClientFactory`, but it resulted in an error: org.apache.iceberg.aws.s3.DefaultS3FileIOAwsClientFactory cannot be cast to org.apache.iceberg.aws.AwsClientFactory. \r\n![image](https://github.com/apache/iceberg/assets/16408168/47c5e751-dafb-450a-a45d-aa1ce1ecee31)\r\n\r\nI'm not sure what to do next. Could you provide me with an example? Thank you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1687932446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688037325","html_url":"https://github.com/apache/iceberg/issues/8347#issuecomment-1688037325","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8347","id":1688037325,"node_id":"IC_kwDOCW7NX85knWfN","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T11:51:44Z","updated_at":"2023-08-22T11:52:28Z","author_association":"CONTRIBUTOR","body":"Not sure if you meant to pass `DefaultAwsClientFactory` to `client.factory`, but `DefaultS3FileIOAwsClientFactory` can only be configured via `s3.client-factory-impl`, since it's expecting a different class hierarchy. In any case, I don't think you need to set `client.factory` at all (unless you wanted to provide your own implementation), because `DefaultAwsClientFactory` will be the default anyway.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688037325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688045276","html_url":"https://github.com/apache/iceberg/pull/8230#issuecomment-1688045276","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8230","id":1688045276,"node_id":"IC_kwDOCW7NX85knYbc","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T11:57:30Z","updated_at":"2023-08-22T11:57:30Z","author_association":"MEMBER","body":"cc @Fokko","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688045276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688057252","html_url":"https://github.com/apache/iceberg/pull/8174#issuecomment-1688057252","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8174","id":1688057252,"node_id":"IC_kwDOCW7NX85knbWk","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T12:05:57Z","updated_at":"2023-08-22T12:05:57Z","author_association":"CONTRIBUTOR","body":"Thanks @hililiwei for working on this 👍🏻 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688057252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688057348","html_url":"https://github.com/apache/iceberg/issues/8347#issuecomment-1688057348","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8347","id":1688057348,"node_id":"IC_kwDOCW7NX85knbYE","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T12:06:01Z","updated_at":"2023-08-22T12:06:01Z","author_association":"CONTRIBUTOR","body":"Also just FYI that https://github.com/tabular-io/docker-spark-iceberg/tree/main/flink-example uses Flink with Minio","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688057348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688082643","html_url":"https://github.com/apache/iceberg/pull/8370#issuecomment-1688082643","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8370","id":1688082643,"node_id":"IC_kwDOCW7NX85knhjT","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T12:23:23Z","updated_at":"2023-08-22T12:23:23Z","author_association":"CONTRIBUTOR","body":"I think it would be better to split this into 2 PRs (one that only updates the AWS SDK version)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688082643/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688220158","html_url":"https://github.com/apache/iceberg/pull/8353#issuecomment-1688220158","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8353","id":1688220158,"node_id":"IC_kwDOCW7NX85koDH-","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T13:45:18Z","updated_at":"2023-08-22T13:45:18Z","author_association":"CONTRIBUTOR","body":"requires JDK 17","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688220158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688220246","html_url":"https://github.com/apache/iceberg/pull/8353#issuecomment-1688220246","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8353","id":1688220246,"node_id":"IC_kwDOCW7NX85koDJW","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T13:45:21Z","updated_at":"2023-08-22T13:45:21Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688220246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688260273","html_url":"https://github.com/apache/iceberg/pull/8113#issuecomment-1688260273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8113","id":1688260273,"node_id":"IC_kwDOCW7NX85koM6x","user":{"login":"SourabhBadhya","id":42867455,"node_id":"MDQ6VXNlcjQyODY3NDU1","avatar_url":"https://avatars.githubusercontent.com/u/42867455?v=4","gravatar_id":"","url":"https://api.github.com/users/SourabhBadhya","html_url":"https://github.com/SourabhBadhya","followers_url":"https://api.github.com/users/SourabhBadhya/followers","following_url":"https://api.github.com/users/SourabhBadhya/following{/other_user}","gists_url":"https://api.github.com/users/SourabhBadhya/gists{/gist_id}","starred_url":"https://api.github.com/users/SourabhBadhya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourabhBadhya/subscriptions","organizations_url":"https://api.github.com/users/SourabhBadhya/orgs","repos_url":"https://api.github.com/users/SourabhBadhya/repos","events_url":"https://api.github.com/users/SourabhBadhya/events{/privacy}","received_events_url":"https://api.github.com/users/SourabhBadhya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T14:07:46Z","updated_at":"2023-08-22T14:07:46Z","author_association":"CONTRIBUTOR","body":"@rdblue @Fokko Please check this and review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688260273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688294661","html_url":"https://github.com/apache/iceberg/issues/8373#issuecomment-1688294661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8373","id":1688294661,"node_id":"IC_kwDOCW7NX85koVUF","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T14:25:45Z","updated_at":"2023-08-22T14:25:45Z","author_association":"CONTRIBUTOR","body":"`merge-schema` is the Iceberg alias for Spark's `mergeSchema`. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688294661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688396032","html_url":"https://github.com/apache/iceberg/pull/8278#issuecomment-1688396032","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8278","id":1688396032,"node_id":"IC_kwDOCW7NX85kouEA","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T15:18:31Z","updated_at":"2023-08-22T15:18:31Z","author_association":"CONTRIBUTOR","body":"As #8360 is in,  I will rebase this PR to use the optimized lookup only if there is no useable bounds.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688396032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688579323","html_url":"https://github.com/apache/iceberg/pull/8278#issuecomment-1688579323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8278","id":1688579323,"node_id":"IC_kwDOCW7NX85kpaz7","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T16:53:15Z","updated_at":"2023-08-22T16:53:15Z","author_association":"CONTRIBUTOR","body":"I've updated this PR to use a faster lookup when no useful stats are present, which should be common in Spark after #8360. I kept equality delete logic as before. We may consider a table property in the future if we want to disable this for equality deletes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688579323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688649260","html_url":"https://github.com/apache/iceberg/pull/8300#issuecomment-1688649260","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8300","id":1688649260,"node_id":"IC_kwDOCW7NX85kpr4s","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T17:48:29Z","updated_at":"2023-08-22T17:48:41Z","author_association":"COLLABORATOR","body":"Merging, I think there's no strong objection.  If we have some reason in future to must build with a certain Java version, we can put this back.  For now, as Iceberg can be built in many distro using different Java version, this allows more flexibility.  Thanks everyone for discussions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688649260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688695567","html_url":"https://github.com/apache/iceberg/pull/8278#issuecomment-1688695567","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8278","id":1688695567,"node_id":"IC_kwDOCW7NX85kp3MP","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T18:19:59Z","updated_at":"2023-08-22T18:19:59Z","author_association":"CONTRIBUTOR","body":"I've also updated the PR description with new benchmark results.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688695567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688727797","html_url":"https://github.com/apache/iceberg/issues/8218#issuecomment-1688727797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8218","id":1688727797,"node_id":"IC_kwDOCW7NX85kp_D1","user":{"login":"huaxiangsun","id":62515050,"node_id":"MDQ6VXNlcjYyNTE1MDUw","avatar_url":"https://avatars.githubusercontent.com/u/62515050?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxiangsun","html_url":"https://github.com/huaxiangsun","followers_url":"https://api.github.com/users/huaxiangsun/followers","following_url":"https://api.github.com/users/huaxiangsun/following{/other_user}","gists_url":"https://api.github.com/users/huaxiangsun/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxiangsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxiangsun/subscriptions","organizations_url":"https://api.github.com/users/huaxiangsun/orgs","repos_url":"https://api.github.com/users/huaxiangsun/repos","events_url":"https://api.github.com/users/huaxiangsun/events{/privacy}","received_events_url":"https://api.github.com/users/huaxiangsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T18:40:46Z","updated_at":"2023-08-22T18:40:46Z","author_association":"NONE","body":"Reproduced it again with 3 delete files and 6 datafiles per partition, trying to debug it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688727797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688819689","html_url":"https://github.com/apache/iceberg/issues/8373#issuecomment-1688819689","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8373","id":1688819689,"node_id":"IC_kwDOCW7NX85kqVfp","user":{"login":"MCaviezel","id":28107610,"node_id":"MDQ6VXNlcjI4MTA3NjEw","avatar_url":"https://avatars.githubusercontent.com/u/28107610?v=4","gravatar_id":"","url":"https://api.github.com/users/MCaviezel","html_url":"https://github.com/MCaviezel","followers_url":"https://api.github.com/users/MCaviezel/followers","following_url":"https://api.github.com/users/MCaviezel/following{/other_user}","gists_url":"https://api.github.com/users/MCaviezel/gists{/gist_id}","starred_url":"https://api.github.com/users/MCaviezel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MCaviezel/subscriptions","organizations_url":"https://api.github.com/users/MCaviezel/orgs","repos_url":"https://api.github.com/users/MCaviezel/repos","events_url":"https://api.github.com/users/MCaviezel/events{/privacy}","received_events_url":"https://api.github.com/users/MCaviezel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T19:40:37Z","updated_at":"2023-08-22T19:40:37Z","author_association":"NONE","body":"Thanks for your quick reply!\nThis means it has it the same functionality, right?\nOr is there a recommendation which one to use, if not?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688819689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688849081","html_url":"https://github.com/apache/iceberg/pull/7731#issuecomment-1688849081","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7731","id":1688849081,"node_id":"IC_kwDOCW7NX85kqcq5","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T20:04:49Z","updated_at":"2023-08-22T20:04:49Z","author_association":"CONTRIBUTOR","body":"Closing this since #7714 went in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688849081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688862454","html_url":"https://github.com/apache/iceberg/issues/6669#issuecomment-1688862454","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6669","id":1688862454,"node_id":"IC_kwDOCW7NX85kqf72","user":{"login":"dchristle","id":5257839,"node_id":"MDQ6VXNlcjUyNTc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5257839?v=4","gravatar_id":"","url":"https://api.github.com/users/dchristle","html_url":"https://github.com/dchristle","followers_url":"https://api.github.com/users/dchristle/followers","following_url":"https://api.github.com/users/dchristle/following{/other_user}","gists_url":"https://api.github.com/users/dchristle/gists{/gist_id}","starred_url":"https://api.github.com/users/dchristle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchristle/subscriptions","organizations_url":"https://api.github.com/users/dchristle/orgs","repos_url":"https://api.github.com/users/dchristle/repos","events_url":"https://api.github.com/users/dchristle/events{/privacy}","received_events_url":"https://api.github.com/users/dchristle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T20:15:35Z","updated_at":"2023-08-22T20:15:35Z","author_association":"CONTRIBUTOR","body":"We encounter this same bug: many of our tables are rewritten to have exactly the same number of partitions as they started with. No updates to the table happen between file rewrites. This has happened for a while on previous versions of Spark and Iceberg, and is still present when using Iceberg 1.3.1 on Spark 3.4.1. \r\n\r\n![spark_iceberg_table_rewrite_bug](https://github.com/apache/iceberg/assets/5257839/6fb8f54e-6b95-4ad4-ad3a-c1f18d59a699)\r\n\r\nQuerying the snapshots metadata for this table shows:\r\n```\r\nspark.read.format(\"iceberg\")\r\n    .load(\"catalog.database.table_name.snapshots\")\r\n    .select(\"operation\", \r\n            \"summary.deleted-data-files\", \"summary.added-data-files\", \r\n            \"summary.removed-files-size\", \"summary.added-files-size\")\r\n    .show(500, truncate=false)\r\n+---------+------------------+----------------+------------------+----------------+\r\n|operation|deleted-data-files|added-data-files|removed-files-size|added-files-size|\r\n+---------+------------------+----------------+------------------+----------------+\r\n|replace  |461               |461             |65130575502       |65130575502     |\r\n|replace  |760               |760             |107250612676      |107250612676    |\r\n|replace  |759               |759             |107248686823      |107248225139    |\r\n|replace  |760               |760             |107366099394      |107366031533    |\r\n|replace  |759               |759             |107256949232      |107256949232    |\r\n|replace  |760               |760             |107320206910      |107320138775    |\r\n|replace  |753               |753             |107326458293      |107325552272    |\r\n|replace  |760               |760             |107304881346      |107304798912    |\r\n|replace  |null              |null            |null              |null            |\r\n|replace  |459               |459             |64992219554       |64991817897     |\r\n|replace  |761               |761             |107340441274      |107340253045    |\r\n|replace  |760               |760             |107360953592      |107360953592    |\r\n|replace  |753               |753             |107325552272      |107325383411    |\r\n|replace  |759               |759             |107256949232      |107256949232    |\r\n|replace  |761               |761             |107314333169      |107314550136    |\r\n|replace  |760               |760             |107251467603      |107250934878    |\r\n|replace  |null              |null            |null              |null            |\r\n|replace  |461               |461             |65238736381       |65238736381     |\r\n|replace  |760               |760             |107351232238      |107351343956    |\r\n|replace  |759               |759             |107243810268      |107244081909    |\r\n|replace  |759               |759             |107282034554      |107282034554    |\r\n|replace  |760               |760             |107261323675      |107261455992    |\r\n|replace  |762               |762             |107261642516      |107260731540    |\r\n|replace  |759               |759             |107265131201      |107265131201    |\r\n|replace  |null              |null            |null              |null            |\r\n|replace  |461               |461             |65238736381       |65238736381     |\r\n|replace  |759               |759             |107282034554      |107281765115    |\r\n|replace  |759               |759             |107244081909      |107244128779    |\r\n|replace  |760               |760             |107261455992      |107261455276    |\r\n|replace  |752               |752             |107297898703      |107297898703    |\r\n|replace  |760               |760             |107351343956      |107351334827    |\r\n|replace  |762               |762             |107260731540      |107260731540    |\r\n|replace  |759               |759             |107265131201      |107265124820    |\r\n|replace  |null              |null            |null              |null            |\r\n+---------+------------------+----------------+------------------+----------------+\r\n```\r\n\r\nThis table has been unmodified for some time, but it keeps getting rewritten. Using `SHOW CREATE TABLE` shows the following table properties:\r\n```\r\nTBLPROPERTIES (\r\n  'current-snapshot-id' = '7858704354037519378',\r\n  'format' = 'iceberg/parquet',\r\n  'format-version' = '1',\r\n  'read.parquet.vectorization.enabled' = 'true',\r\n  'write.parquet.compression-codec' = 'zstd',\r\n  'write.parquet.compression-level' = '4',\r\n  'write.target-file-size-bytes' = '268435456')\r\n```\r\n\r\nIn the bucket, the most recent set of recently written Parquet files are all around 130MB, rather than the 256MB target. A sample:\r\n![recent_rewritten_file_sizes](https://github.com/apache/iceberg/assets/5257839/57e3cfbd-6800-45da-9fac-fecd39f43798)\r\n\r\nAt least in this case, it seems like the output files aren't being written close enough to the target size to avoid being reselected for a rewrite in the next run. IIRC, the default ratio is 0.75, and these files are about 0.5 of the target. We aren't specifying the target file size in the rewrite option, either, so the 256MB target should be being used, AFAIK. For reference, our exact command is:\r\n```\r\nSparkActions\r\n    .get()\r\n    .rewriteDataFiles(icebergTable)\r\n    .option(\"delete-file-threshold\", \"1\")\r\n    .option(\"min-input-files\", \"5\")\r\n    .option(\"partial-progress.enabled\", \"true\")\r\n    .option(\"max-concurrent-file-group-rewrites\", \"30\")\r\n    .execute()\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688862454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688947126","html_url":"https://github.com/apache/iceberg/issues/7226#issuecomment-1688947126","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7226","id":1688947126,"node_id":"IC_kwDOCW7NX85kq0m2","user":{"login":"FabricioZGalvani","id":125269274,"node_id":"U_kgDOB3d1Gg","avatar_url":"https://avatars.githubusercontent.com/u/125269274?v=4","gravatar_id":"","url":"https://api.github.com/users/FabricioZGalvani","html_url":"https://github.com/FabricioZGalvani","followers_url":"https://api.github.com/users/FabricioZGalvani/followers","following_url":"https://api.github.com/users/FabricioZGalvani/following{/other_user}","gists_url":"https://api.github.com/users/FabricioZGalvani/gists{/gist_id}","starred_url":"https://api.github.com/users/FabricioZGalvani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FabricioZGalvani/subscriptions","organizations_url":"https://api.github.com/users/FabricioZGalvani/orgs","repos_url":"https://api.github.com/users/FabricioZGalvani/repos","events_url":"https://api.github.com/users/FabricioZGalvani/events{/privacy}","received_events_url":"https://api.github.com/users/FabricioZGalvani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-22T21:19:43Z","updated_at":"2023-08-22T21:19:43Z","author_association":"NONE","body":"Hello, my friends.\r\n\r\nI'm using Structured streaming writes to partitioned table, and I'm using Iceberg's transformations to partition.\r\n\r\nTrying to record with .start(), I get the same error, but testing to use the approach of passing toTable('iceberg_table') instead of start(), it worked.\r\n\r\nI am using Iceberg 1.3.0 and Spark 3.4.0.\r\n\r\nThis way it didn't work\r\n```\r\ndf.writeStream.format(\"iceberg\").outputMode(\"append\").trigger(\r\n    once=True\r\n).option(\"path\", iceberg_table).option(\"fanout-enabled\", \"true\").option(\r\n    \"checkpointLocation\",\r\n    checkpoint_location,\r\n).start().awaitTermination()\r\n```\r\n\r\nThis way it worked:\r\n```\r\ndf.writeStream.format(\"iceberg\").outputMode(\"append\").trigger(\r\n    once=True\r\n).option(\"path\", iceberg_table).option(\"fanout-enabled\", \"true\").option(\r\n    \"checkpointLocation\",\r\n    checkpoint_location,\r\n).toTable(\r\n    iceberg_table\r\n).awaitTermination()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1688947126/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689137924","html_url":"https://github.com/apache/iceberg/pull/7362#issuecomment-1689137924","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7362","id":1689137924,"node_id":"IC_kwDOCW7NX85krjME","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T01:44:09Z","updated_at":"2023-08-23T01:44:09Z","author_association":"CONTRIBUTOR","body":"Could you take an other look? @pvary","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689137924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689154455","html_url":"https://github.com/apache/iceberg/pull/5984#issuecomment-1689154455","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5984","id":1689154455,"node_id":"IC_kwDOCW7NX85krnOX","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T02:08:02Z","updated_at":"2023-08-23T02:08:02Z","author_association":"CONTRIBUTOR","body":"@nastra @nastra @jackye1995 😄  hey guys, could you please take a look when you have a chance?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689154455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689154798","html_url":"https://github.com/apache/iceberg/issues/8347#issuecomment-1689154798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8347","id":1689154798,"node_id":"IC_kwDOCW7NX85krnTu","user":{"login":"aiwhj","id":16408168,"node_id":"MDQ6VXNlcjE2NDA4MTY4","avatar_url":"https://avatars.githubusercontent.com/u/16408168?v=4","gravatar_id":"","url":"https://api.github.com/users/aiwhj","html_url":"https://github.com/aiwhj","followers_url":"https://api.github.com/users/aiwhj/followers","following_url":"https://api.github.com/users/aiwhj/following{/other_user}","gists_url":"https://api.github.com/users/aiwhj/gists{/gist_id}","starred_url":"https://api.github.com/users/aiwhj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aiwhj/subscriptions","organizations_url":"https://api.github.com/users/aiwhj/orgs","repos_url":"https://api.github.com/users/aiwhj/repos","events_url":"https://api.github.com/users/aiwhj/events{/privacy}","received_events_url":"https://api.github.com/users/aiwhj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T02:08:29Z","updated_at":"2023-08-23T02:08:29Z","author_association":"NONE","body":"> Also just FYI that https://github.com/tabular-io/docker-spark-iceberg/tree/main/flink-example uses Flink with Minio\r\n\r\nI have come across this example before, but it uses RESTCatalog, and I don't quite understand why it is necessary to start a REST service as a bridge. However, the official documentation states that GlueCatalog can be used to access S3. Therefore, I have been continuously trying to use GlueCatalog.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689154798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689172270","html_url":"https://github.com/apache/iceberg/issues/8368#issuecomment-1689172270","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8368","id":1689172270,"node_id":"IC_kwDOCW7NX85krrku","user":{"login":"Zhanxiao-Ma","id":24912951,"node_id":"MDQ6VXNlcjI0OTEyOTUx","avatar_url":"https://avatars.githubusercontent.com/u/24912951?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhanxiao-Ma","html_url":"https://github.com/Zhanxiao-Ma","followers_url":"https://api.github.com/users/Zhanxiao-Ma/followers","following_url":"https://api.github.com/users/Zhanxiao-Ma/following{/other_user}","gists_url":"https://api.github.com/users/Zhanxiao-Ma/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhanxiao-Ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhanxiao-Ma/subscriptions","organizations_url":"https://api.github.com/users/Zhanxiao-Ma/orgs","repos_url":"https://api.github.com/users/Zhanxiao-Ma/repos","events_url":"https://api.github.com/users/Zhanxiao-Ma/events{/privacy}","received_events_url":"https://api.github.com/users/Zhanxiao-Ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T02:36:15Z","updated_at":"2023-08-23T02:44:12Z","author_association":"NONE","body":"> You can check https://iceberg.apache.org/docs/latest/spark-procedures/#remove_orphan_files for some instructions. This procedure uses the `FileIO` implementation that is configured for the underlying table, so the statement that it only supports the Hadoop filesystem isn't correct.\r\n> \r\n> How does your catalog configuration look like and how do are you calling the procedure?\r\n\r\n**Thanks for answering this question.When i use s3FileIo, i get this error:**\r\norg.apache.iceberg.exceptions.RuntimeIOException: org.apache.hadoop.fs.UnsupportedFileSystemException: No FileSystem for scheme \"S3\"\r\n\tat org.apache.iceberg.spark.actions.DeleteOrphanFilesSparkAction.listDirRecursively(DeleteOrphanFilesSparkAction.java:298) ~[iceberg-spark-runtime-0.14.0.jar:?]\r\n\tat org.apache.iceberg.spark.actions.DeleteOrphanFilesSparkAction.buildActualFileDF(DeleteOrphanFilesSparkAction.java:243) ~[iceberg-spark-runtime-0.14.1.jar:?]\r\n\tat org.apache.iceberg.spark.actions.DeleteOrphanFilesSparkAction.doExecute(DeleteOrphanFilesSparkAction.java:214) ~[iceberg-spark-runtime-0.14.1.jar:?]\r\n\tat org.apache.iceberg.spark.actions.BaseSparkAction.withJobGroupInfo(BaseSparkAction.java:112) ~[iceberg-spark-runtime-0.14.1.jar:?]\r\n\tat org.apache.iceberg.spark.actions.DeleteOrphanFilesSparkAction.execute(DeleteOrphanFilesSparkAction.java:198) ~[iceberg-spark-runtime-0.14.1.jar:?]\r\n        at xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nCaused by: org.apache.hadoop.fs.UnsupportedFileSystemException: No FileSystem for scheme \"S3\"\r\n\tat org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:3585) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3608) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3712) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3663) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:557) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:365) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.iceberg.spark.actions.DeleteOrphanFilesSparkAction.listDirRecursively(DeleteOrphanFilesSparkAction.java:275) ~[polars-iceberg-spark-runtime-0.14.01.jar:?]\r\n\t... 13 more\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689172270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689175603","html_url":"https://github.com/apache/iceberg/issues/8368#issuecomment-1689175603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8368","id":1689175603,"node_id":"IC_kwDOCW7NX85krsYz","user":{"login":"Zhanxiao-Ma","id":24912951,"node_id":"MDQ6VXNlcjI0OTEyOTUx","avatar_url":"https://avatars.githubusercontent.com/u/24912951?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhanxiao-Ma","html_url":"https://github.com/Zhanxiao-Ma","followers_url":"https://api.github.com/users/Zhanxiao-Ma/followers","following_url":"https://api.github.com/users/Zhanxiao-Ma/following{/other_user}","gists_url":"https://api.github.com/users/Zhanxiao-Ma/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhanxiao-Ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhanxiao-Ma/subscriptions","organizations_url":"https://api.github.com/users/Zhanxiao-Ma/orgs","repos_url":"https://api.github.com/users/Zhanxiao-Ma/repos","events_url":"https://api.github.com/users/Zhanxiao-Ma/events{/privacy}","received_events_url":"https://api.github.com/users/Zhanxiao-Ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T02:41:35Z","updated_at":"2023-08-23T02:41:35Z","author_association":"NONE","body":"> You can check https://iceberg.apache.org/docs/latest/spark-procedures/#remove_orphan_files for some instructions. This procedure uses the `FileIO` implementation that is configured for the underlying table, so the statement that it only supports the Hadoop filesystem isn't correct.\r\n> \r\n> How does your catalog configuration look like and how do are you calling the procedure?\r\n\r\nAnd, After reading the source code, I found that the comment in DeleteOrphanFilesSparkAction.java\r\n:\r\nAn action that removes orphan metadata, data and delete files by listing a given location and\r\ncomparing the actual files in that location with content and metadata files referenced by all\r\nvalid snapshots. **The location must be accessible for listing via the Hadoop** {@link FileSystem}.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689175603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689246880","html_url":"https://github.com/apache/iceberg/issues/2586#issuecomment-1689246880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2586","id":1689246880,"node_id":"IC_kwDOCW7NX85kr9yg","user":{"login":"badbye","id":3295865,"node_id":"MDQ6VXNlcjMyOTU4NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3295865?v=4","gravatar_id":"","url":"https://api.github.com/users/badbye","html_url":"https://github.com/badbye","followers_url":"https://api.github.com/users/badbye/followers","following_url":"https://api.github.com/users/badbye/following{/other_user}","gists_url":"https://api.github.com/users/badbye/gists{/gist_id}","starred_url":"https://api.github.com/users/badbye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badbye/subscriptions","organizations_url":"https://api.github.com/users/badbye/orgs","repos_url":"https://api.github.com/users/badbye/repos","events_url":"https://api.github.com/users/badbye/events{/privacy}","received_events_url":"https://api.github.com/users/badbye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T04:03:01Z","updated_at":"2023-08-23T04:03:01Z","author_association":"NONE","body":"Hi @jornfranke , I wrote a doc https://docs.google.com/document/d/1vCCVFayEck5f1uAMAmPVFiAbgJoR9x6BdAaj3Tgr5XU/edit?usp=sharing \r\nIf you have any questions or ideas, welcome to comment and contribute.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689246880/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689268351","html_url":"https://github.com/apache/iceberg/pull/7161#issuecomment-1689268351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7161","id":1689268351,"node_id":"IC_kwDOCW7NX85ksDB_","user":{"login":"advancedxy","id":807537,"node_id":"MDQ6VXNlcjgwNzUzNw==","avatar_url":"https://avatars.githubusercontent.com/u/807537?v=4","gravatar_id":"","url":"https://api.github.com/users/advancedxy","html_url":"https://github.com/advancedxy","followers_url":"https://api.github.com/users/advancedxy/followers","following_url":"https://api.github.com/users/advancedxy/following{/other_user}","gists_url":"https://api.github.com/users/advancedxy/gists{/gist_id}","starred_url":"https://api.github.com/users/advancedxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/advancedxy/subscriptions","organizations_url":"https://api.github.com/users/advancedxy/orgs","repos_url":"https://api.github.com/users/advancedxy/repos","events_url":"https://api.github.com/users/advancedxy/events{/privacy}","received_events_url":"https://api.github.com/users/advancedxy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T04:36:55Z","updated_at":"2023-08-23T04:36:55Z","author_association":"CONTRIBUTOR","body":"Hi @stevenzwu @kengtin this PR restricts that only one bucket transform in the partition spec. Do you think it's beneficial to support multiple bucket transforms or even the mutli-arg bucket transform(#8259) since it's common to have multiple keys to form a primary key?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689268351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689273814","html_url":"https://github.com/apache/iceberg/pull/7161#issuecomment-1689273814","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7161","id":1689273814,"node_id":"IC_kwDOCW7NX85ksEXW","user":{"login":"kengtin","id":6764990,"node_id":"MDQ6VXNlcjY3NjQ5OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6764990?v=4","gravatar_id":"","url":"https://api.github.com/users/kengtin","html_url":"https://github.com/kengtin","followers_url":"https://api.github.com/users/kengtin/followers","following_url":"https://api.github.com/users/kengtin/following{/other_user}","gists_url":"https://api.github.com/users/kengtin/gists{/gist_id}","starred_url":"https://api.github.com/users/kengtin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kengtin/subscriptions","organizations_url":"https://api.github.com/users/kengtin/orgs","repos_url":"https://api.github.com/users/kengtin/repos","events_url":"https://api.github.com/users/kengtin/events{/privacy}","received_events_url":"https://api.github.com/users/kengtin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T04:45:09Z","updated_at":"2023-08-23T04:45:35Z","author_association":"CONTRIBUTOR","body":"Hi @advancedxy, thanks for bringing it up. If I recall correctly @stevenzwu and I discussed that point during the early stages and at least back then we determined it would be much simpler. However I see your point about not restricting the user's design to 1 bucket only. Perhaps we could allow multi-bucket/key definitions but I'd still restrict the routing/distribution to be based only on the first bucket (or something like that) to not overcomplicate it. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689273814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689278343","html_url":"https://github.com/apache/iceberg/pull/6799#issuecomment-1689278343","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6799","id":1689278343,"node_id":"IC_kwDOCW7NX85ksFeH","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T04:52:02Z","updated_at":"2023-08-23T04:52:02Z","author_association":"CONTRIBUTOR","body":"@nastra gentle nudge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689278343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689300761","html_url":"https://github.com/apache/iceberg/pull/7161#issuecomment-1689300761","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7161","id":1689300761,"node_id":"IC_kwDOCW7NX85ksK8Z","user":{"login":"advancedxy","id":807537,"node_id":"MDQ6VXNlcjgwNzUzNw==","avatar_url":"https://avatars.githubusercontent.com/u/807537?v=4","gravatar_id":"","url":"https://api.github.com/users/advancedxy","html_url":"https://github.com/advancedxy","followers_url":"https://api.github.com/users/advancedxy/followers","following_url":"https://api.github.com/users/advancedxy/following{/other_user}","gists_url":"https://api.github.com/users/advancedxy/gists{/gist_id}","starred_url":"https://api.github.com/users/advancedxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/advancedxy/subscriptions","organizations_url":"https://api.github.com/users/advancedxy/orgs","repos_url":"https://api.github.com/users/advancedxy/repos","events_url":"https://api.github.com/users/advancedxy/events{/privacy}","received_events_url":"https://api.github.com/users/advancedxy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T05:24:56Z","updated_at":"2023-08-23T05:24:56Z","author_association":"CONTRIBUTOR","body":"> Perhaps we could allow multi-bucket/key definitions but I'd still restrict the routing/distribution to be based only on the first bucket (or something like that) to not overcomplicate it. Thoughts?\r\n\r\nAh, yeah. it's definitely much simpler to routing/distribution by one bucket partition(first one or the one has the largest number of bucket, etc., a.k.a the most significant bucket transform).  When multi-arg bucket transform is not supported, perhaps we may allow multiple bucket transforms in the table but choose only one bucket transform. Once multi-arg bucket transform is supported,  the multi-arg bucket transform should probably to be selected first.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689300761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689327466","html_url":"https://github.com/apache/iceberg/issues/8343#issuecomment-1689327466","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8343","id":1689327466,"node_id":"IC_kwDOCW7NX85ksRdq","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T05:59:44Z","updated_at":"2023-08-23T05:59:44Z","author_association":"COLLABORATOR","body":"@pulkit-cldcvr the issue happens only in pyspark or spark-shell as well?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689327466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689349351","html_url":"https://github.com/apache/iceberg/pull/8346#issuecomment-1689349351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8346","id":1689349351,"node_id":"IC_kwDOCW7NX85ksWzn","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T06:22:42Z","updated_at":"2023-08-23T06:22:42Z","author_association":"CONTRIBUTOR","body":"The behavior should be exactly like before. There were some some tests for planning as well as for Spark and Flink serialization. I'll find and post them tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689349351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689354979","html_url":"https://github.com/apache/iceberg/pull/8123#issuecomment-1689354979","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8123","id":1689354979,"node_id":"IC_kwDOCW7NX85ksYLj","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T06:28:04Z","updated_at":"2023-08-23T06:28:04Z","author_association":"CONTRIBUTOR","body":"I have spent all this time profiling our local planning and `DeleteFileIndex`. There are a few open changes but I've already rebased this PR if anyone wants to take another look. I will continue to polish it and will work on tests next.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689354979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689421103","html_url":"https://github.com/apache/iceberg/pull/5984#issuecomment-1689421103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5984","id":1689421103,"node_id":"IC_kwDOCW7NX85ksoUv","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T07:20:16Z","updated_at":"2023-08-23T07:20:16Z","author_association":"CONTRIBUTOR","body":"Looks like there are no further comments, so I'll go ahead and merge this. Thanks @hililiwei for working on this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689421103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689423368","html_url":"https://github.com/apache/iceberg/issues/8373#issuecomment-1689423368","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8373","id":1689423368,"node_id":"IC_kwDOCW7NX85kso4I","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T07:21:55Z","updated_at":"2023-08-23T07:21:55Z","author_association":"CONTRIBUTOR","body":"Yes, they are both configuring the same thing. I'll go ahead and close this, feel free to re-open if necessary.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689423368/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689428871","html_url":"https://github.com/apache/iceberg/issues/8347#issuecomment-1689428871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8347","id":1689428871,"node_id":"IC_kwDOCW7NX85ksqOH","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T07:25:59Z","updated_at":"2023-08-23T07:25:59Z","author_association":"CONTRIBUTOR","body":"The purpose of me linking the Flink example was to show how the Minio+Flink setup looks like, since you mainly had issues with the correct catalog configuration. In any case, were you able to successfully make Minio+Flink work and can this issue be closed?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689428871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689440401","html_url":"https://github.com/apache/iceberg/issues/3054#issuecomment-1689440401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3054","id":1689440401,"node_id":"IC_kwDOCW7NX85kstCR","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T07:35:05Z","updated_at":"2023-08-23T07:35:05Z","author_association":"CONTRIBUTOR","body":"This might be fixed by https://github.com/apache/iceberg/pull/7914","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689440401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689442130","html_url":"https://github.com/apache/iceberg/issues/8368#issuecomment-1689442130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8368","id":1689442130,"node_id":"IC_kwDOCW7NX85kstdS","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T07:36:28Z","updated_at":"2023-08-23T07:36:28Z","author_association":"CONTRIBUTOR","body":"> The location must be accessible for listing via the Hadoop FileSystem\r\n\r\nSorry, I completely forgot about this requirement. This might be fixed by https://github.com/apache/iceberg/pull/7914","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689442130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689496091","html_url":"https://github.com/apache/iceberg/issues/8377#issuecomment-1689496091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8377","id":1689496091,"node_id":"IC_kwDOCW7NX85ks6ob","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T08:14:50Z","updated_at":"2023-08-23T08:14:50Z","author_association":"CONTRIBUTOR","body":"Your warehouse is already path-based due to setting `spark.sql.catalog.spark_catalog.warehouse: /home/iceberg/warehouse` and so the `HadoopCatalog` is preventing the use of `location` for a table that is already path-based.\r\nI believe this should work with any other catalog other than `hadoop`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689496091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689595566","html_url":"https://github.com/apache/iceberg/issues/7396#issuecomment-1689595566","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7396","id":1689595566,"node_id":"IC_kwDOCW7NX85ktS6u","user":{"login":"mwullink","id":1516192,"node_id":"MDQ6VXNlcjE1MTYxOTI=","avatar_url":"https://avatars.githubusercontent.com/u/1516192?v=4","gravatar_id":"","url":"https://api.github.com/users/mwullink","html_url":"https://github.com/mwullink","followers_url":"https://api.github.com/users/mwullink/followers","following_url":"https://api.github.com/users/mwullink/following{/other_user}","gists_url":"https://api.github.com/users/mwullink/gists{/gist_id}","starred_url":"https://api.github.com/users/mwullink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwullink/subscriptions","organizations_url":"https://api.github.com/users/mwullink/orgs","repos_url":"https://api.github.com/users/mwullink/repos","events_url":"https://api.github.com/users/mwullink/events{/privacy}","received_events_url":"https://api.github.com/users/mwullink/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T09:18:58Z","updated_at":"2023-08-23T09:18:58Z","author_association":"NONE","body":"had the same problem, using rest catalog, s3 , iceberg 1.3.1  and spark 3.4.1\r\nproblem was fixed by removing following option:\r\n\r\n--conf spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689595566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689674728","html_url":"https://github.com/apache/iceberg/issues/7154#issuecomment-1689674728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7154","id":1689674728,"node_id":"IC_kwDOCW7NX85ktmPo","user":{"login":"xiaochen-zhou","id":27844885,"node_id":"MDQ6VXNlcjI3ODQ0ODg1","avatar_url":"https://avatars.githubusercontent.com/u/27844885?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaochen-zhou","html_url":"https://github.com/xiaochen-zhou","followers_url":"https://api.github.com/users/xiaochen-zhou/followers","following_url":"https://api.github.com/users/xiaochen-zhou/following{/other_user}","gists_url":"https://api.github.com/users/xiaochen-zhou/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaochen-zhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaochen-zhou/subscriptions","organizations_url":"https://api.github.com/users/xiaochen-zhou/orgs","repos_url":"https://api.github.com/users/xiaochen-zhou/repos","events_url":"https://api.github.com/users/xiaochen-zhou/events{/privacy}","received_events_url":"https://api.github.com/users/xiaochen-zhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T10:06:18Z","updated_at":"2023-08-23T10:06:18Z","author_association":"NONE","body":"> Let me know if you need a hand @clownxc\r\n\r\nSorry, I was on a business trip recently, sorry again for not being able to complete this task on time, you can reassign this task to other interested people @coded9 @liuxiaocs7 @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689674728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689722501","html_url":"https://github.com/apache/iceberg/issues/7396#issuecomment-1689722501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7396","id":1689722501,"node_id":"IC_kwDOCW7NX85ktx6F","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T10:37:40Z","updated_at":"2023-08-23T10:37:40Z","author_association":"CONTRIBUTOR","body":"> had the same problem, using rest catalog, s3 , iceberg 1.3.1 and spark 3.4.1 problem was fixed by removing following option:\r\n> \r\n> --conf spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\r\n\r\nPeople might search for this issue and think that this is a viable solution. This isn't the case and I don't see how this would fix it.\r\n\r\nThe problem is caused by \r\na) mixed AWS SDK versions on the classpath \r\nb) missing AWS SDK version on the classpath\r\n\r\nThe solution is to make sure that you're using the correct AWS SDK version for the right Iceberg version, which is mentioned in https://iceberg.apache.org/docs/latest/aws/#spark.\r\n\r\nGoing forward (starting with Iceberg 1.4.0), Iceberg will provide an `org.apache.iceberg:iceberg-aws-bundle` artifact, which will contain the correct version of the AWS SDK dependencies.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689722501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689736861","html_url":"https://github.com/apache/iceberg/issues/8368#issuecomment-1689736861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8368","id":1689736861,"node_id":"IC_kwDOCW7NX85kt1ad","user":{"login":"Zhanxiao-Ma","id":24912951,"node_id":"MDQ6VXNlcjI0OTEyOTUx","avatar_url":"https://avatars.githubusercontent.com/u/24912951?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhanxiao-Ma","html_url":"https://github.com/Zhanxiao-Ma","followers_url":"https://api.github.com/users/Zhanxiao-Ma/followers","following_url":"https://api.github.com/users/Zhanxiao-Ma/following{/other_user}","gists_url":"https://api.github.com/users/Zhanxiao-Ma/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhanxiao-Ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhanxiao-Ma/subscriptions","organizations_url":"https://api.github.com/users/Zhanxiao-Ma/orgs","repos_url":"https://api.github.com/users/Zhanxiao-Ma/repos","events_url":"https://api.github.com/users/Zhanxiao-Ma/events{/privacy}","received_events_url":"https://api.github.com/users/Zhanxiao-Ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T10:48:25Z","updated_at":"2023-08-23T10:48:25Z","author_association":"NONE","body":"> > The location must be accessible for listing via the Hadoop FileSystem\r\n> \r\n> Sorry, I completely forgot about this requirement. This might be fixed by #7914\r\n\r\nI think this is correct. Thank you for your response.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689736861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689740221","html_url":"https://github.com/apache/iceberg/pull/8313#issuecomment-1689740221","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8313","id":1689740221,"node_id":"IC_kwDOCW7NX85kt2O9","user":{"login":"jerqi","id":8159038,"node_id":"MDQ6VXNlcjgxNTkwMzg=","avatar_url":"https://avatars.githubusercontent.com/u/8159038?v=4","gravatar_id":"","url":"https://api.github.com/users/jerqi","html_url":"https://github.com/jerqi","followers_url":"https://api.github.com/users/jerqi/followers","following_url":"https://api.github.com/users/jerqi/following{/other_user}","gists_url":"https://api.github.com/users/jerqi/gists{/gist_id}","starred_url":"https://api.github.com/users/jerqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerqi/subscriptions","organizations_url":"https://api.github.com/users/jerqi/orgs","repos_url":"https://api.github.com/users/jerqi/repos","events_url":"https://api.github.com/users/jerqi/events{/privacy}","received_events_url":"https://api.github.com/users/jerqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T10:51:01Z","updated_at":"2023-08-23T10:51:01Z","author_association":"CONTRIBUTOR","body":"@nastra @aokolnychyi Gently ping. Sorry to bother you. Could you have another look if you have time?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689740221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689755548","html_url":"https://github.com/apache/iceberg/pull/7914#issuecomment-1689755548","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7914","id":1689755548,"node_id":"IC_kwDOCW7NX85kt5-c","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T10:59:58Z","updated_at":"2023-08-23T10:59:58Z","author_association":"CONTRIBUTOR","body":"@rahil-c just wanted to check-in and see if you were planning on updating the PR? It would be great to get this in for the 1.4.0 release","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689755548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689757438","html_url":"https://github.com/apache/iceberg/pull/8352#issuecomment-1689757438","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8352","id":1689757438,"node_id":"IC_kwDOCW7NX85kt6b-","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T11:01:18Z","updated_at":"2023-08-23T11:01:18Z","author_association":"CONTRIBUTOR","body":"This requires JDK11 unfortunately","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689757438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689757504","html_url":"https://github.com/apache/iceberg/pull/8352#issuecomment-1689757504","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8352","id":1689757504,"node_id":"IC_kwDOCW7NX85kt6dA","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T11:01:21Z","updated_at":"2023-08-23T11:01:21Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689757504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689775756","html_url":"https://github.com/apache/iceberg/issues/8347#issuecomment-1689775756","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8347","id":1689775756,"node_id":"IC_kwDOCW7NX85kt-6M","user":{"login":"aiwhj","id":16408168,"node_id":"MDQ6VXNlcjE2NDA4MTY4","avatar_url":"https://avatars.githubusercontent.com/u/16408168?v=4","gravatar_id":"","url":"https://api.github.com/users/aiwhj","html_url":"https://github.com/aiwhj","followers_url":"https://api.github.com/users/aiwhj/followers","following_url":"https://api.github.com/users/aiwhj/following{/other_user}","gists_url":"https://api.github.com/users/aiwhj/gists{/gist_id}","starred_url":"https://api.github.com/users/aiwhj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aiwhj/subscriptions","organizations_url":"https://api.github.com/users/aiwhj/orgs","repos_url":"https://api.github.com/users/aiwhj/repos","events_url":"https://api.github.com/users/aiwhj/events{/privacy}","received_events_url":"https://api.github.com/users/aiwhj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T11:15:46Z","updated_at":"2023-08-23T11:15:46Z","author_association":"NONE","body":"> The purpose of me linking the Flink example was to show how the Minio+Flink setup looks like, since you mainly had issues with the correct catalog configuration. In any case, were you able to successfully make Minio+Flink work and can this issue be closed?\r\n\r\nOkay, thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689775756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689813493","html_url":"https://github.com/apache/iceberg/pull/8370#issuecomment-1689813493","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8370","id":1689813493,"node_id":"IC_kwDOCW7NX85kuIH1","user":{"login":"aajisaka","id":3403122,"node_id":"MDQ6VXNlcjM0MDMxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3403122?v=4","gravatar_id":"","url":"https://api.github.com/users/aajisaka","html_url":"https://github.com/aajisaka","followers_url":"https://api.github.com/users/aajisaka/followers","following_url":"https://api.github.com/users/aajisaka/following{/other_user}","gists_url":"https://api.github.com/users/aajisaka/gists{/gist_id}","starred_url":"https://api.github.com/users/aajisaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aajisaka/subscriptions","organizations_url":"https://api.github.com/users/aajisaka/orgs","repos_url":"https://api.github.com/users/aajisaka/repos","events_url":"https://api.github.com/users/aajisaka/events{/privacy}","received_events_url":"https://api.github.com/users/aajisaka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T11:44:42Z","updated_at":"2023-08-23T11:44:42Z","author_association":"MEMBER","body":"Thank you @nastra and @singhpk234 for your review.\r\n\r\nLet me create a separate PR to upgrade AWS SDK version.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689813493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689828463","html_url":"https://github.com/apache/iceberg/pull/8370#issuecomment-1689828463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8370","id":1689828463,"node_id":"IC_kwDOCW7NX85kuLxv","user":{"login":"aajisaka","id":3403122,"node_id":"MDQ6VXNlcjM0MDMxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3403122?v=4","gravatar_id":"","url":"https://api.github.com/users/aajisaka","html_url":"https://github.com/aajisaka","followers_url":"https://api.github.com/users/aajisaka/followers","following_url":"https://api.github.com/users/aajisaka/following{/other_user}","gists_url":"https://api.github.com/users/aajisaka/gists{/gist_id}","starred_url":"https://api.github.com/users/aajisaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aajisaka/subscriptions","organizations_url":"https://api.github.com/users/aajisaka/orgs","repos_url":"https://api.github.com/users/aajisaka/repos","events_url":"https://api.github.com/users/aajisaka/events{/privacy}","received_events_url":"https://api.github.com/users/aajisaka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T11:55:57Z","updated_at":"2023-08-23T11:55:57Z","author_association":"MEMBER","body":"Opened #8379 to upgrade AWS SDK version","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1689828463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690273116","html_url":"https://github.com/apache/iceberg/issues/6763#issuecomment-1690273116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6763","id":1690273116,"node_id":"IC_kwDOCW7NX85kv4Vc","user":{"login":"munendrasn","id":9696252,"node_id":"MDQ6VXNlcjk2OTYyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/9696252?v=4","gravatar_id":"","url":"https://api.github.com/users/munendrasn","html_url":"https://github.com/munendrasn","followers_url":"https://api.github.com/users/munendrasn/followers","following_url":"https://api.github.com/users/munendrasn/following{/other_user}","gists_url":"https://api.github.com/users/munendrasn/gists{/gist_id}","starred_url":"https://api.github.com/users/munendrasn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/munendrasn/subscriptions","organizations_url":"https://api.github.com/users/munendrasn/orgs","repos_url":"https://api.github.com/users/munendrasn/repos","events_url":"https://api.github.com/users/munendrasn/events{/privacy}","received_events_url":"https://api.github.com/users/munendrasn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T16:29:36Z","updated_at":"2023-08-23T16:29:36Z","author_association":"CONTRIBUTOR","body":"PR related to the the issue #6862 (commenting to mark as not-stale)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690273116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690504189","html_url":"https://github.com/apache/iceberg/pull/8382#issuecomment-1690504189","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8382","id":1690504189,"node_id":"IC_kwDOCW7NX85kwwv9","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T19:13:42Z","updated_at":"2023-08-23T19:13:42Z","author_association":"MEMBER","body":"I'm okay w/ adding this, but IMO that property should not be \"prominently\" documented, to prevent people from shooting themselves into the foot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690504189/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690506942","html_url":"https://github.com/apache/iceberg/pull/8382#issuecomment-1690506942","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8382","id":1690506942,"node_id":"IC_kwDOCW7NX85kwxa-","user":{"login":"dimas-b","id":40603221,"node_id":"MDQ6VXNlcjQwNjAzMjIx","avatar_url":"https://avatars.githubusercontent.com/u/40603221?v=4","gravatar_id":"","url":"https://api.github.com/users/dimas-b","html_url":"https://github.com/dimas-b","followers_url":"https://api.github.com/users/dimas-b/followers","following_url":"https://api.github.com/users/dimas-b/following{/other_user}","gists_url":"https://api.github.com/users/dimas-b/gists{/gist_id}","starred_url":"https://api.github.com/users/dimas-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimas-b/subscriptions","organizations_url":"https://api.github.com/users/dimas-b/orgs","repos_url":"https://api.github.com/users/dimas-b/repos","events_url":"https://api.github.com/users/dimas-b/events{/privacy}","received_events_url":"https://api.github.com/users/dimas-b/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T19:15:56Z","updated_at":"2023-08-23T19:28:25Z","author_association":"CONTRIBUTOR","body":"> [...]  that property should not be \"prominently\" documented, to prevent people from shooting themselves into the foot.\r\n\r\nIt's only documented in a field javadoc comment ATM. Is that too visible from your POV? I'd be fine changing that to non-javadoc comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690506942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690521369","html_url":"https://github.com/apache/iceberg/pull/8382#issuecomment-1690521369","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8382","id":1690521369,"node_id":"IC_kwDOCW7NX85kw08Z","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T19:28:36Z","updated_at":"2023-08-23T19:28:36Z","author_association":"MEMBER","body":"> It's only document in a field javadoc comment ATM.\r\n\r\nThat's fine. Just wanted to prevent to add it to some docs or so.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690521369/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690680737","html_url":"https://github.com/apache/iceberg/pull/8381#issuecomment-1690680737","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8381","id":1690680737,"node_id":"IC_kwDOCW7NX85kxb2h","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T21:39:13Z","updated_at":"2023-08-23T21:39:13Z","author_association":"CONTRIBUTOR","body":"@rdblue @nastra @Fokko @amogh-jahagirdar, could you help debug fails in `TestRESTCatalog`? It is the only catalog test that fails in core. It seems the data sequence number for snapshot is not regenerated with concurrent operations.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690680737/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690697823","html_url":"https://github.com/apache/iceberg/pull/8381#issuecomment-1690697823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8381","id":1690697823,"node_id":"IC_kwDOCW7NX85kxgBf","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T21:55:55Z","updated_at":"2023-08-23T22:26:46Z","author_association":"CONTRIBUTOR","body":"When testing w/ V2 as the default, I encountered a REST catalog test failure with the concurrent replace transaction tests. in particular [this check](https://github.com/apache/iceberg/blob/6586788e9915c76a252e82808073fd0a64d56361/core/src/main/java/org/apache/iceberg/TableMetadata.java#L1131) was failing. Say transaction 1 starts, then transaction 2 starts and commits, then transaction 1 commits, the sequence number for the second commit will be the same as the first. One such test is [this one](https://github.com/apache/iceberg/blob/95725857791333f4fa8a8db6d37472cd457cb9f9/core/src/test/java/org/apache/iceberg/catalog/CatalogTests.java#L2351). It seems like concurrent transactions will always fail with V2 because of this. (Just saw your post now after I posted this @aokolnychyi )\r\n\r\n@nastra I think you found the issue to be with `CatalogHandlers` rather than `RESTTableOperations` so more of a catalog implementation issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690697823/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690744828","html_url":"https://github.com/apache/iceberg/pull/7161#issuecomment-1690744828","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7161","id":1690744828,"node_id":"IC_kwDOCW7NX85kxrf8","user":{"login":"kengtin","id":6764990,"node_id":"MDQ6VXNlcjY3NjQ5OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6764990?v=4","gravatar_id":"","url":"https://api.github.com/users/kengtin","html_url":"https://github.com/kengtin","followers_url":"https://api.github.com/users/kengtin/followers","following_url":"https://api.github.com/users/kengtin/following{/other_user}","gists_url":"https://api.github.com/users/kengtin/gists{/gist_id}","starred_url":"https://api.github.com/users/kengtin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kengtin/subscriptions","organizations_url":"https://api.github.com/users/kengtin/orgs","repos_url":"https://api.github.com/users/kengtin/repos","events_url":"https://api.github.com/users/kengtin/events{/privacy}","received_events_url":"https://api.github.com/users/kengtin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T22:49:55Z","updated_at":"2023-08-23T22:49:55Z","author_association":"CONTRIBUTOR","body":"@advancedxy I promise to get up to speed with the multi-arg bucket transform (not yet familiar) but your suggestion makes sense. I'll also let @stevenzwu weigh in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690744828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690760423","html_url":"https://github.com/apache/iceberg/pull/8379#issuecomment-1690760423","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8379","id":1690760423,"node_id":"IC_kwDOCW7NX85kxvTn","user":{"login":"aajisaka","id":3403122,"node_id":"MDQ6VXNlcjM0MDMxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3403122?v=4","gravatar_id":"","url":"https://api.github.com/users/aajisaka","html_url":"https://github.com/aajisaka","followers_url":"https://api.github.com/users/aajisaka/followers","following_url":"https://api.github.com/users/aajisaka/following{/other_user}","gists_url":"https://api.github.com/users/aajisaka/gists{/gist_id}","starred_url":"https://api.github.com/users/aajisaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aajisaka/subscriptions","organizations_url":"https://api.github.com/users/aajisaka/orgs","repos_url":"https://api.github.com/users/aajisaka/repos","events_url":"https://api.github.com/users/aajisaka/events{/privacy}","received_events_url":"https://api.github.com/users/aajisaka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T23:11:44Z","updated_at":"2023-08-23T23:11:44Z","author_association":"MEMBER","body":"Thank you @nastra and @singhpk234 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690760423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690767061","html_url":"https://github.com/apache/iceberg/pull/8381#issuecomment-1690767061","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8381","id":1690767061,"node_id":"IC_kwDOCW7NX85kxw7V","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-23T23:21:35Z","updated_at":"2023-08-23T23:23:03Z","author_association":"CONTRIBUTOR","body":"@nastra @amogh-jahagirdar We may need to update the REST catalog commit protocol for this. When we pass the `UpdateTableRequest`, a catalog service implementation will base the update on the current metadata. There isn't enough information in the request to use a different (earlier) base I don't think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690767061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690799909","html_url":"https://github.com/apache/iceberg/issues/6930#issuecomment-1690799909","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6930","id":1690799909,"node_id":"IC_kwDOCW7NX85kx48l","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T00:10:16Z","updated_at":"2023-08-24T00:10:16Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690799909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690799930","html_url":"https://github.com/apache/iceberg/issues/6925#issuecomment-1690799930","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6925","id":1690799930,"node_id":"IC_kwDOCW7NX85kx486","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T00:10:18Z","updated_at":"2023-08-24T00:10:18Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690799930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690799948","html_url":"https://github.com/apache/iceberg/issues/6914#issuecomment-1690799948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6914","id":1690799948,"node_id":"IC_kwDOCW7NX85kx49M","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T00:10:19Z","updated_at":"2023-08-24T00:10:19Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690799948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690886991","html_url":"https://github.com/apache/iceberg/issues/8348#issuecomment-1690886991","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8348","id":1690886991,"node_id":"IC_kwDOCW7NX85kyONP","user":{"login":"qiunanx","id":76831357,"node_id":"MDQ6VXNlcjc2ODMxMzU3","avatar_url":"https://avatars.githubusercontent.com/u/76831357?v=4","gravatar_id":"","url":"https://api.github.com/users/qiunanx","html_url":"https://github.com/qiunanx","followers_url":"https://api.github.com/users/qiunanx/followers","following_url":"https://api.github.com/users/qiunanx/following{/other_user}","gists_url":"https://api.github.com/users/qiunanx/gists{/gist_id}","starred_url":"https://api.github.com/users/qiunanx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qiunanx/subscriptions","organizations_url":"https://api.github.com/users/qiunanx/orgs","repos_url":"https://api.github.com/users/qiunanx/repos","events_url":"https://api.github.com/users/qiunanx/events{/privacy}","received_events_url":"https://api.github.com/users/qiunanx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T02:15:32Z","updated_at":"2023-08-24T02:15:57Z","author_association":"NONE","body":"@zhongyujiang \r\nIcebergSource.forRowData()\r\n    .tableLoader(TableLoader.fromCatalog(...))\r\n    .assignerFactory(new SimpleSplitAssignerFactory())\r\n    .streaming(true)\r\n    .streamingStartingStrategy(StreamingStartingStrategy.INCREMENTAL_FROM_LATEST_SNAPSHOT)\r\n    .startSnapshotId(3821550127947089987L)\r\n    .monitorInterval(Duration.ofMillis(10L)) // or .set(\"monitor-interval\", \"10s\") \\ set(FlinkReadOptions.MONITOR_INTERVAL, \"10s\")\r\n    .build()\r\n\r\nIt can be seen from the code that startSnapshotId needs to be specified, but after the job is restarted, if it does not recover from ck, the startSnapshotId cannot be obtained.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1690886991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691049520","html_url":"https://github.com/apache/iceberg/issues/7154#issuecomment-1691049520","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7154","id":1691049520,"node_id":"IC_kwDOCW7NX85ky14w","user":{"login":"coded9","id":9302330,"node_id":"MDQ6VXNlcjkzMDIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/9302330?v=4","gravatar_id":"","url":"https://api.github.com/users/coded9","html_url":"https://github.com/coded9","followers_url":"https://api.github.com/users/coded9/followers","following_url":"https://api.github.com/users/coded9/following{/other_user}","gists_url":"https://api.github.com/users/coded9/gists{/gist_id}","starred_url":"https://api.github.com/users/coded9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coded9/subscriptions","organizations_url":"https://api.github.com/users/coded9/orgs","repos_url":"https://api.github.com/users/coded9/repos","events_url":"https://api.github.com/users/coded9/events{/privacy}","received_events_url":"https://api.github.com/users/coded9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T05:57:38Z","updated_at":"2023-08-24T05:57:38Z","author_association":"CONTRIBUTOR","body":"I will pick it up then, @nastra could you assign to me ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691049520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691083579","html_url":"https://github.com/apache/iceberg/pull/8278#issuecomment-1691083579","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8278","id":1691083579,"node_id":"IC_kwDOCW7NX85ky-M7","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T06:33:09Z","updated_at":"2023-08-24T06:33:09Z","author_association":"CONTRIBUTOR","body":"@rdblue, I've merged this to consume it in distributed planning, but I'd appreciate another look. It follows the idea we discussed on the thread above: there is no option to turn the stats filtering on or off, we check if bounds are present. Position deletes that cover multiple data files would not have bounds anymore. I think not storing them is even better than checking at planning time if they are equal.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691083579/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691087976","html_url":"https://github.com/apache/iceberg/issues/7396#issuecomment-1691087976","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7396","id":1691087976,"node_id":"IC_kwDOCW7NX85ky_Ro","user":{"login":"mwullink","id":1516192,"node_id":"MDQ6VXNlcjE1MTYxOTI=","avatar_url":"https://avatars.githubusercontent.com/u/1516192?v=4","gravatar_id":"","url":"https://api.github.com/users/mwullink","html_url":"https://github.com/mwullink","followers_url":"https://api.github.com/users/mwullink/followers","following_url":"https://api.github.com/users/mwullink/following{/other_user}","gists_url":"https://api.github.com/users/mwullink/gists{/gist_id}","starred_url":"https://api.github.com/users/mwullink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwullink/subscriptions","organizations_url":"https://api.github.com/users/mwullink/orgs","repos_url":"https://api.github.com/users/mwullink/repos","events_url":"https://api.github.com/users/mwullink/events{/privacy}","received_events_url":"https://api.github.com/users/mwullink/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T06:37:10Z","updated_at":"2023-08-24T06:37:24Z","author_association":"NONE","body":"thanks for the info, the iceberg-aws-bundle will make things much easier.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691087976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691095473","html_url":"https://github.com/apache/iceberg/pull/8346#issuecomment-1691095473","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8346","id":1691095473,"node_id":"IC_kwDOCW7NX85kzBGx","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T06:44:11Z","updated_at":"2023-08-24T06:44:11Z","author_association":"CONTRIBUTOR","body":"There are tests in `TestDataTableScan`, `TestBatchScans` and in `TestTableScanUtil` + each engine has serialization tests. I feel like they cover most of what we need.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691095473/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691111650","html_url":"https://github.com/apache/iceberg/pull/8346#issuecomment-1691111650","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8346","id":1691111650,"node_id":"IC_kwDOCW7NX85kzFDi","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T06:55:56Z","updated_at":"2023-08-24T06:55:56Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @advancedxy @jerqi @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691111650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691113342","html_url":"https://github.com/apache/iceberg/pull/8278#issuecomment-1691113342","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8278","id":1691113342,"node_id":"IC_kwDOCW7NX85kzFd-","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T06:57:29Z","updated_at":"2023-08-24T06:57:29Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @ConeyLiu @szehon-ho @jerqi @rdblue! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691113342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691212159","html_url":"https://github.com/apache/iceberg/pull/5984#issuecomment-1691212159","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5984","id":1691212159,"node_id":"IC_kwDOCW7NX85kzdl_","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T08:08:43Z","updated_at":"2023-08-24T08:08:43Z","author_association":"CONTRIBUTOR","body":"Thank you all for your reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691212159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691565481","html_url":"https://github.com/apache/iceberg/pull/8316#issuecomment-1691565481","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8316","id":1691565481,"node_id":"IC_kwDOCW7NX85k0z2p","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T12:15:27Z","updated_at":"2023-08-24T12:15:27Z","author_association":"COLLABORATOR","body":"@aokolnychyi @szehon-ho please take another look","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691565481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691764177","html_url":"https://github.com/apache/iceberg/issues/7832#issuecomment-1691764177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7832","id":1691764177,"node_id":"IC_kwDOCW7NX85k1kXR","user":{"login":"dev-goyal","id":126589393,"node_id":"U_kgDOB4uZ0Q","avatar_url":"https://avatars.githubusercontent.com/u/126589393?v=4","gravatar_id":"","url":"https://api.github.com/users/dev-goyal","html_url":"https://github.com/dev-goyal","followers_url":"https://api.github.com/users/dev-goyal/followers","following_url":"https://api.github.com/users/dev-goyal/following{/other_user}","gists_url":"https://api.github.com/users/dev-goyal/gists{/gist_id}","starred_url":"https://api.github.com/users/dev-goyal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dev-goyal/subscriptions","organizations_url":"https://api.github.com/users/dev-goyal/orgs","repos_url":"https://api.github.com/users/dev-goyal/repos","events_url":"https://api.github.com/users/dev-goyal/events{/privacy}","received_events_url":"https://api.github.com/users/dev-goyal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T14:13:09Z","updated_at":"2023-08-24T14:13:09Z","author_association":"NONE","body":"Is there a reason the inner join (`WHEN MATCHED`) is SPJ, but the left outer join (`WHEN NOT MATCHED`) is ShuffledHashJoin? Can post an example, but wondering if this is expected behaviour for some reason?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691764177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691790773","html_url":"https://github.com/apache/iceberg/issues/8377#issuecomment-1691790773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8377","id":1691790773,"node_id":"IC_kwDOCW7NX85k1q21","user":{"login":"pietro-agilelab","id":142974566,"node_id":"U_kgDOCIWeZg","avatar_url":"https://avatars.githubusercontent.com/u/142974566?v=4","gravatar_id":"","url":"https://api.github.com/users/pietro-agilelab","html_url":"https://github.com/pietro-agilelab","followers_url":"https://api.github.com/users/pietro-agilelab/followers","following_url":"https://api.github.com/users/pietro-agilelab/following{/other_user}","gists_url":"https://api.github.com/users/pietro-agilelab/gists{/gist_id}","starred_url":"https://api.github.com/users/pietro-agilelab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pietro-agilelab/subscriptions","organizations_url":"https://api.github.com/users/pietro-agilelab/orgs","repos_url":"https://api.github.com/users/pietro-agilelab/repos","events_url":"https://api.github.com/users/pietro-agilelab/events{/privacy}","received_events_url":"https://api.github.com/users/pietro-agilelab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T14:27:18Z","updated_at":"2023-08-25T09:50:51Z","author_association":"NONE","body":"Thanks a lot @nastra for your explanation!\r\n\r\nIs there any way to specify only the path when creating an Iceberg table, so not to create any entry in the catalog?\r\nFor example something like:\r\n\r\n```python\r\ndf.write.format(\"iceberg\").mode(\"overwrite\").save(\"/path/to/my/table\")\r\n```\r\n\r\nTrying to run the command above results in the following error, since the table doesn't exist yet:\r\n```\r\npyspark.sql.utils.AnalysisException: Table `/path/to/my`.table not found\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691790773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691800722","html_url":"https://github.com/apache/iceberg/issues/7832#issuecomment-1691800722","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7832","id":1691800722,"node_id":"IC_kwDOCW7NX85k1tSS","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T14:32:49Z","updated_at":"2023-08-24T14:32:49Z","author_association":"MEMBER","body":"Could you raise a new issue? The reason is technical. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691800722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691808589","html_url":"https://github.com/apache/iceberg/issues/7832#issuecomment-1691808589","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7832","id":1691808589,"node_id":"IC_kwDOCW7NX85k1vNN","user":{"login":"dev-goyal","id":126589393,"node_id":"U_kgDOB4uZ0Q","avatar_url":"https://avatars.githubusercontent.com/u/126589393?v=4","gravatar_id":"","url":"https://api.github.com/users/dev-goyal","html_url":"https://github.com/dev-goyal","followers_url":"https://api.github.com/users/dev-goyal/followers","following_url":"https://api.github.com/users/dev-goyal/following{/other_user}","gists_url":"https://api.github.com/users/dev-goyal/gists{/gist_id}","starred_url":"https://api.github.com/users/dev-goyal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dev-goyal/subscriptions","organizations_url":"https://api.github.com/users/dev-goyal/orgs","repos_url":"https://api.github.com/users/dev-goyal/repos","events_url":"https://api.github.com/users/dev-goyal/events{/privacy}","received_events_url":"https://api.github.com/users/dev-goyal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T14:37:05Z","updated_at":"2023-08-24T14:37:05Z","author_association":"NONE","body":"> Is there a reason the inner join (`WHEN MATCHED`) is SPJ, but the left outer join (`WHEN NOT MATCHED`) is ShuffledHashJoin? Can post an example, but wondering if this is expected behaviour for some reason?\r\n\r\n@RussellSpitzer ty!\r\nhttps://github.com/apache/iceberg/issues/8387","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691808589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691900501","html_url":"https://github.com/apache/iceberg/issues/8387#issuecomment-1691900501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8387","id":1691900501,"node_id":"IC_kwDOCW7NX85k2FpV","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T15:28:49Z","updated_at":"2023-08-24T15:28:49Z","author_association":"MEMBER","body":"So if I remember correctly the root of the issue is this. To do a SPJ we first align things based on partitions\r\n```\r\n[ Source Partition ] === [Destination Partition]\r\n```\r\nBut Sometimes this balancing is not good so we want to be able to break up one of the two sides here into multiple pieces. To do that we split one of the sides up into multiple parts\r\n```\r\n[Source partition] === [Destination Partition Part 1]\r\n[Source partition] === [Destination Partition Part 2]\r\n[Source partition] === [Destination Partition Part 3]\r\n```\r\n\r\nFor a \"WHEN MATCHED\" this is good, because if any task succeeds we can perform the action on the result. Each task can still be treated completely independently.\r\n\r\nFor \"WHEN NOT MATCHED\" we have a problem because then we can only apply the change if all of the tasks do not match for a given expression. We don't have a mechanism for doing a reduction over key (? or something like that) after doing our checks. This means we can't do our SPJ optimization and have to do a full shuffle.\r\n\r\nI think I have that all right, but I'm mostly remembering our discussion when this was originally being implemented.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1691900501/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692300136","html_url":"https://github.com/apache/iceberg/pull/8381#issuecomment-1692300136","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8381","id":1692300136,"node_id":"IC_kwDOCW7NX85k3nNo","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T19:37:47Z","updated_at":"2023-08-24T19:37:47Z","author_association":"CONTRIBUTOR","body":"@bryanck @nastra @amogh-jahagirdar, I am wrapping up required test changes. Do you think it would be possible to fix the REST catalog tests/implementation quickly or shall I keep using V1 tables there for now?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692300136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692305845","html_url":"https://github.com/apache/iceberg/pull/8381#issuecomment-1692305845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8381","id":1692305845,"node_id":"IC_kwDOCW7NX85k3om1","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T19:42:13Z","updated_at":"2023-08-24T19:42:13Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi I feel like the REST catalog change will need to happen in a follow-up, so I'd say keep with V1 for now there if you want to get this in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692305845/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692349024","html_url":"https://github.com/apache/iceberg/issues/8387#issuecomment-1692349024","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8387","id":1692349024,"node_id":"IC_kwDOCW7NX85k3zJg","user":{"login":"dev-goyal","id":126589393,"node_id":"U_kgDOB4uZ0Q","avatar_url":"https://avatars.githubusercontent.com/u/126589393?v=4","gravatar_id":"","url":"https://api.github.com/users/dev-goyal","html_url":"https://github.com/dev-goyal","followers_url":"https://api.github.com/users/dev-goyal/followers","following_url":"https://api.github.com/users/dev-goyal/following{/other_user}","gists_url":"https://api.github.com/users/dev-goyal/gists{/gist_id}","starred_url":"https://api.github.com/users/dev-goyal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dev-goyal/subscriptions","organizations_url":"https://api.github.com/users/dev-goyal/orgs","repos_url":"https://api.github.com/users/dev-goyal/repos","events_url":"https://api.github.com/users/dev-goyal/events{/privacy}","received_events_url":"https://api.github.com/users/dev-goyal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T20:16:38Z","updated_at":"2023-08-24T20:16:38Z","author_association":"NONE","body":"Very helpful to know, thanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692349024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692422098","html_url":"https://github.com/apache/iceberg/pull/8381#issuecomment-1692422098","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8381","id":1692422098,"node_id":"IC_kwDOCW7NX85k4E_S","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T21:16:18Z","updated_at":"2023-08-24T21:16:18Z","author_association":"CONTRIBUTOR","body":"@bryanck, sounds good. I created #8390 to track the fix. Meanwhile, I ignored failing tests for REST catalogs and referenced the issue. I couldn't use V1 tables there cause our test REST implementation complained about format overrides (seems like another issue to look into).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692422098/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692423480","html_url":"https://github.com/apache/iceberg/pull/8388#issuecomment-1692423480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8388","id":1692423480,"node_id":"IC_kwDOCW7NX85k4FU4","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-24T21:17:38Z","updated_at":"2023-08-24T21:17:38Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234 @szehon-ho!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1692423480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]