[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683070760","html_url":"https://github.com/apache/pulsar/issues/1267#issuecomment-683070760","issue_url":"https://api.github.com/repos/apache/pulsar/issues/1267","id":683070760,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzA3MDc2MA==","user":{"login":"MarvinCai","id":13480084,"node_id":"MDQ6VXNlcjEzNDgwMDg0","avatar_url":"https://avatars.githubusercontent.com/u/13480084?v=4","gravatar_id":"","url":"https://api.github.com/users/MarvinCai","html_url":"https://github.com/MarvinCai","followers_url":"https://api.github.com/users/MarvinCai/followers","following_url":"https://api.github.com/users/MarvinCai/following{/other_user}","gists_url":"https://api.github.com/users/MarvinCai/gists{/gist_id}","starred_url":"https://api.github.com/users/MarvinCai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarvinCai/subscriptions","organizations_url":"https://api.github.com/users/MarvinCai/orgs","repos_url":"https://api.github.com/users/MarvinCai/repos","events_url":"https://api.github.com/users/MarvinCai/events{/privacy}","received_events_url":"https://api.github.com/users/MarvinCai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T18:43:10Z","updated_at":"2020-08-28T18:43:10Z","author_association":"CONTRIBUTOR","body":"Yeah,  that's true if we have X consumer subscribe to partitioned topic with X partition where X > Y with failover sub mode, then each partition of the topic will have a different active consumer picked by priority level then consumer name.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683070760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683096283","html_url":"https://github.com/apache/pulsar/issues/7502#issuecomment-683096283","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7502","id":683096283,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzA5NjI4Mw==","user":{"login":"smazurov","id":21636,"node_id":"MDQ6VXNlcjIxNjM2","avatar_url":"https://avatars.githubusercontent.com/u/21636?v=4","gravatar_id":"","url":"https://api.github.com/users/smazurov","html_url":"https://github.com/smazurov","followers_url":"https://api.github.com/users/smazurov/followers","following_url":"https://api.github.com/users/smazurov/following{/other_user}","gists_url":"https://api.github.com/users/smazurov/gists{/gist_id}","starred_url":"https://api.github.com/users/smazurov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smazurov/subscriptions","organizations_url":"https://api.github.com/users/smazurov/orgs","repos_url":"https://api.github.com/users/smazurov/repos","events_url":"https://api.github.com/users/smazurov/events{/privacy}","received_events_url":"https://api.github.com/users/smazurov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T19:15:34Z","updated_at":"2020-08-28T20:08:09Z","author_association":"CONTRIBUTOR","body":"#2 is simply wrong and can be null. GCC needs to get its act together :)\r\n\r\nEdit: actually it can be, but it should be checking for !loggerFactory instead..","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683096283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683108935","html_url":"https://github.com/apache/pulsar/pull/7929#issuecomment-683108935","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7929","id":683108935,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzEwODkzNQ==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T19:35:47Z","updated_at":"2020-08-28T19:35:47Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683108935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683108992","html_url":"https://github.com/apache/pulsar/pull/7930#issuecomment-683108992","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7930","id":683108992,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzEwODk5Mg==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T19:35:52Z","updated_at":"2020-08-28T19:35:52Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683108992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683226152","html_url":"https://github.com/apache/pulsar/pull/7881#issuecomment-683226152","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7881","id":683226152,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzIyNjE1Mg==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T02:59:10Z","updated_at":"2020-08-29T02:59:10Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683226152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683312884","html_url":"https://github.com/apache/pulsar/issues/7830#issuecomment-683312884","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7830","id":683312884,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzMxMjg4NA==","user":{"login":"frankjkelly","id":62910985,"node_id":"MDQ6VXNlcjYyOTEwOTg1","avatar_url":"https://avatars.githubusercontent.com/u/62910985?v=4","gravatar_id":"","url":"https://api.github.com/users/frankjkelly","html_url":"https://github.com/frankjkelly","followers_url":"https://api.github.com/users/frankjkelly/followers","following_url":"https://api.github.com/users/frankjkelly/following{/other_user}","gists_url":"https://api.github.com/users/frankjkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/frankjkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frankjkelly/subscriptions","organizations_url":"https://api.github.com/users/frankjkelly/orgs","repos_url":"https://api.github.com/users/frankjkelly/repos","events_url":"https://api.github.com/users/frankjkelly/events{/privacy}","received_events_url":"https://api.github.com/users/frankjkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T16:33:44Z","updated_at":"2020-08-29T16:33:44Z","author_association":"CONTRIBUTOR","body":"FYI @Joshhw for me the issue / hack was that I needed to provide BOTH AuthenticationToken implementations in the Proxy Conf definition of authenticationProviders i.e.\r\n\r\n```\r\n authenticationProviders: \"org.apache.pulsar.broker.authentication.AuthenticationProviderToken,com.cogito.platform.signal.stream.pulsar.authn.broker.CogitoAuthenticationProvider\"\r\n```\r\n\r\nWhen I defined both AuthN implementations then I found that both role tokens are forwarded onto the (one) AuthZ provider and that both role tokens need to be approved.\r\n\r\nFor example in my case \r\ni) `AuthenticationProviderToken` maps the token --> my \"proxy\" role\r\nii) `CogitoAuthenticationProvider` maps the token --> my \"cogito\" role \r\n\r\nThen my AuthZ provider has to Authorize that both \"proxy\" and \"cogito\" roles have permission to do the operation.\r\n\r\nI also had to have ``` authenticateOriginalAuthData: \"true\"``` defined on my broker alongside ```forwardAuthorizationCredentials: \"true\"``` in the proxy to make sure the JWT token is passed along (mine contains critical claims information I use to validate access). Please let me know if you have any questions.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683312884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683327519","html_url":"https://github.com/apache/pulsar/issues/7913#issuecomment-683327519","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7913","id":683327519,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzMyNzUxOQ==","user":{"login":"harissecic","id":4550432,"node_id":"MDQ6VXNlcjQ1NTA0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/4550432?v=4","gravatar_id":"","url":"https://api.github.com/users/harissecic","html_url":"https://github.com/harissecic","followers_url":"https://api.github.com/users/harissecic/followers","following_url":"https://api.github.com/users/harissecic/following{/other_user}","gists_url":"https://api.github.com/users/harissecic/gists{/gist_id}","starred_url":"https://api.github.com/users/harissecic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harissecic/subscriptions","organizations_url":"https://api.github.com/users/harissecic/orgs","repos_url":"https://api.github.com/users/harissecic/repos","events_url":"https://api.github.com/users/harissecic/events{/privacy}","received_events_url":"https://api.github.com/users/harissecic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T18:37:35Z","updated_at":"2020-08-29T18:37:35Z","author_association":"NONE","body":"Apparently Consumers have builder method _consumerEventListener_ which was not usable by me even if my subscribers were set to _Failover_. After removing such listener it problem was gone. Not sure if I should close the issue or this should be reevaluated by Pulsar team as bug?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683327519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683425365","html_url":"https://github.com/apache/pulsar/pull/7926#issuecomment-683425365","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7926","id":683425365,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQyNTM2NQ==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T14:10:41Z","updated_at":"2020-08-30T14:10:41Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683425365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683425715","html_url":"https://github.com/apache/pulsar/pull/7909#issuecomment-683425715","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7909","id":683425715,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQyNTcxNQ==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T14:13:49Z","updated_at":"2020-08-30T14:13:49Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683425715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683426735","html_url":"https://github.com/apache/pulsar/issues/6408#issuecomment-683426735","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6408","id":683426735,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQyNjczNQ==","user":{"login":"elgca","id":22080060,"node_id":"MDQ6VXNlcjIyMDgwMDYw","avatar_url":"https://avatars.githubusercontent.com/u/22080060?v=4","gravatar_id":"","url":"https://api.github.com/users/elgca","html_url":"https://github.com/elgca","followers_url":"https://api.github.com/users/elgca/followers","following_url":"https://api.github.com/users/elgca/following{/other_user}","gists_url":"https://api.github.com/users/elgca/gists{/gist_id}","starred_url":"https://api.github.com/users/elgca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elgca/subscriptions","organizations_url":"https://api.github.com/users/elgca/orgs","repos_url":"https://api.github.com/users/elgca/repos","events_url":"https://api.github.com/users/elgca/events{/privacy}","received_events_url":"https://api.github.com/users/elgca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T14:23:04Z","updated_at":"2020-08-30T14:23:04Z","author_association":"NONE","body":"> @vishalananth07 it will still work in a distributed manner. but the initial topic lookup will hit service unavailability if the broker goes down. @zymap is fixing the issue. we hopefully will merge this issue soon next week.\r\n\r\nWhen I run the official tutorial, I got the same problem, right?\r\n\r\n```shell\r\n[pulsar@pulsar-node3 apache-pulsar-2.6.1]$ bin/pulsar-admin functions create \\\r\n>   --jar examples/api-examples.jar \\\r\n>   --classname org.apache.pulsar.functions.api.examples.ExclamationFunction \\\r\n>   --inputs persistent://public/default/exclamation-input \\\r\n>   --output persistent://public/default/exclamation-output \\\r\n>   --tenant public \\\r\n>   --namespace default \\\r\n>   --name exclamation\r\njava.lang.ClassCastException: java.lang.NumberFormatException cannot be cast to org.apache.pulsar.client.admin.PulsarAdminException\r\n        at org.apache.pulsar.client.admin.internal.FunctionsImpl.createFunction(FunctionsImpl.java:324)\r\n        at org.apache.pulsar.admin.cli.CmdFunctions$CreateFunction.runCmd(CmdFunctions.java:657)\r\n        at org.apache.pulsar.admin.cli.CmdFunctions$BaseCommand.run(CmdFunctions.java:97)\r\n        at org.apache.pulsar.admin.cli.CmdBase.run(CmdBase.java:71)\r\n        at org.apache.pulsar.admin.cli.PulsarAdminTool.run(PulsarAdminTool.java:240)\r\n        at org.apache.pulsar.admin.cli.PulsarAdminTool.main(PulsarAdminTool.java:282)\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683426735/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683503445","html_url":"https://github.com/apache/pulsar/pull/7917#issuecomment-683503445","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7917","id":683503445,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUwMzQ0NQ==","user":{"login":"Jennifer88huang-zz","id":47805623,"node_id":"MDQ6VXNlcjQ3ODA1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/47805623?v=4","gravatar_id":"","url":"https://api.github.com/users/Jennifer88huang-zz","html_url":"https://github.com/Jennifer88huang-zz","followers_url":"https://api.github.com/users/Jennifer88huang-zz/followers","following_url":"https://api.github.com/users/Jennifer88huang-zz/following{/other_user}","gists_url":"https://api.github.com/users/Jennifer88huang-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jennifer88huang-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jennifer88huang-zz/subscriptions","organizations_url":"https://api.github.com/users/Jennifer88huang-zz/orgs","repos_url":"https://api.github.com/users/Jennifer88huang-zz/repos","events_url":"https://api.github.com/users/Jennifer88huang-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Jennifer88huang-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:19:57Z","updated_at":"2020-08-31T01:19:57Z","author_association":"CONTRIBUTOR","body":"@codelipenghui please help check whether the logic is correct, thank you.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683503445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683503974","html_url":"https://github.com/apache/pulsar/pull/7917#issuecomment-683503974","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7917","id":683503974,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUwMzk3NA==","user":{"login":"Jennifer88huang-zz","id":47805623,"node_id":"MDQ6VXNlcjQ3ODA1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/47805623?v=4","gravatar_id":"","url":"https://api.github.com/users/Jennifer88huang-zz","html_url":"https://github.com/Jennifer88huang-zz","followers_url":"https://api.github.com/users/Jennifer88huang-zz/followers","following_url":"https://api.github.com/users/Jennifer88huang-zz/following{/other_user}","gists_url":"https://api.github.com/users/Jennifer88huang-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jennifer88huang-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jennifer88huang-zz/subscriptions","organizations_url":"https://api.github.com/users/Jennifer88huang-zz/orgs","repos_url":"https://api.github.com/users/Jennifer88huang-zz/repos","events_url":"https://api.github.com/users/Jennifer88huang-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Jennifer88huang-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:22:04Z","updated_at":"2020-08-31T01:22:04Z","author_association":"CONTRIBUTOR","body":"@MarvinCai Thanks for your contribution. You can use present tense rather than future tense, try to avoid using \"will\" where possible.\r\nFor details, refer to https://developers.google.com/style/tense","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683503974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508414","html_url":"https://github.com/apache/pulsar/issues/7903#issuecomment-683508414","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7903","id":683508414,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUwODQxNA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:40:58Z","updated_at":"2020-08-31T01:40:58Z","author_association":"MEMBER","body":"@KannarFr Thanks for the reporting. What is the behavior when using Proxy? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508447","html_url":"https://github.com/apache/pulsar/issues/7931#issuecomment-683508447","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7931","id":683508447,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUwODQ0Nw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:41:09Z","updated_at":"2020-08-31T01:41:09Z","author_association":"CONTRIBUTOR","body":"@wolfstudy Could you please help take a look at this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508649","html_url":"https://github.com/apache/pulsar/issues/7912#issuecomment-683508649","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7912","id":683508649,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUwODY0OQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:42:11Z","updated_at":"2020-08-31T01:42:11Z","author_association":"MEMBER","body":"@Jennifer88huang @Huanli-Meng  Would you please help take a look?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508764","html_url":"https://github.com/apache/pulsar/issues/7928#issuecomment-683508764","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7928","id":683508764,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUwODc2NA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:42:47Z","updated_at":"2020-08-31T01:42:47Z","author_association":"CONTRIBUTOR","body":"@wolfstudy Could you please help take a look at this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683508764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683510088","html_url":"https://github.com/apache/pulsar/issues/7931#issuecomment-683510088","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7931","id":683510088,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxMDA4OA==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:49:16Z","updated_at":"2020-08-31T01:49:16Z","author_association":"MEMBER","body":"> @wolfstudy Could you please help take a look at this issue?\r\n\r\nSure,  As @klwilson227 said, this security vulnerability was not directly introduced by the pulsar. This is because pulsar relies on BookKeeper, and the vertx 3.4.1 version is introduced in BookKeeper, which causes this problem. So we need to go to bookkeeper's repo to fix this problem.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683510088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683510130","html_url":"https://github.com/apache/pulsar/issues/7923#issuecomment-683510130","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7923","id":683510130,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxMDEzMA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:49:29Z","updated_at":"2020-08-31T01:49:29Z","author_association":"CONTRIBUTOR","body":"@wolfstudy Could you please help take a looks at this issue? look 2.6.1 does not upload to the pypi","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683510130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683510714","html_url":"https://github.com/apache/pulsar/issues/7920#issuecomment-683510714","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7920","id":683510714,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxMDcxNA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:52:17Z","updated_at":"2020-08-31T01:52:17Z","author_association":"CONTRIBUTOR","body":"@315157973 Could you please help take a look at this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683510714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683511060","html_url":"https://github.com/apache/pulsar/issues/7913#issuecomment-683511060","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7913","id":683511060,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxMTA2MA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:54:15Z","updated_at":"2020-08-31T01:54:15Z","author_association":"MEMBER","body":"@harissecic , There seem no related changes in 2.6.1 to assign value to `consumerEventListener `.  Did you assign some value in your code?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683511060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683511279","html_url":"https://github.com/apache/pulsar/issues/7915#issuecomment-683511279","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7915","id":683511279,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxMTI3OQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:55:25Z","updated_at":"2020-08-31T01:55:25Z","author_association":"MEMBER","body":"There is a dup to #7912","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683511279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683511678","html_url":"https://github.com/apache/pulsar/issues/7927#issuecomment-683511678","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7927","id":683511678,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxMTY3OA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T01:57:32Z","updated_at":"2020-08-31T01:57:32Z","author_association":"MEMBER","body":"@zymap Would you please help take a look at this issue? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683511678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683514161","html_url":"https://github.com/apache/pulsar/pull/7904#issuecomment-683514161","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7904","id":683514161,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUxNDE2MQ==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T02:10:45Z","updated_at":"2020-08-31T02:10:45Z","author_association":"MEMBER","body":"@Jennifer88huang PTAL again thanks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683514161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683525207","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-683525207","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":683525207,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUyNTIwNw==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T03:03:09Z","updated_at":"2020-08-31T03:03:09Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683525207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683528216","html_url":"https://github.com/apache/pulsar/pull/7914#issuecomment-683528216","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7914","id":683528216,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUyODIxNg==","user":{"login":"zhanghaou","id":5668441,"node_id":"MDQ6VXNlcjU2Njg0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/5668441?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghaou","html_url":"https://github.com/zhanghaou","followers_url":"https://api.github.com/users/zhanghaou/followers","following_url":"https://api.github.com/users/zhanghaou/following{/other_user}","gists_url":"https://api.github.com/users/zhanghaou/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghaou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghaou/subscriptions","organizations_url":"https://api.github.com/users/zhanghaou/orgs","repos_url":"https://api.github.com/users/zhanghaou/repos","events_url":"https://api.github.com/users/zhanghaou/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghaou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T03:17:46Z","updated_at":"2020-08-31T03:17:46Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683528216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683530236","html_url":"https://github.com/apache/pulsar/issues/7920#issuecomment-683530236","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7920","id":683530236,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUzMDIzNg==","user":{"login":"315157973","id":9758905,"node_id":"MDQ6VXNlcjk3NTg5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9758905?v=4","gravatar_id":"","url":"https://api.github.com/users/315157973","html_url":"https://github.com/315157973","followers_url":"https://api.github.com/users/315157973/followers","following_url":"https://api.github.com/users/315157973/following{/other_user}","gists_url":"https://api.github.com/users/315157973/gists{/gist_id}","starred_url":"https://api.github.com/users/315157973/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/315157973/subscriptions","organizations_url":"https://api.github.com/users/315157973/orgs","repos_url":"https://api.github.com/users/315157973/repos","events_url":"https://api.github.com/users/315157973/events{/privacy}","received_events_url":"https://api.github.com/users/315157973/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T03:26:53Z","updated_at":"2020-08-31T03:26:53Z","author_association":"CONTRIBUTOR","body":"please assign it to me","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683530236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683530655","html_url":"https://github.com/apache/pulsar/issues/7912#issuecomment-683530655","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7912","id":683530655,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUzMDY1NQ==","user":{"login":"Jennifer88huang-zz","id":47805623,"node_id":"MDQ6VXNlcjQ3ODA1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/47805623?v=4","gravatar_id":"","url":"https://api.github.com/users/Jennifer88huang-zz","html_url":"https://github.com/Jennifer88huang-zz","followers_url":"https://api.github.com/users/Jennifer88huang-zz/followers","following_url":"https://api.github.com/users/Jennifer88huang-zz/following{/other_user}","gists_url":"https://api.github.com/users/Jennifer88huang-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jennifer88huang-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jennifer88huang-zz/subscriptions","organizations_url":"https://api.github.com/users/Jennifer88huang-zz/orgs","repos_url":"https://api.github.com/users/Jennifer88huang-zz/repos","events_url":"https://api.github.com/users/Jennifer88huang-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Jennifer88huang-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T03:28:50Z","updated_at":"2020-08-31T03:28:50Z","author_association":"CONTRIBUTOR","body":"@devinbost thanks for raising the issue.\r\n@jiazhai got it. Will check soon.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683530655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683535277","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-683535277","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":683535277,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUzNTI3Nw==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T03:53:16Z","updated_at":"2020-08-31T03:53:16Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683535277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683538925","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-683538925","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":683538925,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzUzODkyNQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T04:12:36Z","updated_at":"2020-08-31T04:12:36Z","author_association":"CONTRIBUTOR","body":"LGTM. Since the bug was introduced because there's no way to verify for custom logger currently, I thought it could be better to add an unit test for custom logger, e.g. use a custom logger to write logs to a file with a specific prefix, then read the file to check if every line has the prefix.\r\n\r\nI have written a [simple test](https://gist.github.com/BewareMyPower/c304fb33a77f408f1247143958088030) and run the tests with gtest-parallel, it works well. However, without gtest-parallel, logs of other unit tests could be written to the same file because the logger of each file was `thread_local`.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683538925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683543890","html_url":"https://github.com/apache/pulsar/issues/7912#issuecomment-683543890","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7912","id":683543890,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU0Mzg5MA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T04:36:03Z","updated_at":"2020-08-31T04:36:03Z","author_association":"MEMBER","body":"would like to close this issue, since this is a dup to #7915  ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683543890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683558582","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-683558582","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":683558582,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU1ODU4Mg==","user":{"login":"smazurov","id":21636,"node_id":"MDQ6VXNlcjIxNjM2","avatar_url":"https://avatars.githubusercontent.com/u/21636?v=4","gravatar_id":"","url":"https://api.github.com/users/smazurov","html_url":"https://github.com/smazurov","followers_url":"https://api.github.com/users/smazurov/followers","following_url":"https://api.github.com/users/smazurov/following{/other_user}","gists_url":"https://api.github.com/users/smazurov/gists{/gist_id}","starred_url":"https://api.github.com/users/smazurov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smazurov/subscriptions","organizations_url":"https://api.github.com/users/smazurov/orgs","repos_url":"https://api.github.com/users/smazurov/repos","events_url":"https://api.github.com/users/smazurov/events{/privacy}","received_events_url":"https://api.github.com/users/smazurov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T05:31:34Z","updated_at":"2020-08-31T05:31:34Z","author_association":"CONTRIBUTOR","body":"I think a better test would be to log internally and just check that, that way you're not dealing with files, etc. I'm not sure why it would affect other tests though, that seems odd.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683558582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683571936","html_url":"https://github.com/apache/pulsar/issues/7928#issuecomment-683571936","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7928","id":683571936,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU3MTkzNg==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T05:59:55Z","updated_at":"2020-08-31T06:00:02Z","author_association":"MEMBER","body":"> @wolfstudy Could you please help take a look at this issue?\r\n\r\n@codelipenghui Sure. \r\n\r\n@klwilson227 Good ideas, What needs to be distinguished here is which are direct dependencies and which are indirect dependencies. For the parts directly introduced by pulsar, we can consider using the 1.26 of `snakeyaml` version uniformly.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683571936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683580112","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-683580112","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":683580112,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU4MDExMg==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T06:11:10Z","updated_at":"2020-08-31T06:11:10Z","author_association":"CONTRIBUTOR","body":"You're right, the internal field of logger should be not a `fstream` but a `vector<string>`. Here I use the file because if other tests were affected by the custom logger, I could check the failure logs with a file.\r\n\r\nThe reason why the custom logger affects other tests is that the `ClientConfiguration`'s logger factory is not associated with a `Client`, it only changes a `static` factory, see `LogUtils.cc`:\r\n\r\n```c++\r\nstatic std::atomic<LoggerFactory*> s_loggerFactory(nullptr);  // setLoggerFactory changes it\r\n```\r\n\r\nAnd each compile unit includes `LogUtils.h` to use a thread local logger:\r\n\r\n```c++\r\n#define DECLARE_LOG_OBJECT()                                                                     \\\r\n    static pulsar::Logger* logger() {                                                            \\\r\n        static thread_local std::unique_ptr<pulsar::Logger> threadSpecificLogPtr;                \\\r\n        pulsar::Logger* ptr = threadSpecificLogPtr.get();                                        \\\r\n        if (PULSAR_UNLIKELY(!ptr)) {                                                             \\\r\n            std::string logger = pulsar::LogUtils::getLoggerName(__FILE__);                      \\\r\n            threadSpecificLogPtr.reset(pulsar::LogUtils::getLoggerFactory()->getLogger(logger)); \\\r\n            ptr = threadSpecificLogPtr.get();                                                    \\\r\n        }                                                                                        \\\r\n        return ptr;                                                                              \\\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683580112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683584793","html_url":"https://github.com/apache/pulsar/issues/7913#issuecomment-683584793","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7913","id":683584793,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU4NDc5Mw==","user":{"login":"harissecic","id":4550432,"node_id":"MDQ6VXNlcjQ1NTA0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/4550432?v=4","gravatar_id":"","url":"https://api.github.com/users/harissecic","html_url":"https://github.com/harissecic","followers_url":"https://api.github.com/users/harissecic/followers","following_url":"https://api.github.com/users/harissecic/following{/other_user}","gists_url":"https://api.github.com/users/harissecic/gists{/gist_id}","starred_url":"https://api.github.com/users/harissecic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harissecic/subscriptions","organizations_url":"https://api.github.com/users/harissecic/orgs","repos_url":"https://api.github.com/users/harissecic/repos","events_url":"https://api.github.com/users/harissecic/events{/privacy}","received_events_url":"https://api.github.com/users/harissecic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T06:24:02Z","updated_at":"2020-08-31T06:24:02Z","author_association":"NONE","body":"> @harissecic , There seem no related changes in 2.6.1 to assign value to `consumerEventListener `. Did you assign some value in your code?\r\n\r\nSorry for the confusion, I did assign values myself to produce some events. However I noticed that only Failover subscriptions should be used. I changed my subscriptions to fail-over and it still didn't work. Anyway I removed this and made workaround where I only notify rest of the application when consumers subscribe. I don't really need the feature that much but it would be quite good for monitoring when consumer became active or inactive. I'll close this issue now with the assumption that there's more to it than just Failover.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683584793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683596331","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-683596331","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":683596331,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzU5NjMzMQ==","user":{"login":"smazurov","id":21636,"node_id":"MDQ6VXNlcjIxNjM2","avatar_url":"https://avatars.githubusercontent.com/u/21636?v=4","gravatar_id":"","url":"https://api.github.com/users/smazurov","html_url":"https://github.com/smazurov","followers_url":"https://api.github.com/users/smazurov/followers","following_url":"https://api.github.com/users/smazurov/following{/other_user}","gists_url":"https://api.github.com/users/smazurov/gists{/gist_id}","starred_url":"https://api.github.com/users/smazurov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smazurov/subscriptions","organizations_url":"https://api.github.com/users/smazurov/orgs","repos_url":"https://api.github.com/users/smazurov/repos","events_url":"https://api.github.com/users/smazurov/events{/privacy}","received_events_url":"https://api.github.com/users/smazurov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T06:49:35Z","updated_at":"2020-08-31T06:49:35Z","author_association":"CONTRIBUTOR","body":"Ah yes, of course. We can always change it back after test assets pass","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683596331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683608938","html_url":"https://github.com/apache/pulsar/pull/7904#issuecomment-683608938","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7904","id":683608938,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzYwODkzOA==","user":{"login":"Jennifer88huang-zz","id":47805623,"node_id":"MDQ6VXNlcjQ3ODA1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/47805623?v=4","gravatar_id":"","url":"https://api.github.com/users/Jennifer88huang-zz","html_url":"https://github.com/Jennifer88huang-zz","followers_url":"https://api.github.com/users/Jennifer88huang-zz/followers","following_url":"https://api.github.com/users/Jennifer88huang-zz/following{/other_user}","gists_url":"https://api.github.com/users/Jennifer88huang-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jennifer88huang-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jennifer88huang-zz/subscriptions","organizations_url":"https://api.github.com/users/Jennifer88huang-zz/orgs","repos_url":"https://api.github.com/users/Jennifer88huang-zz/repos","events_url":"https://api.github.com/users/Jennifer88huang-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Jennifer88huang-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T07:16:47Z","updated_at":"2020-08-31T07:16:47Z","author_association":"CONTRIBUTOR","body":"@sijia-w could you please also help check the content? Thank you.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683608938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683630485","html_url":"https://github.com/apache/pulsar/pull/7904#issuecomment-683630485","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7904","id":683630485,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzYzMDQ4NQ==","user":{"login":"sijia-w","id":53718687,"node_id":"MDQ6VXNlcjUzNzE4Njg3","avatar_url":"https://avatars.githubusercontent.com/u/53718687?v=4","gravatar_id":"","url":"https://api.github.com/users/sijia-w","html_url":"https://github.com/sijia-w","followers_url":"https://api.github.com/users/sijia-w/followers","following_url":"https://api.github.com/users/sijia-w/following{/other_user}","gists_url":"https://api.github.com/users/sijia-w/gists{/gist_id}","starred_url":"https://api.github.com/users/sijia-w/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijia-w/subscriptions","organizations_url":"https://api.github.com/users/sijia-w/orgs","repos_url":"https://api.github.com/users/sijia-w/repos","events_url":"https://api.github.com/users/sijia-w/events{/privacy}","received_events_url":"https://api.github.com/users/sijia-w/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T08:03:38Z","updated_at":"2020-08-31T08:03:38Z","author_association":"CONTRIBUTOR","body":"@Jennifer88huang @wolfstudy Left my comments. PTAL.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683630485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683663372","html_url":"https://github.com/apache/pulsar/pull/7883#issuecomment-683663372","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7883","id":683663372,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzY2MzM3Mg==","user":{"login":"315157973","id":9758905,"node_id":"MDQ6VXNlcjk3NTg5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9758905?v=4","gravatar_id":"","url":"https://api.github.com/users/315157973","html_url":"https://github.com/315157973","followers_url":"https://api.github.com/users/315157973/followers","following_url":"https://api.github.com/users/315157973/following{/other_user}","gists_url":"https://api.github.com/users/315157973/gists{/gist_id}","starred_url":"https://api.github.com/users/315157973/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/315157973/subscriptions","organizations_url":"https://api.github.com/users/315157973/orgs","repos_url":"https://api.github.com/users/315157973/repos","events_url":"https://api.github.com/users/315157973/events{/privacy}","received_events_url":"https://api.github.com/users/315157973/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T09:11:58Z","updated_at":"2020-08-31T09:11:58Z","author_association":"CONTRIBUTOR","body":"> Looks good, could you please also update the `CmdTopics` in the `pulsar-client-tools` ?\r\n\r\nThis has been solved","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683663372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683673019","html_url":"https://github.com/apache/pulsar/issues/7903#issuecomment-683673019","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7903","id":683673019,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzY3MzAxOQ==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T09:32:13Z","updated_at":"2020-08-31T09:32:13Z","author_association":"CONTRIBUTOR","body":"@jiazhai `BrokerDiscoveryProvider.getPartitionedTopicMetadata` describes it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683673019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683799570","html_url":"https://github.com/apache/pulsar/issues/7935#issuecomment-683799570","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7935","id":683799570,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzc5OTU3MA==","user":{"login":"Technoboy-","id":6297296,"node_id":"MDQ6VXNlcjYyOTcyOTY=","avatar_url":"https://avatars.githubusercontent.com/u/6297296?v=4","gravatar_id":"","url":"https://api.github.com/users/Technoboy-","html_url":"https://github.com/Technoboy-","followers_url":"https://api.github.com/users/Technoboy-/followers","following_url":"https://api.github.com/users/Technoboy-/following{/other_user}","gists_url":"https://api.github.com/users/Technoboy-/gists{/gist_id}","starred_url":"https://api.github.com/users/Technoboy-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Technoboy-/subscriptions","organizations_url":"https://api.github.com/users/Technoboy-/orgs","repos_url":"https://api.github.com/users/Technoboy-/repos","events_url":"https://api.github.com/users/Technoboy-/events{/privacy}","received_events_url":"https://api.github.com/users/Technoboy-/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T14:04:08Z","updated_at":"2020-08-31T14:04:08Z","author_association":"CONTRIBUTOR","body":"Hi, @codelipenghui  I want to try to resolve this issue, could you give some idea?  I'm newer to this project.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683799570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683820811","html_url":"https://github.com/apache/pulsar/issues/7935#issuecomment-683820811","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7935","id":683820811,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzgyMDgxMQ==","user":{"login":"Technoboy-","id":6297296,"node_id":"MDQ6VXNlcjYyOTcyOTY=","avatar_url":"https://avatars.githubusercontent.com/u/6297296?v=4","gravatar_id":"","url":"https://api.github.com/users/Technoboy-","html_url":"https://github.com/Technoboy-","followers_url":"https://api.github.com/users/Technoboy-/followers","following_url":"https://api.github.com/users/Technoboy-/following{/other_user}","gists_url":"https://api.github.com/users/Technoboy-/gists{/gist_id}","starred_url":"https://api.github.com/users/Technoboy-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Technoboy-/subscriptions","organizations_url":"https://api.github.com/users/Technoboy-/orgs","repos_url":"https://api.github.com/users/Technoboy-/repos","events_url":"https://api.github.com/users/Technoboy-/events{/privacy}","received_events_url":"https://api.github.com/users/Technoboy-/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T14:39:19Z","updated_at":"2020-08-31T14:39:19Z","author_association":"CONTRIBUTOR","body":"@elgca Could you give more detailed error log ? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683820811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683855973","html_url":"https://github.com/apache/pulsar/pull/7909#issuecomment-683855973","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7909","id":683855973,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzg1NTk3Mw==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T15:36:40Z","updated_at":"2020-08-31T15:36:40Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683855973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683877264","html_url":"https://github.com/apache/pulsar/issues/6871#issuecomment-683877264","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6871","id":683877264,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzg3NzI2NA==","user":{"login":"rueian","id":2727535,"node_id":"MDQ6VXNlcjI3Mjc1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/2727535?v=4","gravatar_id":"","url":"https://api.github.com/users/rueian","html_url":"https://github.com/rueian","followers_url":"https://api.github.com/users/rueian/followers","following_url":"https://api.github.com/users/rueian/following{/other_user}","gists_url":"https://api.github.com/users/rueian/gists{/gist_id}","starred_url":"https://api.github.com/users/rueian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rueian/subscriptions","organizations_url":"https://api.github.com/users/rueian/orgs","repos_url":"https://api.github.com/users/rueian/repos","events_url":"https://api.github.com/users/rueian/events{/privacy}","received_events_url":"https://api.github.com/users/rueian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T16:11:15Z","updated_at":"2020-08-31T16:11:15Z","author_association":"NONE","body":"Thanks! I will try the new version later this week.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683877264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683914492","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-683914492","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":683914492,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzkxNDQ5Mg==","user":{"login":"fracasula","id":1288256,"node_id":"MDQ6VXNlcjEyODgyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1288256?v=4","gravatar_id":"","url":"https://api.github.com/users/fracasula","html_url":"https://github.com/fracasula","followers_url":"https://api.github.com/users/fracasula/followers","following_url":"https://api.github.com/users/fracasula/following{/other_user}","gists_url":"https://api.github.com/users/fracasula/gists{/gist_id}","starred_url":"https://api.github.com/users/fracasula/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fracasula/subscriptions","organizations_url":"https://api.github.com/users/fracasula/orgs","repos_url":"https://api.github.com/users/fracasula/repos","events_url":"https://api.github.com/users/fracasula/events{/privacy}","received_events_url":"https://api.github.com/users/fracasula/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T17:18:19Z","updated_at":"2020-08-31T17:18:19Z","author_association":"NONE","body":"After further investigation I was able to come across two scenarios, which may be related.\r\n\r\n## Silent broker scenario\r\n\r\n* all consumers are connected with PING and PONG responses travelling over the wire\r\n* the `stats` tool reports several messages in the `msgBacklog` for the given topic/subscription and it shows all the consumers as connected but with a `msgRateOut` of 0\r\n* by looking at the [Pulsar binary protocol](https://pulsar.apache.org/docs/en/develop-binary-protocol/) I can say that everything goes smootly for all consumers, even if restarted, up to the `flow` stage and then hang forever waiting for a MESSAGE command that never comes, meaning they connect to the broker, send the 1000 permits and then just get pings from [here](https://github.com/apache/pulsar-client-go/blob/master/pulsar/internal/connection.go#L353), no messages whatsoever\r\n* killing the Pulsar proxy or restarting the consumers *do not help*\r\n* restarting the Brokers fix the issue\r\n* when trying with the official latest Python 2.6.1 client, it just dies as shown below\r\n\r\n```\r\n2020-08-31 08:37:07.728 INFO  [139696078108480] Client:88 | Subscribing on Topic :SpaceEvents\r\n2020-08-31 08:37:07.728 INFO  [139696078108480] ConnectionPool:85 | Created connection for pulsar://localhost:6650\r\n2020-08-31 08:37:07.729 INFO  [139696048822016] ClientConnection:343 | [[::1]:57112 -> [::1]:6650] Connected to broker\r\n2020-08-31 08:37:08.286 INFO  [139696048822016] HandlerBase:53 | [persistent://public/default/SpaceEvents, cloud-pulsar-tester, 0] Getting connection from pool\r\n2020-08-31 08:37:08.426 INFO  [139696048822016] ConnectionPool:85 | Created connection for pulsar://10.56.3.23:6650\r\n2020-08-31 08:37:08.427 INFO  [139696048822016] ClientConnection:345 | [[::1]:57114 -> [::1]:6650] Connected to broker through proxy. Logical broker: pulsar://10.56.3.23:6650\r\n2020-08-31 08:37:08.968 WARN  [139696048822016] ClientConnection:947 | [[::1]:57114 -> [::1]:6650] Received error response from server: UnknownError -- req_id: 0\r\n2020-08-31 08:37:08.968 ERROR [139696048822016] ConsumerImpl:242 | [persistent://public/default/SpaceEvents, cloud-pulsar-tester, 0] Failed to create consumer: UnknownError\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 4, in <module>\r\n    consumer = client.subscribe('SpaceEvents', 'cloud-pulsar-tester')\r\n  File \"/home/francesco/.local/lib/python3.8/site-packages/pulsar/__init__.py\", line 655, in subscribe\r\n    c._consumer = self._client.subscribe(topic, subscription_name, conf)\r\nException: Pulsar error: UnknownError\r\n2020-08-31 08:37:08.974 INFO  [139696078108480] ClientConnection:1387 | [[::1]:57114 -> [::1]:6650] Connection closed\r\n2020-08-31 08:37:08.974 INFO  [139696078108480] ClientConnection:1387 | [[::1]:57112 -> [::1]:6650] Connection closed\r\n2020-08-31 08:37:08.974 INFO  [139696078108480] ClientConnection:238 | [[::1]:57114 -> [::1]:6650] Destroyed connection\r\n2020-08-31 08:37:08.974 INFO  [139696078108480] ClientConnection:238 | [[::1]:57112 -> [::1]:6650] Destroyed connection\r\n```\r\n\r\nThis is the Python code I used:\r\n\r\n```python\r\nimport pulsar\r\n\r\nclient = pulsar.Client('pulsar://localhost:6650')\r\nconsumer = client.subscribe('SpaceEvents', 'cloud-pulsar-tester')\r\n\r\n\r\ndef consume():\r\n    while True:\r\n        msg = consumer.receive()\r\n        try:\r\n            print(\"Received message '{}' id='{}'\".format(msg.data(), msg.message_id()))\r\n            # Acknowledge successful processing of the message\r\n            consumer.acknowledge(msg)\r\n        except:\r\n            # Message failed to be processed\r\n            consumer.negative_acknowledge(msg)\r\n\r\n\r\nif __name__ == '__main__':\r\n    consume()\r\n    client.close()\r\n```\r\n\r\nAnd the `requirements.txt`:\r\n\r\n```\r\npulsar-client==2.6.1\r\napache-bookkeeper-client==4.11.0\r\ngrpcio<1.26.0\r\n```\r\n\r\n## Possible acking deadlock (Golang client)\r\n\r\n* all consumers report PING and PONG responses in their logs (verbosity set to `trace`)\r\n* the `stats` tool reports no consumers at all despite all clients are print the PING/PONG successfully in their logs\r\n* the `stats` tool reports a `msgBacklog` greater than zero so there are messages waiting to be processed\r\n* by getting a full goroutine stack dump I was able to determine that all consumers are stuck [here](https://github.com/apache/pulsar-client-go/blob/master/pulsar/consumer_partition.go#L741)\r\n* to be 100% sure so that it wouldn't just be a case of having the service trying to ack every time I was getting the full goroutine stack dump, I made changes to the Golang client by adding a ticker that prints `Trying to ack` on the logs whenever it was taking more than 150ms\r\n\r\nThe last bullet point means that I change this code:\r\n\r\n```go\r\nfunc (pc *partitionConsumer) runEventsLoop() {\r\n\tdefer func() {\r\n\t\tpc.log.Debug(\"exiting events loop\")\r\n\t}()\r\n\tfor {\r\n\t\tselect {\r\n\t\tcase <-pc.closeCh:\r\n\t\t\treturn\r\n\t\tcase i := <-pc.eventsCh:\r\n\t\t\tswitch v := i.(type) {\r\n\t\t\tcase *ackRequest:\r\n\t\t\t\tpc.internalAck(v)\r\n```\r\n\r\nLike this:\r\n\r\n```go\r\nfunc (pc *partitionConsumer) runEventsLoop() {\r\n\tdefer func() {\r\n\t\tpc.log.Debug(\"exiting events loop\")\r\n\t}()\r\n\tfor {\r\n\t\tselect {\r\n\t\tcase <-pc.closeCh:\r\n\t\t\treturn\r\n\t\tcase i := <-pc.eventsCh:\r\n\t\t\tswitch v := i.(type) {\r\n\t\t\tcase *ackRequest:\r\n\t\t\t\tctx, cancel := context.WithCancel(context.Background())\r\n\t\t\t\tgo func(v *ackRequest) {\r\n\t\t\t\t\tfor {\r\n\t\t\t\t\t\tselect {\r\n\t\t\t\t\t\tcase <-ctx.Done():\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tpc.log.Infof(\"Trying to ack %+v (%d - %d)\", v.msgID, len(pc.eventsCh), cap(pc.eventsCh))\r\n\t\t\t\t\t\t\ttime.Sleep(150 * time.Millisecond)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}(v)\r\n\r\n\t\t\t\tpc.internalAck(v)\r\n\t\t\t\tcancel()\r\n```\r\n\r\nIf the ack happens within 150ms we don't see any logs. The problem is that now I have all consumers stuck in a never ending loop just printing:\r\n\r\n```\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:11+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:11+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:11+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:12+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:12+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:12+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:12+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T18:52:12+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n```\r\n\r\nThis has been going on for several hours and the message ID of the log entry is always the same until I kill the consumer. \r\n\r\nCould it be that, given that the `eventsCh` is a buffered channel of 3, when a connection gets closed due to a [message frame size that is too big](https://github.com/apache/pulsar-client-go/blob/master/pulsar/internal/connection_reader.go#L78) then the `runEventsLoop()` never gets to process the `*connectionClosed` event due to at least 3 in-flight ack requests?\r\n\r\nMeaning: we could have 3 ack requests that are already keeping the channel full, the connection gets closed, the acks can't be processed because the connection was closed and we cannot [reconnect to the broker](https://github.com/apache/pulsar-client-go/blob/master/pulsar/consumer_partition.go#L753) because, due to the channel being full, we can't push `*connectionClosed` event into the `eventsCh` thus it never gets processed = deadlock?\r\n\r\nIn support of this theory I can see this in the logs right before I get the never ending `Trying to ack` loop:\r\n\r\n```\r\n{\"error\":\"write tcp [::1]:35530-\\u003e[::1]:6650: use of closed network connection\",\"level\":\"warn\",\"local_addr\":{\"IP\":\"::1\",\"Port\":35530,\"Zone\":\"\"},\"message\":\"Failed to write on connection\",\"remote_addr\":{\"Scheme\":\"pulsar\",\"Opaque\":\"\",\"User\":null,\"Host\":\"localhost:6650\",\"Path\":\"\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\"},\"severity\":\"WARNING\",\"time\":\"2020-08-31T17:47:23+02:00\"}\r\n{\"level\":\"debug\",\"local_addr\":{\"IP\":\"::1\",\"Port\":35530,\"Zone\":\"\"},\"message\":\"Write data: 25\",\"remote_addr\":{\"Scheme\":\"pulsar\",\"Opaque\":\"\",\"User\":null,\"Host\":\"localhost:6650\",\"Path\":\"\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\"},\"severity\":\"DEBUG\",\"time\":\"2020-08-31T17:47:23+02:00\"}\r\n{\"error\":\"write tcp [::1]:35530-\\u003e[::1]:6650: use of closed network connection\",\"level\":\"warn\",\"local_addr\":{\"IP\":\"::1\",\"Port\":35530,\"Zone\":\"\"},\"message\":\"Failed to write on connection\",\"remote_addr\":{\"Scheme\":\"pulsar\",\"Opaque\":\"\",\"User\":null,\"Host\":\"localhost:6650\",\"Path\":\"\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\"},\"severity\":\"WARNING\",\"time\":\"2020-08-31T17:47:23+02:00\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T17:47:23+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"level\":\"info\",\"local_addr\":{\"IP\":\"::1\",\"Port\":35530,\"Zone\":\"\"},\"message\":\"Connection closed\",\"remote_addr\":{\"Scheme\":\"pulsar\",\"Opaque\":\"\",\"User\":null,\"Host\":\"localhost:6650\",\"Path\":\"\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\"},\"severity\":\"INFO\",\"time\":\"2020-08-31T17:47:23+02:00\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T17:47:23+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T17:47:24+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T17:47:24+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n{\"consumerID\":1,\"level\":\"info\",\"message\":\"Trying to ack {messageID:{ledgerID:122209 entryID:146 batchIdx:0 partitionIdx:0} tracker:\\u003cnil\\u003e consumer:0xc000336000 receivedTime:{wall:13820250669831506541 ext:18161550576 loc:0x14dc660}} (3 - 3)\",\"name\":\"nebuchadnezzar\",\"severity\":\"INFO\",\"subscription\":\"cloud-pulsar-tester\",\"time\":\"2020-08-31T17:47:24+02:00\",\"topic\":\"persistent://public/default/SpaceEvents\"}\r\n```\r\n\r\nAlso by analyzing the stack dump I can see that one of the 21 goroutines running is stuck waiting [here](https://github.com/apache/pulsar-client-go/blob/master/pulsar/consumer_partition.go#L567).\r\n\r\n```\r\n1 @ 0x449d3b 0x41229f 0x412095 0xc5b3f5 0xc46394 0xc4ceb9 0xc41f5e 0xc4ccc6 0x47d571\r\n#\t0xc5b3f4\tgithub.com/apache/pulsar-client-go/pulsar.(*partitionConsumer).ConnectionClosed+0x64\t/home/francesco/Code/netdata/cloud-pulsar-tester/pulsar-client-go/pulsar/consumer_partition.go:567\r\n#\t0xc46393\tgithub.com/apache/pulsar-client-go/pulsar/internal.(*connection).Close+0x583\t\t/home/francesco/Code/netdata/cloud-pulsar-tester/pulsar-client-go/pulsar/internal/connection.go:751\r\n#\t0xc4ceb8\tgithub.com/apache/pulsar-client-go/pulsar/internal.(*connection).run.func1+0x168\t/home/francesco/Code/netdata/cloud-pulsar-tester/pulsar-client-go/pulsar/internal/connection.go:363\r\n#\t0xc41f5d\tgithub.com/apache/pulsar-client-go/pulsar/internal.(*connection).run+0x2bd\t\t/home/francesco/Code/netdata/cloud-pulsar-tester/pulsar-client-go/pulsar/internal/connection.go:369\r\n#\t0xc4ccc5\tgithub.com/apache/pulsar-client-go/pulsar/internal.(*connection).start.func1+0x85\t/home/francesco/Code/netdata/cloud-pulsar-tester/pulsar-client-go/pulsar/internal/connection.go:231\r\n```\r\n\r\nKilling the consumer in this case helps but it eventually gets stuck again trying to ack some other message.\r\n\r\nWe could potentially try to look into the second scenario but have no clue whatsoever about the first one and we have no Java expertise. Can someone please look a bit more into this and tell us whether you need more information? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683914492/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683929273","html_url":"https://github.com/apache/pulsar/pull/7909#issuecomment-683929273","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7909","id":683929273,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzkyOTI3Mw==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T17:46:59Z","updated_at":"2020-08-31T17:46:59Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683929273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683969477","html_url":"https://github.com/apache/pulsar/issues/7941#issuecomment-683969477","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7941","id":683969477,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzk2OTQ3Nw==","user":{"login":"alexku7","id":42849762,"node_id":"MDQ6VXNlcjQyODQ5NzYy","avatar_url":"https://avatars.githubusercontent.com/u/42849762?v=4","gravatar_id":"","url":"https://api.github.com/users/alexku7","html_url":"https://github.com/alexku7","followers_url":"https://api.github.com/users/alexku7/followers","following_url":"https://api.github.com/users/alexku7/following{/other_user}","gists_url":"https://api.github.com/users/alexku7/gists{/gist_id}","starred_url":"https://api.github.com/users/alexku7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexku7/subscriptions","organizations_url":"https://api.github.com/users/alexku7/orgs","repos_url":"https://api.github.com/users/alexku7/repos","events_url":"https://api.github.com/users/alexku7/events{/privacy}","received_events_url":"https://api.github.com/users/alexku7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T19:01:32Z","updated_at":"2020-08-31T19:01:32Z","author_association":"NONE","body":"Hello\r\nI am pretty sure that i succeeded to reproduce the conditions for this issue.\r\n\r\n\r\n1. create a topic with three partitions. my-tenant/my-namespace/my/topic\r\n2. The topic should have producers for producing relatively many messages ( let's say 3000 per second) with different keys\r\n2. create simultaneously **2**  consumers with key_shared subscription and earliest position:\r\n\r\nbin/pulsar-client consume -p Earliest -n 0 -s alex_test -t Key_Shared persistent://my-tenant/my-namespace/my/topic\r\n\r\n3, after 1-2 minutes , create third consumer with the same settings.\r\n\r\nYou should see after 10-40 seconds that the all partitions are stuck with zero rate out and the backlog continues to grow .\r\n\r\nInteresting, that if i remove the third consumer, all are starting working again but if i remove the first or second consumer it's  still stuck.\r\n\r\nThe issue doesn't occur with Latest position.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/683969477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684114475","html_url":"https://github.com/apache/pulsar/pull/7940#issuecomment-684114475","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7940","id":684114475,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDExNDQ3NQ==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T00:14:37Z","updated_at":"2020-09-01T00:14:37Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684114475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684115177","html_url":"https://github.com/apache/pulsar/pull/7883#issuecomment-684115177","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7883","id":684115177,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDExNTE3Nw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T00:16:58Z","updated_at":"2020-09-01T00:16:58Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684115177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684152745","html_url":"https://github.com/apache/pulsar/pull/7883#issuecomment-684152745","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7883","id":684152745,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE1Mjc0NQ==","user":{"login":"315157973","id":9758905,"node_id":"MDQ6VXNlcjk3NTg5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9758905?v=4","gravatar_id":"","url":"https://api.github.com/users/315157973","html_url":"https://github.com/315157973","followers_url":"https://api.github.com/users/315157973/followers","following_url":"https://api.github.com/users/315157973/following{/other_user}","gists_url":"https://api.github.com/users/315157973/gists{/gist_id}","starred_url":"https://api.github.com/users/315157973/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/315157973/subscriptions","organizations_url":"https://api.github.com/users/315157973/orgs","repos_url":"https://api.github.com/users/315157973/repos","events_url":"https://api.github.com/users/315157973/events{/privacy}","received_events_url":"https://api.github.com/users/315157973/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T02:22:51Z","updated_at":"2020-09-01T02:22:51Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684152745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684165042","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-684165042","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":684165042,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE2NTA0Mg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T03:00:04Z","updated_at":"2020-09-01T03:00:04Z","author_association":"CONTRIBUTOR","body":"@fracasula Looks the broker error log is the same as https://github.com/streamnative/pulsar/issues/1366 that I have met before when I working on some performance tests.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684165042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684167305","html_url":"https://github.com/apache/pulsar/pull/7856#issuecomment-684167305","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7856","id":684167305,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE2NzMwNQ==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T03:06:26Z","updated_at":"2020-09-01T03:06:26Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684167305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684176106","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-684176106","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":684176106,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE3NjEwNg==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T03:34:15Z","updated_at":"2020-09-01T03:34:15Z","author_association":"MEMBER","body":"also @BewareMyPower would you please help to take a look on the cpp error stack.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684176106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684182030","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-684182030","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":684182030,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE4MjAzMA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T03:54:17Z","updated_at":"2020-09-01T03:54:17Z","author_association":"CONTRIBUTOR","body":"@jiazhai Looks like the cpp client's error is just caused by the broker.\r\n\r\n```c++\r\n// ClientConnection.cc\r\n                case BaseCommand::ERROR: {\r\n                    const CommandError& error = incomingCmd_.error();\r\n                    Result result = getResult(error.error());\r\n                    LOG_WARN(cnxString_ << \"Received error response from server: \" << result\r\n                                        << \" -- req_id: \" << error.request_id());\r\n```\r\n\r\nThe broker gave an unknown `ServerError` or just an `UnknownError` when processing the subscribe command.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684182030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684187324","html_url":"https://github.com/apache/pulsar/issues/7945#issuecomment-684187324","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7945","id":684187324,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE4NzMyNA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T04:12:34Z","updated_at":"2020-09-01T04:12:34Z","author_association":"CONTRIBUTOR","body":"There're 2 ways to create a `Message` with C++ client\r\n\r\n```c++\r\n    /**\r\n     * Set content of the message. The message contents will be managed by the system.\r\n     */\r\n    MessageBuilder& setContent(const void* data, size_t size);\r\n    MessageBuilder& setContent(const std::string& data);\r\n\r\n    /**\r\n     * Set content of the message to a buffer already allocated by the caller. No copies of\r\n     * this buffer will be made. The caller is responsible to ensure the memory buffer is\r\n     * valid until the message has been persisted (or an error is returned).\r\n     */\r\n    MessageBuilder& setAllocatedContent(void* data, size_t size);\r\n```\r\n\r\n- data: the pointer to your struct\r\n- size: the struct's size","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684187324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684363428","html_url":"https://github.com/apache/pulsar/pull/7883#issuecomment-684363428","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7883","id":684363428,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDM2MzQyOA==","user":{"login":"315157973","id":9758905,"node_id":"MDQ6VXNlcjk3NTg5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9758905?v=4","gravatar_id":"","url":"https://api.github.com/users/315157973","html_url":"https://github.com/315157973","followers_url":"https://api.github.com/users/315157973/followers","following_url":"https://api.github.com/users/315157973/following{/other_user}","gists_url":"https://api.github.com/users/315157973/gists{/gist_id}","starred_url":"https://api.github.com/users/315157973/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/315157973/subscriptions","organizations_url":"https://api.github.com/users/315157973/orgs","repos_url":"https://api.github.com/users/315157973/repos","events_url":"https://api.github.com/users/315157973/events{/privacy}","received_events_url":"https://api.github.com/users/315157973/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T05:45:36Z","updated_at":"2020-09-01T05:45:36Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684363428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684449592","html_url":"https://github.com/apache/pulsar/issues/7945#issuecomment-684449592","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7945","id":684449592,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDQ0OTU5Mg==","user":{"login":"shengjh","id":46514371,"node_id":"MDQ6VXNlcjQ2NTE0Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/46514371?v=4","gravatar_id":"","url":"https://api.github.com/users/shengjh","html_url":"https://github.com/shengjh","followers_url":"https://api.github.com/users/shengjh/followers","following_url":"https://api.github.com/users/shengjh/following{/other_user}","gists_url":"https://api.github.com/users/shengjh/gists{/gist_id}","starred_url":"https://api.github.com/users/shengjh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shengjh/subscriptions","organizations_url":"https://api.github.com/users/shengjh/orgs","repos_url":"https://api.github.com/users/shengjh/repos","events_url":"https://api.github.com/users/shengjh/events{/privacy}","received_events_url":"https://api.github.com/users/shengjh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T06:32:53Z","updated_at":"2020-09-01T06:32:53Z","author_association":"NONE","body":"In this way, how to deserialize the message in consumer? My consumer is using go client.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684449592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684479609","html_url":"https://github.com/apache/pulsar/issues/7941#issuecomment-684479609","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7941","id":684479609,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDQ3OTYwOQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T06:50:34Z","updated_at":"2020-09-01T06:50:34Z","author_association":"CONTRIBUTOR","body":"I also reproduced the problem, though a little different. When I start 3rd consumer, it cannot consume any messages.\r\n\r\nI found these logs from the broker:\r\n\r\n```\r\n14:42:36.274 [bookkeeper-ml-workers-OrderedExecutor-3-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n/* a lot of the same logs */\r\n14:42:37.488 [bookkeeper-ml-workers-OrderedExecutor-3-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n```\r\n\r\nAlso, there're some `ManagedLedgerException` logs around the large amount `ArrayIndexOutOfBoundsException` logs\r\n\r\n```\r\n14:36:04.708 [bookkeeper-ml-workers-OrderedExecutor-3-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n14:36:04.744 [pulsar-io-23-15] WARN  org.apache.bookkeeper.mledger.impl.EntryCacheImpl - failed to read entries for 4726-4726:476113\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n14:36:04.745 [pulsar-io-23-15] WARN  org.apache.bookkeeper.mledger.impl.ManagedCursorImpl - [public/default/persistent/my-topic-partition-1][SubscriptionName-new] Error while replaying entries\r\norg.apache.bookkeeper.mledger.ManagedLedgerException: Unknown exception\r\n14:36:04.802 [pulsar-io-23-15] WARN  org.apache.bookkeeper.mledger.impl.EntryCacheImpl - failed to read entries for 4726-4726:476184\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n14:36:04.803 [pulsar-io-23-15] WARN  org.apache.bookkeeper.mledger.impl.ManagedCursorImpl - [public/default/persistent/my-topic-partition-1][SubscriptionName-new] Error while replaying entries\r\norg.apache.bookkeeper.mledger.ManagedLedgerException: Unknown exception\r\n14:36:04.806 [bookkeeper-ml-workers-OrderedExecutor-3-0] WARN  org.apache.bookkeeper.mledger.impl.ManagedCursorImpl - [public/default/persistent/my-topic-partition-1][SubscriptionName-new] Error while replaying entries\r\norg.apache.bookkeeper.mledger.ManagedLedgerException: Unknown exception\r\n14:36:04.864 [bookkeeper-ml-workers-OrderedExecutor-3-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684479609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684505993","html_url":"https://github.com/apache/pulsar/issues/7945#issuecomment-684505993","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7945","id":684505993,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDUwNTk5Mw==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T07:13:52Z","updated_at":"2020-09-01T07:13:52Z","author_association":"CONTRIBUTOR","body":"You should encode your struct manually, see [#5057](https://github.com/apache/pulsar/issues/5057)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684505993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684599070","html_url":"https://github.com/apache/pulsar/pull/7834#issuecomment-684599070","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7834","id":684599070,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDU5OTA3MA==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T08:50:44Z","updated_at":"2020-09-01T08:50:44Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684599070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684659348","html_url":"https://github.com/apache/pulsar/issues/7945#issuecomment-684659348","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7945","id":684659348,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDY1OTM0OA==","user":{"login":"shengjh","id":46514371,"node_id":"MDQ6VXNlcjQ2NTE0Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/46514371?v=4","gravatar_id":"","url":"https://api.github.com/users/shengjh","html_url":"https://github.com/shengjh","followers_url":"https://api.github.com/users/shengjh/followers","following_url":"https://api.github.com/users/shengjh/following{/other_user}","gists_url":"https://api.github.com/users/shengjh/gists{/gist_id}","starred_url":"https://api.github.com/users/shengjh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shengjh/subscriptions","organizations_url":"https://api.github.com/users/shengjh/orgs","repos_url":"https://api.github.com/users/shengjh/repos","events_url":"https://api.github.com/users/shengjh/events{/privacy}","received_events_url":"https://api.github.com/users/shengjh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T09:31:08Z","updated_at":"2020-09-01T09:31:08Z","author_association":"NONE","body":"Thanks, @BewareMyPower ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684659348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684757156","html_url":"https://github.com/apache/pulsar/pull/7848#issuecomment-684757156","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7848","id":684757156,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDc1NzE1Ng==","user":{"login":"aloyszhang","id":48062889,"node_id":"MDQ6VXNlcjQ4MDYyODg5","avatar_url":"https://avatars.githubusercontent.com/u/48062889?v=4","gravatar_id":"","url":"https://api.github.com/users/aloyszhang","html_url":"https://github.com/aloyszhang","followers_url":"https://api.github.com/users/aloyszhang/followers","following_url":"https://api.github.com/users/aloyszhang/following{/other_user}","gists_url":"https://api.github.com/users/aloyszhang/gists{/gist_id}","starred_url":"https://api.github.com/users/aloyszhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloyszhang/subscriptions","organizations_url":"https://api.github.com/users/aloyszhang/orgs","repos_url":"https://api.github.com/users/aloyszhang/repos","events_url":"https://api.github.com/users/aloyszhang/events{/privacy}","received_events_url":"https://api.github.com/users/aloyszhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T10:37:54Z","updated_at":"2020-09-01T10:37:54Z","author_association":"CONTRIBUTOR","body":"@codelipenghui  Does this pr need more discuss?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684757156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684782593","html_url":"https://github.com/apache/pulsar/pull/7919#issuecomment-684782593","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7919","id":684782593,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDc4MjU5Mw==","user":{"login":"yuanboliu","id":5643344,"node_id":"MDQ6VXNlcjU2NDMzNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5643344?v=4","gravatar_id":"","url":"https://api.github.com/users/yuanboliu","html_url":"https://github.com/yuanboliu","followers_url":"https://api.github.com/users/yuanboliu/followers","following_url":"https://api.github.com/users/yuanboliu/following{/other_user}","gists_url":"https://api.github.com/users/yuanboliu/gists{/gist_id}","starred_url":"https://api.github.com/users/yuanboliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuanboliu/subscriptions","organizations_url":"https://api.github.com/users/yuanboliu/orgs","repos_url":"https://api.github.com/users/yuanboliu/repos","events_url":"https://api.github.com/users/yuanboliu/events{/privacy}","received_events_url":"https://api.github.com/users/yuanboliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T11:27:06Z","updated_at":"2020-09-01T11:27:06Z","author_association":"MEMBER","body":"@sijie \r\nsorry to interrupt. \r\nNPE will be thrown if throttler is enabled and ctx is closed. It would be more graceful if we check null before enabling auto read. Any thoughts about this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684782593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684787561","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-684787561","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":684787561,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDc4NzU2MQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T11:36:24Z","updated_at":"2020-09-01T11:36:24Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684787561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684810012","html_url":"https://github.com/apache/pulsar/pull/7890#issuecomment-684810012","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7890","id":684810012,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDgxMDAxMg==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T12:17:42Z","updated_at":"2020-09-01T12:18:03Z","author_association":"CONTRIBUTOR","body":"@srkukarni Hi, does it seem that the overloaded property `clusterName` is not used?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684810012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684831626","html_url":"https://github.com/apache/pulsar/issues/4747#issuecomment-684831626","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4747","id":684831626,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDgzMTYyNg==","user":{"login":"hnail","id":8986125,"node_id":"MDQ6VXNlcjg5ODYxMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8986125?v=4","gravatar_id":"","url":"https://api.github.com/users/hnail","html_url":"https://github.com/hnail","followers_url":"https://api.github.com/users/hnail/followers","following_url":"https://api.github.com/users/hnail/following{/other_user}","gists_url":"https://api.github.com/users/hnail/gists{/gist_id}","starred_url":"https://api.github.com/users/hnail/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hnail/subscriptions","organizations_url":"https://api.github.com/users/hnail/orgs","repos_url":"https://api.github.com/users/hnail/repos","events_url":"https://api.github.com/users/hnail/events{/privacy}","received_events_url":"https://api.github.com/users/hnail/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T12:55:41Z","updated_at":"2020-09-01T13:07:21Z","author_association":"CONTRIBUTOR","body":"I commited my  _WIP  prototype code_ `https://github.com/hnail/pulsar/commit/1c67266918168d0c373a2839384362960b5afe4a ` without unit-tests to my private repository instead of pull request to official master repository . Because i think the change may contain some structural adjustment and beyond expectation . \r\nso is there pulsar-sql committer or familiar with pulsar-sql can help preview the code  and discuss with me ? appreciate you if can  give me some suggests or opinions , glad you call me on slack @hnail or comment on this issues ,  I will detailedly explain  the modifications ?  \r\n\r\n---\r\n**code Index:**\r\n`SchemaInfo -> RowDecoder `(**PulsarRecordCursor**) : [PulsarDispatchingRowDecoderFactory.create(SchemaInfo schemaInfo, Set<DecoderColumnHandle> columns)](https://github.com/hnail/pulsar/blob/sql_support_arrays_maps/pulsar-sql/presto-pulsar/src/main/java/org/apache/pulsar/sql/presto/PulsarDispatchingRowDecoderFactory.java#L52)\r\n`SchemaInfo -> ColumnMetadata `( **PulsarMetadata**): [PulsarDispatchingRowDecoderFactory. extractColumnMetadata(SchemaInfo schemaInfo, PulsarColumnHandle.HandleKeyValueType handleKeyValueType)  ](https://github.com/hnail/pulsar/blob/sql_support_arrays_maps/pulsar-sql/presto-pulsar/src/main/java/org/apache/pulsar/sql/presto/PulsarDispatchingRowDecoderFactory.java#L76)\r\n\r\n---\r\ncode reference `presto-kafka` , With the purpose of  fix  issues-7652 \\ issues-4747 and support other non-avro schema encoder。\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684831626/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684841140","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-684841140","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":684841140,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDg0MTE0MA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T13:10:32Z","updated_at":"2020-09-01T13:10:32Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684841140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684887313","html_url":"https://github.com/apache/pulsar/issues/7941#issuecomment-684887313","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7941","id":684887313,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDg4NzMxMw==","user":{"login":"alexku7","id":42849762,"node_id":"MDQ6VXNlcjQyODQ5NzYy","avatar_url":"https://avatars.githubusercontent.com/u/42849762?v=4","gravatar_id":"","url":"https://api.github.com/users/alexku7","html_url":"https://github.com/alexku7","followers_url":"https://api.github.com/users/alexku7/followers","following_url":"https://api.github.com/users/alexku7/following{/other_user}","gists_url":"https://api.github.com/users/alexku7/gists{/gist_id}","starred_url":"https://api.github.com/users/alexku7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexku7/subscriptions","organizations_url":"https://api.github.com/users/alexku7/orgs","repos_url":"https://api.github.com/users/alexku7/repos","events_url":"https://api.github.com/users/alexku7/events{/privacy}","received_events_url":"https://api.github.com/users/alexku7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T14:15:59Z","updated_at":"2020-09-01T14:15:59Z","author_association":"NONE","body":"@BewareMyPower Hi. I also sometimes slightly different behaviors,\r\nSometimes it was working for a while (10-40 sec) and sometimes was stopping immediately on the third consumer  ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684887313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684892716","html_url":"https://github.com/apache/pulsar/pull/7932#issuecomment-684892716","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7932","id":684892716,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDg5MjcxNg==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T14:23:42Z","updated_at":"2020-09-01T14:23:42Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684892716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684900069","html_url":"https://github.com/apache/pulsar/pull/7948#issuecomment-684900069","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7948","id":684900069,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDkwMDA2OQ==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T14:34:53Z","updated_at":"2020-09-01T14:34:53Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684900069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684991351","html_url":"https://github.com/apache/pulsar/pull/7951#issuecomment-684991351","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7951","id":684991351,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDk5MTM1MQ==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T16:45:25Z","updated_at":"2020-09-01T16:45:25Z","author_association":"CONTRIBUTOR","body":"This change is not intended to make tests pass, only to allow a full clean build.\r\nFixing tests will be a follow up work","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/684991351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685017801","html_url":"https://github.com/apache/pulsar/pull/7951#issuecomment-685017801","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7951","id":685017801,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTAxNzgwMQ==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T17:28:54Z","updated_at":"2020-09-01T17:28:54Z","author_association":"CONTRIBUTOR","body":"rerun failure tests","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685017801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685018924","html_url":"https://github.com/apache/pulsar/pull/7951#issuecomment-685018924","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7951","id":685018924,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTAxODkyNA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T17:30:52Z","updated_at":"2020-09-01T17:30:52Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685018924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685019215","html_url":"https://github.com/apache/pulsar/pull/7951#issuecomment-685019215","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7951","id":685019215,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTAxOTIxNQ==","user":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T17:31:30Z","updated_at":"2020-09-01T17:31:30Z","author_association":"CONTRIBUTOR","body":"thank you @rdhabalia ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685019215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685108612","html_url":"https://github.com/apache/pulsar/issues/6587#issuecomment-685108612","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6587","id":685108612,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTEwODYxMg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T20:18:49Z","updated_at":"2020-09-01T20:18:49Z","author_association":"MEMBER","body":"@davidlanouette sorry that I missed this message!\r\n\r\nThe AoP is available at https://github.com/streamnative/aop. MoP will be also public soon.\r\n\r\n@vzhikserg I agree with you. We can create separate issues for the requested protocol handlers and then close this one.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685108612/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685263016","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-685263016","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":685263016,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTI2MzAxNg==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T03:13:37Z","updated_at":"2020-09-02T03:13:37Z","author_association":"MEMBER","body":"@wolfstudy to take a look at the go-client issue. it looks like a command not handled well in the protocol.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685263016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685264709","html_url":"https://github.com/apache/pulsar/issues/7935#issuecomment-685264709","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7935","id":685264709,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTI2NDcwOQ==","user":{"login":"elgca","id":22080060,"node_id":"MDQ6VXNlcjIyMDgwMDYw","avatar_url":"https://avatars.githubusercontent.com/u/22080060?v=4","gravatar_id":"","url":"https://api.github.com/users/elgca","html_url":"https://github.com/elgca","followers_url":"https://api.github.com/users/elgca/followers","following_url":"https://api.github.com/users/elgca/following{/other_user}","gists_url":"https://api.github.com/users/elgca/gists{/gist_id}","starred_url":"https://api.github.com/users/elgca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elgca/subscriptions","organizations_url":"https://api.github.com/users/elgca/orgs","repos_url":"https://api.github.com/users/elgca/repos","events_url":"https://api.github.com/users/elgca/events{/privacy}","received_events_url":"https://api.github.com/users/elgca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T03:18:04Z","updated_at":"2020-09-02T03:18:04Z","author_association":"NONE","body":"> @elgca Could you give more detailed error log ?\r\n\r\nI just create connector from CLI, can't find error log info in log file. but when I change property `serviceURL=http://pulsar-node1:8080`, It success! Maybe this is the same problem as #6408","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685264709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685415256","html_url":"https://github.com/apache/pulsar/pull/7958#issuecomment-685415256","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7958","id":685415256,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTQxNTI1Ng==","user":{"login":"Jennifer88huang-zz","id":47805623,"node_id":"MDQ6VXNlcjQ3ODA1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/47805623?v=4","gravatar_id":"","url":"https://api.github.com/users/Jennifer88huang-zz","html_url":"https://github.com/Jennifer88huang-zz","followers_url":"https://api.github.com/users/Jennifer88huang-zz/followers","following_url":"https://api.github.com/users/Jennifer88huang-zz/following{/other_user}","gists_url":"https://api.github.com/users/Jennifer88huang-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jennifer88huang-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jennifer88huang-zz/subscriptions","organizations_url":"https://api.github.com/users/Jennifer88huang-zz/orgs","repos_url":"https://api.github.com/users/Jennifer88huang-zz/repos","events_url":"https://api.github.com/users/Jennifer88huang-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Jennifer88huang-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T07:39:47Z","updated_at":"2020-09-02T07:39:47Z","author_association":"CONTRIBUTOR","body":"Check the preview locally, and it works well.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685415256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685454368","html_url":"https://github.com/apache/pulsar/pull/7956#issuecomment-685454368","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7956","id":685454368,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTQ1NDM2OA==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T08:50:37Z","updated_at":"2020-09-02T08:50:37Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685454368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685664703","html_url":"https://github.com/apache/pulsar/pull/7948#issuecomment-685664703","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7948","id":685664703,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTY2NDcwMw==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T11:29:41Z","updated_at":"2020-09-02T11:29:41Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685664703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685675764","html_url":"https://github.com/apache/pulsar/pull/7956#issuecomment-685675764","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7956","id":685675764,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTY3NTc2NA==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T11:42:10Z","updated_at":"2020-09-02T11:42:10Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685675764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685684259","html_url":"https://github.com/apache/pulsar/issues/7960#issuecomment-685684259","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7960","id":685684259,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTY4NDI1OQ==","user":{"login":"cuzyoucant","id":26773084,"node_id":"MDQ6VXNlcjI2NzczMDg0","avatar_url":"https://avatars.githubusercontent.com/u/26773084?v=4","gravatar_id":"","url":"https://api.github.com/users/cuzyoucant","html_url":"https://github.com/cuzyoucant","followers_url":"https://api.github.com/users/cuzyoucant/followers","following_url":"https://api.github.com/users/cuzyoucant/following{/other_user}","gists_url":"https://api.github.com/users/cuzyoucant/gists{/gist_id}","starred_url":"https://api.github.com/users/cuzyoucant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuzyoucant/subscriptions","organizations_url":"https://api.github.com/users/cuzyoucant/orgs","repos_url":"https://api.github.com/users/cuzyoucant/repos","events_url":"https://api.github.com/users/cuzyoucant/events{/privacy}","received_events_url":"https://api.github.com/users/cuzyoucant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T11:59:32Z","updated_at":"2020-09-02T11:59:32Z","author_association":"NONE","body":"After some more debugging we found some additional information about the bug.\r\n\r\nWe got it to run in the standalone after disabling TLS connections in the config. It would be quite the hassle to disable all TLS connections in the kubernetes cluster so i can't say if disabling TLS would get it to work in kubernetes.\r\n\r\nAfter some digging in the sourcecode i found the part where it is checked if TLS is enabled in the config and depending on that, some other code is executed. With some extra exception handling i am pretty sure the uncaught exception is comming from there.\r\n\r\nIn the file ServiceChannelInitializer.java beginning in line 87 to 116.\r\n![image](https://user-images.githubusercontent.com/26773084/91978377-475b6900-ed24-11ea-8d82-96155af63188.png)\r\n\r\nIf TLS is not enabled with the broker, this part is skipped and the proxy works. If it is enabled this part throws and Exception with message \"null\" somewhere which is never caught.\r\n\r\nI hope this helps to identify the problem.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685684259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685713536","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-685713536","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":685713536,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTcxMzUzNg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T12:50:19Z","updated_at":"2020-09-02T12:50:19Z","author_association":"CONTRIBUTOR","body":"@fracasula I have pushed a new docker image to the docker hub https://hub.docker.com/layers/streamnative/pulsar/2.6.1-sn-hotfix-1/images/sha256-6ad564327342355d57fa12ba5a2f35ca84957c9949313524095a58623cfe0834?context=explore\r\n\r\nThis image is based on 2.6.1 and contains https://github.com/streamnative/pulsar/pull/1436. You can upload the broker log file if you reproduce the problem.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685713536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685725712","html_url":"https://github.com/apache/pulsar/pull/7951#issuecomment-685725712","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7951","id":685725712,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTcyNTcxMg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T13:10:46Z","updated_at":"2020-09-02T13:10:46Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685725712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685727396","html_url":"https://github.com/apache/pulsar/pull/7938#issuecomment-685727396","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7938","id":685727396,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTcyNzM5Ng==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T13:13:24Z","updated_at":"2020-09-02T13:13:24Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685727396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685728348","html_url":"https://github.com/apache/pulsar/pull/7950#issuecomment-685728348","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7950","id":685728348,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTcyODM0OA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T13:14:57Z","updated_at":"2020-09-02T13:14:57Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685728348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685729602","html_url":"https://github.com/apache/pulsar/pull/7947#issuecomment-685729602","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7947","id":685729602,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTcyOTYwMg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T13:16:42Z","updated_at":"2020-09-02T13:16:42Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685729602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685731916","html_url":"https://github.com/apache/pulsar/pull/7919#issuecomment-685731916","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7919","id":685731916,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTczMTkxNg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T13:20:15Z","updated_at":"2020-09-02T13:20:15Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685731916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685733600","html_url":"https://github.com/apache/pulsar/pull/7908#issuecomment-685733600","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7908","id":685733600,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTczMzYwMA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T13:23:02Z","updated_at":"2020-09-02T13:23:02Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685733600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685734170","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-685734170","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":685734170,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTczNDE3MA==","user":{"login":"fracasula","id":1288256,"node_id":"MDQ6VXNlcjEyODgyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1288256?v=4","gravatar_id":"","url":"https://api.github.com/users/fracasula","html_url":"https://github.com/fracasula","followers_url":"https://api.github.com/users/fracasula/followers","following_url":"https://api.github.com/users/fracasula/following{/other_user}","gists_url":"https://api.github.com/users/fracasula/gists{/gist_id}","starred_url":"https://api.github.com/users/fracasula/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fracasula/subscriptions","organizations_url":"https://api.github.com/users/fracasula/orgs","repos_url":"https://api.github.com/users/fracasula/repos","events_url":"https://api.github.com/users/fracasula/events{/privacy}","received_events_url":"https://api.github.com/users/fracasula/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T13:24:00Z","updated_at":"2020-09-02T13:24:00Z","author_association":"NONE","body":"@codelipenghui thanks! I'll give it a try :+1: ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685734170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685795777","html_url":"https://github.com/apache/pulsar/issues/7960#issuecomment-685795777","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7960","id":685795777,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTc5NTc3Nw==","user":{"login":"cuzyoucant","id":26773084,"node_id":"MDQ6VXNlcjI2NzczMDg0","avatar_url":"https://avatars.githubusercontent.com/u/26773084?v=4","gravatar_id":"","url":"https://api.github.com/users/cuzyoucant","html_url":"https://github.com/cuzyoucant","followers_url":"https://api.github.com/users/cuzyoucant/followers","following_url":"https://api.github.com/users/cuzyoucant/following{/other_user}","gists_url":"https://api.github.com/users/cuzyoucant/gists{/gist_id}","starred_url":"https://api.github.com/users/cuzyoucant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuzyoucant/subscriptions","organizations_url":"https://api.github.com/users/cuzyoucant/orgs","repos_url":"https://api.github.com/users/cuzyoucant/repos","events_url":"https://api.github.com/users/cuzyoucant/events{/privacy}","received_events_url":"https://api.github.com/users/cuzyoucant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T15:03:05Z","updated_at":"2020-09-02T15:03:05Z","author_association":"NONE","body":"After some even more debugging i narrowed it done even more.\r\n\r\nIn the same file ServiceChannelInitializer.java line 85 to 89 when the AuthenticationFactory builds the Authentication Object with AuthenticationOAuth2.\r\n![image](https://user-images.githubusercontent.com/26773084/91998075-15093600-ed3b-11ea-88b0-419beab66c16.png)\r\n\r\nAfter some testing i noticed that if i provide a dummy Object from AuthenticationDataOAuth2 with an invalid token as parameter the proxy starts up correctly. After the proxy gets its first request it checks the token, notices that it is not valid anymore and gets a new one.\r\n![image](https://user-images.githubusercontent.com/26773084/92000729-2273ef80-ed3e-11ea-936d-21118382e59e.png)\r\n\r\nSo the problem seems to be the Authentication Object from the AuthenticationFactory in line 91/92 returning an empty AuthenticationDataOAuth2 Object when getAuthData() is called on it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685795777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685823123","html_url":"https://github.com/apache/pulsar/issues/7682#issuecomment-685823123","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7682","id":685823123,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTgyMzEyMw==","user":{"login":"fracasula","id":1288256,"node_id":"MDQ6VXNlcjEyODgyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1288256?v=4","gravatar_id":"","url":"https://api.github.com/users/fracasula","html_url":"https://github.com/fracasula","followers_url":"https://api.github.com/users/fracasula/followers","following_url":"https://api.github.com/users/fracasula/following{/other_user}","gists_url":"https://api.github.com/users/fracasula/gists{/gist_id}","starred_url":"https://api.github.com/users/fracasula/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fracasula/subscriptions","organizations_url":"https://api.github.com/users/fracasula/orgs","repos_url":"https://api.github.com/users/fracasula/repos","events_url":"https://api.github.com/users/fracasula/events{/privacy}","received_events_url":"https://api.github.com/users/fracasula/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T15:44:12Z","updated_at":"2020-09-02T15:44:12Z","author_association":"NONE","body":"@codelipenghui I replaced `apachepulsar/pulsar:2.6.1` with `streamnative/pulsar:2.6.1-sn-hotfix-1` in my Kubernetes configuration but now I have the pods failing on startup with this error:\r\n\r\n`/usr/bin/env: ‘python’: No such file or directory`\r\n\r\nHere's an excerpt of my configuration from the Pulsar broker deployment:\r\n\r\n```\r\ncontainers:\r\n- args:\r\n  - |\r\n    bin/apply-config-from-env.py conf/broker.conf && bin/apply-config-from-env.py conf/pulsar_env.sh && bin/apply-config-from-env.py conf/client.conf && bin/gen-yml-from-env.py conf/functions_worker.yml && exec bin/pulsar broker\r\n  command:\r\n  - sh\r\n  - -c\r\n  env:\r\n  - name: advertisedAddress\r\n    valueFrom:\r\n      fieldRef:\r\n        apiVersion: v1\r\n        fieldPath: status.podIP\r\n  envFrom:\r\n  - configMapRef:\r\n      name: pulsar-broker\r\n  image: streamnative/pulsar:2.6.1-sn-hotfix-1\r\n  imagePullPolicy: IfNotPresent\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685823123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685904145","html_url":"https://github.com/apache/pulsar/issues/7952#issuecomment-685904145","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7952","id":685904145,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTkwNDE0NQ==","user":{"login":"cuzyoucant","id":26773084,"node_id":"MDQ6VXNlcjI2NzczMDg0","avatar_url":"https://avatars.githubusercontent.com/u/26773084?v=4","gravatar_id":"","url":"https://api.github.com/users/cuzyoucant","html_url":"https://github.com/cuzyoucant","followers_url":"https://api.github.com/users/cuzyoucant/followers","following_url":"https://api.github.com/users/cuzyoucant/following{/other_user}","gists_url":"https://api.github.com/users/cuzyoucant/gists{/gist_id}","starred_url":"https://api.github.com/users/cuzyoucant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuzyoucant/subscriptions","organizations_url":"https://api.github.com/users/cuzyoucant/orgs","repos_url":"https://api.github.com/users/cuzyoucant/repos","events_url":"https://api.github.com/users/cuzyoucant/events{/privacy}","received_events_url":"https://api.github.com/users/cuzyoucant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T18:03:38Z","updated_at":"2020-09-02T18:03:38Z","author_association":"NONE","body":"Hey.\r\n\r\nWe ran into the same problem as you described above. The better solution would be to have a config somewhere where we can set what gets appended to the issuerURL.\r\n\r\nI implemented a small ghetto fix for myself and build pulsar from source until this gets officially implemented.\r\nIf this is something you want to do, here is what you need to change:\r\n\r\nTo \"fix\" your problem you need to change the line 100 in the DefaultMetadataResolver.java\r\nfrom this: `return new URL(issuerUrl, \"/.well-known/openid-configuration\");`\r\nto this: `return new URL(issuerUrl.toString() + \"/.well-known/openid-configuration\");`\r\n\r\nNow the URL gets appended correctly and it works as expected.\r\n\r\nTo also get the client(producer/consumer) to work you need to change the following since they also do not work with keycloak URLs:\r\n1. In the file /pulsar-client-cpp/lib/auth/AuthOauth2.cc in line 187 comment out the line.\r\n`issuerUrl_.append(\"/oauth/token\");`\r\n\r\n2. Now you need to specify the full token endpoint from keycloak as the issuer_url in your client.\r\nexample: `https://example.com/auth/realms/myrealm/protocol/openid-connect/token`\r\n\r\nThe reason you need to do that is that after the first token expires, it tries to get a new one with the settings from the /.well-known configuration and it appends /oauth/token again to the tokenURL which obviously doesnt work.\r\n\r\nI know its kind of a bad fix for now but i am to inexperienced to add a complete feature myself. We just want it to work for now and we will not be using it for production anytime soon. Just want to test features and infrastructure stuff and for that it works fine.\r\n\r\nHope it helps!\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685904145/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685947635","html_url":"https://github.com/apache/pulsar/issues/7952#issuecomment-685947635","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7952","id":685947635,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk0NzYzNQ==","user":{"login":"harissecic","id":4550432,"node_id":"MDQ6VXNlcjQ1NTA0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/4550432?v=4","gravatar_id":"","url":"https://api.github.com/users/harissecic","html_url":"https://github.com/harissecic","followers_url":"https://api.github.com/users/harissecic/followers","following_url":"https://api.github.com/users/harissecic/following{/other_user}","gists_url":"https://api.github.com/users/harissecic/gists{/gist_id}","starred_url":"https://api.github.com/users/harissecic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harissecic/subscriptions","organizations_url":"https://api.github.com/users/harissecic/orgs","repos_url":"https://api.github.com/users/harissecic/repos","events_url":"https://api.github.com/users/harissecic/events{/privacy}","received_events_url":"https://api.github.com/users/harissecic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T19:24:34Z","updated_at":"2020-09-02T19:24:34Z","author_association":"NONE","body":"@cuzyoucant Thank you for detailed description. I'll consider it. However I'm currently using JWT until this gets fixed and I'm trying to make integration with a certain framework which is better to put off than to test with custom code. First case for my client might benefit from building Pulsar from code. Thanks again.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685947635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685958856","html_url":"https://github.com/apache/pulsar/issues/7372#issuecomment-685958856","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7372","id":685958856,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk1ODg1Ng==","user":{"login":"ErikJansenIRefact","id":31562698,"node_id":"MDQ6VXNlcjMxNTYyNjk4","avatar_url":"https://avatars.githubusercontent.com/u/31562698?v=4","gravatar_id":"","url":"https://api.github.com/users/ErikJansenIRefact","html_url":"https://github.com/ErikJansenIRefact","followers_url":"https://api.github.com/users/ErikJansenIRefact/followers","following_url":"https://api.github.com/users/ErikJansenIRefact/following{/other_user}","gists_url":"https://api.github.com/users/ErikJansenIRefact/gists{/gist_id}","starred_url":"https://api.github.com/users/ErikJansenIRefact/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErikJansenIRefact/subscriptions","organizations_url":"https://api.github.com/users/ErikJansenIRefact/orgs","repos_url":"https://api.github.com/users/ErikJansenIRefact/repos","events_url":"https://api.github.com/users/ErikJansenIRefact/events{/privacy}","received_events_url":"https://api.github.com/users/ErikJansenIRefact/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T19:48:03Z","updated_at":"2020-09-02T19:48:03Z","author_association":"NONE","body":"Does make sense. But should be documented more clearly that this is the expected behaviour.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/685958856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686192400","html_url":"https://github.com/apache/pulsar/pull/7936#issuecomment-686192400","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7936","id":686192400,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjE5MjQwMA==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T02:19:34Z","updated_at":"2020-09-03T02:19:34Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686192400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686233109","html_url":"https://github.com/apache/pulsar/pull/7938#issuecomment-686233109","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7938","id":686233109,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjIzMzEwOQ==","user":{"login":"315157973","id":9758905,"node_id":"MDQ6VXNlcjk3NTg5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9758905?v=4","gravatar_id":"","url":"https://api.github.com/users/315157973","html_url":"https://github.com/315157973","followers_url":"https://api.github.com/users/315157973/followers","following_url":"https://api.github.com/users/315157973/following{/other_user}","gists_url":"https://api.github.com/users/315157973/gists{/gist_id}","starred_url":"https://api.github.com/users/315157973/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/315157973/subscriptions","organizations_url":"https://api.github.com/users/315157973/orgs","repos_url":"https://api.github.com/users/315157973/repos","events_url":"https://api.github.com/users/315157973/events{/privacy}","received_events_url":"https://api.github.com/users/315157973/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T03:44:33Z","updated_at":"2020-09-03T03:44:33Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686233109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686233676","html_url":"https://github.com/apache/pulsar/pull/7940#issuecomment-686233676","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7940","id":686233676,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjIzMzY3Ng==","user":{"login":"315157973","id":9758905,"node_id":"MDQ6VXNlcjk3NTg5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/9758905?v=4","gravatar_id":"","url":"https://api.github.com/users/315157973","html_url":"https://github.com/315157973","followers_url":"https://api.github.com/users/315157973/followers","following_url":"https://api.github.com/users/315157973/following{/other_user}","gists_url":"https://api.github.com/users/315157973/gists{/gist_id}","starred_url":"https://api.github.com/users/315157973/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/315157973/subscriptions","organizations_url":"https://api.github.com/users/315157973/orgs","repos_url":"https://api.github.com/users/315157973/repos","events_url":"https://api.github.com/users/315157973/events{/privacy}","received_events_url":"https://api.github.com/users/315157973/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T03:46:37Z","updated_at":"2020-09-03T03:46:37Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686233676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686269458","html_url":"https://github.com/apache/pulsar/issues/7960#issuecomment-686269458","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7960","id":686269458,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjI2OTQ1OA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T05:49:53Z","updated_at":"2020-09-03T05:49:53Z","author_association":"MEMBER","body":"@jiazhai Can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686269458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686271862","html_url":"https://github.com/apache/pulsar/issues/7952#issuecomment-686271862","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7952","id":686271862,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjI3MTg2Mg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T05:57:00Z","updated_at":"2020-09-03T05:57:00Z","author_association":"MEMBER","body":"@jiazhai Can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686271862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686272487","html_url":"https://github.com/apache/pulsar/issues/7859#issuecomment-686272487","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7859","id":686272487,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjI3MjQ4Nw==","user":{"login":"lhotari","id":66864,"node_id":"MDQ6VXNlcjY2ODY0","avatar_url":"https://avatars.githubusercontent.com/u/66864?v=4","gravatar_id":"","url":"https://api.github.com/users/lhotari","html_url":"https://github.com/lhotari","followers_url":"https://api.github.com/users/lhotari/followers","following_url":"https://api.github.com/users/lhotari/following{/other_user}","gists_url":"https://api.github.com/users/lhotari/gists{/gist_id}","starred_url":"https://api.github.com/users/lhotari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lhotari/subscriptions","organizations_url":"https://api.github.com/users/lhotari/orgs","repos_url":"https://api.github.com/users/lhotari/repos","events_url":"https://api.github.com/users/lhotari/events{/privacy}","received_events_url":"https://api.github.com/users/lhotari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T05:58:45Z","updated_at":"2020-09-03T05:58:45Z","author_association":"MEMBER","body":"> Java 8 and Docker doesn't work that well together. Some things got backported to Java 8 but only Java 10+ supports Memory and CPU limits inside Docker Containers correctly.\r\n\r\nThis has changed in the last 2 years. The Java 8 version used in Pulsar images already supports container memory & cpu limits. [This blog post explains it](https://blog.softwaremill.com/docker-support-in-new-java-8-finally-fd595df0ca54).\r\n\r\nOne way to verify that it's supported is to run this docker command:\r\n```\r\ndocker run --memory 100m --cpus 1 --rm --entrypoint '/bin/bash' apachepulsar/pulsar:2.6.1 -c 'java -XX:+UnlockDiagnosticVMOptions -XX:+PrintContainerInfo -version'\r\n```\r\nit will printout diagnostics about the limits that the JVM detects:\r\n```\r\nOSContainer::init: Initializing Container Support\r\nPath to /memory.limit_in_bytes is /sys/fs/cgroup/memory/memory.limit_in_bytes\r\nMemory Limit is: 104857600\r\nPath to /cpu.cfs_quota_us is /sys/fs/cgroup/cpu,cpuacct/cpu.cfs_quota_us\r\nCPU Quota is: 100000\r\nPath to /cpu.cfs_period_us is /sys/fs/cgroup/cpu,cpuacct/cpu.cfs_period_us\r\nCPU Period is: 100000\r\nPath to /cpu.shares is /sys/fs/cgroup/cpu,cpuacct/cpu.shares\r\nCPU Shares is: 1024\r\nCPU Quota count based on quota/period: 1\r\nOSContainer::active_processor_count: 1\r\n```\r\n\r\nIt's already possible to use the JVM container support in Pulsar containers by specifying `PULSAR_MEM=\"-XX:InitialRAMPercentage=50.0 -XX:MaxRAMPercentage=50.0 -XX:MinRAMPercentage=50.0\"`. \r\n\r\nFor example:\r\n```\r\ndocker run --name pulsar-standalone --memory 512m --cpus 1 -e PULSAR_MEM=\"-XX:InitialRAMPercentage=50.0 -XX:MaxRAMPercentage=50.0 -XX:MinRAMPercentage=50.0\" -e PULSAR_GC=\"-XX:+UseG1GC\" apachepulsar/pulsar:2.6.1 bin/pulsar standalone\r\n```\r\n\r\nVerifying in another terminal after startup:\r\n```\r\n$ docker exec pulsar-standalone jcmd 1 GC.heap_info \r\n1:\r\n garbage-first heap   total 262144K, used 146496K [0x00000000f0000000, 0x00000000f0100800, 0x0000000100000000)\r\n  region size 1024K, 75 young (76800K), 7 survivors (7168K)\r\n Metaspace       used 78433K, capacity 82292K, committed 82460K, reserved 1122304K\r\n  class space    used 9461K, capacity 10287K, committed 10316K, reserved 1048576K\r\n```\r\nHeap size is 256MB, which is expected. Since Pulsar uses also native memory, it's probably not worth increasing the heap limit too much over 50% so that the container doesn't get killed. The [default MaxDirectMemorySize is the maximum heap size](https://stackoverflow.com/a/54447744). The [total memory consumption of a Java process is explained here](https://stackoverflow.com/a/53624438).\r\nIt's also worth noticing that PULSAR_GC should be set for docker containers so that the not-so-good defaults don't get used. [There's a PR already for addressing this issue](https://github.com/apache/pulsar/pull/3650). One issue with the defaults is that there's a huge number of GC threads configured.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/686272487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]