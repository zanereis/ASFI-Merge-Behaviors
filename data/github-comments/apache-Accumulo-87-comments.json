[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128732661","html_url":"https://github.com/apache/accumulo/pull/2710#issuecomment-1128732661","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2710","id":1128732661,"node_id":"IC_kwDOACaFSM5DRxf1","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T11:05:49Z","updated_at":"2022-05-17T11:05:49Z","author_association":"CONTRIBUTOR","body":"Kicked off a full build with tests","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128732661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128733577","html_url":"https://github.com/apache/accumulo/pull/2709#issuecomment-1128733577","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2709","id":1128733577,"node_id":"IC_kwDOACaFSM5DRxuJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T11:06:53Z","updated_at":"2022-05-17T11:06:53Z","author_association":"CONTRIBUTOR","body":"Closing due to @ctubbsii comment","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128733577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128767813","html_url":"https://github.com/apache/accumulo/pull/2711#issuecomment-1128767813","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2711","id":1128767813,"node_id":"IC_kwDOACaFSM5DR6FF","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T11:45:11Z","updated_at":"2022-05-17T11:45:11Z","author_association":"CONTRIBUTOR","body":"FYI It looks like you can specify an option when running `jslint`:\r\n`npx jslint --indent 2 <file>`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128767813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128768772","html_url":"https://github.com/apache/accumulo/pull/2711#issuecomment-1128768772","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2711","id":1128768772,"node_id":"IC_kwDOACaFSM5DR6UE","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T11:46:19Z","updated_at":"2022-05-17T11:46:19Z","author_association":"CONTRIBUTOR","body":"It would be nice if we had something to run once to fix all the indentation on the JS. I will look to see if I can find anything.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128768772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128778421","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1128778421","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1128778421,"node_id":"IC_kwDOACaFSM5DR8q1","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T11:57:57Z","updated_at":"2022-05-17T11:57:57Z","author_association":"CONTRIBUTOR","body":"Thanks @kitswas. Whenever you are ready, please click the \"Ready for review\" button to convert your PR from draft status.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128778421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128904394","html_url":"https://github.com/apache/accumulo/pull/2711#issuecomment-1128904394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2711","id":1128904394,"node_id":"IC_kwDOACaFSM5DSbbK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T13:56:22Z","updated_at":"2022-05-17T13:56:22Z","author_association":"MEMBER","body":"> It would be nice if we had something to run once to fix all the indentation on the JS. I will look to see if I can find anything.\r\n\r\nCould put a script in contrib/ to do it. Or, make it run with an optional profile during the build and using exec-maven-plugin, if you have a command to do it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128904394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128959546","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1128959546","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1128959546,"node_id":"IC_kwDOACaFSM5DSo46","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T14:42:31Z","updated_at":"2022-05-17T14:42:31Z","author_association":"CONTRIBUTOR","body":"> I'm still uncertain that caching recently received passwords is a great idea... but implementation seems fine.\r\n\r\nI thought about it too, from a security perspective. I became ok with it when I thought about the fact that they were likely already in memory anyway, at least until all of the unreferenced objects from the authenticateUser call were garbage collected. Not to mention user credentials are also stored in all Session objects.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128959546/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128998294","html_url":"https://github.com/apache/accumulo/pull/2710#issuecomment-1128998294","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2710","id":1128998294,"node_id":"IC_kwDOACaFSM5DSyWW","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T15:15:36Z","updated_at":"2022-05-17T15:15:36Z","author_association":"CONTRIBUTOR","body":"Full build with ITs completed successfully.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1128998294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129074344","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1129074344","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1129074344,"node_id":"IC_kwDOACaFSM5DTE6o","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T16:25:52Z","updated_at":"2022-05-17T16:34:06Z","author_association":"CONTRIBUTOR","body":"The method `AccumuloConfiguration.resolve()`\r\nhttps://github.com/apache/accumulo/blob/e52df66b944e3e15098fa3ff65ff9f05aad6afc2/core/src/main/java/org/apache/accumulo/core/conf/AccumuloConfiguration.java#L99\r\ncalls the method `isPropertySet()`\r\nhttps://github.com/apache/accumulo/blob/e52df66b944e3e15098fa3ff65ff9f05aad6afc2/core/src/main/java/org/apache/accumulo/core/conf/AccumuloConfiguration.java#L410\r\nwhich has _7 overrides_.\r\n\r\n![Image showing base implementation](https://user-images.githubusercontent.com/90329875/168861465-60ceb74d-26a4-4f6b-acf9-716f68f80649.png)\r\n\r\nUsing the `.resolve()` of our argument `conf` throws an `UnsupportedOperationException`.\r\n\nHow should I proceed?  \nShould I simply generalize the catch clause to `Exception`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129074344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129321552","html_url":"https://github.com/apache/accumulo/pull/2715#issuecomment-1129321552","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2715","id":1129321552,"node_id":"IC_kwDOACaFSM5DUBRQ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T21:11:33Z","updated_at":"2022-05-17T21:11:33Z","author_association":"MEMBER","body":"I merged this into the main branch with `-sours` at cdc957f222849a110d395addcfb0303109257096","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129321552/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129458437","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1129458437","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1129458437,"node_id":"IC_kwDOACaFSM5DUisF","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T00:57:54Z","updated_at":"2022-05-18T00:57:54Z","author_association":"MEMBER","body":"> The method `AccumuloConfiguration.resolve()`\r\n> \r\n> https://github.com/apache/accumulo/blob/e52df66b944e3e15098fa3ff65ff9f05aad6afc2/core/src/main/java/org/apache/accumulo/core/conf/AccumuloConfiguration.java#L99\r\n> \r\n> \r\n> calls the method `isPropertySet()`\r\n> https://github.com/apache/accumulo/blob/e52df66b944e3e15098fa3ff65ff9f05aad6afc2/core/src/main/java/org/apache/accumulo/core/conf/AccumuloConfiguration.java#L410\r\n> \r\n> \r\n> which has _7 overrides_.\r\n> ![Image showing base implementation](https://user-images.githubusercontent.com/90329875/168861465-60ceb74d-26a4-4f6b-acf9-716f68f80649.png)\r\n> \r\n> Using the `.resolve()` of our argument `conf` throws an `UnsupportedOperationException`.\r\n> \r\n> How should I proceed? Should I simply generalize the catch clause to `Exception`?\r\n\r\nI'm not sure what the problem is. It won't be called on the base class... it will call isPropertySet() on one of the implementing classes that implement it. You don't need to catch either NullPointerException or UnsupportedOperationException.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129458437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129467314","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1129467314","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1129467314,"node_id":"IC_kwDOACaFSM5DUk2y","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T01:14:58Z","updated_at":"2022-05-18T01:14:58Z","author_association":"MEMBER","body":"There's probably a bit of a difference between not yet garbage collected objects and a well-known data structure containing them in a central place for a period of time. I haven't looked into them being stored in the Session you're referring to, so I don't have an opinion about that. It's just that the relatively casual approach to hanging onto credentials here for performance seems to contrast with the aggressive approach to clearing security-related fields that you proposed in #2616, and I'm not sure how to reconcile the two approaches with a single coherent \"security\" principle.\r\n\r\nOverall, I'm more fine than not with these changes... just not `+1` enthusiastic about it. I'm only comfortable enough to give it a `+0` from me.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129467314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129494731","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1129494731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1129494731,"node_id":"IC_kwDOACaFSM5DUrjL","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T02:12:53Z","updated_at":"2022-05-18T02:22:01Z","author_association":"CONTRIBUTOR","body":"> I'm not sure what the problem is. It won't be called on the base class... it will call isPropertySet() on one of the implementing classes that implement it. You don't need to catch either NullPointerException or UnsupportedOperationException.\r\n\r\nThe stack traces are available at https://github.com/kitswas/accumulo/actions/runs/2339804194 and https://github.com/kitswas/accumulo/actions/runs/2339356515.\r\n\r\nNullPointerException\r\n--------------------\r\n\r\n[mvn (jdk17, 17, verify -DskipITs)](https://github.com/kitswas/accumulo/runs/6473547235?check_suite_focus=true#logs)\r\n\r\n```java\r\njava.lang.NullPointerException: Cannot invoke \"org.apache.accumulo.core.conf.Property.ordinal()\" because \"p\" is null\r\n\tat org.apache.accumulo.core.util.threads.ThreadPools.createExecutorService(ThreadPools.java:265)\r\n\tat org.apache.accumulo.core.util.threads.ThreadPools.createGeneralScheduledExecutorService(ThreadPools.java:522)\r\n\tat org.apache.accumulo.coordinator.CompactionCoordinator.<init>(CompactionCoordinator.java:140)\r\n\tat org.apache.accumulo.coordinator.CompactionCoordinatorTest$TestCoordinator.<init>(CompactionCoordinatorTest.java:93)\r\n\tat org.apache.accumulo.coordinator.CompactionCoordinatorTest.testCoordinatorColdStartNoCompactions(CompactionCoordinatorTest.java:216)\r\n```\r\n\r\n[mvn (unit-tests, 11, verify -PskipQA -DskipTests=false)](https://github.com/kitswas/accumulo/runs/6473546708?check_suite_focus=true#logs)\r\n\r\n```java\r\njava.lang.NullPointerException\r\n\tat org.apache.accumulo.core.util.threads.ThreadPools.createExecutorService(ThreadPools.java:265)\r\n\tat org.apache.accumulo.core.util.threads.ThreadPools.createGeneralScheduledExecutorService(ThreadPools.java:522)\r\n\tat org.apache.accumulo.coordinator.CompactionCoordinator.<init>(CompactionCoordinator.java:140)\r\n\tat org.apache.accumulo.coordinator.CompactionCoordinatorTest$TestCoordinator.<init>(CompactionCoordinatorTest.java:93)\r\n\tat org.apache.accumulo.coordinator.CompactionCoordinatorTest.testCoordinatorColdStartNoCompactions(CompactionCoordinatorTest.java:216)\r\n```\r\n\r\nUnsupportedOperationException\r\n-----------------------------\r\n\r\n[mvn (jdk17, 17, verify -DskipITs)](https://github.com/kitswas/accumulo/runs/6474152514?check_suite_focus=true#logs)\r\n\r\n```java\r\njava.lang.UnsupportedOperationException\r\n\tat org.apache.accumulo.core.conf.AccumuloConfiguration.isPropertySet(AccumuloConfiguration.java:411)\r\n\tat org.apache.accumulo.core.conf.AccumuloConfiguration.resolve(AccumuloConfiguration.java:100)\r\n\tat org.apache.accumulo.core.util.threads.ThreadPools.createGeneralScheduledExecutorService(ThreadPools.java:523)\r\n\tat org.apache.accumulo.core.clientImpl.TabletServerBatchWriter.<init>(TabletServerBatchWriter.java:207)\r\n\tat org.apache.accumulo.core.clientImpl.BatchWriterImpl.<init>(BatchWriterImpl.java:40)\r\n\tat org.apache.accumulo.core.clientImpl.ClientContext.createBatchWriter(ClientContext.java:657)\r\n\tat org.apache.accumulo.core.clientImpl.ConnectorImpl.createBatchWriter(ConnectorImpl.java:154)\r\n\tat org.apache.accumulo.minicluster.MiniAccumuloClusterTest.testPerTableClasspath(MiniAccumuloClusterTest.java:213)\r\n```\r\n\r\n[mvn (unit-tests, 11, verify -PskipQA -DskipTests=false)](https://github.com/kitswas/accumulo/runs/6474151985?check_suite_focus=true#logs)\r\n\r\n```java\r\njava.lang.UnsupportedOperationException\r\n\tat org.apache.accumulo.core.conf.AccumuloConfiguration.isPropertySet(AccumuloConfiguration.java:411)\r\n\tat org.apache.accumulo.core.conf.AccumuloConfiguration.resolve(AccumuloConfiguration.java:100)\r\n\tat org.apache.accumulo.core.util.threads.ThreadPools.createGeneralScheduledExecutorService(ThreadPools.java:523)\r\n\tat org.apache.accumulo.core.clientImpl.TabletServerBatchWriter.<init>(TabletServerBatchWriter.java:207)\r\n\tat org.apache.accumulo.core.clientImpl.BatchWriterImpl.<init>(BatchWriterImpl.java:40)\r\n\tat org.apache.accumulo.core.clientImpl.ClientContext.createBatchWriter(ClientContext.java:657)\r\n\tat org.apache.accumulo.core.clientImpl.ConnectorImpl.createBatchWriter(ConnectorImpl.java:154)\r\n\tat org.apache.accumulo.minicluster.MiniAccumuloClusterTest.testPerTableClasspath(MiniAccumuloClusterTest.java:213)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129494731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129859495","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1129859495","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1129859495,"node_id":"IC_kwDOACaFSM5DWEmn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T10:50:15Z","updated_at":"2022-05-18T10:50:15Z","author_association":"CONTRIBUTOR","body":"> It's just that the relatively casual approach to hanging onto credentials here for performance seems to contrast with the aggressive approach to clearing security-related fields that you proposed in https://github.com/apache/accumulo/pull/2616, and I'm not sure how to reconcile the two approaches with a single coherent \"security\" principle.\r\n\r\n#2616 is about the encryption keys, but your point is fair. If @keith-turner's solution to the locking problem in #2700 is enough to solve the problem in the ScanServer and this is not needed, then I think we should not merge it. If this does help, I don't see it as any worse than storing the credentials in the likely longer-lived Session objects.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129859495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129878069","html_url":"https://github.com/apache/accumulo/pull/2688#issuecomment-1129878069","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2688","id":1129878069,"node_id":"IC_kwDOACaFSM5DWJI1","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T11:12:32Z","updated_at":"2022-05-18T11:12:32Z","author_association":"CONTRIBUTOR","body":"All ITs are passing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129878069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129884723","html_url":"https://github.com/apache/accumulo/pull/2688#issuecomment-1129884723","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2688","id":1129884723,"node_id":"IC_kwDOACaFSM5DWKwz","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T11:20:06Z","updated_at":"2022-05-18T11:20:06Z","author_association":"CONTRIBUTOR","body":"I think this PR is good to go now. I created a `validate()` method and put it in `StoredTabletFile`. It was causing problems being called down in the GC so it is not called anywhere. I am hoping can be used _somewhere_. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129884723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129892847","html_url":"https://github.com/apache/accumulo/pull/2716#issuecomment-1129892847","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2716","id":1129892847,"node_id":"IC_kwDOACaFSM5DWMvv","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T11:29:14Z","updated_at":"2022-05-18T11:29:14Z","author_association":"MEMBER","body":"Nice Mike.  I am going to look at this later in the week, probably Fri.  Couple of questions\r\n1. What is impetus for this change?\r\n2. One of the requests for my bug fix in GC 1.10 was doing the change in 2.1 before backporting.  I think the concern was ensuring design would not change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129892847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129921413","html_url":"https://github.com/apache/accumulo/pull/2716#issuecomment-1129921413","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2716","id":1129921413,"node_id":"IC_kwDOACaFSM5DWTuF","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T12:02:33Z","updated_at":"2022-05-18T12:02:33Z","author_association":"CONTRIBUTOR","body":"> 1. What is impetus for this change?\r\n\r\nI have been looking at cleaning up the GC in 2.1. This was part of that work. Related to https://github.com/apache/accumulo/pull/2688\r\n\r\n> 2. One of the requests for my bug fix in GC 1.10 was doing the change in 2.1 before backporting.  I think the concern was ensuring design would not change.\r\n\r\nI was hoping these changes would help with that. My goal was to clean up the GC as much as we can in 2.1. Are you working on changes in 2.1?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1129921413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1130028486","html_url":"https://github.com/apache/accumulo/pull/2711#issuecomment-1130028486","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2711","id":1130028486,"node_id":"IC_kwDOACaFSM5DWt3G","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T13:36:48Z","updated_at":"2022-05-18T13:36:48Z","author_association":"MEMBER","body":"> Can this be configured to use 2 space indent? 4 spaces is just excessive.\r\n\r\nAddressed in [0f5ffed](https://github.com/apache/accumulo/pull/2711/commits/0f5ffed7987e396c999465b8cce0912615652d8f)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1130028486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1130564011","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1130564011","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1130564011,"node_id":"IC_kwDOACaFSM5DYwmr","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T21:21:27Z","updated_at":"2022-05-18T21:21:27Z","author_association":"MEMBER","body":"Okay, it looks like those indicate the problem is likely with using an AccumuloConfiguration object for testing that doesn't override the method. That should never happen in runtime. It seems the tests need to be fixed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1130564011/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1130599393","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1130599393","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1130599393,"node_id":"IC_kwDOACaFSM5DY5Ph","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T22:05:08Z","updated_at":"2022-05-18T22:05:08Z","author_association":"CONTRIBUTOR","body":"I circled back and did my test and these changes resulted in a really significant improvement.  I was running [this bit of code](https://github.com/keith-turner/accumulo-testing/blob/scan-server-testing/src/main/java/org/apache/accumulo/testing/continuous/ContinuousQuery.java) that I created to do random queries against CI data.  I ran the code with parameters such that it would do small random queries in a single tablet using 500 threads.  Below are the results which show the average times and entries returned for every 1000 scans done.  With these changes and 500 concurrent queries the average time is 400ms and the max times are around 1000ms (ignoring the first few lines because JIT probably has not kicked in scan servers).  Without these changes the average times are around 1600ms to 1700ms and the max times 15,000ms to 20,000ms.   \r\n\r\n```\r\nWith 2 scan server lock contention fixes, with the sha512 cache :\r\n\r\nhadoop@manager:/opt/accumulo-testing/sources/accumulo-testing-repo$ ./bin/cingest query 733333333333333e 79999999999999a5 16 500 2>&1 | grep STAT\r\n2022-05-18T21:41:01,226 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:7263 avgTime:1717.988 minResults:0 maxResults:98 avgResults:22.314\r\n2022-05-18T21:41:02,333 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:8380 avgTime:871.568 minResults:0 maxResults:98 avgResults:23.173\r\n2022-05-18T21:41:03,221 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:9268 avgTime:1399.021 minResults:0 maxResults:97 avgResults:23.728\r\n2022-05-18T21:41:04,003 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:25 maxTime:9967 avgTime:620.181 minResults:0 maxResults:94 avgResults:22.873\r\n2022-05-18T21:41:04,736 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:33 maxTime:10187 avgTime:480.048 minResults:0 maxResults:101 avgResults:22.382\r\n2022-05-18T21:41:05,482 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:38 maxTime:10965 avgTime:533.736 minResults:0 maxResults:106 avgResults:22.628\r\n2022-05-18T21:41:06,250 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:30 maxTime:11534 avgTime:374.372 minResults:0 maxResults:94 avgResults:22.656\r\n2022-05-18T21:41:07,038 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:18 maxTime:999 avgTime:402.28 minResults:0 maxResults:94 avgResults:23.957\r\n2022-05-18T21:41:07,857 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:22 maxTime:962 avgTime:381.623 minResults:0 maxResults:95 avgResults:22.933\r\n2022-05-18T21:41:08,688 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:15 maxTime:951 avgTime:420.283 minResults:0 maxResults:93 avgResults:21.669\r\n2022-05-18T21:41:09,494 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:25 maxTime:1133 avgTime:417.134 minResults:0 maxResults:91 avgResults:22.704\r\n2022-05-18T21:41:10,262 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:18 maxTime:998 avgTime:379.985 minResults:0 maxResults:103 avgResults:22.826\r\n2022-05-18T21:41:11,063 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:15 maxTime:1174 avgTime:391.562 minResults:0 maxResults:98 avgResults:22.415\r\n2022-05-18T21:41:11,861 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:21 maxTime:1005 avgTime:405.976 minResults:0 maxResults:91 avgResults:21.523\r\n2022-05-18T21:41:12,669 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:34 maxTime:1061 avgTime:403.049 minResults:0 maxResults:105 avgResults:22.965\r\n2022-05-18T21:41:13,430 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:17 maxTime:1077 avgTime:377.985 minResults:0 maxResults:98 avgResults:22.559\r\n2022-05-18T21:41:14,223 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:21 maxTime:1003 avgTime:392.969 minResults:0 maxResults:112 avgResults:22.2\r\n2022-05-18T21:41:14,986 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:18 maxTime:923 avgTime:383.816 minResults:0 maxResults:93 avgResults:22.59\r\n2022-05-18T21:41:15,759 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:15 maxTime:970 avgTime:385.021 minResults:0 maxResults:97 avgResults:21.352\r\n2022-05-18T21:41:16,562 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:11 maxTime:1098 avgTime:401.247 minResults:0 maxResults:104 avgResults:23.041\r\n2022-05-18T21:41:17,336 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:11 maxTime:1074 avgTime:387.938 minResults:0 maxResults:105 avgResults:23.56\r\n2022-05-18T21:41:18,131 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:19 maxTime:1522 avgTime:400.732 minResults:0 maxResults:104 avgResults:23.852\r\n2022-05-18T21:41:18,890 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:24 maxTime:1347 avgTime:377.983 minResults:0 maxResults:90 avgResults:22.291\r\n2022-05-18T21:41:19,669 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:16 maxTime:2075 avgTime:379.598 minResults:0 maxResults:97 avgResults:24.757\r\n\r\n\r\nWith 2 scan server lock contention fixes, Without the sha512 cache :\r\n\r\nhadoop@manager:/opt/accumulo-testing/sources/accumulo-testing-repo$ ./bin/cingest query 733333333333333e 79999999999999a5 16 500 2>&1 | grep STAT\r\n2022-05-18T21:13:07,128 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:9294 avgTime:2934.887 minResults:0 maxResults:95 avgResults:21.559\r\n2022-05-18T21:13:11,032 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:12401 avgTime:2558.46 minResults:0 maxResults:95 avgResults:22.671\r\n2022-05-18T21:13:14,814 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:15932 avgTime:1787.61 minResults:0 maxResults:106 avgResults:22.142\r\n2022-05-18T21:13:18,361 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:19075 avgTime:1757.055 minResults:0 maxResults:95 avgResults:22.1\r\n2022-05-18T21:13:21,627 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:14242 avgTime:1787.193 minResults:0 maxResults:108 avgResults:23.424\r\n2022-05-18T21:13:24,935 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:15593 avgTime:1668.114 minResults:0 maxResults:92 avgResults:22.891\r\n2022-05-18T21:13:28,543 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:14493 avgTime:1664.027 minResults:0 maxResults:94 avgResults:24.173\r\n2022-05-18T21:13:31,744 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:3 maxTime:14075 avgTime:1452.26 minResults:0 maxResults:93 avgResults:22.112\r\n2022-05-18T21:13:35,330 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:15807 avgTime:1659.093 minResults:0 maxResults:103 avgResults:23.123\r\n2022-05-18T21:13:38,536 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:19485 avgTime:1626.846 minResults:0 maxResults:103 avgResults:22.99\r\n2022-05-18T21:13:42,135 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:21982 avgTime:1709.725 minResults:0 maxResults:103 avgResults:22.758\r\n2022-05-18T21:13:45,235 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:17912 avgTime:1797.937 minResults:0 maxResults:91 avgResults:23.651\r\n2022-05-18T21:13:48,547 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:16882 avgTime:1488.331 minResults:0 maxResults:104 avgResults:23.036\r\n2022-05-18T21:13:51,931 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:12888 avgTime:1337.462 minResults:0 maxResults:107 avgResults:23.906\r\n2022-05-18T21:13:55,143 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:20292 avgTime:1833.693 minResults:0 maxResults:100 avgResults:22.504\r\n2022-05-18T21:13:58,369 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:18291 avgTime:1550.546 minResults:0 maxResults:100 avgResults:23.073\r\n2022-05-18T21:14:01,646 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:19390 avgTime:1840.628 minResults:0 maxResults:93 avgResults:21.93\r\n2022-05-18T21:14:05,563 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:16744 avgTime:2057.819 minResults:0 maxResults:85 avgResults:21.94\r\n2022-05-18T21:14:08,630 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:17751 avgTime:1918.439 minResults:0 maxResults:94 avgResults:23.095\r\n2022-05-18T21:14:12,124 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:24605 avgTime:1785.754 minResults:0 maxResults:106 avgResults:22.681\r\n2022-05-18T21:14:15,330 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:12315 avgTime:1558.236 minResults:0 maxResults:100 avgResults:23.369\r\n\r\n\r\nWithout 2 scan server lock contention fixes, Without the sha512 cache :\r\n\r\nhadoop@manager:/opt/accumulo-testing/sources/accumulo-testing-repo$ ./bin/cingest query 733333333333333e 79999999999999a5 16 500 2>&1 | grep STAT\r\n2022-05-18T21:26:54,209 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:9955 avgTime:3377.346 minResults:0 maxResults:104 avgResults:24.251\r\n2022-05-18T21:26:58,112 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:12942 avgTime:2398.26 minResults:0 maxResults:101 avgResults:22.639\r\n2022-05-18T21:27:01,732 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:16860 avgTime:1872.668 minResults:0 maxResults:93 avgResults:22.595\r\n2022-05-18T21:27:05,113 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:12454 avgTime:1858.168 minResults:0 maxResults:89 avgResults:22.467\r\n2022-05-18T21:27:08,592 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:13245 avgTime:1816.611 minResults:0 maxResults:109 avgResults:23.52\r\n2022-05-18T21:27:11,941 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:10074 avgTime:1577.603 minResults:0 maxResults:98 avgResults:23.139\r\n2022-05-18T21:27:15,537 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:10367 avgTime:1617.97 minResults:0 maxResults:99 avgResults:23.271\r\n2022-05-18T21:27:18,940 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:16847 avgTime:1717.488 minResults:0 maxResults:103 avgResults:23.523\r\n2022-05-18T21:27:22,121 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:3 maxTime:11905 avgTime:1754.433 minResults:0 maxResults:96 avgResults:23.501\r\n2022-05-18T21:27:25,418 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:11685 avgTime:1628.917 minResults:0 maxResults:107 avgResults:22.256\r\n2022-05-18T21:27:28,822 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:10381 avgTime:1533.018 minResults:0 maxResults:98 avgResults:21.994\r\n2022-05-18T21:27:31,979 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:13414 avgTime:1715.61 minResults:0 maxResults:105 avgResults:22.88\r\n2022-05-18T21:27:35,447 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:12916 avgTime:1939.198 minResults:0 maxResults:105 avgResults:22.622\r\n2022-05-18T21:27:38,921 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:15182 avgTime:1690.404 minResults:0 maxResults:113 avgResults:23.795\r\n2022-05-18T21:27:42,426 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:13339 avgTime:1672.008 minResults:0 maxResults:96 avgResults:21.484\r\n2022-05-18T21:27:46,246 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:10578 avgTime:1716.462 minResults:0 maxResults:96 avgResults:22.72\r\n2022-05-18T21:27:49,048 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:13267 avgTime:1575.544 minResults:0 maxResults:92 avgResults:23.481\r\n2022-05-18T21:27:52,529 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:10375 avgTime:1833.692 minResults:0 maxResults:99 avgResults:23.189\r\n2022-05-18T21:27:55,927 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:11099 avgTime:1505.09 minResults:0 maxResults:101 avgResults:22.699\r\n2022-05-18T21:27:59,122 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:12778 avgTime:1692.452 minResults:0 maxResults:93 avgResults:22.965\r\n2022-05-18T21:28:02,413 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:19010 avgTime:1612.813 minResults:0 maxResults:98 avgResults:22.725\r\n2022-05-18T21:28:05,514 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:12986 avgTime:1662.435 minResults:0 maxResults:89 avgResults:22.258\r\n2022-05-18T21:28:08,849 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:13979 avgTime:1559.41 minResults:0 maxResults:95 avgResults:22.965\r\n2022-05-18T21:28:12,458 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:4 maxTime:13302 avgTime:1701.877 minResults:0 maxResults:93 avgResults:22.371\r\n2022-05-18T21:28:15,937 [testing.continuous.ContinuousScanner] INFO : STATS count:1000 minTime:5 maxTime:11030 avgTime:1794.829 minResults:0 maxResults:97 avgResults:21.826\r\n```\r\n\r\nAlso another interesting data point is that when I profile without these changes all of the hottest methods are sha512 related in addition to the lock contention problem with getting the sha512 provider, do not see any Accumulo scan code in the hot methods.  With these changes the hottest methods in profiling are all Accumulo scan code and there is not much lock contention (just a little bit around the secure random used to generate session ids).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1130599393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131582897","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1131582897","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1131582897,"node_id":"IC_kwDOACaFSM5DcpWx","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T11:41:36Z","updated_at":"2022-05-19T11:41:36Z","author_association":"CONTRIBUTOR","body":"It looks like this tool is only used for authenticating users? Any idea if this is also used for servers? If it is just for users, then will this cache only be effective if you have about 16 users? What about the use case where the query application uses the same app user?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131582897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131600304","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1131600304","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1131600304,"node_id":"IC_kwDOACaFSM5Dctmw","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T12:01:38Z","updated_at":"2022-05-19T12:01:38Z","author_association":"CONTRIBUTOR","body":"Looking at the stack trace in the first image above the issue is that the Apache Commons Codec [Sha2Crypt.sha2Crypt](https://github.com/apache/commons-codec/blob/7decf21b6a137b1b9028d3903004fe53dc5ec849/src/main/java/org/apache/commons/codec/digest/Sha2Crypt.java#L167) method does not cache and `reset` the MesageDigest objects that it uses. The `sha2Crypt` method creates many new MessageDigest objects per method call and at the top of the stack trace in the image, the [ProviderConfig.getProvider](https://github.com/openjdk/jdk/blob/da75f3c4ad5bdf25167a3ed80e51f567ab3dbd01/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L164) is synchronized.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131600304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131609674","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-1131609674","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":1131609674,"node_id":"IC_kwDOACaFSM5Dcv5K","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T12:12:11Z","updated_at":"2022-05-19T12:12:11Z","author_association":"CONTRIBUTOR","body":"@Manno15 Looks like some recent thrift refactoring caused a merge conflict in FateCommand with these changes. Any chance you can resolve them in your branch?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131609674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131610002","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1131610002","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1131610002,"node_id":"IC_kwDOACaFSM5Dcv-S","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T12:12:31Z","updated_at":"2022-05-19T12:12:31Z","author_association":"CONTRIBUTOR","body":"@milleruntime -`ZKSecurityTool` is used by `ZKAuthenticator.authenticateUser`, which is called by `SecurityOperation.authenticateUser`. It does not appear to call this if the user is the \"system\" user.\r\n\r\n> If it is just for users, then will this cache only be effective if you have about 16 users?\r\n\r\nThe description was out of date, it currently caches up to 64 passwords for 1 minute. \r\n\r\n> What about the use case where the query application uses the same app user?\r\n\r\nThis should still work. Not sure I understand the concern or question.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131610002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131614539","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1131614539","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1131614539,"node_id":"IC_kwDOACaFSM5DcxFL","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T12:17:45Z","updated_at":"2022-05-19T12:17:45Z","author_association":"CONTRIBUTOR","body":"> > What about the use case where the query application uses the same app user?\r\n> \r\n> This should still work. Not sure I understand the concern or question.\r\n\r\nI am thinking of Datawave, which I thought uses the same Accumulo user for all scans. But I don't remember how the internals work.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131614539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131696977","html_url":"https://github.com/apache/accumulo/pull/2711#issuecomment-1131696977","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2711","id":1131696977,"node_id":"IC_kwDOACaFSM5DdFNR","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T13:35:35Z","updated_at":"2022-05-19T13:35:35Z","author_association":"MEMBER","body":"> LGTM. Were you able to use jslint with the indent option?\r\n\r\nYep. I used the command you mentioned earlier, thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131696977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131716539","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1131716539","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1131716539,"node_id":"IC_kwDOACaFSM5DdJ-7","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T13:48:33Z","updated_at":"2022-05-19T19:14:28Z","author_association":"CONTRIBUTOR","body":"> I am thinking of Datawave, which I thought uses the same Accumulo user for all scans. But I don't remember how the internals work.\r\n\r\nSo, Datawave does use the same user for all scans, but each connection is still authenticated. ~~I think where this change will help is with application startup when you potentially have a thundering herd effect of a bunch of connections being created at once. Same is true with an application that uses short-lived on-demand connections.~~ This change should help with a lot of client operations, as `SecurityOperation.authenticate(TCredentials)` is called from almost every other method in SecurityOperation to authenticate the user before performing the operation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1131716539/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132063339","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1132063339","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1132063339,"node_id":"IC_kwDOACaFSM5Deepr","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T18:33:45Z","updated_at":"2022-05-25T00:19:09Z","author_association":"CONTRIBUTOR","body":"> Okay, it looks like those indicate the problem is likely with using an AccumuloConfiguration object for testing that doesn't override the method. That should never happen in runtime. It seems the tests need to be fixed.\r\n\r\nAny related issue(s)?\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n![Screenshot_20220520-062758_GitHub.png](https://user-images.githubusercontent.com/90329875/169427702-ac22ebbc-502b-4ef9-bd8b-55b66ac53c49.png)\r\n\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132063339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132111435","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1132111435","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1132111435,"node_id":"IC_kwDOACaFSM5DeqZL","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T19:21:17Z","updated_at":"2022-05-19T19:21:17Z","author_association":"MEMBER","body":"> > Okay, it looks like those indicate the problem is likely with using an AccumuloConfiguration object for testing that doesn't override the method. That should never happen in runtime. It seems the tests need to be fixed.\r\n> \r\n> Any related issue(s)?\r\n\r\nI don't understand this question.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132111435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132119643","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1132119643","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1132119643,"node_id":"IC_kwDOACaFSM5DesZb","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T19:31:00Z","updated_at":"2022-05-19T19:31:00Z","author_association":"MEMBER","body":"> Looking at the stack trace in the first image above the issue is that the Apache Commons Codec [Sha2Crypt.sha2Crypt](https://github.com/apache/commons-codec/blob/7decf21b6a137b1b9028d3903004fe53dc5ec849/src/main/java/org/apache/commons/codec/digest/Sha2Crypt.java#L167) method does not cache and `reset` the MesageDigest objects that it uses. The `sha2Crypt` method creates many new MessageDigest objects per method call and at the top of the stack trace in the image, the [ProviderConfig.getProvider](https://github.com/openjdk/jdk/blob/da75f3c4ad5bdf25167a3ed80e51f567ab3dbd01/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L164) is synchronized.\r\n\r\nIs there an upstream issue or patch available for commons-codec?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132119643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132120248","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1132120248","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1132120248,"node_id":"IC_kwDOACaFSM5Desi4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T19:31:44Z","updated_at":"2022-05-19T19:33:17Z","author_association":"CONTRIBUTOR","body":"> Is there an upstream issue or patch available for commons-codec?\r\n\r\nNot that I could find. \r\n\r\nEdit: But, this is just one inefficiency here. Even if the commons-codec code was optimized, we would be continuously checking the users password without the caching.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132120248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132125598","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1132125598","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1132125598,"node_id":"IC_kwDOACaFSM5Det2e","user":{"login":"tchaie","id":71804562,"node_id":"MDQ6VXNlcjcxODA0NTYy","avatar_url":"https://avatars.githubusercontent.com/u/71804562?v=4","gravatar_id":"","url":"https://api.github.com/users/tchaie","html_url":"https://github.com/tchaie","followers_url":"https://api.github.com/users/tchaie/followers","following_url":"https://api.github.com/users/tchaie/following{/other_user}","gists_url":"https://api.github.com/users/tchaie/gists{/gist_id}","starred_url":"https://api.github.com/users/tchaie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tchaie/subscriptions","organizations_url":"https://api.github.com/users/tchaie/orgs","repos_url":"https://api.github.com/users/tchaie/repos","events_url":"https://api.github.com/users/tchaie/events{/privacy}","received_events_url":"https://api.github.com/users/tchaie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T19:38:31Z","updated_at":"2022-05-19T19:38:31Z","author_association":"CONTRIBUTOR","body":"WIP pending review and feedback on how to proceed.\r\n(Debugging statements will be removed when PR is ready to be finalized)\r\n\r\nCreated `setProperties()` functions, while keeping original `setProperty()` functions - is the intention to replace it completely or have some way to redirect `setProperty()` to the new function?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132125598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132658080","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1132658080","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1132658080,"node_id":"IC_kwDOACaFSM5Dgv2g","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T09:01:46Z","updated_at":"2022-05-20T09:01:46Z","author_association":"CONTRIBUTOR","body":"> > > Okay, it looks like those indicate the problem is likely with using an AccumuloConfiguration object for testing that doesn't override the method. That should never happen in runtime. It seems the tests need to be fixed.\r\n> > \r\n> > \r\n> > Any related issue(s)?\r\n> \r\n> I don't understand this question.\r\n\r\nI wanted to ask if there are existing [issues](https://github.com/apache/accumulo/issues) in this repository related to this topic (`the tests need to be fixed`). \r\n@ctubbsii \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132658080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132791265","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1132791265","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1132791265,"node_id":"IC_kwDOACaFSM5DhQXh","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T11:29:04Z","updated_at":"2022-05-20T11:29:04Z","author_association":"MEMBER","body":"> > > > Okay, it looks like those indicate the problem is likely with using an AccumuloConfiguration object for testing that doesn't override the method. That should never happen in runtime. It seems the tests need to be fixed.\r\n> > > \r\n> > > \r\n> > > Any related issue(s)?\r\n> > \r\n> > \r\n> > I don't understand this question.\r\n> \r\n> I wanted to ask if there are existing [issues](https://github.com/apache/accumulo/issues) in this repository related to this topic (`the tests need to be fixed`). @ctubbsii\r\n\r\nProbably not. I wouldn't expect there to be, since the tests work fine as is... they would only broken by the proposed changes here. Any proposed changes here should include any necessary adjustments to tests that would otherwise be left broken if the changes were accepted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132791265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132814765","html_url":"https://github.com/apache/accumulo/issues/2713#issuecomment-1132814765","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2713","id":1132814765,"node_id":"IC_kwDOACaFSM5DhWGt","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T11:56:17Z","updated_at":"2022-05-20T11:59:26Z","author_association":"CONTRIBUTOR","body":"Run the following powershell script at the repo root to format all JavaScript files under `$Directory`. \r\n\r\n```powershell\r\n# Recursive_format using js-beautify\r\n\r\nnpm -g install js-beautify\r\n\r\n$Directory = \\server\\monitor\r\n\r\nGet-ChildItem -Path $Directory -File -Recurse | Where-Object { $_.Extension -eq '.js' } | Foreach-Object { \r\n\tjs-beautify $_.FullName -r\r\n}\r\n\r\n```\r\n\r\nThe differences can be tracked using Git. Observing the differences will make it easier to determine whether [js-beautify](https://www.npmjs.com/package/js-beautify) is suitable or not.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132814765/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132816115","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-1132816115","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":1132816115,"node_id":"IC_kwDOACaFSM5DhWbz","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T11:58:23Z","updated_at":"2022-05-20T11:58:23Z","author_association":"CONTRIBUTOR","body":"@ctubbsii \"What are these type adapters doing? An inline comment could\nhelp.\"\n\nThe type adapters were initially in the 'FateCommand' file and moved into\n'AdminUtil' (along with the code that used it) to help pretty print the\njson stack in particular.\n\nOn Fri, May 20, 2022 at 7:52 AM Christopher Tubbs ***@***.***>\nwrote:\n\n> ***@***.**** requested changes on this pull request.\n> ------------------------------\n>\n> In core/src/main/java/org/apache/accumulo/fate/AdminUtil.java\n> <https://github.com/apache/accumulo/pull/2215#discussion_r878060291>:\n>\n> > +        .registerTypeAdapter(ReadOnlyRepo.class, new InterfaceSerializer<>())\n> +        .registerTypeAdapter(Repo.class, new InterfaceSerializer<>())\n> +        .registerTypeAdapter(byte[].class, new ByteArraySerializer()).setPrettyPrinting().create();\n>\n> What are these type adapters doing? An inline comment could help.\n> ------------------------------\n>\n> In core/src/main/java/org/apache/accumulo/fate/AdminUtil.java\n> <https://github.com/apache/accumulo/pull/2215#discussion_r878061657>:\n>\n> >        return false;\n>      }\n>      boolean state = false;\n>      zs.reserve(txid);\n>      TStatus ts = zs.getStatus(txid);\n>      switch (ts) {\n>        case UNKNOWN:\n> -        System.out.printf(\"Invalid transaction ID: %016x%n\", txid);\n> +        log.error(\"Invalid transaction ID: {}\", txid);\n>\n> These are a bit of a change in behavior for the shell, which I think\n> currently uses AdminUtil. I think this behavior is better, but might want\n> to include some release notes that mention the change, so if anybody was\n> relying on scripting the shell, and capturing STDOUT, it will work\n> differently for them, depending on their log configuration.\n> ------------------------------\n>\n> In\n> core/src/main/java/org/apache/accumulo/core/clientImpl/InstanceOperationsImpl.java\n> <https://github.com/apache/accumulo/pull/2215#discussion_r878062482>:\n>\n> > +    List<TransactionStatus> txStatus = new ArrayList<>();\n> +    for (var tx : executeAdminOperation(AdminOperation.PRINT, txids, tStatus)) {\n> +      txStatus.add(new TransactionStatus(tx.getTxid(), tx.getTstatus(), tx.getDebug(),\n> +          tx.getHlocks(), tx.getWlocks(), tx.getTop(), tx.getTimecreated(), tx.getStackInfo()));\n> +    }\n> +    return txStatus;\n> +  }\n> +\n> +  private List<FateTransaction> executeAdminOperation(AdminOperation op, List<String> txids,\n> +      List<String> filterStatuses) throws AccumuloException {\n> +    try {\n> +      return ThriftClientTypes.CLIENT.execute(context,\n> +          client -> client.executeAdminOperation(TraceUtil.traceInfo(), context.rpcCreds(), op,\n> +              txids, filterStatuses));\n> +    } catch (AccumuloSecurityException e) {\n> +      throw new RuntimeException(\"Unexpected exception thrown\", e);\n>\n> It seems like AccumuloSecurityException should propagate up.\n> ------------------------------\n>\n> In\n> server/base/src/main/java/org/apache/accumulo/server/client/ClientServiceHandler.java\n> <https://github.com/apache/accumulo/pull/2215#discussion_r878063734>:\n>\n> > @@ -447,6 +460,83 @@ public List<TDiskUsage> getDiskUsage(Set<String> tables, TCredentials credential\n>      }\n>    }\n>\n> +  @Override\n> +  public List<FateTransaction> executeAdminOperation(TInfo tInfo, TCredentials credentials,\n> +      AdminOperation op, List<String> txids, List<String> filterStatuses)\n> +      throws ThriftSecurityException, TException {\n> +    try {\n> +      authenticate(tInfo, credentials);\n>\n> In addition to authenticating, we probably want to restrict this to users\n> with admin permissions, right?\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/2215#pullrequestreview-979979866>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AHASSV3AASPELZOGD7BUY5DVK54G7ANCNFSM5BDFUX4Q>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132816115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132835553","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1132835553","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1132835553,"node_id":"IC_kwDOACaFSM5DhbLh","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T12:18:23Z","updated_at":"2022-05-20T12:19:07Z","author_association":"CONTRIBUTOR","body":"> Any proposed changes here should include any necessary adjustments to tests that would otherwise be left broken if the changes were accepted.\r\n\r\nGuidance requested. \r\n\r\n> Okay, it looks like those indicate the problem is likely with using an AccumuloConfiguration object for testing that doesn't override the method. That should never happen in runtime. It seems the tests need to be fixed.\r\n\r\n\"That should never happen in runtime. \" -  \r\nThen why was it in the tests? Should those particular tests be rewritten or,  \r\nconsidering the tests were for an _impossible_ condition, be deleted outright?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132835553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132849583","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-1132849583","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":1132849583,"node_id":"IC_kwDOACaFSM5Dhemv","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T12:33:49Z","updated_at":"2022-05-20T12:33:49Z","author_association":"CONTRIBUTOR","body":"@ctubbsii any of your request blocking this merge? If not, I will merge this and do a follow up.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132849583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132851798","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-1132851798","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":1132851798,"node_id":"IC_kwDOACaFSM5DhfJW","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T12:36:13Z","updated_at":"2022-05-20T12:36:13Z","author_association":"MEMBER","body":"> @ctubbsii any of your request blocking this merge? If not, I will merge this and do a follow up.\r\n\r\nWell, I think the permissions issue should be addressed before this is merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132851798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132856591","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1132856591","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1132856591,"node_id":"IC_kwDOACaFSM5DhgUP","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T12:41:24Z","updated_at":"2022-05-20T12:41:24Z","author_association":"MEMBER","body":"> > Any proposed changes here should include any necessary adjustments to tests that would otherwise be left broken if the changes were accepted.\r\n> \r\n> Guidance requested.\r\n> \r\n\r\nYou'd have to look at each test to see why it's failing. Each test may require something different. It's likely that it's just a trivial fix that is needed... like adding another mocked method call to the set of expected method calls, or implementing a method in a subclass created for testing.\r\n\r\n> > Okay, it looks like those indicate the problem is likely with using an AccumuloConfiguration object for testing that doesn't override the method. That should never happen in runtime. It seems the tests need to be fixed.\r\n> \r\n> \"That should never happen in runtime. \" - Then why was it in the tests? Should those particular tests be rewritten or, considering the tests were for an _impossible_ condition, be deleted outright?\r\n\r\nTests often use mock objects to test specific code paths. When you change the behavior of the code, you can break certain assumptions that the test code is relying on. Depending on what changed, it's likely the tests just need minor adjustments.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132856591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132870682","html_url":"https://github.com/apache/accumulo/issues/2713#issuecomment-1132870682","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2713","id":1132870682,"node_id":"IC_kwDOACaFSM5Dhjwa","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T12:57:02Z","updated_at":"2022-05-20T20:43:08Z","author_association":"MEMBER","body":"> Run the following powershell script at the repo root to format all JavaScript files under `$Directory`.\r\n\r\nA similar bash script:\r\n\r\n```bash\r\n#! /usr/bin/env bash\r\nnpm install js-beautify\r\n~/node_modules/js-beautify/js/bin/js-beautify.js -r -n -j -s 2 server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/js/*\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1132870682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133085866","html_url":"https://github.com/apache/accumulo/issues/2713#issuecomment-1133085866","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2713","id":1133085866,"node_id":"IC_kwDOACaFSM5DiYSq","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T16:13:56Z","updated_at":"2022-05-20T16:13:56Z","author_association":"MEMBER","body":"> > Run the following powershell script at the repo root to format all JavaScript files under `$Directory`.\r\n> \r\n> A similar bash script:\r\n> \r\n> ```shell\r\n> #! /usr/bin/env bash\r\n> npm install js-beautify\r\n> ~/node_modules/js-beautify/js/bin/js-beautify.js -n -j -s 2 server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/js/*\r\n> ```\r\n\r\nIt looks like this can be simplified further using npx. Borrowing from @ctubbsii's script:\r\n```\r\nnpx js-beautify -r -n -j -s 2 server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/js/*\r\n```\r\nAdding -r: `-r, --replace    Write output in-place, replacing input`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133085866/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133136178","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1133136178","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1133136178,"node_id":"IC_kwDOACaFSM5Dikky","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T17:13:41Z","updated_at":"2022-05-20T17:13:41Z","author_association":"CONTRIBUTOR","body":"Maybe I'm missing something - but if setProperties replaces all properties except the ones set, someone would need to include multiple properties that are set by default.  For the metadata table, that is 28 properties, for a user table, there are 7.\r\n\r\nUsing a vanilla uno instance the props look like:\r\n\r\nsample uno default properties\r\n<details>\r\n  <summary>Click to expand!</summary>\r\n  \r\nTables: \r\nName: accumulo.metadata, Data Version:2, Data Timestamp: 2022-05-20T16:43:25.07617Z:\r\n  table.cache.block.enable=true\r\n  table.cache.index.enable=true\r\n  table.compaction.dispatcher=org.apache.accumulo.core.spi.compaction.SimpleCompactionDispatcher\r\n  table.compaction.dispatcher.opts.service=meta\r\n  table.compaction.major.ratio=1\r\n  table.constraint.1=org.apache.accumulo.server.constraints.MetadataConstraints\r\n  table.durability=sync\r\n  table.failures.ignore=false\r\n  table.file.compress.blocksize=32K\r\n  table.file.replication=5\r\n  table.group.server=file,log,srv,future\r\n  table.group.tablet=~tab,loc\r\n  table.groups.enabled=tablet,server\r\n  table.iterator.majc.bulkLoadFilter=20,org.apache.accumulo.server.iterators.MetadataBulkLoadFilter\r\n  table.iterator.majc.replcombiner=9,org.apache.accumulo.server.replication.StatusCombiner\r\n  table.iterator.majc.replcombiner.opt.columns=stat\r\n  table.iterator.majc.vers=10,org.apache.accumulo.core.iterators.user.VersioningIterator\r\n  table.iterator.majc.vers.opt.maxVersions=1\r\n  table.iterator.minc.replcombiner=9,org.apache.accumulo.server.replication.StatusCombiner\r\n  table.iterator.minc.replcombiner.opt.columns=stat\r\n  table.iterator.minc.vers=10,org.apache.accumulo.core.iterators.user.VersioningIterator\r\n  table.iterator.minc.vers.opt.maxVersions=1\r\n  table.iterator.scan.replcombiner=9,org.apache.accumulo.server.replication.StatusCombiner\r\n  table.iterator.scan.replcombiner.opt.columns=stat\r\n  table.iterator.scan.vers=10,org.apache.accumulo.core.iterators.user.VersioningIterator\r\n  table.iterator.scan.vers.opt.maxVersions=1\r\n  table.security.scan.visibility.default=\r\n  table.split.threshold=64M\r\n\r\nName: tbl1, Data Version:1, Data Timestamp: 2022-05-20T16:50:47.568659Z:\r\n  table.constraint.1=org.apache.accumulo.core.data.constraints.DefaultKeySizeConstraint\r\n  table.iterator.majc.vers=20,org.apache.accumulo.core.iterators.user.VersioningIterator\r\n  table.iterator.majc.vers.opt.maxVersions=1\r\n  table.iterator.minc.vers=20,org.apache.accumulo.core.iterators.user.VersioningIterator\r\n  table.iterator.minc.vers.opt.maxVersions=1\r\n  table.iterator.scan.vers=20,org.apache.accumulo.core.iterators.user.VersioningIterator\r\n  table.iterator.scan.vers.opt.maxVersions=1\r\n\r\n</details>\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133136178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133439498","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1133439498","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1133439498,"node_id":"IC_kwDOACaFSM5DjuoK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T22:38:48Z","updated_at":"2022-05-20T22:38:48Z","author_association":"MEMBER","body":"> Maybe I'm missing something - but if setProperties replaces all properties except the ones set, someone would need to include multiple properties that are set by default. For the metadata table, that is 28 properties, for a user table, there are 7.\r\n\r\nThe idea was that you've now empowered the user to read the existing properties, keep all, none, or some of the ones they want, do any updates on the client side, and then atomically set the result. It's a very simple, primitive API that enables the user to do whatever they want. Yes, if they want to keep any default ones, they would have to explicitly preserve those. But, it's not like the number of these is a problem... you can do this programmatically pretty trivially:\r\n\r\n```java\r\nclient.setProperties(changeHoweverIWant(readCurrentProps()));\r\n```\r\n\r\nTo make this explicit, the API interface could be:\r\n\r\n```java\r\nvoid setProperties(Function<Map<String,String>,Map<String,String>> oldPropsToNewProps);\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133439498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133464577","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1133464577","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1133464577,"node_id":"IC_kwDOACaFSM5Dj0wB","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T23:34:58Z","updated_at":"2022-05-20T23:34:58Z","author_association":"CONTRIBUTOR","body":"Maybe I am too focused on how it would be handled via the shell if we wanted to allow multiple, atomic sets there.\r\n\r\nAnd your example is great - we should capture that in the in the seems more explicit in the\r\n```\r\nvoid setProperties(Function<Map<String,String>,Map<String,String>> oldPropsToNewProps);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133464577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133596040","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1133596040","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1133596040,"node_id":"IC_kwDOACaFSM5DkU2I","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T10:25:24Z","updated_at":"2022-05-21T10:25:24Z","author_association":"MEMBER","body":"> Maybe I am too focused on how it would be handled via the shell if we wanted to allow multiple, atomic sets there.\r\n\r\nMutating the props in the shell would be a huge pain. It'd be easier to use `bin/accumulo jshell` and work directly on the map in there.\r\n\r\nAlso, I'm thinking Consumer would be better than Function:\r\n```java\r\n/**\r\n * Modify system properties using a Consumer that accepts a mutable map containing the current system\r\n * property overrides stored in ZooKeeper. If the supplied Consumer alters the map without throwing an\r\n * Exception, then the resulting map will atomically replace the current system property overrides in\r\n * ZooKeeper. Only properties which can be stored in ZooKeeper will be accepted.\r\n *\r\n * @throws IllegalArgumentException if the Consumer alters the map by adding properties that cannot be\r\n *         stored in ZooKeeper\r\n * @throws ConcurrentModificationException without altering the stored properties if the server reports\r\n *         that the properties have been changed by another process\r\n */\r\nvoid modifyProperties(Consumer<Map<String,String>> mapMutator);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133596040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133609406","html_url":"https://github.com/apache/accumulo/issues/2719#issuecomment-1133609406","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2719","id":1133609406,"node_id":"IC_kwDOACaFSM5DkYG-","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-21T12:11:28Z","updated_at":"2022-05-21T12:11:28Z","author_association":"MEMBER","body":"I don't know enough about C++ to fix this quickly, but I'm happy to quickly test any potential fixes if somebody else contributes any.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1133609406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134616488","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1134616488","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1134616488,"node_id":"IC_kwDOACaFSM5DoN-o","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T12:31:58Z","updated_at":"2022-05-23T12:31:58Z","author_association":"CONTRIBUTOR","body":"Instead of adding a method to `InstanceOperations` what about adding a static method to the new `Accumulo` entry point? We could develop a fluent API, similar to what we did with the `newClientProperties()` method.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134616488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134636441","html_url":"https://github.com/apache/accumulo/pull/2721#issuecomment-1134636441","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2721","id":1134636441,"node_id":"IC_kwDOACaFSM5DoS2Z","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T12:50:22Z","updated_at":"2022-05-23T12:50:22Z","author_association":"CONTRIBUTOR","body":"Does DumpConfigIT still work?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134636441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134671671","html_url":"https://github.com/apache/accumulo/pull/2721#issuecomment-1134671671","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2721","id":1134671671,"node_id":"IC_kwDOACaFSM5Dobc3","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T13:19:50Z","updated_at":"2022-05-23T13:19:50Z","author_association":"CONTRIBUTOR","body":"@dlmarion - it passes in my ide and all sunny tests passed - why do you ask?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134671671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134673303","html_url":"https://github.com/apache/accumulo/pull/2721#issuecomment-1134673303","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2721","id":1134673303,"node_id":"IC_kwDOACaFSM5Dob2X","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T13:21:16Z","updated_at":"2022-05-23T13:21:16Z","author_association":"CONTRIBUTOR","body":"Just making sure that the other utilities work with the ACLs.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134673303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134701194","html_url":"https://github.com/apache/accumulo/pull/2721#issuecomment-1134701194","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2721","id":1134701194,"node_id":"IC_kwDOACaFSM5DoiqK","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T13:46:32Z","updated_at":"2022-05-23T16:33:30Z","author_association":"CONTRIBUTOR","body":"Anything that gets a ZooReader or ZooReaderWriter from a ServerContext will be operating with an authenticated session. If something instantiates a ZooReader directly, it would specifically need to add the necessary authorization - the static  ZooUtil.digestAuth method to access restricted node in ZooKeeper - including the encoded props (after this change).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134701194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134855111","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1134855111","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1134855111,"node_id":"IC_kwDOACaFSM5DpIPH","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T15:56:57Z","updated_at":"2022-05-23T15:56:57Z","author_association":"CONTRIBUTOR","body":"Looking at [NIST SP800-63B](https://pages.nist.gov/800-63-3/sp800-63b.html#sec5) Section 5.1.1.2, it says\r\n\r\n> Verifiers SHALL store memorized secrets in a form that is resistant to offline attacks. Memorized secrets SHALL be salted and hashed using a suitable one-way key derivation function. Key derivation functions take a password, a salt, and a cost factor as inputs then generate a password hash. Their purpose is to make each password guessing trial by an attacker who has obtained a password hash file expensive and therefore the cost of a guessing attack high or prohibitive. Examples of suitable key derivation functions include Password-based Key Derivation Function 2 (PBKDF2) [[SP 800-132]](https://pages.nist.gov/800-63-3/sp800-63b.html#SP800-132) and Balloon [[BALLOON]](https://pages.nist.gov/800-63-3/sp800-63b.html#balloon). A memory-hard function SHOULD be used because it increases the cost of an attack. The key derivation function SHALL use an approved one-way function such as Keyed Hash Message Authentication Code (HMAC) [[FIPS 198-1]](https://pages.nist.gov/800-63-3/sp800-63b.html#FIPS198-1), any approved hash function in [SP 800-107](https://pages.nist.gov/800-63-3/sp800-63b.html#SP800-107), Secure Hash Algorithm 3 (SHA-3) [[FIPS 202]](https://pages.nist.gov/800-63-3/sp800-63b.html#FIPS202), CMAC [[SP 800-38B]](https://pages.nist.gov/800-63-3/sp800-63b.html#SP800-38B) or Keccak Message Authentication Code (KMAC), Customizable SHAKE (cSHAKE), or ParallelHash [[SP 800-185]](https://pages.nist.gov/800-63-3/sp800-63b.html#SP800-185). The chosen output length of the key derivation function SHOULD be the same as the length of the underlying one-way function output.\r\n\r\nThis section doesn't deal strictly with passwords, but I wrote a [test](https://github.com/dlmarion/accumulo/blob/password_test/server/base/src/test/java/org/apache/accumulo/server/security/handler/PasswordHashTest.java) to compare the performance difference between the Commons-Codec Crypt approach that is being used currently vs `PBKDF2WithHmacSHA512` as suggested in NIST SP800-63B. It looks to be roughly 3x faster.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134855111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134917795","html_url":"https://github.com/apache/accumulo/issues/2699#issuecomment-1134917795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2699","id":1134917795,"node_id":"IC_kwDOACaFSM5DpXij","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T16:54:23Z","updated_at":"2022-05-23T16:54:23Z","author_association":"CONTRIBUTOR","body":"I was looking through some of the TODOs and came across one in `PerTableVolumeChooser.java`:\r\nhttps://github.com/apache/accumulo/blob/d3a02c9ccb79548caf037d27aa9b60c2a6c6b698/core/src/main/java/org/apache/accumulo/core/spi/fs/PerTableVolumeChooser.java#L40\r\n\r\n\r\nThe TODO discusses the changing of the name of the `PerTableVolumeChooser` class due to a concern with the current class name and the overall accuracy of what it is doing.\r\n\r\nI wanted to put a comment on this issue to see if this TODO is still relevant, and has a need to be changed, or if it could be safely removed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134917795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134933878","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1134933878","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1134933878,"node_id":"IC_kwDOACaFSM5Dpbd2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T17:12:10Z","updated_at":"2022-05-23T17:12:10Z","author_association":"MEMBER","body":"> Instead of adding a method to `InstanceOperations` what about adding a static method to the new `Accumulo` entry point? We could develop a fluent API, similar to what we did with the `newClientProperties()` method.\r\n\r\nA full on fluent API for mutating/building system properties is a bit overkill. It was why I was originally thinking we'd want to just support a primitive replace operation. However, with the Consumer idea, we can get all the benefits of having a full-fledged mutate API, but all in a single method, without any bloat. As for the static method, with a separate entry point, I'm not sure that would be helpful at all, because the properties are already tied to an instance, like the current setProperty and removeProperty are. After this, we're also going to want to add similar features for table and namespace operations. So, I don't think it makes sense to put the entry point for this as a static method on the `Accumulo` entry point.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134933878/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134955212","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1134955212","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1134955212,"node_id":"IC_kwDOACaFSM5DpgrM","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T17:36:48Z","updated_at":"2022-05-23T17:36:48Z","author_association":"CONTRIBUTOR","body":"```\r\n[ERROR] Errors: \r\n[ERROR]   CompactionCoordinatorTest.testCoordinatorColdStart:274 » NullPointer\r\n[ERROR]   CompactionCoordinatorTest.testCoordinatorColdStartNoCompactions:217 » NullPointer\r\n[ERROR]   CompactionCoordinatorTest.testCoordinatorRestartNoRunningCompactions:347 » NullPointer\r\n[ERROR]   CompactionCoordinatorTest.testCoordinatorRestartOneRunningCompaction:427 » NullPointer\r\n[ERROR]   CompactionCoordinatorTest.testGetCompactionJob:510 » NullPointer\r\n[ERROR]   CompactionCoordinatorTest.testGetCompactionJobNoJobs:581 » NullPointer\r\n```\r\n\r\nThe culprit is the line\r\n```java\r\nAccumuloConfiguration conf = PowerMock.createNiceMock(AccumuloConfiguration.class);\r\n```\r\n6 copies of this line exist in the file [`CompactionCoordinatorTest.java`](https://github.com/apache/accumulo/blob/main/server/compaction-coordinator/src/test/java/org/apache/accumulo/coordinator/CompactionCoordinatorTest.java), each responsible for a `NullPointerError` shown above.\r\n\r\nTried replacing the abstract class `AccumuloConfiguration` with child classes (`DefaultConfiguration` and `SiteConfiguration`) but to no avail.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134955212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134962207","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1134962207","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1134962207,"node_id":"IC_kwDOACaFSM5DpiYf","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T17:43:25Z","updated_at":"2022-05-23T17:45:33Z","author_association":"CONTRIBUTOR","body":"> Tests often use mock objects to test specific code paths. When you change the behavior of the code, you can break certain assumptions that the test code is relying on. \r\n\r\nInstead of breaking those assumptions, commit 6189662b0766debf42d199e148e8f52a9c6fe13c tries to conform to them by using the new property `Property.GENERAL_THREADPOOL_SIZE` whenever the conflict resolution fails.  \r\nThe old code used `Property.GENERAL_SIMPLETIMER_THREADPOOL_SIZE` in all situations, no matter what the value of the argument `conf` was and happily passed `conf` to `createExecutorService()`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134962207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134973368","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1134973368","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1134973368,"node_id":"IC_kwDOACaFSM5DplG4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T17:57:44Z","updated_at":"2022-05-23T17:57:44Z","author_association":"CONTRIBUTOR","body":"> I haven't looked into them being stored in the Session you're referring to, so I don't have an opinion about that.\r\n\r\n@ctubbsii  - TCredentials are referenced in [Session](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/session/Session.java#L34) and stored in the SessionManager.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1134973368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135109520","html_url":"https://github.com/apache/accumulo/pull/2725#issuecomment-1135109520","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2725","id":1135109520,"node_id":"IC_kwDOACaFSM5DqGWQ","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T20:30:24Z","updated_at":"2022-05-23T20:30:24Z","author_association":"MEMBER","body":"I marked this as WIP because there is an error being thrown that I am currently trying to fix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135109520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135119685","html_url":"https://github.com/apache/accumulo/pull/2720#issuecomment-1135119685","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2720","id":1135119685,"node_id":"IC_kwDOACaFSM5DqI1F","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T20:42:47Z","updated_at":"2022-05-23T20:42:47Z","author_association":"CONTRIBUTOR","body":"I downloaded your branch, checked out a JS file from main so there would be something to format and then ran my usual `mvn clean verify -DskipTests -Dspotbugs.skip`. It looks like it is detecting the `npx` binary but when it runs I am getting the error:\r\n<pre>\r\n[INFO] --- exec-maven-plugin:3.0.0:exec (format-javascript) @ accumulo-monitor ---\r\n{ Error: EEXIST: file already exists, mkdir '/home/mpmill4/workspace/accumulo/server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/js'\r\n    at Object.fs.mkdirSync (fs.js:885:18)\r\n    at writePretty (/usr/local/lib/node_modules/js-beautify/js/lib/cli.js:487:12)\r\n    at makePretty (/usr/local/lib/node_modules/js-beautify/js/lib/cli.js:473:9)\r\n    at Object.processInputSync (/usr/local/lib/node_modules/js-beautify/js/lib/cli.js:465:9)\r\n    at Array.forEach (<anonymous>)\r\n    at Object.exports.interpret (/usr/local/lib/node_modules/js-beautify/js/lib/cli.js:313:19)\r\n    at Object.<anonymous> (/usr/local/lib/node_modules/js-beautify/js/bin/js-beautify.js:4:5)\r\n    at Module._compile (module.js:652:30)\r\n    at Object.Module._extensions..js (module.js:663:10)\r\n    at Module.load (module.js:565:32)\r\n  errno: -17,\r\n  code: 'EEXIST',\r\n  syscall: 'mkdir',\r\n  path: '/home/mpmill4/workspace/accumulo/server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/js' }\r\n[ERROR] Command execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135119685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135129986","html_url":"https://github.com/apache/accumulo/pull/2720#issuecomment-1135129986","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2720","id":1135129986,"node_id":"IC_kwDOACaFSM5DqLWC","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T20:55:59Z","updated_at":"2022-05-23T20:55:59Z","author_association":"MEMBER","body":"> I just made a comment about the error I am seeing but it looks like you already merged.\r\n\r\nYeah, I just saw that. I can revert if necessary, but I'd like to try to figure out your error. What version of js-beautify do you have installed?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135129986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135193868","html_url":"https://github.com/apache/accumulo/pull/2720#issuecomment-1135193868","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2720","id":1135193868,"node_id":"IC_kwDOACaFSM5Dqa8M","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T22:21:00Z","updated_at":"2022-05-23T22:21:00Z","author_association":"MEMBER","body":"It looks like the problem might be with npx command-line parsing for multiple files using a wildcard. After troubleshooting, it looked like the main difference was the version of npx that @milleruntime was using (3.5.2?, whereas I tested with 8.3.1).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135193868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135202369","html_url":"https://github.com/apache/accumulo/pull/2720#issuecomment-1135202369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2720","id":1135202369,"node_id":"IC_kwDOACaFSM5DqdBB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T22:34:29Z","updated_at":"2022-05-23T22:34:29Z","author_association":"MEMBER","body":"Since it works with individual files on the version @milleruntime has, I'll modify the script to try that, if the first pass fails. I would just always do individual files, but it is really slow.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135202369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135217262","html_url":"https://github.com/apache/accumulo/pull/2720#issuecomment-1135217262","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2720","id":1135217262,"node_id":"IC_kwDOACaFSM5Dqgpu","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:01:21Z","updated_at":"2022-05-23T23:01:21Z","author_association":"MEMBER","body":"Should work for you now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135217262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135223672","html_url":"https://github.com/apache/accumulo/pull/2725#issuecomment-1135223672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2725","id":1135223672,"node_id":"IC_kwDOACaFSM5DqiN4","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:11:55Z","updated_at":"2022-05-23T23:11:55Z","author_association":"MEMBER","body":"I merged main onto this and resolved the conflicts caused by #2720 . Based on last comment, though, I'm not sure this is ready for review/merging.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135223672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135229665","html_url":"https://github.com/apache/accumulo/issues/2699#issuecomment-1135229665","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2699","id":1135229665,"node_id":"IC_kwDOACaFSM5Dqjrh","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T23:21:09Z","updated_at":"2022-05-23T23:21:09Z","author_association":"MEMBER","body":"> I was looking through some of the TODOs and came across one in `PerTableVolumeChooser.java`:\r\n> I wanted to put a comment on this issue to see if this TODO is still relevant, and has a need to be changed, or if it could be safely removed.\r\n\r\nThe file name can be changed, both TODOs can be removed (the second one isn't necessary to do) and the typo in the class level javadoc: \"At the this this was written\" can be fixed to \"At the time this was written\". Feel free to make a PR for this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135229665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135280444","html_url":"https://github.com/apache/accumulo/pull/2723#issuecomment-1135280444","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2723","id":1135280444,"node_id":"IC_kwDOACaFSM5DqwE8","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T00:49:50Z","updated_at":"2022-05-24T00:49:50Z","author_association":"MEMBER","body":"Thanks @nosewings . That's a nice and simple fix if that's all we have to do. I'm skeptical, though, because we're not always assigning it with `new[]`.\r\n\r\nExample:\r\n\r\n```cpp\r\n      if(lba == NULL)\r\n        keyData = new uint8_t[totalLen];\r\n      else\r\n        keyData = (uint8_t *)lba->allocate(totalLen);\r\n```\r\n\r\nIs it still okay to delete it using `delete[]`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135280444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135302631","html_url":"https://github.com/apache/accumulo/pull/2723#issuecomment-1135302631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2723","id":1135302631,"node_id":"IC_kwDOACaFSM5Dq1fn","user":{"login":"nosewings","id":24929858,"node_id":"MDQ6VXNlcjI0OTI5ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24929858?v=4","gravatar_id":"","url":"https://api.github.com/users/nosewings","html_url":"https://github.com/nosewings","followers_url":"https://api.github.com/users/nosewings/followers","following_url":"https://api.github.com/users/nosewings/following{/other_user}","gists_url":"https://api.github.com/users/nosewings/gists{/gist_id}","starred_url":"https://api.github.com/users/nosewings/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nosewings/subscriptions","organizations_url":"https://api.github.com/users/nosewings/orgs","repos_url":"https://api.github.com/users/nosewings/repos","events_url":"https://api.github.com/users/nosewings/events{/privacy}","received_events_url":"https://api.github.com/users/nosewings/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T01:31:21Z","updated_at":"2022-05-24T01:31:21Z","author_association":"CONTRIBUTOR","body":"Yes, because the `LocalSubKey` constructor always calls the super-constructor with a `NULL` allocator, so `keyData` will always be initialized with `new[]`.\r\n\r\nI do think the memory management could stand to be improved, even if it's technically correct.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135302631/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135321175","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1135321175","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1135321175,"node_id":"IC_kwDOACaFSM5Dq6BX","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T02:08:57Z","updated_at":"2022-05-24T02:08:57Z","author_association":"MEMBER","body":"> > Tests often use mock objects to test specific code paths. When you change the behavior of the code, you can break certain assumptions that the test code is relying on.\r\n> \r\n> Instead of breaking those assumptions, commit [6189662](https://github.com/apache/accumulo/commit/6189662b0766debf42d199e148e8f52a9c6fe13c) tries to conform to them by using the new property `Property.GENERAL_THREADPOOL_SIZE` whenever the conflict resolution fails. The old code used `Property.GENERAL_SIMPLETIMER_THREADPOOL_SIZE` in all situations, no matter what the value of the argument `conf` was and happily passed `conf` to `createExecutorService()`.\r\n\r\nI still think that this is the wrong direction. I don't think we should broaden the catch clause like this... the tests have been identified as making faulty assumptions while creating partially mocked objects (\"nice\" mocks). Rather than conform to these faulty assumptions, it would be better to improve the mocking so that they are not making the faulty assumptions in the first place. I will take a look to see what is involved in fixing the tests.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135321175/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135563634","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1135563634","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1135563634,"node_id":"IC_kwDOACaFSM5Dr1Ny","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T08:24:34Z","updated_at":"2022-05-24T08:24:34Z","author_association":"MEMBER","body":"@kitswas I fixed the faulty test assumptions in #2727. Once that is merged, we can proceed with these changes, but you won't need to catch or handle those exceptions anymore.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135563634/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135631769","html_url":"https://github.com/apache/accumulo/pull/2707#issuecomment-1135631769","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2707","id":1135631769,"node_id":"IC_kwDOACaFSM5DsF2Z","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T09:19:01Z","updated_at":"2022-05-24T09:19:01Z","author_association":"MEMBER","body":"> > I haven't looked into them being stored in the Session you're referring to, so I don't have an opinion about that.\r\n> \r\n> @ctubbsii - TCredentials are referenced in [Session](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/session/Session.java#L34) and stored in the SessionManager.\r\n\r\nYeah, it looks like the credentials are kept there to re-authenticate a user and check their permissions for each new table the user attempts to send mutations to during a batch write session.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135631769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135653080","html_url":"https://github.com/apache/accumulo/pull/2723#issuecomment-1135653080","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2723","id":1135653080,"node_id":"IC_kwDOACaFSM5DsLDY","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T09:32:42Z","updated_at":"2022-05-24T09:32:42Z","author_association":"MEMBER","body":"> Yes, because the `LocalSubKey` constructor always calls the super-constructor with a `NULL` allocator, so `keyData` will always be initialized with `new[]`.\r\n\r\nMakes sense.\r\n\r\n> I do think the memory management could stand to be improved, even if it's technically correct.\r\n\r\nAgreed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135653080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135675967","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1135675967","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1135675967,"node_id":"IC_kwDOACaFSM5DsQo_","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T09:47:57Z","updated_at":"2022-05-24T09:47:57Z","author_association":"MEMBER","body":"> This section doesn't deal strictly with passwords, but I wrote a [test](https://github.com/dlmarion/accumulo/blob/password_test/server/base/src/test/java/org/apache/accumulo/server/security/handler/PasswordHashTest.java) to compare the performance difference between the Commons-Codec Crypt approach that is being used currently vs `PBKDF2WithHmacSHA512` as suggested in NIST SP800-63B. It looks to be roughly 3x faster.\r\n\r\nCommons-codec Crypt produces a Linux-standard hash suitable for placing in /etc/shadow for a user password (see `man 5 crypt`). I don't want to do anything custom. If the faster approach can be incorporated upstream into commons-codec, I'd strongly prefer that route over any other alternative. Modern Linux defaults use `yescrypt`, `$y$` hashes, whereas we're using `sha512crypt`, `$6$`. I'd be fine with defaulting to a more efficient algorithm, if it is supported by commons-codec and is widely considered at least as secure as `sha512crypt`.\r\n\r\nSomething else to keep in mind: faster hashing makes brute force attacks more efficient. The fact that `sha512crypt` is slower isn't necessarily a bad thing. It would be nice if it didn't use as much CPU, though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135675967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135769384","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-1135769384","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":1135769384,"node_id":"IC_kwDOACaFSM5Dsnco","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T11:00:21Z","updated_at":"2022-05-24T11:00:21Z","author_association":"CONTRIBUTOR","body":"I believe `authenticate` checks for `SystemPermission.SYSTEM.\n\nOn Tue, May 24, 2022 at 5:52 AM Christopher Tubbs ***@***.***>\nwrote:\n\n> ***@***.**** commented on this pull request.\n> ------------------------------\n>\n> In\n> server/base/src/main/java/org/apache/accumulo/server/client/ClientServiceHandler.java\n> <https://github.com/apache/accumulo/pull/2215#discussion_r880302401>:\n>\n> > @@ -447,6 +460,83 @@ public List<TDiskUsage> getDiskUsage(Set<String> tables, TCredentials credential\n>      }\n>    }\n>\n> +  @Override\n> +  public List<FateTransaction> executeAdminOperation(TInfo tInfo, TCredentials credentials,\n> +      AdminOperation op, List<String> txids, List<String> filterStatuses)\n> +      throws ThriftSecurityException, TException {\n> +    try {\n> +      authenticate(tInfo, credentials);\n>\n> I mean SystemPermission.SYSTEM, or\n> security.canPerformSystemActions(credentials)\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/2215#discussion_r880302401>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AHASSV5YQBPKGVR3DJ6B3X3VLSRFHANCNFSM5BDFUX4Q>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135769384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135787981","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-1135787981","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":1135787981,"node_id":"IC_kwDOACaFSM5Dsr_N","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T11:21:33Z","updated_at":"2022-05-24T11:21:33Z","author_association":"MEMBER","body":"> I believe `authenticate` checks for `SystemPermission.SYSTEM.\n> \n\nNo, it does not. The API for authenticating allows system users to authenticate a provided set of user credentials to be authenticated, but it does not check that the user being authenticated has the system permission, unless the user is attempting to authenticate themselves, but in that case, the system permission is only being checked for the very limited purpose of authenticating... not for checking whether a user can perform a general system action.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135787981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135821742","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1135821742","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1135821742,"node_id":"IC_kwDOACaFSM5Ds0Ou","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T11:54:54Z","updated_at":"2022-05-24T11:54:54Z","author_association":"CONTRIBUTOR","body":"> I don't want to do anything custom.\r\n\r\nTo be clear I wasn't doing anything custom, `PBKDF2WithHmacSHA512` is a JCA supported algorithm. Looking at [CODEC-133](https://issues.apache.org/jira/browse/CODEC-133), the commons-codec classes implement the Linux crypt algorithm, but I'm not quite sure of it's lineage. There are several things mentioned in that ticket that seem to be merged together.\r\n\r\n> Something else to keep in mind: faster hashing makes brute force attacks more efficient. The fact that sha512crypt is slower isn't necessarily a bad thing. It would be nice if it didn't use as much CPU, though.\r\n\r\nAgreed, my test performed 1000 iterations to match what the commons codec code is doing by default. I don't think we are providing commons-codec with any number of iterations. NIST SP800-63B suggest doing 10,000 iterations, it says:\r\n\r\n> For PBKDF2, the cost factor is an iteration count: the more times the PBKDF2 function is iterated, the longer it takes to compute the password hash. Therefore, the iteration count SHOULD be as large as verification server performance will allow, typically at least 10,000 iterations.\r\n\r\nSo, my test is faster doing an apples-to-apples comparison, but would be slower when performing 10,000 iterations. We would still need the caching, IMO, since we are currently checking that the passwords match on each API call.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135821742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135822629","html_url":"https://github.com/apache/accumulo/pull/2720#issuecomment-1135822629","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2720","id":1135822629,"node_id":"IC_kwDOACaFSM5Ds0cl","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T11:55:54Z","updated_at":"2022-05-24T11:55:54Z","author_association":"CONTRIBUTOR","body":"> Should work for you now.\r\n\r\nYup works great!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135822629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135914922","html_url":"https://github.com/apache/accumulo/pull/2725#issuecomment-1135914922","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2725","id":1135914922,"node_id":"IC_kwDOACaFSM5DtK-q","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T13:19:20Z","updated_at":"2022-05-24T13:19:20Z","author_association":"MEMBER","body":"> I merged main onto this and resolved the conflicts caused by #2720 . \r\n\r\nThanks! \r\n\r\n> Based on last comment, though, I'm not sure this is ready for review/merging.\r\n\r\nThat is correct, this is not ready yet,\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1135914922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136101562","html_url":"https://github.com/apache/accumulo/pull/2718#issuecomment-1136101562","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2718","id":1136101562,"node_id":"IC_kwDOACaFSM5Dt4i6","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T15:50:40Z","updated_at":"2022-05-24T15:50:40Z","author_association":"CONTRIBUTOR","body":"@keith-turner @dlmarion @EdColeman @ctubbsii I think this change is good to go, if anyone would like to take a look. I made some updates to the Root Tablet code that @keith-turner did way at the beginning of the development cycle for 2.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136101562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136162226","html_url":"https://github.com/apache/accumulo/issues/2667#issuecomment-1136162226","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2667","id":1136162226,"node_id":"IC_kwDOACaFSM5DuHWy","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T16:45:57Z","updated_at":"2022-05-24T16:45:57Z","author_association":"CONTRIBUTOR","body":"@keith-turner Did you make any changes for this race condition bug?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136162226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136207451","html_url":"https://github.com/apache/accumulo/pull/2723#issuecomment-1136207451","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2723","id":1136207451,"node_id":"IC_kwDOACaFSM5DuSZb","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T17:11:40Z","updated_at":"2022-05-24T17:11:40Z","author_association":"MEMBER","body":"Thanks for the PR @nosewings . If you wish to be added as a contributor to https://accumulo.apache.org/people/ , please open a pull request to add yourself at https://github.com/apache/accumulo-website/edit/main/pages/people.md and leave a reference to `apache/accumulo#2723` in your commit log.\r\n\r\nIf you intend to be a regular contributor to Accumulo projects, please consider subscribing to our developer mailing list (https://accumulo.apache.org/contact-us/) and introducing yourself. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136207451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136236076","html_url":"https://github.com/apache/accumulo/pull/2708#issuecomment-1136236076","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2708","id":1136236076,"node_id":"IC_kwDOACaFSM5DuZYs","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T17:26:41Z","updated_at":"2022-05-24T17:26:41Z","author_association":"MEMBER","body":"@milleruntime I think you could merge this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136236076/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136240364","html_url":"https://github.com/apache/accumulo/pull/2708#issuecomment-1136240364","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2708","id":1136240364,"node_id":"IC_kwDOACaFSM5Duabs","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T17:29:38Z","updated_at":"2022-05-24T17:29:38Z","author_association":"CONTRIBUTOR","body":"> @milleruntime I think you could merge this.\r\n\r\nOK I will put some more in the description of the commit, trying to explain the situation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136240364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136324152","html_url":"https://github.com/apache/accumulo/pull/2723#issuecomment-1136324152","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2723","id":1136324152,"node_id":"IC_kwDOACaFSM5Duu44","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T18:59:11Z","updated_at":"2022-05-24T18:59:11Z","author_association":"CONTRIBUTOR","body":"> I have no comment here, this is not my area of expertise. Hoping that @phrocker and/or @keith-turner chime in on this as they know much more than I do about this.\r\n\r\nIt was merged I see, but it looks good to me as well. Good catch. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136324152/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136386342","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1136386342","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1136386342,"node_id":"IC_kwDOACaFSM5Du-Em","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T20:11:47Z","updated_at":"2022-05-24T20:11:47Z","author_association":"MEMBER","body":"> > I don't want to do anything custom.\r\n> \r\n> To be clear I wasn't doing anything custom, `PBKDF2WithHmacSHA512` is a JCA supported algorithm.\r\n\r\nRight, so, there's the algorithm, but then there's the serialization format. Crypt emits them in a well known serialization format. We'd have to do something custom for the serialization, even if we're using a built-in algorithm. I'd prefer to stick to the crypt standard for serialization, and limit ourselves to the algorithms it supports, rather than use a different algorithm and customize the serialization.\r\n\r\n> Looking at [CODEC-133](https://issues.apache.org/jira/browse/CODEC-133), the commons-codec classes implement the Linux crypt algorithm, but I'm not quite sure of it's lineage. There are several things mentioned in that ticket that seem to be merged together.\r\n\r\nLinux's crypt evolved out of the need to use something stronger than the DES algorithm, but needed to be serialized in a backwards-compatible way, and human-readable since it was going in a text file. They came up with the well-known prefix `$<algorithm_id>$`. The format of everything after that prefix depends on the algorithm, but ultimately, the hash is encoded using printable ASCII characters. The SHA-2 algorithms support a rounds from 1000 to 999,999,999 (also known as a \"CPU time cost parameter\" in the man page) parameter (defaults to 5000) and a 6-96 bit salt that is base-64 encoded.\r\n\r\nIf there are several things mentioned in the ticket, it's probably because there are multiple algorithms that are supported.\r\n\r\n> > Something else to keep in mind: faster hashing makes brute force attacks more efficient. The fact that sha512crypt is slower isn't necessarily a bad thing. It would be nice if it didn't use as much CPU, though.\r\n> \r\n> Agreed, my test performed 1000 iterations to match what the commons codec code is doing by default. I don't think we are providing commons-codec with any number of iterations. NIST SP800-63B suggest doing 10,000 iterations, it says:\r\n\r\nEven though the javadoc for Crypt incorrectly says the salt is specified without the rounds= parameter, you *can* specify that parameter to override the default of 5000. However, the Crypt API doesn't make this easy for us... we would have to randomly generate our own salt, base-64 encode it and pass it in, rather than rely on the library generating a random salt for us. And, their utility code to generate the salt and efficiently base64 is not public, so we'd have to rewrite it or copy it.\r\n\r\nIt would be nice to have an upstream change that makes it easier to specify the rounds (and also to support newer algorithms, like yescrypt). commons-codec is a bit out of date in this regard.\r\n\r\n> \r\n> > For PBKDF2, the cost factor is an iteration count: the more times the PBKDF2 function is iterated, the longer it takes to compute the password hash. Therefore, the iteration count SHOULD be as large as verification server performance will allow, typically at least 10,000 iterations.\r\n> \r\n> So, my test is faster doing an apples-to-apples comparison, but would be slower when performing 10,000 iterations. We would still need the caching, IMO, since we are currently checking that the passwords match on each API call.\r\n\r\nYours is not faster. The default is 5000, not 1000. Your test code uses 1000. When I ran your test with 5000, Crypt was faster. When I pre-generate the salts for Crypt, like you did with the PBKDF2, then it's slightly faster still.\r\n\r\nBut the question remains: do we want fast and efficient checks, or do we want slow checks/large iterations? The original issue was about performance... but if the performance is intentionally slower here, if lock contention is intentional to throttle as a mechanism to protect against brute force attacks, perhaps there's no bug here to fix? Can we have both? Throttled, but less CPU usage?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136386342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136438504","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1136438504","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1136438504,"node_id":"IC_kwDOACaFSM5DvKzo","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T21:13:56Z","updated_at":"2022-05-24T21:26:41Z","author_association":"CONTRIBUTOR","body":"> The default is 5000, not 1000.\r\n\r\nYou're right, I conflated that with ROUNDS_MIN.\r\n\r\n> But the question remains: do we want fast and efficient checks, or do we want slow checks/large iterations?\r\n\r\nI get the rationale behind the slow checks / large iterations. I don't know that the lock contention is intentional as a throttle mechanism. I have no issue with that happening the first time to make sure that the password passed in is in fact the correct one.  I think we need to do something here based on @keith-turner 's comment in #2707 (regarding the difference between caching and not caching successful password checks under load):\r\n\r\n```\r\nWith these changes and 500 concurrent queries the average time is 400ms and the max times are around 1000ms (ignoring the first few lines because JIT probably has not kicked in scan servers). Without these changes the average times are around 1600ms to 1700ms and the max times 15,000ms to 20,000ms\r\n```\r\n\r\nI can't imagine that this is the desired behavior. Was it this bad before the change to commons-codec in #1798?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136438504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136501004","html_url":"https://github.com/apache/accumulo/issues/2700#issuecomment-1136501004","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2700","id":1136501004,"node_id":"IC_kwDOACaFSM5DvaEM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T22:48:28Z","updated_at":"2022-05-24T22:48:28Z","author_association":"MEMBER","body":"> I can't imagine that this is the desired behavior. Was it this bad before the change to commons-codec in #1798?\r\n\r\nI don't know. We didn't use commons-codec before, but we did use a SHA-2 algorithm, SHA-256. I think those changes are worth any side-effects, though, especially if it's being mitigated by #2707 or another means.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136501004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136592531","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1136592531","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1136592531,"node_id":"IC_kwDOACaFSM5DvwaT","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T01:12:37Z","updated_at":"2022-05-25T01:12:37Z","author_association":"MEMBER","body":"@kitswas I accidentally reverted your last \"Code cleanup\" commit, but I see what you were trying to do. I want to keep the warning narrow on only the old property, so I added another commit that I think gets what you were trying to do, but preserves my intention as well. It's the same number of lines.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136592531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136606490","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1136606490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1136606490,"node_id":"IC_kwDOACaFSM5Dvz0a","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T01:30:23Z","updated_at":"2022-05-25T01:30:23Z","author_association":"CONTRIBUTOR","body":"> @kitswas I accidentally reverted your last \"Code cleanup\" commit, but I see what you were trying to do. I want to keep the warning narrow on only the old property, so I added another commit that I think gets what you were trying to do, but preserves my intention as well. It's the same number of lines.\r\n\r\n@ctubbsii Could you replace `var` with `Property`? Or is `var` in common use in this repository?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136606490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136624641","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1136624641","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1136624641,"node_id":"IC_kwDOACaFSM5Dv4QB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T01:52:58Z","updated_at":"2022-05-25T01:52:58Z","author_association":"MEMBER","body":"> @ctubbsii Could you replace `var` with `Property`? Or is `var` in common use in this repository?\r\n\r\n@kitswas `var` is commonly used in this project. In this case, the type is obvious, so I think var is okay, but I can change it, since it doesn't really help that much.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136624641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136630928","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1136630928","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1136630928,"node_id":"IC_kwDOACaFSM5Dv5yQ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T02:01:50Z","updated_at":"2022-05-25T02:01:50Z","author_association":"MEMBER","body":"I think this is good to merge now. I pinged @dlmarion for an updated review, but I think his comments have already been fully addressed. He can always follow up with an additional review after the fact.\r\n\r\nThanks for working on this. It was interesting how those partially mocked objects in the tests messed with the ability to fix this easily, but I'm glad for the opportunity to fix those tests.\r\n\r\nThanks for the PR @kitswas . If you wish to be added as a contributor to https://accumulo.apache.org/people/ , please open a pull request to add yourself at https://github.com/apache/accumulo-website/edit/main/pages/people.md and leave a reference to `apache/accumulo#2712` in your commit log.\r\n\r\nIf you intend to be a regular contributor to Accumulo projects, please consider subscribing to our developer mailing list (https://accumulo.apache.org/contact-us/) and introducing yourself. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136630928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136671487","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1136671487","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1136671487,"node_id":"IC_kwDOACaFSM5DwDr_","user":{"login":"kitswas","id":90329875,"node_id":"MDQ6VXNlcjkwMzI5ODc1","avatar_url":"https://avatars.githubusercontent.com/u/90329875?v=4","gravatar_id":"","url":"https://api.github.com/users/kitswas","html_url":"https://github.com/kitswas","followers_url":"https://api.github.com/users/kitswas/followers","following_url":"https://api.github.com/users/kitswas/following{/other_user}","gists_url":"https://api.github.com/users/kitswas/gists{/gist_id}","starred_url":"https://api.github.com/users/kitswas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kitswas/subscriptions","organizations_url":"https://api.github.com/users/kitswas/orgs","repos_url":"https://api.github.com/users/kitswas/repos","events_url":"https://api.github.com/users/kitswas/events{/privacy}","received_events_url":"https://api.github.com/users/kitswas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T03:00:30Z","updated_at":"2022-05-25T03:00:30Z","author_association":"CONTRIBUTOR","body":"> Thanks for working on this. It was interesting how those partially mocked objects in the tests messed with the ability to fix this easily, but I'm glad for the opportunity to fix those tests.\r\n\r\nIn retrospect, commit 6189662b0766debf42d199e148e8f52a9c6fe13c and the tests came close to the scenario described in the [Broken windows theory](https://blog.codinghorror.com/the-broken-window-theory/). If commit 6189662b0766debf42d199e148e8f52a9c6fe13c were kept, it would have been an excuse to skip fixing the tests in future.\r\n\r\n> If you intend to be a regular contributor to Accumulo projects, please consider subscribing to our developer mailing list (https://accumulo.apache.org/contact-us/) and introducing yourself. 😺\r\n\r\nVery tempting, almost dangerously so, but I think I will pass. My passion (programming, computers) is different from my profession. It has always been so. Hopefully, they will merge after I graduate.\r\n\r\nI primarily use Windows. [Apache Accumulo does not like that](https://stackoverflow.com/a/15540833/8659747). While I can [build using WSL](https://stackoverflow.com/a/72335829/8659747), WSL does not mesh well with most GUI tools (IntelliJ, Gitkraken, ...) other than VS Code. \r\n\r\n> Thanks for the PR @kitswas. If you wish to be added as a contributor to https://accumulo.apache.org/people/, please open a pull request to add yourself at https://github.com/apache/accumulo-website/edit/main/pages/people.md and leave a reference to apache/accumulo#2712 in your commit log.\r\n\r\nIs it alright to do this when you did most of the work?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136671487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136704746","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1136704746","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1136704746,"node_id":"IC_kwDOACaFSM5DwLzq","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T04:12:42Z","updated_at":"2022-05-25T04:13:25Z","author_association":"MEMBER","body":"> In retrospect, commit [6189662](https://github.com/apache/accumulo/commit/6189662b0766debf42d199e148e8f52a9c6fe13c) and the tests came close to the scenario described in the [Broken windows theory](https://blog.codinghorror.com/the-broken-window-theory/). If commit [6189662](https://github.com/apache/accumulo/commit/6189662b0766debf42d199e148e8f52a9c6fe13c) were kept, it would have been an excuse to skip fixing the tests in future.\r\n\r\nThanks for the good read. I was roughly familiar with the concept, but I hadn't thought about it in terms of programming. Seems obvious now. :smiley_cat:\r\n\r\n> \r\n> > If you intend to be a regular contributor to Accumulo projects, please consider subscribing to our developer mailing list (https://accumulo.apache.org/contact-us/) and introducing yourself. smiley_cat\r\n> \r\n> Very tempting, almost dangerously so, but I think I will pass. My passion (programming, computers) is different from my profession. It has always been so. Hopefully, they will merge after I graduate.\r\n\r\nMany Apache projects have contributors who contribute as a hobby. You're not alone there :smiley_cat:\r\n\r\n> \r\n> I primarily use Windows. [Apache Accumulo does not like that](https://stackoverflow.com/a/15540833/8659747). While I can [build using WSL](https://stackoverflow.com/a/72335829/8659747), WSL does not mesh well with most GUI tools (IntelliJ, Gitkraken, ...) other than VS Code.\r\n\r\nWhile it is highly unlikely that Accumulo will ever support Windows as a production platform, it's pretty common to do development on Windows. If there are small things here and there that we can do to make that easier, I think we'd be open to pull requests. But if there isn't an active interest to maintain that support, it will likely break over time. It's possible that future improvements to WSL will make Windows more seamless with Linux. You could also try running a virtual machine. Although, my personal recommendation is to just get used to using Linux :smiley_cat:\r\n\r\n> \r\n> > Thanks for the PR @kitswas. If you wish to be added as a contributor to https://accumulo.apache.org/people/, please open a pull request to add yourself at https://github.com/apache/accumulo-website/edit/main/pages/people.md and leave a reference to #2712 in your commit log.\r\n> \r\n> Is it alright to do this when you did most of the work?\r\n\r\nI would disagree with that assessment. I did the work on the tests, but those were merged separately. You did the work for this PR, and you helped identify the bugs in the tests that inspired those changes. My alterations to this PR ended up being very minimal code. But that's normal collaboration / code review. You were a part of that and can still take credit for your part in the collaboration!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136704746/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136765560","html_url":"https://github.com/apache/accumulo/issues/2322#issuecomment-1136765560","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2322","id":1136765560,"node_id":"IC_kwDOACaFSM5Dwap4","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T06:04:19Z","updated_at":"2022-05-25T06:04:19Z","author_association":"MEMBER","body":"This seems related to, or perhaps a duplicate of, #608\r\n\r\nShould we close one of them?\r\n\r\nAlso, I was thinking. The mapping of table IDs, which are BigInteger values, to their serialized form in the metadata table is not a monotonic function (it doesn't preserve order). So, when a new table is created, there's a good chance it's metadata is injected in the middle of the metadata table somewhere, and not at the end of the table in the last tablet. This might temporarily reduce initial hotspotting for new table's being created, but it could also be related to some potential garbage collection bugs if we don't account for it properly.\r\n\r\nInterestingly, the avoidance of hotspotting would only occur for the first few tables created, when the most significant digit is still changing frequently. We go back to hotspotting again quickly after a bunch of tables are created. This hotspotting is probably not substantial, but if we want to avoid it, that could be a separate ticket... to try to generate tableIds that are more spread out. However, if it turns out that inserting new table metadata (I'm particularly concerned about cloned tables, which have duplicate file references to existing tables) into the middle of a candidate garbage collection scan is the source of any bugs, we may want to just accept the hotspotting, and generate table IDs that are always appended to the end of the table, so their metadata is never inserted into the middle of a candidate scan.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1136765560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137095258","html_url":"https://github.com/apache/accumulo/pull/2712#issuecomment-1137095258","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2712","id":1137095258,"node_id":"IC_kwDOACaFSM5DxrJa","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T10:53:53Z","updated_at":"2022-05-25T10:53:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @kitswas. There was a brief time where I only had access to a windows machine and made some small attempts to getting Accumulo to build on Windows. Check out my branch if you are interested: https://github.com/milleruntime/accumulo/tree/windows","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137095258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137140505","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1137140505","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1137140505,"node_id":"IC_kwDOACaFSM5Dx2MZ","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T11:46:22Z","updated_at":"2022-05-25T11:46:22Z","author_association":"CONTRIBUTOR","body":"Do you think we could do some small change for this for 2.1? I hate to start a change as complex as this now but maybe we can do something for 2.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137140505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137165824","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1137165824","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1137165824,"node_id":"IC_kwDOACaFSM5Dx8YA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T12:14:40Z","updated_at":"2022-05-25T12:14:40Z","author_association":"MEMBER","body":"> Do you think we could do some small change for this for 2.1? I hate to start a change as complex as this now but maybe we can do something for 2.1.\r\n\r\nI don't think so. Not for 2.1. Changing this will not be small. There's too many things to consider, and I would like to release 2.1 this century :laughing:  ; There's already several big feature changes that need to be wrapped up for 2.1. This should be pushed to 3.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137165824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137611991","html_url":"https://github.com/apache/accumulo/issues/2731#issuecomment-1137611991","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2731","id":1137611991,"node_id":"IC_kwDOACaFSM5DzpTX","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T17:32:16Z","updated_at":"2022-05-25T17:36:39Z","author_association":"MEMBER","body":"Looks like this code has not been changed recently. I was able to reproduce the bug you described and I think I see what is going on. Looking at the logs, it looks like the request to fetch the new data for the table happens before the post request executes which clears the table:\r\n```\r\nPOST call to /rest/logs/clear                         [functions.js:321:11](http://localhost:9995/resources/js/functions.js)\r\nRetrieving /rest/status                               [functions.js:290:11](http://localhost:9995/resources/js/functions.js)\r\nREST POST call to /rest/logs/clear: success           [functions.js:325:13](http://localhost:9995/resources/js/functions.js)\r\n```\r\nThe operation to fetch new data that populates the table (represented by the middle log message) should happen last, I have an idea for a fix and will work on a PR for this now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137611991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137723870","html_url":"https://github.com/apache/accumulo/pull/2734#issuecomment-1137723870","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2734","id":1137723870,"node_id":"IC_kwDOACaFSM5D0Ene","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T18:55:34Z","updated_at":"2022-05-25T18:55:34Z","author_association":"CONTRIBUTOR","body":"When going through and changing `PerTableVolumeChooser` to `DelegatingChooser`, I noticed that there was a test that seemed to be focused on the `PerTableVolumeChooser` named `PerTableVolumeChooserTest`.\r\n\r\nSince `PerTableVolumeChooser` has now been renamed to `DelegatingChooser`, is there now a need to change the name of that testing file as well? For example, renaming it to `DelegatingChooserTest`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1137723870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]