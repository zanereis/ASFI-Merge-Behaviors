[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632489349","html_url":"https://github.com/apache/iceberg/pull/974#issuecomment-632489349","issue_url":"https://api.github.com/repos/apache/iceberg/issues/974","id":632489349,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ4OTM0OQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T05:25:38Z","updated_at":"2020-05-22T05:25:38Z","author_association":"COLLABORATOR","body":"Looks like no need to rebase. @rdblue, would you please help to take another look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632489349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632493735","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-632493735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":632493735,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ5MzczNQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T05:38:59Z","updated_at":"2020-05-22T05:38:59Z","author_association":"COLLABORATOR","body":"@rdblue , Since `PruneColumns` and `SparkParquetReader#ReaderBuilder` needs file schema with full assigned IDs, I revert`ApplyNameMapping` back to ignore the fields that don't have IDs to keep logic correct.\r\n\r\nSo we should either change `PruneColumns` and `SparkParquetReader#ReaderBuilder` visitor to accept a file schema with partial IDs assigned or use the `try...catch...` clause in the row group filter. What do you think?\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632493735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632545272","html_url":"https://github.com/apache/iceberg/pull/989#issuecomment-632545272","issue_url":"https://api.github.com/repos/apache/iceberg/issues/989","id":632545272,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjU0NTI3Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T07:38:32Z","updated_at":"2020-05-22T07:38:32Z","author_association":"CONTRIBUTOR","body":"@rdblue This is ready for another round of review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632545272/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632550875","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-632550875","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":632550875,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjU1MDg3NQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T07:49:47Z","updated_at":"2020-05-22T07:49:47Z","author_association":"COLLABORATOR","body":"@rdblue , The wrapper class tries to do something like the first commit I submit, IIUC, it should work but that would cause the concerns you raised before (impact perf in the tight loop and break the contact).  Plus, the class doesn't handle the `LIST` and `MAP`, maybe we need a visitor to build transforms?\r\n\r\n> I think what we need to do instead is to separate the concerns. Accessors should understand structure and rows should return the correct value types. That way we can eventually move to use the same accessors and we will just need rows that correctly translate for StructLike.\r\n\r\nEither one of the concerns gets solved should work, right? Given that we will have more data models (PIG, HIVE, Flink and etc..), eventually we will need more accessors or wrapper classes. IMHO, the accessor way looks a bit cleaner, actually, we could make the functions and subclasses in `StructLike` accessor as public, so that others could inherit from that. Does this make sense to you?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632550875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632670025","html_url":"https://github.com/apache/iceberg/issues/1014#issuecomment-632670025","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1014","id":632670025,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjY3MDAyNQ==","user":{"login":"vanliu-tx","id":64360028,"node_id":"MDQ6VXNlcjY0MzYwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/64360028?v=4","gravatar_id":"","url":"https://api.github.com/users/vanliu-tx","html_url":"https://github.com/vanliu-tx","followers_url":"https://api.github.com/users/vanliu-tx/followers","following_url":"https://api.github.com/users/vanliu-tx/following{/other_user}","gists_url":"https://api.github.com/users/vanliu-tx/gists{/gist_id}","starred_url":"https://api.github.com/users/vanliu-tx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanliu-tx/subscriptions","organizations_url":"https://api.github.com/users/vanliu-tx/orgs","repos_url":"https://api.github.com/users/vanliu-tx/repos","events_url":"https://api.github.com/users/vanliu-tx/events{/privacy}","received_events_url":"https://api.github.com/users/vanliu-tx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T12:38:20Z","updated_at":"2020-05-22T12:38:20Z","author_association":"CONTRIBUTOR","body":"@rdblue thank you for looking into this. I ran the test code with HDFS (50 threads in one process), by checking the final metadata file, the records count and committed snapshots count were as expected.\r\n\r\n[v501.metadata.json.txt](https://github.com/apache/incubator-iceberg/files/4667881/v501.metadata.json.txt)\r\n\r\nAlso tested with two processes (each has 50 threads) to commit data concurrently, the final records count and snapshots count were as expected.\r\n\r\n[v1001.metadata.json.txt](https://github.com/apache/incubator-iceberg/files/4668029/v1001.metadata.json.txt)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632670025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632689553","html_url":"https://github.com/apache/iceberg/pull/1013#issuecomment-632689553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1013","id":632689553,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjY4OTU1Mw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T13:26:08Z","updated_at":"2020-05-22T13:26:08Z","author_association":"CONTRIBUTOR","body":"@rdblue sorry for my late response~~\r\nThe PR is updated with a UT added to verify the changes in PartitionKey. Regarding the changes in Accessors, it seems hard to add a UT for it, as PositionAccessor in Accessors does not have any sub-class so far. \r\nWould you please review it at your most convenience? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632689553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632748984","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632748984","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632748984,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc0ODk4NA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:18:54Z","updated_at":"2020-05-22T15:18:54Z","author_association":"CONTRIBUTOR","body":"@rdblue does [this](https://github.com/apache/incubator-iceberg/pull/935/commits/0e7169ac1a78408a633de7986c3ff271dbc80f8e) do the trick? Looks OK to me and the build works...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632748984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632755432","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632755432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632755432,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc1NTQzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:31:08Z","updated_at":"2020-05-22T15:31:08Z","author_association":"CONTRIBUTOR","body":"I tried that option, but IntelliJ doesn't seem to pick it up.\r\n\r\nThe problem with this is that it creates the output of the `jar` task in `shadowJar`. Both tasks create the same output file. Then it is ambiguous to dependency management what is happening, I think. By using `empty` for the `jar` task's classifier, we avoid the problem and IntelliJ is able to correctly build a classpath. But then publishing is broken because we need to turn off publication for `jar` and turn on publication for `shadowJar`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632755432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632756644","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632756644","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632756644,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc1NjY0NA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:33:46Z","updated_at":"2020-05-22T15:33:46Z","author_association":"CONTRIBUTOR","body":"Ah, OK, I'm not using IntelliJ so I don't see the problem you're seeing. [This ](https://github.com/apache/incubator-iceberg/pull/935/commits/6cc49aac84c921d64f40366f3b81a4970272ce85)is actually better than the  above and seems to achieve the same thing but I get the feeling that's what you already tried with the `null` classifier so will probably have the same problem in IntelliJ. Hmmm...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632756644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632757641","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632757641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632757641,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc1NzY0MQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:36:00Z","updated_at":"2020-05-22T15:36:00Z","author_association":"CONTRIBUTOR","body":"Is there something that can be done in the Gradle `maven-publish` plugin to do what you describe? I know very little about it I'm afraid...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632757641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632759232","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632759232","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632759232,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc1OTIzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:39:29Z","updated_at":"2020-05-22T15:39:29Z","author_association":"CONTRIBUTOR","body":"Yeah, I'm using `classifier null` for `shadowJar` and `classifier 'empty'` for `jar`. That works, but I need to find the right way to configure publishing. I think I'm close to a solution, but Gradle is hard to work with if you need to do anything off of the paved path.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632759232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632759747","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632759747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632759747,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc1OTc0Nw==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:40:35Z","updated_at":"2020-05-22T15:40:35Z","author_association":"CONTRIBUTOR","body":"Tell me about it.\r\n\r\nOK, will leave it with you for now. Feel free to push into this branch, you should have the rights.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632759747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632759995","html_url":"https://github.com/apache/iceberg/pull/1013#issuecomment-632759995","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1013","id":632759995,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc1OTk5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:41:07Z","updated_at":"2020-05-22T15:41:07Z","author_association":"CONTRIBUTOR","body":"The test looks good. I fixed the checkstyle error so hopefully tests pass and I can merge this. Thanks, @waterlx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632759995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632762829","html_url":"https://github.com/apache/iceberg/pull/1052#issuecomment-632762829","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1052","id":632762829,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc2MjgyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:46:57Z","updated_at":"2020-05-22T15:46:57Z","author_association":"CONTRIBUTOR","body":"Looks great! Thanks for fixing this, @jerryshao!\r\n\r\nFYI @aokolnychyi.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632762829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632767571","html_url":"https://github.com/apache/iceberg/pull/989#issuecomment-632767571","issue_url":"https://api.github.com/repos/apache/iceberg/issues/989","id":632767571,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc2NzU3MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T15:56:32Z","updated_at":"2020-05-22T15:56:32Z","author_association":"CONTRIBUTOR","body":"This looks good to me, except for the conflicts. Can you rebase and we can commit it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632767571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632778769","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-632778769","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":632778769,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc3ODc2OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T16:20:30Z","updated_at":"2020-05-22T16:20:30Z","author_association":"CONTRIBUTOR","body":"You're right that it's more similar to your original commit than to my suggestion to use accessors. The other issue with accessors made me think that conversion should not be tightly coupled there.\r\n\r\nThis is also a bit different from your original version: the `GenericRecord` class isn't modified. Instead, it is wrapped to produce the internal representations. The original version detected when it needed to convert based on the requested class, which is what I wanted to avoid. This converts values using a list of transforms determined when the wrapper is created. For example, if position 5 is a date, then it is always transformed when it is returned. This cuts down on the amount of work done fetching each value.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632778769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632779817","html_url":"https://github.com/apache/iceberg/pull/989#issuecomment-632779817","issue_url":"https://api.github.com/repos/apache/iceberg/issues/989","id":632779817,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc3OTgxNw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T16:22:03Z","updated_at":"2020-05-22T16:22:03Z","author_association":"CONTRIBUTOR","body":"Weird. I thought I did resolve the conflicts.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632779817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632781762","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-632781762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":632781762,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc4MTc2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T16:24:52Z","updated_at":"2020-05-22T16:24:52Z","author_association":"CONTRIBUTOR","body":"Also, to address your comment that the accessors approach is cleaner, we already have two copies of the accessors (in Spark and in API) and running evaluators on another object model would require another copy. Moving the conversion responsibility to a wrapper means we can use the same accessors in other places. And a wrapper also fits well with the need to adapt other record models to `StructLike`. We can build a `StructLike` wrapper for Avro records, for example.\r\n\r\nThis doesn't support lists and maps because those can't be used in expressions. If we start supporting expressions that operate on collections, we would need to build a visitor like you suggested.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632781762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632787691","html_url":"https://github.com/apache/iceberg/pull/989#issuecomment-632787691","issue_url":"https://api.github.com/repos/apache/iceberg/issues/989","id":632787691,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjc4NzY5MQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T16:33:41Z","updated_at":"2020-05-22T16:33:41Z","author_association":"CONTRIBUTOR","body":"@rdblue . Fixed conflicts and filed all the necessary followups.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632787691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632810615","html_url":"https://github.com/apache/iceberg/pull/1052#issuecomment-632810615","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1052","id":632810615,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjgxMDYxNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T17:08:22Z","updated_at":"2020-05-22T17:12:57Z","author_association":"CONTRIBUTOR","body":"Yeah, I've seen this problem but didn't get time to fix it. Thanks, @jerryshao.\r\n\r\nI believe the problem is not about having a qualified path. The problem is about not having a scheme in the table's location. I believe `LocationProvider` will use the table location as a basis to generate a qualified location for each new file. However, those locations will not have a scheme if the root table location does not have it.\r\n\r\nThat's why I am not sure how this UDF will help us:\r\n\r\n```\r\n  private static final UserDefinedFunction filename = functions.udf((String path) -> {\r\n     int lastIndex = path.lastIndexOf(File.separator);\r\n     if (lastIndex == -1) {\r\n       return path;\r\n     } else {\r\n       return path.substring(lastIndex + 1);\r\n     }\r\n   }, DataTypes.StringType);\r\n```\r\n\r\nAlso, switching to `contains` means using `BroadcastNestedLoopJoin`. This action is already very expensive for large tables. I worry it wouldn't complete at all now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632810615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632818281","html_url":"https://github.com/apache/iceberg/pull/1052#issuecomment-632818281","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1052","id":632818281,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjgxODI4MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T17:26:11Z","updated_at":"2020-05-22T17:26:11Z","author_association":"CONTRIBUTOR","body":"Actually, I take it back. I missed the point that the UDF we added actually fetches the file name only and having an equality predicate will avoid the nested loop join.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632818281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632832524","html_url":"https://github.com/apache/iceberg/pull/900#issuecomment-632832524","issue_url":"https://api.github.com/repos/apache/iceberg/issues/900","id":632832524,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjgzMjUyNA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T18:02:30Z","updated_at":"2020-05-22T18:02:30Z","author_association":"CONTRIBUTOR","body":"I think it is ready. @aokolnychyi had a comment about not testing timestamp types in here, but thats because\r\n1. Iceberg Spark doesn't support Timestamp without zone\r\n2. Spark file readers don't support TIMESTAMP_INSTANT which is the ORC type Iceberg uses for Timestamp with zone","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632832524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632833840","html_url":"https://github.com/apache/iceberg/pull/973#issuecomment-632833840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/973","id":632833840,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjgzMzg0MA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T18:06:05Z","updated_at":"2020-05-22T18:06:05Z","author_association":"CONTRIBUTOR","body":"This is ready for another round of review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632833840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632842796","html_url":"https://github.com/apache/iceberg/pull/900#issuecomment-632842796","issue_url":"https://api.github.com/repos/apache/iceberg/issues/900","id":632842796,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg0Mjc5Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T18:32:02Z","updated_at":"2020-05-22T18:32:02Z","author_association":"CONTRIBUTOR","body":"Thanks, @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632842796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632843310","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632843310","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632843310,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg0MzMxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T18:33:35Z","updated_at":"2020-05-22T18:33:35Z","author_association":"CONTRIBUTOR","body":"@massdosage, I couldn't push to the branch, so I opened a PR against it: https://github.com/ExpediaGroup/incubator-iceberg/pull/10\r\n\r\nThe main problem was that I was trying to detect use of the shadow plugin before it was applied. I just had to move the deploy.gradle script below the projects. That required linking the shadowJar task to a task that exists before publications are configured. Then I also fixed the iceberg-spark-runtime Jar to use the same publication config for consistency.\r\n\r\nI also fixed a couple other minor things, like merging master and the NOTICE file.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632843310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632844199","html_url":"https://github.com/apache/iceberg/pull/973#issuecomment-632844199","issue_url":"https://api.github.com/repos/apache/iceberg/issues/973","id":632844199,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg0NDE5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T18:36:03Z","updated_at":"2020-05-22T18:36:03Z","author_association":"CONTRIBUTOR","body":"The test failure is python, so it shouldn't block this. I'll look into why it's failing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632844199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632848728","html_url":"https://github.com/apache/iceberg/pull/989#issuecomment-632848728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/989","id":632848728,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg0ODcyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T18:42:06Z","updated_at":"2020-05-22T18:42:06Z","author_association":"CONTRIBUTOR","body":"Looks good to me! I'll merge it. Thanks, @rdsr!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632848728/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632864618","html_url":"https://github.com/apache/iceberg/issues/1014#issuecomment-632864618","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1014","id":632864618,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg2NDYxOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T19:08:30Z","updated_at":"2020-05-22T19:08:30Z","author_association":"CONTRIBUTOR","body":"@vanliu-tx, is it okay to close this, then? I think the problem is that a local POSIX FS doesn't satisfy the requirements for Hadoop tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632864618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632870467","html_url":"https://github.com/apache/iceberg/issues/1014#issuecomment-632870467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1014","id":632870467,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg3MDQ2Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T19:24:57Z","updated_at":"2020-05-22T19:24:57Z","author_association":"CONTRIBUTOR","body":"The local file system does not have the needed guarantee for `HadoopTableOperations`. That's the reason why we don't have a concurrency test for Hadoop tables in unit tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632870467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632885174","html_url":"https://github.com/apache/iceberg/pull/1059#issuecomment-632885174","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1059","id":632885174,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg4NTE3NA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T19:44:12Z","updated_at":"2020-05-22T19:44:12Z","author_association":"CONTRIBUTOR","body":"There are a few more I think\r\n```\r\n grep -r incubat .  |grep -v iml | grep -v jar | grep -v site | grep -v .git\r\n./python/README.md:cd incubator-iceberg/python\r\n./deploy.gradle:          name = 'Apache Iceberg (incubating)'\r\n./NOTICE:Apache Iceberg (incubating)\r\n./README.md:[![](https://travis-ci.org/apache/incubator-iceberg.svg?branch=master)](https://travis-ci.org/apache/incubator-iceberg)\r\n./spark-runtime/NOTICE:Apache Iceberg (incubating)\r\n./dev/source-release.sh:svn co --depth=empty https://dist.apache.org/repos/dist/dev/incubator/iceberg tmp\r\n./dev/source-release.sh:echo \"  https://dist.apache.org/repos/dist/dev/incubator/iceberg/$tagrc\"\r\n./spark/bin/test/org/apache/iceberg/examples/README.md:  compile 'org.apache.iceberg:iceberg-core:0.7.0-incubating'\r\n./spark/bin/test/org/apache/iceberg/examples/README.md:There are multiple ways of creating tables with Iceberg, including using the Hive Metastore to keep track of tables ([HiveCatalog](https://iceberg.apache.org/api-quickstart/#using-a-hive-catalog)), or using HDFS / your local file system ([HadoopTables](https://iceberg.incubator.apache.org/api-quickstart/#using-hadoop-tables)) to store the tables. However, it should be noted that directory tables (such as those using `HadoopTables`)  don’t support all catalog operations, like rename and therefore use the `Tables` interface instead of the `Catalog` interface.\r\n./spark/bin/test/org/apache/iceberg/examples/README.md:The metadata for your table is kept in json files and each commit to a table will produce a new metadata file. For tables using a metastore for the metadata, the file used is whichever file the metastore points at. For `HadoopTables`, the file used will be the latest version available. Look [here](https://iceberg.incubator.apache.org/spec/#table-metadata) for more information on metadata.\r\n./spark/bin/test/org/apache/iceberg/examples/README.md:[This test](ConcurrencyTest.java) looks to experiment with how optimistic concurrency works. For more information on conflict resolution, look [here](https://iceberg.incubator.apache.org/spec/#table-metadata) and for information on write concurrency, look [here](https://iceberg.incubator.apache.org/reliability/#concurrent-write-operations).\r\n./spark/bin/test/org/apache/iceberg/examples/README.md:You can find more information on other table properties you can configure [here](https://iceberg.incubator.apache.org/configuration/#table-properties).\r\n./spark/src/test/java/org/apache/iceberg/examples/README.md:  compile 'org.apache.iceberg:iceberg-core:0.7.0-incubating\r\n```\r\nSome of these doesn't make sense to change unless we change the repo name.\r\nDo we eventually change the repo name also in the future?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632885174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632886173","html_url":"https://github.com/apache/iceberg/pull/1059#issuecomment-632886173","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1059","id":632886173,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg4NjE3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T19:48:00Z","updated_at":"2020-05-22T19:48:00Z","author_association":"CONTRIBUTOR","body":"We can change references to the current repository once it's renamed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632886173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632892747","html_url":"https://github.com/apache/iceberg/pull/973#issuecomment-632892747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/973","id":632892747,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjg5Mjc0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T20:10:19Z","updated_at":"2020-05-22T20:10:19Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nLooks like this conflicts with recent merges, so we'll have to fix those. Otherwise, this looks good to me.\r\n\r\nThe test failure isn't happening in master or other PRs, so I think it's safe to merge this with the python failure.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632892747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632914748","html_url":"https://github.com/apache/iceberg/pull/199#issuecomment-632914748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/199","id":632914748,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjkxNDc0OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T21:26:38Z","updated_at":"2020-05-22T21:26:38Z","author_association":"CONTRIBUTOR","body":"Thanks, @edgarRd! I reviewed this and it's looking good.\r\n\r\nMy main concern is having correct conversions for lower and upper bounds, so it would be great to have @rdsr and @shardulm94 take a look at this as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632914748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632918341","html_url":"https://github.com/apache/iceberg/pull/199#issuecomment-632918341","issue_url":"https://api.github.com/repos/apache/iceberg/issues/199","id":632918341,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjkxODM0MQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T21:37:36Z","updated_at":"2020-05-22T21:37:36Z","author_association":"CONTRIBUTOR","body":"@rdblue Thanks for the review! - Yeah, I'm running the same metrics tests used for Parquet (with the exception of 2 that are parquet specific). \r\nI agree, please @rdsr and @shardulm94 feel free to take a look. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632918341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632928704","html_url":"https://github.com/apache/iceberg/pull/199#issuecomment-632928704","issue_url":"https://api.github.com/repos/apache/iceberg/issues/199","id":632928704,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjkyODcwNA==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T22:12:20Z","updated_at":"2020-05-22T22:12:20Z","author_association":"CONTRIBUTOR","body":"I'm going to need to rebase this PR to https://github.com/apache/incubator-iceberg/pull/989","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632928704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632937954","html_url":"https://github.com/apache/iceberg/pull/199#issuecomment-632937954","issue_url":"https://api.github.com/repos/apache/iceberg/issues/199","id":632937954,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjkzNzk1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T23:00:43Z","updated_at":"2020-05-22T23:00:43Z","author_association":"CONTRIBUTOR","body":"I agree with rebasing on #989 in master. That will make it easier to remove the stats for repeated columns because you can discard them as you traverse up the schema tree.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632937954/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632956119","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-632956119","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":632956119,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjk1NjExOQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-23T00:38:48Z","updated_at":"2020-05-23T00:38:48Z","author_association":"COLLABORATOR","body":"@rdblue, I have updated to use wrapper class, would you please take another look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632956119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633340418","html_url":"https://github.com/apache/iceberg/pull/1052#issuecomment-633340418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1052","id":633340418,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzM0MDQxOA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T02:00:30Z","updated_at":"2020-05-25T02:00:30Z","author_association":"CONTRIBUTOR","body":"Yes, the key problem is that we don't always change the path to a qualified one, and depends on user's provided `path`. If we could unify the path to a qualified one, then this problem could be fixed. But when I check the code, seems there're various places need to be changed, so I chose this simple fix instead.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633340418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633395136","html_url":"https://github.com/apache/iceberg/pull/885#issuecomment-633395136","issue_url":"https://api.github.com/repos/apache/iceberg/issues/885","id":633395136,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzM5NTEzNg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T06:08:13Z","updated_at":"2020-05-25T06:08:13Z","author_association":"COLLABORATOR","body":"Close this due to duplicated with https://github.com/apache/incubator-iceberg/pull/1030","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633395136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633395387","html_url":"https://github.com/apache/iceberg/issues/824#issuecomment-633395387","issue_url":"https://api.github.com/repos/apache/iceberg/issues/824","id":633395387,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzM5NTM4Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T06:09:04Z","updated_at":"2020-05-25T06:09:04Z","author_association":"COLLABORATOR","body":"This is resolved by https://github.com/apache/incubator-iceberg/pull/1030.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633395387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633411638","html_url":"https://github.com/apache/iceberg/pull/922#issuecomment-633411638","issue_url":"https://api.github.com/repos/apache/iceberg/issues/922","id":633411638,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzQxMTYzOA==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T06:57:01Z","updated_at":"2020-05-25T06:57:01Z","author_association":"COLLABORATOR","body":"@rdblue Wondering if it is better to have another separate PR to implement change-based partition spec evolution as this PR has already addressed #836 and added the basic evolution features to Table API. Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633411638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633647739","html_url":"https://github.com/apache/iceberg/pull/1060#issuecomment-633647739","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1060","id":633647739,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY0NzczOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T16:42:03Z","updated_at":"2020-05-25T16:42:03Z","author_association":"CONTRIBUTOR","body":"Thanks for picking this up, @maqroll! I'll try to review the draft later today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633647739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633650626","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-633650626","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":633650626,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY1MDYyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T16:51:21Z","updated_at":"2020-05-25T16:51:21Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, it looks great! Just one thing to fix: we don't want to create a new wrapper each time we evaluate the predicate.\r\n\r\nThanks for fixing this, and for trying different approaches until we found the right one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633650626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633650881","html_url":"https://github.com/apache/iceberg/issues/1061#issuecomment-633650881","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1061","id":633650881,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY1MDg4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T16:52:15Z","updated_at":"2020-05-25T16:52:15Z","author_association":"CONTRIBUTOR","body":"Sounds great! I'd love to see more actions to maintain table data and metadata.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633650881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633651372","html_url":"https://github.com/apache/iceberg/issues/1053#issuecomment-633651372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1053","id":633651372,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY1MTM3Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T16:53:54Z","updated_at":"2020-05-25T16:53:54Z","author_association":"CONTRIBUTOR","body":"Yes, the Spark 3 branch supports both SQL DDL and DML.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633651372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633655191","html_url":"https://github.com/apache/iceberg/pull/922#issuecomment-633655191","issue_url":"https://api.github.com/repos/apache/iceberg/issues/922","id":633655191,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY1NTE5MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T17:07:07Z","updated_at":"2020-05-25T17:07:07Z","author_association":"CONTRIBUTOR","body":"@jun-he, thanks for working on this.\r\n\r\nI don't think that the API here is the right one. I think that the change-based API is the only one we need, so it doesn't make sense to have a replacement API in addition. My comment above has more context.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633655191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633657876","html_url":"https://github.com/apache/iceberg/pull/973#issuecomment-633657876","issue_url":"https://api.github.com/repos/apache/iceberg/issues/973","id":633657876,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY1Nzg3Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T17:16:16Z","updated_at":"2020-05-25T17:16:16Z","author_association":"CONTRIBUTOR","body":"Merged. Nice work, @shardulm94! Thank you for working on this, it's a great feature to have for ORC users.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633657876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633659294","html_url":"https://github.com/apache/iceberg/pull/974#issuecomment-633659294","issue_url":"https://api.github.com/repos/apache/iceberg/issues/974","id":633659294,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY1OTI5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T17:21:24Z","updated_at":"2020-05-25T17:21:24Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, it looks like the changes from #1038 are included in the diff for this one. Could you rebase to remove them? This may merge cleanly because the changes are identical, but it is harder to review with changes from other PRs mixed in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633659294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633663562","html_url":"https://github.com/apache/iceberg/pull/1013#issuecomment-633663562","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1013","id":633663562,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY2MzU2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T17:36:47Z","updated_at":"2020-05-25T17:36:47Z","author_association":"CONTRIBUTOR","body":"Since this didn't get picked up by CI, I ran `./gradlew check` locally and everything looks good so I'll merge.\r\n\r\nThanks for fixing this, @waterlx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633663562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633741047","html_url":"https://github.com/apache/iceberg/pull/1063#issuecomment-633741047","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1063","id":633741047,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzc0MTA0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T23:24:40Z","updated_at":"2020-05-25T23:24:57Z","author_association":"CONTRIBUTOR","body":"I'm closing this because it was needed for #1064 and isn't worth merging separately.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633741047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633770057","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-633770057","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":633770057,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzc3MDA1Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T02:03:19Z","updated_at":"2020-05-26T11:03:43Z","author_association":"COLLABORATOR","body":"@rdblue , you are welcome! Also, thank you for the great patience in reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633770057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633775757","html_url":"https://github.com/apache/iceberg/issues/994#issuecomment-633775757","issue_url":"https://api.github.com/repos/apache/iceberg/issues/994","id":633775757,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzc3NTc1Nw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T02:29:24Z","updated_at":"2020-05-26T02:29:24Z","author_association":"CONTRIBUTOR","body":"I am about to close this issue as PR #1013 is merged into master","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633775757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633781369","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-633781369","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":633781369,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzc4MTM2OQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T02:55:11Z","updated_at":"2020-05-26T02:55:11Z","author_association":"COLLABORATOR","body":"This is strange, the local build passed. Let me rebase and test again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633781369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633808288","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-633808288","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":633808288,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzgwODI4OA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T05:00:33Z","updated_at":"2020-05-26T05:26:29Z","author_association":"COLLABORATOR","body":"This commit: e8f7379ffe253623e9dd27a1ada7d4421af8b937 break the unit tests. @shardulm94, FYI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/633808288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634133454","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-634133454","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":634133454,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDEzMzQ1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T16:28:34Z","updated_at":"2020-05-26T16:28:34Z","author_association":"CONTRIBUTOR","body":"@massdosage, looks like there were more changes since I merged master. Could you merge and push? I'll try to get this in quickly so that we don't need to keep fixing it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634133454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634141500","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-634141500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":634141500,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE0MTUwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T16:43:37Z","updated_at":"2020-05-26T16:43:37Z","author_association":"CONTRIBUTOR","body":"Thanks, @chenjunjiedada. I merged this.\r\n\r\n@shardulm94, we should fix the new test that fails for ORC pushdown in a separate PR. I didn't want to block this PR on an unrelated issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634141500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634154922","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634154922","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634154922,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE1NDkyMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T17:07:27Z","updated_at":"2020-05-26T17:07:27Z","author_association":"CONTRIBUTOR","body":"Can you describe the problem with a bit more detail? Where are you passing options and why are they not carried through?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634154922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634163120","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634163120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634163120,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE2MzEyMA==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T17:22:50Z","updated_at":"2020-05-26T17:22:50Z","author_association":"CONTRIBUTOR","body":"@rdblue : We use spark options to send hadoop configurations (specifically mentioned below), to read/write to Iceberg table. These options have helped in reading/writing when we have multiple SparkSession (which shares hadoop configuration on Global spark Context), each belonging to a tenant, and each tenant can potentially have different creds (have different ACLs as well).\r\n\r\nThere is multi tenant configuration also available like `dfs.adls.oauth2.client.id.{accountName}`, which can be set on sparkContext, but we don't want to expose the creds from one session to other. Make sense? I think it will help in scenarios, even multi tenant hadoop configuration aren't supported by underlying store.\r\n\r\nNOTE: This is already supported [here].\r\n\r\n\r\n```\r\nhadoop.dfs.adls.oauth2.client.id={clientId}\r\n```\r\n\r\n[here]: https://github.com/apache/incubator-iceberg/blob/master/spark/src/main/java/org/apache/iceberg/spark/source/IcebergSource.java#L180","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634163120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634163746","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634163746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634163746,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE2Mzc0Ng==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T17:24:04Z","updated_at":"2020-05-26T17:24:04Z","author_association":"CONTRIBUTOR","body":"I think I am missing on merging the properties from table. Let me do that, that's being done in IcebergSource.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634163746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634165685","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634165685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634165685,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE2NTY4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T17:27:38Z","updated_at":"2020-05-26T17:28:45Z","author_association":"CONTRIBUTOR","body":"Okay, so it sounds like the FileIO for the table is created correctly, it is just the locality code that is a problem? Is this throwing an exception? (If so, can you paste it here?)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634165685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634177912","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634177912","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634177912,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE3NzkxMg==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T17:51:15Z","updated_at":"2020-05-26T17:51:15Z","author_association":"CONTRIBUTOR","body":"@rdblue : Yes its just the locality code, which is missing on this, IcebergSource is already doing this, as mentioned. The exception we see is inside DataBricks. \r\n\r\nI will piggy back this stacktrace on Issue as well. \r\n```\r\nstacktrace: java.lang.IllegalArgumentException: No value for fs.adl.oauth2.access.token.provider found in conf file. \r\nat com.databricks.adl.AdlFileSystem.getNonEmptyVal(AdlFileSystem.java:804) \r\nat com.databricks.adl.AdlFileSystem.getCustomAccessTokenProvider(AdlFileSystem.java:204) \r\nat com.databricks.adl.AdlFileSystem.getAccessTokenProvider(AdlFileSystem.java:241) \r\nat com.databricks.adl.AdlFileSystem.initialize(AdlFileSystem.java:148) \r\nat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2669) \r\nat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:370) \r\nat org.apache.hadoop.fs.Path.getFileSystem(Path.java:295) \r\nat org.apache.iceberg.spark.source.Reader.<init>(Reader.java:128) \r\nat org.apache.iceberg.spark.source.IcebergSource.createReader(IcebergSource.java:126) \r\nat org.apache.iceberg.spark.source.IcebergSource.createReader(IcebergSource.java:89) \r\nat org.apache.spark.sql.execution.datasources.v2.DataSourceV2Relation$SourceHelpers.createReader(DataSourceV2Relation.scala:155) \r\nat org.apache.spark.sql.execution.datasources.v2.DataSourceV2Relation$.create(DataSourceV2Relation.scala:172) \r\nat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:286) \r\nat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:214) \r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634177912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634180833","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634180833","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634180833,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE4MDgzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T17:56:38Z","updated_at":"2020-05-26T17:56:38Z","author_association":"CONTRIBUTOR","body":"Alright, this proposed fix seems reasonable to me, then.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634180833/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634219281","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634219281","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634219281,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDIxOTI4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T19:07:50Z","updated_at":"2020-05-26T19:07:50Z","author_association":"CONTRIBUTOR","body":"Thanks, @mehtaashish23! Merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634219281/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634228498","html_url":"https://github.com/apache/iceberg/issues/1065#issuecomment-634228498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1065","id":634228498,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDIyODQ5OA==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T19:25:09Z","updated_at":"2020-05-26T19:25:09Z","author_association":"CONTRIBUTOR","body":"PR https://github.com/apache/incubator-iceberg/pull/1066","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634228498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634281405","html_url":"https://github.com/apache/iceberg/pull/1067#issuecomment-634281405","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1067","id":634281405,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDI4MTQwNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T21:11:11Z","updated_at":"2020-05-26T21:11:11Z","author_association":"CONTRIBUTOR","body":"@jerryshao, you may be interested in this change because it allows multiple Spark versions in the build. @massdosage, this should help fix your dependency issues as well.\r\n\r\n@mccheah, you may be interested in reviewing this because it updates how dependencies are locked.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634281405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634295422","html_url":"https://github.com/apache/iceberg/pull/1068#issuecomment-634295422","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1068","id":634295422,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDI5NTQyMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T21:42:40Z","updated_at":"2020-05-26T21:42:40Z","author_association":"CONTRIBUTOR","body":"I tested this locally, so I didn't wait for CI to complete.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634295422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634296190","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-634296190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":634296190,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDI5NjE5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T21:44:30Z","updated_at":"2020-05-26T21:44:30Z","author_association":"CONTRIBUTOR","body":"Since this changes so many files, I went ahead and fixed the conflicts and committed it in #1068. That way you don't have to keep modifying it, only to have it broken by the next commit that gets merged.\r\n\r\nThanks for fixing this, @massdosage and @cmathiesen!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634296190/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634305850","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-634305850","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":634305850,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDMwNTg1MA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T22:06:23Z","updated_at":"2020-05-26T22:06:23Z","author_association":"CONTRIBUTOR","body":"@rdblue Ack, on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634305850/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634307791","html_url":"https://github.com/apache/iceberg/pull/1060#issuecomment-634307791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1060","id":634307791,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDMwNzc5MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T22:11:20Z","updated_at":"2020-05-26T22:11:20Z","author_association":"CONTRIBUTOR","body":"@maqroll, this looks like a great start! I left a few comments, but it's mostly looking good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634307791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634322859","html_url":"https://github.com/apache/iceberg/pull/1066#issuecomment-634322859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1066","id":634322859,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDMyMjg1OQ==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T22:55:09Z","updated_at":"2020-05-26T22:55:09Z","author_association":"CONTRIBUTOR","body":"Thanks Ryan, appreciate the prompt merge. This has actually unblocked our use case within a day!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634322859/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634327409","html_url":"https://github.com/apache/iceberg/pull/1069#issuecomment-634327409","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1069","id":634327409,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDMyNzQwOQ==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T23:09:20Z","updated_at":"2020-05-26T23:09:20Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @chenjunjiedada ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634327409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634361689","html_url":"https://github.com/apache/iceberg/pull/199#issuecomment-634361689","issue_url":"https://api.github.com/repos/apache/iceberg/issues/199","id":634361689,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDM2MTY4OQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T01:01:59Z","updated_at":"2020-05-27T01:01:59Z","author_association":"CONTRIBUTOR","body":"I've addressed some comments, but still need to rebase for #989 and #1070 so that'd simplify this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634361689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634373952","html_url":"https://github.com/apache/iceberg/issues/1057#issuecomment-634373952","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1057","id":634373952,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDM3Mzk1Mg==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T01:38:38Z","updated_at":"2020-05-27T01:38:38Z","author_association":"CONTRIBUTOR","body":"@rdsr This should have been fixed already by https://issues.apache.org/jira/browse/ORC-556. Are you sure your local copy was using ORC >= 1.6.3 when you tested this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634373952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634569994","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-634569994","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":634569994,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDU2OTk5NA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T10:23:26Z","updated_at":"2020-05-27T10:23:26Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue - makes sense to merge it in as the pain of merge conflicts hasn't been much fun when keeping this up to date. We might need to raise a separate issue and PR for some specifics with Guava when trying to test Hive but we'll tackle that next.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634569994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634570859","html_url":"https://github.com/apache/iceberg/issues/934#issuecomment-634570859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/934","id":634570859,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDU3MDg1OQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T10:25:20Z","updated_at":"2020-05-27T10:26:41Z","author_association":"CONTRIBUTOR","body":"Can we close this now since https://github.com/apache/incubator-iceberg/pull/935 has been merged (indirectly via https://github.com/apache/incubator-iceberg/pull/1068)? We can always open more specific tickets for other issues we find going forward but I think the main objective has been achieved for Guava.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634570859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634636427","html_url":"https://github.com/apache/iceberg/pull/1067#issuecomment-634636427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1067","id":634636427,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDYzNjQyNw==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T12:47:18Z","updated_at":"2020-05-27T12:47:18Z","author_association":"CONTRIBUTOR","body":"OK, this does indeed look interesting. So we should be able to use this to specify a different version of Guava for a certain subproject? We'll give it a go on a branch we're working on to demonstrate the Guava version issue for Hive tests. Thanks for pointing this out.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634636427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634688680","html_url":"https://github.com/apache/iceberg/pull/759#issuecomment-634688680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/759","id":634688680,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDY4ODY4MA==","user":{"login":"fbocse","id":559272,"node_id":"MDQ6VXNlcjU1OTI3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/559272?v=4","gravatar_id":"","url":"https://api.github.com/users/fbocse","html_url":"https://github.com/fbocse","followers_url":"https://api.github.com/users/fbocse/followers","following_url":"https://api.github.com/users/fbocse/following{/other_user}","gists_url":"https://api.github.com/users/fbocse/gists{/gist_id}","starred_url":"https://api.github.com/users/fbocse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbocse/subscriptions","organizations_url":"https://api.github.com/users/fbocse/orgs","repos_url":"https://api.github.com/users/fbocse/repos","events_url":"https://api.github.com/users/fbocse/events{/privacy}","received_events_url":"https://api.github.com/users/fbocse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T14:13:27Z","updated_at":"2020-05-28T07:07:07Z","author_association":"CONTRIBUTOR","body":"@rdsr I've picked up your changes and created a new PR on top of a refreshed master at https://github.com/fbocse/incubator-iceberg/pull/1 - if you think that this looks promising I would be glad to create a PR to get that code into this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634688680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634913067","html_url":"https://github.com/apache/iceberg/issues/1065#issuecomment-634913067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1065","id":634913067,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDkxMzA2Nw==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T20:10:04Z","updated_at":"2020-05-27T20:10:04Z","author_association":"CONTRIBUTOR","body":"Fixed by the mentioned PR! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634913067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634935121","html_url":"https://github.com/apache/iceberg/pull/1070#issuecomment-634935121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1070","id":634935121,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDkzNTEyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T20:57:13Z","updated_at":"2020-05-27T20:57:13Z","author_association":"CONTRIBUTOR","body":"I'm merging this. Thanks for the reviews @rdsr and @edgarRd!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634935121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634942908","html_url":"https://github.com/apache/iceberg/pull/1067#issuecomment-634942908","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1067","id":634942908,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDk0MjkwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T21:12:17Z","updated_at":"2020-05-27T21:12:17Z","author_association":"CONTRIBUTOR","body":"Looks like Jackson 2.10.2 breaks Spark 2.4.4:\r\n\r\n```\r\norg.apache.iceberg.spark.TestSparkDataFile > testValueConversion FAILED\r\n    java.lang.ExceptionInInitializerError\r\n        at org.apache.spark.SparkContext.withScope(SparkContext.scala:699)\r\n        at org.apache.spark.SparkContext.parallelize(SparkContext.scala:716)\r\n        at org.apache.spark.api.java.JavaSparkContext.parallelize(JavaSparkContext.scala:134)\r\n        at org.apache.spark.api.java.JavaSparkContext.parallelize(JavaSparkContext.scala:146)\r\n        at org.apache.iceberg.spark.TestSparkDataFile.checkSparkDataFile(TestSparkDataFile.java:149)\r\n        at org.apache.iceberg.spark.TestSparkDataFile.testValueConversion(TestSparkDataFile.java:130)\r\n        Caused by:\r\n        com.fasterxml.jackson.databind.JsonMappingException: Incompatible Jackson version: 2.10.2\r\n            at com.fasterxml.jackson.module.scala.JacksonModule$class.setupModule(JacksonModule.scala:64)\r\n            at com.fasterxml.jackson.module.scala.DefaultScalaModule.setupModule(DefaultScalaModule.scala:19)\r\n            at com.fasterxml.jackson.databind.ObjectMapper.registerModule(ObjectMapper.java:808)\r\n            at org.apache.spark.rdd.RDDOperationScope$.<init>(RDDOperationScope.scala:82)\r\n            at org.apache.spark.rdd.RDDOperationScope$.<clinit>(RDDOperationScope.scala)\r\n            ... 6 more\r\n```\r\n\r\nI don't think that this plugin locks transitive dependencies by default, so we will probably need to turn that on to fix this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634942908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634981098","html_url":"https://github.com/apache/iceberg/issues/1057#issuecomment-634981098","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1057","id":634981098,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDk4MTA5OA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T22:40:05Z","updated_at":"2020-05-27T22:40:05Z","author_association":"CONTRIBUTOR","body":"Most likely. I'll try this again and check.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/634981098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635007731","html_url":"https://github.com/apache/iceberg/pull/1072#issuecomment-635007731","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1072","id":635007731,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTAwNzczMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T00:01:25Z","updated_at":"2020-05-28T00:01:25Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nI'd prefer to avoid the commit conflicts, but it's minor.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635007731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635009178","html_url":"https://github.com/apache/iceberg/pull/1071#issuecomment-635009178","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1071","id":635009178,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTAwOTE3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T00:05:34Z","updated_at":"2020-05-28T00:05:34Z","author_association":"CONTRIBUTOR","body":"Other than the benchmark results, this looks good to me. What do you think, @rdsr?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635009178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635019093","html_url":"https://github.com/apache/iceberg/pull/1073#issuecomment-635019093","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1073","id":635019093,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTAxOTA5Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T00:34:56Z","updated_at":"2020-05-28T00:34:56Z","author_association":"CONTRIBUTOR","body":"@prodeezy, you may be interested in this. It adds the ability to cherry-pick partition replacement commits.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635019093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635050927","html_url":"https://github.com/apache/iceberg/pull/974#issuecomment-635050927","issue_url":"https://api.github.com/repos/apache/iceberg/issues/974","id":635050927,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTA1MDkyNw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T02:11:23Z","updated_at":"2020-05-28T02:11:23Z","author_association":"COLLABORATOR","body":"Interesting, it didn't trigger the CI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635050927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635220094","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-635220094","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":635220094,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTIyMDA5NA==","user":{"login":"teabot","id":228950,"node_id":"MDQ6VXNlcjIyODk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/228950?v=4","gravatar_id":"","url":"https://api.github.com/users/teabot","html_url":"https://github.com/teabot","followers_url":"https://api.github.com/users/teabot/followers","following_url":"https://api.github.com/users/teabot/following{/other_user}","gists_url":"https://api.github.com/users/teabot/gists{/gist_id}","starred_url":"https://api.github.com/users/teabot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teabot/subscriptions","organizations_url":"https://api.github.com/users/teabot/orgs","repos_url":"https://api.github.com/users/teabot/repos","events_url":"https://api.github.com/users/teabot/events{/privacy}","received_events_url":"https://api.github.com/users/teabot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T09:11:22Z","updated_at":"2020-05-28T09:11:22Z","author_association":"NONE","body":"Hello, can anyone point me to the discussion/reasoning for not supporting the `union` type within Iceberg? I do understand that traditionally support has been very poor in nearly all data processing frameworks, however, more recently the `union` appears to be a good solve for event sourcing type applications where ordering is important and events may be of disparate types. While it is possible to do this by modelling as a sparse record, it is contractually weaker - only business logic can ensure that only one field is non-null.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635220094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635224371","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-635224371","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":635224371,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTIyNDM3MQ==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T09:19:52Z","updated_at":"2020-05-28T09:19:52Z","author_association":"CONTRIBUTOR","body":"Thanks @rdsr for the tag here, however I feel the motivation of this PR is a bit different my motivation which was to allow reading data files written with non-Iceberg writers which may contain union types. I have been thinking about this on and off for a while now and have tried to jot down my thoughts in https://docs.google.com/document/d/1Go2NrOoeCKfrDJw8MAZnsMYbE2KZbso1zkSY8cpLzaQ/edit#heading=h.gd2qof50gbzs. Since the motivation of this PR seems different though, we may want to continue this conversation in #189.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635224371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635225766","html_url":"https://github.com/apache/iceberg/issues/189#issuecomment-635225766","issue_url":"https://api.github.com/repos/apache/iceberg/issues/189","id":635225766,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTIyNTc2Ng==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T09:22:39Z","updated_at":"2020-05-28T09:22:39Z","author_association":"CONTRIBUTOR","body":"I have been thinking about the use case to allow reading data files written with non-Iceberg writers which may contain union types. I have tried to jot down my thoughts in https://docs.google.com/document/d/1Go2NrOoeCKfrDJw8MAZnsMYbE2KZbso1zkSY8cpLzaQ/edit#heading=h.gd2qof50gbzs. The motivation of #1046 seems somewhat different though, so we may want to discuss this use case outside of #1046.\r\n\r\ncc: @rdsr @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635225766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635404824","html_url":"https://github.com/apache/iceberg/pull/1071#issuecomment-635404824","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1071","id":635404824,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQwNDgyNA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T14:59:47Z","updated_at":"2020-05-28T14:59:47Z","author_association":"CONTRIBUTOR","body":"+1. From me as well!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635404824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635426794","html_url":"https://github.com/apache/iceberg/pull/1071#issuecomment-635426794","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1071","id":635426794,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQyNjc5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T15:38:49Z","updated_at":"2020-05-28T15:38:49Z","author_association":"CONTRIBUTOR","body":"Merging this. Thanks, @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635426794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635428448","html_url":"https://github.com/apache/iceberg/pull/1072#issuecomment-635428448","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1072","id":635428448,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQyODQ0OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T15:41:53Z","updated_at":"2020-05-28T15:41:53Z","author_association":"CONTRIBUTOR","body":"Looks like the test problem is that DateTimeUtil was moved to util from data when the generics were moved into core.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635428448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635436502","html_url":"https://github.com/apache/iceberg/pull/1072#issuecomment-635436502","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1072","id":635436502,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQzNjUwMg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T15:55:58Z","updated_at":"2020-05-28T15:55:58Z","author_association":"CONTRIBUTOR","body":"oops. Let me fix it.\r\n> Looks like the test problem is that DateTimeUtil was moved to util from data when the generics were moved into core.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635436502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635442419","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-635442419","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":635442419,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQ0MjQxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T16:06:29Z","updated_at":"2020-05-28T16:06:29Z","author_association":"CONTRIBUTOR","body":"@teabot, I think the main problem with unions is the support in processing engines. It is unlikely that Spark, Presto, Impala, etc. will add support for unions. Since Iceberg is a format that we want to be suitable for a common at-rest store, it doesn't make sense to have a type that requires work-around in those engines but has only a small benefit (ensuring only one option is non-null).\r\n\r\nI think it is unlikely that processing engines will support unions because it isn't clear how users would interact with them in SQL. For example, how do I filter to just records with a particular option of the union? That might seem easy, but it exposes underlying problems with unions and schema evolution, like [identifying union fields](https://github.com/apache/iceberg/pull/1046#pullrequestreview-416446251). If we generate names based on position, what happens when that position changes? If we do it based on ID, then we're exposing internal IDs to users.\r\n\r\nAlso, what if a file is written with a version of the schema that has a new union option that isn't in the table schema? Do we choose another incorrect branch (null or default) or do we throw an exception?\r\n\r\nI think it is the right choice to continue using the more standard and well-defined types rather than adding union, since it would make it much harder to integrate Iceberg into processing engines.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635442419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635484289","html_url":"https://github.com/apache/iceberg/pull/1072#issuecomment-635484289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1072","id":635484289,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQ4NDI4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T17:19:41Z","updated_at":"2020-05-28T17:19:41Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks for fixing it so quickly, @rdsr!\r\n\r\nAnd thank you for the good review, @shardulm94! Nice work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635484289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635487412","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-635487412","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":635487412,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQ4NzQxMg==","user":{"login":"teabot","id":228950,"node_id":"MDQ6VXNlcjIyODk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/228950?v=4","gravatar_id":"","url":"https://api.github.com/users/teabot","html_url":"https://github.com/teabot","followers_url":"https://api.github.com/users/teabot/followers","following_url":"https://api.github.com/users/teabot/following{/other_user}","gists_url":"https://api.github.com/users/teabot/gists{/gist_id}","starred_url":"https://api.github.com/users/teabot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teabot/subscriptions","organizations_url":"https://api.github.com/users/teabot/orgs","repos_url":"https://api.github.com/users/teabot/repos","events_url":"https://api.github.com/users/teabot/events{/privacy}","received_events_url":"https://api.github.com/users/teabot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T17:25:37Z","updated_at":"2020-05-28T17:26:04Z","author_association":"NONE","body":"Thanks for the comprehensive reply @rdblue. The SQL experience argument is a compelling one, and I agree that if we look at formats that support union, we find that support for this type is often (and perhaps understandably) overlooked/avoided within integrations and that this would probably be the case with Iceberg also. In our platforms we've tended to 'prohibit' producers from using unions because they effectively end up creating unreadable batch datasets downstream. The choice that Iceberg has made seems a sensible one.\r\n\r\nThat said, we're now seeing use cases in the stream domain that in my opinion are better modelled with union (multi-type streams). In practice these are currently modelled using loose set of independent schemas that have no complete explicit contract. I don't like this because it pushes elements of the producer/consumer schema contract outside of Avro and into an implicit convention that cannot enjoy compatibility checking for example.\r\n\r\nI digress - what I hope to distill from this kind of discourse are good patterns for bridging data in streams and at rest for these use cases. But I admit that this is not a problem that Iceberg should solve.\r\n\r\nApologies for the distraction and thanks for your time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635487412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635497067","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-635497067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":635497067,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQ5NzA2Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T17:44:27Z","updated_at":"2020-05-28T17:44:27Z","author_association":"CONTRIBUTOR","body":"Thanks for the context, @teabot.\r\n\r\nFor our streaming systems, we aren't supporting the case you're talking about and each stream (Kafka topic) is getting its own Iceberg schema so that schema evolution works mostly the same way for a topic as it does for a table. That aligns well with streaming SQL use cases, which we hope will make it easier to use streaming systems. It doesn't help the problem of event ordering across event types, though, which are required to be in separate streams unless they use the union-as-struct convention.\r\n\r\nI think the trade-off is worth it. In most cases you don't need strict order guarantees across event types. Where you do, you can either join two streams with a common ordinal field or make the schema slightly more complex using the union-as-struct approach if you need to avoid the join.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635497067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635501612","html_url":"https://github.com/apache/iceberg/pull/985#issuecomment-635501612","issue_url":"https://api.github.com/repos/apache/iceberg/issues/985","id":635501612,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTUwMTYxMg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T17:53:17Z","updated_at":"2020-05-28T17:53:17Z","author_association":"CONTRIBUTOR","body":"This seems close to completion @jerryshao . Can we get this in, after addressing those minor comments?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635501612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635635912","html_url":"https://github.com/apache/iceberg/pull/1068#issuecomment-635635912","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1068","id":635635912,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTYzNTkxMg==","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T22:13:07Z","updated_at":"2020-05-28T22:13:07Z","author_association":"MEMBER","body":"cc @dbtsai ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635635912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635737728","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-635737728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":635737728,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTczNzcyOA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T03:33:17Z","updated_at":"2020-05-29T03:33:17Z","author_association":"COLLABORATOR","body":"@rdblue , I addressed the latest two comments about using the passing name mapping and allow parquet type without IDs. Would you please take another look? Thanks for your patience!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/635737728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/636017299","html_url":"https://github.com/apache/iceberg/pull/1077#issuecomment-636017299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1077","id":636017299,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjAxNzI5OQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T14:52:45Z","updated_at":"2020-06-20T05:19:14Z","author_association":"CONTRIBUTOR","body":"When calling `count()` on entries, Spark passes newRequestedSchema (with size = 0) to Reader#pruneColumns(). As a result, a wrong schema (empty) is generated by Reader#lazySchema(). \r\nSchema#lazyNameToId() returns an empty BiMap. get() from this empty map return null. NPE is thrown when trying to convert the null interger into int as the input to findType().","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/636017299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]