[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/204613807","html_url":"https://github.com/apache/accumulo/pull/86#issuecomment-204613807","issue_url":"https://api.github.com/repos/apache/accumulo/issues/86","id":204613807,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNDYxMzgwNw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-02T00:08:09Z","updated_at":"2016-04-02T00:08:09Z","author_association":"MEMBER","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/204613807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/204620229","html_url":"https://github.com/apache/accumulo/pull/80#issuecomment-204620229","issue_url":"https://api.github.com/repos/apache/accumulo/issues/80","id":204620229,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNDYyMDIyOQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-02T00:59:14Z","updated_at":"2016-04-02T00:59:14Z","author_association":"MEMBER","body":"@keith-turner just glanced at the updates in your last commit. They're very nice. I appreciate you taking the time to add them.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/204620229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205403386","html_url":"https://github.com/apache/accumulo/pull/87#issuecomment-205403386","issue_url":"https://api.github.com/repos/apache/accumulo/issues/87","id":205403386,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTQwMzM4Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-04T17:21:50Z","updated_at":"2016-04-04T17:21:50Z","author_association":"MEMBER","body":"Keith and Dave summed up the comments that I had to add already :)\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205403386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205436724","html_url":"https://github.com/apache/accumulo/pull/87#issuecomment-205436724","issue_url":"https://api.github.com/repos/apache/accumulo/issues/87","id":205436724,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTQzNjcyNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-04T18:29:02Z","updated_at":"2016-04-04T18:29:02Z","author_association":"CONTRIBUTOR","body":"Could put the table ids at the end of the message.\n\nFor example the following\n\n```\nsending 20 mutations to 5 tablets for [5a] to 192.168.1.103\nsending 200 mutations to 10 tablets for [ab,cd,ef,gh,ij,k1,mn,rst,xyz] to 192.168.1.103\n```\n\nvs\n\n```\nsending 20 mutations to 5 tablets at 192.168.1.103 tids: [5a]\nsending 200 mutations to 10 tablets at 192.168.1.103 tids: [ab,cd,ef,gh,ij,k1,mn,rst,xyz]\n```\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205436724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205440868","html_url":"https://github.com/apache/accumulo/pull/74#issuecomment-205440868","issue_url":"https://api.github.com/repos/apache/accumulo/issues/74","id":205440868,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTQ0MDg2OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-04T18:37:34Z","updated_at":"2016-04-04T18:37:34Z","author_association":"CONTRIBUTOR","body":"Thanks @tristeng.  I squashed and merge this, can you close this PR?\n\nI ran the following test w/ no problem before pushing.  That caused some reformatting which was included in the commit I pushed.  I also added `since 1.8.0` to the comment in the proxy.thrift file.\n\n```\nmvn clean verify -DskipITs\nmvn -Dit.test=\".*proxy.*\" -Dtest=foo -Dfindbugs.skip -Dcheckstyle.skip -DfailIfNoTests=false verify\n```\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205440868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205442872","html_url":"https://github.com/apache/accumulo/pull/74#issuecomment-205442872","issue_url":"https://api.github.com/repos/apache/accumulo/issues/74","id":205442872,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTQ0Mjg3Mg==","user":{"login":"tristeng","id":5273234,"node_id":"MDQ6VXNlcjUyNzMyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5273234?v=4","gravatar_id":"","url":"https://api.github.com/users/tristeng","html_url":"https://github.com/tristeng","followers_url":"https://api.github.com/users/tristeng/followers","following_url":"https://api.github.com/users/tristeng/following{/other_user}","gists_url":"https://api.github.com/users/tristeng/gists{/gist_id}","starred_url":"https://api.github.com/users/tristeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tristeng/subscriptions","organizations_url":"https://api.github.com/users/tristeng/orgs","repos_url":"https://api.github.com/users/tristeng/repos","events_url":"https://api.github.com/users/tristeng/events{/privacy}","received_events_url":"https://api.github.com/users/tristeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-04T18:44:10Z","updated_at":"2016-04-04T18:44:10Z","author_association":"CONTRIBUTOR","body":"Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205442872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205464883","html_url":"https://github.com/apache/accumulo/pull/87#issuecomment-205464883","issue_url":"https://api.github.com/repos/apache/accumulo/issues/87","id":205464883,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTQ2NDg4Mw==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-04T19:46:32Z","updated_at":"2016-04-04T19:46:32Z","author_association":"CONTRIBUTOR","body":"> Could put the table ids at the end of the message.\n\nI do not have a real opinion either way, but if anybody has built tools to parse this message/title then I expect putting them at the end would probably be better.  I will make that change.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205464883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205819839","html_url":"https://github.com/apache/accumulo/pull/87#issuecomment-205819839","issue_url":"https://api.github.com/repos/apache/accumulo/issues/87","id":205819839,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTgxOTgzOQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-05T13:59:16Z","updated_at":"2016-04-05T13:59:16Z","author_association":"CONTRIBUTOR","body":"I think I have addresses all concerns here.  Any votes for merging this in?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205819839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205821256","html_url":"https://github.com/apache/accumulo/pull/87#issuecomment-205821256","issue_url":"https://api.github.com/repos/apache/accumulo/issues/87","id":205821256,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTgyMTI1Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-05T14:01:22Z","updated_at":"2016-04-05T14:01:22Z","author_association":"MEMBER","body":"LGTM :+1:\n\nI'll work on merging this in. Thanks, @ivakegg!\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205821256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205831954","html_url":"https://github.com/apache/accumulo/pull/87#issuecomment-205831954","issue_url":"https://api.github.com/repos/apache/accumulo/issues/87","id":205831954,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTgzMTk1NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-05T14:24:40Z","updated_at":"2016-04-05T14:24:40Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/205831954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/206967597","html_url":"https://github.com/apache/accumulo/pull/88#issuecomment-206967597","issue_url":"https://api.github.com/repos/apache/accumulo/issues/88","id":206967597,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjk2NzU5Nw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-07T15:55:51Z","updated_at":"2016-04-07T15:55:51Z","author_association":"MEMBER","body":"LGTM! Thanks for the quick turnaround. I'll merge this in.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/206967597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/207001692","html_url":"https://github.com/apache/accumulo/pull/88#issuecomment-207001692","issue_url":"https://api.github.com/repos/apache/accumulo/issues/88","id":207001692,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNzAwMTY5Mg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-07T17:16:08Z","updated_at":"2016-04-07T17:16:08Z","author_association":"MEMBER","body":"Thanks @joshelser \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/207001692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/207487453","html_url":"https://github.com/apache/accumulo/pull/89#issuecomment-207487453","issue_url":"https://api.github.com/repos/apache/accumulo/issues/89","id":207487453,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNzQ4NzQ1Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-08T15:44:30Z","updated_at":"2016-04-08T15:44:30Z","author_association":"CONTRIBUTOR","body":"Meant to create a PR for my fork of Accumulo\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/207487453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208920076","html_url":"https://github.com/apache/accumulo/pull/83#issuecomment-208920076","issue_url":"https://api.github.com/repos/apache/accumulo/issues/83","id":208920076,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODkyMDA3Ng==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-12T13:59:27Z","updated_at":"2016-04-12T13:59:27Z","author_association":"CONTRIBUTOR","body":"Update PR based on changes from actually testing this on a test cluster. Any final comments?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208920076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208921993","html_url":"https://github.com/apache/accumulo/pull/83#issuecomment-208921993","issue_url":"https://api.github.com/repos/apache/accumulo/issues/83","id":208921993,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODkyMTk5Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-12T14:01:48Z","updated_at":"2016-04-12T14:01:48Z","author_association":"MEMBER","body":"> Any final comments?\n\nI'll take a look again since you asked :)\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208921993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208953363","html_url":"https://github.com/apache/accumulo/pull/83#issuecomment-208953363","issue_url":"https://api.github.com/repos/apache/accumulo/issues/83","id":208953363,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODk1MzM2Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-12T15:07:40Z","updated_at":"2016-04-12T15:07:40Z","author_association":"MEMBER","body":"I think I'm good with this. FWIW, I did ask Eric if he would have any time to take a look, and he mentioned that, if he does, it wouldn't be until after normal working hours. Up to you if you want to wait for him to give a pass over it, of course.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208953363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208955560","html_url":"https://github.com/apache/accumulo/pull/83#issuecomment-208955560","issue_url":"https://api.github.com/repos/apache/accumulo/issues/83","id":208955560,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODk1NTU2MA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-12T15:11:25Z","updated_at":"2016-04-12T15:11:25Z","author_association":"CONTRIBUTOR","body":"I would normally wait, but I have tested this and its working and other have laid eyes on it and commented. I plan on manually applying this to 1.6 and merging up. I think I will do that and commit it and address anything he raises in another issue. \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/208955560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/209218793","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-209218793","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":209218793,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTIxODc5Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-13T04:15:57Z","updated_at":"2016-04-13T04:15:57Z","author_association":"MEMBER","body":"Made a first pass through the code. Wow! Great work for a first contribution @ShawnWalker! Some general themes:\n- nit-picky stylistic things\n- Missing javadoc on public classes/methods\n\nSome new tests on these new classes (testing the rate limiting components and input/output streams should be really important) would really make this even better.\n\nI'll have to go back to reread about the use of `<T extends Class & Interface>` littered everywhere with a fresh mind. First time I've run across it and I don't think I entirely grokked the point.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/209218793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/209647745","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-209647745","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":209647745,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTY0Nzc0NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-13T21:08:12Z","updated_at":"2016-04-13T21:08:12Z","author_association":"CONTRIBUTOR","body":"I played around with this branch locally.  I created a table with 10,000,000 entries using test_ingest using the following commands. \n\n```\n./bin/accumulo shell -u root -p secret -e \"createtable test_ingest\"\n./bin/accumulo org.apache.accumulo.test.TestIngest -u root -p secret --timestamp 1 --size 50 --random 56 --rows 10000000 --start 0 --cols 1 --instance instance16\n```\n\nI set the rate limit to 5M and forced a compaction.  I saw the following in the tserver logs.\n\n```\nCompaction 2<< 10,000,000 read | 10,000,000 written | 122,925 entries/sec | 81.350 secs |  431,758,096 bytes | 5307413.596 byte/sec\n```\n\nThen I split the table into 8 tablets and forced a compaction to test the rate limit for multiple threads.  I had the default of 3 compaction threads.  I saw the following in the logs for this test.\n\n```\nCompaction 2;row_0003749;row_00025 1,249,000 read | 1,249,000 written | 41,866 entries/sec | 29.833 secs |   53,926,291 bytes | 1807605.370 byte/sec\nCompaction 2;row_00025;row_000125 1,250,000 read | 1,250,000 written | 41,899 entries/sec | 29.833 secs |   53,970,229 bytes | 1809078.168 byte/sec\nCompaction 2;row_000125< 1,250,000 read | 1,250,000 written | 41,783 entries/sec | 29.916 secs |   53,969,343 bytes | 1804029.382 byte/sec\nCompaction 2;row_000625;row_0005 1,250,000 read | 1,250,000 written | 42,134 entries/sec | 29.667 secs |   53,970,847 bytes | 1819221.593 byte/sec\nCompaction 2;row_0005;row_0003749 1,251,000 read | 1,251,000 written | 42,109 entries/sec | 29.708 secs |   54,012,874 bytes | 1818125.555 byte/sec\nCompaction 2;row_00075;row_000625 1,250,000 read | 1,250,000 written | 41,881 entries/sec | 29.846 secs |   53,969,549 bytes | 1808267.406 byte/sec\nCompaction 2;row_000875;row_00075 1,250,000 read | 1,250,000 written | 63,909 entries/sec | 19.559 secs |   53,969,511 bytes | 2759318.523 byte/sec\nCompaction 2<;row_000875 1,250,000 read | 1,250,000 written | 63,798 entries/sec | 19.593 secs |   53,969,987 bytes | 2754554.535 byte/sec\n```\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/209647745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/209980206","html_url":"https://github.com/apache/accumulo/pull/93#issuecomment-209980206","issue_url":"https://api.github.com/repos/apache/accumulo/issues/93","id":209980206,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTk4MDIwNg==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-14T14:47:26Z","updated_at":"2016-04-14T14:47:26Z","author_association":"CONTRIBUTOR","body":"cc @joshelser  @ivakegg \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/209980206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210089684","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-210089684","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":210089684,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDA4OTY4NA==","user":{"login":"ShawnWalker","id":10088796,"node_id":"MDQ6VXNlcjEwMDg4Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/10088796?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnWalker","html_url":"https://github.com/ShawnWalker","followers_url":"https://api.github.com/users/ShawnWalker/followers","following_url":"https://api.github.com/users/ShawnWalker/following{/other_user}","gists_url":"https://api.github.com/users/ShawnWalker/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnWalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnWalker/subscriptions","organizations_url":"https://api.github.com/users/ShawnWalker/orgs","repos_url":"https://api.github.com/users/ShawnWalker/repos","events_url":"https://api.github.com/users/ShawnWalker/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnWalker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-14T18:28:54Z","updated_at":"2016-04-14T18:28:54Z","author_association":"CONTRIBUTOR","body":"I've made changes to address most of the comments on this thread.  I've also addressed a performance concern that Keith Turner noticed (`PositionedOutputs.PositionedOutputStream` was behaving poorly).\n\nI've additionally fixed an issue with tracing in `TabletServerBatchWriter` that was causing the test `ShellServerIT.trace(...)` to fail for me for reasons unrelated to my changes.  Perhaps I should separate that out as a separate issue/patch?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210089684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210122789","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-210122789","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":210122789,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDEyMjc4OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-14T19:58:14Z","updated_at":"2016-04-14T19:58:14Z","author_association":"MEMBER","body":"@ShawnWalker That sounds great! If you can separate out the issue with ShellServerIT as a separate issue, that'd be helpful. I'm guessing it affects older branches, as well.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210122789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210143136","html_url":"https://github.com/apache/accumulo/pull/92#issuecomment-210143136","issue_url":"https://api.github.com/repos/apache/accumulo/issues/92","id":210143136,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDE0MzEzNg==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-14T20:48:55Z","updated_at":"2016-04-14T20:48:55Z","author_association":"MEMBER","body":"In 17288b37bab2b42, I fixed the README to point to latest pages that redirect to current version.  I also made the links to the Accumulo website use https. \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210143136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210495111","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210495111","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210495111,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDQ5NTExMQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-15T15:00:43Z","updated_at":"2016-04-15T15:00:43Z","author_association":"MEMBER","body":"> This should allow proper tracing propagation across the binning thread pool, and consequently prevent loss of \"sendMutation\" events.\n> In TabletServerBatchWriter.MutationWriter.queueMutations(...) (line 736), HTrace Span's are not properly propagated across thread boundaries. Consequently, tracing doesn't propagate into TabletServerBatchWriter.SendTask.send(...), and so the sendMutation event can fail to be logged.\n\nSo, IIRC, Tracer maintains the current Span via a ThreadLocal. So, I could see spawning a new Thread in the binning process might lose that, and the \"lower\" half of the span would be un-rooted (the part doing binning and sending).\n\nA couple of questions:\n- Any thoughts on how we could make a test which would specifically check for regressions here?\n- Have you been able to notice your changes positively affecting `ShellServerIT#trace`'s success rate? I have seen it fail now and again, but never reliably.\n- Any idea as to why we only _sometimes_ see ShellServerIT fail? Is there a reason why this doesn't always fail that you noticed?\n\nThanks!\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210495111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210527065","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210527065","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210527065,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDUyNzA2NQ==","user":{"login":"billierinaldi","id":1810597,"node_id":"MDQ6VXNlcjE4MTA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1810597?v=4","gravatar_id":"","url":"https://api.github.com/users/billierinaldi","html_url":"https://github.com/billierinaldi","followers_url":"https://api.github.com/users/billierinaldi/followers","following_url":"https://api.github.com/users/billierinaldi/following{/other_user}","gists_url":"https://api.github.com/users/billierinaldi/gists{/gist_id}","starred_url":"https://api.github.com/users/billierinaldi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billierinaldi/subscriptions","organizations_url":"https://api.github.com/users/billierinaldi/orgs","repos_url":"https://api.github.com/users/billierinaldi/repos","events_url":"https://api.github.com/users/billierinaldi/events{/privacy}","received_events_url":"https://api.github.com/users/billierinaldi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-15T16:17:08Z","updated_at":"2016-04-15T16:17:08Z","author_association":"CONTRIBUTOR","body":"This change looks reasonable to me.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210527065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210531758","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210531758","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210531758,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDUzMTc1OA==","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-15T16:30:33Z","updated_at":"2016-04-15T16:30:33Z","author_association":"CONTRIBUTOR","body":"Might be better to wrap the whole pool instead of each individual runnable using `tracer.newTraceExecutorService(...)`.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210531758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210540256","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210540256","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210540256,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDU0MDI1Ng==","user":{"login":"ShawnWalker","id":10088796,"node_id":"MDQ6VXNlcjEwMDg4Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/10088796?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnWalker","html_url":"https://github.com/ShawnWalker","followers_url":"https://api.github.com/users/ShawnWalker/followers","following_url":"https://api.github.com/users/ShawnWalker/following{/other_user}","gists_url":"https://api.github.com/users/ShawnWalker/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnWalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnWalker/subscriptions","organizations_url":"https://api.github.com/users/ShawnWalker/orgs","repos_url":"https://api.github.com/users/ShawnWalker/repos","events_url":"https://api.github.com/users/ShawnWalker/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnWalker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-15T16:41:55Z","updated_at":"2016-04-15T16:42:10Z","author_association":"CONTRIBUTOR","body":"> ... the \"lower\" half of the span would be un-rooted (the part doing binning and sending).\n\nIs \"unrooted\" different from \"unreported\"?  My view of the tracing message suggests so, but I'm uncertain as to exactly the difference.\n\n> Have you been able to notice your changes positively affecting ShellServerIT#trace's success rate? I have seen it fail now and again, but never reliably.\n\nFor me, `ShellServerIT.trace()` _always_ fails.  I've been banging my head against this for the past 3 days, trying to get tests to succeed while working on ACCUMULO-4187.  I'll take your word that it doesn't fail for everyone all the time.  With this change, `ShellServerIT` has succeeded for me the 5 or 6 times I've run it.\n\n> Any idea as to why we only sometimes see ShellServerIT fail? Is there a reason why this doesn't always fail that you noticed?\n\nMy current theory is that it's a race condition depending on how long it takes to spin up a new threadpool:\n\nAt line `TabletServerBatchWriter` line 670, `binningThreadPool` uses a `SynchronousQueue`, and at line 671, the `binningThreadPool` has a `CallerRunsPolicy`.  Together these mean \"perform binning in the other thread, but only if it's not currently busy doing binning; otherwise just do the binning in the current thread.\"\n\nIf the binning is done in the current thread, there is no need to propagate tracing information; as you point out, this information is carried by thread-local variables.  If the binning ends up being done in the thread pool, the tracing information needs to be propagated.\n\nBut there's a race condition here: The `SynchronousQueue` will only allow a job to be pushed into it if there's already a thread sitting waiting on a job.  So the race ends up being which happens first: the consumer thread created to service `binningThreadPool` is ready to accept work, or the producer thread is ready to commit some of its mutations.  In the former case, the work gets done in the thread pool; in the latter case, the work gets done in the current thread.\n\n> Any thoughts on how we could make a test which would specifically check for regressions here?\n\nRace conditions are notably difficult to diagnose.  What's more, this particular race condition isn't an error (assuming the tracing is properly handled regardless of who wins the race).  I can think of a few ways one might better expose this particular bug under lab conditions, but any such test would by necessity be timing sensitive, and I do so hate knowingly writing timing-sensitive tests.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210540256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210545040","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210545040","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210545040,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDU0NTA0MA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-15T16:53:58Z","updated_at":"2016-04-15T16:53:58Z","author_association":"MEMBER","body":"> For me, ShellServerIT.trace() always fails. I've been banging my head against this for the past 3 days, trying to get tests to succeed while working on ACCUMULO-4187. I'll take your word that it doesn't fail for everyone all the time. With this change, ShellServerIT has succeeded for me the 5 or 6 times I've run it.\n\nSorry about this. @billierinaldi had pointed out to me that she thinks ACCUMULO-1755 had broken this. I didn't know that this one was broken. If our tests are not reliably passing, that's wrong/bad. Give us a shout before bashing your head next time :)\n\n> Race conditions are notably difficult to diagnose.\n\nYep, that's why I asked :).\n\n>  I can think of a few ways one might better expose this particular bug under lab conditions, but any such test would by necessity be timing sensitive, and I do so hate knowingly writing timing-sensitive tests.\n\nYep, totally not asking you to do so. I was looking for some understanding that you 1. put thought into whether or not this is directly test-able and 2. you had a plausible idea of why this was sometimes happening. Sounds fine to me.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210545040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210550520","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210550520","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210550520,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDU1MDUyMA==","user":{"login":"ShawnWalker","id":10088796,"node_id":"MDQ6VXNlcjEwMDg4Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/10088796?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnWalker","html_url":"https://github.com/ShawnWalker","followers_url":"https://api.github.com/users/ShawnWalker/followers","following_url":"https://api.github.com/users/ShawnWalker/following{/other_user}","gists_url":"https://api.github.com/users/ShawnWalker/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnWalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnWalker/subscriptions","organizations_url":"https://api.github.com/users/ShawnWalker/orgs","repos_url":"https://api.github.com/users/ShawnWalker/repos","events_url":"https://api.github.com/users/ShawnWalker/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnWalker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-15T17:11:48Z","updated_at":"2016-04-15T17:13:35Z","author_association":"CONTRIBUTOR","body":"@joshelser \n\n> I was looking for some understanding that you ... had a plausible idea of why this was sometimes happening. Sounds fine to me.\n\nIt seemed obvious to me that not propagating the tracing was an error.  Before you asked, I had just decided it was \"some random race condition\".  Coming up with a plausible explanation made me read what was going on much more closely.\n\nIf this really is broken for everyone on master, there's a much more plausible explanation why it might have occasionally failed before:  the `TimerTask` created at `TabletServerBatchWriter` line 210 can cause mutations to be sent without propagating the tracing information.  Particularly the fact that it has an initial delay of 0 would make for a timing sensitive race condition:  either `close()` / `flush()` / `addMutation()` arranges to send the mutations (traceable) or the timer arranges to send the mutations (untraceable).\n\nFixing the timer task to propagate tracing would not be quite so trivial a task as the patch proposed in this pull request.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210550520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210902049","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210902049","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210902049,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDkwMjA0OQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-16T21:13:45Z","updated_at":"2016-04-16T21:13:45Z","author_association":"MEMBER","body":"Curiously, `ShellServerIT#trace()` is failing for me on 1.7 and master, but not 1.6. Looking into that before I apply these changes.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210902049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210903451","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210903451","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210903451,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDkwMzQ1MQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-16T21:19:30Z","updated_at":"2016-04-16T21:19:30Z","author_association":"MEMBER","body":"> Curiously, ShellServerIT#trace() is failing for me on 1.7 and master, but not 1.6.\n\nAha, 1.7 and master have the htrace dependency. I wonder if we worked around something in cloudtrace.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210903451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210903933","html_url":"https://github.com/apache/accumulo/pull/94#issuecomment-210903933","issue_url":"https://api.github.com/repos/apache/accumulo/issues/94","id":210903933,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDkwMzkzMw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-16T21:21:10Z","updated_at":"2016-04-16T21:21:10Z","author_association":"MEMBER","body":">  I wonder if we worked around something in cloudtrace\n\nYeeeeeep. In `NamingThreadFactory#newThread(Runnable)`.\n\n```\nreturn new Daemon(new LoggingRunnable(log, new TraceRunnable(r)), name + \" \" + threadNum.getAndIncrement());\n```\n\nI'll apply this to 1.7 and master. Thanks again for the detailed analysis, @ShawnWalker! Great work.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/210903933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211398304","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211398304","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211398304,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTM5ODMwNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T14:12:17Z","updated_at":"2016-04-18T14:12:17Z","author_association":"CONTRIBUTOR","body":"@ShawnWalker I suspect the issue you fixed that was causing ShellServerIT to fail was introduced by ACCUMULO-1755\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211398304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211402498","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211402498","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211402498,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTQwMjQ5OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T14:24:26Z","updated_at":"2016-04-18T14:24:26Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211402498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211409828","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211409828","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211409828,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTQwOTgyOA==","user":{"login":"ShawnWalker","id":10088796,"node_id":"MDQ6VXNlcjEwMDg4Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/10088796?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnWalker","html_url":"https://github.com/ShawnWalker","followers_url":"https://api.github.com/users/ShawnWalker/followers","following_url":"https://api.github.com/users/ShawnWalker/following{/other_user}","gists_url":"https://api.github.com/users/ShawnWalker/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnWalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnWalker/subscriptions","organizations_url":"https://api.github.com/users/ShawnWalker/orgs","repos_url":"https://api.github.com/users/ShawnWalker/repos","events_url":"https://api.github.com/users/ShawnWalker/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnWalker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T14:44:25Z","updated_at":"2016-04-18T14:44:25Z","author_association":"CONTRIBUTOR","body":"I've reverse committed changes to `TabletServerBatchWriter` (which were moved to ACCUMULO-4191), and then squashed the changeset to a single commit.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211409828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211414852","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211414852","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211414852,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTQxNDg1Mg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T14:55:54Z","updated_at":"2016-04-18T14:55:54Z","author_association":"MEMBER","body":"I think everything I asked about has been taken care of. Thanks for that, Shawn.\n\nThe only thing I don't see (and I didn't say it explicitly earlier, so I don't think it's a blocker to merge this in) is a high-level test. I see you added some tests for the rate-limiter piece. I'm wondering if we could make an integration test specifically to test this feature. It's nice when we have a general test class (built around a minicluster) available so that we can easily test potential bugs and add new tests easily.\n\n@keith-turner LMK if you have time to merge this in and run the tests. Otherwise, I'll kick off something myself.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211414852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211418879","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211418879","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211418879,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTQxODg3OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T15:05:06Z","updated_at":"2016-04-18T15:05:06Z","author_association":"CONTRIBUTOR","body":"@joshelser I can merge it.  An end-to-end test would be nice to detect regressions.   I suppose the test would make sure a compaction doesn't run too fast?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211418879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211419757","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211419757","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211419757,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTQxOTc1Nw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T15:07:27Z","updated_at":"2016-04-18T15:07:27Z","author_association":"MEMBER","body":">  I suppose the test would make sure a compaction doesn't run too fast?\n\nYeah, I was thinking about how best to test this. You can only reasonably assert a lower-bound on compaction time (to avoid performance skew on certain hosts). Maybe turning off compression for a table, writing a bunch of data and then asserting that a compaction takes at least X time is easiest. You'll still have to account for \"compression\" from the run-length encoding, but at least that should be uniform across hosts.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211419757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211546144","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211546144","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211546144,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTU0NjE0NA==","user":{"login":"ShawnWalker","id":10088796,"node_id":"MDQ6VXNlcjEwMDg4Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/10088796?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnWalker","html_url":"https://github.com/ShawnWalker","followers_url":"https://api.github.com/users/ShawnWalker/followers","following_url":"https://api.github.com/users/ShawnWalker/following{/other_user}","gists_url":"https://api.github.com/users/ShawnWalker/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnWalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnWalker/subscriptions","organizations_url":"https://api.github.com/users/ShawnWalker/orgs","repos_url":"https://api.github.com/users/ShawnWalker/repos","events_url":"https://api.github.com/users/ShawnWalker/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnWalker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T19:42:06Z","updated_at":"2016-04-18T19:42:06Z","author_association":"CONTRIBUTOR","body":"With Keith's help, I've added a small end-to-end IT on rate limiting of major compactions.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211546144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211550045","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211550045","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211550045,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTU1MDA0NQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T19:54:59Z","updated_at":"2016-04-18T19:54:59Z","author_association":"MEMBER","body":"> With Keith's help, I've added a small end-to-end IT on rate limiting of major compactions.\n\nLooks good. Great work guys! :+1: \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211550045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211579493","html_url":"https://github.com/apache/accumulo/pull/90#issuecomment-211579493","issue_url":"https://api.github.com/repos/apache/accumulo/issues/90","id":211579493,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTU3OTQ5Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-18T21:11:26Z","updated_at":"2016-04-18T21:11:26Z","author_association":"MEMBER","body":"Looks like there's a few trivial findbugs issues to address in the IT.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/211579493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214028450","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-214028450","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":214028450,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDAyODQ1MA==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-24T19:54:57Z","updated_at":"2016-04-24T19:54:57Z","author_association":"MEMBER","body":"Thinking more about concurrency, I think it would be a good idea to make the `isValid` flag in TabletLocator volatile. I will do this in the next push.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214028450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214063436","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-214063436","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":214063436,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDA2MzQzNg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-24T23:09:56Z","updated_at":"2016-04-24T23:09:56Z","author_association":"MEMBER","body":"> Thinking more about concurrency, I think it would be a good idea to make the isValid flag in TabletLocator volatile. I will do this in the next push.\n\nYup. Definitely necessary. Good catch.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214063436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214067385","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-214067385","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":214067385,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDA2NzM4NQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-24T23:46:28Z","updated_at":"2016-04-24T23:46:28Z","author_association":"MEMBER","body":"At the risk of coming off (too?) snarky, while I have reservations about the test in general, I'm glad that you were able to write a test which reproduced this. Running it through some iterations locally :)\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214067385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214140090","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-214140090","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":214140090,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDE0MDA5MA==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-25T05:27:20Z","updated_at":"2016-04-25T05:27:20Z","author_association":"MEMBER","body":"All comments addressed.  Thanks @wjsl and @joshelser!\n\nI think you will find this fix much cleaner.  The `SyncingTabletLocator` nicely encapsulates the behavior we want to add: syncing a locally cached TabletLocator with the static collection when the static collection is cleared.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214140090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214321466","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-214321466","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":214321466,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDMyMTQ2Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-25T13:21:14Z","updated_at":"2016-04-25T13:21:14Z","author_association":"MEMBER","body":"> I think you will find this fix much cleaner. The SyncingTabletLocator nicely encapsulates the behavior we want to add: syncing a locally cached TabletLocator with the static collection when the static collection is cleared.\n\nOh yes. This is very nice.\n\nBTW, I never got your test to run (more VFS test issues), so I'm going to nuke those and try to run tests again.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214321466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214438022","html_url":"https://github.com/apache/accumulo/pull/95#issuecomment-214438022","issue_url":"https://api.github.com/repos/apache/accumulo/issues/95","id":214438022,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDQzODAyMg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-25T16:48:17Z","updated_at":"2016-04-25T16:48:17Z","author_association":"MEMBER","body":"@keith-turner how, if at all, does this play into your RFile API work? Have you and Shawn talked about this at all offline?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214438022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214438473","html_url":"https://github.com/apache/accumulo/pull/95#issuecomment-214438473","issue_url":"https://api.github.com/repos/apache/accumulo/issues/95","id":214438473,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDQzODQ3Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-25T16:49:11Z","updated_at":"2016-04-25T16:49:11Z","author_association":"MEMBER","body":"Overall, I think this is a nice improvement @ShawnWalker. I really appreciate the quick turn-around on my request! I'll try to run what you have now through some tests locally.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214438473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214516284","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-214516284","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":214516284,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDUxNjI4NA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-25T20:47:10Z","updated_at":"2016-04-25T20:47:10Z","author_association":"MEMBER","body":"I ran this through the \"sunny\" tests and they came back fine. I think I feel pretty comfortable. Any more thoughts @wjsl @keith-turner @ShawnWalker ?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/214516284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215136560","html_url":"https://github.com/apache/accumulo/pull/95#issuecomment-215136560","issue_url":"https://api.github.com/repos/apache/accumulo/issues/95","id":215136560,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTEzNjU2MA==","user":{"login":"ShawnWalker","id":10088796,"node_id":"MDQ6VXNlcjEwMDg4Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/10088796?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnWalker","html_url":"https://github.com/ShawnWalker","followers_url":"https://api.github.com/users/ShawnWalker/followers","following_url":"https://api.github.com/users/ShawnWalker/following{/other_user}","gists_url":"https://api.github.com/users/ShawnWalker/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnWalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnWalker/subscriptions","organizations_url":"https://api.github.com/users/ShawnWalker/orgs","repos_url":"https://api.github.com/users/ShawnWalker/repos","events_url":"https://api.github.com/users/ShawnWalker/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnWalker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-27T16:19:18Z","updated_at":"2016-04-27T16:19:18Z","author_association":"CONTRIBUTOR","body":"I changed the method names to look more builder-ish as @joshelser suggested.  Wasn't quite sure how the change the verbiage `getFileSize(...)`, so I left it alone.  \n\nI also dovetailled `NeedsFile` into `NeedsTableConfiguration`, cutting down the signature of the factory methods somewhat.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215136560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215182076","html_url":"https://github.com/apache/accumulo/pull/95#issuecomment-215182076","issue_url":"https://api.github.com/repos/apache/accumulo/issues/95","id":215182076,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTE4MjA3Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-27T18:25:09Z","updated_at":"2016-04-27T18:25:09Z","author_association":"MEMBER","body":"Nice, I think these changes look good.\n\n`mvn verify -Psunny` also passed:\n\n```\n[INFO] Reactor Summary:\n[INFO]\n[INFO] Apache Accumulo Project ............................ SUCCESS [  5.504 s]\n[INFO] Apache Accumulo Fate ............................... SUCCESS [ 45.591 s]\n[INFO] Apache Accumulo Start .............................. SUCCESS [01:08 min]\n[INFO] Apache Accumulo Core ............................... SUCCESS [03:59 min]\n[INFO] Apache Accumulo Server Base ........................ SUCCESS [02:12 min]\n[INFO] Apache Accumulo Tracer Server ...................... SUCCESS [ 22.325 s]\n[INFO] Apache Accumulo Shell .............................. SUCCESS [ 31.890 s]\n[INFO] Apache Accumulo Simple Examples .................... SUCCESS [ 19.693 s]\n[INFO] Apache Accumulo GC Server .......................... SUCCESS [ 16.644 s]\n[INFO] Apache Accumulo Master Server ...................... SUCCESS [ 27.389 s]\n[INFO] Apache Accumulo Monitor Server ..................... SUCCESS [ 21.547 s]\n[INFO] Apache Accumulo Tablet Server ...................... SUCCESS [ 58.315 s]\n[INFO] Apache Accumulo MiniCluster ........................ SUCCESS [01:23 min]\n[INFO] Apache Accumulo Native Libraries ................... SUCCESS [  4.775 s]\n[INFO] Apache Accumulo Proxy .............................. SUCCESS [01:05 min]\n[INFO] Apache Accumulo Trace .............................. SUCCESS [  6.256 s]\n[INFO] Apache Accumulo Iterator Test Harness .............. SUCCESS [  8.341 s]\n[INFO] Apache Accumulo Testing ............................ SUCCESS [13:16 min]\n[INFO] Apache Accumulo .................................... SUCCESS [  8.178 s]\n[INFO] Apache Accumulo Documentation ...................... SUCCESS [  0.415 s]\n[INFO] Apache Accumulo Maven Plugin ....................... SUCCESS [ 47.383 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 28:31 min\n[INFO] Finished at: 2016-04-27T13:20:53-04:00\n[INFO] Final Memory: 94M/617M\n[INFO] ------------------------------------------------------------------------\n```\n\nAny further comments @keith-turner before I merge this in?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215182076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215454359","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-215454359","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":215454359,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTQ1NDM1OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-28T15:00:55Z","updated_at":"2016-04-28T15:00:55Z","author_association":"CONTRIBUTOR","body":"An alternative solution to introducing `SyncingTabletLocator` could be to change the implementation of  clearLocators to the following.  This clears all of the caches while still maintaining the references to in uses locators.\n\n``` java\n public static synchronized void clearLocators() {\n    for(TabletLocator tl : locators.values()){\n      tl.invalidateCache();\n    }\n }\n```\n\nIf worried about empty tablet location caches being left around in the `locators` map, that could possible be changed to a weak hash map.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215454359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215535249","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-215535249","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":215535249,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTUzNTI0OQ==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-28T19:24:01Z","updated_at":"2016-04-28T19:24:01Z","author_association":"MEMBER","body":"> An alternative solution to introducing SyncingTabletLocator could be to change the implementation of clearLocators to the following. This clears all of the caches while still maintaining the references to in uses locators.\n> \n> ```\n>  public static synchronized void clearLocators() {\n>     for(TabletLocator tl : locators.values()) {\n>       tl.invalidateCache();\n>     }\n>  }\n> ```\n> \n> If worried about empty tablet location caches being left around in the locators map, that could possible be changed to a weak hash map.\n\nYou could be on to something @keith-turner if we give it more thought.  The original reason why the `locators` cache is cleared every hour is to remove TabletLocators that refer to tablets that don't exist or are rarely accessed, ya?\n\nA WeakHashMap wouldn't work because it uses weak references for the keys. This would mean that the gc could reclaim keys as soon as the `getLocator` method returns, which is inefficient for a cache and has correctness issues if the static `invalidate` methods are called.\n\nWhat do you think of switching locators to a [Guava cache](https://github.com/google/guava/wiki/CachesExplained) with a 1 hour timeout on entries since their last access?\n\nI think this would let us remove the `synchronized` from `getLocator` because Guava caches are thread-safe and designed for concurrency.  It would eliminate the need for any `clearLocators` call (and `SyncingTabletLocator`).  \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215535249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215555038","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-215555038","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":215555038,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTU1NTAzOA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-28T20:37:48Z","updated_at":"2016-04-28T20:37:48Z","author_association":"CONTRIBUTOR","body":"> The original reason why the locators cache is cleared every hour is to remove TabletLocators that refer to tablets that don't exist or are rarely accessed, ya?\n\nThe clearing was added to clean tablet location cache memory populated while processing bulk imports. If tablet servers were not processing bulk imports, then only metadata table tablet locations would be cached.\n\n> A WeakHashMap wouldn't work because it uses weak references for the keys\n\noh yeah, I was thinking it was based on values... but its not.\n\n> What do you think of switching locators to a Guava cache with a 1 hour timeout on entries since their last access?\n\nMay be good.  Wouldn't we still need to prevent the guava cache from removing tablet locators that are referenced outside the cache?  I looked at the Gauva cache javadoc and saw it supports weakValues() and softValues() based caches.  Based on past experience (that I just remembered) I am thinking weak references may be bad, it seems like weak references are collected aggressively (when only referenced by the cache).  Clearing the cache too aggressively would not be good for performance  SoftReferences would not suffer from the aggressive collection problem, but soft refs have their own problems.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215555038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215609729","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-215609729","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":215609729,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTYwOTcyOQ==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-29T01:48:12Z","updated_at":"2016-04-29T01:48:12Z","author_association":"MEMBER","body":"The desired behavior is: remove a TabletLocator from the locators map one hour _after_ no other strong references to it exist. Reset the timer when a new thread accesses the TabletLocator.\n\nSadly I don't see an easy way to implement this behavior.  \n1. If we use a timer with Guava, then a TabletLocator may be removed from the map if a thread uses the TabletLocator for at least an hour, which could easily happen if the thread locally caches the locator.\n2. If we use soft references, then TabletLocators may be removed from the map (in an LRU manner) at any time there are no other references to them if the gc is pressured. This could affect performance in edge cases.\n3. Using both a timer and soft references has both problems.\n\nThe approach in this PR forces threads to re-fetch a TabletLocator from the map if the locators in the map are cleared.  This happens once per hour and is done automatically by SyncingTabletLocator.  This solves the problem on its own and may be good enough. \n\nPerhaps the best solution is to combine it with the Guava timer (point 1 above): replacing the locators map with a Guava cache, letting entries expire one hour after they are last accessed. We may then remove the `synchronized` statements on TabletLocator.\n\nThink its worth going for, or shall we stick with this? \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215609729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215765483","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-215765483","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":215765483,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTc2NTQ4Mw==","user":{"login":"ShawnWalker","id":10088796,"node_id":"MDQ6VXNlcjEwMDg4Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/10088796?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnWalker","html_url":"https://github.com/ShawnWalker","followers_url":"https://api.github.com/users/ShawnWalker/followers","following_url":"https://api.github.com/users/ShawnWalker/following{/other_user}","gists_url":"https://api.github.com/users/ShawnWalker/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnWalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnWalker/subscriptions","organizations_url":"https://api.github.com/users/ShawnWalker/orgs","repos_url":"https://api.github.com/users/ShawnWalker/repos","events_url":"https://api.github.com/users/ShawnWalker/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnWalker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-29T15:41:23Z","updated_at":"2016-04-29T15:41:36Z","author_association":"CONTRIBUTOR","body":"Instead of trying to wrap things up so that these classes can pseudo-safely hold references to instances of `TabletLocator`, I feel that it would be much simpler to establish the rule \"thou shalt not hold a reference to a `TabletLocator` for an extended period\", and make changes appropriately.  \n\nBy which I mean:\n1. Refactor `ConditionalWriterImpl` to obtain a temporary `TabletLocator` reference at the beginning of each method that needs it (`queue(...)`, `sendToServer(...)`, `invalidateSession(...)`), instead of obtaining a single reference in the constructor.\n2. Modify `TimeoutTabletLocator` so that its constructor takes a `ClientContext` and a tableId, like your current pull request already does.  But have each of it's methods invoke `TabletLocator.getLocator(...)` anew.\n\nWhile I'm dubious that it'd be a real concern, if we felt that this would have significant performance impact (due to lock contention), then it should be possible to partially ameliorate the hit by using a Guava Cache or even a `ConcurrentHashMap`.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215765483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215770859","html_url":"https://github.com/apache/accumulo/pull/95#issuecomment-215770859","issue_url":"https://api.github.com/repos/apache/accumulo/issues/95","id":215770859,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTc3MDg1OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-29T15:49:30Z","updated_at":"2016-04-29T15:49:30Z","author_association":"CONTRIBUTOR","body":"> Any further comments @keith-turner before I merge this in?\n\nNope.  Just took a last look at it.  Looks good.  \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215770859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215771370","html_url":"https://github.com/apache/accumulo/pull/95#issuecomment-215771370","issue_url":"https://api.github.com/repos/apache/accumulo/issues/95","id":215771370,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTc3MTM3MA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-29T15:50:16Z","updated_at":"2016-04-29T15:50:16Z","author_association":"MEMBER","body":"> Nope. Just took a last look at it. Looks good. \n\nGreat. Thanks bud. I will merge this in today.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215771370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215784988","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-215784988","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":215784988,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTc4NDk4OA==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-29T16:12:20Z","updated_at":"2016-04-29T16:12:20Z","author_association":"MEMBER","body":"> Instead of trying to wrap things up so that these classes can pseudo-safely hold references to instances of `TabletLocator`\n\nThe current PR does allow any class to safely hold a reference to a `TabletLocator`.  It is simple and it works.  Don't you think it is better to permit classes the privilege of holding a reference?  The Writer and Reader classes locally cache TabletLocators because they write many entries to the same tablets from multiple threads, which could create lock contention if they accessed the static locators every time.\n\n> While I'm dubious that it'd be a real concern, if we felt that this would have significant performance impact (due to lock contention), then it should be possible to partially ameliorate the hit by using a Guava Cache or even a ConcurrentHashMap.\n\nYes, there are two items under discussion.  The first is to allow a class to hold a reference to a TabletLocator without syncing issues caused by clearing of the static locators. The second is to make locators into a Guava cache (or ConcurrentMap), which eliminates the synchronized restriction on the TabletLocator methods.  \n\nThe second item is not related to the original bug found for ACCUMULO-4229; rather, it is an opportunity we found while thinking about the first item.  We could ignore it or act on it.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215784988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215845672","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-215845672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":215845672,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTg0NTY3Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-29T18:46:43Z","updated_at":"2016-04-29T18:46:43Z","author_association":"CONTRIBUTOR","body":"> Sadly I don't see an easy way to implement this behavior.\n\nI agree.\n\n>   It is simple and it works. Don't you think it is better to permit classes the privilege of holding a reference?\n\nI can see pros and cons either way.   The con of having code that holds long term refs is that we need the code in this PR, which is a little more code to maintain.  The pro of having the code in this PR is that its more likely that new code using the tablet locator going forward will not use it incorrectly (by holding a ref when it should not).  Personally I am happy w/ either path.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/215845672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/217054567","html_url":"https://github.com/apache/accumulo/pull/96#issuecomment-217054567","issue_url":"https://api.github.com/repos/apache/accumulo/issues/96","id":217054567,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzA1NDU2Nw==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-05T01:27:17Z","updated_at":"2016-05-05T01:27:17Z","author_association":"MEMBER","body":"Closing to re-commit to master\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/217054567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/217055258","html_url":"https://github.com/apache/accumulo/pull/97#issuecomment-217055258","issue_url":"https://api.github.com/repos/apache/accumulo/issues/97","id":217055258,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzA1NTI1OA==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-05T01:34:49Z","updated_at":"2016-05-05T01:34:49Z","author_association":"MEMBER","body":"@joshelser I get the following error \n\n> [ERROR] src/test/java/org/apache/accumulo/test/BatchWriterInTabletServerIT.java should be in src/main/java\n\nI will move the test back to src/main/java\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/217055258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/217057750","html_url":"https://github.com/apache/accumulo/pull/97#issuecomment-217057750","issue_url":"https://api.github.com/repos/apache/accumulo/issues/97","id":217057750,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzA1Nzc1MA==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-05T01:59:27Z","updated_at":"2016-05-05T01:59:27Z","author_association":"MEMBER","body":"Okay, this is cleaned up.  Will commit tomorrow.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/217057750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/218544858","html_url":"https://github.com/apache/accumulo/pull/98#issuecomment-218544858","issue_url":"https://api.github.com/repos/apache/accumulo/issues/98","id":218544858,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODU0NDg1OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-11T18:18:46Z","updated_at":"2016-05-11T18:18:46Z","author_association":"MEMBER","body":"The same sha1 is building fine in http://travis-ci.org/ctubbsii/accumulo/, but the one at http://travis-ci.org/apache/accumulo/ can't seem to complete a build without hanging trying to download all the maven dependencies the first time. And, because Travis won't cache anything until a build completes successfully, it starts fresh, re-downloading all the deps each time (It's very annoying).\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/218544858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/218592434","html_url":"https://github.com/apache/accumulo/pull/98#issuecomment-218592434","issue_url":"https://api.github.com/repos/apache/accumulo/issues/98","id":218592434,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODU5MjQzNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-11T21:14:50Z","updated_at":"2016-05-11T21:14:50Z","author_association":"MEMBER","body":"I'm going to merge this in.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/218592434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/219484445","html_url":"https://github.com/apache/accumulo/pull/99#issuecomment-219484445","issue_url":"https://api.github.com/repos/apache/accumulo/issues/99","id":219484445,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTQ4NDQ0NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T17:12:36Z","updated_at":"2016-05-16T17:12:36Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/219484445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/219500142","html_url":"https://github.com/apache/accumulo/pull/99#issuecomment-219500142","issue_url":"https://api.github.com/repos/apache/accumulo/issues/99","id":219500142,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTUwMDE0Mg==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T18:09:28Z","updated_at":"2016-05-16T18:09:28Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/219500142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/219558151","html_url":"https://github.com/apache/accumulo/pull/99#issuecomment-219558151","issue_url":"https://api.github.com/repos/apache/accumulo/issues/99","id":219558151,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU1ODE1MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T21:45:47Z","updated_at":"2016-05-16T21:45:47Z","author_association":"MEMBER","body":"BTW, it's possible to give a +1 with the icon to \"Add your reaction\", rather than create separate comments. It keeps things nice and rolled up, instead of potentially long-scrolling +1 vertical columns.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/219558151/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221162021","html_url":"https://github.com/apache/accumulo/pull/100#issuecomment-221162021","issue_url":"https://api.github.com/repos/apache/accumulo/issues/100","id":221162021,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTE2MjAyMQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-24T04:13:22Z","updated_at":"2016-05-24T04:13:22Z","author_association":"MEMBER","body":"Left some nit-picky comments on `KeyShortener`, but overall it looks good. I assume you didn't see any performance degradation with this change?\n\n:+1:\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221162021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221248395","html_url":"https://github.com/apache/accumulo/pull/100#issuecomment-221248395","issue_url":"https://api.github.com/repos/apache/accumulo/issues/100","id":221248395,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTI0ODM5NQ==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-24T12:05:56Z","updated_at":"2016-05-24T12:05:56Z","author_association":"MEMBER","body":"@keith-turner this is merging into master but I assume you want this in 1.8.  Will this be back ported to 1.7 and 1.6 also?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221248395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221286131","html_url":"https://github.com/apache/accumulo/pull/100#issuecomment-221286131","issue_url":"https://api.github.com/repos/apache/accumulo/issues/100","id":221286131,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTI4NjEzMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-24T14:20:05Z","updated_at":"2016-05-24T14:20:05Z","author_association":"CONTRIBUTOR","body":"> @keith-turner this is merging into master but I assume you want this in 1.8. Will this be back ported to 1.7 and 1.6 also?\n\nI meant to make the PR against 1.8, but forgot.  I will merge it into 1.8 after review.  The key shortening change can not go into 1.6 and 1.7.  The changes for using stats to find better keys to put in the index could be made in 1.6 and 1.7.  I commented about this on the issue and opened another issue for 1.6 and 1.7.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221286131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221287151","html_url":"https://github.com/apache/accumulo/pull/100#issuecomment-221287151","issue_url":"https://api.github.com/repos/apache/accumulo/issues/100","id":221287151,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTI4NzE1MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-24T14:23:19Z","updated_at":"2016-05-24T14:23:19Z","author_association":"CONTRIBUTOR","body":">  but overall it looks good. I assume you didn't see any performance degradation with this change?\n\nI was thinking about that, but did not test it.  Wanted to get the change up for review.   I will run some test.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221287151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221299073","html_url":"https://github.com/apache/accumulo/pull/99#issuecomment-221299073","issue_url":"https://api.github.com/repos/apache/accumulo/issues/99","id":221299073,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTI5OTA3Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-24T14:59:41Z","updated_at":"2016-05-24T14:59:41Z","author_association":"CONTRIBUTOR","body":"@mikewalch  what branch did you intend this to go in?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221299073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221384261","html_url":"https://github.com/apache/accumulo/pull/100#issuecomment-221384261","issue_url":"https://api.github.com/repos/apache/accumulo/issues/100","id":221384261,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTM4NDI2MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-24T19:58:05Z","updated_at":"2016-05-24T19:58:05Z","author_association":"CONTRIBUTOR","body":"@joshelser  I ran some performance test and did not really see a difference.  Below I compacted the file I have been testing with 3 times using the changes in this PR.\n\n```\n2016-05-24 15:33:30,598 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 230,337 entries/sec | 105.495 secs |  688,581,526 bytes | 6527148.453 byte/sec\n2016-05-24 15:35:17,940 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 234,137 entries/sec | 103.783 secs |  688,581,526 bytes | 6634820.019 byte/sec\n2016-05-24 15:37:09,738 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 231,960 entries/sec | 104.757 secs |  688,581,526 bytes | 6573131.399 byte/sec\n```\n\nBelow I compacted the same file 3 times using 73b4fbb\n\n```\n2016-05-24 15:46:19,371 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 233,054 entries/sec | 104.265 secs |  693,539,660 bytes | 6651701.530 byte/sec\n2016-05-24 15:48:07,653 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 235,752 entries/sec | 103.072 secs |  693,539,660 bytes | 6728691.206 byte/sec\n2016-05-24 15:49:59,176 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 233,536 entries/sec | 104.050 secs |  693,539,660 bytes | 6665446.036 byte/sec\n```\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221384261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221417030","html_url":"https://github.com/apache/accumulo/pull/100#issuecomment-221417030","issue_url":"https://api.github.com/repos/apache/accumulo/issues/100","id":221417030,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTQxNzAzMA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-24T22:10:05Z","updated_at":"2016-05-24T22:10:05Z","author_association":"MEMBER","body":"Wonderful, thanks for running it through its paces.\nOn May 24, 2016 1:43 PM, \"Keith Turner\" notifications@github.com wrote:\n\n> @joshelser https://github.com/joshelser I ran some performance test and\n> did not really see a difference. Below I compacted the file I have been\n> testing with 3 times using the changes in this PR.\n> \n> 2016-05-24 15:33:30,598 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 230,337 entries/sec | 105.495 secs |  688,581,526 bytes | 6527148.453 byte/sec\n> 2016-05-24 15:35:17,940 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 234,137 entries/sec | 103.783 secs |  688,581,526 bytes | 6634820.019 byte/sec\n> 2016-05-24 15:37:09,738 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 231,960 entries/sec | 104.757 secs |  688,581,526 bytes | 6573131.399 byte/sec\n> \n> Below I compacted the same file 3 times using 73b4fbb\n> https://github.com/apache/accumulo/commit/73b4fbbafe11190c73d375e5987913883d5cfdc3\n> \n> 2016-05-24 15:46:19,371 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 233,054 entries/sec | 104.265 secs |  693,539,660 bytes | 6651701.530 byte/sec\n> 2016-05-24 15:48:07,653 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 235,752 entries/sec | 103.072 secs |  693,539,660 bytes | 6728691.206 byte/sec\n> 2016-05-24 15:49:59,176 [tablet.Compactor] DEBUG: Compaction 2<< 24,299,468 read | 24,299,468 written | 233,536 entries/sec | 104.050 secs |  693,539,660 bytes | 6665446.036 byte/sec\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/apache/accumulo/pull/100#issuecomment-221384261\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221417030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221692951","html_url":"https://github.com/apache/accumulo/pull/101#issuecomment-221692951","issue_url":"https://api.github.com/repos/apache/accumulo/issues/101","id":221692951,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTY5Mjk1MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-25T20:13:13Z","updated_at":"2016-05-25T20:13:13Z","author_association":"MEMBER","body":"Spoke with Mike and made some suggestions. In summary:\n\nPros\n- I like the improvements to the menu layout.\n- I like the simplified footer.\n- I like the image being moved into the menu.\n- I like the removal of the search box. It wasn't very useful, I think.\n- I like the removal of the left side social buttons on most pages.\n\nCons\n- I don't think the index.md file needs to be renamed to index.html. It's still being processed as a Markdown file, because it has front-matter. Best to keep the filename consistency, I think, even if it currently doesn't contain markdown syntax. (Also easier to see the diff.)\n- Menu doesn't resize quickly enough to the \"mobile\" view when the window shrinks. Might be best to shorten \"Apache Software Foundation\" or shrink the text size or something.\n- \"Apache License, Version 2.0\" needs non-breaking spaces `&nbsp;` so it doesn't get broken up when window shrinks.\n- I think the left-side social buttons shouldn't appear on the first page either. Instead, it should be moved to the footer. Or, at the very least, they should be made smaller without the large text next to them (hover text is sufficient).\n- Nav bar getting bigger by X pixels means that the `h1::before`, etc. style needs to also increase by X pixels so section headers don't get hidden under the menu when navigating directly to a section.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221692951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221917395","html_url":"https://github.com/apache/accumulo/pull/101#issuecomment-221917395","issue_url":"https://api.github.com/repos/apache/accumulo/issues/101","id":221917395,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTkxNzM5NQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-26T16:07:56Z","updated_at":"2016-05-26T16:07:56Z","author_association":"MEMBER","body":"I addressed all of @ctubbsii cons except for moving the social buttons to the footer.  While I agree with his view, this pull request is getting big enough.  It should be fixed in a separate issue which I will create.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221917395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221920050","html_url":"https://github.com/apache/accumulo/pull/101#issuecomment-221920050","issue_url":"https://api.github.com/repos/apache/accumulo/issues/101","id":221920050,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTkyMDA1MA==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-26T16:17:31Z","updated_at":"2016-05-26T16:17:31Z","author_association":"MEMBER","body":"Created new issues for social buttons https://issues.apache.org/jira/browse/ACCUMULO-4316\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221920050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221920976","html_url":"https://github.com/apache/accumulo/pull/99#issuecomment-221920976","issue_url":"https://api.github.com/repos/apache/accumulo/issues/99","id":221920976,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTkyMDk3Ng==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-26T16:20:49Z","updated_at":"2016-05-26T16:20:49Z","author_association":"MEMBER","body":"master and 1.8 should be sufficient but adding it to more (like 1.7) would be great.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221920976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221948283","html_url":"https://github.com/apache/accumulo/pull/99#issuecomment-221948283","issue_url":"https://api.github.com/repos/apache/accumulo/issues/99","id":221948283,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTk0ODI4Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-26T18:04:13Z","updated_at":"2016-05-26T18:04:13Z","author_association":"MEMBER","body":"1.7 and later use the same mechanism to build the docs, so it should be trivial to add it to all 3 of those. 1.6 is a bit annoying, because of the docs using a LaTeX build.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/221948283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222224851","html_url":"https://github.com/apache/accumulo/pull/100#issuecomment-222224851","issue_url":"https://api.github.com/repos/apache/accumulo/issues/100","id":222224851,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjIyNDg1MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-27T18:48:16Z","updated_at":"2016-05-27T18:48:16Z","author_association":"CONTRIBUTOR","body":"I squashed this and merged it.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222224851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222256568","html_url":"https://github.com/apache/accumulo/pull/104#issuecomment-222256568","issue_url":"https://api.github.com/repos/apache/accumulo/issues/104","id":222256568,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjI1NjU2OA==","user":{"login":"dhutchis","id":1687158,"node_id":"MDQ6VXNlcjE2ODcxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1687158?v=4","gravatar_id":"","url":"https://api.github.com/users/dhutchis","html_url":"https://github.com/dhutchis","followers_url":"https://api.github.com/users/dhutchis/followers","following_url":"https://api.github.com/users/dhutchis/following{/other_user}","gists_url":"https://api.github.com/users/dhutchis/gists{/gist_id}","starred_url":"https://api.github.com/users/dhutchis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhutchis/subscriptions","organizations_url":"https://api.github.com/users/dhutchis/orgs","repos_url":"https://api.github.com/users/dhutchis/repos","events_url":"https://api.github.com/users/dhutchis/events{/privacy}","received_events_url":"https://api.github.com/users/dhutchis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-27T21:25:14Z","updated_at":"2016-05-27T21:25:14Z","author_association":"MEMBER","body":"One thought--- a client might open a BatchScanner in a try-with-resources block but save a reference to `scanner.iterator()` and use that outside the block.  If so the client will fail because the BatchScanner will close the query thread pool that the TabletServerBatchReader uses.  It would be good to advise users in the documents not to do this.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222256568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222257863","html_url":"https://github.com/apache/accumulo/pull/104#issuecomment-222257863","issue_url":"https://api.github.com/repos/apache/accumulo/issues/104","id":222257863,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjI1Nzg2Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-27T21:32:31Z","updated_at":"2016-05-27T21:32:31Z","author_association":"MEMBER","body":"That's a very good point, @dhutchis. I think I've seen really weird things in the same manner where a BatchScanner falls out of scope, the finalizer closes it, and then invalidates the iterator being iterated over (in a for-each loop). I think @wjsl also hit this before.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222257863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222267272","html_url":"https://github.com/apache/accumulo/pull/104#issuecomment-222267272","issue_url":"https://api.github.com/repos/apache/accumulo/issues/104","id":222267272,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjI2NzI3Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-27T22:30:23Z","updated_at":"2016-05-27T22:30:23Z","author_association":"CONTRIBUTOR","body":">  It would be good to advise users in the documents not to do this.\n\nI can add some javadoc on the close methods.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222267272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222273600","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222273600","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222273600,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjI3MzYwMA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-27T23:23:59Z","updated_at":"2016-05-27T23:23:59Z","author_association":"MEMBER","body":"I see you didn't switch over the AccumuloFileOutputFormat to use this new API. I would have considered that exercise good validation of the API that you made here. Thoughts?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222273600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222274573","html_url":"https://github.com/apache/accumulo/pull/104#issuecomment-222274573","issue_url":"https://api.github.com/repos/apache/accumulo/issues/104","id":222274573,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjI3NDU3Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-27T23:32:32Z","updated_at":"2016-05-27T23:32:32Z","author_association":"MEMBER","body":"Noticed that you also added some closing of Scanners that were left to auto-close on GC\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222274573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222277916","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222277916","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222277916,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjI3NzkxNg==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-28T00:09:03Z","updated_at":"2016-05-28T00:09:03Z","author_association":"CONTRIBUTOR","body":"Josh, aka Josh, sent me a note to take a look. Because Josh, aka Josh, tended to my chickens while I was away, will take a moment away from tending to my flock to comment.\n\nThe paradigm you've chosen is a separate API. I understand the intent, but I believe this not only increases the footprint of the API, but long-term increases the costs for its maintainers ( you! ). Those who wish to implement the layer of access you've allowed will do so without regard to an external API. What we needed and implemented was a way to bypass the tserver. I would like to see this supported through the connector as an established mechanism for data retrieval. \n\nHaving a scanner to do that that, accepting the current API was most advantageous for us, long term. It decreased the maintenance footprint, kept the API clean and helps to abstract the tablet location obtainer algorithm. Invariably, on a production system, we will need to cache locations of rfiles, and re-build as compactions occur since we don't inject the scan column. We want to hide all of this. I would love to see all of that implemented for us so we don't need to continue to implement what we currently have. I was hoping your pull requests would allow us to that. Perhaps i'm reaching for what I hoped the intent of your pull request was. \n\nBack to my chickens, and apparently now injured geese. \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222277916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222281434","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222281434","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222281434,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjI4MTQzNA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-28T00:58:46Z","updated_at":"2016-05-28T00:58:46Z","author_association":"MEMBER","body":"> What we needed and implemented was a way to bypass the tserver. I would like to see this supported through the connector as an established mechanism for data retrieval. \n\nThis certainly seems like it could be a follow-on task. I very much the idea of public API around RFile read/write because of bulk imports. Right now, users have a stable API in which to import RFiles into Accumulo. However, the only public API to generate RFiles is via MapReduce (which is soooo 2008).\n\n> It decreased the maintenance footprint, kept the API clean and helps to abstract the tablet location obtainer algorithm\n\nCompletely makes sense.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222281434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222709842","html_url":"https://github.com/apache/accumulo/pull/104#issuecomment-222709842","issue_url":"https://api.github.com/repos/apache/accumulo/issues/104","id":222709842,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjcwOTg0Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T14:41:19Z","updated_at":"2016-05-31T14:41:19Z","author_association":"CONTRIBUTOR","body":"> Noticed that you also added some closing of Scanners that were left to auto-close on GC\n\nNo exactly sure what you mean.  Can you point it out with a comment?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222709842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222710423","html_url":"https://github.com/apache/accumulo/pull/104#issuecomment-222710423","issue_url":"https://api.github.com/repos/apache/accumulo/issues/104","id":222710423,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjcxMDQyMw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T14:43:09Z","updated_at":"2016-05-31T14:43:09Z","author_association":"MEMBER","body":"> No exactly sure what you mean. Can you point it out with a comment?\n\nMaybe close by GC is wrong (I forget if we actually have a finalizer on it now). But, anyways, you added some close calls on Scanners :)\n\nhttps://github.com/apache/accumulo/pull/104/files#diff-34221dcf488e3b53687222557d82b2f1R300\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222710423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222715089","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222715089","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222715089,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjcxNTA4OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T14:57:30Z","updated_at":"2016-05-31T14:57:30Z","author_association":"CONTRIBUTOR","body":">  Those who wish to implement the layer of access you've allowed will do so without regard to an external API. \n\nUsing non public Accumulo APIs is ok if the software is only used by the authors.  However in the case where someone writes software that uses non-public APIs and shares that software with others, it could result in a bad/confusing user experience.\n\n> What we needed and implemented was a way to bypass the tserver. I would like to see this supported through the connector as an established mechanism for data retrieval. \n\nWhat I was going for here is a different use case.  This API supports working with RFiles without having an Accumulo instance.   I made a choice not to require a connector.  This supports writing tools  that can be shared around reading and writing rfiles.\n\n> We want to hide all of this. I would love to see all of that implemented for us so we don't need to continue to implement what we currently have. I was hoping your pull requests would allow us to that. Perhaps i'm reaching for what I hoped the intent of your pull request was. \n\nSo I think this puts more in the public API to support this use case, but not everything.  We do need to work towards getting this use case fully supported in the public API.  Is it documented in an issue?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222715089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222718300","html_url":"https://github.com/apache/accumulo/pull/104#issuecomment-222718300","issue_url":"https://api.github.com/repos/apache/accumulo/issues/104","id":222718300,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjcxODMwMA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T15:07:26Z","updated_at":"2016-05-31T15:07:26Z","author_association":"CONTRIBUTOR","body":"> Maybe close by GC is wrong (I forget if we actually have a finalizer on it now). But, anyways, you added some close calls on Scanners :)\n\nok.  Introducing Autocloseable introduced lots of warnings in the code.  I was just trying to suppress the warnings.   When I did this I was thinking Scanners don't have to be closed, so don't need to use try-with-resources.  However this could change in the future and the warnings will not be there.  I'll change those to use try-with-resources.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222718300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222719103","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222719103","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222719103,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjcxOTEwMw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T15:09:46Z","updated_at":"2016-05-31T15:09:46Z","author_association":"CONTRIBUTOR","body":"> I see you didn't switch over the AccumuloFileOutputFormat to use this new API. I would have considered that exercise good validation of the API that you made here. Thoughts?\n\nI did consider that, but didn't get to it.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222719103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222752093","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222752093","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222752093,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjc1MjA5Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T16:59:40Z","updated_at":"2016-05-31T16:59:40Z","author_association":"MEMBER","body":"> >    I see you didn't switch over the AccumuloFileOutputFormat to use this new API. I would have considered that exercise good validation of the API that you made here. Thoughts?\n> \n> I did consider that, but didn't get to it.\n\nShould that be interpreted as \"I will not get to it\" or \"I have not yet gotten to it\"? I'm not sure if I would be -1 without it, but I do think it would be very important to actually switch over to that new API for two reasons:\n1. Further validates the correctness and usability of your API\n2. Potentially prevents us having more issues switching to it in the 1.8.x maintenance line. Maybe we could swap it in later without users noticing, but I would be worried about unintended consequences cropping up.\n\nIdeally, it should be very trivial, and I could do this on my own to help out if you don't have the time to do so on your own, no?\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222752093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222763977","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222763977","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222763977,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjc2Mzk3Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T17:41:48Z","updated_at":"2016-05-31T17:41:48Z","author_association":"CONTRIBUTOR","body":"> Should that be interpreted as \"I will not get to it\" or \"I have not yet gotten to it\"?\n\nThought of at one point, didn't do it, forgot about it :).  I agree w/ your points and think its a good idea to do it.  I'll give it a try.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222763977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222788018","html_url":"https://github.com/apache/accumulo/pull/103#issuecomment-222788018","issue_url":"https://api.github.com/repos/apache/accumulo/issues/103","id":222788018,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjc4ODAxOA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T19:04:18Z","updated_at":"2016-05-31T19:04:18Z","author_association":"CONTRIBUTOR","body":"I modified Accumulo ouputformat to use the new Rfile public API and that worked ok (the minimal amount of RFile test passed).   One very import discovery came out of this exercise.  I saw the AccumuloFileOutputFormat code validates visibilities. The impl behind the new RFile  does not do this yet.  I am going to change it to.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222788018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222854843","html_url":"https://github.com/apache/accumulo/pull/105#issuecomment-222854843","issue_url":"https://api.github.com/repos/apache/accumulo/issues/105","id":222854843,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjg1NDg0Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T23:50:13Z","updated_at":"2016-05-31T23:50:13Z","author_association":"CONTRIBUTOR","body":"I just took a quick look at this, I am going to look at it more in the morning.  One thing I dont understand is that all the impl createCompressionStream and createDecompressionStream methods are synchronized. Maybe that because they are mutating the conf, but it seems the conf is scoped wider than the sync.  Also, is this a bottleneck?  I will look into it more in the morning.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222854843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222855138","html_url":"https://github.com/apache/accumulo/pull/105#issuecomment-222855138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/105","id":222855138,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjg1NTEzOA==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-31T23:52:12Z","updated_at":"2016-05-31T23:55:25Z","author_association":"CONTRIBUTOR","body":"I left them synchronized because conf is not thread safe. I left that paradigm the same because it was not a bottleneck in profiling. Creating a conf per use _was_. \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/222855138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/223030663","html_url":"https://github.com/apache/accumulo/pull/106#issuecomment-223030663","issue_url":"https://api.github.com/repos/apache/accumulo/issues/106","id":223030663,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzAzMDY2Mw==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-01T15:30:52Z","updated_at":"2016-06-01T15:30:52Z","author_association":"CONTRIBUTOR","body":"@madrob When are you cutting 1.7.2? I'd like to make an additional change per @keith-turner and get this into 1.7.2, but don't wanna to slow you down. \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/223030663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/223085652","html_url":"https://github.com/apache/accumulo/pull/106#issuecomment-223085652","issue_url":"https://api.github.com/repos/apache/accumulo/issues/106","id":223085652,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzA4NTY1Mg==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-01T18:38:17Z","updated_at":"2016-06-01T18:38:37Z","author_association":"CONTRIBUTOR","body":"Made some change per Keith to avoid synchronization entirely. I initially didn't notice those two functions causing issues; however, I agree that the synchronization isn't necessary. Removing it by using a codec cache when we aren't using the default buffer size for that specific codec. \n\nI'm kind of iffy on the design, but any input by those familiar with the code would be appreciated. \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/223085652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]