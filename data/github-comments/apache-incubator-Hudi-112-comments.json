[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800339684","html_url":"https://github.com/apache/hudi/pull/2684#issuecomment-800339684","issue_url":"https://api.github.com/repos/apache/hudi/issues/2684","id":800339684,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDMzOTY4NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T15:04:14Z","updated_at":"2021-03-16T15:04:14Z","author_association":"MEMBER","body":"I also see the relocation there, if I am not wrong. So unsure how this is happening.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800339684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800340732","html_url":"https://github.com/apache/hudi/pull/2683#issuecomment-800340732","issue_url":"https://api.github.com/repos/apache/hudi/issues/2683","id":800340732,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDM0MDczMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T15:05:30Z","updated_at":"2021-03-16T15:05:30Z","author_association":"MEMBER","body":"do we really need to fix 0.7.0?  we don't typically do that. We can just fix master branch and get it into the future 0.8.0?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800340732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800363863","html_url":"https://github.com/apache/hudi/pull/2684#issuecomment-800363863","issue_url":"https://api.github.com/repos/apache/hudi/issues/2684","id":800363863,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDM2Mzg2Mw==","user":{"login":"peng-xin","id":13350489,"node_id":"MDQ6VXNlcjEzMzUwNDg5","avatar_url":"https://avatars.githubusercontent.com/u/13350489?v=4","gravatar_id":"","url":"https://api.github.com/users/peng-xin","html_url":"https://github.com/peng-xin","followers_url":"https://api.github.com/users/peng-xin/followers","following_url":"https://api.github.com/users/peng-xin/following{/other_user}","gists_url":"https://api.github.com/users/peng-xin/gists{/gist_id}","starred_url":"https://api.github.com/users/peng-xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peng-xin/subscriptions","organizations_url":"https://api.github.com/users/peng-xin/orgs","repos_url":"https://api.github.com/users/peng-xin/repos","events_url":"https://api.github.com/users/peng-xin/events{/privacy}","received_events_url":"https://api.github.com/users/peng-xin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T15:29:30Z","updated_at":"2021-03-16T15:29:30Z","author_association":"NONE","body":"> I also see the relocation there, if I am not wrong. So unsure how this is happening.\r\n\r\nbut the commons-codec package is not in the includeSet(maven-shade-plugin) .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800363863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800365791","html_url":"https://github.com/apache/hudi/pull/2684#issuecomment-800365791","issue_url":"https://api.github.com/repos/apache/hudi/issues/2684","id":800365791,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDM2NTc5MQ==","user":{"login":"peng-xin","id":13350489,"node_id":"MDQ6VXNlcjEzMzUwNDg5","avatar_url":"https://avatars.githubusercontent.com/u/13350489?v=4","gravatar_id":"","url":"https://api.github.com/users/peng-xin","html_url":"https://github.com/peng-xin","followers_url":"https://api.github.com/users/peng-xin/followers","following_url":"https://api.github.com/users/peng-xin/following{/other_user}","gists_url":"https://api.github.com/users/peng-xin/gists{/gist_id}","starred_url":"https://api.github.com/users/peng-xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peng-xin/subscriptions","organizations_url":"https://api.github.com/users/peng-xin/orgs","repos_url":"https://api.github.com/users/peng-xin/repos","events_url":"https://api.github.com/users/peng-xin/events{/privacy}","received_events_url":"https://api.github.com/users/peng-xin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T15:31:24Z","updated_at":"2021-03-16T15:31:24Z","author_association":"NONE","body":"> @peng-xin IMO, you just need to keep one PR, close this one, and remain #2683 . wdyt?\r\n\r\nbut the master br has the same problem","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800365791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800367586","html_url":"https://github.com/apache/hudi/pull/2683#issuecomment-800367586","issue_url":"https://api.github.com/repos/apache/hudi/issues/2683","id":800367586,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDM2NzU4Ng==","user":{"login":"peng-xin","id":13350489,"node_id":"MDQ6VXNlcjEzMzUwNDg5","avatar_url":"https://avatars.githubusercontent.com/u/13350489?v=4","gravatar_id":"","url":"https://api.github.com/users/peng-xin","html_url":"https://github.com/peng-xin","followers_url":"https://api.github.com/users/peng-xin/followers","following_url":"https://api.github.com/users/peng-xin/following{/other_user}","gists_url":"https://api.github.com/users/peng-xin/gists{/gist_id}","starred_url":"https://api.github.com/users/peng-xin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peng-xin/subscriptions","organizations_url":"https://api.github.com/users/peng-xin/orgs","repos_url":"https://api.github.com/users/peng-xin/repos","events_url":"https://api.github.com/users/peng-xin/events{/privacy}","received_events_url":"https://api.github.com/users/peng-xin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T15:33:17Z","updated_at":"2021-03-16T15:38:42Z","author_association":"NONE","body":"> do we really need to fix 0.7.0? we don't typically do that. We can just fix master branch and get it into the future 0.8.0?\r\n \r\nmaster branch has been fix by another one\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800367586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800542037","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-800542037","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":800542037,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDU0MjAzNw==","user":{"login":"codejoyan","id":48707638,"node_id":"MDQ6VXNlcjQ4NzA3NjM4","avatar_url":"https://avatars.githubusercontent.com/u/48707638?v=4","gravatar_id":"","url":"https://api.github.com/users/codejoyan","html_url":"https://github.com/codejoyan","followers_url":"https://api.github.com/users/codejoyan/followers","following_url":"https://api.github.com/users/codejoyan/following{/other_user}","gists_url":"https://api.github.com/users/codejoyan/gists{/gist_id}","starred_url":"https://api.github.com/users/codejoyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codejoyan/subscriptions","organizations_url":"https://api.github.com/users/codejoyan/orgs","repos_url":"https://api.github.com/users/codejoyan/repos","events_url":"https://api.github.com/users/codejoyan/events{/privacy}","received_events_url":"https://api.github.com/users/codejoyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T19:25:16Z","updated_at":"2021-03-16T19:26:30Z","author_association":"CONTRIBUTOR","body":"Apologies for the delay @nsivabalan \r\nBelow are the answers to the questions you asked:\r\n- What constitutes your record key? - _The record key is random within a partition (store number (integer), trip number (string), bill item number (short)). However 2 of the 3 columns are numeric and sortable. Will pre-sorting help based on the use case above?_\r\n- Does your ingestion batch contain just inserts or updates as well - _It consists 90% inserts and 10% updates._\r\n- If updates, does it touch latest partitions or spread across all partitions equally. - _It touches mostly the latest partition._\r\n\r\n**Few additional Questions:**\r\n**Use Case:**\r\n\r\n- The use-case is to track the user visits to different stores for making purchases. \r\n- The dataset is partitioned by region and visit date. \r\n- The record key is ComplexKeyGenerator and combination of store number (integer), trip number (string), bill item number (short).\r\n- The pre-combine key is a timestamp column.\r\n\r\nBased on the above scenario do you suggest:\r\n1. What other partition strategy or record key strategy might be used to take advantage of bloom filter?\r\n2. There are 2 jobs that take time. Are both related to index lookup time. Or something else is also contributing to the increased load time?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800542037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800615737","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-800615737","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":800615737,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDYxNTczNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T21:23:43Z","updated_at":"2021-03-16T21:23:43Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I've added curator to utilities bundle. In this PR, we don't support locking for flink and java clients so I have not added to the flink bundle. If you have another reason to add curator to flink bundles, let me know. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800615737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800644758","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-800644758","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":800644758,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDY0NDc1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T22:06:03Z","updated_at":"2021-03-16T22:06:03Z","author_association":"MEMBER","body":"cc @yanghua @danny0405 @leesf to take note for flink/java support follow up. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800644758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800685324","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-800685324","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":800685324,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDY4NTMyNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T23:42:57Z","updated_at":"2021-03-16T23:43:32Z","author_association":"CONTRIBUTOR","body":"Here is the issue for the follow up -> https://issues.apache.org/jira/browse/HUDI-1698. I'll work with you guys offline @danny0405 @yanghua @leesf ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800685324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800745638","html_url":"https://github.com/apache/hudi/pull/2666#issuecomment-800745638","issue_url":"https://api.github.com/repos/apache/hudi/issues/2666","id":800745638,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDc0NTYzOA==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T02:32:49Z","updated_at":"2021-03-17T02:32:49Z","author_association":"CONTRIBUTOR","body":"There does not seem to be the same function as this PR at the moment\r\n@nsivabalan \r\n\r\nThis PR inherits from here, this one https://github.com/apache/hudi/pull/1929   will be obsolete ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800745638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800748833","html_url":"https://github.com/apache/hudi/issues/2664#issuecomment-800748833","issue_url":"https://api.github.com/repos/apache/hudi/issues/2664","id":800748833,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDc0ODgzMw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T02:42:16Z","updated_at":"2021-03-17T02:42:16Z","author_association":"NONE","body":"Thank you, I will try if necessary I open this issue again, thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800748833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800748973","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-800748973","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":800748973,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDc0ODk3Mw==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T02:42:46Z","updated_at":"2021-03-17T02:42:46Z","author_association":"CONTRIBUTOR","body":"> Here is the issue for the follow up -> https://issues.apache.org/jira/browse/HUDI-1698. I'll work with you guys offline @danny0405 @yanghua @leesf\r\n\r\nThanks for the notion, would take up the following work.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800748973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800961386","html_url":"https://github.com/apache/hudi/pull/2690#issuecomment-800961386","issue_url":"https://api.github.com/repos/apache/hudi/issues/2690","id":800961386,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDk2MTM4Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T10:12:35Z","updated_at":"2021-03-17T10:12:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2690?src=pr&el=h1) Report\n> Merging [#2690](https://codecov.io/gh/apache/hudi/pull/2690?src=pr&el=desc) (df02f35) into [master](https://codecov.io/gh/apache/hudi/commit/74241947c123c860a1b0344f25cef316440a70d6?el=desc) (7424194) will **increase** coverage by `18.29%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2690/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2690?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2690       +/-   ##\n=============================================\n+ Coverage     51.70%   69.99%   +18.29%     \n+ Complexity     3584      367     -3217     \n=============================================\n  Files           475       53      -422     \n  Lines         22495     1963    -20532     \n  Branches       2393      235     -2158     \n=============================================\n- Hits          11630     1374    -10256     \n+ Misses         9852      458     -9394     \n+ Partials       1013      131      -882     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.99% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2690?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | | | |\n| [.../hudi/async/SparkStreamingAsyncCompactService.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXN5bmMvU3BhcmtTdHJlYW1pbmdBc3luY0NvbXBhY3RTZXJ2aWNlLmphdmE=) | | | |\n| [...rg/apache/hudi/metadata/MetadataPartitionType.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvTWV0YWRhdGFQYXJ0aXRpb25UeXBlLmphdmE=) | | | |\n| [...op/realtime/HoodieCombineRealtimeRecordReader.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZUNvbWJpbmVSZWFsdGltZVJlY29yZFJlYWRlci5qYXZh) | | | |\n| [...rg/apache/hudi/common/model/HoodieAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUF2cm9QYXlsb2FkLmphdmE=) | | | |\n| [.../apache/hudi/sink/compact/CompactionPlanEvent.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvblBsYW5FdmVudC5qYXZh) | | | |\n| [.../java/org/apache/hudi/HoodieDataSourceHelpers.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllRGF0YVNvdXJjZUhlbHBlcnMuamF2YQ==) | | | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | | | |\n| [...a/org/apache/hudi/common/util/CompactionUtils.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ29tcGFjdGlvblV0aWxzLmphdmE=) | | | |\n| [.../org/apache/hudi/exception/HoodieKeyException.java](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZUtleUV4Y2VwdGlvbi5qYXZh) | | | |\n| ... and [412 more](https://codecov.io/gh/apache/hudi/pull/2690/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/800961386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801032187","html_url":"https://github.com/apache/hudi/pull/2690#issuecomment-801032187","issue_url":"https://api.github.com/repos/apache/hudi/issues/2690","id":801032187,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTAzMjE4Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T12:10:48Z","updated_at":"2021-03-17T12:10:48Z","author_association":"CONTRIBUTOR","body":"@danny0405 Please check the CI.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801032187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801047682","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-801047682","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":801047682,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTA0NzY4Mg==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T12:36:54Z","updated_at":"2021-03-17T12:36:54Z","author_association":"CONTRIBUTOR","body":"Digging a bit deeper I have concluded that the issue is as following:\r\n\r\nThe avro refuses to read anny payload where reader schema has some extra field than writer schema unless default has been defined for that optional field. (even if the field is nullable, avro expects a default to read).\r\n\r\nAnd while registering Avro schema, Hudi uses SparkAvroUtils to generate schema which explicitly creates schema with **noDefault**. Hence the unexpected behavior.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801047682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801061012","html_url":"https://github.com/apache/hudi/pull/2690#issuecomment-801061012","issue_url":"https://api.github.com/repos/apache/hudi/issues/2690","id":801061012,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTA2MTAxMg==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T12:59:36Z","updated_at":"2021-03-17T12:59:36Z","author_association":"CONTRIBUTOR","body":"Close and open to re-trigger the tests.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801061012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801212605","html_url":"https://github.com/apache/hudi/pull/2654#issuecomment-801212605","issue_url":"https://api.github.com/repos/apache/hudi/issues/2654","id":801212605,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTIxMjYwNQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T16:10:57Z","updated_at":"2021-03-17T16:11:24Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar : Looks like we can't really allow NullSchemaProvider in our delta schema flow. We have [SparkAvroPostProcessor](https://github.com/apache/hudi/blob/968488fa3a3c67962ed5b60e00836e71c730a9a5/hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SparkAvroPostProcessor.java#L42) which will try to convert Avro schema to spark sql schema and back. So, if user passed in Null schema (Schema.create(Schema.Type.NULL)), we will run into NPE issues. \r\n\r\nSo, re-cap. \r\n- if entire schema provider is null, we are good. if schema provider returns null for schema (getTargetSchema() == null), we fallback to RowBasedSchemaProvider. \r\n- but if users passes in a NullSchemaProvider which will return Schema.create(Schema.Type.NULL) for target schema, I am not sure if we should make fixes to allow this flow. \r\n\r\nLet me know if this sounds reasonable. we can close this out and inform customer to not set any schema provider only. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801212605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801258259","html_url":"https://github.com/apache/hudi/pull/2673#issuecomment-801258259","issue_url":"https://api.github.com/repos/apache/hudi/issues/2673","id":801258259,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTI1ODI1OQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T17:11:28Z","updated_at":"2021-03-17T17:11:28Z","author_association":"NONE","body":"Great fix, In my pipeline I processed many tables in the same spark context using threads, so, probably until the end of my pipelines I have many rdd cached.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801258259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801263227","html_url":"https://github.com/apache/hudi/pull/2673#issuecomment-801263227","issue_url":"https://api.github.com/repos/apache/hudi/issues/2673","id":801263227,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTI2MzIyNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T17:18:38Z","updated_at":"2021-03-17T17:18:38Z","author_association":"MEMBER","body":"Makes sense to explicitly `unpersist()`. Do you think the issue is a leak of some sort, where we are hanging onto the writeStatus RDDs?  or simply the spark automatic cleaning not keeping up?\r\n https://spark.apache.org/docs/latest/rdd-programming-guide.html#removing-data \r\n\r\nI ask coz, it seems like you don't use `blocking=true`, so its all async unpersisting anyway . ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801263227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801263556","html_url":"https://github.com/apache/hudi/pull/2673#issuecomment-801263556","issue_url":"https://api.github.com/repos/apache/hudi/issues/2673","id":801263556,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTI2MzU1Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T17:19:05Z","updated_at":"2021-03-17T17:19:05Z","author_association":"MEMBER","body":"I ll land this later today. Change itself LGTM.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801263556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801447937","html_url":"https://github.com/apache/hudi/pull/2627#issuecomment-801447937","issue_url":"https://api.github.com/repos/apache/hudi/issues/2627","id":801447937,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTQ0NzkzNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T21:15:20Z","updated_at":"2021-03-17T23:13:03Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2627?src=pr&el=h1) Report\n> Merging [#2627](https://codecov.io/gh/apache/hudi/pull/2627?src=pr&el=desc) (10b5711) into [master](https://codecov.io/gh/apache/hudi/commit/f11a6c7b2d4ef045419a4522e8e203f51292b816?el=desc) (f11a6c7) will **decrease** coverage by `42.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2627/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2627?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2627       +/-   ##\n============================================\n- Coverage     51.54%   9.52%   -42.03%     \n+ Complexity     3284      48     -3236     \n============================================\n  Files           445      53      -392     \n  Lines         20381    1963    -18418     \n  Branches       2109     235     -1874     \n============================================\n- Hits          10506     187    -10319     \n+ Misses         9003    1763     -7240     \n+ Partials        872      13      -859     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.52% <ø> (-60.03%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2627?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [422 more](https://codecov.io/gh/apache/hudi/pull/2627/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801447937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801511125","html_url":"https://github.com/apache/hudi/pull/2691#issuecomment-801511125","issue_url":"https://api.github.com/repos/apache/hudi/issues/2691","id":801511125,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTUxMTEyNQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-17T23:39:31Z","updated_at":"2021-03-17T23:39:31Z","author_association":"CONTRIBUTOR","body":"1. yes, its reverting just the config name change from previous PR. \r\n2. I could add the documentation, but tough to write tests or enforce. bcoz, these are optional params, so, not really sure how we can go about it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801511125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801538238","html_url":"https://github.com/apache/hudi/pull/2654#issuecomment-801538238","issue_url":"https://api.github.com/repos/apache/hudi/issues/2654","id":801538238,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTUzODIzOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T00:59:42Z","updated_at":"2021-03-18T00:59:42Z","author_association":"CONTRIBUTOR","body":"Synced up w/ Nishith offline. We agree that we will ask customer to not set any schema provider only. Don't think we can interpret the actual schema and then fallback to RowBased.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801538238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801540936","html_url":"https://github.com/apache/hudi/issues/2589#issuecomment-801540936","issue_url":"https://api.github.com/repos/apache/hudi/issues/2589","id":801540936,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTU0MDkzNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T01:07:35Z","updated_at":"2021-03-18T01:07:48Z","author_association":"CONTRIBUTOR","body":"@t0il3ts0ap : our suggestion here is to not set any schema provider. Hudi will fallback to RowBasedSchemaProvider in that case. Hope that would solve your use-case. Fix is very involved and we don't think we can interpret the schema and then fallback to row based. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801540936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801556436","html_url":"https://github.com/apache/hudi/pull/2673#issuecomment-801556436","issue_url":"https://api.github.com/repos/apache/hudi/issues/2673","id":801556436,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTU1NjQzNg==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T01:53:41Z","updated_at":"2021-03-18T01:53:41Z","author_association":"CONTRIBUTOR","body":"@rubenssoto    spark will uncache rdd automaticly in a LRU fashion, so if your program has enough memory , there will be no problem.   In my program hudi cached too large data in memory,  program occur oom before spark automatic clean cached rdd.     \r\n@vinothchandar  no leak of sort occur, simply the spark automatic cleaning not keeping up .   i test on my env  even if we donnot use blocking=true , spark can uncache rdd in a very short time\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801556436/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801615562","html_url":"https://github.com/apache/hudi/issues/2589#issuecomment-801615562","issue_url":"https://api.github.com/repos/apache/hudi/issues/2589","id":801615562,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTYxNTU2Mg==","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T04:32:13Z","updated_at":"2021-03-18T04:32:13Z","author_association":"CONTRIBUTOR","body":"@nsivabalan The only reason I am using schema provider is because data present in kafka is in confluent avro format. Is there any way to read that without using schema provider ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801615562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801688750","html_url":"https://github.com/apache/hudi/pull/2693#issuecomment-801688750","issue_url":"https://api.github.com/repos/apache/hudi/issues/2693","id":801688750,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTY4ODc1MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T07:11:57Z","updated_at":"2021-03-18T07:11:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2693?src=pr&el=h1) Report\n> Merging [#2693](https://codecov.io/gh/apache/hudi/pull/2693?src=pr&el=desc) (719078b) into [master](https://codecov.io/gh/apache/hudi/commit/968488fa3a3c67962ed5b60e00836e71c730a9a5?el=desc) (968488f) will **decrease** coverage by `42.16%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2693/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2693?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2693       +/-   ##\n============================================\n- Coverage     51.69%   9.52%   -42.17%     \n+ Complexity     3584      48     -3536     \n============================================\n  Files           475      53      -422     \n  Lines         22501    1963    -20538     \n  Branches       2396     235     -2161     \n============================================\n- Hits          11632     187    -11445     \n+ Misses         9857    1763     -8094     \n+ Partials       1012      13      -999     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.52% <ø> (-60.42%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2693?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [452 more](https://codecov.io/gh/apache/hudi/pull/2693/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801688750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801849186","html_url":"https://github.com/apache/hudi/pull/2619#issuecomment-801849186","issue_url":"https://api.github.com/repos/apache/hudi/issues/2619","id":801849186,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTg0OTE4Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T11:36:06Z","updated_at":"2021-03-18T11:36:06Z","author_association":"CONTRIBUTOR","body":"@vburenin : ok. I will take it up. Whats the other PR for schemaResgistryProvider? I thought only other diff we have is adding Kafka meta fields to every Row within Kafka Source. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801849186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801913287","html_url":"https://github.com/apache/hudi/pull/2695#issuecomment-801913287","issue_url":"https://api.github.com/repos/apache/hudi/issues/2695","id":801913287,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTkxMzI4Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T13:09:17Z","updated_at":"2021-03-19T05:22:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2695?src=pr&el=h1) Report\n> Merging [#2695](https://codecov.io/gh/apache/hudi/pull/2695?src=pr&el=desc) (76a3c54) into [master](https://codecov.io/gh/apache/hudi/commit/f1e0018f12b66770ba3785be7aa8f5f6a80bab6f?el=desc) (f1e0018) will **increase** coverage by `0.05%`.\n> The diff coverage is `85.41%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2695/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2695?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2695      +/-   ##\n============================================\n+ Coverage     51.72%   51.77%   +0.05%     \n- Complexity     3595     3597       +2     \n============================================\n  Files           475      475              \n  Lines         22518    22553      +35     \n  Branches       2401     2406       +5     \n============================================\n+ Hits          11647    11677      +30     \n- Misses         9857     9860       +3     \n- Partials       1014     1016       +2     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <ø> (+0.01%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.28% <85.41%> (+0.20%)` | `0.00 <9.00> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.93% <ø> (+0.06%)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.70% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.99% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2695?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/2695/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `83.70% <85.41%> (-1.35%)` | `24.00 <9.00> (+2.00)` | :arrow_down: |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2695/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrU3FsV3JpdGVyLnNjYWxh) | `57.79% <0.00%> (+0.64%)` | `0.00% <0.00%> (ø%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2695/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `79.68% <0.00%> (+1.56%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801913287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801943274","html_url":"https://github.com/apache/hudi/pull/2619#issuecomment-801943274","issue_url":"https://api.github.com/repos/apache/hudi/issues/2619","id":801943274,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTk0MzI3NA==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T13:47:47Z","updated_at":"2021-03-18T13:47:47Z","author_association":"CONTRIBUTOR","body":"@nsivabalan There are several changes into the SchemaRegistryProvider that I would like to include:\r\n1. Add ability to cache the schema.\r\n2. Inject Kafka Fields into the schema\r\n3. Get rid of NullTargetSchemaProvider and make it so that SchemaRegistryProvider returns null for the target schema if no target schema URL is provided.\r\n4. Add ability to inject custom schema post processor for the following use cases, which technically fits nicely with kafka fields injector:\r\n   - Make every non nullable value nullable\r\n   - Add a field that would always exist for data structures that are nulls (need to deal with some protobuf->parquet corner case)\r\n   - inject some other info schema that is not available when data is being produced. It could be some contextual info from a third party source.\r\n   \r\n   Post schema processors could be an additional set of classes provided with Hudi that should be configured to be used.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/801943274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802279614","html_url":"https://github.com/apache/hudi/pull/2619#issuecomment-802279614","issue_url":"https://api.github.com/repos/apache/hudi/issues/2619","id":802279614,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjI3OTYxNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T20:38:52Z","updated_at":"2021-03-18T20:38:52Z","author_association":"CONTRIBUTOR","body":"@n3nash : patch is ready for review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802279614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802345276","html_url":"https://github.com/apache/hudi/pull/2691#issuecomment-802345276","issue_url":"https://api.github.com/repos/apache/hudi/issues/2691","id":802345276,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjM0NTI3Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T22:18:44Z","updated_at":"2021-03-18T22:18:44Z","author_association":"CONTRIBUTOR","body":"@n3nash : addressed the feedback","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802345276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802354171","html_url":"https://github.com/apache/hudi/pull/2627#issuecomment-802354171","issue_url":"https://api.github.com/repos/apache/hudi/issues/2627","id":802354171,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjM1NDE3MQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T22:33:46Z","updated_at":"2021-03-18T22:33:46Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802354171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802777666","html_url":"https://github.com/apache/hudi/pull/2655#issuecomment-802777666","issue_url":"https://api.github.com/repos/apache/hudi/issues/2655","id":802777666,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjc3NzY2Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-19T11:49:13Z","updated_at":"2021-03-19T11:49:13Z","author_association":"CONTRIBUTOR","body":"Actually we don't have a bug only. We had fixed the [schema for deletes](https://github.com/apache/hudi/blob/f74828fca10ca5539c1aaad2c5e99bb1ddb373c5/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java#L1018) when the PR for deletes was put up only. \r\nSo, w/o this PR, commit metadata for delete will have the right schema. Schema.create(Schema.Type.NULL) used in HoodieSparkSqlWriter is just not used anywhere. Will repurpose this PR to clean it up to avoid confusion. But its not a blocker as such. So lowering the priority. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802777666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802806888","html_url":"https://github.com/apache/hudi/pull/2619#issuecomment-802806888","issue_url":"https://api.github.com/repos/apache/hudi/issues/2619","id":802806888,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjgwNjg4OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-19T12:42:56Z","updated_at":"2021-03-19T12:43:15Z","author_association":"CONTRIBUTOR","body":"@vburenin : awesome. lets work together and get the patches going. Happy to see Kafka landscape in hudi getting better :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/802806888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803050091","html_url":"https://github.com/apache/hudi/pull/2697#issuecomment-803050091","issue_url":"https://api.github.com/repos/apache/hudi/issues/2697","id":803050091,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzA1MDA5MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-19T19:07:10Z","updated_at":"2021-03-19T21:11:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2697?src=pr&el=h1) Report\n> Merging [#2697](https://codecov.io/gh/apache/hudi/pull/2697?src=pr&el=desc) (3c88186) into [master](https://codecov.io/gh/apache/hudi/commit/161d530f932f4f1bc676e3c1b784858b18e4939f?el=desc) (161d530) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2697/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2697?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff            @@\n##             master   #2697   +/-   ##\n========================================\n  Coverage      9.55%   9.55%           \n  Complexity       48      48           \n========================================\n  Files            53      53           \n  Lines          1958    1958           \n  Branches        233     233           \n========================================\n  Hits            187     187           \n  Misses         1758    1758           \n  Partials         13      13           \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudiutilities | `9.55% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803050091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803111466","html_url":"https://github.com/apache/hudi/pull/2677#issuecomment-803111466","issue_url":"https://api.github.com/repos/apache/hudi/issues/2677","id":803111466,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzExMTQ2Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-19T20:36:53Z","updated_at":"2021-03-19T20:36:53Z","author_association":"MEMBER","body":"@jsbali  could we file a JIRA for this change?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803111466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803175463","html_url":"https://github.com/apache/hudi/pull/2619#issuecomment-803175463","issue_url":"https://api.github.com/repos/apache/hudi/issues/2619","id":803175463,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzE3NTQ2Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-19T22:45:21Z","updated_at":"2021-03-19T22:46:45Z","author_association":"CONTRIBUTOR","body":"@n3nash : addressed the feedback. So, only catch here is that, customer who might use this deserializer, should also ensure their schema provider has one arg constructor. Having one arg constructor in base class (SchemaProvider) may not work as we instantiate via reflection.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803175463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803262190","html_url":"https://github.com/apache/hudi/pull/2660#issuecomment-803262190","issue_url":"https://api.github.com/repos/apache/hudi/issues/2660","id":803262190,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzI2MjE5MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T06:53:09Z","updated_at":"2021-03-20T06:53:09Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of https://github.com/apache/hudi/pull/2698","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803262190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803262320","html_url":"https://github.com/apache/hudi/pull/2698#issuecomment-803262320","issue_url":"https://api.github.com/repos/apache/hudi/issues/2698","id":803262320,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzI2MjMyMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T06:54:36Z","updated_at":"2021-03-20T06:54:36Z","author_association":"CONTRIBUTOR","body":"@vinothchandar First version of documentation for concurrency. I would like to keep a new tab for `concurrency control` for for users to discover it. Will follow this up with more fixes and blog to follow.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803262320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803266521","html_url":"https://github.com/apache/hudi/pull/2699#issuecomment-803266521","issue_url":"https://api.github.com/repos/apache/hudi/issues/2699","id":803266521,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzI2NjUyMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T07:37:11Z","updated_at":"2021-03-22T00:16:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2699?src=pr&el=h1) Report\n> Merging [#2699](https://codecov.io/gh/apache/hudi/pull/2699?src=pr&el=desc) (78680f6) into [master](https://codecov.io/gh/apache/hudi/commit/161d530f932f4f1bc676e3c1b784858b18e4939f?el=desc) (161d530) will **decrease** coverage by `0.00%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2699/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2699?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2699      +/-   ##\n============================================\n- Coverage     51.76%   51.76%   -0.01%     \n- Complexity     3595     3601       +6     \n============================================\n  Files           475      476       +1     \n  Lines         22548    22583      +35     \n  Branches       2404     2408       +4     \n============================================\n+ Hits          11673    11689      +16     \n- Misses         9859     9877      +18     \n- Partials       1016     1017       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <0.00%> (-0.01%)` | `0.00 <0.00> (ø)` | |\n| hudiflink | `54.28% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (-0.07%)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.58% <0.00%> (-0.12%)` | `0.00 <0.00> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.73% <ø> (-0.24%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2699?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/hudi/common/config/LockConfiguration.java](https://codecov.io/gh/apache/hudi/pull/2699/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Mb2NrQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...ache/hudi/hive/HiveMetastoreBasedLockProvider.java](https://codecov.io/gh/apache/hudi/pull/2699/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZU1ldGFzdG9yZUJhc2VkTG9ja1Byb3ZpZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...n/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/2699/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZU1lcmdlT25SZWFkUkRELnNjYWxh) | `90.21% <0.00%> (-0.55%)` | `15.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/utilities/schema/SchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2699/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlci5qYXZh) | `100.00% <0.00%> (ø)` | `3.00% <0.00%> (+1.00%)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2699/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.37% <0.00%> (ø)` | `55.00% <0.00%> (ø%)` | |\n| [...apache/hudi/utilities/sources/AvroKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2699/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0thZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...i/utilities/deser/KafkaAvroSchemaDeserializer.java](https://codecov.io/gh/apache/hudi/pull/2699/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2Rlc2VyL0thZmthQXZyb1NjaGVtYURlc2VyaWFsaXplci5qYXZh) | `83.33% <0.00%> (ø)` | `5.00% <0.00%> (?%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803266521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803267757","html_url":"https://github.com/apache/hudi/pull/2619#issuecomment-803267757","issue_url":"https://api.github.com/repos/apache/hudi/issues/2619","id":803267757,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzI2Nzc1Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T07:49:36Z","updated_at":"2021-03-20T07:49:36Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Okay, I think this is an advanced use-case so should be ok.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803267757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803313797","html_url":"https://github.com/apache/hudi/pull/2636#issuecomment-803313797","issue_url":"https://api.github.com/repos/apache/hudi/issues/2636","id":803313797,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzMxMzc5Nw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T12:52:39Z","updated_at":"2021-03-20T12:52:39Z","author_association":"MEMBER","body":"@Liulietong I am not able to reproduce this issue in unit tests, but this problem is definitely exists #2285 . Just check the implementation of `ColumnarBatchRow` and it handles `null` separately as well. So I think this fix should work. Thanks for your contribution. I just re-triggered CI. Will merge this once CI passed. cc: @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803313797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803318145","html_url":"https://github.com/apache/hudi/pull/2636#issuecomment-803318145","issue_url":"https://api.github.com/repos/apache/hudi/issues/2636","id":803318145,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzMxODE0NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T13:21:50Z","updated_at":"2021-03-20T13:29:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2636?src=pr&el=h1) Report\n> Merging [#2636](https://codecov.io/gh/apache/hudi/pull/2636?src=pr&el=desc) (f77a4be) into [master](https://codecov.io/gh/apache/hudi/commit/bc883db5de5832fa429bbb04a35d3606fdacdb2a?el=desc) (bc883db) will **decrease** coverage by `9.63%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2636/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2636?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2636      +/-   ##\n============================================\n- Coverage     61.58%   51.95%   -9.64%     \n- Complexity      324     3622    +3298     \n============================================\n  Files            53      476     +423     \n  Lines          1963    22728   +20765     \n  Branches        235     2439    +2204     \n============================================\n+ Hits           1209    11808   +10599     \n- Misses          630     9903    +9273     \n- Partials        124     1017     +893     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.92% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudiflink | `54.28% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudihadoopmr | `33.44% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudisparkdatasource | `70.87% <0.00%> (?)` | `0.00 <0.00> (?)` | |\n| hudisync | `45.70% <ø> (?)` | `0.00 <ø> (?)` | |\n| huditimelineservice | `64.36% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudiutilities | `70.53% <ø> (+8.94%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2636?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...n/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZU1lcmdlT25SZWFkUkRELnNjYWxh) | `90.21% <0.00%> (ø)` | `15.00 <0.00> (?)` | |\n| [...ies/sources/helpers/DatePartitionPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9EYXRlUGFydGl0aW9uUGF0aFNlbGVjdG9yLmphdmE=) | `53.76% <0.00%> (-2.49%)` | `18.00% <0.00%> (+5.00%)` | :arrow_down: |\n| [...g/apache/hudi/utilities/schema/SchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlci5qYXZh) | `100.00% <0.00%> (ø)` | `4.00% <0.00%> (+2.00%)` | |\n| [...apache/hudi/utilities/sources/AvroKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0thZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...rg/apache/hudi/common/table/HoodieTableConfig.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL0hvb2RpZVRhYmxlQ29uZmlnLmphdmE=) | `45.45% <0.00%> (ø)` | `17.00% <0.00%> (?%)` | |\n| [...oning/compaction/CompactionV2MigrationHandler.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL3ZlcnNpb25pbmcvY29tcGFjdGlvbi9Db21wYWN0aW9uVjJNaWdyYXRpb25IYW5kbGVyLmphdmE=) | `84.21% <0.00%> (ø)` | `7.00% <0.00%> (?%)` | |\n| [.../hudi/async/SparkStreamingAsyncCompactService.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXN5bmMvU3BhcmtTdHJlYW1pbmdBc3luY0NvbXBhY3RTZXJ2aWNlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [.../apache/hudi/metadata/HoodieTableMetadataUtil.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllVGFibGVNZXRhZGF0YVV0aWwuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [.../java/org/apache/hudi/common/model/ActionType.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0FjdGlvblR5cGUuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...i/common/table/timeline/HoodieDefaultTimeline.java](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZURlZmF1bHRUaW1lbGluZS5qYXZh) | `80.51% <0.00%> (ø)` | `59.00% <0.00%> (?%)` | |\n| ... and [426 more](https://codecov.io/gh/apache/hudi/pull/2636/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803318145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803355840","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-803355840","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":803355840,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzM1NTg0MA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T14:08:46Z","updated_at":"2021-03-24T19:51:44Z","author_association":"NONE","body":"> Getting started on this. Sorry for the delay.\r\n> \r\n> How important are the changes around writeSchema vs inputSchema and such changes to the SQL implementation?\r\n\r\nHi @vinothchandar ,Thanks for your review.\r\nIt's necessary to introduce the `inputSchema` & `tableSchema` to replace the origin `writeSchema` for MergeInto.\r\nFor example:\r\n\r\n```\r\nMerge Into h0 using (\r\n  select id, name, flag from s) as s0\r\non s0.id = h0.id\r\nwhen matched and flag ='u' then update set id = s0.name, name = s0.name\r\nwhen not matched then insert (id, name) values(s0.id, s0.name)\r\n```\r\n\r\nThe input is `\"select id, name, flag from s\"` which schema is `(id, name, flag)`. But the record write to the table is `(id, name) ` after the update&insert translate.  The inputSchema is not equal to the writeSchema. So the origin `writeSchema` can not satisfy this scenario.\r\nI introduce  introduce the `inputSchema` & `tableSchema` to solve this problem. The `inputSchema` is used to parse the incoming record and the `tableSchema` for write & read record from the table.\r\nIn most case except the MergeInto, The `inputSchema` is the same the `tableSchema`,So it should not affect the origin logical, IMO.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803355840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803679353","html_url":"https://github.com/apache/hudi/pull/2698#issuecomment-803679353","issue_url":"https://api.github.com/repos/apache/hudi/issues/2698","id":803679353,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzY3OTM1Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-21T23:25:35Z","updated_at":"2021-03-21T23:25:35Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Addressed your comments, feel free to merge or approve it and I'll merge it once build passes.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803679353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803750142","html_url":"https://github.com/apache/hudi/pull/2701#issuecomment-803750142","issue_url":"https://api.github.com/repos/apache/hudi/issues/2701","id":803750142,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzc1MDE0Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T04:23:32Z","updated_at":"2021-03-22T04:23:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2701?src=pr&el=h1) Report\n> Merging [#2701](https://codecov.io/gh/apache/hudi/pull/2701?src=pr&el=desc) (fc8a05e) into [master](https://codecov.io/gh/apache/hudi/commit/be257b58c689510a21529019a766b7a2bfc7ebe6?el=desc) (be257b5) will **increase** coverage by `10.61%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2701/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2701?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2701       +/-   ##\n=============================================\n+ Coverage     51.27%   61.89%   +10.61%     \n+ Complexity     3241      333     -2908     \n=============================================\n  Files           438       54      -384     \n  Lines         20126     1989    -18137     \n  Branches       2079      236     -1843     \n=============================================\n- Hits          10320     1231     -9089     \n+ Misses         8954      638     -8316     \n+ Partials        852      120      -732     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `61.89% <ø> (-7.56%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2701?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ies/exception/HoodieSnapshotExporterException.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2V4Y2VwdGlvbi9Ib29kaWVTbmFwc2hvdEV4cG9ydGVyRXhjZXB0aW9uLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../apache/hudi/utilities/HoodieSnapshotExporter.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZVNuYXBzaG90RXhwb3J0ZXIuamF2YQ==) | `5.17% <0.00%> (-83.63%)` | `0.00% <0.00%> (-28.00%)` | |\n| [...hudi/utilities/schema/JdbcbasedSchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9KZGJjYmFzZWRTY2hlbWFQcm92aWRlci5qYXZh) | `0.00% <0.00%> (-72.23%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...he/hudi/utilities/transform/AWSDmsTransformer.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3RyYW5zZm9ybS9BV1NEbXNUcmFuc2Zvcm1lci5qYXZh) | `0.00% <0.00%> (-66.67%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `40.69% <0.00%> (-23.84%)` | `27.00% <0.00%> (-6.00%)` | |\n| [...ies/sources/helpers/DatePartitionPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9EYXRlUGFydGl0aW9uUGF0aFNlbGVjdG9yLmphdmE=) | `54.68% <0.00%> (-0.16%)` | `13.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/utilities/schema/SchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlci5qYXZh) | `100.00% <0.00%> (ø)` | `3.00% <0.00%> (+1.00%)` | |\n| [...apache/hudi/utilities/sources/AvroKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0thZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> (ø)` | `18.00% <0.00%> (ø%)` | |\n| [...pache/hudi/hadoop/realtime/HoodieParquetSerde.java](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZVBhcnF1ZXRTZXJkZS5qYXZh) | | | |\n| ... and [377 more](https://codecov.io/gh/apache/hudi/pull/2701/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803750142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803755358","html_url":"https://github.com/apache/hudi/pull/2698#issuecomment-803755358","issue_url":"https://api.github.com/repos/apache/hudi/issues/2698","id":803755358,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzc1NTM1OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T04:41:43Z","updated_at":"2021-03-22T04:41:43Z","author_association":"CONTRIBUTOR","body":"@n3nash : did you build the site locally and ensure rendering is all good for the blog? I did not see any pictures, so mostly should be ok. but good to verify it once. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803755358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803755579","html_url":"https://github.com/apache/hudi/pull/2698#issuecomment-803755579","issue_url":"https://api.github.com/repos/apache/hudi/issues/2698","id":803755579,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzc1NTU3OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T04:42:35Z","updated_at":"2021-03-22T04:42:35Z","author_association":"CONTRIBUTOR","body":"once you confirm, go ahead and merge it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803755579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803862184","html_url":"https://github.com/apache/hudi/pull/2698#issuecomment-803862184","issue_url":"https://api.github.com/repos/apache/hudi/issues/2698","id":803862184,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzg2MjE4NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T08:19:44Z","updated_at":"2021-03-22T08:19:44Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Yes, I already built it locally to confirm rendering. Attaching pictures for future reference.\r\n\r\n<img width=\"236\" alt=\"Screen Shot 2021-03-22 at 1 18 40 AM\" src=\"https://user-images.githubusercontent.com/2722167/111960187-a5775000-8aac-11eb-8c65-91dea58f4f7f.png\">\r\n\r\n<img width=\"1340\" alt=\"Screen Shot 2021-03-22 at 1 18 52 AM\" src=\"https://user-images.githubusercontent.com/2722167/111960199-a9a36d80-8aac-11eb-8265-5a3edcecf44a.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803862184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803982515","html_url":"https://github.com/apache/hudi/pull/2702#issuecomment-803982515","issue_url":"https://api.github.com/repos/apache/hudi/issues/2702","id":803982515,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzk4MjUxNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T11:14:53Z","updated_at":"2021-03-23T23:14:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2702?src=pr&el=h1) Report\n> Merging [#2702](https://codecov.io/gh/apache/hudi/pull/2702?src=pr&el=desc) (701c84d) into [master](https://codecov.io/gh/apache/hudi/commit/ce3e8ec87083ef4cd4f33de39b6697f66ff3f277?el=desc) (ce3e8ec) will **decrease** coverage by `0.02%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2702/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2702?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2702      +/-   ##\n============================================\n- Coverage     51.76%   51.74%   -0.03%     \n  Complexity     3602     3602              \n============================================\n  Files           476      476              \n  Lines         22579    22592      +13     \n  Branches       2408     2409       +1     \n============================================\n+ Hits          11688    11690       +2     \n- Misses         9874     9885      +11     \n  Partials       1017     1017              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <ø> (+0.01%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.13% <50.00%> (-0.15%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.58% <ø> (-0.12%)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.78% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2702?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://codecov.io/gh/apache/hudi/pull/2702/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | `61.44% <50.00%> (-3.53%)` | `28.00 <0.00> (ø)` | |\n| [...g/apache/hudi/common/config/LockConfiguration.java](https://codecov.io/gh/apache/hudi/pull/2702/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Mb2NrQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...rg/apache/hudi/hive/HiveMetastoreLockProvider.java](https://codecov.io/gh/apache/hudi/pull/2702/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZU1ldGFzdG9yZUxvY2tQcm92aWRlci5qYXZh) | | | |\n| [...ache/hudi/hive/HiveMetastoreBasedLockProvider.java](https://codecov.io/gh/apache/hudi/pull/2702/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZU1ldGFzdG9yZUJhc2VkTG9ja1Byb3ZpZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2702/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `79.68% <0.00%> (+1.56%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803982515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803993688","html_url":"https://github.com/apache/hudi/pull/2702#issuecomment-803993688","issue_url":"https://api.github.com/repos/apache/hudi/issues/2702","id":803993688,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzk5MzY4OA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T11:33:53Z","updated_at":"2021-03-22T11:33:53Z","author_association":"CONTRIBUTOR","body":"Close and reopen to re-trigger the CI tests.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/803993688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804002453","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-804002453","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":804002453,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDAwMjQ1Mw==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T11:49:44Z","updated_at":"2021-03-22T11:49:44Z","author_association":"NONE","body":"I'm able to resolve class not found exception.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804002453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804020555","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-804020555","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":804020555,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDAyMDU1NQ==","user":{"login":"gopi-t2s","id":69673132,"node_id":"MDQ6VXNlcjY5NjczMTMy","avatar_url":"https://avatars.githubusercontent.com/u/69673132?v=4","gravatar_id":"","url":"https://api.github.com/users/gopi-t2s","html_url":"https://github.com/gopi-t2s","followers_url":"https://api.github.com/users/gopi-t2s/followers","following_url":"https://api.github.com/users/gopi-t2s/following{/other_user}","gists_url":"https://api.github.com/users/gopi-t2s/gists{/gist_id}","starred_url":"https://api.github.com/users/gopi-t2s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gopi-t2s/subscriptions","organizations_url":"https://api.github.com/users/gopi-t2s/orgs","repos_url":"https://api.github.com/users/gopi-t2s/repos","events_url":"https://api.github.com/users/gopi-t2s/events{/privacy}","received_events_url":"https://api.github.com/users/gopi-t2s/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T12:21:06Z","updated_at":"2021-03-22T12:21:06Z","author_association":"NONE","body":"Hi @nsivabalan, \r\n@SureshK-T2S and me working together to setup multi table delta streamer\r\n\r\nI downloaded the latest version(0.7.0) of hudi-utilities-bundle.jar from MAVEN reporisitory(https://mvnrepository.com/artifact/org.apache.hudi/hudi-utilities-bundle_2.11/0.7.0) and tried to run the spark-submit multi table delta streamer command without providing the schema provider class(hope this is not mandatory now after this fix #2577).\r\n\r\nBut still receiving the same error mentioned above by Suresh.\r\n**ERROR LOG:**\r\n`Exception in thread \"main\" java.lang.NullPointerException\r\n\tat org.apache.hudi.utilities.deltastreamer.HoodieMultiTableDeltaStreamer.populateSchemaProviderProps(HoodieMultiTableDeltaStreamer.java:150)\r\n\tat org.apache.hudi.utilities.deltastreamer.HoodieMultiTableDeltaStreamer.populateTableExecutionContextList(HoodieMultiTableDeltaStreamer.java:130)\r\n\tat org.apache.hudi.utilities.deltastreamer.HoodieMultiTableDeltaStreamer.<init>(HoodieMultiTableDeltaStreamer.java:80)\r\n\tat org.apache.hudi.utilities.deltastreamer.HoodieMultiTableDeltaStreamer.main(HoodieMultiTableDeltaStreamer.java:203)`\r\n\r\n**SPARK SUBMIT COMMAND**\r\n`spark-submit --class org.apache.hudi.utilities.deltastreamer.HoodieMultiTableDeltaStreamer ` `ls ~/hudi/hudi-utilities-bundle_2.11-0.7.0.jar``\\\r\n  --table-type COPY_ON_WRITE \\\r\n --props s3://path/s3_source.properties \\\r\n  --config-folder s3://folder-path \\\r\n  --source-class org.apache.hudi.utilities.sources.ParquetDFSSource \\\r\n --source-ordering-field updated_at \\\r\n  --base-path-prefix s3://object --target-table dummy_table --op UPSERT`\r\n\r\nDo I miss anything here or the above PR is not merged in 0.7.0 version maven jar.\r\nCould you share your valuable thoughts here.\r\n\r\nThank you..\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804020555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804036242","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-804036242","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":804036242,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDAzNjI0Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T12:50:55Z","updated_at":"2021-03-22T12:50:55Z","author_association":"CONTRIBUTOR","body":"yes, as you could see from commit, it was merged 2 to 3 weeks back. We have an upcoming release in a week or two. So, you should have it in 0.8.0. If you want to verify the fix, you can pull in latest master and try it out. 0.7.0 does not have this fix.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804036242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804036829","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-804036829","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":804036829,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDAzNjgyOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T12:51:58Z","updated_at":"2021-03-22T12:51:58Z","author_association":"CONTRIBUTOR","body":"what was the issue or fix. Do you mind updating it here. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804036829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804131933","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-804131933","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":804131933,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDEzMTkzMw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:01:55Z","updated_at":"2021-03-22T15:01:55Z","author_association":"CONTRIBUTOR","body":"interesting. I will have to try it out locally to reproduce. Will keep you posted. thanks for reporting. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804131933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804132173","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-804132173","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":804132173,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDEzMjE3Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:02:15Z","updated_at":"2021-03-22T15:02:15Z","author_association":"CONTRIBUTOR","body":"@vburenin : Do you know of any such issues. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804132173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804132641","html_url":"https://github.com/apache/hudi/issues/2688#issuecomment-804132641","issue_url":"https://api.github.com/repos/apache/hudi/issues/2688","id":804132641,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDEzMjY0MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:02:56Z","updated_at":"2021-03-22T15:02:56Z","author_association":"CONTRIBUTOR","body":"@n3nash : Can you help here or loop in someone who has exp w/ hive metastore. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804132641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804134521","html_url":"https://github.com/apache/hudi/issues/2680#issuecomment-804134521","issue_url":"https://api.github.com/repos/apache/hudi/issues/2680","id":804134521,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDEzNDUyMQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:05:12Z","updated_at":"2021-03-30T15:31:13Z","author_association":"CONTRIBUTOR","body":"@n3nash : Can you help here. once you respond, can you please remove \"awaiting-community-help\" label for the issue and add \"awaiting-user-response\" label.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804134521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804177670","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-804177670","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":804177670,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDE3NzY3MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:51:58Z","updated_at":"2021-03-22T15:51:58Z","author_association":"CONTRIBUTOR","body":"Yeah, hudi just relies on Avro's schema compatibility in general. From the [specification](http://avro.apache.org/docs/current/spec.html#Schema+Resolution), looks like adding a new field w/o default will error out. \r\n```\r\nif the reader's record schema has a field with no default value, and writer's schema does not have a field with the same name, an error is signalled.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804177670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804178486","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-804178486","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":804178486,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDE3ODQ4Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:53:01Z","updated_at":"2021-03-22T15:53:01Z","author_association":"CONTRIBUTOR","body":"You can add null as default value for your new field if that would work for you. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804178486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804178816","html_url":"https://github.com/apache/hudi/issues/2664#issuecomment-804178816","issue_url":"https://api.github.com/repos/apache/hudi/issues/2664","id":804178816,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDE3ODgxNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:53:27Z","updated_at":"2021-03-22T15:53:27Z","author_association":"CONTRIBUTOR","body":"thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804178816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804179974","html_url":"https://github.com/apache/hudi/issues/2657#issuecomment-804179974","issue_url":"https://api.github.com/repos/apache/hudi/issues/2657","id":804179974,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDE3OTk3NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T15:54:54Z","updated_at":"2021-03-22T15:54:54Z","author_association":"CONTRIBUTOR","body":"@garyli1019 : when you get time, would appreciate if you can follow up on this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804179974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804192510","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-804192510","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":804192510,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDE5MjUxMA==","user":{"login":"gopi-t2s","id":69673132,"node_id":"MDQ6VXNlcjY5NjczMTMy","avatar_url":"https://avatars.githubusercontent.com/u/69673132?v=4","gravatar_id":"","url":"https://api.github.com/users/gopi-t2s","html_url":"https://github.com/gopi-t2s","followers_url":"https://api.github.com/users/gopi-t2s/followers","following_url":"https://api.github.com/users/gopi-t2s/following{/other_user}","gists_url":"https://api.github.com/users/gopi-t2s/gists{/gist_id}","starred_url":"https://api.github.com/users/gopi-t2s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gopi-t2s/subscriptions","organizations_url":"https://api.github.com/users/gopi-t2s/orgs","repos_url":"https://api.github.com/users/gopi-t2s/repos","events_url":"https://api.github.com/users/gopi-t2s/events{/privacy}","received_events_url":"https://api.github.com/users/gopi-t2s/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T16:09:07Z","updated_at":"2021-03-22T16:09:07Z","author_association":"NONE","body":"Thanks @nsivabalan for confirming.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804192510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804220408","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-804220408","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":804220408,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDIyMDQwOA==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T16:45:42Z","updated_at":"2021-03-22T17:11:22Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Nope, but there are huge data loses with hudi 0.5.0 with MoR. I haven't tried MoR table with 0.7.0, only CoW.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804220408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804242670","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-804242670","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":804242670,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDI0MjY3MA==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T17:14:38Z","updated_at":"2021-03-22T17:14:38Z","author_association":"CONTRIBUTOR","body":"@stackfun What't your config setup to connect to GCS? In my case I use gcs connector.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804242670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804261225","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-804261225","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":804261225,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDI2MTIyNQ==","user":{"login":"stackfun","id":68627128,"node_id":"MDQ6VXNlcjY4NjI3MTI4","avatar_url":"https://avatars.githubusercontent.com/u/68627128?v=4","gravatar_id":"","url":"https://api.github.com/users/stackfun","html_url":"https://github.com/stackfun","followers_url":"https://api.github.com/users/stackfun/followers","following_url":"https://api.github.com/users/stackfun/following{/other_user}","gists_url":"https://api.github.com/users/stackfun/gists{/gist_id}","starred_url":"https://api.github.com/users/stackfun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stackfun/subscriptions","organizations_url":"https://api.github.com/users/stackfun/orgs","repos_url":"https://api.github.com/users/stackfun/repos","events_url":"https://api.github.com/users/stackfun/events{/privacy}","received_events_url":"https://api.github.com/users/stackfun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T17:40:07Z","updated_at":"2021-03-22T17:40:07Z","author_association":"NONE","body":"Yes, I am using the gcs connector. Seems like it is configured automatically when submitting spark jobs through dataproc on GCP.\r\n\r\nWhen using hudi-cli.sh on the master node of a dataproc cluster, I export the following before running the script. `export CLIENT_JAR=/usr/local/share/google/dataproc/lib/gcs-connector.jar:/usr/local/share/gogle/dataproc/lib/gcs-connector-hadoop2-1.9.17.jar`\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804261225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804263668","html_url":"https://github.com/apache/hudi/issues/2672#issuecomment-804263668","issue_url":"https://api.github.com/repos/apache/hudi/issues/2672","id":804263668,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDI2MzY2OA==","user":{"login":"stackfun","id":68627128,"node_id":"MDQ6VXNlcjY4NjI3MTI4","avatar_url":"https://avatars.githubusercontent.com/u/68627128?v=4","gravatar_id":"","url":"https://api.github.com/users/stackfun","html_url":"https://github.com/stackfun","followers_url":"https://api.github.com/users/stackfun/followers","following_url":"https://api.github.com/users/stackfun/following{/other_user}","gists_url":"https://api.github.com/users/stackfun/gists{/gist_id}","starred_url":"https://api.github.com/users/stackfun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stackfun/subscriptions","organizations_url":"https://api.github.com/users/stackfun/orgs","repos_url":"https://api.github.com/users/stackfun/repos","events_url":"https://api.github.com/users/stackfun/events{/privacy}","received_events_url":"https://api.github.com/users/stackfun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T17:43:44Z","updated_at":"2021-03-22T17:43:44Z","author_association":"NONE","body":"Seems like I mitigated the hangs by changing the following spark configs\r\n`\"spark.executor.memory\": \"6g\"`\r\n\r\nAnd I changed the following hudi configs. \r\n`\"hoodie.memory.merge.fraction\": \"0.75\"`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804263668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804279383","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-804279383","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":804279383,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDI3OTM4Mw==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T18:06:28Z","updated_at":"2021-03-22T18:06:28Z","author_association":"CONTRIBUTOR","body":"Hm, you are using 1.x. I am on 2.1.x. 2.2 seems borked a little. In my case gcs-connector is baked into spark image.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804279383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804379000","html_url":"https://github.com/apache/hudi/issues/2656#issuecomment-804379000","issue_url":"https://api.github.com/repos/apache/hudi/issues/2656","id":804379000,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDM3OTAwMA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T20:40:18Z","updated_at":"2021-03-22T20:40:18Z","author_association":"CONTRIBUTOR","body":"I am not sure sure on case sensitivity on operation type. Can you try \"insert\" as operation type instead of \"INSERT\". From what I know, \"insert\" operation should not update, but just add incoming records as new records. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804379000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804432752","html_url":"https://github.com/apache/hudi/pull/2701#issuecomment-804432752","issue_url":"https://api.github.com/repos/apache/hudi/issues/2701","id":804432752,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQzMjc1Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T22:18:08Z","updated_at":"2021-03-24T17:52:34Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Can you take an early cursory look at this PR ? I have not added any tests yet and more changes need to be done for the build to work. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804432752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804481423","html_url":"https://github.com/apache/hudi/issues/2672#issuecomment-804481423","issue_url":"https://api.github.com/repos/apache/hudi/issues/2672","id":804481423,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQ4MTQyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T00:02:49Z","updated_at":"2021-03-23T00:02:49Z","author_association":"MEMBER","body":"@stackfun JVM defaults to the stop-the-world collector. So without much memory, you could also be facing high gc times. \r\nSome of these are listed here https://cwiki.apache.org/confluence/display/HUDI/Tuning+Guide \r\n\r\nIs the job happy now? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804481423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804501991","html_url":"https://github.com/apache/hudi/issues/2689#issuecomment-804501991","issue_url":"https://api.github.com/repos/apache/hudi/issues/2689","id":804501991,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDUwMTk5MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T00:50:34Z","updated_at":"2021-03-23T00:50:34Z","author_association":"CONTRIBUTOR","body":"You can think of MOR being a superset in terms of functionality compared to COW table. So, if you have  an existing COW table, it should be straightforward to make it MOR by setting the table type in hoodie.properties. But, the opposite migration is not straightforward as we need to ensure there are no pending compactions before an MOR table can be converted to COW.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804501991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804510311","html_url":"https://github.com/apache/hudi/issues/2657#issuecomment-804510311","issue_url":"https://api.github.com/repos/apache/hudi/issues/2657","id":804510311,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDUxMDMxMQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T01:14:27Z","updated_at":"2021-03-23T01:14:27Z","author_association":"MEMBER","body":"sorry for the delay, I will try to reproduce this once finish the release.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804510311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804514259","html_url":"https://github.com/apache/hudi/issues/2689#issuecomment-804514259","issue_url":"https://api.github.com/repos/apache/hudi/issues/2689","id":804514259,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDUxNDI1OQ==","user":{"login":"shenbinglife","id":16119667,"node_id":"MDQ6VXNlcjE2MTE5NjY3","avatar_url":"https://avatars.githubusercontent.com/u/16119667?v=4","gravatar_id":"","url":"https://api.github.com/users/shenbinglife","html_url":"https://github.com/shenbinglife","followers_url":"https://api.github.com/users/shenbinglife/followers","following_url":"https://api.github.com/users/shenbinglife/following{/other_user}","gists_url":"https://api.github.com/users/shenbinglife/gists{/gist_id}","starred_url":"https://api.github.com/users/shenbinglife/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenbinglife/subscriptions","organizations_url":"https://api.github.com/users/shenbinglife/orgs","repos_url":"https://api.github.com/users/shenbinglife/repos","events_url":"https://api.github.com/users/shenbinglife/events{/privacy}","received_events_url":"https://api.github.com/users/shenbinglife/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T01:25:00Z","updated_at":"2021-03-23T01:25:00Z","author_association":"NONE","body":"Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804514259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804608999","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-804608999","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":804608999,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDYwODk5OQ==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T04:31:55Z","updated_at":"2021-03-23T04:31:55Z","author_association":"NONE","body":"@nsivabalan , I had created shaded jar and it was causing the issues as few dependencies version were conflicting. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804608999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804636424","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-804636424","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":804636424,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDYzNjQyNA==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T05:49:10Z","updated_at":"2021-03-23T10:43:58Z","author_association":"NONE","body":"I have created one class after implementing HoodieRecordPayload. We have three methods for which we have to write our logic.\r\n1. preCombine\r\n2. combineAndGetUpdateValue\r\n3. getInsertValue\r\n@n3nash  As per your above explanation,  preCombine would provide the current record which is coming in incremental load and combineAndGetUpdateValue will provide the latest records from hoodie table.\r\nPlease correct me if my understanding is incorrect.\r\n\r\nIn my use case , I'm only getting few columns out of 20 in incremental data. I have built schema in constructor as preCombine method does not have any schema details.\r\n \r\nFor Example - Hudi table  built with 20 columns. Now, requirement is to update only 3 columns and only these columns data is coming from incremental data feeds along with RECORDKEY_FIELD_OPT_KEY,PARTITIONPATH_FIELD_OPT_KEY and PRECOMBINE_FIELD_OPT_KEY column. \r\n\r\nI have implemented the class as below. Please let me know in which method, I'll be getting  full schema of the table.\r\nI also found that getInsertValue method is getting invoked even this is not called in combineAndGetUpdate method.\r\nI would like to know more about these three methods and its flow.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804636424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804636641","html_url":"https://github.com/apache/hudi/issues/2705#issuecomment-804636641","issue_url":"https://api.github.com/repos/apache/hudi/issues/2705","id":804636641,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDYzNjY0MQ==","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T05:49:46Z","updated_at":"2021-03-23T08:19:41Z","author_association":"CONTRIBUTOR","body":"I've found the problem: \r\nThere is a new configuration named `hoodie.deltastreamer.schemaprovider.spark_avro_post_processor.enable` and it is `true` by default. If I use my custom transformer and set `target scheme` null, hudi will not work by a null schema.\r\nI set `target scheme` to the same as `source schema` for testing, so that spark will not work and report above errors. If I set `hoodie.deltastreamer.schemaprovider.spark_avro_post_processor.enable` to false, hudi will successfully deal with the Kafka message and write it to hdfs.\r\n\r\nHowever, when synchronizing hive, I encountered the same problem as this  https://github.com/apache/hudi/issues/1751#issuecomment-648460431 (set `hoodie.datasource.hive_sync.use_jdbc` false). When I set `hoodie.datasource.hive_sync.use_jdbc` to true, hive-sync can work. I think hudi still lost related packets by hive3.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804636641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804639531","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-804639531","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":804639531,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDYzOTUzMQ==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T05:56:16Z","updated_at":"2021-03-23T05:56:16Z","author_association":"NONE","body":"public class PartialColumnUpdate implements HoodieRecordPayload<PartialColumnUpdate> {\r\n    private static final Logger logger = Logger.getLogger(PartialColumnUpdate.class);\r\n    private byte[] recordBytes;\r\n    private Schema schema;\r\n    private Comparable orderingVal;\r\n\r\n\r\n    public PartialColumnUpdate(GenericRecord genericRecord, Comparable orderingVal) {\r\n        logger.info(\"Inside two parameter cons\");\r\n        try {\r\n            if (genericRecord != null) {\r\n                this.recordBytes = HoodieAvroUtils.avroToBytes(genericRecord);\r\n                this.schema = genericRecord.getSchema();\r\n                this.orderingVal = orderingVal;\r\n            } else {\r\n                this.recordBytes = new byte[0];\r\n            }\r\n        } catch (Exception io) {\r\n            throw new RuntimeException(\"Cannot convert record to bytes \", io);\r\n        }\r\n    }\r\n\r\n    public PartialColumnUpdate(Option<GenericRecord> record) {\r\n        this(record.isPresent() ? record.get() : null, 0);\r\n    }\r\n\r\n    @Override\r\n    public PartialColumnUpdate preCombine(PartialColumnUpdate anotherRecord) {\r\n        logger.info(\"Inside PreCombine\");\r\n        logger.info(\"preCombine => \" + anotherRecord);\r\n        logger.info(\"another_ordering value\" + anotherRecord.orderingVal);\r\n        logger.info(\"another_ schema value\" + anotherRecord.schema);\r\n        logger.info(\"another_ record bytes value\" + anotherRecord.recordBytes);\r\n        if (anotherRecord.orderingVal.compareTo(orderingVal) > 0) {\r\n            return anotherRecord;\r\n        } else {\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public Option<IndexedRecord> combineAndGetUpdateValue(IndexedRecord indexedRecord, Schema currentSchema) throws IOException {\r\n        logger.info(\"Inside combineAndGetUpdateValue\");\r\n        logger.info(\"current schema\" + currentSchema);\r\n        logger.info(\"combineUpdate - >\" + Option.of(indexedRecord));\r\n        getInsertValue(currentSchema);\r\n        return Option.empty();\r\n    }\r\n\r\n    @Override\r\n    public Option<IndexedRecord> getInsertValue(Schema schema) throws IOException {\r\n        logger.info(\"Inside getInsertValue\");\r\n        if (recordBytes.length == 0) {\r\n            return Option.empty();\r\n        }\r\n        IndexedRecord indexedRecord = HoodieAvroUtils.bytesToAvro(recordBytes, schema);\r\n        if (isDeleteRecord((GenericRecord) indexedRecord)) {\r\n            return Option.empty();\r\n        } else {\r\n            return Option.of(indexedRecord);\r\n        }\r\n    }\r\n\r\n    protected boolean isDeleteRecord(GenericRecord genericRecord) {\r\n        final String isDeleteKey = \"_hoodie_is_deleted\";\r\n        if (genericRecord.getSchema().getField(isDeleteKey) == null) {\r\n            return false;\r\n        }\r\n        Object deleteMarker = genericRecord.get(isDeleteKey);\r\n        return (deleteMarker instanceof Boolean && (boolean) deleteMarker);\r\n    }\r\n}","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804639531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804668465","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-804668465","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":804668465,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDY2ODQ2NQ==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T07:00:33Z","updated_at":"2021-03-23T07:00:33Z","author_association":"CONTRIBUTOR","body":"> You can add null as default value for your new field if that would work for you.\r\n\r\nWe can not provide defaults from spark. Need to change where hudi registers the avro schema. \r\n\r\nAnother point is that reading via hive from mor_rt table after schema evolution, it also fails because of wrong reader schema. I have been testing a few changes. Will raise a jira issue with the PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804668465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804748373","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-804748373","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":804748373,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDc0ODM3Mw==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T09:22:06Z","updated_at":"2021-03-23T10:25:20Z","author_association":"NONE","body":"Can this use case be achieved using Hudi as target schema and incremental schema are not same?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804748373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804749723","html_url":"https://github.com/apache/hudi/pull/2325#issuecomment-804749723","issue_url":"https://api.github.com/repos/apache/hudi/issues/2325","id":804749723,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDc0OTcyMw==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T09:24:17Z","updated_at":"2021-03-23T09:24:17Z","author_association":"CONTRIBUTOR","body":"@yanghua Can you have a review for this again? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804749723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804760962","html_url":"https://github.com/apache/hudi/pull/1946#issuecomment-804760962","issue_url":"https://api.github.com/repos/apache/hudi/issues/1946","id":804760962,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDc2MDk2Mg==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T09:42:03Z","updated_at":"2021-03-23T09:42:03Z","author_association":"CONTRIBUTOR","body":"@yanghua @vinothchandar: pls have a review when free.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804760962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804762627","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-804762627","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":804762627,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDc2MjYyNw==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T09:44:37Z","updated_at":"2021-03-23T09:44:37Z","author_association":"CONTRIBUTOR","body":"simple workaround is delete first commit file ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804762627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804831651","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-804831651","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":804831651,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDgzMTY1MQ==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T11:37:17Z","updated_at":"2021-03-24T00:24:02Z","author_association":"CONTRIBUTOR","body":"But got new error\r\n\r\n```\r\nUser class threw exception: org.apache.hudi.exception.HoodieIOException: Could not read commit details from s3://xxx/data/.hoodie/20210323081449.replacecommit\r\nat org.apache.hudi.common.table.timeline.HoodieActiveTimeline.readDataFromPath(HoodieActiveTimeline.java:530)\r\nat org.apache.hudi.common.table.timeline.HoodieActiveTimeline.getInstantDetails(HoodieActiveTimeline.java:194)\r\nat org.apache.hudi.common.table.view.AbstractTableFileSystemView.lambda$resetFileGroupsReplaced$8(AbstractTableFileSystemView.java:217)\r\nat java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:269)\r\nat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\nat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\nat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\r\nat org.apache.hudi.common.table.view.AbstractTableFileSystemView.resetFileGroupsReplaced(AbstractTableFileSystemView.java:228)\r\nat org.apache.hudi.common.table.view.AbstractTableFileSystemView.init(AbstractTableFileSystemView.java:106)\r\nat org.apache.hudi.common.table.view.HoodieTableFileSystemView.init(HoodieTableFileSystemView.java:106)\r\nat org.apache.hudi.common.table.view.AbstractTableFileSystemView.reset(AbstractTableFileSystemView.java:248)\r\nat org.apache.hudi.common.table.view.HoodieTableFileSystemView.close(HoodieTableFileSystemView.java:353)\r\nat java.util.concurrent.ConcurrentHashMap$ValuesView.forEach(ConcurrentHashMap.java:4707)\r\nat org.apache.hudi.common.table.view.FileSystemViewManager.close(FileSystemViewManager.java:118)\r\nat org.apache.hudi.timeline.service.TimelineService.close(TimelineService.java:179)\r\nat org.apache.hudi.client.embedded.EmbeddedTimelineService.stop(EmbeddedTimelineService.java:112)\r\nat org.apache.hudi.client.AbstractHoodieClient.stopEmbeddedServerView(AbstractHoodieClient.java:90)\r\nat org.apache.hudi.client.AbstractHoodieClient.close(AbstractHoodieClient.java:82)\r\nat org.apache.hudi.client.AbstractHoodieWriteClient.close(AbstractHoodieWriteClient.java:912)\r\nat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:464)\r\nat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:218)\r\nat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:134)\r\nat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\nat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\nat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\nat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\nat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:131)\r\nat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:156)\r\nat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\nat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\r\nat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\r\nat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:83)\r\nat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:83)\r\nat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:676)\r\nat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:84)\r\nat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:165)\r\nat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:74)\r\nat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:676)\r\nat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:290)\r\nat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:271)\r\nat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229)\r\nat jp.ne.paypay.daas.dataloader.writer.HudiDataWriter.write(HudiDataWriter.scala:272)\r\nat jp.ne.paypay.daas.dataloader.writer.HudiDataWriter.insertOverrideTable(HudiDataWriter.scala:161)\r\nat jp.ne.paypay.daas.dataloader.FileSystemJob$.mainProcedure(FileSystemJob.scala:107)\r\nat jp.ne.paypay.daas.dataloader.FileSystemJob$.main(FileSystemJob.scala:38)\r\nat jp.ne.paypay.daas.dataloader.FileSystemJob.main(FileSystemJob.scala)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:684)\r\nCaused by: java.io.FileNotFoundException: No such file or directory 's3://xxx/data/.hoodie/20210323081449.replacecommit'\r\nat com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem.getFileStatus(S3NativeFileSystem.java:617)\r\nat com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem.open(S3NativeFileSystem.java:1026)\r\nat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:902)\r\nat com.amazon.ws.emr.hadoop.fs.EmrFileSystem.open(EmrFileSystem.java:207)\r\nat org.apache.hudi.common.fs.HoodieWrapperFileSystem.open(HoodieWrapperFileSystem.java:459)\r\nat org.apache.hudi.common.table.timeline.HoodieActiveTimeline.readDataFromPath(HoodieActiveTimeline.java:527)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804831651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804849028","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-804849028","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":804849028,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDg0OTAyOA==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T12:07:23Z","updated_at":"2021-03-23T12:07:23Z","author_association":"CONTRIBUTOR","body":"Also saw some comment and find below link\r\nhttps://issues.apache.org/jira/browse/HUDI-1518\r\nSeems you are going to use cleaner to delete the file group,\r\nbut currently, if I use cleaner, there is only one file group will be kept","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804849028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804856226","html_url":"https://github.com/apache/hudi/pull/2651#issuecomment-804856226","issue_url":"https://api.github.com/repos/apache/hudi/issues/2651","id":804856226,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDg1NjIyNg==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T12:17:27Z","updated_at":"2021-03-23T12:17:27Z","author_association":"NONE","body":"Hi @umehrot2 , I have updated the code.\r\nMain changes:\r\n1、Introduce `FileStatusCache` to `HoodieFileIndex` for caching files across queries.\r\n2、Save partition columns for Bootstrap table & DeltaSync.\r\n3、Fix other comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804856226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804864588","html_url":"https://github.com/apache/hudi/pull/2325#issuecomment-804864588","issue_url":"https://api.github.com/repos/apache/hudi/issues/2325","id":804864588,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDg2NDU4OA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T12:31:12Z","updated_at":"2021-03-23T12:31:12Z","author_association":"CONTRIBUTOR","body":"> @yanghua Can you have a review for this again?\r\n\r\nOK, sorry for the late reply. Will review soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804864588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804899992","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-804899992","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":804899992,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDg5OTk5Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T13:24:12Z","updated_at":"2021-03-23T13:24:12Z","author_association":"CONTRIBUTOR","body":"@satishkotha : Can you take a look at this ? (cc @n3nash )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804899992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804911990","html_url":"https://github.com/apache/hudi/issues/2696#issuecomment-804911990","issue_url":"https://api.github.com/repos/apache/hudi/issues/2696","id":804911990,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDkxMTk5MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T13:41:08Z","updated_at":"2021-03-23T13:41:08Z","author_association":"MEMBER","body":"@kimberlyamandalu do you have the full stack trace?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804911990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804913961","html_url":"https://github.com/apache/hudi/pull/2697#issuecomment-804913961","issue_url":"https://api.github.com/repos/apache/hudi/issues/2697","id":804913961,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDkxMzk2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T13:43:46Z","updated_at":"2021-03-23T13:43:46Z","author_association":"MEMBER","body":"@kwondw this is done intentionally to speed up tests. \r\n\r\ncc @xushiyan  can you please comment on this ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804913961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804927902","html_url":"https://github.com/apache/hudi/issues/2705#issuecomment-804927902","issue_url":"https://api.github.com/repos/apache/hudi/issues/2705","id":804927902,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDkyNzkwMg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T14:02:10Z","updated_at":"2021-03-23T14:02:10Z","author_association":"CONTRIBUTOR","body":"@nsivabalan : This looks like a bug and likely needs fixing. Opened : https://issues.apache.org/jira/browse/HUDI-1711","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804927902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804930443","html_url":"https://github.com/apache/hudi/issues/2696#issuecomment-804930443","issue_url":"https://api.github.com/repos/apache/hudi/issues/2696","id":804930443,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDkzMDQ0Mw==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T14:05:33Z","updated_at":"2021-03-23T14:05:33Z","author_association":"NONE","body":"> @kimberlyamandalu do you have the full stack trace?\r\n\r\n@vinothchandar there was actually no stack trace in the logs. Those messages I posted above would just repeat for almost every partition, but it did not spit out anything else.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804930443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804945810","html_url":"https://github.com/apache/hudi/issues/2676#issuecomment-804945810","issue_url":"https://api.github.com/repos/apache/hudi/issues/2676","id":804945810,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDk0NTgxMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T14:25:13Z","updated_at":"2021-03-23T14:25:13Z","author_association":"CONTRIBUTOR","body":"Did you try increasing executor instances to see if the job completes in less time ? \r\nAlso, it looks like GlobalBloomIndex is enabled. This is needed only when you want record-key uniqueness across your partitions  and upstream source itself does not guarantee that. Just wanted to check if this is the case.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804945810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804959981","html_url":"https://github.com/apache/hudi/pull/2474#issuecomment-804959981","issue_url":"https://api.github.com/repos/apache/hudi/issues/2474","id":804959981,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDk1OTk4MQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T14:42:44Z","updated_at":"2021-03-23T14:42:44Z","author_association":"MEMBER","body":"@wangxianghu looks like the JIRA ticket number of this commit is inaccurate","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/804959981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805110804","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-805110804","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":805110804,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTExMDgwNA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T17:57:53Z","updated_at":"2021-03-23T17:57:53Z","author_association":"MEMBER","body":"@jsbali is working on a fix for first error.\r\n\r\nThe second error mentions instant '20210317155538'. I dont see this in initial commit timeline you mentioned. Can you provide additional details on how you got this error? was the metadata file removed while write is in progress?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805110804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805372384","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-805372384","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":805372384,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM3MjM4NA==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T00:26:02Z","updated_at":"2021-03-24T00:28:07Z","author_association":"CONTRIBUTOR","body":"@satishkotha \r\nSorry I posted wrong log, I updated the log, please check again.\r\n\r\nWhen archiving finished, seems metaClient didn't reload, so it trying to read the archived commit, then we got the error ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805372384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805399186","html_url":"https://github.com/apache/hudi/pull/2474#issuecomment-805399186","issue_url":"https://api.github.com/repos/apache/hudi/issues/2474","id":805399186,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM5OTE4Ng==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T01:20:57Z","updated_at":"2021-03-24T01:20:57Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu looks like the JIRA ticket number of this commit is inaccurate\r\n\r\nyes, should be 1543","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805399186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805503994","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-805503994","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":805503994,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTUwMzk5NA==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T05:13:23Z","updated_at":"2021-03-24T05:13:23Z","author_association":"NONE","body":"@n3nash  Please confirm if this use case can be achieved . If yes, provide few inputs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805503994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]