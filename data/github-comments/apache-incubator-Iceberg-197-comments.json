[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230815389","html_url":"https://github.com/apache/iceberg/pull/5510#issuecomment-1230815389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5510","id":1230815389,"node_id":"IC_kwDOCW7NX85JXMCd","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T20:17:32Z","updated_at":"2022-08-29T20:17:32Z","author_association":"CONTRIBUTOR","body":"> It does seem 20 can be a bit excessive, wonder whether we can turn that down or it is by design.. maybe others will have an idea like @singhpk234 for GlueCatalog\r\n\r\n20 seems to be quite excessive IMHO as well, going by the calculations mentioned in the [Hive PR to reduce retries](https://github.com/apache/iceberg/pull/3379) it can lead to hang > 10 min. Unfortunately I don't have much context into what the motivation was to keep it to 20 from the beginning ... The closest I could track it down was this commit [9349a25](https://github.com/apache/iceberg/commit/9349a259092a154c7b96c8423df03f6de6805520) from 2018, unfortunately there is not a pr associated with it.\r\n\r\nBut definitely it makes sense to reduce it to may be 3, and make it configurable like how we did for hive.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230815389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230848531","html_url":"https://github.com/apache/iceberg/pull/5669#issuecomment-1230848531","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5669","id":1230848531,"node_id":"IC_kwDOCW7NX85JXUIT","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T20:51:49Z","updated_at":"2022-08-29T20:51:49Z","author_association":"CONTRIBUTOR","body":"Still very incomplete, just starting a draft. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230848531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230906952","html_url":"https://github.com/apache/iceberg/pull/5622#issuecomment-1230906952","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5622","id":1230906952,"node_id":"IC_kwDOCW7NX85JXiZI","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T21:59:41Z","updated_at":"2022-08-29T22:03:41Z","author_association":"CONTRIBUTOR","body":"I understand the thinking behind keeping the backup table after a successful migrate action and having the user decide what to do with it. If somehow this isn't already documented, then @sririshindra you could open a doc PR to document it.\r\nI think giving the user an option to remove the backup table automatically upon a successful migrate action is still useful. We can have a boolean parameter, defaulting to false, for removing the backup table, and pass it in the migrate procedure.\r\nI'm neutral on having an option for naming the backup table.\r\n\r\n*Edit*: I hadn't updated my browser and didn't see @szehon-ho's comment before posting; I agree with him.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230906952/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230908764","html_url":"https://github.com/apache/iceberg/issues/2311#issuecomment-1230908764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2311","id":1230908764,"node_id":"IC_kwDOCW7NX85JXi1c","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:01:45Z","updated_at":"2022-08-29T22:01:45Z","author_association":"CONTRIBUTOR","body":"According to the way Iceberg handles the partition, we probably never support a command to add/remove/rename a partition. We can still support the `Show partitions`, that's basically a call to metadata table https://iceberg.apache.org/docs/latest/spark-queries/#partitions.\r\n```\r\nSELECT * FROM prod.db.table.partitions\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230908764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230997753","html_url":"https://github.com/apache/iceberg/issues/4188#issuecomment-1230997753","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4188","id":1230997753,"node_id":"IC_kwDOCW7NX85JX4j5","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T00:15:18Z","updated_at":"2022-08-30T00:15:18Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1230997753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231064217","html_url":"https://github.com/apache/iceberg/pull/5561#issuecomment-1231064217","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5561","id":1231064217,"node_id":"IC_kwDOCW7NX85JYIyZ","user":{"login":"YesOrNo828","id":6017591,"node_id":"MDQ6VXNlcjYwMTc1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6017591?v=4","gravatar_id":"","url":"https://api.github.com/users/YesOrNo828","html_url":"https://github.com/YesOrNo828","followers_url":"https://api.github.com/users/YesOrNo828/followers","following_url":"https://api.github.com/users/YesOrNo828/following{/other_user}","gists_url":"https://api.github.com/users/YesOrNo828/gists{/gist_id}","starred_url":"https://api.github.com/users/YesOrNo828/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YesOrNo828/subscriptions","organizations_url":"https://api.github.com/users/YesOrNo828/orgs","repos_url":"https://api.github.com/users/YesOrNo828/repos","events_url":"https://api.github.com/users/YesOrNo828/events{/privacy}","received_events_url":"https://api.github.com/users/YesOrNo828/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:20:08Z","updated_at":"2022-08-30T02:20:08Z","author_association":"NONE","body":"Hello @rdblue, do you have time to take a look at this pr?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231064217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231123414","html_url":"https://github.com/apache/iceberg/pull/5670#issuecomment-1231123414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5670","id":1231123414,"node_id":"IC_kwDOCW7NX85JYXPW","user":{"login":"sumeetgajjar","id":7351922,"node_id":"MDQ6VXNlcjczNTE5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7351922?v=4","gravatar_id":"","url":"https://api.github.com/users/sumeetgajjar","html_url":"https://github.com/sumeetgajjar","followers_url":"https://api.github.com/users/sumeetgajjar/followers","following_url":"https://api.github.com/users/sumeetgajjar/following{/other_user}","gists_url":"https://api.github.com/users/sumeetgajjar/gists{/gist_id}","starred_url":"https://api.github.com/users/sumeetgajjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumeetgajjar/subscriptions","organizations_url":"https://api.github.com/users/sumeetgajjar/orgs","repos_url":"https://api.github.com/users/sumeetgajjar/repos","events_url":"https://api.github.com/users/sumeetgajjar/events{/privacy}","received_events_url":"https://api.github.com/users/sumeetgajjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T04:22:34Z","updated_at":"2022-08-30T04:22:34Z","author_association":"CONTRIBUTOR","body":"> org.apache.iceberg.TestSplitScan > test[format = parquet] FAILED\r\n\r\nHi @rbalamohan, the above test is failing due to the change in compression codec, the size of the data file is now ~ 77MB and with a 16MB split size, it results in 5 scan tasks.\r\n\r\nhttps://github.com/apache/iceberg/blob/97c85aa03e3470ab9585519d650e8a989a59495f/data/src/test/java/org/apache/iceberg/TestSplitScan.java#L97\r\nReducing the number of records to `2000000` to get the same file size when `gzip` was used resolves the test failure.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231123414/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231565348","html_url":"https://github.com/apache/iceberg/issues/5671#issuecomment-1231565348","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5671","id":1231565348,"node_id":"IC_kwDOCW7NX85JaDIk","user":{"login":"Shane-Yu","id":26053387,"node_id":"MDQ6VXNlcjI2MDUzMzg3","avatar_url":"https://avatars.githubusercontent.com/u/26053387?v=4","gravatar_id":"","url":"https://api.github.com/users/Shane-Yu","html_url":"https://github.com/Shane-Yu","followers_url":"https://api.github.com/users/Shane-Yu/followers","following_url":"https://api.github.com/users/Shane-Yu/following{/other_user}","gists_url":"https://api.github.com/users/Shane-Yu/gists{/gist_id}","starred_url":"https://api.github.com/users/Shane-Yu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shane-Yu/subscriptions","organizations_url":"https://api.github.com/users/Shane-Yu/orgs","repos_url":"https://api.github.com/users/Shane-Yu/repos","events_url":"https://api.github.com/users/Shane-Yu/events{/privacy}","received_events_url":"https://api.github.com/users/Shane-Yu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T11:57:02Z","updated_at":"2022-08-30T11:57:02Z","author_association":"NONE","body":"@rdblue @openinx @stevenzwu @kbendick   Can you guys take some time to look at this？","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231565348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231689951","html_url":"https://github.com/apache/iceberg/pull/4801#issuecomment-1231689951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4801","id":1231689951,"node_id":"IC_kwDOCW7NX85Jahjf","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T13:43:38Z","updated_at":"2022-08-30T13:43:38Z","author_association":"CONTRIBUTOR","body":"@rdblue when you have a chance can you take another look at this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231689951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231783307","html_url":"https://github.com/apache/iceberg/issues/5630#issuecomment-1231783307","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5630","id":1231783307,"node_id":"IC_kwDOCW7NX85Ja4WL","user":{"login":"msb1","id":44041613,"node_id":"MDQ6VXNlcjQ0MDQxNjEz","avatar_url":"https://avatars.githubusercontent.com/u/44041613?v=4","gravatar_id":"","url":"https://api.github.com/users/msb1","html_url":"https://github.com/msb1","followers_url":"https://api.github.com/users/msb1/followers","following_url":"https://api.github.com/users/msb1/following{/other_user}","gists_url":"https://api.github.com/users/msb1/gists{/gist_id}","starred_url":"https://api.github.com/users/msb1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msb1/subscriptions","organizations_url":"https://api.github.com/users/msb1/orgs","repos_url":"https://api.github.com/users/msb1/repos","events_url":"https://api.github.com/users/msb1/events{/privacy}","received_events_url":"https://api.github.com/users/msb1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T14:55:17Z","updated_at":"2022-08-30T14:55:17Z","author_association":"NONE","body":"If you are using gradle and creating shadow jar; do not use minimize()... Was doing build with \r\n      shadowJar {\r\n          minimize()\r\n          zip64 true\r\n      }\r\nin build.gradle. Had identical error message to what is shown in first post above.\r\n\r\nChanged to \r\n      shadowJar {\r\n          zip64 true\r\n      }\r\nin build.gradle and error is gone. Appears that minimize() was removing shaded caffeine from fat jar.  Could probably have problem if using maven shaded plugin as well.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231783307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231966833","html_url":"https://github.com/apache/iceberg/pull/5021#issuecomment-1231966833","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5021","id":1231966833,"node_id":"IC_kwDOCW7NX85JblJx","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T17:37:38Z","updated_at":"2022-08-30T17:37:38Z","author_association":"MEMBER","body":"Thank you for the merge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231966833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231967878","html_url":"https://github.com/apache/iceberg/pull/4741#issuecomment-1231967878","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4741","id":1231967878,"node_id":"IC_kwDOCW7NX85JblaG","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T17:38:46Z","updated_at":"2022-08-30T17:38:46Z","author_association":"MEMBER","body":"Rebased after #5021 has been merged to make Conflicts disappear.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1231967878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232104623","html_url":"https://github.com/apache/iceberg/pull/5672#issuecomment-1232104623","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5672","id":1232104623,"node_id":"IC_kwDOCW7NX85JcGyv","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T19:58:21Z","updated_at":"2022-09-01T20:36:55Z","author_association":"CONTRIBUTOR","body":"~~Waiting for https://github.com/apache/iceberg/pull/5627~~","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232104623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232176520","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1232176520","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1232176520,"node_id":"IC_kwDOCW7NX85JcYWI","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T21:15:11Z","updated_at":"2022-08-30T21:15:11Z","author_association":"MEMBER","body":"Merged Amogh's PR, rebased, and applied spotless.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232176520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232267477","html_url":"https://github.com/apache/iceberg/pull/5645#issuecomment-1232267477","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5645","id":1232267477,"node_id":"IC_kwDOCW7NX85JcujV","user":{"login":"sumeetgajjar","id":7351922,"node_id":"MDQ6VXNlcjczNTE5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7351922?v=4","gravatar_id":"","url":"https://api.github.com/users/sumeetgajjar","html_url":"https://github.com/sumeetgajjar","followers_url":"https://api.github.com/users/sumeetgajjar/followers","following_url":"https://api.github.com/users/sumeetgajjar/following{/other_user}","gists_url":"https://api.github.com/users/sumeetgajjar/gists{/gist_id}","starred_url":"https://api.github.com/users/sumeetgajjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumeetgajjar/subscriptions","organizations_url":"https://api.github.com/users/sumeetgajjar/orgs","repos_url":"https://api.github.com/users/sumeetgajjar/repos","events_url":"https://api.github.com/users/sumeetgajjar/events{/privacy}","received_events_url":"https://api.github.com/users/sumeetgajjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:19:14Z","updated_at":"2022-08-30T23:19:14Z","author_association":"CONTRIBUTOR","body":"A gentle ping @Fokko @samredai ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232267477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232267521","html_url":"https://github.com/apache/iceberg/pull/5647#issuecomment-1232267521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5647","id":1232267521,"node_id":"IC_kwDOCW7NX85JcukB","user":{"login":"sumeetgajjar","id":7351922,"node_id":"MDQ6VXNlcjczNTE5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7351922?v=4","gravatar_id":"","url":"https://api.github.com/users/sumeetgajjar","html_url":"https://github.com/sumeetgajjar","followers_url":"https://api.github.com/users/sumeetgajjar/followers","following_url":"https://api.github.com/users/sumeetgajjar/following{/other_user}","gists_url":"https://api.github.com/users/sumeetgajjar/gists{/gist_id}","starred_url":"https://api.github.com/users/sumeetgajjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumeetgajjar/subscriptions","organizations_url":"https://api.github.com/users/sumeetgajjar/orgs","repos_url":"https://api.github.com/users/sumeetgajjar/repos","events_url":"https://api.github.com/users/sumeetgajjar/events{/privacy}","received_events_url":"https://api.github.com/users/sumeetgajjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:19:19Z","updated_at":"2022-08-30T23:19:19Z","author_association":"CONTRIBUTOR","body":"A gentle ping @Fokko @samredai ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232267521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232301235","html_url":"https://github.com/apache/iceberg/issues/4257#issuecomment-1232301235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4257","id":1232301235,"node_id":"IC_kwDOCW7NX85Jc2yz","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T00:15:20Z","updated_at":"2022-08-31T00:15:20Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232301235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232392801","html_url":"https://github.com/apache/iceberg/issues/2586#issuecomment-1232392801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2586","id":1232392801,"node_id":"IC_kwDOCW7NX85JdNJh","user":{"login":"badbye","id":3295865,"node_id":"MDQ6VXNlcjMyOTU4NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3295865?v=4","gravatar_id":"","url":"https://api.github.com/users/badbye","html_url":"https://github.com/badbye","followers_url":"https://api.github.com/users/badbye/followers","following_url":"https://api.github.com/users/badbye/following{/other_user}","gists_url":"https://api.github.com/users/badbye/gists{/gist_id}","starred_url":"https://api.github.com/users/badbye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badbye/subscriptions","organizations_url":"https://api.github.com/users/badbye/orgs","repos_url":"https://api.github.com/users/badbye/repos","events_url":"https://api.github.com/users/badbye/events{/privacy}","received_events_url":"https://api.github.com/users/badbye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:56:49Z","updated_at":"2022-08-31T02:56:49Z","author_association":"NONE","body":"To fully support geometry, there are lots of things to do.\r\n1. Add geometry type.\r\n2. Partitioning.\r\n3. Filtering.\r\n4. Writing and reading.  \r\n\r\nFirstly, we must figure out how to store geometry in parquet and Avro files.  [geomesa](https://github.com/locationtech/geomesa/tree/main/geomesa-fs/geomesa-fs-storage/geomesa-fs-storage-parquet/src/main/scala/org/locationtech/geomesa/parquet) already did it. [geoparquet](https://github.com/opengeospatial/geoparquet) is trying to set up a standard. What about Avro? no idea yet.\r\n\r\nSecond, use query engines like Spark to read data from sources and write geometry records into files. (Since Iceberg only offers an APIs to append files, not records) \r\n\r\nFinally, (conditional) reading is not that hard to do.\r\n\r\nMy team is working on it. Hopefully, we can make it at the end of 2022. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232392801/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232500424","html_url":"https://github.com/apache/iceberg/pull/5642#issuecomment-1232500424","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5642","id":1232500424,"node_id":"IC_kwDOCW7NX85JdnbI","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T06:04:21Z","updated_at":"2022-08-31T06:04:21Z","author_association":"CONTRIBUTOR","body":"Hey @xuzhiwen1255, thanks for the patch!\r\n\r\nI’ve been out very sick, but this seems important. I’ll do my best to take a look as soon as possible. Thanks Steven for reviewing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232500424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232511957","html_url":"https://github.com/apache/iceberg/pull/5642#issuecomment-1232511957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5642","id":1232511957,"node_id":"IC_kwDOCW7NX85JdqPV","user":{"login":"xuzhiwen1255","id":105710753,"node_id":"U_kgDOBk0EoQ","avatar_url":"https://avatars.githubusercontent.com/u/105710753?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhiwen1255","html_url":"https://github.com/xuzhiwen1255","followers_url":"https://api.github.com/users/xuzhiwen1255/followers","following_url":"https://api.github.com/users/xuzhiwen1255/following{/other_user}","gists_url":"https://api.github.com/users/xuzhiwen1255/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhiwen1255/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhiwen1255/subscriptions","organizations_url":"https://api.github.com/users/xuzhiwen1255/orgs","repos_url":"https://api.github.com/users/xuzhiwen1255/repos","events_url":"https://api.github.com/users/xuzhiwen1255/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhiwen1255/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T06:21:46Z","updated_at":"2022-08-31T06:21:46Z","author_association":"CONTRIBUTOR","body":"> Hey @xuzhiwen1255, thanks for the patch!\r\n> \r\n> I’ve been out very sick, but this seems important. I’ll do my best to take a look as soon as possible. Thanks Steven for reviewing.\r\n\r\nThank you for your reply. Pay attention to your health while working. I wish you a speedy recovery.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232511957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232531922","html_url":"https://github.com/apache/iceberg/issues/5677#issuecomment-1232531922","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5677","id":1232531922,"node_id":"IC_kwDOCW7NX85JdvHS","user":{"login":"tongwei","id":32157039,"node_id":"MDQ6VXNlcjMyMTU3MDM5","avatar_url":"https://avatars.githubusercontent.com/u/32157039?v=4","gravatar_id":"","url":"https://api.github.com/users/tongwei","html_url":"https://github.com/tongwei","followers_url":"https://api.github.com/users/tongwei/followers","following_url":"https://api.github.com/users/tongwei/following{/other_user}","gists_url":"https://api.github.com/users/tongwei/gists{/gist_id}","starred_url":"https://api.github.com/users/tongwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tongwei/subscriptions","organizations_url":"https://api.github.com/users/tongwei/orgs","repos_url":"https://api.github.com/users/tongwei/repos","events_url":"https://api.github.com/users/tongwei/events{/privacy}","received_events_url":"https://api.github.com/users/tongwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T06:48:50Z","updated_at":"2022-08-31T06:49:23Z","author_association":"NONE","body":"org.apache.iceberg.spark.SparkReadConf\r\n[\r\n![UvqGOmq3fK](https://user-images.githubusercontent.com/32157039/187612031-89a21480-9dda-4981-9d2b-4d0a9b2dda6d.jpg)\r\n](url)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232531922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232842923","html_url":"https://github.com/apache/iceberg/issues/5671#issuecomment-1232842923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5671","id":1232842923,"node_id":"IC_kwDOCW7NX85Je7Cr","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T12:00:27Z","updated_at":"2022-08-31T12:02:50Z","author_association":"MEMBER","body":"Do you mean:  it should see empty row set when execute the following SQL ? \r\n\r\n```sql\r\nhive (iceberg_yx)> select * from upsert_update_time_test where update_time <= '2022-08-26 15:45:00';\r\nOK\r\nupsert_update_time_test.id upsert_update_time_test.data upsert_update_time_test.update_time\r\n1 101 2022-08-26 15:44:50\r\n```\r\n\r\nI'm not quite sure that whether your input stream `rowDataStream`  will really  transform the `U, 1, .. ` record as an `UPDATE` event , you can try to confirm this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1232842923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233132529","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1233132529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1233132529,"node_id":"IC_kwDOCW7NX85JgBvx","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T16:03:33Z","updated_at":"2022-08-31T16:03:33Z","author_association":"CONTRIBUTOR","body":"@flyrain @kbendick since you have approved this, can one of you please merge it? (The only update since is one adding some blank lines after if blocks and tweaking of comments in the test class.)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233132529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233206958","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233206958","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233206958,"node_id":"IC_kwDOCW7NX85JgT6u","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T17:14:54Z","updated_at":"2022-08-31T17:15:29Z","author_association":"CONTRIBUTOR","body":"I'm able to reproduce this. It looks like we're deleting a field that used to be part of a partitionspec. I'm not sure how we handle this, but I don't think we should throw an NPE. It isn't available in the current schema but should be in the previous schema.\r\n\r\n![image](https://user-images.githubusercontent.com/1134248/187739555-5fcffe0e-6a27-4257-ba4e-e4dff9e1f4a1.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233206958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233230531","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1233230531","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1233230531,"node_id":"IC_kwDOCW7NX85JgZrD","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T17:39:50Z","updated_at":"2022-08-31T17:39:50Z","author_association":"CONTRIBUTOR","body":"@wypoon, sorry for the delay, working on my apache authentication issue. I don't have the permission to merge until the issue is resolved. May @RussellSpitzer can help?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233230531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233264708","html_url":"https://github.com/apache/iceberg/pull/5670#issuecomment-1233264708","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5670","id":1233264708,"node_id":"IC_kwDOCW7NX85JgiBE","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T18:17:09Z","updated_at":"2022-08-31T18:17:09Z","author_association":"CONTRIBUTOR","body":"From the fairly broad testing that I've done, snappy is never a good choice for compression. This choice depends on what you want to optimize. Snappy is often fast, but gets very poor compression rates. LZ4 is a much better choice if you're optimizing for write speed because it is usually faster and smaller than snappy. But if you're optimizing for compression, I probably wouldn't choose LZ4.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233264708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233274623","html_url":"https://github.com/apache/iceberg/pull/5601#issuecomment-1233274623","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5601","id":1233274623,"node_id":"IC_kwDOCW7NX85Jgkb_","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T18:27:35Z","updated_at":"2022-08-31T18:27:35Z","author_association":"CONTRIBUTOR","body":"Sorry for the delay. Let me take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233274623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233292724","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1233292724","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1233292724,"node_id":"IC_kwDOCW7NX85Jgo20","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T18:47:42Z","updated_at":"2022-08-31T18:47:42Z","author_association":"CONTRIBUTOR","body":"> @flyrain @kbendick since you have approved this, can one of you please merge it? (The only update since is one adding some blank lines after if blocks and tweaking of comments in the test class.)\r\n\r\nUnfortunately I’m not able to merge yet as I’m not a committer. Hopefully either @flyrain’s credentials will get worked out or somebody else will handle it!\r\n\r\nAnd sorry for any delay in response, I’ve been out very sick this week but trying to stay on top of things when I have the energy. 😷 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233292724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233328664","html_url":"https://github.com/apache/iceberg/pull/5679#issuecomment-1233328664","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5679","id":1233328664,"node_id":"IC_kwDOCW7NX85JgxoY","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T19:19:14Z","updated_at":"2022-09-01T11:23:42Z","author_association":"CONTRIBUTOR","body":"Posting what I found so far : \r\nAs per my understanding, In case of MOR this is happening due to \r\nhttps://github.com/apache/iceberg/blob/5764c93a59d8fe5d1c8a60c6ec2cc4deaf8f23d4/spark/v3.3/spark-extensions/src/main/scala/org/apache/spark/sql/catalyst/analysis/RewriteMergeIntoTable.scala#L267\r\n\r\n\r\nnullification of all row attrs that are not part of the row ID. \r\n\r\nIn mergeRow's output, all rowAttrs that are not part of rowID becomes nullbable, because delete actions are not actually ignored here for MOR as they are non-empty, unlike what comment suggests (i think this implies for COW, as we return empty in delete action).\r\n\r\nhttps://github.com/apache/iceberg/blob/5764c93a59d8fe5d1c8a60c6ec2cc4deaf8f23d4/spark/v3.3/spark-extensions/src/main/scala/org/apache/spark/sql/catalyst/analysis/RewriteMergeIntoTable.scala#L353-L360\r\n\r\n\r\nbecause of this WriteDelta's resolution fails due to table.opt suggesting non-null and projection.schema being nullable.\r\n\r\nhttps://github.com/apache/iceberg/blob/5764c93a59d8fe5d1c8a60c6ec2cc4deaf8f23d4/spark/v3.2/spark-extensions/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/WriteDelta.scala#L107-L113\r\n\r\nmay be this is an expected behaviour, not sure.\r\n\r\nwould love to get @aokolnychyi's feedback on this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233328664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233448714","html_url":"https://github.com/apache/iceberg/pull/5665#issuecomment-1233448714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5665","id":1233448714,"node_id":"IC_kwDOCW7NX85JhO8K","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T21:41:33Z","updated_at":"2022-08-31T21:41:33Z","author_association":"CONTRIBUTOR","body":"I'd love to take a look later today/tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233448714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233487385","html_url":"https://github.com/apache/iceberg/pull/5578#issuecomment-1233487385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5578","id":1233487385,"node_id":"IC_kwDOCW7NX85JhYYZ","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T22:32:08Z","updated_at":"2022-08-31T22:32:08Z","author_association":"CONTRIBUTOR","body":"Thanks, @flyrain!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233487385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233487664","html_url":"https://github.com/apache/iceberg/pull/5578#issuecomment-1233487664","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5578","id":1233487664,"node_id":"IC_kwDOCW7NX85JhYcw","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T22:32:25Z","updated_at":"2022-08-31T22:32:25Z","author_association":"CONTRIBUTOR","body":"@flyrain, could you cherry-pick this to 3.2?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233487664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233510867","html_url":"https://github.com/apache/iceberg/pull/5665#issuecomment-1233510867","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5665","id":1233510867,"node_id":"IC_kwDOCW7NX85JheHT","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T22:50:50Z","updated_at":"2022-08-31T22:50:50Z","author_association":"CONTRIBUTOR","body":"Okay, I think the problem is that we did not adapt this action when we started to output a union partition type in our metadata tables. I suppose we need to add a projection before writing files. Let me take a look at the proposed fix.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233510867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233534601","html_url":"https://github.com/apache/iceberg/pull/5376#issuecomment-1233534601","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5376","id":1233534601,"node_id":"IC_kwDOCW7NX85Jhj6J","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T23:08:16Z","updated_at":"2022-08-31T23:08:16Z","author_association":"COLLABORATOR","body":"Added additional test, looks it is working even when readable_metric column is selected before other columns (spark somehow calls the rows in their original order)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233534601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233567807","html_url":"https://github.com/apache/iceberg/pull/5665#issuecomment-1233567807","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5665","id":1233567807,"node_id":"IC_kwDOCW7NX85JhsA_","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T23:57:55Z","updated_at":"2022-08-31T23:57:55Z","author_association":"CONTRIBUTOR","body":"I think it has been a while since we updated this action and there are more problems that what was currently reported.\r\nI'll take a look later and refactor/fix as needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233567807/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233578693","html_url":"https://github.com/apache/iceberg/issues/4225#issuecomment-1233578693","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4225","id":1233578693,"node_id":"IC_kwDOCW7NX85JhurF","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T00:14:10Z","updated_at":"2022-09-01T00:14:10Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233578693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233614139","html_url":"https://github.com/apache/iceberg/pull/5510#issuecomment-1233614139","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5510","id":1233614139,"node_id":"IC_kwDOCW7NX85Jh3U7","user":{"login":"yabola","id":31469905,"node_id":"MDQ6VXNlcjMxNDY5OTA1","avatar_url":"https://avatars.githubusercontent.com/u/31469905?v=4","gravatar_id":"","url":"https://api.github.com/users/yabola","html_url":"https://github.com/yabola","followers_url":"https://api.github.com/users/yabola/followers","following_url":"https://api.github.com/users/yabola/following{/other_user}","gists_url":"https://api.github.com/users/yabola/gists{/gist_id}","starred_url":"https://api.github.com/users/yabola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yabola/subscriptions","organizations_url":"https://api.github.com/users/yabola/orgs","repos_url":"https://api.github.com/users/yabola/repos","events_url":"https://api.github.com/users/yabola/events{/privacy}","received_events_url":"https://api.github.com/users/yabola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T01:07:34Z","updated_at":"2022-09-01T01:07:34Z","author_association":"CONTRIBUTOR","body":"@szehon-ho My newly added `testDropTableWithoutMetadataFile` method will take 100s in `TestJdbcCatalog`, the original Test class will not have this test path, so the time remains unchanged. Sorry that I didn't find a way to avoid retry 20 time for JDBC (20 times is a hard code). So should I delete my new added test method for `TestJdbcCatalog` or any better idea?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233614139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233631224","html_url":"https://github.com/apache/iceberg/pull/5510#issuecomment-1233631224","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5510","id":1233631224,"node_id":"IC_kwDOCW7NX85Jh7f4","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T01:36:27Z","updated_at":"2022-09-01T01:36:45Z","author_association":"COLLABORATOR","body":"Ugh, yea I feel like it would be nice to have this configurable, not just the test but in general, but I feel it may be another pr.  If @rdblue  is ok to merge, I'm ok.\r\n\r\nAbout the config, it seems like today the way to config things in TableOperations is table property, which could be inherited from CatalogProperties.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233631224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233665207","html_url":"https://github.com/apache/iceberg/pull/4993#issuecomment-1233665207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4993","id":1233665207,"node_id":"IC_kwDOCW7NX85JiDy3","user":{"login":"wang-x-xia","id":83057695,"node_id":"MDQ6VXNlcjgzMDU3Njk1","avatar_url":"https://avatars.githubusercontent.com/u/83057695?v=4","gravatar_id":"","url":"https://api.github.com/users/wang-x-xia","html_url":"https://github.com/wang-x-xia","followers_url":"https://api.github.com/users/wang-x-xia/followers","following_url":"https://api.github.com/users/wang-x-xia/following{/other_user}","gists_url":"https://api.github.com/users/wang-x-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/wang-x-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang-x-xia/subscriptions","organizations_url":"https://api.github.com/users/wang-x-xia/orgs","repos_url":"https://api.github.com/users/wang-x-xia/repos","events_url":"https://api.github.com/users/wang-x-xia/events{/privacy}","received_events_url":"https://api.github.com/users/wang-x-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T02:37:27Z","updated_at":"2022-09-01T02:37:27Z","author_association":"CONTRIBUTOR","body":"@rdblue \r\nCould you please confirm whether the next release is 0.14.1 or 0.15?\r\nIf the next release is 0.14.1, I'll change the Jar version to 0.14.1.\r\nAnd if the document has any other problems, I can also fix them! 😂","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233665207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233702815","html_url":"https://github.com/apache/iceberg/pull/5682#issuecomment-1233702815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5682","id":1233702815,"node_id":"IC_kwDOCW7NX85JiM-f","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T03:49:16Z","updated_at":"2022-09-01T03:49:16Z","author_association":"CONTRIBUTOR","body":"Thanks, @flyrain!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233702815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233738103","html_url":"https://github.com/apache/iceberg/pull/5681#issuecomment-1233738103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5681","id":1233738103,"node_id":"IC_kwDOCW7NX85JiVl3","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T04:52:26Z","updated_at":"2022-09-01T04:52:26Z","author_association":"CONTRIBUTOR","body":"> Alternatively, we could wait for the Parquet PR to be merged, but this is a more targeted fix.\r\n\r\nI’m +1 to patching for Iceberg until the parquet-mr release is made available. One of the benefits of controlling the parquet version and writers is that we can do these things.\r\n\r\nThanks @bryanck! Will review this ASAP. Have been out pretty sick but occasionally I wake up and am able to review etc.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233738103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233763855","html_url":"https://github.com/apache/iceberg/pull/5682#issuecomment-1233763855","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5682","id":1233763855,"node_id":"IC_kwDOCW7NX85Jib4P","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T05:37:32Z","updated_at":"2022-09-01T05:37:32Z","author_association":"CONTRIBUTOR","body":"Thanks @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233763855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233768759","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1233768759","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1233768759,"node_id":"IC_kwDOCW7NX85JidE3","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T05:45:48Z","updated_at":"2022-09-01T05:45:48Z","author_association":"CONTRIBUTOR","body":"@wypoon: LGTM. Left a few formatting asks, nothing big. For the next time, AFAIK we do separate PRs for the different versions. We implement stuff first for the latest version and then backport to the older ones. This is generally easier for the reviewer.\r\nThanks for the PR.\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233768759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233819063","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233819063","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233819063,"node_id":"IC_kwDOCW7NX85JipW3","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T06:45:40Z","updated_at":"2022-09-01T06:45:40Z","author_association":"CONTRIBUTOR","body":"I think you're supposed to use `DROP PARTITION FIELD days(ts)`. Or dropping the column directly.\r\n\r\nHere's some examples from the tests: https://github.com/apache/iceberg/blob/84f40cff9b98ee15b706289e551078355bb8a7a5/spark/v3.3/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAlterTablePartitionFields.java#L397-L422\r\n\r\nI'm wondering if that's a correct usage of `REPLACE PARTITION FIELD` statement.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233819063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233821181","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233821181","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233821181,"node_id":"IC_kwDOCW7NX85Jip39","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T06:48:24Z","updated_at":"2022-09-01T06:48:24Z","author_association":"CONTRIBUTOR","body":"All of the examples of `REPLACE PARTITION FIELD` seem to be a transform of the same type:\r\n\r\nHere's the actual SQL definition:\r\n```\r\nspark/v3.3/spark-extensions/src/main/antlr/org.apache.spark.sql.catalyst.parser.extensions/IcebergSqlExtensions.g4\r\n72:    | ALTER TABLE multipartIdentifier REPLACE PARTITION FIELD transform WITH transform (AS name=identifier)? #replacePartitionField\r\n```\r\n\r\nBut here's the examples I could find:\r\n```\r\nspark/v3.2/spark-extensions/src/test/java/org/apache/iceberg/spark/extensions/TestAlterTablePartitionFields.java\r\n307:    sql(\"ALTER TABLE %s REPLACE PARTITION FIELD days(ts) WITH hours(ts)\", tableName);\r\n333:    sql(\"ALTER TABLE %s REPLACE PARTITION FIELD days(ts) WITH hours(ts) AS hour_col\", tableName);\r\n359:    sql(\"ALTER TABLE %s REPLACE PARTITION FIELD day_col WITH hours(ts)\", tableName);\r\n385:    sql(\"ALTER TABLE %s REPLACE PARTITION FIELD day_col WITH hours(ts) AS hour_col\", tableName);\r\n```\r\n\r\nBut this does seem like a bug. Did this still happen if the table was refreshed in between alter table statements?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233821181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233822491","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233822491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233822491,"node_id":"IC_kwDOCW7NX85JiqMb","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T06:49:58Z","updated_at":"2022-09-01T06:49:58Z","author_association":"CONTRIBUTOR","body":"I think it needs to still use `DROP PARTITION FIELD days_of_ts` in order to properly clean up the data, as that column is still a partition field in older snapshots. But again, this does seem like a bug.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233822491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233895749","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233895749","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233895749,"node_id":"IC_kwDOCW7NX85Ji8FF","user":{"login":"dotjdk","id":26749202,"node_id":"MDQ6VXNlcjI2NzQ5MjAy","avatar_url":"https://avatars.githubusercontent.com/u/26749202?v=4","gravatar_id":"","url":"https://api.github.com/users/dotjdk","html_url":"https://github.com/dotjdk","followers_url":"https://api.github.com/users/dotjdk/followers","following_url":"https://api.github.com/users/dotjdk/following{/other_user}","gists_url":"https://api.github.com/users/dotjdk/gists{/gist_id}","starred_url":"https://api.github.com/users/dotjdk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotjdk/subscriptions","organizations_url":"https://api.github.com/users/dotjdk/orgs","repos_url":"https://api.github.com/users/dotjdk/repos","events_url":"https://api.github.com/users/dotjdk/events{/privacy}","received_events_url":"https://api.github.com/users/dotjdk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T08:00:03Z","updated_at":"2022-09-01T08:00:03Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nYes, it still happens with `REFRESH TABLE` in between.\r\n\r\nThe last two examples you posted from the `TestAlterTablePartitionFields` testcase looks like exactly what I am doing, except the I drop the old field from the table afterwards.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233895749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233897880","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233897880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233897880,"node_id":"IC_kwDOCW7NX85Ji8mY","user":{"login":"dotjdk","id":26749202,"node_id":"MDQ6VXNlcjI2NzQ5MjAy","avatar_url":"https://avatars.githubusercontent.com/u/26749202?v=4","gravatar_id":"","url":"https://api.github.com/users/dotjdk","html_url":"https://github.com/dotjdk","followers_url":"https://api.github.com/users/dotjdk/followers","following_url":"https://api.github.com/users/dotjdk/following{/other_user}","gists_url":"https://api.github.com/users/dotjdk/gists{/gist_id}","starred_url":"https://api.github.com/users/dotjdk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotjdk/subscriptions","organizations_url":"https://api.github.com/users/dotjdk/orgs","repos_url":"https://api.github.com/users/dotjdk/repos","events_url":"https://api.github.com/users/dotjdk/events{/privacy}","received_events_url":"https://api.github.com/users/dotjdk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T08:02:01Z","updated_at":"2022-09-01T08:14:06Z","author_association":"CONTRIBUTOR","body":"I expected `REPLACE PARTITION FIELD` to be a single snapshot operation version of `DROP` and `ADD`, but that may be wrong. I haven`t tested this doing it in two operations. I will try that when I have a free moment and report back.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233897880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233913590","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233913590","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233913590,"node_id":"IC_kwDOCW7NX85JjAb2","user":{"login":"dotjdk","id":26749202,"node_id":"MDQ6VXNlcjI2NzQ5MjAy","avatar_url":"https://avatars.githubusercontent.com/u/26749202?v=4","gravatar_id":"","url":"https://api.github.com/users/dotjdk","html_url":"https://github.com/dotjdk","followers_url":"https://api.github.com/users/dotjdk/followers","following_url":"https://api.github.com/users/dotjdk/following{/other_user}","gists_url":"https://api.github.com/users/dotjdk/gists{/gist_id}","starred_url":"https://api.github.com/users/dotjdk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotjdk/subscriptions","organizations_url":"https://api.github.com/users/dotjdk/orgs","repos_url":"https://api.github.com/users/dotjdk/repos","events_url":"https://api.github.com/users/dotjdk/events{/privacy}","received_events_url":"https://api.github.com/users/dotjdk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T08:13:53Z","updated_at":"2022-09-01T08:13:53Z","author_association":"CONTRIBUTOR","body":"I couldn't wait, so I just tried it.\r\n\r\nSame result using `DROP` and `ADD`\r\n\r\n```sql\r\ncreate table data.test_table (ts timestamp not null, day_of_ts date) using iceberg partitioned by (day_of_ts);\r\nalter table data.test_table SET TBLPROPERTIES ('format-version' = '2');\r\nrefresh table data.test_table;\r\nalter table data.test_table DROP PARTITION FIELD day_of_ts;\r\nrefresh table data.test_table;\r\nalter table data.test_table add partition field days(ts);\r\nrefresh table data.test_table;\r\nalter table data.test_table drop column day_of_ts;\r\nrefresh table data.test_table;\r\nselect * from data.test_table;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233913590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233962058","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1233962058","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1233962058,"node_id":"IC_kwDOCW7NX85JjMRK","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T08:50:59Z","updated_at":"2022-09-01T08:50:59Z","author_association":"CONTRIBUTOR","body":"As per my understanding, I think the issue here is that we are trying to bind all partition specs to to current schema which will always not be possible.\r\n\r\nFor ex : we find current schema and assign this to local var `schema` \r\n\r\nhttps://github.com/apache/iceberg/blob/84f40cff9b98ee15b706289e551078355bb8a7a5/core/src/main/java/org/apache/iceberg/TableMetadataParser.java#L344-L351\r\n\r\nwe bind all partition specs to the `schema` which is equal to current schema\r\n\r\nhttps://github.com/apache/iceberg/blob/84f40cff9b98ee15b706289e551078355bb8a7a5/core/src/main/java/org/apache/iceberg/TableMetadataParser.java#L381-L385\r\n\r\n\r\nwhich is where I think it's failing as we have dropped `day_of_ts` so current schema doesn't have this and partition spec `0` (initial partitioning ) has reference to `day_of_ts` hence it's failing to bind it.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1233962058/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234015308","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1234015308","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1234015308,"node_id":"IC_kwDOCW7NX85JjZRM","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T09:30:11Z","updated_at":"2022-09-01T09:30:55Z","author_association":"CONTRIBUTOR","body":"@kbendick The tests are different, it doesn't drop the source column.\r\n\r\nI did some digging around in the code, and we bind the partition spec right away because we need the column type for the transform:\r\n\r\n```java\r\n    Builder add(int sourceId, int fieldId, String name, String transform) {\r\n      Types.NestedField column = schema.findField(sourceId);\r\n      Preconditions.checkNotNull(column, \"Cannot find source column: %s\", sourceId);\r\n      return add(sourceId, fieldId, name, Transforms.fromString(column.type(), transform));\r\n    }\r\n```\r\n\r\nThere is a PR https://github.com/apache/iceberg/pull/5601 that will decouple this, and then we can also solve this issue.\r\n\r\nA simple test reproduces this behavior:\r\n```java\r\n  @Test\r\n  public void testDropColumnOfOldPartitionField() {\r\n    sql(\"CREATE TABLE %s (id bigint NOT NULL, ts timestamp, day_of_ts date) USING iceberg PARTITIONED BY (day_of_ts)\", tableName);\r\n\r\n    sql(\"ALTER TABLE %s  SET TBLPROPERTIES ('format-version' = '2');\", tableName);\r\n\r\n    sql(\"ALTER TABLE %s REPLACE PARTITION FIELD day_of_ts WITH days(ts)\", tableName);\r\n\r\n    sql(\"ALTER TABLE %s DROP COLUMN day_of_ts\", tableName);\r\n  }\r\n```\r\nI think this should be quite straightforward to fix this once https://github.com/apache/iceberg/pull/5601 has been merged","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234015308/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234020424","html_url":"https://github.com/apache/iceberg/pull/5332#issuecomment-1234020424","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5332","id":1234020424,"node_id":"IC_kwDOCW7NX85JjahI","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T09:34:31Z","updated_at":"2022-09-01T09:34:31Z","author_association":"CONTRIBUTOR","body":"Thanks @samredai 👍🏻 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234020424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234392563","html_url":"https://github.com/apache/iceberg/pull/5510#issuecomment-1234392563","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5510","id":1234392563,"node_id":"IC_kwDOCW7NX85Jk1Xz","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T14:52:25Z","updated_at":"2022-09-01T14:52:25Z","author_association":"COLLABORATOR","body":"@szehon-ho @yabola  I created a draft PR to make the number of metadata load retries configurable: https://github.com/apache/iceberg/pull/5688\r\nSo far I checked JdbcCatalog only but will cover other affected catalogs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234392563/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234565058","html_url":"https://github.com/apache/iceberg/pull/5688#issuecomment-1234565058","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5688","id":1234565058,"node_id":"IC_kwDOCW7NX85JlffC","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T17:17:54Z","updated_at":"2022-09-01T17:19:08Z","author_association":"COLLABORATOR","body":"Yea, I personally think it would be great to make this configurable, as maybe change the default 20 as I feel it is a bit much.\r\n\r\nWhat do you think to put it in TableProperties?  Just going over CatalogProperties and TableProperties, I feel TableProperties has more similar configs like commit.retry.num-retries.  How about in TableProperties :  read.retry.metadata-refresh?\r\n\r\nOn CatalogProperties there's 'table-default' and 'table-override' that will allow default/override for all flag to be set on Catalog as well, so it will accomplish what this pr tries to do as well.\r\n\r\nAnother question is whether all catalog will support it.  I think all can, but not sure RestCatalog, cc @rdblue if there's concerns adding such a flag in either Catalog/TableProperties ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234565058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234710375","html_url":"https://github.com/apache/iceberg/pull/5510#issuecomment-1234710375","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5510","id":1234710375,"node_id":"IC_kwDOCW7NX85JmC9n","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T19:48:15Z","updated_at":"2022-09-01T19:48:15Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a look at the metadata retries, @gaborkaszab!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234710375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234711782","html_url":"https://github.com/apache/iceberg/issues/5584#issuecomment-1234711782","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5584","id":1234711782,"node_id":"IC_kwDOCW7NX85JmDTm","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T19:50:01Z","updated_at":"2022-09-01T19:50:01Z","author_association":"CONTRIBUTOR","body":"Merged #5510, so I'll close this. Thanks, @yabola!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234711782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234856978","html_url":"https://github.com/apache/iceberg/pull/5437#issuecomment-1234856978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5437","id":1234856978,"node_id":"IC_kwDOCW7NX85JmmwS","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T22:37:22Z","updated_at":"2022-09-01T22:37:22Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234856978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234918265","html_url":"https://github.com/apache/iceberg/pull/5691#issuecomment-1234918265","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5691","id":1234918265,"node_id":"IC_kwDOCW7NX85Jm1t5","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T23:49:12Z","updated_at":"2022-09-01T23:49:12Z","author_association":"CONTRIBUTOR","body":"@Fokko, I took a look at #5665 and got it working. I'm opening this so that you have the option to either cherry-pick my changes into your PR or just go ahead and merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234918265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234948098","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1234948098","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1234948098,"node_id":"IC_kwDOCW7NX85Jm9AC","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T00:50:25Z","updated_at":"2022-09-02T00:50:25Z","author_association":"CONTRIBUTOR","body":"Ok, local build succeeds, but I guess the CI must rebase on master; even though there are no conflicts, the build fails, because of a new class added by #5578 and #5682.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234948098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234949629","html_url":"https://github.com/apache/iceberg/pull/5510#issuecomment-1234949629","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5510","id":1234949629,"node_id":"IC_kwDOCW7NX85Jm9X9","user":{"login":"yabola","id":31469905,"node_id":"MDQ6VXNlcjMxNDY5OTA1","avatar_url":"https://avatars.githubusercontent.com/u/31469905?v=4","gravatar_id":"","url":"https://api.github.com/users/yabola","html_url":"https://github.com/yabola","followers_url":"https://api.github.com/users/yabola/followers","following_url":"https://api.github.com/users/yabola/following{/other_user}","gists_url":"https://api.github.com/users/yabola/gists{/gist_id}","starred_url":"https://api.github.com/users/yabola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yabola/subscriptions","organizations_url":"https://api.github.com/users/yabola/orgs","repos_url":"https://api.github.com/users/yabola/repos","events_url":"https://api.github.com/users/yabola/events{/privacy}","received_events_url":"https://api.github.com/users/yabola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T00:54:23Z","updated_at":"2022-09-02T00:54:23Z","author_association":"CONTRIBUTOR","body":"@ajantha-bhat @pvary @rdblue @szehon-ho @nastra @singhpk234 @gaborkaszab Thank you all for careful review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1234949629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235011468","html_url":"https://github.com/apache/iceberg/pull/5629#issuecomment-1235011468","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5629","id":1235011468,"node_id":"IC_kwDOCW7NX85JnMeM","user":{"login":"sumeetgajjar","id":7351922,"node_id":"MDQ6VXNlcjczNTE5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7351922?v=4","gravatar_id":"","url":"https://api.github.com/users/sumeetgajjar","html_url":"https://github.com/sumeetgajjar","followers_url":"https://api.github.com/users/sumeetgajjar/followers","following_url":"https://api.github.com/users/sumeetgajjar/following{/other_user}","gists_url":"https://api.github.com/users/sumeetgajjar/gists{/gist_id}","starred_url":"https://api.github.com/users/sumeetgajjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumeetgajjar/subscriptions","organizations_url":"https://api.github.com/users/sumeetgajjar/orgs","repos_url":"https://api.github.com/users/sumeetgajjar/repos","events_url":"https://api.github.com/users/sumeetgajjar/events{/privacy}","received_events_url":"https://api.github.com/users/sumeetgajjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T02:52:42Z","updated_at":"2022-09-02T02:52:42Z","author_association":"CONTRIBUTOR","body":"Updated the PR to remove the default write file format since `BatchScan` can perform read on various formats. E.g. Append files of type Parquet, and delete files of type Avro.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235011468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235020008","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1235020008","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1235020008,"node_id":"IC_kwDOCW7NX85JnOjo","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T03:11:26Z","updated_at":"2022-09-02T03:11:26Z","author_association":"CONTRIBUTOR","body":"Rebased on master, and fixed the newly added `ChangelogRowReader`'s use of `SparkDeleteFilter`. @flyrain can you please take a quick look at that small change? Otherwise, the only other changes are in formatting and comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235020008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235020181","html_url":"https://github.com/apache/iceberg/issues/5591#issuecomment-1235020181","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5591","id":1235020181,"node_id":"IC_kwDOCW7NX85JnOmV","user":{"login":"ebyhr","id":6237050,"node_id":"MDQ6VXNlcjYyMzcwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6237050?v=4","gravatar_id":"","url":"https://api.github.com/users/ebyhr","html_url":"https://github.com/ebyhr","followers_url":"https://api.github.com/users/ebyhr/followers","following_url":"https://api.github.com/users/ebyhr/following{/other_user}","gists_url":"https://api.github.com/users/ebyhr/gists{/gist_id}","starred_url":"https://api.github.com/users/ebyhr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ebyhr/subscriptions","organizations_url":"https://api.github.com/users/ebyhr/orgs","repos_url":"https://api.github.com/users/ebyhr/repos","events_url":"https://api.github.com/users/ebyhr/events{/privacy}","received_events_url":"https://api.github.com/users/ebyhr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T03:11:46Z","updated_at":"2022-09-02T03:12:41Z","author_association":"CONTRIBUTOR","body":"> This isn't a bug.\r\n\r\nCould you please document the behavior or is it mentioned in somewhere? I believe the current behavior isn't intuitive and I saw some other people in Iceberg community said \"it's a bug\". ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235020181/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235036501","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1235036501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1235036501,"node_id":"IC_kwDOCW7NX85JnSlV","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T03:46:10Z","updated_at":"2022-09-02T03:46:10Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks @wypoon.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235036501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235078937","html_url":"https://github.com/apache/iceberg/pull/5437#issuecomment-1235078937","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5437","id":1235078937,"node_id":"IC_kwDOCW7NX85Jnc8Z","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T05:23:58Z","updated_at":"2022-09-02T05:23:58Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue @kbendick @nastra @amogh-jahagirdar for your awesome reviews :) !!!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235078937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235113062","html_url":"https://github.com/apache/iceberg/pull/5665#issuecomment-1235113062","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5665","id":1235113062,"node_id":"IC_kwDOCW7NX85JnlRm","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T06:21:14Z","updated_at":"2022-09-02T06:21:14Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of https://github.com/apache/iceberg/pull/5691","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235113062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235113896","html_url":"https://github.com/apache/iceberg/issues/5641#issuecomment-1235113896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5641","id":1235113896,"node_id":"IC_kwDOCW7NX85Jnleo","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T06:22:26Z","updated_at":"2022-09-02T06:22:26Z","author_association":"CONTRIBUTOR","body":"This has been fixed in https://github.com/apache/iceberg/pull/5691, thanks @rdblue. And thanks @dotjdk for reporting, much appreciated. Otherwise we wouldn't have caught this 🐛 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235113896/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235656791","html_url":"https://github.com/apache/iceberg/pull/5691#issuecomment-1235656791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5691","id":1235656791,"node_id":"IC_kwDOCW7NX85JpqBX","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T15:49:28Z","updated_at":"2022-09-02T15:49:28Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @Fokko! And nice work finding the problem.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235656791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235739290","html_url":"https://github.com/apache/iceberg/pull/5695#issuecomment-1235739290","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5695","id":1235739290,"node_id":"IC_kwDOCW7NX85Jp-Ka","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T17:18:07Z","updated_at":"2022-09-02T19:56:43Z","author_association":"CONTRIBUTOR","body":"This is still waiting on ~~https://github.com/apache/iceberg/pull/5694~~, but I wanted to get CI running on the other commits.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235739290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235752395","html_url":"https://github.com/apache/iceberg/pull/5662#issuecomment-1235752395","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5662","id":1235752395,"node_id":"IC_kwDOCW7NX85JqBXL","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T17:34:28Z","updated_at":"2022-09-02T17:34:28Z","author_association":"COLLABORATOR","body":"Merged, thanks @lvyanquan ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235752395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235812314","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1235812314","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1235812314,"node_id":"IC_kwDOCW7NX85JqP_a","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T18:55:53Z","updated_at":"2022-09-02T18:55:53Z","author_association":"CONTRIBUTOR","body":"@flyrain have you sorted out your credentials? can you or another committer merge this now? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235812314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235846065","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1235846065","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1235846065,"node_id":"IC_kwDOCW7NX85JqYOx","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T19:50:15Z","updated_at":"2022-09-02T19:50:15Z","author_association":"CONTRIBUTOR","body":"@wypoon I'd love to help on here. Unfortunately the issue is still there :-(. I wish secretary@apache.org could be a bit more responsive.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235846065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235891291","html_url":"https://github.com/apache/iceberg/pull/5601#issuecomment-1235891291","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5601","id":1235891291,"node_id":"IC_kwDOCW7NX85JqjRb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T21:00:31Z","updated_at":"2022-09-02T21:00:31Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews, @aokolnychyi and @stevenzwu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235891291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235935491","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1235935491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1235935491,"node_id":"IC_kwDOCW7NX85JquED","user":{"login":"snth","id":652285,"node_id":"MDQ6VXNlcjY1MjI4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/652285?v=4","gravatar_id":"","url":"https://api.github.com/users/snth","html_url":"https://github.com/snth","followers_url":"https://api.github.com/users/snth/followers","following_url":"https://api.github.com/users/snth/following{/other_user}","gists_url":"https://api.github.com/users/snth/gists{/gist_id}","starred_url":"https://api.github.com/users/snth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snth/subscriptions","organizations_url":"https://api.github.com/users/snth/orgs","repos_url":"https://api.github.com/users/snth/repos","events_url":"https://api.github.com/users/snth/events{/privacy}","received_events_url":"https://api.github.com/users/snth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T22:18:47Z","updated_at":"2022-09-02T22:18:47Z","author_association":"NONE","body":"+1 for Rust SDK","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235935491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235950628","html_url":"https://github.com/apache/iceberg/pull/5688#issuecomment-1235950628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5688","id":1235950628,"node_id":"IC_kwDOCW7NX85Jqxwk","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T22:42:04Z","updated_at":"2022-09-02T22:42:04Z","author_association":"CONTRIBUTOR","body":"@gaborkaszab, @szehon-ho, I think there's a better way than controlling the number of retries. I doubt anyone is going to actually set this until after they are burned by it. I think the solution is to fail if the retry is because the file doesn't exist. I opened a draft PR here: https://github.com/apache/iceberg/pull/5696\r\n\r\nThe only problem with that is how to handle cases where you want to retry because of eventual consistency. However, we already handle eventual consistency using read-after-write consistency. To ensure we get read-after-write consistency in S3, we always call `overwrite` since we know metadata locations are unique (contain a random UUID). See https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/BaseMetastoreTableOperations.java#L160-L162","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235950628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235994193","html_url":"https://github.com/apache/iceberg/issues/3901#issuecomment-1235994193","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3901","id":1235994193,"node_id":"IC_kwDOCW7NX85Jq8ZR","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T00:12:14Z","updated_at":"2022-09-03T00:12:14Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1235994193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236057132","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1236057132","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1236057132,"node_id":"IC_kwDOCW7NX85JrLws","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T06:08:24Z","updated_at":"2022-09-03T06:08:24Z","author_association":"CONTRIBUTOR","body":"Thanks @wypoon for the PR and @flyrain, @kbendick and @RussellSpitzer for the reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236057132/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236062465","html_url":"https://github.com/apache/iceberg/pull/5684#issuecomment-1236062465","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5684","id":1236062465,"node_id":"IC_kwDOCW7NX85JrNEB","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T06:53:33Z","updated_at":"2022-09-03T06:53:33Z","author_association":"CONTRIBUTOR","body":"I think this refactoring seems to be on the right direction, can we check if we can clean up any public static methods of similar purpose in `AwsClientFactories` with this change?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236062465/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236219682","html_url":"https://github.com/apache/iceberg/issues/4281#issuecomment-1236219682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4281","id":1236219682,"node_id":"IC_kwDOCW7NX85Jrzci","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T00:13:49Z","updated_at":"2022-09-04T00:13:49Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236219682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236225915","html_url":"https://github.com/apache/iceberg/pull/4588#issuecomment-1236225915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4588","id":1236225915,"node_id":"IC_kwDOCW7NX85Jr097","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T00:58:21Z","updated_at":"2022-09-04T00:58:21Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236225915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236289321","html_url":"https://github.com/apache/iceberg/pull/5697#issuecomment-1236289321","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5697","id":1236289321,"node_id":"IC_kwDOCW7NX85JsEcp","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T08:37:12Z","updated_at":"2022-09-04T08:37:12Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR @stevenzwu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236289321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236421682","html_url":"https://github.com/apache/iceberg/pull/5669#issuecomment-1236421682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5669","id":1236421682,"node_id":"IC_kwDOCW7NX85Jskwy","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T21:53:13Z","updated_at":"2022-09-04T21:53:13Z","author_association":"CONTRIBUTOR","body":"cc: @rdblue @namrathamyske @singhpk234 @jackye1995  I moved it out of draft state, would be great to get your thoughts on this. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236421682/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236444561","html_url":"https://github.com/apache/iceberg/issues/3900#issuecomment-1236444561","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3900","id":1236444561,"node_id":"IC_kwDOCW7NX85JsqWR","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T00:15:50Z","updated_at":"2022-09-05T00:15:50Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236444561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236492683","html_url":"https://github.com/apache/iceberg/pull/4993#issuecomment-1236492683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4993","id":1236492683,"node_id":"IC_kwDOCW7NX85Js2GL","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T02:46:03Z","updated_at":"2022-09-05T02:46:03Z","author_association":"MEMBER","body":"Sorry for the later response, @wang-x-xia. I remember @wang-x-xia ping me in other IM tools, but I missed to track this document. so sorry.  Let me take a look and get this merged if it's ready.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236492683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236717249","html_url":"https://github.com/apache/iceberg/pull/5407#issuecomment-1236717249","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5407","id":1236717249,"node_id":"IC_kwDOCW7NX85Jts7B","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T08:51:28Z","updated_at":"2022-09-05T08:51:28Z","author_association":"CONTRIBUTOR","body":"> * Do we need a request object that adds another layer to the JSON? This is minor but it seems odd to have a record that just wraps another record to make the Java types work out (i.e. `ScanReportRequest` is a `RESTRequest`).\r\n\r\nNot sure if there's an easier way to do it, but essentially our `RESTClient` requires the body to be a `RESTRequest` and we can't make `ScanReport` (part of `iceberg-api`) just implement `RESTRequest` (part of `iceberg-core`) unfortunately.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236717249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236734680","html_url":"https://github.com/apache/iceberg/issues/5706#issuecomment-1236734680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5706","id":1236734680,"node_id":"IC_kwDOCW7NX85JtxLY","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T09:06:36Z","updated_at":"2022-09-05T09:06:36Z","author_association":"COLLABORATOR","body":"@rdblue @yyanyy Do you know why we not drop stats for `ManifestReader.ALL_COLUMNS`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236734680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236858872","html_url":"https://github.com/apache/iceberg/issues/5591#issuecomment-1236858872","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5591","id":1236858872,"node_id":"IC_kwDOCW7NX85JuPf4","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T11:10:39Z","updated_at":"2022-09-05T11:10:39Z","author_association":"MEMBER","body":"From end-user perspective, there is a difference between\r\n\r\n1. querying table state at given snapshot -- at least in Trino, this uses the \"schema current at that time\", so includes columns that have been dropped since then\r\n\r\n2. query table state after rollback_to_snapshot -- if this uses current schema, this doesn't include columns that have been dropped since the snapshot\r\n\r\nNow consider example\r\n\r\n```\r\n-- add new column\r\nALTER TABLE orders ADD COLUMN order_timestamp timestamp(6) with time zone;\r\n-- feel in data for new column\r\nUPDATE orders SET order_timestamp = CAST(json_value(order_data, '$.timestamp') AS timestamp(6) with time zone);\r\n-- drop the now-redundant column\r\nALTER TABLE orders DROP COLUMN order_data;\r\n\r\n-- imagine now that comparing this uncovered that `order_data` was encoded in a bad way, so we need to roll this all back\r\nCALL rollback_to_snapshot(.....)\r\n```\r\n\r\nAs a user, i would expect to see `order_data` column back in my table.\r\nPer this issue, i understand this wouldn't be the case. As a user I would call it a data loss (and so a bug).\r\n\r\ncc @alexjo2144 @electrum \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236858872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236869749","html_url":"https://github.com/apache/iceberg/pull/4479#issuecomment-1236869749","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4479","id":1236869749,"node_id":"IC_kwDOCW7NX85JuSJ1","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T11:23:06Z","updated_at":"2022-09-05T11:23:06Z","author_association":"CONTRIBUTOR","body":"once read limit is respected via this PR:\r\n\r\nwill add support of `Trigger.AvailableNow()` introduced in spark 3.3 : https://issues.apache.org/jira/browse/SPARK-36533","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236869749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236891747","html_url":"https://github.com/apache/iceberg/issues/5515#issuecomment-1236891747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5515","id":1236891747,"node_id":"IC_kwDOCW7NX85JuXhj","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T11:43:53Z","updated_at":"2022-09-05T11:43:53Z","author_association":"CONTRIBUTOR","body":"Thanks for letting us know that it works @VasilyMelnik 👍🏻 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236891747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236899873","html_url":"https://github.com/apache/iceberg/issues/5676#issuecomment-1236899873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5676","id":1236899873,"node_id":"IC_kwDOCW7NX85JuZgh","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T11:51:52Z","updated_at":"2022-09-05T11:51:52Z","author_association":"CONTRIBUTOR","body":"Created a PR: https://github.com/apache/iceberg/pull/5707","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236899873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236900418","html_url":"https://github.com/apache/iceberg/issues/5671#issuecomment-1236900418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5671","id":1236900418,"node_id":"IC_kwDOCW7NX85JuZpC","user":{"login":"Shane-Yu","id":26053387,"node_id":"MDQ6VXNlcjI2MDUzMzg3","avatar_url":"https://avatars.githubusercontent.com/u/26053387?v=4","gravatar_id":"","url":"https://api.github.com/users/Shane-Yu","html_url":"https://github.com/Shane-Yu","followers_url":"https://api.github.com/users/Shane-Yu/followers","following_url":"https://api.github.com/users/Shane-Yu/following{/other_user}","gists_url":"https://api.github.com/users/Shane-Yu/gists{/gist_id}","starred_url":"https://api.github.com/users/Shane-Yu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shane-Yu/subscriptions","organizations_url":"https://api.github.com/users/Shane-Yu/orgs","repos_url":"https://api.github.com/users/Shane-Yu/repos","events_url":"https://api.github.com/users/Shane-Yu/events{/privacy}","received_events_url":"https://api.github.com/users/Shane-Yu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T11:52:26Z","updated_at":"2022-09-05T11:53:14Z","author_association":"NONE","body":"> Do you mean: it should see empty row set when execute the following SQL ?\r\n> \r\n> ```sql\r\n> hive (iceberg_yx)> select * from upsert_update_time_test where update_time <= '2022-08-26 15:45:00';\r\n> OK\r\n> upsert_update_time_test.id upsert_update_time_test.data upsert_update_time_test.update_time\r\n> 1 101 2022-08-26 15:44:50\r\n> ```\r\n> \r\n> I'm not quite sure that whether your input stream `rowDataStream` will really transform the `U, 1, .. ` record as an `UPDATE` event , you can try to confirm this.\r\n\r\n\r\nYeah, the result should be empty. This seems to be the problem of this PR https://github.com/apache/iceberg/pull/4316#issuecomment-1066097462, but this phenomenon only occurs for parquet files and 'write.metadata.metrics.default'='full'. When putting 'write.metadata.metrics.default'='counts' or Avro file, the problem goes away.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1236900418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237262793","html_url":"https://github.com/apache/iceberg/pull/5705#issuecomment-1237262793","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5705","id":1237262793,"node_id":"IC_kwDOCW7NX85JvyHJ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:11:18Z","updated_at":"2022-09-05T16:11:18Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237262793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237278421","html_url":"https://github.com/apache/iceberg/pull/5483#issuecomment-1237278421","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5483","id":1237278421,"node_id":"IC_kwDOCW7NX85Jv17V","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:26:05Z","updated_at":"2022-09-05T16:26:05Z","author_association":"CONTRIBUTOR","body":"It's hard to tell what's included in this, but I think it should be okay since we're not close to a release and shade most of Avro.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237278421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237285575","html_url":"https://github.com/apache/iceberg/pull/5702#issuecomment-1237285575","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5702","id":1237285575,"node_id":"IC_kwDOCW7NX85Jv3rH","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:33:09Z","updated_at":"2022-09-05T16:33:09Z","author_association":"CONTRIBUTOR","body":"I think updates to `testImplementation` are almost always good as long as tests pass.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237285575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237286150","html_url":"https://github.com/apache/iceberg/pull/5701#issuecomment-1237286150","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5701","id":1237286150,"node_id":"IC_kwDOCW7NX85Jv30G","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:33:45Z","updated_at":"2022-09-05T16:33:45Z","author_association":"CONTRIBUTOR","body":"@dependabot ignore this major version","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237286150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237286179","html_url":"https://github.com/apache/iceberg/pull/5701#issuecomment-1237286179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5701","id":1237286179,"node_id":"IC_kwDOCW7NX85Jv30j","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:33:47Z","updated_at":"2022-09-05T16:33:47Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you about version 4.x.x again, unless you re-open this PR or update to a 4.x.x release yourself.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237286179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237289327","html_url":"https://github.com/apache/iceberg/pull/5689#issuecomment-1237289327","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5689","id":1237289327,"node_id":"IC_kwDOCW7NX85Jv4lv","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:37:12Z","updated_at":"2022-09-05T16:37:12Z","author_association":"CONTRIBUTOR","body":"Thanks, @samredai!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237289327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237290631","html_url":"https://github.com/apache/iceberg/pull/5688#issuecomment-1237290631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5688","id":1237290631,"node_id":"IC_kwDOCW7NX85Jv46H","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T16:38:34Z","updated_at":"2022-09-05T16:38:34Z","author_association":"CONTRIBUTOR","body":"I just merged the alternative fix, so I'm going to close this. Thanks, @gaborkaszab!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237290631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237311498","html_url":"https://github.com/apache/iceberg/pull/5471#issuecomment-1237311498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5471","id":1237311498,"node_id":"IC_kwDOCW7NX85Jv-AK","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T17:01:42Z","updated_at":"2022-09-05T17:01:42Z","author_association":"CONTRIBUTOR","body":"Looks like org.apache.avro:avro is no longer a dependency, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237311498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237539364","html_url":"https://github.com/apache/iceberg/issues/4302#issuecomment-1237539364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4302","id":1237539364,"node_id":"IC_kwDOCW7NX85Jw1ok","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T00:13:47Z","updated_at":"2022-09-06T00:13:47Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1237539364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]