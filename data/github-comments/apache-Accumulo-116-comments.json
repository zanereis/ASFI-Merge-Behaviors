[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1634736668","html_url":"https://github.com/apache/accumulo/pull/3600#issuecomment-1634736668","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3600","id":1634736668,"node_id":"IC_kwDOACaFSM5hcBoc","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-13T18:53:34Z","updated_at":"2023-07-13T18:53:34Z","author_association":"CONTRIBUTOR","body":"> > I can see both viewpoints. Having metric names change between versions is irritating and could cause issues as monitors / alarms break or change with the version, and could make trending across versions problematic. On the other hand, having a broken metric so that I cannot monitor my system as intended and I can't get it fixed until the next major release does not seem ideal either,\r\n> \r\n> I don't have an opinion about making this change in 2.1 because I don't know enough. I am curious though, want to try to understand the implications. Reading the above point and earlier points it seems like the current metric name is buggy. Is a potential problem with fixing it in 2.1 that someone may have adapted to the buggy name and still have been able to use it?\r\n\r\nThe problem is two-fold. \r\n1. If a user implements a RegistryFactory with a MeterRegistry type that does not support a `_` separator, then there is a possibility that the metric registration will fail. I do not know if this is a graceful failure and would require more testing. \r\n\r\n2. Having a non-compliant separator means that micrometer conversions for metric names could be unpredictable. \r\n    If we provide conversion examples in our documentation but those aren't followed for a couple of metric names then \r\n    that could be problematic. \r\n\r\nI think targeting 2.1 to fix the possible meterRegistry failure is in-scope of a bug fix change. \r\n\r\nOverall I think we may need a better structure for the metric generation to help simplify management and generation of any corresponding documentation. Similarly to how the [Property docs](https://accumulo.apache.org/docs/2.x/configuration/server-properties) are generated.  \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1634736668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635011525","html_url":"https://github.com/apache/accumulo/issues/3472#issuecomment-1635011525","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3472","id":1635011525,"node_id":"IC_kwDOACaFSM5hdEvF","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-13T22:39:16Z","updated_at":"2023-07-13T22:39:16Z","author_association":"CONTRIBUTOR","body":"Also need to remove the concept of internal compactions from the SPI in elasticity branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635011525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635062046","html_url":"https://github.com/apache/accumulo/issues/3594#issuecomment-1635062046","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3594","id":1635062046,"node_id":"IC_kwDOACaFSM5hdREe","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-13T23:44:54Z","updated_at":"2023-07-13T23:44:54Z","author_association":"CONTRIBUTOR","body":"The field is no longer populated after #3604, but the field is still there and need to be remove from thrift and monitor code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635062046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635075737","html_url":"https://github.com/apache/accumulo/issues/3608#issuecomment-1635075737","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3608","id":1635075737,"node_id":"IC_kwDOACaFSM5hdUaZ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T00:08:29Z","updated_at":"2023-07-14T00:08:29Z","author_association":"CONTRIBUTOR","body":"This may be related to #3594, maybe it makes sense to do both in the same PR.  Not sure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635075737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635095220","html_url":"https://github.com/apache/accumulo/issues/3610#issuecomment-1635095220","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3610","id":1635095220,"node_id":"IC_kwDOACaFSM5hdZK0","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T00:41:46Z","updated_at":"2023-07-14T00:41:46Z","author_association":"CONTRIBUTOR","body":"See #3608, #3594, and #3609 also ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635095220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635105054","html_url":"https://github.com/apache/accumulo/issues/3559#issuecomment-1635105054","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3559","id":1635105054,"node_id":"IC_kwDOACaFSM5hdbke","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T00:56:56Z","updated_at":"2023-07-14T00:56:56Z","author_association":"CONTRIBUTOR","body":"Bulk may benefit from this feature as it would allow Fate ops driving bulk imports for user tables to be stored in the metadata table.  For any system with lots of bulk imports, this would take pressure off of ZK.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635105054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635810013","html_url":"https://github.com/apache/accumulo/issues/3596#issuecomment-1635810013","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3596","id":1635810013,"node_id":"IC_kwDOACaFSM5hgHrd","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T12:43:04Z","updated_at":"2023-07-18T14:29:02Z","author_association":"CONTRIBUTOR","body":"If tservers and compactors are running on the same host, then it's possible that `compaction` could still have an effect.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635810013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635836709","html_url":"https://github.com/apache/accumulo/issues/3606#issuecomment-1635836709","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3606","id":1635836709,"node_id":"IC_kwDOACaFSM5hgOMl","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T13:04:52Z","updated_at":"2023-07-14T13:11:29Z","author_association":"CONTRIBUTOR","body":"In general, are there properties (and metrics) that are being removed, are there equivalents in the new code?  We should look to provide a mapping from previous -> new so that users that may need these setting know how to map them to the new equivalent.\r\n\r\n If it is a straight removal - then that should be noted too.\r\n\r\nMaybe we start a section in the release notes that we update as we go along?  It may be easier than trying for identify or remember all of the changes at the end?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635836709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635959619","html_url":"https://github.com/apache/accumulo/issues/3593#issuecomment-1635959619","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3593","id":1635959619,"node_id":"IC_kwDOACaFSM5hgsND","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T14:36:59Z","updated_at":"2023-07-14T14:36:59Z","author_association":"CONTRIBUTOR","body":"So, we could just change the parameter from `tserver` to `server` and update the javadoc. If we remove this method, then there is no way to get the compactions running on a Compactor. Do we need to deprecate this and create a new method for this type of change? I'm thinking not.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1635959619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636008428","html_url":"https://github.com/apache/accumulo/issues/3593#issuecomment-1636008428","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3593","id":1636008428,"node_id":"IC_kwDOACaFSM5hg4Hs","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T15:14:48Z","updated_at":"2023-07-14T15:14:48Z","author_association":"CONTRIBUTOR","body":"#3613 just fixes the existing method in the elasticity branch to use the compactor instead of the tserver. Do we want to cause users of this to break intentionally so that they have to evaluate their code and use a different API method?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636008428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636032898","html_url":"https://github.com/apache/accumulo/pull/3614#issuecomment-1636032898","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3614","id":1636032898,"node_id":"IC_kwDOACaFSM5hg-GC","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T15:34:22Z","updated_at":"2023-07-14T15:37:23Z","author_association":"CONTRIBUTOR","body":"Example output from running the current `splitsWithExistingRangesTest() `where there data is ingested, metadata is manually updated to add 3 ranges for the RFile and exclude some rows, and then add splits and compact:\r\n\r\n\r\n#### Read in initial 1000,000 records and verify\r\n```\r\n100,000 records written |  225,225 records/sec |    3,900,000 bytes written | 8,783,783 bytes/sec |  0.444 secs   \r\n100,000 records read |  289,017 records/sec |    3,900,000 bytes read | 11,271,676 bytes/sec |  0.346 secs   \r\n```\r\n\r\n#### Take table offline and manually updated to fence the RFile so only 75,000 records should be readable\r\n```\r\nRow: 1<; File Name: F0000001.rf; Range: [row_0000000000%00; : [] 9223372036854775807 false,row_0000025000%00; : [] 9223372036854775807 false); Entries: 25000, Size: 5013\r\nRow: 1<; File Name: F0000001.rf; Range: [row_0000050000%00; : [] 9223372036854775807 false,row_0000075000%00; : [] 9223372036854775807 false); Entries: 25000, Size: 5013\r\nRow: 1<; File Name: F0000001.rf; Range: [row_0000075000%00; : [] 9223372036854775807 false,row_0000100000%00; : [] 9223372036854775807 false); Entries: 25000, Size: 5013\r\n```\r\n#### Bring online and verify only 75,000 can be read\r\n```\r\n25,000 records read |  268,817 records/sec |      975,000 bytes read | 10,483,870 bytes/sec |  0.093 secs   \r\n2023-07-14T11:26:13,759 [test.VerifyIngest] WARN : Scan returned nothing, breaking...\r\n50,000 records read |  342,465 records/sec |    1,950,000 bytes read | 13,356,164 bytes/sec |  0.146 secs   \r\n```\r\n#### Add 10 splits, each of 10000 records\r\n```\r\nRow: 1;row_0000010000; File Name: F0000001.rf; Range: [row_0000000000%00; : [] 9223372036854775807 false,row_0000025000%00; : [] 9223372036854775807 false); Entries: 8333, Size: 1671\r\nRow: 1;row_0000020000; File Name: F0000001.rf; Range: [row_0000000000%00; : [] 9223372036854775807 false,row_0000025000%00; : [] 9223372036854775807 false); Entries: 10000, Size: 2005\r\nRow: 1;row_0000030000; File Name: F0000001.rf; Range: [row_0000000000%00; : [] 9223372036854775807 false,row_0000025000%00; : [] 9223372036854775807 false); Entries: 6667, Size: 1338\r\nRow: 1;row_0000060000; File Name: F0000001.rf; Range: [row_0000050000%00; : [] 9223372036854775807 false,row_0000075000%00; : [] 9223372036854775807 false); Entries: 10937, Size: 2193\r\nRow: 1;row_0000070000; File Name: F0000001.rf; Range: [row_0000050000%00; : [] 9223372036854775807 false,row_0000075000%00; : [] 9223372036854775807 false); Entries: 6027, Size: 1208\r\nRow: 1;row_0000080000; File Name: F0000001.rf; Range: [row_0000050000%00; : [] 9223372036854775807 false,row_0000075000%00; : [] 9223372036854775807 false); Entries: 8036, Size: 1612\r\nRow: 1;row_0000080000; File Name: F0000001.rf; Range: [row_0000075000%00; : [] 9223372036854775807 false,row_0000100000%00; : [] 9223372036854775807 false); Entries: 6000, Size: 1202\r\nRow: 1;row_0000090000; File Name: F0000001.rf; Range: [row_0000075000%00; : [] 9223372036854775807 false,row_0000100000%00; : [] 9223372036854775807 false); Entries: 9000, Size: 1805\r\nRow: 1;row_0000100000; File Name: F0000001.rf; Range: [row_0000075000%00; : [] 9223372036854775807 false,row_0000100000%00; : [] 9223372036854775807 false); Entries: 10000, Size: 2006\r\n```\r\n\r\n#### Re-verify only 75,000 can be read\r\n```\r\n25,000 records read |  112,107 records/sec |      975,000 bytes read | 4,372,197 bytes/sec |  0.223 secs   \r\n2023-07-14T11:26:20,456 [test.VerifyIngest] WARN : Scan returned nothing, breaking...\r\n50,000 records read |  109,170 records/sec |    1,950,000 bytes read | 4,257,641 bytes/sec |  0.458 secs   \r\n```\r\n\r\n#### Run a compaction and show output of files\r\n```\r\nRow: 1;row_0000010000; File Name: A000000e.rf; Range: (-inf,+inf); Entries: 10000, Size: 2190\r\nRow: 1;row_0000020000; File Name: A000000f.rf; Range: (-inf,+inf); Entries: 10000, Size: 2204\r\nRow: 1;row_0000030000; File Name: A000000l.rf; Range: (-inf,+inf); Entries: 5000, Size: 1191\r\nRow: 1;row_0000060000; File Name: A000000j.rf; Range: (-inf,+inf); Entries: 10000, Size: 2201\r\nRow: 1;row_0000070000; File Name: A000000k.rf; Range: (-inf,+inf); Entries: 10000, Size: 2201\r\nRow: 1;row_0000080000; File Name: A000000g.rf; Range: (-inf,+inf); Entries: 10000, Size: 2202\r\nRow: 1;row_0000090000; File Name: A000000i.rf; Range: (-inf,+inf); Entries: 10000, Size: 2202\r\nRow: 1;row_0000100000; File Name: A000000h.rf; Range: (-inf,+inf); Entries: 10000, Size: 2222\r\n```\r\n#### Verify after compaction\r\n```\r\n25,000 records read |  112,107 records/sec |      975,000 bytes read | 4,372,197 bytes/sec |  0.223 secs   \r\n2023-07-14T11:26:20,456 [test.VerifyIngest] WARN : Scan returned nothing, breaking...\r\n50,000 records read |  109,170 records/sec |    1,950,000 bytes read | 4,257,641 bytes/sec |  0.458 secs \r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636032898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636065847","html_url":"https://github.com/apache/accumulo/pull/3615#issuecomment-1636065847","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3615","id":1636065847,"node_id":"IC_kwDOACaFSM5hhGI3","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T16:02:38Z","updated_at":"2023-07-14T16:02:38Z","author_association":"CONTRIBUTOR","body":"Clicked too fast, ignore.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636065847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636094288","html_url":"https://github.com/apache/accumulo/issues/3593#issuecomment-1636094288","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3593","id":1636094288,"node_id":"IC_kwDOACaFSM5hhNFQ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T16:26:56Z","updated_at":"2023-07-14T16:26:56Z","author_association":"CONTRIBUTOR","body":"> Do we want to cause users of this to break intentionally so that they have to evaluate their code and use a different API method?\r\n\r\nOne reason to break it is that code like the following would keep compiling, but would no longer do anything.  Not all usages of  getActiveCompactions(String) have to be tightly coupled to InstanceOperations.getTabletServers() but its likely some are.\r\n\r\n```java\r\nvoid someUserMethod(AccumuloClient client, Consumer<ActiveCompaction> acc){\r\n   var io = client.instanceOperations();\r\n   for(String tserver : io.getTabletServers()){\r\n      if(match(tserver)) {\r\n         acc.accept(io.getActiveCompactions(tserver));\r\n      }\r\n   }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636094288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636101124","html_url":"https://github.com/apache/accumulo/issues/3593#issuecomment-1636101124","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3593","id":1636101124,"node_id":"IC_kwDOACaFSM5hhOwE","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T16:32:53Z","updated_at":"2023-07-14T16:33:50Z","author_association":"CONTRIBUTOR","body":"If we had used more specific types in the API than string  in the past then this would be easier to handle at compile time. For example if the API had looked like.\r\n\r\n```java\r\ninterface InstanceOperations {\r\n     Collection<TabletServerAddress> getTabletServers();\r\n     Collection<ActiveCompactions> getActiveCompactions(TabletServerAddress tsa).\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636101124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636106392","html_url":"https://github.com/apache/accumulo/pull/3612#issuecomment-1636106392","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3612","id":1636106392,"node_id":"IC_kwDOACaFSM5hhQCY","user":{"login":"AlbertWhitlock","id":40367659,"node_id":"MDQ6VXNlcjQwMzY3NjU5","avatar_url":"https://avatars.githubusercontent.com/u/40367659?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbertWhitlock","html_url":"https://github.com/AlbertWhitlock","followers_url":"https://api.github.com/users/AlbertWhitlock/followers","following_url":"https://api.github.com/users/AlbertWhitlock/following{/other_user}","gists_url":"https://api.github.com/users/AlbertWhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbertWhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbertWhitlock/subscriptions","organizations_url":"https://api.github.com/users/AlbertWhitlock/orgs","repos_url":"https://api.github.com/users/AlbertWhitlock/repos","events_url":"https://api.github.com/users/AlbertWhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/AlbertWhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T16:37:36Z","updated_at":"2023-07-14T16:45:32Z","author_association":"CONTRIBUTOR","body":"Regarding my commit about data generation:  In TableInformation and TabletServerInformation I generated integers for the running and queued values by using the Math.random() function and then passed those generated numbers to the monitor for testing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636106392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636568144","html_url":"https://github.com/apache/accumulo/issues/3594#issuecomment-1636568144","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3594","id":1636568144,"node_id":"IC_kwDOACaFSM5hjAxQ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-14T23:55:45Z","updated_at":"2023-07-14T23:55:45Z","author_association":"CONTRIBUTOR","body":"The following comments are based on #3618\n \nThe TabletStats also has a split related field that is no longer used. This could be removed.\n\nAlso there is a class in the tablet server module named TabletStatsKeeper. This class does not do much anymore, need to evaluate if its still needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636568144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636576557","html_url":"https://github.com/apache/accumulo/issues/3619#issuecomment-1636576557","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3619","id":1636576557,"node_id":"IC_kwDOACaFSM5hjC0t","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-15T00:12:13Z","updated_at":"2023-07-15T00:12:13Z","author_association":"CONTRIBUTOR","body":"Had a call w/ @ddanielr  to discuss #3551 and we discovered this functionality was now missing.  We were thinking maybe each compactor should now emit metrics about how many compactions its running for the group its in.  Each compactor would emit a 1 or 0 for this metrics and those could be aggregated in the query system.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636576557/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636603110","html_url":"https://github.com/apache/accumulo/pull/3480#issuecomment-1636603110","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3480","id":1636603110,"node_id":"IC_kwDOACaFSM5hjJTm","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-15T01:05:47Z","updated_at":"2023-07-15T01:05:47Z","author_association":"CONTRIBUTOR","body":"@cshannon I had meant to create a PR for 883d3d8b32faf839b98b6f3a604bc0d3f8813302, but accidentally pushed it directly to the no chop branch.  Let me know if you have any feedback for that.  Also I was wondering where you would recommend I put a unit test for StoredTabletFile.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636603110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636603429","html_url":"https://github.com/apache/accumulo/pull/3480#issuecomment-1636603429","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3480","id":1636603429,"node_id":"IC_kwDOACaFSM5hjJYl","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-15T01:06:29Z","updated_at":"2023-07-15T01:06:29Z","author_association":"CONTRIBUTOR","body":"@cshannon I was also wondering if the validation is needed in any other places than where I added it in 883d3d8b32faf839b98b6f3a604bc0d3f8813302","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636603429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636800941","html_url":"https://github.com/apache/accumulo/pull/3480#issuecomment-1636800941","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3480","id":1636800941,"node_id":"IC_kwDOACaFSM5hj5mt","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-15T15:27:01Z","updated_at":"2023-07-15T15:27:01Z","author_association":"CONTRIBUTOR","body":"> @cshannon I had meant to create a PR for [883d3d8](https://github.com/apache/accumulo/commit/883d3d8b32faf839b98b6f3a604bc0d3f8813302), but accidentally pushed it directly to the no chop branch. Let me know if you have any feedback for that. Also I was wondering where you would recommend I put a unit test for StoredTabletFile.\r\n\r\nThis looks good but I think we can probably just move the validation to AbstractTabletFile so I can  move it. I had already added some validation but this looks better. For a test, we can probably just created a StoredTabletFile test class that lives next to where ReferencedTabletFileTest is.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1636800941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638115665","html_url":"https://github.com/apache/accumulo/pull/3591#issuecomment-1638115665","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3591","id":1638115665,"node_id":"IC_kwDOACaFSM5ho6lR","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T13:12:28Z","updated_at":"2023-07-17T13:12:28Z","author_association":"CONTRIBUTOR","body":"In testing the script changes. If no `tserver` element is in the yaml file, then the `accumulo-cluster` script will print an error and exit. If a `tserver` element exists, but either no group exists or no tservers exist in the group, then ClusterConfigParser throws an exception due to the yaml being malformed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638115665/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638128740","html_url":"https://github.com/apache/accumulo/issues/3459#issuecomment-1638128740","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3459","id":1638128740,"node_id":"IC_kwDOACaFSM5ho9xk","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T13:19:05Z","updated_at":"2023-07-17T13:19:05Z","author_association":"CONTRIBUTOR","body":"Closed by #3591 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638128740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638129635","html_url":"https://github.com/apache/accumulo/issues/3536#issuecomment-1638129635","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3536","id":1638129635,"node_id":"IC_kwDOACaFSM5ho9_j","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T13:19:35Z","updated_at":"2023-07-17T13:19:35Z","author_association":"CONTRIBUTOR","body":"Closed by #3591 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638129635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638319399","html_url":"https://github.com/apache/accumulo/pull/3622#issuecomment-1638319399","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3622","id":1638319399,"node_id":"IC_kwDOACaFSM5hpsUn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T14:57:28Z","updated_at":"2023-07-17T14:57:28Z","author_association":"CONTRIBUTOR","body":"Kicked off full IT build","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638319399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638320548","html_url":"https://github.com/apache/accumulo/pull/3622#issuecomment-1638320548","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3622","id":1638320548,"node_id":"IC_kwDOACaFSM5hpsmk","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T14:58:04Z","updated_at":"2023-07-17T14:58:04Z","author_association":"CONTRIBUTOR","body":"@billoley - does this look like what you had in mind?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638320548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638836257","html_url":"https://github.com/apache/accumulo/pull/3622#issuecomment-1638836257","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3622","id":1638836257,"node_id":"IC_kwDOACaFSM5hrqgh","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T20:36:29Z","updated_at":"2023-07-17T20:36:29Z","author_association":"CONTRIBUTOR","body":"Full IT build successful","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638836257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638949731","html_url":"https://github.com/apache/accumulo/issues/3383#issuecomment-1638949731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3383","id":1638949731,"node_id":"IC_kwDOACaFSM5hsGNj","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T22:05:16Z","updated_at":"2023-07-18T00:28:37Z","author_association":"CONTRIBUTOR","body":"Background:  During the upgrade process, properties are processed, renamed and the stored in [DeprecatedPropertyUtil](https://github.com/apache/accumulo/blob/e46cd0e72c366ce9873989930dc25d15e82d90f1/core/src/main/java/org/apache/accumulo/core/conf/DeprecatedPropertyUtil.java#L36)  One interesting thing is the javadoc for [getReplacementName](https://github.com/apache/accumulo/blob/e46cd0e72c366ce9873989930dc25d15e82d90f1/core/src/main/java/org/apache/accumulo/core/conf/DeprecatedPropertyUtil.java#L83C25-L83C25) says:\r\n```\r\nThis is expected to be used only with system properties stored in the SiteConfiguration and ZooConfiguration, and not for per-table or per-namespace configuration in ZooKeeper.\r\n```\r\nWith the property conversion into a single node, all ZooKeeper properties are processed and renamed using a property renamer for the conversion to manager.\r\n\r\nSo that there is one canonical source / value  it seems desirable to keep the properties \"normalized\" with a single name (ideally the \"new\" name) otherwise there could be issues with property hierarchy inheritance.  Using the example `tserver.compaction.major.thread.files.open.max` - the new name is `tserver.compaction.major.service.default.planner.opts.maxOpen` if this was set as a system property it would be converted to the new name. If it was overridden on a table and *NOT* converted, what name would be the correct value to apply to the table?  Performing the conversion removes this ambiguity.\r\n\r\nTo keep a canonical name (the new name) there are (at least) two possible approaches. \r\n  1) Perform the check / conversion each time the property is set and display a warning that the conversion occurred.\r\n  2) Fail the set with an appropriate warning.\r\n\r\nI'll take a run at option 1 unless someone has a better path forward.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638949731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638997001","html_url":"https://github.com/apache/accumulo/pull/3612#issuecomment-1638997001","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3612","id":1638997001,"node_id":"IC_kwDOACaFSM5hsRwJ","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T22:54:05Z","updated_at":"2023-07-17T22:54:05Z","author_association":"CONTRIBUTOR","body":"In practice - (at least for compactions) what will happen if a large number compactions are launched (say compacting a very large table) the number of compactions running with be the running compaction limit and the rest will be queued - so if number of current compactions is set to 3 (used to be the default) you may expect something like \r\n```\r\n3 (12)\r\n3 (11)\r\n3 (7)\r\n3 (0)\r\n2 (1)\r\n2 (0)\r\n1 (0)\r\n```\r\nIf the queued number is the secondary sort, then I expect that these changes would look similar. \r\n\r\nBut, it then comes down to what is \"more important\" is it the running compactions - or the number of queued compactions?  For example, a  server with 0 running compactions and (N) queued compactions - that is an interesting case because something is stalling the queue and preventing compactions from making progress.\r\n\r\nMaybe the sort could be on the number of running + the numbered queued?  Except that may look \"messy\" and not be obvious what the sort was.\r\n\r\n```\r\n0 (50)\r\n3 (40)\r\n2 (12)\r\n3 (10)\r\n1 (1)\r\n1 (0)\r\n0 (1)\r\n0 (0)\r\n```\r\n\r\nI think scans would be similar - what is more interesting from a monitoring / health perspective?  Running scans or queued scans? Sorting by running and a secondary sort on queued is likely to be okay - in a heavily loaded system the running number is likely to be the running limit, and hopefully the number of queued, but stalled should be rare (or transient)\r\n\r\nBut, I did want to point out that from some perspectives, the queued number might be more important gauge of system health. Not sure if there is are good way to portray that though.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1638997001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1639093732","html_url":"https://github.com/apache/accumulo/issues/3383#issuecomment-1639093732","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3383","id":1639093732,"node_id":"IC_kwDOACaFSM5hspXk","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T00:31:38Z","updated_at":"2023-07-18T00:31:38Z","author_association":"CONTRIBUTOR","body":"The previous comment was based on the thought that the rename was handling more that the manager conversion - more investigation is needed. \r\n\r\nFrom a quick look, both version of the compaction file open max are present as a default, and both can be set as a system property, so not sure why the update would not be visible.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1639093732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1639776628","html_url":"https://github.com/apache/accumulo/pull/3551#issuecomment-1639776628","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3551","id":1639776628,"node_id":"IC_kwDOACaFSM5hvQF0","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T08:39:00Z","updated_at":"2023-07-18T08:39:00Z","author_association":"CONTRIBUTOR","body":"Currently the new test added in (CompactionPriorityQueueMetricsIT.java) fails when run. \r\nI believe the check condition is correct and that we may have some unintended behaviors happening when multiple compaction jobs are being submitted to the same queue. \r\n\r\nAlso should all references to queue be swapped for compaction group? The jobs still do function in a queue structure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1639776628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1639983724","html_url":"https://github.com/apache/accumulo/issues/3617#issuecomment-1639983724","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3617","id":1639983724,"node_id":"IC_kwDOACaFSM5hwCps","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T10:44:38Z","updated_at":"2023-07-18T10:44:38Z","author_association":"CONTRIBUTOR","body":"Closed by #3622 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1639983724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640313854","html_url":"https://github.com/apache/accumulo/pull/3626#issuecomment-1640313854","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3626","id":1640313854,"node_id":"IC_kwDOACaFSM5hxTP-","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T14:15:56Z","updated_at":"2023-07-18T14:15:56Z","author_association":"CONTRIBUTOR","body":"Should the javadocs include the `@deprecated` annotation along with the use @link suggestion? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640313854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640347696","html_url":"https://github.com/apache/accumulo/pull/3604#issuecomment-1640347696","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3604","id":1640347696,"node_id":"IC_kwDOACaFSM5hxbgw","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T14:33:37Z","updated_at":"2023-07-18T14:33:37Z","author_association":"CONTRIBUTOR","body":"Does this close #3592?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640347696/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640425745","html_url":"https://github.com/apache/accumulo/pull/3604#issuecomment-1640425745","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3604","id":1640425745,"node_id":"IC_kwDOACaFSM5hxukR","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T15:17:56Z","updated_at":"2023-07-18T15:17:56Z","author_association":"CONTRIBUTOR","body":"> Does this close https://github.com/apache/accumulo/issues/3592?\r\n\r\nYeah I guess it does.  There is still work to do, but its covered by follow on issues. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640425745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640477241","html_url":"https://github.com/apache/accumulo/pull/3588#issuecomment-1640477241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3588","id":1640477241,"node_id":"IC_kwDOACaFSM5hx7I5","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T15:40:58Z","updated_at":"2023-07-18T15:40:58Z","author_association":"CONTRIBUTOR","body":"I decided to add a unit test that covers some of the changes.  After a successful build I will merge this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640477241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640920004","html_url":"https://github.com/apache/accumulo/pull/3629#issuecomment-1640920004","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3629","id":1640920004,"node_id":"IC_kwDOACaFSM5hznPE","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T20:02:14Z","updated_at":"2023-07-18T20:02:14Z","author_association":"CONTRIBUTOR","body":"This change stemmed from this [comment](https://github.com/apache/accumulo/pull/3460#discussion_r1224202846) and #3628. I did not see a good way to remove objects from the Caches using the LowMemoryDetector, so I punted on that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640920004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640938699","html_url":"https://github.com/apache/accumulo/pull/3626#issuecomment-1640938699","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3626","id":1640938699,"node_id":"IC_kwDOACaFSM5hzrzL","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-18T20:18:50Z","updated_at":"2023-07-18T20:18:50Z","author_association":"CONTRIBUTOR","body":"> Should the javadocs include the `@deprecated` annotation along with the use @link suggestion?\r\n\r\nI can add that. I'm going to wait to see if I get other comments before making this change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1640938699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1641253626","html_url":"https://github.com/apache/accumulo/issues/3632#issuecomment-1641253626","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3632","id":1641253626,"node_id":"IC_kwDOACaFSM5h04r6","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T01:33:46Z","updated_at":"2023-07-19T01:34:14Z","author_association":"CONTRIBUTOR","body":"Ran into this while working on #3625.  Plan to remove the volume replacement code from the tablet as part of those changes because it no longer makes sense there and requires work to update the existing code in tablet. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1641253626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1641453640","html_url":"https://github.com/apache/accumulo/issues/3635#issuecomment-1641453640","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3635","id":1641453640,"node_id":"IC_kwDOACaFSM5h1phI","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T05:46:04Z","updated_at":"2023-07-19T05:46:04Z","author_association":"CONTRIBUTOR","body":"This ticket should be added to the elasticity project. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1641453640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1641493055","html_url":"https://github.com/apache/accumulo/pull/3551#issuecomment-1641493055","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3551","id":1641493055,"node_id":"IC_kwDOACaFSM5h1zI_","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T06:28:35Z","updated_at":"2023-07-19T06:28:35Z","author_association":"CONTRIBUTOR","body":"> Currently the new test added in (CompactionPriorityQueueMetricsIT.java) fails when run. I believe the check condition is correct and that we may have some unintended behaviors happening when multiple compaction jobs are being submitted to the same queue.\r\n> \r\n> Also should all references to queue be swapped for compaction group? The jobs still do function in a queue structure.\r\n\r\nDiscussed this with @keith-turner and discovered the issue was with my setup of the tablets and split points. \r\nTest was corrected to have more tablets than queue slots and it is now passing. \r\n\r\nAdditional checks were added to validate specific metrics values.\r\n\r\n#3635 was also created to eventually replace a property that was added for setting a PriorityQueue's maxSize. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1641493055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642152044","html_url":"https://github.com/apache/accumulo/pull/3634#issuecomment-1642152044","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3634","id":1642152044,"node_id":"IC_kwDOACaFSM5h4UBs","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T14:03:55Z","updated_at":"2023-07-19T14:03:55Z","author_association":"CONTRIBUTOR","body":"FYI - it looks like spot bugs flagged:\r\n\r\n```\r\nMedium: org.apache.accumulo.tserver.tablet.Tablet.refreshMetadata(Tablet$RefreshPurpose) does not release lock on all exception paths [org.apache.accumulo.tserver.tablet.Tablet] At Tablet.java:[line 1418] UL_UNRELEASED_LOCK_EXCEPTION_PATH\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642152044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642182917","html_url":"https://github.com/apache/accumulo/issues/3636#issuecomment-1642182917","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3636","id":1642182917,"node_id":"IC_kwDOACaFSM5h4bkF","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T14:21:54Z","updated_at":"2023-07-19T14:21:54Z","author_association":"MEMBER","body":"The goal of this ticket seem similar to #3575 where a custom TypeAdapter was used to serialized/deserialize the object for consistency. I'm not sure if a similar approach would help in this case but thought I should point it out just in case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642182917/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642346440","html_url":"https://github.com/apache/accumulo/pull/3631#issuecomment-1642346440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3631","id":1642346440,"node_id":"IC_kwDOACaFSM5h5DfI","user":{"login":"keith-ratcliffe","id":1606834,"node_id":"MDQ6VXNlcjE2MDY4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1606834?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-ratcliffe","html_url":"https://github.com/keith-ratcliffe","followers_url":"https://api.github.com/users/keith-ratcliffe/followers","following_url":"https://api.github.com/users/keith-ratcliffe/following{/other_user}","gists_url":"https://api.github.com/users/keith-ratcliffe/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-ratcliffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-ratcliffe/subscriptions","organizations_url":"https://api.github.com/users/keith-ratcliffe/orgs","repos_url":"https://api.github.com/users/keith-ratcliffe/repos","events_url":"https://api.github.com/users/keith-ratcliffe/events{/privacy}","received_events_url":"https://api.github.com/users/keith-ratcliffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T15:52:28Z","updated_at":"2023-07-19T15:52:28Z","author_association":"CONTRIBUTOR","body":"Same bug [here](https://github.com/apache/accumulo/blob/2.1/core/src/main/java/org/apache/accumulo/core/clientImpl/ClientContext.java#L436) which I missed, for conditional writer timeout. The test uses an prop value of \"17\" (defaulting to time unit of SECONDS) and then [asserts that 17000 seconds is expected](https://github.com/apache/accumulo/blob/2.1/core/src/test/java/org/apache/accumulo/core/clientImpl/ClientContextTest.java#L219)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642346440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642452805","html_url":"https://github.com/apache/accumulo/issues/3233#issuecomment-1642452805","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3233","id":1642452805,"node_id":"IC_kwDOACaFSM5h5ddF","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T17:08:04Z","updated_at":"2023-07-19T17:08:04Z","author_association":"CONTRIBUTOR","body":"Fixed with PR #3562.  Adds --exclude-parent as an option to the --copy-config option in createtable and createnamespace.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642452805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642513840","html_url":"https://github.com/apache/accumulo/pull/3631#issuecomment-1642513840","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3631","id":1642513840,"node_id":"IC_kwDOACaFSM5h5sWw","user":{"login":"keith-ratcliffe","id":1606834,"node_id":"MDQ6VXNlcjE2MDY4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1606834?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-ratcliffe","html_url":"https://github.com/keith-ratcliffe","followers_url":"https://api.github.com/users/keith-ratcliffe/followers","following_url":"https://api.github.com/users/keith-ratcliffe/following{/other_user}","gists_url":"https://api.github.com/users/keith-ratcliffe/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-ratcliffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-ratcliffe/subscriptions","organizations_url":"https://api.github.com/users/keith-ratcliffe/orgs","repos_url":"https://api.github.com/users/keith-ratcliffe/repos","events_url":"https://api.github.com/users/keith-ratcliffe/events{/privacy}","received_events_url":"https://api.github.com/users/keith-ratcliffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T17:56:21Z","updated_at":"2023-07-19T17:56:21Z","author_association":"CONTRIBUTOR","body":"Rebased/squash commit now includes the fix for CONDITIONAL_WRITER_TIMEOUT_MAX and also cleanup/refinement of the affected junits in ClientContextTest","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642513840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642639607","html_url":"https://github.com/apache/accumulo/issues/3633#issuecomment-1642639607","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3633","id":1642639607,"node_id":"IC_kwDOACaFSM5h6LD3","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T19:27:19Z","updated_at":"2023-07-19T19:27:19Z","author_association":"CONTRIBUTOR","body":"`ZooKeeper.getSessionId` javadoc:\r\n\r\n```\r\npublic long getSessionId()\r\nThe session id for this ZooKeeper client instance. The value returned is not valid until the client connects to a server and may change after a re-connect. This method is NOT thread safe\r\nReturns:\r\ncurrent session id\r\n```\r\n\r\nIt seems that calling `ZooKeeper.getSessionId` may give the wrong answer if the ZooKeeper client reconnects to the server.  It might be best to get the SessionId right after creating the ServiceLock and use that for the life of the TabletServer.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642639607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642691007","html_url":"https://github.com/apache/accumulo/issues/3624#issuecomment-1642691007","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3624","id":1642691007,"node_id":"IC_kwDOACaFSM5h6Xm_","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T20:12:32Z","updated_at":"2023-07-19T20:12:32Z","author_association":"CONTRIBUTOR","body":"Looking further I think that ScanServer and Compactor could also host the ClientService. This would allowany non-management (Manager, GC, Monitor) server to authenticate users, provide configuration, support `ping`, etc.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642691007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642851138","html_url":"https://github.com/apache/accumulo/pull/3639#issuecomment-1642851138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3639","id":1642851138,"node_id":"IC_kwDOACaFSM5h6-tC","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T22:31:23Z","updated_at":"2023-07-19T22:31:23Z","author_association":"CONTRIBUTOR","body":"Created this IT for testing #3634, however realized its good for 2.1.X and #3573 to stress read patterns the metadata table relies on, so decided to create it in 2.1 and merge it forward to elasticity.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642851138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642971754","html_url":"https://github.com/apache/accumulo/issues/3635#issuecomment-1642971754","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3635","id":1642971754,"node_id":"IC_kwDOACaFSM5h7cJq","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-20T01:28:39Z","updated_at":"2023-07-20T01:28:39Z","author_association":"CONTRIBUTOR","body":"This could be specified by a property or it could be something that a compaction planner plugin could set by calling SPI methods.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642971754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642993020","html_url":"https://github.com/apache/accumulo/pull/3551#issuecomment-1642993020","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3551","id":1642993020,"node_id":"IC_kwDOACaFSM5h7hV8","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-20T01:59:07Z","updated_at":"2023-07-20T01:59:07Z","author_association":"CONTRIBUTOR","body":"@ddanielr are you ready to merge this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642993020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642993721","html_url":"https://github.com/apache/accumulo/pull/3551#issuecomment-1642993721","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3551","id":1642993721,"node_id":"IC_kwDOACaFSM5h7hg5","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-20T02:00:14Z","updated_at":"2023-07-20T02:00:14Z","author_association":"CONTRIBUTOR","body":"Yes. I believe it's in a good state. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1642993721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643002482","html_url":"https://github.com/apache/accumulo/pull/3551#issuecomment-1643002482","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3551","id":1643002482,"node_id":"IC_kwDOACaFSM5h7jpy","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-20T02:11:36Z","updated_at":"2023-07-20T02:11:36Z","author_association":"CONTRIBUTOR","body":"ok, I will merge if the build passes","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643002482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643786405","html_url":"https://github.com/apache/accumulo/pull/3639#issuecomment-1643786405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3639","id":1643786405,"node_id":"IC_kwDOACaFSM5h-jCl","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-20T11:53:04Z","updated_at":"2023-07-20T11:53:04Z","author_association":"CONTRIBUTOR","body":"This test is a great idea","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643786405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643793485","html_url":"https://github.com/apache/accumulo/pull/3631#issuecomment-1643793485","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3631","id":1643793485,"node_id":"IC_kwDOACaFSM5h-kxN","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-20T11:58:39Z","updated_at":"2023-07-20T11:58:39Z","author_association":"CONTRIBUTOR","body":"@keith-ratcliffe - Thanks for your contribution. I see this is your first time contributing. Feel free to put up a PR on https://github.com/apache/accumulo-website to add yourself to the people page.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643793485/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643882069","html_url":"https://github.com/apache/accumulo/pull/3641#issuecomment-1643882069","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3641","id":1643882069,"node_id":"IC_kwDOACaFSM5h-6ZV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-20T12:58:46Z","updated_at":"2023-07-20T13:00:56Z","author_association":"CONTRIBUTOR","body":"The HostRegexTableLoadBalancer (HRTLB) allows the user to define regular expressions (for hostname or ip) for tables. HRTLB creates groups based on these regexes, with a default group containing tservers that do not match any regex. HRTLB passes only the tservers in the table's group to the tablet load balancer when performing assignments or balancing.\r\n\r\nIn the elasticity branch we have `(tserver|sserver|compactor).group` properties that can be used to assign specific processes to logical groups of resources. `sserver.group` has existed since 2.1. `compactor.queue` was added in 2.1, but renamed to `compactor.group` in elasticity. `tserver.group` was created in elasticity. If not assigned a group, a default group is assigned to these server components. TableLoadBalancer was modified in elasticity to be group aware, allowing a user to configure a table to be assigned to tservers with a specific group name.\r\n\r\nI don't know how useful HRTLB will be in an orchestrated (k8s-like) environment as tservers could be moved on-demand.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1643882069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1645964040","html_url":"https://github.com/apache/accumulo/pull/3613#issuecomment-1645964040","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3613","id":1645964040,"node_id":"IC_kwDOACaFSM5iG2sI","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T16:36:32Z","updated_at":"2023-07-21T16:36:32Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #3626 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1645964040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1645985243","html_url":"https://github.com/apache/accumulo/pull/3639#issuecomment-1645985243","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3639","id":1645985243,"node_id":"IC_kwDOACaFSM5iG73b","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T16:51:15Z","updated_at":"2023-07-21T16:51:15Z","author_association":"CONTRIBUTOR","body":"I added merge, bulk import, compaction filtering, and batch scan to the test in 7cbc635.  I also added some debugging tips based on a problem I ran into where bulk importing deletes was causing the test to fail.  Spent hours trying to track down the cause and finally developed a technique that made tracking the problem down really quick.  I documented the technique [in the code](https://github.com/apache/accumulo/blob/7cbc6356fecb569a713094dba779f5e54c9301c9/test/src/main/java/org/apache/accumulo/test/ScanConsistencyIT.java#L93-L108) and left a [utility method](https://github.com/apache/accumulo/blob/7cbc6356fecb569a713094dba779f5e54c9301c9/test/src/main/java/org/apache/accumulo/test/ScanConsistencyIT.java#L668-L696) related to the technique in the test.\r\n\r\nThe problem I ran into is documented [here in the test](https://github.com/apache/accumulo/blob/7cbc6356fecb569a713094dba779f5e54c9301c9/test/src/main/java/org/apache/accumulo/test/ScanConsistencyIT.java#L488-L496).  The problem is caused by the fact that major compactions no longer force a flush, this is a change made some time in the past, trying to find an issue for that.  Not flushing before a full major compaction is ok when only doing live ingest or only doing bulk import, but for a mix of bulk import and live ingest not flushing before full major compaction has a consequence as I discovered in the test.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1645985243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646039032","html_url":"https://github.com/apache/accumulo/issues/3646#issuecomment-1646039032","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3646","id":1646039032,"node_id":"IC_kwDOACaFSM5iHI_4","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T17:39:53Z","updated_at":"2023-07-21T17:39:53Z","author_association":"MEMBER","body":"As a long running test, would this be more fitting to move to AccumuloTesting? Or do you think it should stay here?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646039032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646064384","html_url":"https://github.com/apache/accumulo/issues/3646#issuecomment-1646064384","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3646","id":1646064384,"node_id":"IC_kwDOACaFSM5iHPMA","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T18:03:50Z","updated_at":"2023-07-21T18:04:21Z","author_association":"CONTRIBUTOR","body":"> As a long running test, would this be more fitting to move to AccumuloTesting? Or do you think it should stay here?\r\n\r\nI think its nice to have as an IT that stresses a lot of functionality together that's always expected to work (that is why I added it as a sunny day test).  So I think its nice to leave it here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646064384/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646319966","html_url":"https://github.com/apache/accumulo/pull/3638#issuecomment-1646319966","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3638","id":1646319966,"node_id":"IC_kwDOACaFSM5iINle","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T22:55:32Z","updated_at":"2023-07-21T22:55:32Z","author_association":"CONTRIBUTOR","body":"I went ahead and merged this because I have some changes that build on it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646319966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646323644","html_url":"https://github.com/apache/accumulo/pull/3638#issuecomment-1646323644","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3638","id":1646323644,"node_id":"IC_kwDOACaFSM5iIOe8","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T23:03:24Z","updated_at":"2023-07-21T23:03:24Z","author_association":"CONTRIBUTOR","body":"Opened #3647 to use this new cached session id in a few places that were calling the method to get it from ZK.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1646323644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1647964244","html_url":"https://github.com/apache/accumulo/pull/3644#issuecomment-1647964244","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3644","id":1647964244,"node_id":"IC_kwDOACaFSM5iOfBU","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T13:54:12Z","updated_at":"2023-07-24T13:55:26Z","author_association":"CONTRIBUTOR","body":"@keith-turner - would running your new scan consistency test for an extended period also stress these lock changes?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1647964244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648331649","html_url":"https://github.com/apache/accumulo/issues/3649#issuecomment-1648331649","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3649","id":1648331649,"node_id":"IC_kwDOACaFSM5iP4uB","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T17:38:14Z","updated_at":"2023-07-24T17:38:14Z","author_association":"CONTRIBUTOR","body":"Ideas from the discussion regarding this topic:\r\n\r\n1. We could remove the graphs entirely from the Monitor and users could use existing tools (e.g. Grafana)\r\n2. We could modify the Monitor to contain a metrics sink and buffer about an hour of the metrics considering that the graphs only show an hour of data.\r\n\r\n(2) allows us to keep some of the same functionality that the Monitor provides (REST endpoints, graphs, etc.) and would allow us to remove all of the special metric handling in the servers that support the monitor.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648331649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648334922","html_url":"https://github.com/apache/accumulo/issues/3649#issuecomment-1648334922","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3649","id":1648334922,"node_id":"IC_kwDOACaFSM5iP5hK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T17:40:52Z","updated_at":"2023-07-24T17:40:52Z","author_association":"MEMBER","body":"I wouldn't want to rely on InfluxDB as a dependency. But, I think that we could configure a lightweight aggregation service for micrometer that can be configured in the metrics configuration, that simply sends metrics to the monitor via a REST endpoint, so the monitor can draw graphs using that. That is how the monitor log aggregation works today (in 2.1), and I think it works well. Alternatively, we just get rid of the graphs on the monitor, but I think people would miss them, because they probably do add some value, albeit not the same level of value as a full fledged metrics aggregation service.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648334922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648361531","html_url":"https://github.com/apache/accumulo/issues/3602#issuecomment-1648361531","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3602","id":1648361531,"node_id":"IC_kwDOACaFSM5iQAA7","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T18:01:09Z","updated_at":"2023-07-24T18:01:09Z","author_association":"MEMBER","body":"Closing as completed via #3642","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648361531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648496928","html_url":"https://github.com/apache/accumulo/issues/3649#issuecomment-1648496928","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3649","id":1648496928,"node_id":"IC_kwDOACaFSM5iQhEg","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T19:35:34Z","updated_at":"2023-07-24T21:28:30Z","author_association":"CONTRIBUTOR","body":"The following comment is an attempt to summarize a discussion around this issue.\r\n\r\nThe manager currently has as custom process that periodically contacts all tservers via a thrift method call to obtain metrics and check if the tserver is alive.  In addition to removing the custom thrift metrics, the custom liveness check could also be removed and replaced with documentation on how to use metrics to check process health.  Then uses could kill unhealthy processes in many different system dependent ways.  This would likely be much more effective at keeping an Accumulo instance healthy.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648496928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648504696","html_url":"https://github.com/apache/accumulo/issues/3649#issuecomment-1648504696","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3649","id":1648504696,"node_id":"IC_kwDOACaFSM5iQi94","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T19:42:31Z","updated_at":"2023-07-24T19:42:31Z","author_association":"CONTRIBUTOR","body":"Old issue that touched on metrics for monitoring - issue #946 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648504696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648507684","html_url":"https://github.com/apache/accumulo/pull/3644#issuecomment-1648507684","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3644","id":1648507684,"node_id":"IC_kwDOACaFSM5iQjsk","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T19:45:07Z","updated_at":"2023-07-24T19:45:07Z","author_association":"CONTRIBUTOR","body":"Full IT build passed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1648507684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1649680070","html_url":"https://github.com/apache/accumulo/pull/3652#issuecomment-1649680070","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3652","id":1649680070,"node_id":"IC_kwDOACaFSM5iVB7G","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T11:49:30Z","updated_at":"2023-07-25T11:49:30Z","author_association":"CONTRIBUTOR","body":"> The test CompactionIT.testErrorDuringUserCompaction() was timing out. The test would create a tablet with 1000 files. These would compact in batches of 10 files at a time with a 4 or 5 seconds between each compaction. So this could take 400 to 500 seconds. The few second delay between compactions comes from waiting for the manager to scan the metadata table again. When compactions ran in the tablet server it would immediately start another compaction when one finished.\r\n\r\nThis is likely due to the value of `MANAGER_TABLET_GROUP_WATCHER_INTERVAL` which is set to 5s.\r\n\r\nOverall, this is a side effect of moving compactions to the Manager. It sounds like the TGW is only queueing up 1 compaction per tablet per iteration. Is that the case? While lowering the files or the watcher interval will get the test to work, I wonder if that is the right fix here.\r\n\r\nMy concern is the behavior on large systems where it may take several minutes for the TGW to evaluate a Tablet again.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1649680070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1649747269","html_url":"https://github.com/apache/accumulo/pull/3652#issuecomment-1649747269","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3652","id":1649747269,"node_id":"IC_kwDOACaFSM5iVSVF","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T12:30:27Z","updated_at":"2023-07-25T12:30:27Z","author_association":"CONTRIBUTOR","body":"I was able to get the test runtime down to 180s by applying a change from another PR that I have open. In #3653 this change allows tests to override `MANAGER_TABLET_GROUP_WATCHER_INTERVAL` from the default of 5s. Setting this to 5ms (or 10ms) was enough to get the test time down to 180s. I also added a change to make the Compactor job wait time configurable. This change had no effect on the test runtime, but I think is good to add anyway. I think #3653 should be applied instead of this PR, but I still have questions about systems with a large number of tablets.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1649747269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650071942","html_url":"https://github.com/apache/accumulo/pull/3652#issuecomment-1650071942","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3652","id":1650071942,"node_id":"IC_kwDOACaFSM5iWhmG","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T15:35:16Z","updated_at":"2023-07-25T15:35:16Z","author_association":"CONTRIBUTOR","body":"> I think https://github.com/apache/accumulo/pull/3653 should be applied instead of this PR, but I still have questions about systems with a large number of tablets.\r\n\r\nThat makes sense,  I will hold off on this PR.  One concern I have is that the primary purpose of this test is not to exercise a large number of files.  I am going to either add a comment about the secondary purpose of this test, or create a new test that is focused on a large number of files if I think of additional verifications that are needed for a large number of files.\r\n\r\n> I think https://github.com/apache/accumulo/pull/3653 should be applied instead of this PR, but I still have questions about systems with a large number of tablets.\r\n\r\nI also opened issue #3655 and plan to look into that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650071942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650148155","html_url":"https://github.com/apache/accumulo/pull/3644#issuecomment-1650148155","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3644","id":1650148155,"node_id":"IC_kwDOACaFSM5iW0M7","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T16:20:27Z","updated_at":"2023-07-25T16:20:27Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - would running your new scan consistency test for an extended period also stress these lock changes?\r\n\r\nThe test will definitely stress the read method modified in this PR.  However I do not think it will stress the close method. \r\n\r\nI think to stress this the test would need to do the following\r\n\r\n 1. Start a scan over range x to +inf\r\n 2. Do not read all data, leaving a scan session on the tserver to be cleaned up\r\n\r\nI don't think the test does this, but it should if it does not.  Some of its scans should randomly be open ended and not read all the data.  On a long running test this would trigger the session clean up that calls close on an idle session.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650148155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650218677","html_url":"https://github.com/apache/accumulo/pull/3644#issuecomment-1650218677","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3644","id":1650218677,"node_id":"IC_kwDOACaFSM5iXFa1","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T17:08:42Z","updated_at":"2023-07-25T17:08:42Z","author_association":"CONTRIBUTOR","body":"@EdColeman I created #3656 to add an open ended scan to the test.  However I am not sure if will leave a scan session open on the tserver.  A scan may have to not read all data from a scanner and not close the scanner to leave a scan session open.  I am not sure though.  Wonder if the test should randomly not close scanners also.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650218677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650324510","html_url":"https://github.com/apache/accumulo/pull/3652#issuecomment-1650324510","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3652","id":1650324510,"node_id":"IC_kwDOACaFSM5iXfQe","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T18:22:29Z","updated_at":"2023-07-25T18:22:29Z","author_association":"CONTRIBUTOR","body":"#3653 is merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650324510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650527872","html_url":"https://github.com/apache/accumulo/pull/3629#issuecomment-1650527872","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3629","id":1650527872,"node_id":"IC_kwDOACaFSM5iYQ6A","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T20:40:22Z","updated_at":"2023-07-25T20:40:22Z","author_association":"MEMBER","body":"It looks like this targeted the elasticity branch, but is not directly related to elasticity, and could be incorporated into the main branch. Is there another ticket that does this? Is there a reason only elasticity branch was targeted?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650527872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650533373","html_url":"https://github.com/apache/accumulo/issues/3633#issuecomment-1650533373","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3633","id":1650533373,"node_id":"IC_kwDOACaFSM5iYSP9","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T20:43:10Z","updated_at":"2023-07-25T20:43:10Z","author_association":"MEMBER","body":"Looks like this was closed with #3638 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650533373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650541681","html_url":"https://github.com/apache/accumulo/pull/3629#issuecomment-1650541681","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3629","id":1650541681,"node_id":"IC_kwDOACaFSM5iYURx","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T20:50:12Z","updated_at":"2023-07-25T20:50:12Z","author_association":"CONTRIBUTOR","body":"There is not another ticket for it. Elasticity was targeted because `main` is basically frozen for release and there is no 3.1 branch. I figured that it can be backported if someone wanted to do that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1650541681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652283725","html_url":"https://github.com/apache/accumulo/issues/3660#issuecomment-1652283725","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3660","id":1652283725,"node_id":"IC_kwDOACaFSM5ie9lN","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:16:16Z","updated_at":"2023-07-26T18:16:16Z","author_association":"CONTRIBUTOR","body":"It has been discussed to look into using Java Records (jdk-14?) when we can to avoid the serialization issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652283725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652311037","html_url":"https://github.com/apache/accumulo/issues/3660#issuecomment-1652311037","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3660","id":1652311037,"node_id":"IC_kwDOACaFSM5ifEP9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:39:00Z","updated_at":"2023-07-26T18:39:00Z","author_association":"CONTRIBUTOR","body":"> It has been discussed to look into using Java Records (jdk-14?) when we can to avoid the serialization issue.\r\n\r\nIt would be good to move away from java serialization in Fate.  Json+Gson would be nice or if Java records works that would be nice.  While we are using java serialization it would be good to make it more strict.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652311037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652315014","html_url":"https://github.com/apache/accumulo/issues/3658#issuecomment-1652315014","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3658","id":1652315014,"node_id":"IC_kwDOACaFSM5ifFOG","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:42:29Z","updated_at":"2023-07-26T18:42:29Z","author_association":"CONTRIBUTOR","body":"Java serialization is a bit iffy from a security perspective, thinking about this led to opening #3660.  Could possibly use json for this with something like the following and we can limit the classes.\r\n\r\n```json\r\n{\r\n   \"class\":\"fully qualified name of class to deser\"\r\n   \"data\":{\"data the above class knows how to deser using gson\"}\r\n}\r\n```\r\n\r\nWe could also consider using this new generic system for walog sorting.  We currently have [DistributedWorkQueue](https://github.com/apache/accumulo/blob/main/server/base/src/main/java/org/apache/accumulo/server/zookeeper/DistributedWorkQueue.java) that facilitates farming walog sort work out to tservers.  It might be nice to move that functionality out of ZK as it would remove a source of ZK writes.\r\n\r\n[This code](https://github.com/apache/accumulo/blob/79229e192006b7cf1a4d55287b4ddc98617f611d/server/manager/src/main/java/org/apache/accumulo/manager/split/SplitTask.java#L71) is where the manager actually opens up data files to find a split point.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652315014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652329530","html_url":"https://github.com/apache/accumulo/issues/3472#issuecomment-1652329530","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3472","id":1652329530,"node_id":"IC_kwDOACaFSM5ifIw6","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:54:57Z","updated_at":"2023-07-26T22:49:12Z","author_association":"CONTRIBUTOR","body":"@keith-turner I can work on this as prep step for #3635 and #3547 as it would cleanup the remaining code that needs to be modified.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652329530/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652329650","html_url":"https://github.com/apache/accumulo/issues/3658#issuecomment-1652329650","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3658","id":1652329650,"node_id":"IC_kwDOACaFSM5ifIyy","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:55:04Z","updated_at":"2023-07-26T18:57:37Z","author_association":"CONTRIBUTOR","body":"> Java serialization is a bit iffy from a security perspective\r\n\r\nRight, so I didn't specify implementation, but I was surely thinking of using Kryo to turn the Java object into a byte array and then pass that over Thrift using `list<byte>`. I don't have the API fully fleshed out, but if you passed the opid, java class name, and serialized object over the wire, that might be enough to facilitate a generic api.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652329650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652405870","html_url":"https://github.com/apache/accumulo/issues/3605#issuecomment-1652405870","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3605","id":1652405870,"node_id":"IC_kwDOACaFSM5ifbZu","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T19:53:09Z","updated_at":"2023-07-26T19:53:09Z","author_association":"CONTRIBUTOR","body":"I can look into why the merge code is splitting later this week as I'm already in that code anyways with #1327 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1652405870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1653972750","html_url":"https://github.com/apache/accumulo/issues/3512#issuecomment-1653972750","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3512","id":1653972750,"node_id":"IC_kwDOACaFSM5ilZ8O","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T16:39:15Z","updated_at":"2023-07-27T16:39:15Z","author_association":"CONTRIBUTOR","body":"I talked with @ivakegg , he said we are good to close this and they will open a new issue if needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1653972750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1653995855","html_url":"https://github.com/apache/accumulo/issues/3552#issuecomment-1653995855","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3552","id":1653995855,"node_id":"IC_kwDOACaFSM5ilflP","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T16:55:21Z","updated_at":"2023-07-27T16:55:21Z","author_association":"CONTRIBUTOR","body":"I talked with @ivakegg , he said we are good to close this and they will open a new issue if needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1653995855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654384648","html_url":"https://github.com/apache/accumulo/pull/3659#issuecomment-1654384648","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3659","id":1654384648,"node_id":"IC_kwDOACaFSM5im-gI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T19:21:24Z","updated_at":"2023-07-27T19:21:24Z","author_association":"MEMBER","body":"This PR doesn't seem to be triggering the GitHub Actions CI checks for some reason. Not really sure what's going on there.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654384648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654479096","html_url":"https://github.com/apache/accumulo/pull/3652#issuecomment-1654479096","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3652","id":1654479096,"node_id":"IC_kwDOACaFSM5inVj4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T20:03:45Z","updated_at":"2023-07-27T20:03:45Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I think we can merge #3662 and close this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654479096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654485060","html_url":"https://github.com/apache/accumulo/issues/3517#issuecomment-1654485060","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3517","id":1654485060,"node_id":"IC_kwDOACaFSM5inXBE","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T20:08:06Z","updated_at":"2023-07-27T20:08:06Z","author_association":"MEMBER","body":"Should be closed with #3578 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654485060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654488812","html_url":"https://github.com/apache/accumulo/issues/3519#issuecomment-1654488812","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3519","id":1654488812,"node_id":"IC_kwDOACaFSM5inX7s","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T20:10:05Z","updated_at":"2023-07-27T20:10:05Z","author_association":"MEMBER","body":"This was fixed by #3567 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654488812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654545451","html_url":"https://github.com/apache/accumulo/pull/3652#issuecomment-1654545451","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3652","id":1654545451,"node_id":"IC_kwDOACaFSM5inlwr","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T20:46:16Z","updated_at":"2023-07-27T20:46:16Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - I think we can merge https://github.com/apache/accumulo/pull/3662 and close this.\r\n\r\n@dlmarion In commit 97b08d0b32f0d173e27dcb1dd46dc6080bd2cdef I added a comment about the secondary purpose of the test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654545451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654571481","html_url":"https://github.com/apache/accumulo/issues/3559#issuecomment-1654571481","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3559","id":1654571481,"node_id":"IC_kwDOACaFSM5insHZ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T20:58:20Z","updated_at":"2023-07-27T20:58:20Z","author_association":"MEMBER","body":"> @ctubbsii I think using records for serialization deserves its own issue if it does not have one.\r\n\r\nIt was mentioned on https://github.com/apache/accumulo/issues/2473#issuecomment-1033230922, which is an overarching issue about refactoring FATE. This issue and that one probably overlap a lot, as they are both very high level and not clear on details. There may be smaller bits that can be separated out and worked on independently. However, I don't want to create any new issues, given that there's already 2 broadly themed ones, and it's not clear what the path forward is going to be. I think the ideas between the two tickets need to be thought through, so a clear design can be proposed. At that point, it might make sense to create sub-issues to track the individual tasks as part of working towards the overall goal.\r\n\r\nAnother thing to consider: we have a whole `accumulo.*` namespace. If the metadata isn't appropriate, then it's possible another table in that namespace could be... as long as we don't create any bootstrapping issues between which tables come online first.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654571481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654584276","html_url":"https://github.com/apache/accumulo/issues/3663#issuecomment-1654584276","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3663","id":1654584276,"node_id":"IC_kwDOACaFSM5invPU","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:05:05Z","updated_at":"2023-07-27T21:06:19Z","author_association":"CONTRIBUTOR","body":"The easiest solution to implement for this problem it to have the manager host any tablets it sees in this condition.  Discussed a possibly more elegant solution with @dlmarion  which is the following.\n\n 1. Move the recovery code out of the Tablet constructor into independently callable code.\n 2. Make tablet log recovery an operation tablet servers could execute independent of hosting a tablet\n 3. Make the manager schedule tablet log recovery operations when needed, even if a tablet does not need to be hosted.\n 4. Make the manager only try to assign tablets w/o walogs\n 5. Make the tablet sever refuse to host any tablet w/ walogs\n\nIf possible in the above solution it would be nice if walog data could be read directly from the walog and written to an rfile for log recovery.  The current log recovery code in the tablet loads the recovered data into memory and then minor compacts.  Would still need to pass the data through the tablets configured iterators either way.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654584276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654606194","html_url":"https://github.com/apache/accumulo/issues/3559#issuecomment-1654606194","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3559","id":1654606194,"node_id":"IC_kwDOACaFSM5in0ly","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:24:10Z","updated_at":"2023-07-27T21:24:10Z","author_association":"CONTRIBUTOR","body":"> This issue and that one probably overlap a lot, as they are both very high level and not clear on details.\r\n\r\nI think this issue is very narrowly defined, its about making FATEs storage more scalable so that FATE can be used more frequently than it is currently used.  Below are the details and background.\r\n\r\n * All writes to zookeeper must go through a single server with a single write ahead log and then be pushed to a quorum of other servers.  Therefore writes to ZK are not scalable (ZK is more scalable on the read side).\r\n * FATE operations can be write heavy ZK operations.  This could negatively impact the general health of ZK on which accumulo depends for ZKs more scalable read functionality.\r\n * The metadata table is much more scalable for writes as each tabletserver has its own walog and metadata tablets scan span many tablet servers.\r\n * Using the metadata table for storage of FATE would increase the number of FATE operations that could execute concurrently and reduce the general write load on ZK.\r\n * Making FATE storage more scalable would open it up to being used for operations that it is currently not suitable for like per tablet compaction commit.  Making the fate storage more scalable may help improve user operations like bulk import at scale also.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654606194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654606715","html_url":"https://github.com/apache/accumulo/pull/3659#issuecomment-1654606715","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3659","id":1654606715,"node_id":"IC_kwDOACaFSM5in0t7","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:24:43Z","updated_at":"2023-07-27T21:24:43Z","author_association":"CONTRIBUTOR","body":"I manually triggered a re-run just to double check (https://github.com/apache/accumulo/actions/runs/5662956604)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654606715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654611381","html_url":"https://github.com/apache/accumulo/issues/3559#issuecomment-1654611381","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3559","id":1654611381,"node_id":"IC_kwDOACaFSM5in121","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:29:26Z","updated_at":"2023-07-27T21:29:26Z","author_association":"CONTRIBUTOR","body":"In addition to walog scalability, using the metadata table as storage for fate operations is also more scalable in terms of memory usage.  Everything stored in ZK must be able to fit in memory on a single machine.  Storing data in the metadata table does not have this constraint, but it can leverage much much more memory for caching data across many tservers.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654611381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654624105","html_url":"https://github.com/apache/accumulo/pull/3629#issuecomment-1654624105","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3629","id":1654624105,"node_id":"IC_kwDOACaFSM5in49p","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:42:38Z","updated_at":"2023-07-27T21:42:38Z","author_association":"MEMBER","body":"I don't recall any discussion or decision that main is frozen for release. Yes, we've tried not make too many disruptive changes, but we've not agreed to freeze it. I think this isn't really a disruptive change, though... it's a nice cleanup, independent of any other features. Also, if we have stuff for a 3.1, and we know main will become the 3.1 development branch after 3.0.0 is released, we can still open a PR against main, and merge it after 3.0.0 is released from it, if we want it to go into 3.1.0. There are several PRs staged like that already. I think the main reason main hasn't forked a 3.1 branch or 3.0 release-prep branch is because the number of those situations are exceedingly few, and the risk of extra work from merging through an extra branch doesn't make it worth it for so few like that... so it's just easier to leave the few PRs staged. But in this case, it probably could have been included in 3.0 rather than left staged and deferred to 3.1.\r\n\r\nMy main concern, though, is that I don't want our community to be fractured by people starting to treat the elasticity branch as the primary development branch, while others are still focused on the mostly independent work in main. The primary development branch, as its name implies, should still be `main`, while the `elasticity` branch is still the experimental branch focused on developing elastic features. In order to support the often-discussed community goals of more frequent releases and more intermediate milestone releases (such as non-LTM ones), we need to keep features independent from one another. Too tightly coupling one feature that could be independent with another large long-running feature, instead of doing these incremental changes on the primary development branch, increases the risks of creating a situation like what we had for 2.0 and 2.1, where we had very long-running (multi-year) development cycles, or situations like what happened prior to that, where some surprising changes went overlooked because they occurred in a feature branch that got merged quickly, and ended up causing problems later (for example: all the internal API leaks that required us revisiting and churning all the affected APIs). So, for features that aren't directly elasticity-related, I don't think they should target the elasticity branch... they should target the primary development branch, if they can. This helps incorporate these changes sooner, and also helps the elasticity branch be smaller, and easier to incorporate later.\r\n\r\nFor this one, it can probably be easily backported... or omitted from 3.x entirely... but I'm more concerned about the larger principle of encouraging the use of `main` as the primary development branch, off of which other feature branches are based, to make sure we're still all on the same page, so we can continue to make incremental progress on multiple fronts. I would prefer we not tightly couple features together that don't need to be, as that makes incremental progress harder and take longer.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1654624105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656003871","html_url":"https://github.com/apache/accumulo/issues/3407#issuecomment-1656003871","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3407","id":1656003871,"node_id":"IC_kwDOACaFSM5itJ0f","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-28T16:54:40Z","updated_at":"2023-07-28T16:54:40Z","author_association":"MEMBER","body":"This ticket has been partially addressed by #3415. The TODO in `SplitUtils` is still unaddressed:\r\n\r\n> https://github.com/apache/accumulo/blob/808c0bb5cc28511da6b50676a34f1abf36b7d20c/server/manager/src/main/java/org/apache/accumulo/manager/split/SplitUtils.java#L191\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656003871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656046499","html_url":"https://github.com/apache/accumulo/issues/3605#issuecomment-1656046499","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3605","id":1656046499,"node_id":"IC_kwDOACaFSM5itUOj","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-28T17:22:45Z","updated_at":"2023-07-28T17:23:51Z","author_association":"CONTRIBUTOR","body":"I looked into this and the split request is only done for when a range is deleted from a table and not during a merge. It's kind of interesting how things are designed as merging a range and deleting a range code is coupled together and the MergeInfo object defines the [Operation](https://github.com/apache/accumulo/blob/4ec6dd2054d6a588dfc5a9a5f139d32799c90e83/server/base/src/main/java/org/apache/accumulo/server/manager/state/MergeInfo.java#L36) type\r\n\r\nInside of the split request code you can see that if it's not a delete (so a merge) it just [returns](https://github.com/apache/accumulo/blob/4ec6dd2054d6a588dfc5a9a5f139d32799c90e83/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L567). \r\n\r\nI didn't look into the deletes yet but based off on this I will also need to update #3640 to handle metadata updates for range deletion as chop compactions are also used for that. If we can update the code to do proper fencing of the files then maybe we can avoid having to do splits and the Elasticity branch wouldn't need to worry about it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656046499/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656054478","html_url":"https://github.com/apache/accumulo/issues/3605#issuecomment-1656054478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3605","id":1656054478,"node_id":"IC_kwDOACaFSM5itWLO","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-28T17:25:42Z","updated_at":"2023-07-28T17:25:42Z","author_association":"CONTRIBUTOR","body":"> If we can update the code to do proper fencing of the files then maybe we can avoid having to do splits and the Elasticity branch wouldn't need to worry about it.\r\n\r\nThat would be nice, would simplify the algorithm.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656054478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656055875","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1656055875","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1656055875,"node_id":"IC_kwDOACaFSM5itWhD","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-28T17:26:15Z","updated_at":"2023-07-28T17:26:15Z","author_association":"CONTRIBUTOR","body":"As notated [here](https://github.com/apache/accumulo/issues/3605#issuecomment-1656046499), something else I need to add to this is handling range deletion.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656055875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]