[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591268945","html_url":"https://github.com/apache/hudi/pull/1350#issuecomment-591268945","issue_url":"https://api.github.com/repos/apache/hudi/issues/1350","id":591268945,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTI2ODk0NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T06:51:23Z","updated_at":"2020-02-26T06:51:23Z","author_association":"CONTRIBUTOR","body":"@leesf Would you please check it again?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591268945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591430119","html_url":"https://github.com/apache/hudi/issues/588#issuecomment-591430119","issue_url":"https://api.github.com/repos/apache/hudi/issues/588","id":591430119,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTQzMDExOQ==","user":{"login":"praddy","id":747199,"node_id":"MDQ6VXNlcjc0NzE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/747199?v=4","gravatar_id":"","url":"https://api.github.com/users/praddy","html_url":"https://github.com/praddy","followers_url":"https://api.github.com/users/praddy/followers","following_url":"https://api.github.com/users/praddy/following{/other_user}","gists_url":"https://api.github.com/users/praddy/gists{/gist_id}","starred_url":"https://api.github.com/users/praddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praddy/subscriptions","organizations_url":"https://api.github.com/users/praddy/orgs","repos_url":"https://api.github.com/users/praddy/repos","events_url":"https://api.github.com/users/praddy/events{/privacy}","received_events_url":"https://api.github.com/users/praddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T13:38:40Z","updated_at":"2020-02-26T13:38:40Z","author_association":"NONE","body":"> PERFORMANCE BUG:\r\n> \r\n> the metadata list performance is likely causing performance issues with hudi.\r\n> \r\n> ```\r\n> scala> stopwatch({  sql(\"SELECT * FROM ap_invoices_all_compacted_s3\").count})\r\n> Elapsed time: 1m 55.078473113s                                                  \r\n> res2: Long = xxxxxxxxxxxx\r\n> \r\n> scala> stopwatch({  sql(\"SELECT * FROM ap_invoices_all_compacted\").count})  -- this is the exact same table in hdfs\r\n> Elapsed time: 6.581217052s                                                      \r\n> res3: Long = xxxxxxxxxxx\r\n> ```\r\n\r\nWas this performance issue fixed? I am asking because we are facing this performance problem still in release-0.5.1-incubatinb","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591430119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591542850","html_url":"https://github.com/apache/hudi/issues/1329#issuecomment-591542850","issue_url":"https://api.github.com/repos/apache/hudi/issues/1329","id":591542850,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU0Mjg1MA==","user":{"login":"popart","id":928091,"node_id":"MDQ6VXNlcjkyODA5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/928091?v=4","gravatar_id":"","url":"https://api.github.com/users/popart","html_url":"https://github.com/popart","followers_url":"https://api.github.com/users/popart/followers","following_url":"https://api.github.com/users/popart/following{/other_user}","gists_url":"https://api.github.com/users/popart/gists{/gist_id}","starred_url":"https://api.github.com/users/popart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popart/subscriptions","organizations_url":"https://api.github.com/users/popart/orgs","repos_url":"https://api.github.com/users/popart/repos","events_url":"https://api.github.com/users/popart/events{/privacy}","received_events_url":"https://api.github.com/users/popart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T17:21:32Z","updated_at":"2020-02-26T17:21:32Z","author_association":"NONE","body":"I found the problem. We had client-side encryption configured for Spark & Hive using EMRFS, but not for Presto.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591542850/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591578014","html_url":"https://github.com/apache/hudi/pull/1122#issuecomment-591578014","issue_url":"https://api.github.com/repos/apache/hudi/issues/1122","id":591578014,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU3ODAxNA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T18:40:04Z","updated_at":"2020-02-26T18:40:04Z","author_association":"CONTRIBUTOR","body":"Closing this PR due to inactivity. @cdmikechen : When you are ready with the change, can you kindly open a new PR. \r\n\r\nThanks,\r\nBalaji.V","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591578014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591578487","html_url":"https://github.com/apache/hudi/pull/1053#issuecomment-591578487","issue_url":"https://api.github.com/repos/apache/hudi/issues/1053","id":591578487,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU3ODQ4Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T18:41:07Z","updated_at":"2020-02-26T18:41:07Z","author_association":"CONTRIBUTOR","body":"@n3nash : I will look at it when the PR is ready for review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591578487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591598480","html_url":"https://github.com/apache/hudi/pull/1157#issuecomment-591598480","issue_url":"https://api.github.com/repos/apache/hudi/issues/1157","id":591598480,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU5ODQ4MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T19:22:49Z","updated_at":"2020-02-26T19:22:49Z","author_association":"CONTRIBUTOR","body":"@hmatu : Sorry for the long delay. Was offline for a while. I agree that operationType should be string in both avro and json structure to keep it simple. Once you make the final change and resolve merge conflict, I will merge this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591598480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591698151","html_url":"https://github.com/apache/hudi/pull/1346#issuecomment-591698151","issue_url":"https://api.github.com/repos/apache/hudi/issues/1346","id":591698151,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY5ODE1MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T23:30:59Z","updated_at":"2020-02-26T23:30:59Z","author_association":"MEMBER","body":"Stuck on this annoying test issue.. Cannot reproduce locally or figure out why this happens.. but happens consistently on travis.. So worth looking\r\n\r\ncc @bvaradar @yanghua if you have any hints , let me know. \r\n\r\n```\r\nJob aborted due to stage failure: Task 7 in stage 1.0 failed 1 times, most recent failure: Lost task 7.0 in stage 1.0 (TID 15, localhost, executor driver): org.apache.parquet.io.ParquetDecodingException: Can not read value at 0 in block -1 in file file:/tmp/junit3406952253616234024/2016/01/31/f1-0_7-0-7_100.parquet\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordReader.nextKeyValue(InternalParquetRecordReader.java:251)\r\n\tat org.apache.parquet.hadoop.ParquetReader.read(ParquetReader.java:132)\r\n\tat org.apache.parquet.hadoop.ParquetReader.read(ParquetReader.java:136)\r\n\tat org.apache.hudi.common.util.ParquetUtils.readAvroRecords(ParquetUtils.java:190)\r\n\tat org.apache.hudi.client.TestUpdateSchemaEvolution.lambda$testSchemaEvolutionOnUpdate$dfb2f24e$1(TestUpdateSchemaEvolution.java:123)\r\n\tat org.apache.spark.api.java.JavaPairRDD$$anonfun$toScalaFunction$1.apply(JavaPairRDD.scala:1040)\r\n\tat scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\r\n\tat scala.collection.Iterator$class.foreach(Iterator.scala:891)\r\n\tat scala.collection.AbstractIterator.foreach(Iterator.scala:1334)\r\n\tat scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:59)\r\n\tat scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:104)\r\n\tat scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:48)\r\n\tat scala.collection.TraversableOnce$class.to(TraversableOnce.scala:310)\r\n\tat scala.collection.AbstractIterator.to(Iterator.scala:1334)\r\n\tat scala.collection.TraversableOnce$class.toBuffer(TraversableOnce.scala:302)\r\n\tat scala.collection.AbstractIterator.toBuffer(Iterator.scala:1334)\r\n\tat scala.collection.TraversableOnce$class.toArray(TraversableOnce.scala:289)\r\n\tat scala.collection.AbstractIterator.toArray(Iterator.scala:1334)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$13.apply(RDD.scala:945)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$13.apply(RDD.scala:945)\r\n\tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2101)\r\n\tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2101)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.UnsupportedOperationException: Byte-buffer read unsupported by input stream\r\n\tat org.apache.hadoop.fs.FSDataInputStream.read(FSDataInputStream.java:146)\r\n\tat org.apache.hadoop.fs.FSDataInputStream.read(FSDataInputStream.java:143)\r\n\tat org.apache.parquet.hadoop.util.H2SeekableInputStream$H2Reader.read(H2SeekableInputStream.java:81)\r\n\tat org.apache.parquet.hadoop.util.H2SeekableInputStream.readFully(H2SeekableInputStream.java:90)\r\n\tat org.apache.parquet.hadoop.util.H2SeekableInputStream.readFully(H2SeekableInputStream.java:75)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader$ConsecutiveChunkList.readAll(ParquetFileReader.java:1174)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readNextRowGroup(ParquetFileReader.java:805)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordReader.checkRead(InternalParquetRecordReader.java:127)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordReader.nextKeyValue(InternalParquetRecordReader.java:222)\r\n\t... 29 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591698151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591720460","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-591720460","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":591720460,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTcyMDQ2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T00:52:47Z","updated_at":"2020-02-27T00:52:47Z","author_association":"MEMBER","body":"@bvaradar this would be nice to land, so I can use for perf testing :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591720460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591720849","html_url":"https://github.com/apache/hudi/pull/1358#issuecomment-591720849","issue_url":"https://api.github.com/repos/apache/hudi/issues/1358","id":591720849,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTcyMDg0OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T00:54:04Z","updated_at":"2020-02-27T00:54:04Z","author_association":"MEMBER","body":"@xushiyan  do you want to review this one? :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591720849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591730505","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-591730505","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":591730505,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTczMDUwNQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T01:29:27Z","updated_at":"2020-02-27T01:29:27Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : I will work on this and update the PR in a day. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591730505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591737538","html_url":"https://github.com/apache/hudi/pull/1358#issuecomment-591737538","issue_url":"https://api.github.com/repos/apache/hudi/issues/1358","id":591737538,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTczNzUzOA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T01:55:34Z","updated_at":"2020-02-27T01:55:34Z","author_association":"MEMBER","body":"> @xushiyan do you want to review this one? :)\r\n\r\nSure I can review this. @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591737538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591755474","html_url":"https://github.com/apache/hudi/pull/1358#issuecomment-591755474","issue_url":"https://api.github.com/repos/apache/hudi/issues/1358","id":591755474,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc1NTQ3NA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T03:05:15Z","updated_at":"2020-02-27T03:05:15Z","author_association":"MEMBER","body":"@OpenOpened Thanks for making the effort on RFC9. Please rebase the branch on top of the latest master and force push to update. We'd only like to see the new commits :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591755474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591761144","html_url":"https://github.com/apache/hudi/pull/1357#issuecomment-591761144","issue_url":"https://api.github.com/repos/apache/hudi/issues/1357","id":591761144,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc2MTE0NA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T03:27:56Z","updated_at":"2020-02-27T03:27:56Z","author_association":"MEMBER","body":"hi @bvaradar, addressed. but the following log information still exists\r\n```\r\n[WARNING] Could not get sources for commons-beanutils:commons-beanutils-core:jar:1.8.0:compile\r\n[WARNING] Could not get sources for io.confluent:common-config:jar:3.0.0:compile\r\n[WARNING] Could not get sources for io.confluent:common-utils:jar:3.0.0:compile\r\n[WARNING] Could not get sources for io.confluent:kafka-avro-serializer:jar:3.0.0:compile\r\n[WARNING] Could not get sources for io.confluent:kafka-schema-registry-client:jar:3.0.0:compile\r\n[WARNING] Could not get sources for xmlenc:xmlenc:jar:0.52:compile\r\n\r\nDownloading from aliyun: http://maven.aliyun.com/nexus/content/groups/public/io/confluent/common-utils/3.0.0/common-utils-3.0.0-sources.jar\r\nDownloading from cloudera: https://repository.cloudera.com/artifactory/cloudera-repos/io/confluent/common-utils/3.0.0/common-utils-3.0.0-sources.jar\r\nDownloading from Maven Central: https://repo.maven.apache.org/maven2/io/confluent/common-utils/3.0.0/common-utils-3.0.0-sources.jar\r\nDownloading from cloudera-repo-releases: https://repository.cloudera.com/artifactory/public/io/confluent/common-utils/3.0.0/common-utils-3.0.0-sources.jar\r\nDownloading from confluent: https://packages.confluent.io/maven/io/confluent/common-utils/3.0.0/common-utils-3.0.0-sources.jar\r\nDownloading from libs-milestone: https://repo.spring.io/libs-milestone/io/confluent/common-utils/3.0.0/common-utils-3.0.0-sources.jar\r\nDownloading from libs-release: https://repo.spring.io/libs-release/io/confluent/common-utils/3.0.0/common-utils-3.0.0-sources.jar\r\n[WARNING] Could not get sources for io.confluent:common-utils:jar:3.0.0:compile\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591761144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591764455","html_url":"https://github.com/apache/hudi/pull/1357#issuecomment-591764455","issue_url":"https://api.github.com/repos/apache/hudi/issues/1357","id":591764455,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc2NDQ1NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T03:42:13Z","updated_at":"2020-02-27T03:42:13Z","author_association":"CONTRIBUTOR","body":"[WARNING] Could not get sources for commons-beanutils:commons-beanutils-core:jar:1.8.0:compile\r\n[WARNING] Could not get sources for io.confluent:common-config:jar:3.0.0:compile\r\n[WARNING] Could not get sources for io.confluent:common-utils:jar:3.0.0:compile\r\n[WARNING] Could not get sources for io.confluent:kafka-avro-serializer:jar:3.0.0:compile\r\n[WARNING] Could not get sources for io.confluent:kafka-schema-registry-client:jar:3.0.0:compile\r\n[WARNING] Could not get sources for xmlenc:xmlenc:jar:0.52:compile\r\n\r\n@lamber-ken : Can you check if those jars do not have source-jars equivalent. In that case, I think it is ok. The original concern from Justin was about source jars for Hudi release-candidates (see https://lists.apache.org/thread.html/rd3f4a72d82a4a5a81b2c6bd71e1417054daa38637ce8e07901f26f04%40%3Cgeneral.incubator.apache.org%3E) . The above warnings should be ok. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591764455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591779677","html_url":"https://github.com/apache/hudi/pull/1357#issuecomment-591779677","issue_url":"https://api.github.com/repos/apache/hudi/issues/1357","id":591779677,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc3OTY3Nw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T04:51:32Z","updated_at":"2020-02-27T04:51:32Z","author_association":"MEMBER","body":"> Can you check if those jars do not have source-jars equivalent. \r\n\r\nRight, I can not find these source-jar in repositories\r\n\r\n> The original concern from Justin was about source jars for Hudi release-candidates\r\n\r\nIf so, I think this pr is enough.\r\n\r\nCheck command\r\n```\r\nexport MAVEN_OPTS=\"-Dorg.slf4j.simpleLogger.defaultLogLevel=warn\"\r\nmvn clean package -DskipTests -DskipITs -Dcheckstyle.skip=true -Drat.skip=true\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591779677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591787787","html_url":"https://github.com/apache/hudi/issues/588#issuecomment-591787787","issue_url":"https://api.github.com/repos/apache/hudi/issues/588","id":591787787,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc4Nzc4Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T05:23:24Z","updated_at":"2020-02-27T05:23:24Z","author_association":"MEMBER","body":"cc @umehrot2  is this issue similar? \r\n@praddy you mean its the same hudi table in HDFS vs S3 ? Can you please clarify ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591787787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591788696","html_url":"https://github.com/apache/hudi/pull/1347#issuecomment-591788696","issue_url":"https://api.github.com/repos/apache/hudi/issues/1347","id":591788696,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc4ODY5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T05:26:38Z","updated_at":"2020-02-27T05:26:38Z","author_association":"MEMBER","body":"@ramachandranms guess that coz its free for OSS? I am good with that part","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591788696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591791546","html_url":"https://github.com/apache/hudi/pull/1360#issuecomment-591791546","issue_url":"https://api.github.com/repos/apache/hudi/issues/1360","id":591791546,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc5MTU0Ng==","user":{"login":"OpenOpened","id":23738217,"node_id":"MDQ6VXNlcjIzNzM4MjE3","avatar_url":"https://avatars.githubusercontent.com/u/23738217?v=4","gravatar_id":"","url":"https://api.github.com/users/OpenOpened","html_url":"https://github.com/OpenOpened","followers_url":"https://api.github.com/users/OpenOpened/followers","following_url":"https://api.github.com/users/OpenOpened/following{/other_user}","gists_url":"https://api.github.com/users/OpenOpened/gists{/gist_id}","starred_url":"https://api.github.com/users/OpenOpened/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OpenOpened/subscriptions","organizations_url":"https://api.github.com/users/OpenOpened/orgs","repos_url":"https://api.github.com/users/OpenOpened/repos","events_url":"https://api.github.com/users/OpenOpened/events{/privacy}","received_events_url":"https://api.github.com/users/OpenOpened/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T05:36:57Z","updated_at":"2020-02-27T05:36:57Z","author_association":"CONTRIBUTOR","body":"@xushiyan please review this pr.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591791546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591913698","html_url":"https://github.com/apache/hudi/pull/1106#issuecomment-591913698","issue_url":"https://api.github.com/repos/apache/hudi/issues/1106","id":591913698,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTkxMzY5OA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T11:07:03Z","updated_at":"2020-02-27T11:07:03Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars Would you please update this PR to address the comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591913698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592018932","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-592018932","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":592018932,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjAxODkzMg==","user":{"login":"rafaelhbarros","id":3138550,"node_id":"MDQ6VXNlcjMxMzg1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/3138550?v=4","gravatar_id":"","url":"https://api.github.com/users/rafaelhbarros","html_url":"https://github.com/rafaelhbarros","followers_url":"https://api.github.com/users/rafaelhbarros/followers","following_url":"https://api.github.com/users/rafaelhbarros/following{/other_user}","gists_url":"https://api.github.com/users/rafaelhbarros/gists{/gist_id}","starred_url":"https://api.github.com/users/rafaelhbarros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rafaelhbarros/subscriptions","organizations_url":"https://api.github.com/users/rafaelhbarros/orgs","repos_url":"https://api.github.com/users/rafaelhbarros/repos","events_url":"https://api.github.com/users/rafaelhbarros/events{/privacy}","received_events_url":"https://api.github.com/users/rafaelhbarros/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T15:23:20Z","updated_at":"2020-02-27T15:23:20Z","author_association":"NONE","body":"Could you please add me: rbarros@indeed.com? Thank you.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592018932/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592038499","html_url":"https://github.com/apache/hudi/pull/1346#issuecomment-592038499","issue_url":"https://api.github.com/repos/apache/hudi/issues/1346","id":592038499,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjAzODQ5OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T16:05:15Z","updated_at":"2020-02-27T16:05:15Z","author_association":"MEMBER","body":"Will triage the test issue separately here https://issues.apache.org/jira/browse/HUDI-646 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592038499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592062005","html_url":"https://github.com/apache/hudi/pull/1360#issuecomment-592062005","issue_url":"https://api.github.com/repos/apache/hudi/issues/1360","id":592062005,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjA2MjAwNQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T16:50:19Z","updated_at":"2020-02-27T16:50:19Z","author_association":"MEMBER","body":"> @xushiyan please review this pr.\r\n\r\nSure, will look at this by this week. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592062005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592150486","html_url":"https://github.com/apache/hudi/pull/1347#issuecomment-592150486","issue_url":"https://api.github.com/repos/apache/hudi/issues/1347","id":592150486,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjE1MDQ4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T20:01:28Z","updated_at":"2020-02-27T20:01:28Z","author_association":"MEMBER","body":"@ramachandranms could you rebase again and push.. for some reason, its showing 72 files being changed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592150486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592151065","html_url":"https://github.com/apache/hudi/pull/1347#issuecomment-592151065","issue_url":"https://api.github.com/repos/apache/hudi/issues/1347","id":592151065,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjE1MTA2NQ==","user":{"login":"ramachandranms","id":2144396,"node_id":"MDQ6VXNlcjIxNDQzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2144396?v=4","gravatar_id":"","url":"https://api.github.com/users/ramachandranms","html_url":"https://github.com/ramachandranms","followers_url":"https://api.github.com/users/ramachandranms/followers","following_url":"https://api.github.com/users/ramachandranms/following{/other_user}","gists_url":"https://api.github.com/users/ramachandranms/gists{/gist_id}","starred_url":"https://api.github.com/users/ramachandranms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramachandranms/subscriptions","organizations_url":"https://api.github.com/users/ramachandranms/orgs","repos_url":"https://api.github.com/users/ramachandranms/repos","events_url":"https://api.github.com/users/ramachandranms/events{/privacy}","received_events_url":"https://api.github.com/users/ramachandranms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T20:02:47Z","updated_at":"2020-02-27T20:02:47Z","author_association":"CONTRIBUTOR","body":"@vinothchandar will do. also the recent change was not showing coverage for `hudi-hive` module. will ping you once I get this back to working state.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592151065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592169752","html_url":"https://github.com/apache/hudi/pull/1347#issuecomment-592169752","issue_url":"https://api.github.com/repos/apache/hudi/issues/1347","id":592169752,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjE2OTc1Mg==","user":{"login":"ramachandranms","id":2144396,"node_id":"MDQ6VXNlcjIxNDQzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2144396?v=4","gravatar_id":"","url":"https://api.github.com/users/ramachandranms","html_url":"https://github.com/ramachandranms","followers_url":"https://api.github.com/users/ramachandranms/followers","following_url":"https://api.github.com/users/ramachandranms/following{/other_user}","gists_url":"https://api.github.com/users/ramachandranms/gists{/gist_id}","starred_url":"https://api.github.com/users/ramachandranms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramachandranms/subscriptions","organizations_url":"https://api.github.com/users/ramachandranms/orgs","repos_url":"https://api.github.com/users/ramachandranms/repos","events_url":"https://api.github.com/users/ramachandranms/events{/privacy}","received_events_url":"https://api.github.com/users/ramachandranms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T20:48:53Z","updated_at":"2020-02-27T20:48:53Z","author_association":"CONTRIBUTOR","body":"@vinothchandar cleaned up the PR and everything looks good in my own fork build + codecov. please let me know if there are any other concerns. thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592169752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592222868","html_url":"https://github.com/apache/hudi/pull/1350#issuecomment-592222868","issue_url":"https://api.github.com/repos/apache/hudi/issues/1350","id":592222868,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjIyMjg2OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T23:04:57Z","updated_at":"2020-03-14T00:27:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1350?src=pr&el=h1) Report\n> Merging [#1350](https://codecov.io/gh/apache/incubator-hudi/pull/1350?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/fb7fba365f89afaf97cc969ecc09f3bbfc4a5dbd&el=desc) will **decrease** coverage by `0.02%`.\n> The diff coverage is `59.31%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1350/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1350?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1350      +/-   ##\n============================================\n- Coverage     67.50%   67.47%   -0.03%     \n  Complexity      230      230              \n============================================\n  Files           337      338       +1     \n  Lines         16354    16365      +11     \n  Branches       1671     1671              \n============================================\n+ Hits          11040    11043       +3     \n- Misses         4579     4583       +4     \n- Partials        735      739       +4     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1350?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...org/apache/hudi/config/HoodieCompactionConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZUNvbXBhY3Rpb25Db25maWcuamF2YQ==) | `80.80% <0.00%> (+0.80%)` | `0.00 <0.00> ()` | |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `83.84% <> ()` | `0.00 <0.00> ()` | |\n| [...pache/hudi/common/model/TimelineLayoutVersion.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1RpbWVsaW5lTGF5b3V0VmVyc2lvbi5qYXZh) | `65.00% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...pache/hudi/common/table/HoodieTableMetaClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL0hvb2RpZVRhYmxlTWV0YUNsaWVudC5qYXZh) | `76.77% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...common/table/view/FileSystemViewStorageConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvRmlsZVN5c3RlbVZpZXdTdG9yYWdlQ29uZmlnLmphdmE=) | `84.12% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...e/hudi/common/util/queue/BoundedInMemoryQueue.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvQm91bmRlZEluTWVtb3J5UXVldWUuamF2YQ==) | `91.13% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...pache/hudi/common/versioning/MetadataMigrator.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3ZlcnNpb25pbmcvTWV0YWRhdGFNaWdyYXRvci5qYXZh) | `58.33% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...mmon/versioning/clean/CleanV2MigrationHandler.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3ZlcnNpb25pbmcvY2xlYW4vQ2xlYW5WMk1pZ3JhdGlvbkhhbmRsZXIuamF2YQ==) | `94.87% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1oaXZlLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGl2ZS9Ib29kaWVIaXZlQ2xpZW50LmphdmE=) | `61.70% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [.../apache/hudi/hive/MultiPartKeysValueExtractor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree#diff-aHVkaS1oaXZlLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGl2ZS9NdWx0aVBhcnRLZXlzVmFsdWVFeHRyYWN0b3IuamF2YQ==) | `55.55% <0.00%> ()` | `0.00 <0.00> ()` | |\n| ... and [32 more](https://codecov.io/gh/apache/incubator-hudi/pull/1350/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1350?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1350?src=pr&el=footer). Last update [fb7fba3...ea4094e](https://codecov.io/gh/apache/incubator-hudi/pull/1350?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592222868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592235860","html_url":"https://github.com/apache/hudi/pull/1350#issuecomment-592235860","issue_url":"https://api.github.com/repos/apache/hudi/issues/1350","id":592235860,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjIzNTg2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T23:49:17Z","updated_at":"2020-02-27T23:49:17Z","author_association":"MEMBER","body":"hmmm @ramachandranms are you able to interpret this report? why is the coverage dropping by 66%? seems scary .\r\n\r\n(I will spend more time on this tonight.. just a heads up) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592235860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592236975","html_url":"https://github.com/apache/hudi/pull/1350#issuecomment-592236975","issue_url":"https://api.github.com/repos/apache/hudi/issues/1350","id":592236975,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjIzNjk3NQ==","user":{"login":"ramachandranms","id":2144396,"node_id":"MDQ6VXNlcjIxNDQzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2144396?v=4","gravatar_id":"","url":"https://api.github.com/users/ramachandranms","html_url":"https://github.com/ramachandranms","followers_url":"https://api.github.com/users/ramachandranms/followers","following_url":"https://api.github.com/users/ramachandranms/following{/other_user}","gists_url":"https://api.github.com/users/ramachandranms/gists{/gist_id}","starred_url":"https://api.github.com/users/ramachandranms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramachandranms/subscriptions","organizations_url":"https://api.github.com/users/ramachandranms/orgs","repos_url":"https://api.github.com/users/ramachandranms/repos","events_url":"https://api.github.com/users/ramachandranms/events{/privacy}","received_events_url":"https://api.github.com/users/ramachandranms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T23:53:12Z","updated_at":"2020-02-27T23:53:12Z","author_association":"CONTRIBUTOR","body":"@vinothchandar noticed the message in slack channel. if you click the actual report that is collected, it seems ok. just a drop of `0.02% (67.09 - 67.07)`. just updated my fork now and travis is running in my fork master. will try out a sample PR in my fork to see if there are any issues. codecov.io also has a notification on their website saying `minor service outage`. for some weird reason `diff coverage - 0%` is reported here. will keep u update on my findings.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592236975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592275788","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-592275788","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":592275788,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjI3NTc4OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T02:11:39Z","updated_at":"2020-02-28T02:12:10Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1362?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@cacd9a3`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `59.09%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1362/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1362?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #1362   +/-   ##\n=========================================\n  Coverage          ?   67.09%           \n  Complexity        ?      224           \n=========================================\n  Files             ?      333           \n  Lines             ?    16217           \n  Branches          ?     1659           \n=========================================\n  Hits              ?    10880           \n  Misses            ?     4600           \n  Partials          ?      737\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1362?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1362/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `81% <100%> ()` | `8 <0> (?)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/incubator-hudi/pull/1362/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `72.03% <55%> ()` | `39 <2> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1362?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1362?src=pr&el=footer). Last update [cacd9a3...cc087db](https://codecov.io/gh/apache/incubator-hudi/pull/1362?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592275788/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592293673","html_url":"https://github.com/apache/hudi/pull/1350#issuecomment-592293673","issue_url":"https://api.github.com/repos/apache/hudi/issues/1350","id":592293673,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjI5MzY3Mw==","user":{"login":"ramachandranms","id":2144396,"node_id":"MDQ6VXNlcjIxNDQzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2144396?v=4","gravatar_id":"","url":"https://api.github.com/users/ramachandranms","html_url":"https://github.com/ramachandranms","followers_url":"https://api.github.com/users/ramachandranms/followers","following_url":"https://api.github.com/users/ramachandranms/following{/other_user}","gists_url":"https://api.github.com/users/ramachandranms/gists{/gist_id}","starred_url":"https://api.github.com/users/ramachandranms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramachandranms/subscriptions","organizations_url":"https://api.github.com/users/ramachandranms/orgs","repos_url":"https://api.github.com/users/ramachandranms/repos","events_url":"https://api.github.com/users/ramachandranms/events{/privacy}","received_events_url":"https://api.github.com/users/ramachandranms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T03:26:07Z","updated_at":"2020-02-28T03:26:07Z","author_association":"CONTRIBUTOR","body":"@vinothchandar tested [this PR](https://github.com/ramachandranms/incubator-hudi/pull/3) in my fork and it seems to be working fine. Can we see couple more PRs and if this issue persists, I can deep dive the issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592293673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592397157","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-592397157","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":592397157,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjM5NzE1Nw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T08:03:04Z","updated_at":"2020-02-28T14:12:59Z","author_association":"MEMBER","body":"Hi @bvaradar, the idea of compressing strings is great, just considering: \r\n\r\nCall time line will be: `byte[]` -> `base64 String` -> `gzip stream` -> `base64 String`\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/75521469-cc4a8a80-5a42-11ea-8d92-59b9f845d2d6.png)\r\n\r\nIMO, we can use gzip compress `byte[]` data directly, like:\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/75521938-bb4e4900-5a43-11ea-9399-8a8eeae72692.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592397157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592472336","html_url":"https://github.com/apache/hudi/pull/1330#issuecomment-592472336","issue_url":"https://api.github.com/repos/apache/hudi/issues/1330","id":592472336,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjQ3MjMzNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T11:26:06Z","updated_at":"2020-02-28T11:26:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1330?src=pr&el=h1) Report\n> Merging [#1330](https://codecov.io/gh/apache/incubator-hudi/pull/1330?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/acf359c834bc1d9b9c4ea64d362ea20c7410c70a?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1330/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1330?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1330      +/-   ##\n============================================\n- Coverage     67.09%   67.09%   -0.01%     \n  Complexity      223      223              \n============================================\n  Files           333      333              \n  Lines         16207    16216       +9     \n  Branches       1657     1659       +2     \n============================================\n+ Hits          10874    10880       +6     \n- Misses         4597     4598       +1     \n- Partials        736      738       +2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1330?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1330/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `50.56% <80%> (+3.06%)` | `0 <0> ()` | :arrow_down: |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1330/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `79.79% <0%> (-1.02%)` | `8% <0%> ()` | |\n| [...a/org/apache/hudi/common/util/collection/Pair.java](https://codecov.io/gh/apache/incubator-hudi/pull/1330/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9QYWlyLmphdmE=) | `76% <0%> (+4%)` | `0% <0%> ()` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1330?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1330?src=pr&el=footer). Last update [acf359c...df0a349](https://codecov.io/gh/apache/incubator-hudi/pull/1330?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592472336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592581418","html_url":"https://github.com/apache/hudi/pull/1354#issuecomment-592581418","issue_url":"https://api.github.com/repos/apache/hudi/issues/1354","id":592581418,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjU4MTQxOA==","user":{"login":"lresende","id":382917,"node_id":"MDQ6VXNlcjM4MjkxNw==","avatar_url":"https://avatars.githubusercontent.com/u/382917?v=4","gravatar_id":"","url":"https://api.github.com/users/lresende","html_url":"https://github.com/lresende","followers_url":"https://api.github.com/users/lresende/followers","following_url":"https://api.github.com/users/lresende/following{/other_user}","gists_url":"https://api.github.com/users/lresende/gists{/gist_id}","starred_url":"https://api.github.com/users/lresende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lresende/subscriptions","organizations_url":"https://api.github.com/users/lresende/orgs","repos_url":"https://api.github.com/users/lresende/repos","events_url":"https://api.github.com/users/lresende/events{/privacy}","received_events_url":"https://api.github.com/users/lresende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T16:08:53Z","updated_at":"2020-02-28T16:08:53Z","author_association":"MEMBER","body":"Mostly, what you need for your notice should be:\r\n```\r\nApache Hudi\r\nCopyright 2019-2020 The Apache Software Foundation\r\n\r\nThis product includes software developed at\r\nThe Apache Software Foundation (http://www.apache.org/).\r\n```\r\n\r\nAlso, there shouldn't be a difference between the source and binary distro for the notice. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592581418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592587223","html_url":"https://github.com/apache/hudi/pull/1350#issuecomment-592587223","issue_url":"https://api.github.com/repos/apache/hudi/issues/1350","id":592587223,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjU4NzIyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T16:21:59Z","updated_at":"2020-02-28T16:21:59Z","author_association":"MEMBER","body":"Okay lets watch more. This is so good to get this integrated in. :)\r\n\r\n\r\nCan you also please send a note to the mailing list to report any issues. That way we can have more eyes. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592587223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592608211","html_url":"https://github.com/apache/hudi/pull/1242#issuecomment-592608211","issue_url":"https://api.github.com/repos/apache/hudi/issues/1242","id":592608211,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjYwODIxMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T17:05:32Z","updated_at":"2020-02-28T17:05:32Z","author_association":"MEMBER","body":"@n3nash is shepherding this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592608211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592609201","html_url":"https://github.com/apache/hudi/issues/1359#issuecomment-592609201","issue_url":"https://api.github.com/repos/apache/hudi/issues/1359","id":592609201,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjYwOTIwMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T17:07:42Z","updated_at":"2020-02-28T17:07:42Z","author_association":"MEMBER","body":"hdfs paths cannot contain `:` I think..  is your partitionpath correct.. seems too granular?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592609201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592610993","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-592610993","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":592610993,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjYxMDk5Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T17:11:37Z","updated_at":"2020-02-28T17:11:37Z","author_association":"MEMBER","body":"@lamber-ken we can only place strings inside the parquet footers","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592610993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592649734","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-592649734","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":592649734,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjY0OTczNA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T17:54:13Z","updated_at":"2020-02-28T22:48:10Z","author_association":"MEMBER","body":"Hi @vinothchandar\r\n\r\n> we can only place strings inside the parquet footers\r\n\r\nRight, I know it. \r\n\r\n`byte[]` -> `base64 string` -> `byte[]` unnecessary steps\r\n![image](https://user-images.githubusercontent.com/20113411/75572628-1b6ddb00-5a96-11ea-8e8d-e66cd3883db8.png)\r\n\r\n#### What I want to say is\r\n![image](https://user-images.githubusercontent.com/20113411/75572733-4e17d380-5a96-11ea-82c8-593e2083507d.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592649734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592671073","html_url":"https://github.com/apache/hudi/issues/1359#issuecomment-592671073","issue_url":"https://api.github.com/repos/apache/hudi/issues/1359","id":592671073,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjY3MTA3Mw==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T18:47:56Z","updated_at":"2020-02-28T18:47:56Z","author_association":"NONE","body":"it is timestamp data","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592671073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592671237","html_url":"https://github.com/apache/hudi/issues/1359#issuecomment-592671237","issue_url":"https://api.github.com/repos/apache/hudi/issues/1359","id":592671237,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjY3MTIzNw==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T18:48:21Z","updated_at":"2020-02-28T18:48:21Z","author_association":"NONE","body":"with metorikku these automatically get encoded ie %20 or the like","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592671237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592854339","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-592854339","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":592854339,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjg1NDMzOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T03:59:11Z","updated_at":"2020-02-29T03:59:11Z","author_association":"CONTRIBUTOR","body":"One question about using nested schema. Can you remind me what happens if someone passes in a nested schema for CsvDeltaStreamer? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592854339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592855749","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-592855749","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":592855749,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjg1NTc0OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T04:03:53Z","updated_at":"2020-02-29T04:03:53Z","author_association":"MEMBER","body":"Hi @bvaradar, I test the pr, seems that the size of compressed bigger than original one. \r\nIf wrong, correct me, thanks.\r\n\r\n```\r\ntest random keys\r\noriginal size: 4792548\r\ncompress size: 4967672\r\n\r\ntest sequential keys\r\noriginal size: 4792548\r\ncompress size: 4967746\r\n```\r\n```\r\nSimpleBloomFilter filter = new SimpleBloomFilter(1000000, 0.000001, Hash.MURMUR_HASH);\r\n\r\nSystem.out.println(\"test random keys\");\r\nfor (int i = 0; i < 1000000; i++) {\r\n  String key = UUID.randomUUID().toString();\r\n  filter.add(key);\r\n}\r\n\r\nSystem.out.println(\"original size: \" + filter.serializeToString().length());\r\nSystem.out.println(\"compress size: \" + GzipCompressionUtils.compress(filter.serializeToString()).length());\r\n\r\nSystem.out.println(\"\\ntest sequential keys\");\r\nfilter = new SimpleBloomFilter(1000000, 0.000001, Hash.MURMUR_HASH);\r\n\r\nfor (int i = 0; i < 1000000; i++) {\r\n  String key = \"key-\" + i;\r\n  filter.add(key);\r\n}\r\n\r\nSystem.out.println(\"original size: \" + filter.serializeToString().length());\r\nSystem.out.println(\"compress size: \" + GzipCompressionUtils.compress(filter.serializeToString()).length());\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592855749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592857747","html_url":"https://github.com/apache/hudi/pull/1363#issuecomment-592857747","issue_url":"https://api.github.com/repos/apache/hudi/issues/1363","id":592857747,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjg1Nzc0Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T04:09:59Z","updated_at":"2020-02-29T04:09:59Z","author_association":"CONTRIBUTOR","body":"thanks !","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592857747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592861991","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-592861991","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":592861991,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjg2MTk5MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T04:21:44Z","updated_at":"2020-02-29T04:21:44Z","author_association":"CONTRIBUTOR","body":"Good point @lamber-ken on avoiding conversions. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592861991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592868794","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-592868794","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":592868794,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjg2ODc5NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T04:40:45Z","updated_at":"2020-02-29T04:40:45Z","author_association":"CONTRIBUTOR","body":"I also played with testing the sizes. Looks like the encoding is the culprit. \r\n\r\ntest random keys\r\nData before compress: 4792548\r\nData after compress Stage 1 3630215\r\nData after compress Stage 2 4967662\r\n\r\n\r\n// added these log statements.\r\n byte[] compressed = bos.toByteArray();\r\n      System.out.println(\"Data after compress Stage 1 \" + compressed.length);\r\n      Base64.Encoder encoder = Base64.getMimeEncoder();\r\n      String toReturn = new String(encoder.encode(compressed), StandardCharsets.UTF_8);\r\n      System.out.println(\"Data after compress Stage 2 \" + toReturn.length());\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592868794/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592880451","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-592880451","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":592880451,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjg4MDQ1MQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T05:13:40Z","updated_at":"2020-02-29T05:13:40Z","author_association":"MEMBER","body":"Also, the compressed byte[] data seems bigger than original one.\r\n```\r\ntest random keys\r\nData origin byte[] length Stage 0 3594410\r\nData compress byte[] length Stage 1 3630217\r\n\r\ntest sequential keys\r\nData origin byte[] length Stage 0 3594410\r\nData compress byte[] length Stage 1 3630276\r\n```\r\n\r\nAdded these log statements.\r\n![image](https://user-images.githubusercontent.com/20113411/75601357-33287c00-5af5-11ea-8e3e-c270a734eadc.png)\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/75601365-41769800-5af5-11ea-8baa-e345a075b8be.png)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592880451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592893616","html_url":"https://github.com/apache/hudi/issues/1359#issuecomment-592893616","issue_url":"https://api.github.com/repos/apache/hudi/issues/1359","id":592893616,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjg5MzYxNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T05:50:52Z","updated_at":"2020-02-29T05:50:52Z","author_association":"MEMBER","body":"@tooptoop4 can you please provide a snippet to reproduce this? I can look into this then","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592893616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592997350","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-592997350","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":592997350,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjk5NzM1MA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-29T21:39:04Z","updated_at":"2020-02-29T21:46:13Z","author_association":"CONTRIBUTOR","body":"@adamjoneill I tried to reproduce this in local docker (little modification to Hudi docker demo setup) and could not.  I am able to select * on both the schemas ( with and without the simple identifier in the array element). \r\n\r\nI wanted to verify that presto query select * from table against hudi parquet file is NOT failing currently.  That is ensured. Looks like there is some environment issues between this setup and your setup. Lets see if we can dig into that more somehow.\r\n\r\nHere is the setup and  reproducing steps.\r\n\r\nI am using the hoodie docker demo setup on latest master.\r\nHudi version : 0.5.2-incubating\r\nSpark version : 2.4.4\r\nHive version : Hive 2.3.3,\r\nPresto 0.217\r\nHadoop version : 2.8.4\r\nStorage (HDFS/S3/GCS..) : HDFS\r\nRunning on Docker? (yes/no) : yes\r\n\r\nI tried for both simple and wothout simple identifier inside the array item. Here is the set up I used:\r\n\r\ncat nested-table-kafka-source.properties\r\n\tinclude=base.properties\r\n\t# Key fields, for kafka example\r\n\thoodie.datasource.write.recordkey.field=id\r\n\thoodie.datasource.write.partitionpath.field=date\r\n\t# Schema provider props (change to absolute path based on your installation)\r\nhoodie.deltastreamer.schemaprovider.source.schema.file=/var/demo/config/nested_table_schema.avsc\r\nhoodie.deltastreamer.schemaprovider.target.schema.file=/var/demo/config/nested_table_schema.avsc\r\n\t# Kafka Source\r\n\thoodie.deltastreamer.source.kafka.topic=nested_table\r\n\t#Kafka props\r\n\tbootstrap.servers=kafkabroker:9092\r\n\tauto.offset.reset=earliest\r\n\r\n\r\n\r\ncat nested_table_schema.avsc\r\n\t{\r\n\t  \"name\": \"nested_table\",\r\n\t  \"type\": \"record\",\r\n\t  \"fields\": [\r\n\t    {\r\n\t      \"name\": \"id\",\r\n\t      \"type\": \"int\"\r\n\t    },\r\n\t    {\r\n\t      \"name\": \"date\",\r\n\t      \"type\":\"string\"\r\n\t    },\r\n\t    {\r\n\t      \"name\": \"foos\",\r\n\t      \"type\": {\r\n\t        \"type\": \"array\",\r\n\t        \"items\": {\r\n\t          \"name\": \"foos_record\",\r\n\t          \"type\": \"record\",\r\n\t          \"fields\": [\r\n\t            {  // remove this for without simple\r\n\t              \"name\": \"id\",\r\n\t              \"type\": \"int\"\r\n\t            },\r\n\t            {\r\n\t              \"name\": \"bar\",\r\n\t              \"type\": {\r\n\t                \"name\": \"bar\",\r\n\t                \"type\": \"record\",\r\n\t                \"fields\": [\r\n\t                  {\r\n\t                    \"name\": \"id\",\r\n\t                    \"type\": \"int\"\r\n\t                  },\r\n\t                  {\r\n\t                    \"name\": \"name\",\r\n\t                    \"type\": \"string\"\r\n\t                  }\r\n\t                ]\r\n\t              }\r\n\t            }\r\n\t          ]\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t  ]\r\n\t}\r\n\r\ncat nested_table.json //remove the id entry inside foos[{elem}] for trying  without simple.\r\n\t{\"id\":1,\"date\": \"2020/02/15\",\"foos\":[{\"id\":11,\"bar\":{\"id\":1,\"name\":\"OneBar\"}},{\"id\":12,\"bar\":{\"id\":2,\"name\":\"TwoBar\"}},{\"id\":13,\"bar\":{\"id\":3,\"name\":\"ThreeBar\"}}]}\r\n\t{\"id\":2,\"date\": \"2020/02/16\",\"foos\":[{\"id\":21,\"bar\":{\"id\":2,\"name\":\"OneBar\"}},{\"id\":22,\"bar\":{\"id\":2,\"name\":\"TwoBar\"}},{\"id\":23,\"bar\":{\"id\":3,\"name\":\"ThreeBar\"}}]}\r\n\t{\"id\":3,\"date\": \"2020/02/17\",\"foos\":[{\"id\":31,\"bar\":{\"id\":3,\"name\":\"OneBar\"}},{\"id\":32,\"bar\":{\"id\":2,\"name\":\"TwoBar\"}},{\"id\":33,\"bar\":{\"id\":3,\"name\":\"ThreeBar\"}}]}\r\n\t{\"id\":4,\"date\": \"2020/02/18\",\"foos\":[{\"id\":41,\"bar\":{\"id\":4,\"name\":\"OneBar\"}},{\"id\":42,\"bar\":{\"id\":2,\"name\":\"TwoBar\"}},{\"id\":43,\"bar\":{\"id\":3,\"name\":\"ThreeBar\"}}]}\r\n\r\n\r\nSteps to publish to kafka, ingest from kafka and sync with hive. these are in the website - https://hudi.apache.org/docs/docker_demo.html. I modified it a bit for this example.\r\n// publich data from local to kafka. cd into hudi repo dir.\r\ncat docker/demo/data/nested_table.json | kafkacat -b kafkabroker -t nested_table -P\r\n\r\n//verify kafka publish using\r\nkafkacat -b kafkabroker -L -J | jq .\r\n\r\n// Now hop onto one of the adhoc containers\r\ndocker exec -it adhoc-2 /bin/bash\r\n\r\n// using deltastreamer ingest data into hdfs\r\nspark-submit --class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer $HUDI_UTILITIES_BUNDLE --table-type COPY_ON_WRITE --source-class org.apache.hudi.utilities.sources.JsonKafkaSource --source-ordering-field id  --target-base-path /user/hive/warehouse/nested_table_cow --target-table nested_table_cow --props /var/demo/config/nested-table-kafka-source.properties --schemaprovider-class org.apache.hudi.utilities.schema.FilebasedSchemaProvider\r\n\r\n// verify ingest by viewing this page in web hdfs\r\nhttp://namenode:50070/explorer.html#/user/hive/warehouse/nested_table_cow\r\n\r\n// sync to hive to make it available as a hive table.\r\n/var/hoodie/ws/hudi-hive/run_sync_tool.sh  --jdbc-url jdbc:hive2://hiveserver:10000 --user hive --pass hive --partitioned-by dt --base-path /user/hive/warehouse/nested_table_cow --database default --table nested_table_cow\r\n\r\n// Now we can query from presto as below\r\ndocker exec -it presto-worker-1 presto --server presto-coordinator-1:8090\r\n\r\n// presto query results when with simple id inside array element\r\npresto:default> use hive.default;\r\npresto:default> show columns from  nested_table_cow;\r\n         Column         |                           Type                            |     Extra     | Comment\r\n------------------------+-----------------------------------------------------------+---------------+---------\r\n _hoodie_commit_time    | varchar                                                   |               |\r\n _hoodie_commit_seqno   | varchar                                                   |               |\r\n _hoodie_record_key     | varchar                                                   |               |\r\n _hoodie_partition_path | varchar                                                   |               |\r\n _hoodie_file_name      | varchar                                                   |               |\r\n id                     | integer                                                   |               |\r\n date                   | varchar                                                   |               |\r\n foos                   | array(row(id integer, bar row(id integer, name varchar))) |               |\r\n dt                     | varchar                                                   | partition key |\r\n(9 rows)\r\n\r\nQuery 20200229_203415_00003_ay9hw, FINISHED, 2 nodes\r\nSplits: 19 total, 19 done (100.00%)\r\n0:01 [9 rows, 792B] [12 rows/s, 1.11KB/s]\r\n\r\npresto:default>\r\n\r\npresto:default> select * from nested_table_cow;\r\n _hoodie_commit_time | _hoodie_commit_seqno | _hoodie_record_key | _hoodie_partition_path |                           _hoodie_file_name                           | id |    date    |                                                   foos\r\n---------------------+----------------------+--------------------+------------------------+-----------------------------------------------------------------------+----+------------+-------------------------------------------------------\r\n 20200229201846      | 20200229201846_0_3   | 3                  | 2020/02/17             | 08524ae2-9874-4f52-8b8e-97a509696ee6-0_0-21-24_20200229201846.parquet |  3 | 2020/02/17 | [{id=31, bar={id=3, name=OneBar}}, {id=32, bar={id=2,\r\n 20200229201846      | 20200229201846_3_4   | 2                  | 2020/02/16             | 3ed41232-08a9-41ff-b97c-7b964c8d7978-0_3-21-27_20200229201846.parquet |  2 | 2020/02/16 | [{id=21, bar={id=2, name=OneBar}}, {id=22, bar={id=2,\r\n 20200229201846      | 20200229201846_1_1   | 4                  | 2020/02/18             | 85fa663a-c86f-43f7-94a5-a813a0a67314-0_1-21-25_20200229201846.parquet |  4 | 2020/02/18 | [{id=41, bar={id=4, name=OneBar}}, {id=42, bar={id=2,\r\n 20200229201846      | 20200229201846_2_2   | 1                  | 2020/02/15             | 916d9d23-da62-4d6b-bb9d-85889e8c6ab8-0_2-21-26_20200229201846.parquet |  1 | 2020/02/15 | [{id=11, bar={id=1, name=OneBar}}, {id=12, bar={id=2,\r\n(4 rows)\r\n\r\nQuery 20200229_204101_00005_ay9hw, FINISHED, 1 node\r\nSplits: 20 total, 20 done (100.00%)\r\n0:05 [4 rows, 5KB] [0 rows/s, 1.02KB/s]\r\n\r\npresto:default>\r\n\r\n\r\n// presto query results when removing the simple identifier\r\npresto:default> show columns from  nested_table_cow;\r\n         Column         |                     Type                      |     Extra     | Comment\r\n------------------------+-----------------------------------------------+---------------+---------\r\n _hoodie_commit_time    | varchar                                       |               |\r\n _hoodie_commit_seqno   | varchar                                       |               |\r\n _hoodie_record_key     | varchar                                       |               |\r\n _hoodie_partition_path | varchar                                       |               |\r\n _hoodie_file_name      | varchar                                       |               |\r\n id                     | integer                                       |               |\r\n date                   | varchar                                       |               |\r\n foos                   | array(row(bar row(id integer, name varchar))) |               |\r\n dt                     | varchar                                       | partition key |\r\n(9 rows)\r\n\r\nQuery 20200229_205313_00002_xjxz7, FINISHED, 2 nodes\r\nSplits: 19 total, 19 done (100.00%)\r\n0:02 [9 rows, 780B] [4 rows/s, 387B/s]\r\n\r\npresto:default> select * from nested_table_cow;\r\n _hoodie_commit_time | _hoodie_commit_seqno | _hoodie_record_key | _hoodie_partition_path |                           _hoodie_file_name                           | id |    date    |                                        foos\r\n---------------------+----------------------+--------------------+------------------------+-----------------------------------------------------------------------+----+------------+-------------------------------------------------------\r\n 20200229204957      | 20200229204957_2_1   | 1                  | 2020/02/15             | fb63e6c8-bd12-442b-bdc3-26748f33a4a8-0_2-21-26_20200229204957.parquet |  1 | 2020/02/15 | [{bar={id=1, name=OneBar}}, {bar={id=2, name=TwoBar}},\r\n 20200229204957      | 20200229204957_0_2   | 3                  | 2020/02/17             | 3722865d-7559-4b1c-94e2-6bf993c4d4a0-0_0-21-24_20200229204957.parquet |  3 | 2020/02/17 | [{bar={id=3, name=OneBar}}, {bar={id=2, name=TwoBar}},\r\n 20200229204957      | 20200229204957_1_3   | 4                  | 2020/02/18             | 6e70cd2b-d922-425d-b94b-1f35691758b2-0_1-21-25_20200229204957.parquet |  4 | 2020/02/18 | [{bar={id=4, name=OneBar}}, {bar={id=2, name=TwoBar}},\r\n 20200229204957      | 20200229204957_3_4   | 2                  | 2020/02/16             | f2a71bf6-ee01-4310-a8f3-2c4b1b1ab34e-0_3-21-27_20200229204957.parquet |  2 | 2020/02/16 | [{bar={id=2, name=OneBar}}, {bar={id=2, name=TwoBar}},\r\n(4 rows)\r\n\r\nQuery 20200229_205341_00003_xjxz7, FINISHED, 1 node\r\nSplits: 20 total, 20 done (100.00%)\r\n0:23 [4 rows, 4.68KB] [0 rows/s, 212B/s]\r\n\r\npresto:default>\r\n\r\n\r\n\r\nCan you confirm if the Presto \"show column from table\" schema matches mine especially for the case where simple id is not present in the array element when you are querying from hudi parquet file?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/592997350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593049426","html_url":"https://github.com/apache/hudi/pull/1360#issuecomment-593049426","issue_url":"https://api.github.com/repos/apache/hudi/issues/1360","id":593049426,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzA0OTQyNg==","user":{"login":"OpenOpened","id":23738217,"node_id":"MDQ6VXNlcjIzNzM4MjE3","avatar_url":"https://avatars.githubusercontent.com/u/23738217?v=4","gravatar_id":"","url":"https://api.github.com/users/OpenOpened","html_url":"https://github.com/OpenOpened","followers_url":"https://api.github.com/users/OpenOpened/followers","following_url":"https://api.github.com/users/OpenOpened/following{/other_user}","gists_url":"https://api.github.com/users/OpenOpened/gists{/gist_id}","starred_url":"https://api.github.com/users/OpenOpened/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OpenOpened/subscriptions","organizations_url":"https://api.github.com/users/OpenOpened/orgs","repos_url":"https://api.github.com/users/OpenOpened/repos","events_url":"https://api.github.com/users/OpenOpened/events{/privacy}","received_events_url":"https://api.github.com/users/OpenOpened/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T03:44:03Z","updated_at":"2020-03-01T03:44:03Z","author_association":"CONTRIBUTOR","body":"@xushiyan Based on your suggestions, I have optimized the code, please check it again. thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593049426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593050937","html_url":"https://github.com/apache/hudi/pull/1360#issuecomment-593050937","issue_url":"https://api.github.com/repos/apache/hudi/issues/1360","id":593050937,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzA1MDkzNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T04:07:03Z","updated_at":"2020-03-09T07:39:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1360?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@b7f35be`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `39.36%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1360/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1360?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #1360   +/-   ##\n=========================================\n  Coverage          ?   67.03%           \n  Complexity        ?      230           \n=========================================\n  Files             ?      336           \n  Lines             ?    16373           \n  Branches          ?     1672           \n=========================================\n  Hits              ?    10976           \n  Misses            ?     4656           \n  Partials          ?      741\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1360?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../apache/hudi/utilities/HoodieSnapshotExporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1360/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZVNuYXBzaG90RXhwb3J0ZXIuamF2YQ==) | `39.36% <39.36%> ()` | `7 <7> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1360?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1360?src=pr&el=footer). Last update [b7f35be...45c0872](https://codecov.io/gh/apache/incubator-hudi/pull/1360?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593050937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593063573","html_url":"https://github.com/apache/hudi/pull/1364#issuecomment-593063573","issue_url":"https://api.github.com/repos/apache/hudi/issues/1364","id":593063573,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzA2MzU3Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T06:54:05Z","updated_at":"2020-03-01T06:54:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1364?src=pr&el=h1) Report\n> Merging [#1364](https://codecov.io/gh/apache/incubator-hudi/pull/1364?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/acf359c834bc1d9b9c4ea64d362ea20c7410c70a?src=pr&el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1364/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1364?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1364      +/-   ##\n============================================\n- Coverage     67.09%   67.08%   -0.02%     \n  Complexity      223      223              \n============================================\n  Files           333      333              \n  Lines         16207    16207              \n  Branches       1657     1657              \n============================================\n- Hits          10874    10872       -2     \n- Misses         4597     4598       +1     \n- Partials        736      737       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1364?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1364/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `79.79% <0%> (-1.02%)` | `8% <0%> ()` | |\n| [...che/hudi/common/util/BufferedRandomAccessFile.java](https://codecov.io/gh/apache/incubator-hudi/pull/1364/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQnVmZmVyZWRSYW5kb21BY2Nlc3NGaWxlLmphdmE=) | `54.38% <0%> (-0.88%)` | `0% <0%> ()` | |\n| [...a/org/apache/hudi/common/util/collection/Pair.java](https://codecov.io/gh/apache/incubator-hudi/pull/1364/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9QYWlyLmphdmE=) | `76% <0%> (+4%)` | `0% <0%> ()` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1364?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1364?src=pr&el=footer). Last update [acf359c...b972b17](https://codecov.io/gh/apache/incubator-hudi/pull/1364?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593063573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593074963","html_url":"https://github.com/apache/hudi/pull/1106#issuecomment-593074963","issue_url":"https://api.github.com/repos/apache/hudi/issues/1106","id":593074963,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzA3NDk2Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T09:27:31Z","updated_at":"2020-03-18T15:17:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1106?src=pr&el=h1) Report\n> Merging [#1106](https://codecov.io/gh/apache/incubator-hudi/pull/1106?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/779edc068865898049569da0fe750574f93a0dca&el=desc) will **decrease** coverage by `0.37%`.\n> The diff coverage is `3.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1106/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1106?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1106      +/-   ##\n============================================\n- Coverage     67.78%   67.41%   -0.38%     \n  Complexity      245      245              \n============================================\n  Files           338      339       +1     \n  Lines         16386    16474      +88     \n  Branches       1677     1682       +5     \n============================================\n- Hits          11108    11106       -2     \n- Misses         4539     4630      +91     \n+ Partials        739      738       -1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1106?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `83.91% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...g/apache/hudi/metrics/InMemoryMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Jbk1lbW9yeU1ldHJpY3NSZXBvcnRlci5qYXZh) | `40.00% <0.00%> (-35.00%)` | `0.00 <0.00> ()` | |\n| [...va/org/apache/hudi/metrics/JmxMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9KbXhNZXRyaWNzUmVwb3J0ZXIuamF2YQ==) | `0.00% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...ava/org/apache/hudi/metrics/JmxReporterServer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9KbXhSZXBvcnRlclNlcnZlci5qYXZh) | `0.00% <0.00%> ()` | `0.00 <0.00> (?)` | |\n| [...g/apache/hudi/metrics/MetricsGraphiteReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzR3JhcGhpdGVSZXBvcnRlci5qYXZh) | `0.00% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [.../java/org/apache/hudi/metrics/MetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzUmVwb3J0ZXIuamF2YQ==) | `100.00% <> ()` | `0.00 <0.00> ()` | |\n| [...rg/apache/hudi/metrics/MetricsReporterFactory.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzUmVwb3J0ZXJGYWN0b3J5LmphdmE=) | `46.15% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...va/org/apache/hudi/config/HoodieMetricsConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZU1ldHJpY3NDb25maWcuamF2YQ==) | `52.77% <42.85%> (-2.07%)` | `0.00 <0.00> ()` | |\n| [...src/main/java/org/apache/hudi/metrics/Metrics.java](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzLmphdmE=) | `56.75% <50.00%> (-11.82%)` | `0.00 <0.00> ()` | |\n| ... and [2 more](https://codecov.io/gh/apache/incubator-hudi/pull/1106/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1106?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1106?src=pr&el=footer). Last update [779edc0...183cbdd](https://codecov.io/gh/apache/incubator-hudi/pull/1106?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593074963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593080033","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-593080033","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":593080033,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzA4MDAzMw==","user":{"login":"meijies","id":13784260,"node_id":"MDQ6VXNlcjEzNzg0MjYw","avatar_url":"https://avatars.githubusercontent.com/u/13784260?v=4","gravatar_id":"","url":"https://api.github.com/users/meijies","html_url":"https://github.com/meijies","followers_url":"https://api.github.com/users/meijies/followers","following_url":"https://api.github.com/users/meijies/following{/other_user}","gists_url":"https://api.github.com/users/meijies/gists{/gist_id}","starred_url":"https://api.github.com/users/meijies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meijies/subscriptions","organizations_url":"https://api.github.com/users/meijies/orgs","repos_url":"https://api.github.com/users/meijies/repos","events_url":"https://api.github.com/users/meijies/events{/privacy}","received_events_url":"https://api.github.com/users/meijies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T10:22:32Z","updated_at":"2020-03-01T10:22:32Z","author_association":"NONE","body":"Could you please add me to Slack :) email is meijie.work@gmail.com? Thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593080033/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593086199","html_url":"https://github.com/apache/hudi/pull/1106#issuecomment-593086199","issue_url":"https://api.github.com/repos/apache/hudi/issues/1106","id":593086199,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzA4NjE5OQ==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T11:26:52Z","updated_at":"2020-03-01T11:26:52Z","author_association":"CONTRIBUTOR","body":"hi @vinothchandar @leesf Thanks, I have addressed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593086199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593244136","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-593244136","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":593244136,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI0NDEzNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T06:36:32Z","updated_at":"2020-03-02T07:22:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1290?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@078d482`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1290/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1290?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #1290   +/-   ##\n=========================================\n  Coverage          ?   67.09%           \n  Complexity        ?      223           \n=========================================\n  Files             ?      333           \n  Lines             ?    16216           \n  Branches          ?     1659           \n=========================================\n  Hits              ?    10880           \n  Misses            ?     4598           \n  Partials          ?      738\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1290?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1290?src=pr&el=footer). Last update [078d482...7be999a](https://codecov.io/gh/apache/incubator-hudi/pull/1290?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593244136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593244943","html_url":"https://github.com/apache/hudi/pull/1355#issuecomment-593244943","issue_url":"https://api.github.com/repos/apache/hudi/issues/1355","id":593244943,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI0NDk0Mw==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T06:39:33Z","updated_at":"2020-03-02T06:39:33Z","author_association":"MEMBER","body":"@n3nash please take a look and let me know if you think this change is not needed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593244943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593245486","html_url":"https://github.com/apache/hudi/pull/1341#issuecomment-593245486","issue_url":"https://api.github.com/repos/apache/hudi/issues/1341","id":593245486,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI0NTQ4Ng==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T06:41:38Z","updated_at":"2020-03-02T06:41:38Z","author_association":"MEMBER","body":"@n3nash Please take a look","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593245486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593245510","html_url":"https://github.com/apache/hudi/pull/1354#issuecomment-593245510","issue_url":"https://api.github.com/repos/apache/hudi/issues/1354","id":593245510,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI0NTUxMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T06:41:43Z","updated_at":"2020-03-02T06:41:43Z","author_association":"MEMBER","body":"@lresende we will try to incorporate that.. \r\n\r\nWould you be able to make a pass at the poms/jars to flag additional issues, we have? Our undestanding is that, as long as we list all the 3rd party (non ASF projects) software exhaustively from our fat jars and source dependencies, we should be good?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593245510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593252380","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-593252380","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":593252380,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI1MjM4MA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T07:05:49Z","updated_at":"2020-03-02T07:35:45Z","author_association":"MEMBER","body":"hi @bhasudha, addressed and add `--packages` to READ.ME doc.   Thanks  \r\n```\r\nspark-2.4.4-bin-hadoop2.7/bin/spark-shell \\\r\n  --packages org.apache.spark:spark-avro_2.11:2.4.4 \\\r\n  --jars `ls packaging/hudi-spark-bundle/target/hudi-spark-bundle_2.11-*.*.*-SNAPSHOT.jar` \\\r\n  --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593252380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593252610","html_url":"https://github.com/apache/hudi/pull/1341#issuecomment-593252610","issue_url":"https://api.github.com/repos/apache/hudi/issues/1341","id":593252610,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI1MjYxMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T07:06:42Z","updated_at":"2020-03-04T02:57:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1341?src=pr&el=h1) Report\n> Merging [#1341](https://codecov.io/gh/apache/incubator-hudi/pull/1341?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/acf359c834bc1d9b9c4ea64d362ea20c7410c70a?src=pr&el=desc) will **decrease** coverage by `0.13%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1341/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1341?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1341      +/-   ##\n============================================\n- Coverage     67.09%   66.96%   -0.14%     \n+ Complexity      223      221       -2     \n============================================\n  Files           333      334       +1     \n  Lines         16207    16276      +69     \n  Branches       1657     1661       +4     \n============================================\n+ Hits          10874    10899      +25     \n- Misses         4597     4638      +41     \n- Partials        736      739       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1341?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0Fic3RyYWN0SG9vZGllV3JpdGVDbGllbnQuamF2YQ==) | `70.89% <0%> (-4.24%)` | `0% <0%> ()` | |\n| [...che/hudi/common/table/log/HoodieLogFileReader.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGaWxlUmVhZGVyLmphdmE=) | `74.02% <0%> (-3.53%)` | `0% <0%> ()` | |\n| [...apache/hudi/common/model/HoodieCommitMetadata.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUNvbW1pdE1ldGFkYXRhLmphdmE=) | `54.58% <0%> (-3.5%)` | `0% <0%> ()` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `79.79% <0%> (-1.02%)` | `8% <0%> ()` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `76.92% <0%> ()` | `0% <0%> ()` | :arrow_down: |\n| [...g/apache/hudi/common/model/WriteOperationType.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1dyaXRlT3BlcmF0aW9uVHlwZS5qYXZh) | `57.14% <0%> ()` | `0% <0%> (?)` | |\n| [...java/org/apache/hudi/client/HoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `69.77% <0%> (+0.54%)` | `0% <0%> ()` | :arrow_down: |\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `50.56% <0%> (+3.06%)` | `0% <0%> ()` | :arrow_down: |\n| [...a/org/apache/hudi/common/util/collection/Pair.java](https://codecov.io/gh/apache/incubator-hudi/pull/1341/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9QYWlyLmphdmE=) | `76% <0%> (+4%)` | `0% <0%> ()` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1341?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1341?src=pr&el=footer). Last update [acf359c...64c8ef0](https://codecov.io/gh/apache/incubator-hudi/pull/1341?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593252610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593259405","html_url":"https://github.com/apache/hudi/pull/1354#issuecomment-593259405","issue_url":"https://api.github.com/repos/apache/hudi/issues/1354","id":593259405,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI1OTQwNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T07:28:35Z","updated_at":"2020-03-07T14:53:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1354?src=pr&el=h1) Report\n> Merging [#1354](https://codecov.io/gh/apache/incubator-hudi/pull/1354?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/90227eeda757516abdd06b436ae08a4adacc28e1?src=pr&el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1354/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1354?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1354      +/-   ##\n============================================\n- Coverage     66.95%   66.94%   -0.02%     \n  Complexity      223      223              \n============================================\n  Files           335      335              \n  Lines         16279    16279              \n  Branches       1661     1661              \n============================================\n- Hits          10900    10898       -2     \n- Misses         4640     4642       +2     \n  Partials        739      739\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1354?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...g/apache/hudi/metrics/InMemoryMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1354/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Jbk1lbW9yeU1ldHJpY3NSZXBvcnRlci5qYXZh) | `25% <0%> (-50%)` | `0% <0%> ()` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1354?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1354?src=pr&el=footer). Last update [90227ee...033f33a](https://codecov.io/gh/apache/incubator-hudi/pull/1354?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593259405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593277561","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-593277561","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":593277561,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI3NzU2MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T08:21:23Z","updated_at":"2020-05-15T05:23:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1151?src=pr&el=h1) Report\n> Merging [#1151](https://codecov.io/gh/apache/incubator-hudi/pull/1151?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/2a56f82908a8b8f788a7547d3c707c144696c1df&el=desc) will **increase** coverage by `0.08%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1151/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1151?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1151      +/-   ##\n============================================\n+ Coverage     71.65%   71.73%   +0.08%     \n- Complexity      294     1089     +795     \n============================================\n  Files           378      385       +7     \n  Lines         16541    16604      +63     \n  Branches       1670     1669       -1     \n============================================\n+ Hits          11852    11911      +59     \n- Misses         3957     3963       +6     \n+ Partials        732      730       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1151?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...rg/apache/hudi/common/model/HoodieAvroPayload.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUF2cm9QYXlsb2FkLmphdmE=) | `78.57% <0.00%> (-6.05%)` | `0.00 <0.00> ()` | |\n| [...g/apache/hudi/metrics/InMemoryMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Jbk1lbW9yeU1ldHJpY3NSZXBvcnRlci5qYXZh) | `40.00% <0.00%> (-40.00%)` | `0.00% <0.00%> (%)` | |\n| [...src/main/java/org/apache/hudi/metrics/Metrics.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzLmphdmE=) | `56.75% <0.00%> (-10.82%)` | `0.00% <0.00%> (%)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `0.00% <0.00%> (%)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `56.71% <0.00%> (-7.15%)` | `0.00% <0.00%> (%)` | |\n| [...le/action/rollback/BaseRollbackActionExecutor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL0Jhc2VSb2xsYmFja0FjdGlvbkV4ZWN1dG9yLmphdmE=) | `70.83% <0.00%> (-6.95%)` | `0.00% <0.00%> (%)` | |\n| [.../main/java/org/apache/hudi/common/util/Option.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT3B0aW9uLmphdmE=) | `75.67% <0.00%> (-5.41%)` | `17.00% <0.00%> (+17.00%)` | :arrow_down: |\n| [...ain/java/org/apache/hudi/avro/HoodieAvroUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXZyby9Ib29kaWVBdnJvVXRpbHMuamF2YQ==) | `80.95% <0.00%> (-3.87%)` | `22.00% <0.00%> (+22.00%)` | :arrow_down: |\n| [...g/apache/hudi/table/action/clean/CleanPlanner.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NsZWFuL0NsZWFuUGxhbm5lci5qYXZh) | `86.86% <0.00%> (-2.89%)` | `5.00% <0.00%> (+5.00%)` | :arrow_down: |\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `55.55% <0.00%> (-1.15%)` | `0.00% <0.00%> (%)` | |\n| ... and [69 more](https://codecov.io/gh/apache/incubator-hudi/pull/1151/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1151?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1151?src=pr&el=footer). Last update [2a56f82...56f5a7a](https://codecov.io/gh/apache/incubator-hudi/pull/1151?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593277561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593306470","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-593306470","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":593306470,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzMwNjQ3MA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T09:28:39Z","updated_at":"2020-03-02T09:28:39Z","author_association":"CONTRIBUTOR","body":"@garyli1019 If I understand it correctly, you are talking of a use case where you are using HoodieDeltaStreamer along with using spark data source as a backup. Why do you want to have two different pipelines writing to the same destination path? \r\n\r\nIf you really want to have a backup to prevent any data loss, you can write to a separate path using spark data source and continue using DeltaStreamer to write to Hudi dataset. In case of any issues, you can always use CHECKPOINT_RESET_KEY to ingest the data from your back up path into your Hudi dataset path. We have support for kafka as well as DFS source for this purpose. \r\n\r\nAlso what is the source for your homebrew spark? If it is also consuming from kafka, then I do not see any case where using DeltaStreamer can result in data loss. Can you please explain why do you want to use two pipelines for writing to the same destination path? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593306470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593433072","html_url":"https://github.com/apache/hudi/pull/1157#issuecomment-593433072","issue_url":"https://api.github.com/repos/apache/hudi/issues/1157","id":593433072,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzQzMzA3Mg==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T14:37:20Z","updated_at":"2020-03-02T14:37:36Z","author_association":"CONTRIBUTOR","body":"@bvaradar As you said keep operationType string here, and I had resolve all conflict.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593433072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593560005","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-593560005","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":593560005,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU2MDAwNQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T18:55:02Z","updated_at":"2020-03-02T18:55:02Z","author_association":"CONTRIBUTOR","body":"@lamber-ken @leesf @nsivabalan : Yes, the additional string conversion is not needed. So, I refactored a little bit to use correct bloom-filter serialization method (based on whether compression is enabled or not). \r\n\r\n@lamber-ken : I am observing the same behavior when comparing compression vs non-compression case. I see that compression performs poorly based on the bloom filter utilization (number of keys stored in bloom-filter).  I see that snappy also behaves in the same way (although poorly compared to gzip).  I would need to investigate further on this.\r\n\r\nResult \r\n\r\n```\r\ntest random keys\r\noriginal size: 4792548\r\ncompress size (utilization=10%) : 2150956, CompressToOriginal=44\r\ncompress size (utilization=20%) : 3078736, CompressToOriginal=64\r\ncompress size (utilization=30%) : 3638548, CompressToOriginal=75\r\ncompress size (utilization=40%) : 3977508, CompressToOriginal=82\r\ncompress size (utilization=50%) : 4258972, CompressToOriginal=88\r\ncompress size (utilization=60%) : 4490484, CompressToOriginal=93\r\ncompress size (utilization=70%) : 4647776, CompressToOriginal=96\r\ncompress size (utilization=80%) : 4750028, CompressToOriginal=99\r\ncompress size (utilization=90%) : 4794040, CompressToOriginal=100\r\n\r\ntest sequential keys\r\noriginal size: 4792548\r\nUsing Byte[] - compress size (utilization=10%) : 2150852, CompressToOriginal=44\r\nUsing Byte[] - compress size (utilization=20%) : 3078332, CompressToOriginal=64\r\nUsing Byte[] - compress size (utilization=30%) : 3639000, CompressToOriginal=75\r\nUsing Byte[] - compress size (utilization=40%) : 3977764, CompressToOriginal=82\r\nUsing Byte[] - compress size (utilization=50%) : 4258544, CompressToOriginal=88\r\nUsing Byte[] - compress size (utilization=60%) : 4490372, CompressToOriginal=93\r\nUsing Byte[] - compress size (utilization=70%) : 4647832, CompressToOriginal=96\r\nUsing Byte[] - compress size (utilization=80%) : 4749928, CompressToOriginal=99\r\nUsing Byte[] - compress size (utilization=90%) : 4794040, CompressToOriginal=100\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nTest - Code : \r\n```\r\n@Test\r\n  public void testit() {\r\n    int[] utilization = new int[] { 10, 20, 30, 40, 50, 60, 70, 80, 90};\r\n\r\n    System.out.println(\"test random keys\");\r\n    int originalSize = 0;\r\n    for (int i = 0; i < utilization.length; i++) {\r\n      SimpleBloomFilter filter = new SimpleBloomFilter(1000000, 0.000001, Hash.MURMUR_HASH);\r\n      int numKeys = 10000 * utilization[i];\r\n      for (int j = 0; j < numKeys; j++) {\r\n        String key = UUID.randomUUID().toString();\r\n        filter.add(key);\r\n      }\r\n\r\n      if (i == 0) {\r\n        originalSize = filter.serializeToString().length();\r\n        System.out.println(\"original size: \" + filter.serializeToString().length());\r\n      }\r\n      int compressedSize = GzipCompressionUtils.compress(filter.serializeToBytes()).length();\r\n      System.out.println(\"compress size (utilization=\" + utilization[i] + \"%) : \"\r\n          +  compressedSize + \", CompressToOriginal=\" + (compressedSize * 100/originalSize));\r\n    }\r\n\r\n    System.out.println(\"\\ntest sequential keys\");\r\n\r\n    for (int i = 0; i < utilization.length; i++) {\r\n      SimpleBloomFilter filter = new SimpleBloomFilter(1000000, 0.000001, Hash.MURMUR_HASH);\r\n      int numKeys = 10000 * utilization[i];\r\n      for (int j = 0; j < numKeys; j++) {\r\n        String key = \"key-\" + j;\r\n        filter.add(key);\r\n      }\r\n      if (i == 0) {\r\n        originalSize = filter.serializeToString().length();\r\n        System.out.println(\"original size: \" + filter.serializeToString().length());\r\n      }\r\n      int compressedSize = GzipCompressionUtils.compress(filter.serializeToBytes()).length();\r\n      System.out.println(\"Using Byte[] - compress size (utilization=\" + utilization[i] + \"%) : \"\r\n          + compressedSize + \", CompressToOriginal=\" + (compressedSize * 100/originalSize));\r\n    }\r\n  }\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593560005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593562940","html_url":"https://github.com/apache/hudi/pull/1333#issuecomment-593562940","issue_url":"https://api.github.com/repos/apache/hudi/issues/1333","id":593562940,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU2Mjk0MA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:01:43Z","updated_at":"2020-03-02T19:01:43Z","author_association":"CONTRIBUTOR","body":"@garyli1019  Thanks for the Impala related docs. When time permits, please add Impala's support in the Support Matrix I have added in this page for each query engine and Hudi Table type.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593562940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593566035","html_url":"https://github.com/apache/hudi/pull/1333#issuecomment-593566035","issue_url":"https://api.github.com/repos/apache/hudi/issues/1333","id":593566035,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU2NjAzNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:08:10Z","updated_at":"2020-03-02T19:08:10Z","author_association":"MEMBER","body":"lets open a JIRA for this.. \r\n\r\n@bhasudha if you don't mind, I ll land this and open a follow up with minor fixes.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593566035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593571838","html_url":"https://github.com/apache/hudi/pull/1253#issuecomment-593571838","issue_url":"https://api.github.com/repos/apache/hudi/issues/1253","id":593571838,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU3MTgzOA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:20:53Z","updated_at":"2020-03-02T19:20:53Z","author_association":"CONTRIBUTOR","body":"Marking as WIP for now. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593571838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593578500","html_url":"https://github.com/apache/hudi/pull/1128#issuecomment-593578500","issue_url":"https://api.github.com/repos/apache/hudi/issues/1128","id":593578500,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU3ODUwMA==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:35:33Z","updated_at":"2020-03-02T23:34:17Z","author_association":"NONE","body":"I'm not sure if this is a separate issue or not (seems very similar but not identical), so am leaving a comment here. Somehow, we have an empty `.clean` file (the commit was successful). This has caused:\r\n\r\n`20/03/02 18:17:56 ERROR HoodieCommitArchiveLog: Failed to archive commits, .commit file: 20200221211054.clean\r\njava.io.IOException: Not an Avro data file`\r\n\r\nNote this was created by a production release (0.5.0) version of Hudi. We updated our Hudi version to 0.5.1 (and 0.5.2) and it's still not able to handle it. I guess we can delete the 0 byte offending `.clean` file and everything will work....\r\n\r\nYes, so deleting that file worked. I'm not sure if the `.clean` files are supposed to be archived as well as the `.commit` files (they are not, at the moment)?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593578500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593579929","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-593579929","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":593579929,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU3OTkyOQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:38:45Z","updated_at":"2020-03-02T19:38:45Z","author_association":"MEMBER","body":"@pratyakshsharma Thanks for reviewing this PR.\r\nI can say more about my use cases:\r\n\r\n- I am using Kafka connect to sink Kafka to HDFS every 30 minutes, partitioned by the arrival time(year=xx/month=xx/day=xx/hour=xx)\r\n- The homebrew spark Datasource I built is using (the current time - the last Hudi commit timestamp) to find a `timeWindow` and use it to load the data generated by Kafka connect.\r\n- I will be easy to switch to delta streamer with DFS source, but a little bit tricky to switch to Kafka, because there is a delay caused by the Kafka connect. \r\n\r\nSo right now, if I switch to delta streamer directly ingesting from Kafka, I will start from the `LATEST` checkpoint, and `EARLIEST` is not possible because my Kafka cluster retention time is pretty long. \r\nThe data loss I mentioned in the few hours gap between the commit I switched from my homebrew Spark data source reader to delta streamer. All I need to do is in this commit, I run the delta streamer first to store the `LATEST` checkpoint, then run my data source reader to read the data in those few hours gap. Only need one parallel run here then I will be good to go with the delta streamer.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593579929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593753301","html_url":"https://github.com/apache/hudi/pull/1360#issuecomment-593753301","issue_url":"https://api.github.com/repos/apache/hudi/issues/1360","id":593753301,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzc1MzMwMQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T03:50:42Z","updated_at":"2020-03-03T04:10:01Z","author_association":"MEMBER","body":"@OpenOpened Thanks for the changes. I saw there are issues with existing Copier tests which need some further refactoring and fixing. \r\n\r\nI'd like to set a realistic criteria for merging this PR: as we don't have to make the utility perfect in the first round so I'd give +1 as long as the functionality works in a basic manner: output can be generated and put an `@experimental` in the class docs without `@deprecate` the original Copier. Please kindly share your input. @leesf @vinothchandar thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593753301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593767316","html_url":"https://github.com/apache/hudi/pull/1367#issuecomment-593767316","issue_url":"https://api.github.com/repos/apache/hudi/issues/1367","id":593767316,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzc2NzMxNg==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T04:54:26Z","updated_at":"2020-03-03T04:54:26Z","author_association":"MEMBER","body":"@bhasudha Please review. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593767316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593767854","html_url":"https://github.com/apache/hudi/pull/1368#issuecomment-593767854","issue_url":"https://api.github.com/repos/apache/hudi/issues/1368","id":593767854,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzc2Nzg1NA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T04:56:55Z","updated_at":"2020-03-03T04:56:55Z","author_association":"MEMBER","body":"@bvaradar I briefly talked to you about this earlier today. Please take a look and let me know what you think. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593767854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593770649","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-593770649","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":593770649,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzc3MDY0OQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T05:09:43Z","updated_at":"2020-03-03T05:09:43Z","author_association":"MEMBER","body":"I think running the parallel jobs once sounds a little bit hacky. The best way should be to generate the checkpoint string and pass it to the delta streamer in the first run. In this way, I will need to write a checkpoint generator to scan all the files generated by Kafka connect. This is definitely doable but needs some effort. \r\nSo I think we can do this to help the users migrate to delta streamer:\r\n- checkPointGenerator helper functions help users generate the checkpoint from popular sink connectors(Kafka connect, Spark streaming e.t.c)\r\n- Allow the user to commit without using delta streamer to fix the gap if the checkpoint is difficult to generate.\r\nAny thoughts? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593770649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593813910","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-593813910","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":593813910,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzgxMzkxMA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T07:48:42Z","updated_at":"2020-03-03T07:48:42Z","author_association":"CONTRIBUTOR","body":"@garyli1019 still I feel all these challenges are arising because you are trying to ingest data in the same dataset using 2 different spark jobs. Few questions - \r\n\r\n1. If the kafka cluster retention time is too long, have you tried using BULK_INSERT mode of Hudi?If not, you can tune parameters around spark and Hudi to increase source limit and then ingest the data. Else you can also try using DeltaStreamer in continuous mode. \r\n2. Also I would like to know the reason behind switching everytime from homebrew spark to Hudi. Are you doing some POC on Hudi? Why don't you simply use DeltaStreamer and never switch to the other data source? The data loss will not happen if you simply rely on one of the data sources :) \r\n\r\nI am a bit skeptical of trying to use 2 pipelines to write to same destination path. Additionally we have options available for taking backup of your hudi dataset or for migrating existing dataset to Hudi. Anyways if you strongly feel the need to write this checkPointGenerator, let us hear the opinion of @leesf and @vinothchandar as well on this before proceeding. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593813910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593852722","html_url":"https://github.com/apache/hudi/pull/1157#issuecomment-593852722","issue_url":"https://api.github.com/repos/apache/hudi/issues/1157","id":593852722,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg1MjcyMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T09:30:19Z","updated_at":"2020-03-03T09:30:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1157?src=pr&el=h1) Report\n> Merging [#1157](https://codecov.io/gh/apache/incubator-hudi/pull/1157?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/2d040145810b8b14c59c5882f9115698351039d1?src=pr&el=desc) will **decrease** coverage by `0.09%`.\n> The diff coverage is `80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1157/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1157?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master    #1157     +/-   ##\n===========================================\n- Coverage     67.09%   66.99%   -0.1%     \n  Complexity      223      223             \n===========================================\n  Files           333      334      +1     \n  Lines         16216    16269     +53     \n  Branches       1659     1660      +1     \n===========================================\n+ Hits          10880    10900     +20     \n- Misses         4598     4632     +34     \n+ Partials        738      737      -1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1157?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../org/apache/hudi/table/HoodieCommitArchiveLog.java](https://codecov.io/gh/apache/incubator-hudi/pull/1157/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllQ29tbWl0QXJjaGl2ZUxvZy5qYXZh) | `75% <> ()` | `0 <0> ()` | :arrow_down: |\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1157/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0Fic3RyYWN0SG9vZGllV3JpdGVDbGllbnQuamF2YQ==) | `70.89% <100%> (-4.24%)` | `0 <0> ()` | |\n| [...apache/hudi/common/model/HoodieCommitMetadata.java](https://codecov.io/gh/apache/incubator-hudi/pull/1157/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUNvbW1pdE1ldGFkYXRhLmphdmE=) | `54.58% <100%> (-3.5%)` | `0 <0> ()` | |\n| [...java/org/apache/hudi/client/HoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1157/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `69.77% <100%> (+0.54%)` | `0 <0> ()` | :arrow_down: |\n| [...g/apache/hudi/common/model/WriteOperationType.java](https://codecov.io/gh/apache/incubator-hudi/pull/1157/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1dyaXRlT3BlcmF0aW9uVHlwZS5qYXZh) | `57.14% <57.14%> ()` | `0 <0> (?)` | |\n| [...n/java/org/apache/hudi/common/model/HoodieKey.java](https://codecov.io/gh/apache/incubator-hudi/pull/1157/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUtleS5qYXZh) | `94.44% <0%> (+5.55%)` | `0% <0%> ()` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1157?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1157?src=pr&el=footer). Last update [2d04014...e34024f](https://codecov.io/gh/apache/incubator-hudi/pull/1157?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/593852722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594096377","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-594096377","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":594096377,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA5NjM3Nw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T18:24:22Z","updated_at":"2020-03-03T18:24:22Z","author_association":"MEMBER","body":"@pratyakshsharma So let's forget about my homebrew Spark data source reader. Let's assume I am using delta streamer consuming DFS source, now I'd like to switch to delta streamer consuming Kafka source. The data arrive at DFS and Kafka is asynchronous. DFS source has 30 minutes delay from Kafka.  \r\nSo basically I'd like to switch from: **Kafka -> HDFS raw parquet -> Hudi table** to **Kafka -> Hudi table**. If you have a good solution for this case please let me know. \r\n\r\n- The problem I have here is Kafka retention time is long but not long enough to cover all the data. All the raw data I have is in DFS and they are keep coming in. If I simply do BULK_INSERT from EARLIEST checkpoint from Kafka, I will lose data. If I do HDFS import first, then UPSERT from:\r\n   the EARLIEST checkpoint, it could eat up the resources of both my Spark cluster and Kafka cluster because the data volume is huge. \r\n   the LATEST checkpoint, I will lose data(30 mins gap). \r\n- There are some Hudi users are not using Delta Streamer in the first place and would like to switch to it later I believe. And I am one of them. Cause form a user perspective, I won't fully trust a framework until I fully understand and gain enough experience with it.   \r\n\r\nCurrently, I couldn't find a perfect way to switch to delta streamer cause:\r\nI need to make a non-deltastreamer commit to append the gap data into the Hudi dataset but this commit will let me lose the checkpoint. Let's not say this is a parallel pipeline cause it's confusing. This is a one-time thing to fix the data gap from two different sources and the delta streamer will be the only one to do the sink later. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594096377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594098686","html_url":"https://github.com/apache/hudi/pull/1128#issuecomment-594098686","issue_url":"https://api.github.com/repos/apache/hudi/issues/1128","id":594098686,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA5ODY4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T18:29:18Z","updated_at":"2020-03-03T18:29:18Z","author_association":"MEMBER","body":"@bwu2 IIRC we added a flag to skip the archiving.. (not very ideal).. if you can help us reproduce this, it would be useful. \r\n\r\nideally, if you can share the contents of `.hoodie` metadata , we can pry and see what happened.. \r\n\r\nis this easily reproducible?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594098686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594110870","html_url":"https://github.com/apache/hudi/pull/1354#issuecomment-594110870","issue_url":"https://api.github.com/repos/apache/hudi/issues/1354","id":594110870,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDExMDg3MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T18:56:15Z","updated_at":"2020-03-04T03:36:00Z","author_association":"MEMBER","body":"This should be entire list on non-apache deps\r\n\r\n```\r\nincubator-hudi$ grep -h \"<include>\" packaging/*/pom.xml | sed -e 's/^[ \\t]*//' | grep -v \"org.apache\" | sort | uniq\r\n<include>com.101tec:zkclient</include>\r\n<include>com.beust:jcommander</include>\r\n<include>com.esotericsoftware:kryo-shaded</include>\r\n<include>com.esotericsoftware:minlog</include>\r\n<include>com.fasterxml.jackson.core:jackson-annotations</include>\r\n<include>com.fasterxml.jackson.core:jackson-core</include>\r\n<include>com.fasterxml.jackson.core:jackson-databind</include>\r\n<include>com.twitter:bijection-avro_${scala.binary.version}</include>\r\n<include>com.twitter:bijection-core_${scala.binary.version}</include>\r\n<include>com.yammer.metrics:metrics-core</include>\r\n<include>io.confluent:common-config</include>\r\n<include>io.confluent:common-utils</include>\r\n<include>io.confluent:kafka-avro-serializer</include>\r\n<include>io.confluent:kafka-schema-registry-client</include>\r\n<include>io.dropwizard.metrics:metrics-core</include>\r\n<include>io.dropwizard.metrics:metrics-graphite</include>\r\n<include>io.javalin:javalin</include>\r\n<include>log4j:log4j</include>\r\n<include>org.antlr:stringtemplate</include>\r\n<include>org.codehaus.jackson:jackson-core-asl</include>\r\n<include>org.codehaus.jackson:jackson-mapper-asl</include>\r\n<include>org.eclipse.jetty:*</include>\r\n<include>org.eclipse.jetty:jetty-client</include>\r\n<include>org.eclipse.jetty:jetty-http</include>\r\n<include>org.eclipse.jetty:jetty-io</include>\r\n<include>org.eclipse.jetty:jetty-security</include>\r\n<include>org.eclipse.jetty:jetty-server</include>\r\n<include>org.eclipse.jetty:jetty-servlet</include>\r\n<include>org.eclipse.jetty:jetty-util</include>\r\n<include>org.eclipse.jetty:jetty-webapp</include>\r\n<include>org.eclipse.jetty:jetty-xml</include>\r\n<include>org.eclipse.jetty.websocket:*</include>\r\n<include>org.eclipse.jetty.websocket:websocket-api</include>\r\n<include>org.eclipse.jetty.websocket:websocket-client</include>\r\n<include>org.eclipse.jetty.websocket:websocket-common</include>\r\n<include>org.eclipse.jetty.websocket:websocket-server</include>\r\n<include>org.eclipse.jetty.websocket:websocket-servlet</include>\r\n<include>org.jetbrains:annotations</include>\r\n<include>org.jetbrains.kotlin:*</include>\r\n<include>org.jetbrains.kotlin:kotlin-stdlib-common</include>\r\n<include>org.jetbrains.kotlin:kotlin-stdlib</include>\r\n<include>org.jetbrains.kotlin:kotlin-stdlib-jdk7</include>\r\n<include>org.jetbrains.kotlin:kotlin-stdlib-jdk8</include>\r\n<include>org.mortbay.jetty:jetty</include>\r\n<include>org.mortbay.jetty:jetty-util</include>\r\n<include>org.objenesis:objenesis</include>\r\n<include>org.rocksdb:rocksdbjni</include>\r\n```\r\n\r\nWe explicitly whitelist dependencies that get into bundles.. Will make a final pass over the licenses and NOTICE.. and get back here.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594110870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594114291","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-594114291","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":594114291,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDExNDI5MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T19:03:39Z","updated_at":"2020-03-03T19:03:39Z","author_association":"MEMBER","body":"Fix landed on master","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594114291/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594127722","html_url":"https://github.com/apache/hudi/pull/1332#issuecomment-594127722","issue_url":"https://api.github.com/repos/apache/hudi/issues/1332","id":594127722,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEyNzcyMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T19:32:29Z","updated_at":"2020-03-03T19:32:29Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1332?src=pr&el=h1) Report\n> Merging [#1332](https://codecov.io/gh/apache/incubator-hudi/pull/1332?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/2d040145810b8b14c59c5882f9115698351039d1?src=pr&el=desc) will **decrease** coverage by `66.45%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1332/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1332?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #1332       +/-   ##\n============================================\n- Coverage     67.09%   0.63%   -66.46%     \n+ Complexity      223       2      -221     \n============================================\n  Files           333     288       -45     \n  Lines         16216   14379     -1837     \n  Branches       1659    1467      -192     \n============================================\n- Hits          10880      92    -10788     \n- Misses         4598   14284     +9686     \n+ Partials        738       3      -735\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1332?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `0% <> (-76.93%)` | `0 <0> ()` | |\n| [...che/hudi/common/table/log/HoodieLogFileReader.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGaWxlUmVhZGVyLmphdmE=) | `0% <0%> (-77.56%)` | `0 <0> ()` | |\n| [...che/hudi/common/table/timeline/dto/LogFileDTO.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9Mb2dGaWxlRFRPLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| [...apache/hudi/common/model/HoodieDeltaWriteStat.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZURlbHRhV3JpdGVTdGF0LmphdmE=) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| [...org/apache/hudi/common/model/HoodieFileFormat.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUZpbGVGb3JtYXQuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| [...g/apache/hudi/execution/BulkInsertMapFunction.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhlY3V0aW9uL0J1bGtJbnNlcnRNYXBGdW5jdGlvbi5qYXZh) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| [.../common/util/queue/IteratorBasedQueueProducer.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvSXRlcmF0b3JCYXNlZFF1ZXVlUHJvZHVjZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| [...rg/apache/hudi/index/bloom/KeyRangeLookupTree.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvYmxvb20vS2V5UmFuZ2VMb29rdXBUcmVlLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| [...e/hudi/common/table/timeline/dto/FileGroupDTO.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9GaWxlR3JvdXBEVE8uamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| [...apache/hudi/timeline/service/handlers/Handler.java](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvaGFuZGxlcnMvSGFuZGxlci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> ()` | |\n| ... and [289 more](https://codecov.io/gh/apache/incubator-hudi/pull/1332/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1332?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> ` = absolute <relative> (impact)`, ` = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1332?src=pr&el=footer). Last update [2d04014...be2344e](https://codecov.io/gh/apache/incubator-hudi/pull/1332?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594127722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594188471","html_url":"https://github.com/apache/hudi/pull/1368#issuecomment-594188471","issue_url":"https://api.github.com/repos/apache/hudi/issues/1368","id":594188471,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDE4ODQ3MQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T21:51:06Z","updated_at":"2020-03-03T21:51:06Z","author_association":"MEMBER","body":"> @satishkotha : Can you check if you can do similar refactoring for AppendHandle. Also, unit test is failing. Can you take a look.\r\n\r\nYes, I can look into AppendHandle as well. Just wanted to get opinion on whether this is valuable to spend time on. I'd probably do AppendHandle in a separate PR though to make these easy to review. Let me know if you prefer having one PR.\r\n\r\nRegarding unit tests, some unrelated test is failing only in travis (passes locally). I'm re-triggering Travis build.  I will fix it soon","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594188471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594190980","html_url":"https://github.com/apache/hudi/pull/1368#issuecomment-594190980","issue_url":"https://api.github.com/repos/apache/hudi/issues/1368","id":594190980,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDE5MDk4MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T21:56:36Z","updated_at":"2020-03-03T21:56:36Z","author_association":"CONTRIBUTOR","body":"@satishkotha : It makes sense to do both changes in single PR as they both are closely aligned and part of same refactoring. Please cc me once it is ready for review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594190980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594255194","html_url":"https://github.com/apache/hudi/pull/1106#issuecomment-594255194","issue_url":"https://api.github.com/repos/apache/hudi/issues/1106","id":594255194,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDI1NTE5NA==","user":{"login":"hmatu","id":59252744,"node_id":"MDQ6VXNlcjU5MjUyNzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59252744?v=4","gravatar_id":"","url":"https://api.github.com/users/hmatu","html_url":"https://github.com/hmatu","followers_url":"https://api.github.com/users/hmatu/followers","following_url":"https://api.github.com/users/hmatu/following{/other_user}","gists_url":"https://api.github.com/users/hmatu/gists{/gist_id}","starred_url":"https://api.github.com/users/hmatu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmatu/subscriptions","organizations_url":"https://api.github.com/users/hmatu/orgs","repos_url":"https://api.github.com/users/hmatu/repos","events_url":"https://api.github.com/users/hmatu/events{/privacy}","received_events_url":"https://api.github.com/users/hmatu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T01:17:00Z","updated_at":"2020-03-04T01:17:00Z","author_association":"CONTRIBUTOR","body":"How it works? useless ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594255194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594255888","html_url":"https://github.com/apache/hudi/pull/1106#issuecomment-594255888","issue_url":"https://api.github.com/repos/apache/hudi/issues/1106","id":594255888,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDI1NTg4OA==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T01:19:37Z","updated_at":"2020-03-04T01:19:37Z","author_association":"CONTRIBUTOR","body":"> How it works? useless\r\n\r\ndocs on asf-site branch. https://github.com/apache/incubator-hudi/pull/1370","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594255888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594271065","html_url":"https://github.com/apache/hudi/pull/1232#issuecomment-594271065","issue_url":"https://api.github.com/repos/apache/hudi/issues/1232","id":594271065,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDI3MTA2NQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T01:36:35Z","updated_at":"2020-03-04T01:36:35Z","author_association":"MEMBER","body":"We have equally good online code coverage reporting at CodeCov now. So this change is not required.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594271065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594294823","html_url":"https://github.com/apache/hudi/pull/1106#issuecomment-594294823","issue_url":"https://api.github.com/repos/apache/hudi/issues/1106","id":594294823,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDI5NDgyMw==","user":{"login":"hmatu","id":59252744,"node_id":"MDQ6VXNlcjU5MjUyNzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59252744?v=4","gravatar_id":"","url":"https://api.github.com/users/hmatu","html_url":"https://github.com/hmatu","followers_url":"https://api.github.com/users/hmatu/followers","following_url":"https://api.github.com/users/hmatu/following{/other_user}","gists_url":"https://api.github.com/users/hmatu/gists{/gist_id}","starred_url":"https://api.github.com/users/hmatu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmatu/subscriptions","organizations_url":"https://api.github.com/users/hmatu/orgs","repos_url":"https://api.github.com/users/hmatu/repos","events_url":"https://api.github.com/users/hmatu/events{/privacy}","received_events_url":"https://api.github.com/users/hmatu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T02:41:57Z","updated_at":"2020-03-04T02:41:57Z","author_association":"CONTRIBUTOR","body":"In practice?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594294823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594305147","html_url":"https://github.com/apache/hudi/pull/1354#issuecomment-594305147","issue_url":"https://api.github.com/repos/apache/hudi/issues/1354","id":594305147,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDMwNTE0Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T03:23:30Z","updated_at":"2020-03-04T03:23:30Z","author_association":"CONTRIBUTOR","body":">> Folks, I think we need to add these things too since these are in the bundle.\r\n\r\n@vinothchandar you mean the list printed via `$ grep -h \"<include>\" packaging/*/pom.xml | sort | uniq -c | grep -v \"org.apache.\" `? It seems the answer is Yes from my side. Let's listen to our mentor's opinion.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594305147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594308526","html_url":"https://github.com/apache/hudi/pull/1354#issuecomment-594308526","issue_url":"https://api.github.com/repos/apache/hudi/issues/1354","id":594308526,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDMwODUyNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T03:36:56Z","updated_at":"2020-03-04T03:36:56Z","author_association":"MEMBER","body":"Updated the list again to remove some dupes ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594308526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594409237","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-594409237","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":594409237,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDQwOTIzNw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T09:17:45Z","updated_at":"2020-03-04T09:18:00Z","author_association":"CONTRIBUTOR","body":"Let me put forward my viewpoint on this. When I was in the phase of adopting Hudi, I kept my already running pipeline writing to some path and started DeltaStreamer to write to some other path. Then I used to do validation everyday for some period of time to gain enough confidence on this framework before completely switching to Hudi. \r\n\r\nComing to your point of switching from Kafka -> HDFS raw parquet -> Hudi table to Kafka -> Hudi table, I was thinking of a similar use case some time back and the simplest thing I could think of was to support having checkpoints for Hudi dataset source wise. Currently we store checkpoint \"deltastreamer.checkpoint.key\" in .commit file and this variable stores checkpoint in a particular format for every source which creates problems when you try to switch your source for the same dataset. So I think if we could simply introduce more variables like this and each one of them will store checkpoints for their corresponding sources, this use case can be solved with minimal efforts. And yes this needs development cycle since what I am proposing is not supported as of now. WDYT? \r\n\r\nCurrently to handle such scenarios, we have \"deltastreamer.checkpoint.reset_key\" configurable for every DeltaStreamer run and you can do hacks around these two variables (\"deltastreamer.checkpoint.key\" and \"deltastreamer.checkpoint.reset_key\") to get your use case solved but a clean solution should be what I proposed above. The above solution works well in cases where you want to switch sources quite frequently also.\r\n\r\nAlso would like to hear from @leesf and @vinothchandar on this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594409237/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594586125","html_url":"https://github.com/apache/hudi/issues/1371#issuecomment-594586125","issue_url":"https://api.github.com/repos/apache/hudi/issues/1371","id":594586125,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDU4NjEyNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T15:09:32Z","updated_at":"2020-03-04T15:09:32Z","author_association":"MEMBER","body":"cc @umehrot2 is this similar to what you were mentioning as well? \r\n\r\n@abhaygupta3390 IIUC you are facing this as a part of a streaming write? using the structured streaming sink? if you can share a code snippet , it will help reproduce this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594586125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594656214","html_url":"https://github.com/apache/hudi/issues/1375#issuecomment-594656214","issue_url":"https://api.github.com/repos/apache/hudi/issues/1375","id":594656214,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDY1NjIxNA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T16:50:59Z","updated_at":"2020-03-04T17:21:24Z","author_association":"MEMBER","body":"Tring to reproduce it. The application works well on yarn mode, throw the same stackstrace when using `--master local`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594656214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594751757","html_url":"https://github.com/apache/hudi/pull/1290#issuecomment-594751757","issue_url":"https://api.github.com/repos/apache/hudi/issues/1290","id":594751757,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDc1MTc1Nw==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T18:56:58Z","updated_at":"2020-03-04T18:56:58Z","author_association":"CONTRIBUTOR","body":"LGTM. I think this is in good shape to be merged. @vinothchandar Can you review the changes quickly?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594751757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594767090","html_url":"https://github.com/apache/hudi/pull/1362#issuecomment-594767090","issue_url":"https://api.github.com/repos/apache/hudi/issues/1362","id":594767090,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDc2NzA5MA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T19:16:52Z","updated_at":"2020-03-04T19:16:52Z","author_association":"MEMBER","body":"Yeah, I definitely agree that there are some work to do to improve the migration process to the delta streamer. In order to use `deltastreamer.checkpoint.reset_key` I will need something like a `checkpointGenerator` mentioned above, otherwise it would be difficult to find the correct checkpoint for each table. I have a few hundreds of tables to manage so I do need a robust and trustworthy solution for the migration.\r\nAlso, I think it makes sense to give more options to the users to play around with the delta streamer for their own use cases.  \r\ne.g. \r\n- Allow the user to get checkpoint from commits older than the last commit(This PR)\r\n- Allow the user to get checkpoint from a specific commit\r\n- Allow the user to store checkpoint info in the commit metadata even if they are not using delta streamer. For example, when they are using HDFS importer or Spark Datasource writer to do the initial bulk_insert.\r\n- Maybe more ...\r\n\r\nWith though flexibility, I believe the user will be able to use the delta streamer in a more programmatically way. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594767090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594772730","html_url":"https://github.com/apache/hudi/pull/1368#issuecomment-594772730","issue_url":"https://api.github.com/repos/apache/hudi/issues/1368","id":594772730,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDc3MjczMA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T19:23:46Z","updated_at":"2020-03-04T19:23:46Z","author_association":"MEMBER","body":"@bvaradar updated AppendHandle as well. Please take a look when you can.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594772730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594824906","html_url":"https://github.com/apache/hudi/pull/1128#issuecomment-594824906","issue_url":"https://api.github.com/repos/apache/hudi/issues/1128","id":594824906,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDgyNDkwNg==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T20:42:25Z","updated_at":"2020-03-04T22:53:41Z","author_association":"NONE","body":"It's not easily reproducible. It seems to be a sporadic thing that happens from time to time; from the 95 tables we ingest (every 4 hours) for the last couple of weeks, the error has occurred 4 or 5 times. The jobs that created these zero bytes files seem to complete successfully and without any error.\r\n\r\nIn the Spark logs for the job, things seem ok (this is the only mention of `.clean` files):\r\n`20/02/21 21:11:13 INFO S3NativeFileSystem2: rename s3://bucket/path/to/table/.hoodie/20200221211054.clean.inflight s3://bucket/path/to/table/.hoodie/20200221211054.clean`\r\n\r\nThe s3 `.hoodie` folder looks like (ignore the dates on the files, i copied and pasted from the original folder; also, the listing is truncated): \r\n![image](https://user-images.githubusercontent.com/14202231/75920973-2ec1d300-5e15-11ea-9794-ab297fdf9b9f.png)\r\nand the archived folder looks like:\r\n![image](https://user-images.githubusercontent.com/14202231/75921034-49944780-5e15-11ea-9c86-5d090c668fcc.png)\r\n\r\nWe didn't actually notice the error until much later when the cleaning fails because of some old zero byte files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594824906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594955784","html_url":"https://github.com/apache/hudi/issues/1371#issuecomment-594955784","issue_url":"https://api.github.com/repos/apache/hudi/issues/1371","id":594955784,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDk1NTc4NA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T00:12:33Z","updated_at":"2020-03-05T00:12:33Z","author_association":"CONTRIBUTOR","body":"@vinothchandar this is exactly what I was talking about. This easily becomes a bottleneck as the driver spends time filtering out the files that it gets from `InMemoryFileIndex` as filtering is not distributed. My suggestion here is, at the time of ingestion we just return an `EmptyRelation` once **HoodieSparkSqlWriter** has done its job, because write now we end up creating a relation even at write time using parquet data source which is really not necessary for our use-case. I have been testing this internally for the past week.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594955784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594976862","html_url":"https://github.com/apache/hudi/issues/1371#issuecomment-594976862","issue_url":"https://api.github.com/repos/apache/hudi/issues/1371","id":594976862,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDk3Njg2Mg==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T01:17:35Z","updated_at":"2020-03-05T01:17:35Z","author_association":"CONTRIBUTOR","body":"Created a Jira for this issue https://issues.apache.org/jira/browse/HUDI-656","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/594976862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/595059123","html_url":"https://github.com/apache/hudi/issues/1371#issuecomment-595059123","issue_url":"https://api.github.com/repos/apache/hudi/issues/1371","id":595059123,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTA1OTEyMw==","user":{"login":"abhaygupta3390","id":8233790,"node_id":"MDQ6VXNlcjgyMzM3OTA=","avatar_url":"https://avatars.githubusercontent.com/u/8233790?v=4","gravatar_id":"","url":"https://api.github.com/users/abhaygupta3390","html_url":"https://github.com/abhaygupta3390","followers_url":"https://api.github.com/users/abhaygupta3390/followers","following_url":"https://api.github.com/users/abhaygupta3390/following{/other_user}","gists_url":"https://api.github.com/users/abhaygupta3390/gists{/gist_id}","starred_url":"https://api.github.com/users/abhaygupta3390/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhaygupta3390/subscriptions","organizations_url":"https://api.github.com/users/abhaygupta3390/orgs","repos_url":"https://api.github.com/users/abhaygupta3390/repos","events_url":"https://api.github.com/users/abhaygupta3390/events{/privacy}","received_events_url":"https://api.github.com/users/abhaygupta3390/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T06:54:29Z","updated_at":"2020-03-05T06:54:29Z","author_association":"NONE","body":"@vinothchandar No, I am using the df write api. Sample code snippet:\r\n```\r\nwriteDF.write.format(\"org.apache.hudi\")\r\n      .options(getQuickstartWriteConfigs)\r\n      .option(PRECOMBINE_FIELD_OPT_KEY, \"ts_ms\")\r\n      .option(RECORDKEY_FIELD_OPT_KEY, \"id\")\r\n      .option(TABLE_NAME, <tableName>)\r\n      .option(KEYGENERATOR_CLASS_OPT_KEY, classOf[ComplexKeyGenerator].getName)\r\n      .option(PARTITIONPATH_FIELD_OPT_KEY, \"partCol1,partCol2,partCol3\")\r\n      .option(HIVE_SYNC_ENABLED_OPT_KEY, \"true\")\r\n      .option(HIVE_DATABASE_OPT_KEY, <hiveDB>)\r\n      .option(HIVE_TABLE_OPT_KEY, <hiveTableName>)\r\n      .option(HIVE_URL_OPT_KEY, <hiveUrl>)\r\n      .option(HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY, classOf[MultiPartKeysValueExtractor].getName)\r\n      .option(HIVE_PARTITION_FIELDS_OPT_KEY, \"partCol1,partCol2,partCol3\")\r\n      .option(OPERATION_OPT_KEY, UPSERT_OPERATION_OPT_VAL)\r\n      .mode(Append)\r\n      .save(<s3Location>)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/595059123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/595252304","html_url":"https://github.com/apache/hudi/pull/1360#issuecomment-595252304","issue_url":"https://api.github.com/repos/apache/hudi/issues/1360","id":595252304,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTI1MjMwNA==","user":{"login":"OpenOpened","id":23738217,"node_id":"MDQ6VXNlcjIzNzM4MjE3","avatar_url":"https://avatars.githubusercontent.com/u/23738217?v=4","gravatar_id":"","url":"https://api.github.com/users/OpenOpened","html_url":"https://github.com/OpenOpened","followers_url":"https://api.github.com/users/OpenOpened/followers","following_url":"https://api.github.com/users/OpenOpened/following{/other_user}","gists_url":"https://api.github.com/users/OpenOpened/gists{/gist_id}","starred_url":"https://api.github.com/users/OpenOpened/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OpenOpened/subscriptions","organizations_url":"https://api.github.com/users/OpenOpened/orgs","repos_url":"https://api.github.com/users/OpenOpened/repos","events_url":"https://api.github.com/users/OpenOpened/events{/privacy}","received_events_url":"https://api.github.com/users/OpenOpened/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T14:18:40Z","updated_at":"2020-03-05T14:18:40Z","author_association":"CONTRIBUTOR","body":"@leesf @vinothchandar Hope to hear your suggestions.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/595252304/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]