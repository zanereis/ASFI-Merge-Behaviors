[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1335970821","html_url":"https://github.com/apache/iceberg/pull/6345#issuecomment-1335970821","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6345","id":1335970821,"node_id":"IC_kwDOCW7NX85PoUwF","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T23:54:32Z","updated_at":"2022-12-02T23:54:32Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @szehon-ho @RussellSpitzer @flyrain!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1335970821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1335978175","html_url":"https://github.com/apache/iceberg/issues/4849#issuecomment-1335978175","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4849","id":1335978175,"node_id":"IC_kwDOCW7NX85PoWi_","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T00:11:18Z","updated_at":"2022-12-03T00:11:18Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1335978175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1335983847","html_url":"https://github.com/apache/iceberg/pull/6349#issuecomment-1335983847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6349","id":1335983847,"node_id":"IC_kwDOCW7NX85PoX7n","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T00:25:00Z","updated_at":"2022-12-03T00:25:00Z","author_association":"MEMBER","body":"cc @aokolnychyi , @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1335983847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336024506","html_url":"https://github.com/apache/iceberg/pull/6333#issuecomment-1336024506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6333","id":1336024506,"node_id":"IC_kwDOCW7NX85Poh26","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T03:09:23Z","updated_at":"2022-12-03T03:09:23Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary for merging this and thanks @ajantha-bhat for the review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336024506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336024558","html_url":"https://github.com/apache/iceberg/pull/6331#issuecomment-1336024558","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6331","id":1336024558,"node_id":"IC_kwDOCW7NX85Poh3u","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T03:09:42Z","updated_at":"2022-12-03T03:09:42Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary for merging this and thanks @chenjunjiedada @ajantha-bhat for the review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336024558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336089178","html_url":"https://github.com/apache/iceberg/issues/5977#issuecomment-1336089178","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5977","id":1336089178,"node_id":"IC_kwDOCW7NX85Poxpa","user":{"login":"robinsinghstudios","id":80579763,"node_id":"MDQ6VXNlcjgwNTc5NzYz","avatar_url":"https://avatars.githubusercontent.com/u/80579763?v=4","gravatar_id":"","url":"https://api.github.com/users/robinsinghstudios","html_url":"https://github.com/robinsinghstudios","followers_url":"https://api.github.com/users/robinsinghstudios/followers","following_url":"https://api.github.com/users/robinsinghstudios/following{/other_user}","gists_url":"https://api.github.com/users/robinsinghstudios/gists{/gist_id}","starred_url":"https://api.github.com/users/robinsinghstudios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robinsinghstudios/subscriptions","organizations_url":"https://api.github.com/users/robinsinghstudios/orgs","repos_url":"https://api.github.com/users/robinsinghstudios/repos","events_url":"https://api.github.com/users/robinsinghstudios/events{/privacy}","received_events_url":"https://api.github.com/users/robinsinghstudios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T06:05:17Z","updated_at":"2022-12-03T06:05:17Z","author_association":"NONE","body":"@RussellSpitzer Any way to register the bucket UDF with Pyspark? Will the built-in bucket method not work for the same?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336089178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336098519","html_url":"https://github.com/apache/iceberg/pull/6222#issuecomment-1336098519","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6222","id":1336098519,"node_id":"IC_kwDOCW7NX85Poz7X","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T06:49:54Z","updated_at":"2022-12-03T06:49:54Z","author_association":"CONTRIBUTOR","body":"Missclicked ðŸ˜¢ \r\n\r\nWhat I was trying to comment:\r\nSadly I don't have enough time to properly review the PR, but I remember that we had issues with the partition evolution in the past when @szlta tested the Hive metadata tables. IIRC the issues surfaced when we changed from (a, b) partitioning to (a, c).\r\nSee the relevant PRs: https://github.com/apache/iceberg/pulls?q=is%3Apr+szlta+partition\r\n\r\nThe issues are handled on Core level, but it might worth to add some checks for edge cases too. Like:\r\n- Removed columns\r\n- Readded columns\r\n- Partition evolution\r\n- Schema evolution","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336098519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336131494","html_url":"https://github.com/apache/iceberg/pull/6267#issuecomment-1336131494","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6267","id":1336131494,"node_id":"IC_kwDOCW7NX85Po7-m","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T10:35:54Z","updated_at":"2022-12-03T10:35:54Z","author_association":"MEMBER","body":"@rdblue, @findepi: PR is ready for review. This should help in unblocking #6090, #6091   ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336131494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336284015","html_url":"https://github.com/apache/iceberg/issues/4962#issuecomment-1336284015","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4962","id":1336284015,"node_id":"IC_kwDOCW7NX85PphNv","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-12-04T00:12:22Z","updated_at":"2022-12-04T00:12:22Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336284015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336556429","html_url":"https://github.com/apache/iceberg/pull/6305#issuecomment-1336556429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6305","id":1336556429,"node_id":"IC_kwDOCW7NX85PqjuN","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-04T23:59:37Z","updated_at":"2022-12-04T23:59:37Z","author_association":"CONTRIBUTOR","body":"thanks @smallx for the contribution and @pvary for the review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336556429/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336717074","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-1336717074","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":1336717074,"node_id":"IC_kwDOCW7NX85PrK8S","user":{"login":"gong","id":9883232,"node_id":"MDQ6VXNlcjk4ODMyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9883232?v=4","gravatar_id":"","url":"https://api.github.com/users/gong","html_url":"https://github.com/gong","followers_url":"https://api.github.com/users/gong/followers","following_url":"https://api.github.com/users/gong/following{/other_user}","gists_url":"https://api.github.com/users/gong/gists{/gist_id}","starred_url":"https://api.github.com/users/gong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gong/subscriptions","organizations_url":"https://api.github.com/users/gong/orgs","repos_url":"https://api.github.com/users/gong/repos","events_url":"https://api.github.com/users/gong/events{/privacy}","received_events_url":"https://api.github.com/users/gong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T04:05:20Z","updated_at":"2022-12-05T04:05:20Z","author_association":"NONE","body":"> > For example, we have a TiDB table that has six hundred million records. If we use flink streaming mode, it will cost too much time\r\n> \r\n> @coolderli Are you using the latest flink cdc connector and iceberg to export the stream ? I remember the latest flink cdc connector are refactored to use the netflix [DBLog algorithm](https://netflixtechblog.com/dblog-a-generic-change-data-capture-framework-69351fb9099b) in parallel to export those existing RDBMS records in parallel. So in theory, if we don't have any performance blocker in the flink->iceberg path. There should not be any blocker that cost too much time. What's your bottleneck in your CDC exporting path ?\r\n\r\n@openinx Hello, Will not OOM be triggered if we use mysql-cdc2.0 to sync data to iceberg? Because mysql-cdc2.0 checkpoint in chunk level ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336717074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336829158","html_url":"https://github.com/apache/iceberg/issues/6263#issuecomment-1336829158","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6263","id":1336829158,"node_id":"IC_kwDOCW7NX85PrmTm","user":{"login":"kowshikdremio","id":107463291,"node_id":"U_kgDOBmfCew","avatar_url":"https://avatars.githubusercontent.com/u/107463291?v=4","gravatar_id":"","url":"https://api.github.com/users/kowshikdremio","html_url":"https://github.com/kowshikdremio","followers_url":"https://api.github.com/users/kowshikdremio/followers","following_url":"https://api.github.com/users/kowshikdremio/following{/other_user}","gists_url":"https://api.github.com/users/kowshikdremio/gists{/gist_id}","starred_url":"https://api.github.com/users/kowshikdremio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kowshikdremio/subscriptions","organizations_url":"https://api.github.com/users/kowshikdremio/orgs","repos_url":"https://api.github.com/users/kowshikdremio/repos","events_url":"https://api.github.com/users/kowshikdremio/events{/privacy}","received_events_url":"https://api.github.com/users/kowshikdremio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T06:55:51Z","updated_at":"2022-12-05T06:55:51Z","author_association":"NONE","body":"Hi,\r\n      I added the below jars to the HIVE lib directory and it all works fine now. \r\n1.iceberg-hive-runtime-1.2.0-SNAPSHOT.jar ( Got it by running ./gradlew build -x test -x integrationTest on Iceberg download)\r\n2. iceberg-hive3-1.1.0.jar (Downloaded it from Maven Central https://repo1.maven.org/maven2/org/apache/iceberg/iceberg-hive3/1.1.0/iceberg-hive3-1.1.0.jar)\r\n\r\nAll running good now.\r\n\r\nThanks,\r\nKowshik","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336829158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336973794","html_url":"https://github.com/apache/iceberg/pull/6337#issuecomment-1336973794","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6337","id":1336973794,"node_id":"IC_kwDOCW7NX85PsJni","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T08:52:30Z","updated_at":"2022-12-05T08:52:30Z","author_association":"CONTRIBUTOR","body":"@pvary , Can I ask for workflow approval? \r\n\r\nThank you,\r\nZsolt","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1336973794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337013120","html_url":"https://github.com/apache/iceberg/pull/6250#issuecomment-1337013120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6250","id":1337013120,"node_id":"IC_kwDOCW7NX85PsTOA","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T09:20:56Z","updated_at":"2022-12-05T09:20:56Z","author_association":"MEMBER","body":"cc: @pvary ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337013120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337015494","html_url":"https://github.com/apache/iceberg/pull/6234#issuecomment-1337015494","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6234","id":1337015494,"node_id":"IC_kwDOCW7NX85PsTzG","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T09:22:53Z","updated_at":"2022-12-05T09:22:53Z","author_association":"MEMBER","body":"cc: @stevenzwu, @jackye1995  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337015494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337298037","html_url":"https://github.com/apache/iceberg/pull/6221#issuecomment-1337298037","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6221","id":1337298037,"node_id":"IC_kwDOCW7NX85PtYx1","user":{"login":"XN137","id":1204398,"node_id":"MDQ6VXNlcjEyMDQzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204398?v=4","gravatar_id":"","url":"https://api.github.com/users/XN137","html_url":"https://github.com/XN137","followers_url":"https://api.github.com/users/XN137/followers","following_url":"https://api.github.com/users/XN137/following{/other_user}","gists_url":"https://api.github.com/users/XN137/gists{/gist_id}","starred_url":"https://api.github.com/users/XN137/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XN137/subscriptions","organizations_url":"https://api.github.com/users/XN137/orgs","repos_url":"https://api.github.com/users/XN137/repos","events_url":"https://api.github.com/users/XN137/events{/privacy}","received_events_url":"https://api.github.com/users/XN137/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T13:00:18Z","updated_at":"2022-12-05T13:01:43Z","author_association":"CONTRIBUTOR","body":"additional context:\r\nthe failing check can only be performed when the compiled bytecode contains parameter name information for methods:\r\n\r\nhttps://github.com/palantir/gradle-baseline/blob/fd7759a9a37112db69f6875966e869a078a00319/baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/ConsistentOverrides.java#L151-L164\r\n\r\nso it depends on whether the jdk classes were compiled with the `-parameters` flag for `javac` or not:\r\n```\r\n  -parameters\r\n        Generate metadata for reflection on method parameters\r\n```\r\n\r\non jdk 8 this flag is commonly not used:\r\n```\r\n~/.sdkman/candidates/java/8.0.352-zulu/bin$ ./javap -version && ./javap -l java.io.InputStream | egrep \"public.*read|off\"\r\n1.8.0_352\r\n  public abstract int read() throws java.io.IOException;\r\n  public int read(byte[]) throws java.io.IOException;\r\n  public int read(byte[], int, int) throws java.io.IOException;\r\n```\r\n\r\non jdk 11 it is commonly used:\r\n```\r\n~/.sdkman/candidates/java/11.0.17-zulu/bin$ ./javap -version && ./javap -l java.io.InputStream | egrep \"public.*read|off\"\r\n11.0.17\r\n  public abstract int read() throws java.io.IOException;\r\n  public int read(byte[]) throws java.io.IOException;\r\n  public int read(byte[], int, int) throws java.io.IOException;\r\n          0      81     2   off   I\r\n  public byte[] readAllBytes() throws java.io.IOException;\r\n  public byte[] readNBytes(int) throws java.io.IOException;\r\n        200      74     7 offset   I\r\n  public int readNBytes(byte[], int, int) throws java.io.IOException;\r\n          0      53     2   off   I\r\n```\r\n\r\nbut there are some jdk vendors (i.e. on centos7) that also enable this flag on jdk8, thus this check might fail depending on the jdk distribution used.\r\nso targeting java 11 is just a way to always trigger the check violation.\r\n\r\nlong story short, this PR should get merged to fix the check on all kind of jdks :sweat_smile: ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337298037/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337501228","html_url":"https://github.com/apache/iceberg/pull/6221#issuecomment-1337501228","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6221","id":1337501228,"node_id":"IC_kwDOCW7NX85PuKYs","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T14:43:03Z","updated_at":"2022-12-05T14:44:18Z","author_association":"MEMBER","body":"> but there are some jdk vendors (i.e. on centos7) that also enable this flag on jdk8, thus this check might fail depending on the jdk distribution used.\r\n\r\n@XN137: Thank you so much for digging down on this and figuring out how jdk8 (of some vendors) is also affected by this. \r\n\r\nthanks @Fokko for merging the PR and @dchristle for the fix. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337501228/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337557734","html_url":"https://github.com/apache/iceberg/pull/6335#issuecomment-1337557734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6335","id":1337557734,"node_id":"IC_kwDOCW7NX85PuYLm","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T15:16:54Z","updated_at":"2022-12-05T15:16:54Z","author_association":"CONTRIBUTOR","body":"It is mentioned in the docs that `MANIFEST_TARGET_SIZE_BYTES` relates to `Target size when merging manifest files`, meaning that this setting only takes effect when merging of manifest files happens (e.g. when using `newAppend()`). Merging of manifest files would not happen when using `newFastAppend()` for example. This might explain why it seemed that this setting wouldn't take any effect in your env. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337557734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337860939","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1337860939","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1337860939,"node_id":"IC_kwDOCW7NX85PviNL","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T17:58:37Z","updated_at":"2022-12-05T17:58:37Z","author_association":"CONTRIBUTOR","body":"Merge! Let me know where the implementation PR is and I'll start looking at that!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337860939/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337877894","html_url":"https://github.com/apache/iceberg/pull/5376#issuecomment-1337877894","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5376","id":1337877894,"node_id":"IC_kwDOCW7NX85PvmWG","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T18:09:07Z","updated_at":"2022-12-05T18:09:07Z","author_association":"COLLABORATOR","body":"Thanks @RussellSpitzer @aokolnychyi @chenjunjiedada for detailed reviews","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337877894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337926448","html_url":"https://github.com/apache/iceberg/pull/6337#issuecomment-1337926448","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6337","id":1337926448,"node_id":"IC_kwDOCW7NX85PvyMw","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T18:43:44Z","updated_at":"2022-12-05T18:43:44Z","author_association":"CONTRIBUTOR","body":"Hi, @pvary !\r\n\r\nFirst of all, thank you for the review and approval. \r\nUnfortunately, I just learned the `Close` button on an approved PR doesn't mean close and merge, it just closes. So I reopened it. \r\nI assume, as a first-time committer, I have no permission to merge. \r\n\r\nCould you please merge it? \r\n\r\nThank you,\r\nZsolt","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1337926448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338004394","html_url":"https://github.com/apache/iceberg/pull/6327#issuecomment-1338004394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6327","id":1338004394,"node_id":"IC_kwDOCW7NX85PwFOq","user":{"login":"tprelle","id":59021490,"node_id":"MDQ6VXNlcjU5MDIxNDkw","avatar_url":"https://avatars.githubusercontent.com/u/59021490?v=4","gravatar_id":"","url":"https://api.github.com/users/tprelle","html_url":"https://github.com/tprelle","followers_url":"https://api.github.com/users/tprelle/followers","following_url":"https://api.github.com/users/tprelle/following{/other_user}","gists_url":"https://api.github.com/users/tprelle/gists{/gist_id}","starred_url":"https://api.github.com/users/tprelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tprelle/subscriptions","organizations_url":"https://api.github.com/users/tprelle/orgs","repos_url":"https://api.github.com/users/tprelle/repos","events_url":"https://api.github.com/users/tprelle/events{/privacy}","received_events_url":"https://api.github.com/users/tprelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T19:14:25Z","updated_at":"2022-12-05T19:14:25Z","author_association":"CONTRIBUTOR","body":"hi @shardulm94, it's seems less intrusive and better than https://github.com/apache/iceberg/pull/4599","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338004394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338169362","html_url":"https://github.com/apache/iceberg/pull/6299#issuecomment-1338169362","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6299","id":1338169362,"node_id":"IC_kwDOCW7NX85PwtgS","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T21:11:41Z","updated_at":"2022-12-05T21:11:41Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary and @hililiwei for the review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338169362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338428008","html_url":"https://github.com/apache/iceberg/issues/4822#issuecomment-1338428008","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4822","id":1338428008,"node_id":"IC_kwDOCW7NX85Pxspo","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T00:11:26Z","updated_at":"2022-12-06T00:11:26Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338428008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338683010","html_url":"https://github.com/apache/iceberg/pull/6222#issuecomment-1338683010","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6222","id":1338683010,"node_id":"IC_kwDOCW7NX85Pyq6C","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T03:21:32Z","updated_at":"2022-12-06T03:21:32Z","author_association":"CONTRIBUTOR","body":"@hililiwei we should add comprehensive unit test for `StructRowData`. \r\n\r\nI have some internal DataGenerators for unit test code with very comprehensive coverage all field types (including complex nested types). Maybe I will submit a separate PR for that, which will cover Flink `RowData` and Iceberg `GenericRecord`. You can expand it with support for Iceberg `StructLike`. With that, we can write unit test/assertions compare the actual and expected.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338683010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338783816","html_url":"https://github.com/apache/iceberg/issues/6364#issuecomment-1338783816","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6364","id":1338783816,"node_id":"IC_kwDOCW7NX85PzDhI","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T05:27:35Z","updated_at":"2022-12-06T13:35:06Z","author_association":"MEMBER","body":"What is a POS file? Iâ€™m not familiar with the acronym","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338783816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338859690","html_url":"https://github.com/apache/iceberg/pull/6355#issuecomment-1338859690","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6355","id":1338859690,"node_id":"IC_kwDOCW7NX85PzWCq","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T06:37:04Z","updated_at":"2022-12-06T06:37:04Z","author_association":"CONTRIBUTOR","body":"we can't upgrade because the latest version that supports JDK8 is 5.13.1.202206130422-r","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338859690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338859714","html_url":"https://github.com/apache/iceberg/pull/6355#issuecomment-1338859714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6355","id":1338859714,"node_id":"IC_kwDOCW7NX85PzWDC","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T06:37:07Z","updated_at":"2022-12-06T06:37:07Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338859714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338869374","html_url":"https://github.com/apache/iceberg/issues/4977#issuecomment-1338869374","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4977","id":1338869374,"node_id":"IC_kwDOCW7NX85PzYZ-","user":{"login":"jaehyeon-kim","id":1023748,"node_id":"MDQ6VXNlcjEwMjM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1023748?v=4","gravatar_id":"","url":"https://api.github.com/users/jaehyeon-kim","html_url":"https://github.com/jaehyeon-kim","followers_url":"https://api.github.com/users/jaehyeon-kim/followers","following_url":"https://api.github.com/users/jaehyeon-kim/following{/other_user}","gists_url":"https://api.github.com/users/jaehyeon-kim/gists{/gist_id}","starred_url":"https://api.github.com/users/jaehyeon-kim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaehyeon-kim/subscriptions","organizations_url":"https://api.github.com/users/jaehyeon-kim/orgs","repos_url":"https://api.github.com/users/jaehyeon-kim/repos","events_url":"https://api.github.com/users/jaehyeon-kim/events{/privacy}","received_events_url":"https://api.github.com/users/jaehyeon-kim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T06:51:02Z","updated_at":"2022-12-06T06:51:02Z","author_association":"NONE","body":"+1 for Kafka connect. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338869374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338908066","html_url":"https://github.com/apache/iceberg/issues/4550#issuecomment-1338908066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4550","id":1338908066,"node_id":"IC_kwDOCW7NX85Pzh2i","user":{"login":"zstraw","id":8609854,"node_id":"MDQ6VXNlcjg2MDk4NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8609854?v=4","gravatar_id":"","url":"https://api.github.com/users/zstraw","html_url":"https://github.com/zstraw","followers_url":"https://api.github.com/users/zstraw/followers","following_url":"https://api.github.com/users/zstraw/following{/other_user}","gists_url":"https://api.github.com/users/zstraw/gists{/gist_id}","starred_url":"https://api.github.com/users/zstraw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zstraw/subscriptions","organizations_url":"https://api.github.com/users/zstraw/orgs","repos_url":"https://api.github.com/users/zstraw/repos","events_url":"https://api.github.com/users/zstraw/events{/privacy}","received_events_url":"https://api.github.com/users/zstraw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T07:37:16Z","updated_at":"2022-12-06T07:37:16Z","author_association":"NONE","body":"After deeping into iceberg code and the log, I can reproduce it in debugging locally.\r\n\r\nThe scenario may happens in the process of Flink cancelling.\r\n1. IcebergFileCommitter is going to commit file. In the step of **rename** metadata.json(org.apache.iceberg.hadoop.HadoopTableOperations#renameToFinal), org.apache.hadoop.ipc.Client.call encounters **InterruptedIOException**. I suspect it comes from Flink task cancelling. On the other hand, **Hdfs has renamed the metada.json file sucessfully**.\r\n2. After rename fails, it's supposed to retry. But the thread encounters InterruptedException in sleeping(org.apache.iceberg.util.Tasks#runTaskWithRetry). Then it will throw a RuntimeException. And the version-hint will not be updated.\r\n3. The RuntimeException leads to **rollback** in org.apache.iceberg.BaseTransaction(#cleanUpOnCommitFailure), which will delete manifest list (snap-XXX).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338908066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338913731","html_url":"https://github.com/apache/iceberg/pull/6222#issuecomment-1338913731","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6222","id":1338913731,"node_id":"IC_kwDOCW7NX85PzjPD","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T07:44:40Z","updated_at":"2022-12-06T07:44:40Z","author_association":"CONTRIBUTOR","body":"> @hililiwei we should add comprehensive unit test for `StructRowData`.\r\n> \r\n> I have some internal DataGenerators for unit test code with very comprehensive coverage all field types (including complex nested types). Maybe I will submit a separate PR for that, which will cover Flink `RowData` and Iceberg `GenericRecord`. You can expand it with support for Iceberg `StructLike`. With that, we can write unit test/assertions compare the actual and expected.\r\n\r\nThat would be great. I'm also thinking of adding UT for it. So i'll do it based on your code.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1338913731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339154907","html_url":"https://github.com/apache/iceberg/issues/6364#issuecomment-1339154907","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6364","id":1339154907,"node_id":"IC_kwDOCW7NX85P0eHb","user":{"login":"rbalamohan","id":7969713,"node_id":"MDQ6VXNlcjc5Njk3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/7969713?v=4","gravatar_id":"","url":"https://api.github.com/users/rbalamohan","html_url":"https://github.com/rbalamohan","followers_url":"https://api.github.com/users/rbalamohan/followers","following_url":"https://api.github.com/users/rbalamohan/following{/other_user}","gists_url":"https://api.github.com/users/rbalamohan/gists{/gist_id}","starred_url":"https://api.github.com/users/rbalamohan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rbalamohan/subscriptions","organizations_url":"https://api.github.com/users/rbalamohan/orgs","repos_url":"https://api.github.com/users/rbalamohan/repos","events_url":"https://api.github.com/users/rbalamohan/events{/privacy}","received_events_url":"https://api.github.com/users/rbalamohan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T11:06:32Z","updated_at":"2022-12-06T11:07:21Z","author_association":"CONTRIBUTOR","body":"Sorry about the confusion. I meant the the positional file containing (file_path, position) data in V2. \r\n\r\nLet me rename it as \"MOR reads in V2\".\r\n\r\nI will edit it in the previous description as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339154907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339188679","html_url":"https://github.com/apache/iceberg/pull/6327#issuecomment-1339188679","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6327","id":1339188679,"node_id":"IC_kwDOCW7NX85P0mXH","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T11:35:59Z","updated_at":"2022-12-06T11:35:59Z","author_association":"CONTRIBUTOR","body":"> As part of the ORC read path, we drop constant fields from the projected schema before passing it to the ORC file reader.\r\n\r\n@shardulm94 do we know why dropping those constant fields is required in the read path? I see that this was introduced by https://github.com/apache/iceberg/pull/1191 but I'm lacking some historical context and would appreciate your input here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339188679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339205988","html_url":"https://github.com/apache/iceberg/pull/6363#issuecomment-1339205988","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6363","id":1339205988,"node_id":"IC_kwDOCW7NX85P0qlk","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T11:53:07Z","updated_at":"2022-12-06T11:53:07Z","author_association":"CONTRIBUTOR","body":"@stevenzwu: Any specific change (non-clean backport) to double check?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339205988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339214613","html_url":"https://github.com/apache/iceberg/pull/6337#issuecomment-1339214613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6337","id":1339214613,"node_id":"IC_kwDOCW7NX85P0ssV","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T12:01:13Z","updated_at":"2022-12-06T12:01:13Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR @InvisibleProgrammer.\r\nWhat version does Hive 4.0.0-alpha-2 depend on? Do we want to update the iceberg documentations for the released Iceberg versions as well (https://github.com/apache/iceberg-docs)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339214613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339282266","html_url":"https://github.com/apache/iceberg/issues/4550#issuecomment-1339282266","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4550","id":1339282266,"node_id":"IC_kwDOCW7NX85P09Na","user":{"login":"wxjzlm","id":3870899,"node_id":"MDQ6VXNlcjM4NzA4OTk=","avatar_url":"https://avatars.githubusercontent.com/u/3870899?v=4","gravatar_id":"","url":"https://api.github.com/users/wxjzlm","html_url":"https://github.com/wxjzlm","followers_url":"https://api.github.com/users/wxjzlm/followers","following_url":"https://api.github.com/users/wxjzlm/following{/other_user}","gists_url":"https://api.github.com/users/wxjzlm/gists{/gist_id}","starred_url":"https://api.github.com/users/wxjzlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxjzlm/subscriptions","organizations_url":"https://api.github.com/users/wxjzlm/orgs","repos_url":"https://api.github.com/users/wxjzlm/repos","events_url":"https://api.github.com/users/wxjzlm/events{/privacy}","received_events_url":"https://api.github.com/users/wxjzlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T12:57:29Z","updated_at":"2022-12-06T12:57:29Z","author_association":"NONE","body":"I have solved this problem. Thank you. My problem mainly occurs when InMemoryLockManager releases the heartbeat of the lock and reports a NullPointerException; I rewrote InMemoryLockManager to solve this problem.\n\n\nåœ¨ 2022å¹´12æœˆ6æ—¥ ***@***.***> å†™é“ï¼š\n\n\nAfter deeping into iceberg code and the log, I can reproduce it in debugging locally.\nThe scenario may happens in the process of Flink cancelling.\nIcebergFileCommitter is going to commit file. In the step of rename metadata.json(org.apache.iceberg.hadoop.HadoopTableOperations#renameToFinal), org.apache.hadoop.ipc.Client.call encounters InterruptedIOException. I suspect it comes from Flink task cancelling. On the other hand, Hdfs has renamed the metada.json file sucessfully. After rename fails, it's supposed to retry. But the thread encounters InterruptedException in sleeping(org.apache.iceberg.util.Tasks#runTaskWithRetry). Then it will throw a RuntimeException. And the version-hint will not be updated. The RuntimeException leads to rollback in org.apache.iceberg.BaseTransaction(#cleanUpOnCommitFailure), which will delete manifest list (snap-XXX).\nâ€”\nReply to this email directly, view it on GitHub, or unsubscribe.\nYou are receiving this because you commented.Message ID: ***@***.***>","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339282266/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339373580","html_url":"https://github.com/apache/iceberg/issues/4927#issuecomment-1339373580","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4927","id":1339373580,"node_id":"IC_kwDOCW7NX85P1TgM","user":{"login":"akki","id":4801628,"node_id":"MDQ6VXNlcjQ4MDE2Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/4801628?v=4","gravatar_id":"","url":"https://api.github.com/users/akki","html_url":"https://github.com/akki","followers_url":"https://api.github.com/users/akki/followers","following_url":"https://api.github.com/users/akki/following{/other_user}","gists_url":"https://api.github.com/users/akki/gists{/gist_id}","starred_url":"https://api.github.com/users/akki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akki/subscriptions","organizations_url":"https://api.github.com/users/akki/orgs","repos_url":"https://api.github.com/users/akki/repos","events_url":"https://api.github.com/users/akki/events{/privacy}","received_events_url":"https://api.github.com/users/akki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T13:18:00Z","updated_at":"2022-12-06T13:18:00Z","author_association":"NONE","body":"@JMin824 This ticket is about creating a table with z-order prespecified (like in the `INSERT` SQL). Maybe you would get a response if you create a separate issue for your question (as far as I am understanding your query).\r\n\r\nGood luck!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339373580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339397926","html_url":"https://github.com/apache/iceberg/issues/6364#issuecomment-1339397926","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6364","id":1339397926,"node_id":"IC_kwDOCW7NX85P1Zcm","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T13:34:19Z","updated_at":"2022-12-06T13:34:19Z","author_association":"MEMBER","body":"Ah positional delete files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339397926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339410922","html_url":"https://github.com/apache/iceberg/pull/6335#issuecomment-1339410922","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6335","id":1339410922,"node_id":"IC_kwDOCW7NX85P1cnq","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T13:45:26Z","updated_at":"2022-12-06T13:45:26Z","author_association":"CONTRIBUTOR","body":"@nastra `newAppend ` will create a large manifest as well. It only merges small manifests into a large one, and does not split large one into target file size.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339410922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339436654","html_url":"https://github.com/apache/iceberg/issues/6366#issuecomment-1339436654","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6366","id":1339436654,"node_id":"IC_kwDOCW7NX85P1i5u","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T14:03:12Z","updated_at":"2022-12-06T14:03:12Z","author_association":"CONTRIBUTOR","body":"It looks like you're running Spark 3.3 but using `iceberg-spark-runtime-3.2_2.12:1.1.0` (which is for Spark 3.2). Changing your dependency to `iceberg-spark-runtime-3.3_2.12:1.1.0` should fix this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339436654/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339508634","html_url":"https://github.com/apache/iceberg/pull/6337#issuecomment-1339508634","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6337","id":1339508634,"node_id":"IC_kwDOCW7NX85P10ea","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T14:56:39Z","updated_at":"2022-12-06T14:56:39Z","author_association":"CONTRIBUTOR","body":"4.0.0-alpha-2 uses 0.14.1: https://github.com/apache/hive/blob/29c6bd9813edd43f6151b025295637858c3869f4/iceberg/pom.xml#L28\r\n4.0.0 uses 1.0.0:  https://github.com/apache/hive/blob/374564f49b345f214ab8845e84244ac4ea4f0668/iceberg/pom.xml#L28\r\n\r\nI assume, we should update all the versions since 0.14.1, including that one as well. Am I correct?  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339508634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339614009","html_url":"https://github.com/apache/iceberg/pull/6222#issuecomment-1339614009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6222","id":1339614009,"node_id":"IC_kwDOCW7NX85P2OM5","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T16:11:07Z","updated_at":"2022-12-06T16:11:07Z","author_association":"CONTRIBUTOR","body":"UT failed because of  https://github.com/apache/iceberg/pull/5376. I'm trying to fix it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339614009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339669180","html_url":"https://github.com/apache/iceberg/pull/6363#issuecomment-1339669180","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6363","id":1339669180,"node_id":"IC_kwDOCW7NX85P2bq8","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T16:50:46Z","updated_at":"2022-12-06T16:54:48Z","author_association":"CONTRIBUTOR","body":"no diff btw 1.15 and 1.16\r\n```\r\nâžœ  iceberg git:(backport-pr-6299) âœ— git diff --no-index  flink/v1.15/flink/src/main/java/org/apache/iceberg/flink/source/ flink/v1.16/flink/src/main/java/org/apache/iceberg/flink/source/\r\nâžœ  iceberg git:(backport-pr-6299) âœ—\r\n```\r\n\r\ndiff btw 1.14 and 1.16 source. One is caused by table API change in 1.15. Another diff looks like some whitespace/tab differences\r\n```\r\nâžœ  iceberg git:(backport-pr-6299) âœ— git diff --no-index  flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/source/ flink/v1.16/flink/src/main/java/org/apache/iceberg/flink/source/\r\n\r\n--- a/flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/source/IcebergTableSource.java\r\n+++ b/flink/v1.16/flink/src/main/java/org/apache/iceberg/flink/source/IcebergTableSource.java\r\n@@ -31,6 +31,7 @@ import org.apache.flink.streaming.api.datastream.DataStreamSource;\r\n import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n import org.apache.flink.table.api.TableSchema;\r\n import org.apache.flink.table.connector.ChangelogMode;\r\n+import org.apache.flink.table.connector.ProviderContext;\r\n import org.apache.flink.table.connector.source.DataStreamScanProvider;\r\n import org.apache.flink.table.connector.source.DynamicTableSource;\r\n import org.apache.flink.table.connector.source.ScanTableSource;\r\n@@ -200,7 +201,8 @@ public class IcebergTableSource\r\n   public ScanRuntimeProvider getScanRuntimeProvider(ScanContext runtimeProviderContext) {\r\n     return new DataStreamScanProvider() {\r\n       @Override\r\n-      public DataStream<RowData> produceDataStream(StreamExecutionEnvironment execEnv) {\r\n+      public DataStream<RowData> produceDataStream(\r\n+          ProviderContext providerContext, StreamExecutionEnvironment execEnv) {\r\n         if (readableConfig.get(FlinkConfigOptions.TABLE_EXEC_ICEBERG_USE_FLIP27_SOURCE)) {\r\n           return createFLIP27Stream(execEnv);\r\n         } else {\r\ndiff --git a/flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/source/ScanContext.java b/flink/v1.16/flink/src/main/java/org/apache/iceberg/flink/source/ScanContext.java\r\nindex f57f1f5fd..1d99e441b 100644\r\n--- a/flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/source/ScanContext.java\r\n+++ b/flink/v1.16/flink/src/main/java/org/apache/iceberg/flink/source/ScanContext.java\r\n@@ -96,7 +96,6 @@ public class ScanContext implements Serializable {\r\n   private final Long splitOpenFileCost;\r\n   private final boolean isStreaming;\r\n   private final Duration monitorInterval;\r\n-  private final int maxPlanningSnapshotCount;\r\n\r\n   private final String nameMapping;\r\n   private final Schema schema;\r\n@@ -104,6 +103,7 @@ public class ScanContext implements Serializable {\r\n   private final long limit;\r\n   private final boolean includeColumnStats;\r\n   private final Integer planParallelism;\r\n+  private final int maxPlanningSnapshotCount;\r\n\r\n   private ScanContext(\r\n       boolean caseSensitive,\r\n@@ -138,7 +138,6 @@ public class ScanContext implements Serializable {\r\n     this.splitOpenFileCost = splitOpenFileCost;\r\n     this.isStreaming = isStreaming;\r\n     this.monitorInterval = monitorInterval;\r\n-    this.maxPlanningSnapshotCount = maxPlanningSnapshotCount;\r\n\r\n     this.nameMapping = nameMapping;\r\n     this.schema = schema;\r\n@@ -147,6 +146,7 @@ public class ScanContext implements Serializable {\r\n     this.includeColumnStats = includeColumnStats;\r\n     this.exposeLocality = exposeLocality;\r\n     this.planParallelism = planParallelism;\r\n+    this.maxPlanningSnapshotCount = maxPlanningSnapshotCount;\r\n\r\n     validate();\r\n   }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339669180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339676509","html_url":"https://github.com/apache/iceberg/pull/6363#issuecomment-1339676509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6363","id":1339676509,"node_id":"IC_kwDOCW7NX85P2ddd","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T16:56:20Z","updated_at":"2022-12-06T16:56:20Z","author_association":"CONTRIBUTOR","body":"there is no diff btw 1.14/1.15 and 1.16 for the test dir\r\n```\r\nâžœ  iceberg git:(backport-pr-6299) âœ— git diff --no-index  flink/v1.14/flink/src/test/java/org/apache/iceberg/flink/source/enumerator flink/v1.16/flink/src/test/java/org/apache/iceberg/flink/source/enumerator\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339676509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339829786","html_url":"https://github.com/apache/iceberg/issues/5343#issuecomment-1339829786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5343","id":1339829786,"node_id":"IC_kwDOCW7NX85P3C4a","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T18:55:50Z","updated_at":"2022-12-06T18:55:50Z","author_association":"COLLABORATOR","body":"Thanks, I guess it did not go far.  FWIW I think your proposal makes sense.  Will have to see any spark folks can help with this if we can take if further.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339829786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339951359","html_url":"https://github.com/apache/iceberg/issues/6367#issuecomment-1339951359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6367","id":1339951359,"node_id":"IC_kwDOCW7NX85P3gj_","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T20:14:33Z","updated_at":"2022-12-06T20:14:33Z","author_association":"MEMBER","body":"The first thing to do is to make it so that we don't terminate the commit service while progress is still being made.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339951359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339958907","html_url":"https://github.com/apache/iceberg/pull/6337#issuecomment-1339958907","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6337","id":1339958907,"node_id":"IC_kwDOCW7NX85P3iZ7","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T20:20:15Z","updated_at":"2022-12-06T20:20:15Z","author_association":"CONTRIBUTOR","body":"@InvisibleProgrammer: I am not sure what is the current way of changing the doc. Maybe reading through the `readme` file in the doc repo could help to guide us","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339958907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339962951","html_url":"https://github.com/apache/iceberg/pull/6363#issuecomment-1339962951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6363","id":1339962951,"node_id":"IC_kwDOCW7NX85P3jZH","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T20:23:03Z","updated_at":"2022-12-06T20:23:03Z","author_association":"CONTRIBUTOR","body":"Thanks @stevenzwu for the backport and the detailed diff!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339962951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339971821","html_url":"https://github.com/apache/iceberg/pull/6362#issuecomment-1339971821","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6362","id":1339971821,"node_id":"IC_kwDOCW7NX85P3ljt","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T20:32:08Z","updated_at":"2022-12-06T20:32:08Z","author_association":"CONTRIBUTOR","body":"@Fokko, does this mean we need a new RC?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1339971821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340018978","html_url":"https://github.com/apache/iceberg/pull/6268#issuecomment-1340018978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6268","id":1340018978,"node_id":"IC_kwDOCW7NX85P3xEi","user":{"login":"islamismailov","id":573719,"node_id":"MDQ6VXNlcjU3MzcxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/573719?v=4","gravatar_id":"","url":"https://api.github.com/users/islamismailov","html_url":"https://github.com/islamismailov","followers_url":"https://api.github.com/users/islamismailov/followers","following_url":"https://api.github.com/users/islamismailov/following{/other_user}","gists_url":"https://api.github.com/users/islamismailov/gists{/gist_id}","starred_url":"https://api.github.com/users/islamismailov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/islamismailov/subscriptions","organizations_url":"https://api.github.com/users/islamismailov/orgs","repos_url":"https://api.github.com/users/islamismailov/repos","events_url":"https://api.github.com/users/islamismailov/events{/privacy}","received_events_url":"https://api.github.com/users/islamismailov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T21:18:16Z","updated_at":"2022-12-06T21:18:16Z","author_association":"CONTRIBUTOR","body":"Can somebody stamp this? It's only adding a unit test so is super safe","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340018978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340022074","html_url":"https://github.com/apache/iceberg/pull/6327#issuecomment-1340022074","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6327","id":1340022074,"node_id":"IC_kwDOCW7NX85P3x06","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T21:20:57Z","updated_at":"2022-12-06T21:20:57Z","author_association":"CONTRIBUTOR","body":"> @shardulm94 do we know why dropping those constant fields is required in the read path? I see that this was introduced by #1191 but I'm lacking some historical context and would appreciate your input here.\r\n\r\nHere we are construct the \"readSchema\" i.e. the schema that should be passed to the underlying file reader e.g. ORC when reading the data file. We already have the value of constant columns per file available via Iceberg, so reading them from the file is unnecessary. Doing so, we avoid the read & deserialization cost for the constant columns and also avoid the memory footprint to store the column vector in memory.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340022074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340027400","html_url":"https://github.com/apache/iceberg/pull/6363#issuecomment-1340027400","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6363","id":1340027400,"node_id":"IC_kwDOCW7NX85P3zII","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T21:25:19Z","updated_at":"2022-12-06T21:25:19Z","author_association":"CONTRIBUTOR","body":"thanks @pvary for reviewing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340027400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340077268","html_url":"https://github.com/apache/iceberg/pull/6353#issuecomment-1340077268","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6353","id":1340077268,"node_id":"IC_kwDOCW7NX85P3_TU","user":{"login":"islamismailov","id":573719,"node_id":"MDQ6VXNlcjU3MzcxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/573719?v=4","gravatar_id":"","url":"https://api.github.com/users/islamismailov","html_url":"https://github.com/islamismailov","followers_url":"https://api.github.com/users/islamismailov/followers","following_url":"https://api.github.com/users/islamismailov/following{/other_user}","gists_url":"https://api.github.com/users/islamismailov/gists{/gist_id}","starred_url":"https://api.github.com/users/islamismailov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/islamismailov/subscriptions","organizations_url":"https://api.github.com/users/islamismailov/orgs","repos_url":"https://api.github.com/users/islamismailov/repos","events_url":"https://api.github.com/users/islamismailov/events{/privacy}","received_events_url":"https://api.github.com/users/islamismailov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T22:11:47Z","updated_at":"2022-12-06T22:11:47Z","author_association":"CONTRIBUTOR","body":"@nastra  - done. can you have another look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340077268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340116163","html_url":"https://github.com/apache/iceberg/pull/6293#issuecomment-1340116163","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6293","id":1340116163,"node_id":"IC_kwDOCW7NX85P4IzD","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T22:49:45Z","updated_at":"2022-12-06T22:49:45Z","author_association":"MEMBER","body":"I'm not a big fan of the fake filesystem approach here, mostly because i'm afraid of mocking an object like that when we don't have the full filesystem state. I feel like this patch would have us maintaining a rather large Hadoop mock.\r\n\r\nIs there any chance we can convince the ORC project to allow the creation of a writer from an \"java.io.OutputStream\" instead of always creating its own file?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340116163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340129938","html_url":"https://github.com/apache/iceberg/issues/6368#issuecomment-1340129938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6368","id":1340129938,"node_id":"IC_kwDOCW7NX85P4MKS","user":{"login":"ayushtkn","id":25608848,"node_id":"MDQ6VXNlcjI1NjA4ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/25608848?v=4","gravatar_id":"","url":"https://api.github.com/users/ayushtkn","html_url":"https://github.com/ayushtkn","followers_url":"https://api.github.com/users/ayushtkn/followers","following_url":"https://api.github.com/users/ayushtkn/following{/other_user}","gists_url":"https://api.github.com/users/ayushtkn/gists{/gist_id}","starred_url":"https://api.github.com/users/ayushtkn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ayushtkn/subscriptions","organizations_url":"https://api.github.com/users/ayushtkn/orgs","repos_url":"https://api.github.com/users/ayushtkn/repos","events_url":"https://api.github.com/users/ayushtkn/events{/privacy}","received_events_url":"https://api.github.com/users/ayushtkn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T23:04:33Z","updated_at":"2022-12-06T23:04:33Z","author_association":"MEMBER","body":"Can think of making this configurable or may be increase it to 10K atleast:\r\n```\r\n // IDs for partition fields start at 1000\r\n private static final int PARTITION_DATA_ID_START = 1000;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340129938/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340132023","html_url":"https://github.com/apache/iceberg/issues/6368#issuecomment-1340132023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6368","id":1340132023,"node_id":"IC_kwDOCW7NX85P4Mq3","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T23:06:12Z","updated_at":"2022-12-06T23:06:12Z","author_association":"MEMBER","body":"I think just bumping it to 10k is probably fine, no need to add a configuration","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340132023/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340191276","html_url":"https://github.com/apache/iceberg/pull/6293#issuecomment-1340191276","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6293","id":1340191276,"node_id":"IC_kwDOCW7NX85P4bIs","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T00:17:32Z","updated_at":"2022-12-07T00:17:32Z","author_association":"CONTRIBUTOR","body":"Looks mostly good overall. Thanks for getting this working @pavibhai!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340191276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340218596","html_url":"https://github.com/apache/iceberg/pull/6371#issuecomment-1340218596","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6371","id":1340218596,"node_id":"IC_kwDOCW7NX85P4hzk","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T00:45:12Z","updated_at":"2022-12-07T00:45:12Z","author_association":"CONTRIBUTOR","body":"cc @sunchao @flyrain @szehon-ho @RussellSpitzer @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340218596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340250944","html_url":"https://github.com/apache/iceberg/issues/6373#issuecomment-1340250944","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6373","id":1340250944,"node_id":"IC_kwDOCW7NX85P4ptA","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T01:30:27Z","updated_at":"2022-12-07T01:30:27Z","author_association":"MEMBER","body":"There are two main issues here,\n\n1) If you only add enough data for a single file it is most likely not going to help if that single file has been ZOrdered all by itself. Z ordering as we have it currently implemented can only really help across multiple files being ZOrdered at the same time. This is similar to if you were just doing a normal sort, sorting a single file in isolation would not change the min/max stats of that file so it wouldn't help iceberg.\n\n2) We currently do not have the ability to have ZOrder as a table defined sort order yet. There are tickets for that but currently if you wanted to take advantage of ZOrdering you would need to use rewrite again. Again like with normal sort, you would only gain the benefit from effected files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340250944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340297485","html_url":"https://github.com/apache/iceberg/issues/6373#issuecomment-1340297485","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6373","id":1340297485,"node_id":"IC_kwDOCW7NX85P41EN","user":{"login":"LevisBale0824","id":46475641,"node_id":"MDQ6VXNlcjQ2NDc1NjQx","avatar_url":"https://avatars.githubusercontent.com/u/46475641?v=4","gravatar_id":"","url":"https://api.github.com/users/LevisBale0824","html_url":"https://github.com/LevisBale0824","followers_url":"https://api.github.com/users/LevisBale0824/followers","following_url":"https://api.github.com/users/LevisBale0824/following{/other_user}","gists_url":"https://api.github.com/users/LevisBale0824/gists{/gist_id}","starred_url":"https://api.github.com/users/LevisBale0824/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LevisBale0824/subscriptions","organizations_url":"https://api.github.com/users/LevisBale0824/orgs","repos_url":"https://api.github.com/users/LevisBale0824/repos","events_url":"https://api.github.com/users/LevisBale0824/events{/privacy}","received_events_url":"https://api.github.com/users/LevisBale0824/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T02:42:50Z","updated_at":"2022-12-07T02:42:50Z","author_association":"NONE","body":"> * If you only add enough data for a single file it is most likely not going to help if that single file has been ZOrdered all by itself. Z ordering as we have it currently implemented can only really help across multiple files being ZOrdered at the same time. This is similar to if you were just doing a normal sort, sorting a single file in isolation would not change the min/max stats of that file so it wouldn't help iceberg.\r\n> * We currently do not have the ability to have ZOrder as a table defined sort order yet. There are tickets for that but currently if you wanted to take advantage of ZOrdering you would need to use rewrite again. Again like with normal sort, you would only gain the benefit from effected files.\r\n\r\nI find there is an option named rewrite-all in RewriteFile. if I use it in Zorder when I add enough data and some new files are created, what will happen? old files will not be rewritten? I guess it costs less than rewriting all file and maybe the query is a little slower than rewriting all file. thanks a lot for your reply","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340297485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340312387","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-1340312387","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":1340312387,"node_id":"IC_kwDOCW7NX85P44tD","user":{"login":"dmgcodevil","id":1413873,"node_id":"MDQ6VXNlcjE0MTM4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1413873?v=4","gravatar_id":"","url":"https://api.github.com/users/dmgcodevil","html_url":"https://github.com/dmgcodevil","followers_url":"https://api.github.com/users/dmgcodevil/followers","following_url":"https://api.github.com/users/dmgcodevil/following{/other_user}","gists_url":"https://api.github.com/users/dmgcodevil/gists{/gist_id}","starred_url":"https://api.github.com/users/dmgcodevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmgcodevil/subscriptions","organizations_url":"https://api.github.com/users/dmgcodevil/orgs","repos_url":"https://api.github.com/users/dmgcodevil/repos","events_url":"https://api.github.com/users/dmgcodevil/events{/privacy}","received_events_url":"https://api.github.com/users/dmgcodevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T03:07:52Z","updated_at":"2022-12-07T03:07:52Z","author_association":"CONTRIBUTOR","body":"We faced similar issues:\r\n\r\n1. We are using Flink and some processes attempt to modify a table concurrently, e.g.: ingestion process and data compaction process. If one of them fails then a lock can remain in `ACQUIRED` state. We clear all the logs from another process in `onInit` function.\r\n2. This one is weird. We see a lot of errors in logs: `Base metadata location '%s' is not same as the current table metadata location '%s' for %s.%s`  [see](https://github.com/apache/iceberg/blob/6b8f7e0e31a81029b478e7757aba749f5ed27f42/hive-metastore/src/main/java/org/apache/iceberg/hive/HiveTableOperations.java#L295), which means table has been updated regardless of an acquired lock.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340312387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340330287","html_url":"https://github.com/apache/iceberg/issues/6373#issuecomment-1340330287","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6373","id":1340330287,"node_id":"IC_kwDOCW7NX85P49Ev","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T03:41:42Z","updated_at":"2022-12-07T03:41:42Z","author_association":"MEMBER","body":"Rewrite all rewrites all files, this means reading all data of the files, ordering them, then writing out new ordered files. If no predicates are selected this would completely rewrite the table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340330287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340517611","html_url":"https://github.com/apache/iceberg/pull/6358#issuecomment-1340517611","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6358","id":1340517611,"node_id":"IC_kwDOCW7NX85P5qzr","user":{"login":"aajisaka","id":3403122,"node_id":"MDQ6VXNlcjM0MDMxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3403122?v=4","gravatar_id":"","url":"https://api.github.com/users/aajisaka","html_url":"https://github.com/aajisaka","followers_url":"https://api.github.com/users/aajisaka/followers","following_url":"https://api.github.com/users/aajisaka/following{/other_user}","gists_url":"https://api.github.com/users/aajisaka/gists{/gist_id}","starred_url":"https://api.github.com/users/aajisaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aajisaka/subscriptions","organizations_url":"https://api.github.com/users/aajisaka/orgs","repos_url":"https://api.github.com/users/aajisaka/repos","events_url":"https://api.github.com/users/aajisaka/events{/privacy}","received_events_url":"https://api.github.com/users/aajisaka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T07:33:20Z","updated_at":"2022-12-07T07:33:20Z","author_association":"MEMBER","body":"Hi @jackye1995 would you review?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340517611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340578855","html_url":"https://github.com/apache/iceberg/issues/4550#issuecomment-1340578855","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4550","id":1340578855,"node_id":"IC_kwDOCW7NX85P55wn","user":{"login":"245831311","id":19466478,"node_id":"MDQ6VXNlcjE5NDY2NDc4","avatar_url":"https://avatars.githubusercontent.com/u/19466478?v=4","gravatar_id":"","url":"https://api.github.com/users/245831311","html_url":"https://github.com/245831311","followers_url":"https://api.github.com/users/245831311/followers","following_url":"https://api.github.com/users/245831311/following{/other_user}","gists_url":"https://api.github.com/users/245831311/gists{/gist_id}","starred_url":"https://api.github.com/users/245831311/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/245831311/subscriptions","organizations_url":"https://api.github.com/users/245831311/orgs","repos_url":"https://api.github.com/users/245831311/repos","events_url":"https://api.github.com/users/245831311/events{/privacy}","received_events_url":"https://api.github.com/users/245831311/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T08:28:15Z","updated_at":"2022-12-07T08:28:52Z","author_association":"NONE","body":"> I have solved this problem. Thank you. My problem mainly occurs when InMemoryLockManager releases the heartbeat of the lock and reports a NullPointerException; I rewrote InMemoryLockManager to solve this problem. åœ¨ 2022å¹´12æœˆ6æ—¥ ***@***.***> å†™é“ï¼š After deeping into iceberg code and the log, I can reproduce it in debugging locally. The scenario may happens in the process of Flink cancelling. IcebergFileCommitter is going to commit file. In the step of rename metadata.json(org.apache.iceberg.hadoop.HadoopTableOperations#renameToFinal), org.apache.hadoop.ipc.Client.call encounters InterruptedIOException. I suspect it comes from Flink task cancelling. On the other hand, Hdfs has renamed the metada.json file sucessfully. After rename fails, it's supposed to retry. But the thread encounters InterruptedException in sleeping(org.apache.iceberg.util.Tasks#runTaskWithRetry). Then it will throw a RuntimeException. And the version-hint will not be updated. The RuntimeException leads to rollback in org.apache.iceberg.BaseTransaction(#cleanUpOnCommitFailure), which will delete manifest list (snap-XXX). â€” Reply to this email directly, view it on GitHub, or unsubscribe. You are receiving this because you commented.Message ID: ***@***.***>\r\n\r\nèƒ½å¦æ›´å…·ä½“æè¿°ä¸‹å—ï¼Ÿæˆ‘è¢«è¿™ä¸ªé—®é¢˜å›°æ‰°äº†æŒºä¹… ,æ„Ÿè°¢@wxjzlm ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340578855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340607468","html_url":"https://github.com/apache/iceberg/issues/6373#issuecomment-1340607468","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6373","id":1340607468,"node_id":"IC_kwDOCW7NX85P6Avs","user":{"login":"LevisBale0824","id":46475641,"node_id":"MDQ6VXNlcjQ2NDc1NjQx","avatar_url":"https://avatars.githubusercontent.com/u/46475641?v=4","gravatar_id":"","url":"https://api.github.com/users/LevisBale0824","html_url":"https://github.com/LevisBale0824","followers_url":"https://api.github.com/users/LevisBale0824/followers","following_url":"https://api.github.com/users/LevisBale0824/following{/other_user}","gists_url":"https://api.github.com/users/LevisBale0824/gists{/gist_id}","starred_url":"https://api.github.com/users/LevisBale0824/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LevisBale0824/subscriptions","organizations_url":"https://api.github.com/users/LevisBale0824/orgs","repos_url":"https://api.github.com/users/LevisBale0824/repos","events_url":"https://api.github.com/users/LevisBale0824/events{/privacy}","received_events_url":"https://api.github.com/users/LevisBale0824/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T08:56:49Z","updated_at":"2022-12-07T08:56:49Z","author_association":"NONE","body":"\r\n\r\n\r\n> Rewrite all rewrites all files, this means reading all data of the files, ordering them, then writing out new ordered files. If no predicates are selected this would completely rewrite the table.\r\n\r\nThanks a lot, I understand after your reply","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340607468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340655807","html_url":"https://github.com/apache/iceberg/issues/4550#issuecomment-1340655807","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4550","id":1340655807,"node_id":"IC_kwDOCW7NX85P6Mi_","user":{"login":"zstraw","id":8609854,"node_id":"MDQ6VXNlcjg2MDk4NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8609854?v=4","gravatar_id":"","url":"https://api.github.com/users/zstraw","html_url":"https://github.com/zstraw","followers_url":"https://api.github.com/users/zstraw/followers","following_url":"https://api.github.com/users/zstraw/following{/other_user}","gists_url":"https://api.github.com/users/zstraw/gists{/gist_id}","starred_url":"https://api.github.com/users/zstraw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zstraw/subscriptions","organizations_url":"https://api.github.com/users/zstraw/orgs","repos_url":"https://api.github.com/users/zstraw/repos","events_url":"https://api.github.com/users/zstraw/events{/privacy}","received_events_url":"https://api.github.com/users/zstraw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T09:34:56Z","updated_at":"2022-12-07T09:34:56Z","author_association":"NONE","body":"> I have solved this problem. Thank you. My problem mainly occurs when InMemoryLockManager releases the heartbeat of the lock and reports a NullPointerException; I rewrote InMemoryLockManager to solve this problem. åœ¨ 2022å¹´12æœˆ6æ—¥ ***@***.***> å†™é“ï¼š After deeping into iceberg code and the log, I can reproduce it in debugging locally. The scenario may happens in the process of Flink cancelling. IcebergFileCommitter is going to commit file. In the step of rename metadata.json(org.apache.iceberg.hadoop.HadoopTableOperations#renameToFinal), org.apache.hadoop.ipc.Client.call encounters InterruptedIOException. I suspect it comes from Flink task cancelling. On the other hand, Hdfs has renamed the metada.json file sucessfully. After rename fails, it's supposed to retry. But the thread encounters InterruptedException in sleeping(org.apache.iceberg.util.Tasks#runTaskWithRetry). Then it will throw a RuntimeException. And the version-hint will not be updated. The RuntimeException leads to rollback in org.apache.iceberg.BaseTransaction(#cleanUpOnCommitFailure), which will delete manifest list (snap-XXX). â€” Reply to this email directly, view it on GitHub, or unsubscribe. You are receiving this because you commented.Message ID: ***@***.***>\r\n\r\nBut I think this problem is still a bug in Iceberg's commit procedure. There are several tasks encountering snap-XXX.avro files lost in our env.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340655807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340672765","html_url":"https://github.com/apache/iceberg/pull/6293#issuecomment-1340672765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6293","id":1340672765,"node_id":"IC_kwDOCW7NX85P6Qr9","user":{"login":"pavibhai","id":7353275,"node_id":"MDQ6VXNlcjczNTMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/7353275?v=4","gravatar_id":"","url":"https://api.github.com/users/pavibhai","html_url":"https://github.com/pavibhai","followers_url":"https://api.github.com/users/pavibhai/followers","following_url":"https://api.github.com/users/pavibhai/following{/other_user}","gists_url":"https://api.github.com/users/pavibhai/gists{/gist_id}","starred_url":"https://api.github.com/users/pavibhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavibhai/subscriptions","organizations_url":"https://api.github.com/users/pavibhai/orgs","repos_url":"https://api.github.com/users/pavibhai/repos","events_url":"https://api.github.com/users/pavibhai/events{/privacy}","received_events_url":"https://api.github.com/users/pavibhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T09:48:58Z","updated_at":"2022-12-07T09:56:44Z","author_association":"CONTRIBUTOR","body":"> I'm not a big fan of the fake filesystem approach here, mostly because i'm afraid of mocking an object like that when we don't have the full filesystem state. I feel like this patch would have us maintaining a rather large Hadoop mock.\r\n> \r\n> Is there any chance we can convince the ORC project to allow the creation of a writer from an \"java.io.OutputStream\" instead of always creating its own file?\r\n\r\nThanks for this insight. Overall I agree that this should not be our long term answer and we shall work in the ORC community to make this integration better.\r\nIn the meantime given the relative stability of the FileSystem APIs and the limited exposure to just the creation of the input and output streams I hope this is not too painful to maintain.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340672765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340673537","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1340673537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1340673537,"node_id":"IC_kwDOCW7NX85P6Q4B","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T09:49:35Z","updated_at":"2022-12-07T09:50:20Z","author_association":"COLLABORATOR","body":"This seems a reasonable change for me. Just a question for my better understanding: The tables that we have already written will still have their partition field IDs from 1000, right? So in case we have some tables that have more than 1000 cols and written prior to this change will still have the collision with the partition field IDs and will only be fixed if they are, or at lest their metadata is rewritten, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340673537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340677494","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1340677494","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1340677494,"node_id":"IC_kwDOCW7NX85P6R12","user":{"login":"ayushtkn","id":25608848,"node_id":"MDQ6VXNlcjI1NjA4ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/25608848?v=4","gravatar_id":"","url":"https://api.github.com/users/ayushtkn","html_url":"https://github.com/ayushtkn","followers_url":"https://api.github.com/users/ayushtkn/followers","following_url":"https://api.github.com/users/ayushtkn/following{/other_user}","gists_url":"https://api.github.com/users/ayushtkn/gists{/gist_id}","starred_url":"https://api.github.com/users/ayushtkn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ayushtkn/subscriptions","organizations_url":"https://api.github.com/users/ayushtkn/orgs","repos_url":"https://api.github.com/users/ayushtkn/repos","events_url":"https://api.github.com/users/ayushtkn/events{/privacy}","received_events_url":"https://api.github.com/users/ayushtkn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T09:52:59Z","updated_at":"2022-12-07T09:52:59Z","author_association":"MEMBER","body":">written prior to this change will still have the collision with the partition field IDs and will only be fixed if they are, or at lest their metadata is rewritten, right?\r\n\r\nyep","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340677494/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340696570","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1340696570","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1340696570,"node_id":"IC_kwDOCW7NX85P6Wf6","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T10:08:26Z","updated_at":"2022-12-07T10:10:53Z","author_association":"COLLABORATOR","body":"Thanks for the answer, @ayushtkn!\r\nI wonder if it would make sense to make the already written tables work as expected even with more than 1000 cols. E.g. when reading their metadata we could convert their field IDs (starting from 1000) to the new way (starting from 10000). They would remain the same in the written metadata files but internally we could keep track of the field IDs starting from 10000. And this would only be needed if we have more than 1000 cols, so most of the tables would work as they do now.\r\n\r\nWould it make sense? I can create a separate issue for this for further discussion and if it does make sense I could give the implementation a try. @RussellSpitzer ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340696570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340790968","html_url":"https://github.com/apache/iceberg/pull/6293#issuecomment-1340790968","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6293","id":1340790968,"node_id":"IC_kwDOCW7NX85P6ti4","user":{"login":"pavibhai","id":7353275,"node_id":"MDQ6VXNlcjczNTMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/7353275?v=4","gravatar_id":"","url":"https://api.github.com/users/pavibhai","html_url":"https://github.com/pavibhai","followers_url":"https://api.github.com/users/pavibhai/followers","following_url":"https://api.github.com/users/pavibhai/following{/other_user}","gists_url":"https://api.github.com/users/pavibhai/gists{/gist_id}","starred_url":"https://api.github.com/users/pavibhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavibhai/subscriptions","organizations_url":"https://api.github.com/users/pavibhai/orgs","repos_url":"https://api.github.com/users/pavibhai/repos","events_url":"https://api.github.com/users/pavibhai/events{/privacy}","received_events_url":"https://api.github.com/users/pavibhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T10:59:14Z","updated_at":"2022-12-07T10:59:14Z","author_association":"CONTRIBUTOR","body":"> Looks mostly good overall. Thanks for getting this working @pavibhai!\r\n\r\nThanks @rdblue for your comments. I have addressed the comments, there are a few comments where I gave additional clarification.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340790968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340870927","html_url":"https://github.com/apache/iceberg/issues/6366#issuecomment-1340870927","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6366","id":1340870927,"node_id":"IC_kwDOCW7NX85P7BEP","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T12:05:18Z","updated_at":"2022-12-07T12:05:18Z","author_association":"CONTRIBUTOR","body":"@gnikgnaw did you have a chance looking at my last comment?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340870927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340886112","html_url":"https://github.com/apache/iceberg/issues/6366#issuecomment-1340886112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6366","id":1340886112,"node_id":"IC_kwDOCW7NX85P7Exg","user":{"login":"gnikgnaw","id":42083456,"node_id":"MDQ6VXNlcjQyMDgzNDU2","avatar_url":"https://avatars.githubusercontent.com/u/42083456?v=4","gravatar_id":"","url":"https://api.github.com/users/gnikgnaw","html_url":"https://github.com/gnikgnaw","followers_url":"https://api.github.com/users/gnikgnaw/followers","following_url":"https://api.github.com/users/gnikgnaw/following{/other_user}","gists_url":"https://api.github.com/users/gnikgnaw/gists{/gist_id}","starred_url":"https://api.github.com/users/gnikgnaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gnikgnaw/subscriptions","organizations_url":"https://api.github.com/users/gnikgnaw/orgs","repos_url":"https://api.github.com/users/gnikgnaw/repos","events_url":"https://api.github.com/users/gnikgnaw/events{/privacy}","received_events_url":"https://api.github.com/users/gnikgnaw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T12:18:39Z","updated_at":"2022-12-07T12:18:39Z","author_association":"NONE","body":"> @gnikgnaw did you have a chance looking at my last comment?\r\n\r\nhi @nastra  Thank you very much for your help, after modifying the spark version, my problem is solved","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1340886112/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341067753","html_url":"https://github.com/apache/iceberg/issues/6370#issuecomment-1341067753","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6370","id":1341067753,"node_id":"IC_kwDOCW7NX85P7xHp","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T14:42:26Z","updated_at":"2022-12-07T14:42:26Z","author_association":"CONTRIBUTOR","body":"@dmgcodevil: The purpose of the Hive Lock is to make sure that there are no concurrent changes to the table. Specifically that there is no concurrent Iceberg commit.\r\n\r\nIn theory the replace is a good idea, but in an ideal world that is a new feature in HMS which could be only supported in the upcoming releases (4.0.0). Most of the Iceberg community uses older 3.x Hive (HMS) version, or even older 2.x some cases. Adding a new feature there is usually not allowed.\r\n\r\nJust from the Iceberg perspective this change would be very much needed and welcome as it would mean faster/more reliable commit flow for HiveCatalogs","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341067753/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341111581","html_url":"https://github.com/apache/iceberg/pull/6360#issuecomment-1341111581","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6360","id":1341111581,"node_id":"IC_kwDOCW7NX85P770d","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T15:12:35Z","updated_at":"2022-12-07T15:12:35Z","author_association":"MEMBER","body":"Thanks @ajantha-bhat , looking much clearer now!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341111581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341121146","html_url":"https://github.com/apache/iceberg/pull/6374#issuecomment-1341121146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6374","id":1341121146,"node_id":"IC_kwDOCW7NX85P7-J6","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T15:18:36Z","updated_at":"2022-12-07T15:18:36Z","author_association":"MEMBER","body":"Looks good to me, Thanks for the cleanup!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341121146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341155158","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1341155158","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1341155158,"node_id":"IC_kwDOCW7NX85P8GdW","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T15:41:59Z","updated_at":"2022-12-07T15:41:59Z","author_association":"MEMBER","body":"@gaborkaszab I would probably just recommended dropping and recreating the table (via metadata) or having a separate utility for modifying existing tables. I really don't think many folks have 1000 columns since we would have seen this before so I don't think the upgrade procedure really needs to exist inside the Iceberg repo.\r\n\r\nI think this change is pretty small and harmless though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341155158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341261730","html_url":"https://github.com/apache/iceberg/pull/6268#issuecomment-1341261730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6268","id":1341261730,"node_id":"IC_kwDOCW7NX85P8gei","user":{"login":"islamismailov","id":573719,"node_id":"MDQ6VXNlcjU3MzcxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/573719?v=4","gravatar_id":"","url":"https://api.github.com/users/islamismailov","html_url":"https://github.com/islamismailov","followers_url":"https://api.github.com/users/islamismailov/followers","following_url":"https://api.github.com/users/islamismailov/following{/other_user}","gists_url":"https://api.github.com/users/islamismailov/gists{/gist_id}","starred_url":"https://api.github.com/users/islamismailov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/islamismailov/subscriptions","organizations_url":"https://api.github.com/users/islamismailov/orgs","repos_url":"https://api.github.com/users/islamismailov/repos","events_url":"https://api.github.com/users/islamismailov/events{/privacy}","received_events_url":"https://api.github.com/users/islamismailov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T16:47:17Z","updated_at":"2022-12-07T16:47:17Z","author_association":"CONTRIBUTOR","body":"(i did address Ryan's feedback)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341261730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341362767","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-1341362767","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":1341362767,"node_id":"IC_kwDOCW7NX85P85JP","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:03:56Z","updated_at":"2022-12-07T18:03:56Z","author_association":"CONTRIBUTOR","body":"> We faced similar issues:\r\n> \r\n> 1. We are using Flink and some processes attempt to modify a table concurrently, e.g.: ingestion process and data compaction process. If one of them fails then a lock can remain in `ACQUIRED` state. We clear all the logs from another process in `onInit` function.\r\n\r\nThis is problematic. You should not `clear` locks. You should only do this when you are sure that the other process is not writing/committing.\r\n\r\n> 2. This one is weird. We see a lot of errors in logs: `Base metadata location '%s' is not same as the current table metadata location '%s' for %s.%s`  [see](https://github.com/apache/iceberg/blob/6b8f7e0e31a81029b478e7757aba749f5ed27f42/hive-metastore/src/main/java/org/apache/iceberg/hive/HiveTableOperations.java#L295), which means table has been updated regardless of an acquired lock.\r\n\r\nThis is exactly the case which could happen when the locks are removed during a commit and another process is trying to commit concurrenly.\r\n\r\nThe correct solution for the issue is to try to make sure that the lock is removed by the failing process\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341362767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341372808","html_url":"https://github.com/apache/iceberg/issues/6370#issuecomment-1341372808","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6370","id":1341372808,"node_id":"IC_kwDOCW7NX85P87mI","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:11:14Z","updated_at":"2022-12-07T18:11:14Z","author_association":"CONTRIBUTOR","body":"@InvisibleProgrammer: What do the Hive guys think about this? Would they be interested in adding this feature to HMS?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341372808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341372839","html_url":"https://github.com/apache/iceberg/pull/6352#issuecomment-1341372839","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6352","id":1341372839,"node_id":"IC_kwDOCW7NX85P87mn","user":{"login":"tomtongue","id":43331405,"node_id":"MDQ6VXNlcjQzMzMxNDA1","avatar_url":"https://avatars.githubusercontent.com/u/43331405?v=4","gravatar_id":"","url":"https://api.github.com/users/tomtongue","html_url":"https://github.com/tomtongue","followers_url":"https://api.github.com/users/tomtongue/followers","following_url":"https://api.github.com/users/tomtongue/following{/other_user}","gists_url":"https://api.github.com/users/tomtongue/gists{/gist_id}","starred_url":"https://api.github.com/users/tomtongue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomtongue/subscriptions","organizations_url":"https://api.github.com/users/tomtongue/orgs","repos_url":"https://api.github.com/users/tomtongue/repos","events_url":"https://api.github.com/users/tomtongue/events{/privacy}","received_events_url":"https://api.github.com/users/tomtongue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:11:15Z","updated_at":"2022-12-07T18:11:15Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing this PR, Amogh! (Sorry for delaying my response) I'll check your comments  and get back tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341372839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341382512","html_url":"https://github.com/apache/iceberg/issues/6370#issuecomment-1341382512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6370","id":1341382512,"node_id":"IC_kwDOCW7NX85P899w","user":{"login":"aturoczy","id":7687174,"node_id":"MDQ6VXNlcjc2ODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7687174?v=4","gravatar_id":"","url":"https://api.github.com/users/aturoczy","html_url":"https://github.com/aturoczy","followers_url":"https://api.github.com/users/aturoczy/followers","following_url":"https://api.github.com/users/aturoczy/following{/other_user}","gists_url":"https://api.github.com/users/aturoczy/gists{/gist_id}","starred_url":"https://api.github.com/users/aturoczy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aturoczy/subscriptions","organizations_url":"https://api.github.com/users/aturoczy/orgs","repos_url":"https://api.github.com/users/aturoczy/repos","events_url":"https://api.github.com/users/aturoczy/events{/privacy}","received_events_url":"https://api.github.com/users/aturoczy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:18:48Z","updated_at":"2022-12-07T18:18:48Z","author_association":"NONE","body":"It is definitely something that we need to consider. We will talk about it on our next meeting. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341382512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341384585","html_url":"https://github.com/apache/iceberg/issues/6368#issuecomment-1341384585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6368","id":1341384585,"node_id":"IC_kwDOCW7NX85P8-eJ","user":{"login":"aturoczy","id":7687174,"node_id":"MDQ6VXNlcjc2ODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7687174?v=4","gravatar_id":"","url":"https://api.github.com/users/aturoczy","html_url":"https://github.com/aturoczy","followers_url":"https://api.github.com/users/aturoczy/followers","following_url":"https://api.github.com/users/aturoczy/following{/other_user}","gists_url":"https://api.github.com/users/aturoczy/gists{/gist_id}","starred_url":"https://api.github.com/users/aturoczy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aturoczy/subscriptions","organizations_url":"https://api.github.com/users/aturoczy/orgs","repos_url":"https://api.github.com/users/aturoczy/repos","events_url":"https://api.github.com/users/aturoczy/events{/privacy}","received_events_url":"https://api.github.com/users/aturoczy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:20:34Z","updated_at":"2022-12-07T18:20:34Z","author_association":"NONE","body":"@ayushtkn This is settable from hive?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341384585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341391351","html_url":"https://github.com/apache/iceberg/issues/6347#issuecomment-1341391351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6347","id":1341391351,"node_id":"IC_kwDOCW7NX85P9AH3","user":{"login":"aturoczy","id":7687174,"node_id":"MDQ6VXNlcjc2ODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7687174?v=4","gravatar_id":"","url":"https://api.github.com/users/aturoczy","html_url":"https://github.com/aturoczy","followers_url":"https://api.github.com/users/aturoczy/followers","following_url":"https://api.github.com/users/aturoczy/following{/other_user}","gists_url":"https://api.github.com/users/aturoczy/gists{/gist_id}","starred_url":"https://api.github.com/users/aturoczy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aturoczy/subscriptions","organizations_url":"https://api.github.com/users/aturoczy/orgs","repos_url":"https://api.github.com/users/aturoczy/repos","events_url":"https://api.github.com/users/aturoczy/events{/privacy}","received_events_url":"https://api.github.com/users/aturoczy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:25:23Z","updated_at":"2022-12-07T18:25:23Z","author_association":"NONE","body":"@code-magician323 Thanks for your feedback. @InvisibleProgrammer Could you please take care on it for the next? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341391351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341395246","html_url":"https://github.com/apache/iceberg/issues/6249#issuecomment-1341395246","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6249","id":1341395246,"node_id":"IC_kwDOCW7NX85P9BEu","user":{"login":"aturoczy","id":7687174,"node_id":"MDQ6VXNlcjc2ODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7687174?v=4","gravatar_id":"","url":"https://api.github.com/users/aturoczy","html_url":"https://github.com/aturoczy","followers_url":"https://api.github.com/users/aturoczy/followers","following_url":"https://api.github.com/users/aturoczy/following{/other_user}","gists_url":"https://api.github.com/users/aturoczy/gists{/gist_id}","starred_url":"https://api.github.com/users/aturoczy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aturoczy/subscriptions","organizations_url":"https://api.github.com/users/aturoczy/orgs","repos_url":"https://api.github.com/users/aturoczy/repos","events_url":"https://api.github.com/users/aturoczy/events{/privacy}","received_events_url":"https://api.github.com/users/aturoczy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:28:46Z","updated_at":"2022-12-07T18:28:46Z","author_association":"NONE","body":"Nice :) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341395246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341395880","html_url":"https://github.com/apache/iceberg/issues/6347#issuecomment-1341395880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6347","id":1341395880,"node_id":"IC_kwDOCW7NX85P9BOo","user":{"login":"aturoczy","id":7687174,"node_id":"MDQ6VXNlcjc2ODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7687174?v=4","gravatar_id":"","url":"https://api.github.com/users/aturoczy","html_url":"https://github.com/aturoczy","followers_url":"https://api.github.com/users/aturoczy/followers","following_url":"https://api.github.com/users/aturoczy/following{/other_user}","gists_url":"https://api.github.com/users/aturoczy/gists{/gist_id}","starred_url":"https://api.github.com/users/aturoczy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aturoczy/subscriptions","organizations_url":"https://api.github.com/users/aturoczy/orgs","repos_url":"https://api.github.com/users/aturoczy/repos","events_url":"https://api.github.com/users/aturoczy/events{/privacy}","received_events_url":"https://api.github.com/users/aturoczy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:29:16Z","updated_at":"2022-12-07T18:29:16Z","author_association":"NONE","body":"@code-magician323 Something like this? https://github.com/apache/iceberg/issues/6249 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341395880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341398027","html_url":"https://github.com/apache/iceberg/issues/6347#issuecomment-1341398027","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6347","id":1341398027,"node_id":"IC_kwDOCW7NX85P9BwL","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:30:45Z","updated_at":"2022-12-07T18:30:45Z","author_association":"CONTRIBUTOR","body":"Yes, I can. \r\n\r\n@Fokko , what do you think about grouping the changelog? \r\nAnd maybe, it would be worth creating some kind of template to the changelogs to create a consistent experience in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341398027/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341416995","html_url":"https://github.com/apache/iceberg/pull/6377#issuecomment-1341416995","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6377","id":1341416995,"node_id":"IC_kwDOCW7NX85P9GYj","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:45:31Z","updated_at":"2022-12-07T18:48:36Z","author_association":"CONTRIBUTOR","body":"We had this util class internally for testing Avro GenericRecord to Flink RowData converter. It can be useful for writing unit test for the `StructRowData` class from PR #6222. \r\n\r\n@hililiwei it will probably be easier if `StructRowData` implements `equals` method to compare with the expected value from data generators.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341416995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341418873","html_url":"https://github.com/apache/iceberg/pull/6377#issuecomment-1341418873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6377","id":1341418873,"node_id":"IC_kwDOCW7NX85P9G15","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T18:47:17Z","updated_at":"2022-12-07T18:47:17Z","author_association":"CONTRIBUTOR","body":"Example usage\r\n\r\n```\r\npublic class TestRowDataToAvroGenericRecordConverter  {\r\n\r\n  protected void testConverter(DataGenerator dataGenerator) throws Exception {\r\n    RowDataToAvroGenericRecordConverter converter =\r\n        RowDataToAvroGenericRecordConverter.fromAvroSchema(dataGenerator.avroSchema());\r\n    GenericRecord expected = dataGenerator.generateAvroGenericRecord();\r\n    GenericRecord actual = converter.apply(dataGenerator.generateFlinkRowData());\r\n    Assert.assertEquals(expected, actual);\r\n  }\r\n\r\n  @Test\r\n  public void testPrimitiveTypes() throws Exception {\r\n    testConverter(new DataGenerators.Primitives());\r\n  }\r\n\r\n  @Test\r\n  public void testStructOfPrimitive() throws Exception {\r\n    testConverter(new DataGenerators.StructOfPrimitive());\r\n  }\r\n\r\n  @Test\r\n  public void testStructOfArray() throws Exception {\r\n    testConverter(new DataGenerators.StructOfArray());\r\n  }\r\n\r\n  @Test\r\n  public void testStructOfMap() throws Exception {\r\n    testConverter(new DataGenerators.StructOfMap());\r\n  }\r\n\r\n  @Test\r\n  public void testStructOfStruct() throws Exception {\r\n    testConverter(new DataGenerators.StructOfStruct());\r\n  }\r\n\r\n  @Test\r\n  public void testArrayOfPrimitive() throws Exception {\r\n    testConverter(new DataGenerators.ArrayOfPrimitive());\r\n  }\r\n\r\n  @Test\r\n  public void testArrayOfArray() throws Exception {\r\n    testConverter(new DataGenerators.ArrayOfArray());\r\n  }\r\n\r\n  @Test\r\n  public void testArrayOfMap() throws Exception {\r\n    testConverter(new DataGenerators.ArrayOfMap());\r\n  }\r\n\r\n  @Test\r\n  public void testArrayOfStruct() throws Exception {\r\n    testConverter(new DataGenerators.ArrayOfStruct());\r\n  }\r\n\r\n  @Test\r\n  public void testMapOfPrimitives() throws Exception {\r\n    testConverter(new DataGenerators.MapOfPrimitives());\r\n  }\r\n\r\n  @Test\r\n  public void testMapOfArray() throws Exception {\r\n    testConverter(new DataGenerators.MapOfArray());\r\n  }\r\n\r\n  @Test\r\n  public void testMapOfMap() throws Exception {\r\n    testConverter(new DataGenerators.MapOfMap());\r\n  }\r\n\r\n  @Test\r\n  public void testMapOfStruct() throws Exception {\r\n    testConverter(new DataGenerators.MapOfStruct());\r\n  }\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341418873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341500255","html_url":"https://github.com/apache/iceberg/issues/6367#issuecomment-1341500255","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6367","id":1341500255,"node_id":"IC_kwDOCW7NX85P9atf","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T19:44:20Z","updated_at":"2022-12-07T19:44:20Z","author_association":"MEMBER","body":"Filed a quick PR to just extend the timeout","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341500255/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341513400","html_url":"https://github.com/apache/iceberg/issues/6368#issuecomment-1341513400","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6368","id":1341513400,"node_id":"IC_kwDOCW7NX85P9d64","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T19:56:22Z","updated_at":"2022-12-07T19:56:22Z","author_association":"COLLABORATOR","body":"@TuroczyX The agreement here is that there is no need to make this configurable and hardcoding to 10k is enough. See PR: https://github.com/apache/iceberg/pull/6369\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341513400/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341544917","html_url":"https://github.com/apache/iceberg/issues/6368#issuecomment-1341544917","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6368","id":1341544917,"node_id":"IC_kwDOCW7NX85P9lnV","user":{"login":"aturoczy","id":7687174,"node_id":"MDQ6VXNlcjc2ODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7687174?v=4","gravatar_id":"","url":"https://api.github.com/users/aturoczy","html_url":"https://github.com/aturoczy","followers_url":"https://api.github.com/users/aturoczy/followers","following_url":"https://api.github.com/users/aturoczy/following{/other_user}","gists_url":"https://api.github.com/users/aturoczy/gists{/gist_id}","starred_url":"https://api.github.com/users/aturoczy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aturoczy/subscriptions","organizations_url":"https://api.github.com/users/aturoczy/orgs","repos_url":"https://api.github.com/users/aturoczy/repos","events_url":"https://api.github.com/users/aturoczy/events{/privacy}","received_events_url":"https://api.github.com/users/aturoczy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:23:34Z","updated_at":"2022-12-07T20:23:34Z","author_association":"NONE","body":"Thanks for the update!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341544917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341545626","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1341545626","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1341545626,"node_id":"IC_kwDOCW7NX85P9lya","user":{"login":"aturoczy","id":7687174,"node_id":"MDQ6VXNlcjc2ODcxNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7687174?v=4","gravatar_id":"","url":"https://api.github.com/users/aturoczy","html_url":"https://github.com/aturoczy","followers_url":"https://api.github.com/users/aturoczy/followers","following_url":"https://api.github.com/users/aturoczy/following{/other_user}","gists_url":"https://api.github.com/users/aturoczy/gists{/gist_id}","starred_url":"https://api.github.com/users/aturoczy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aturoczy/subscriptions","organizations_url":"https://api.github.com/users/aturoczy/orgs","repos_url":"https://api.github.com/users/aturoczy/repos","events_url":"https://api.github.com/users/aturoczy/events{/privacy}","received_events_url":"https://api.github.com/users/aturoczy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:24:15Z","updated_at":"2022-12-07T20:24:15Z","author_association":"NONE","body":"@szehon-ho https://www.youtube.com/watch?v=rR4n-0KYeKQ  about the LGTM :) Just for fun. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341545626/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341558435","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1341558435","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1341558435,"node_id":"IC_kwDOCW7NX85P9o6j","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:33:19Z","updated_at":"2022-12-07T20:33:19Z","author_association":"MEMBER","body":"Double checking the relevant part of the spec and we never actually demand that partition id's start at 1000. So I think we are in the clear hear from a backwards compatibility standpoint as well>\r\n\r\n```Partition Evolution\r\nTable partitioning can be evolved by adding, removing, renaming, or reordering partition spec fields.\r\n\r\nChanging a partition spec produces a new spec identified by a unique spec ID that is added to the tableâ€™s list of partition specs and may be set as the tableâ€™s default spec.\r\n\r\nWhen evolving a spec, changes should not cause partition field IDs to change because the partition field IDs are used as the partition tuple field IDs in manifest files.\r\n\r\nIn v2, partition field IDs must be explicitly tracked for each partition field. New IDs are assigned based on the last assigned partition ID in table metadata.\r\n\r\nIn v1, partition field IDs were not tracked, but were assigned sequentially starting at 1000 in the reference implementation. This assignment caused problems when reading metadata tables based on manifest files from multiple specs because partition fields with the same ID may contain different data types. For compatibility with old versions, the following rules are recommended for partition evolution in v1 tables:\r\n\r\nDo not reorder partition fields\r\nDo not drop partition fields; instead replace the fieldâ€™s transform with the void transform\r\nOnly add partition fields at the end of the previous partition spec```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341558435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341564011","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1341564011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1341564011,"node_id":"IC_kwDOCW7NX85P9qRr","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:37:35Z","updated_at":"2022-12-07T20:37:35Z","author_association":"CONTRIBUTOR","body":"I'd be really careful with this change. Even though the spec may not mention it directly, that was always our assumption. I will need to take a closer look in a bit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341564011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341567681","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1341567681","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1341567681,"node_id":"IC_kwDOCW7NX85P9rLB","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:40:30Z","updated_at":"2022-12-07T20:40:30Z","author_association":"MEMBER","body":"The area I'm worried about now, is \r\nhttps://github.com/apache/iceberg/blob/29187353e18a0ec477f638a00353340f24fb704e/api/src/main/java/org/apache/iceberg/PartitionSpec.java#L602-L609\r\n\r\nWhich is a check for V1 Tables which is only used\r\nhttps://github.com/apache/iceberg/blob/6697129a314d98cb793601495f7ebb2ae000b40a/core/src/main/java/org/apache/iceberg/TableMetadata.java#L617-L626\r\n\r\nand\r\nhttps://github.com/apache/iceberg/blob/6697129a314d98cb793601495f7ebb2ae000b40a/core/src/main/java/org/apache/iceberg/TableMetadata.java#L1409-L1414\r\n\r\nSo I may have to think about this more","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341567681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341578681","html_url":"https://github.com/apache/iceberg/pull/6379#issuecomment-1341578681","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6379","id":1341578681,"node_id":"IC_kwDOCW7NX85P9t25","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:49:54Z","updated_at":"2022-12-07T20:49:54Z","author_association":"CONTRIBUTOR","body":"1.0.x port of https://github.com/apache/iceberg/pull/6337","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341578681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341579026","html_url":"https://github.com/apache/iceberg/pull/6380#issuecomment-1341579026","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6380","id":1341579026,"node_id":"IC_kwDOCW7NX85P9t8S","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:50:15Z","updated_at":"2022-12-07T20:50:15Z","author_association":"CONTRIBUTOR","body":"0.14.x port of https://github.com/apache/iceberg/pull/6337","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341579026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341580364","html_url":"https://github.com/apache/iceberg/pull/6337#issuecomment-1341580364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6337","id":1341580364,"node_id":"IC_kwDOCW7NX85P9uRM","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:51:26Z","updated_at":"2022-12-07T20:51:26Z","author_association":"CONTRIBUTOR","body":"Hi, @pvary \r\n\r\nPorts to:\r\n- 1.0.x: https://github.com/apache/iceberg/pull/6379\r\n- 0.14.x: https://github.com/apache/iceberg/pull/6380\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341580364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341585151","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1341585151","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1341585151,"node_id":"IC_kwDOCW7NX85P9vb_","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T20:55:48Z","updated_at":"2022-12-07T20:55:48Z","author_association":"COLLABORATOR","body":"I also checked if PartitionSpec.hasSequentialIds() could cause any issues with existing tables. The first use that you linked seems to be the case when we re-write the table metadata and it checks the new partition field ID. This should be fine in my opinion.\r\nHowever, the other use-case here (https://github.com/apache/iceberg/blob/6697129a314d98cb793601495f7ebb2ae000b40a/core/src/main/java/org/apache/iceberg/TableMetadata.java#L1409-L1414) seems suspicious. First I thought this is the case when we load metadata from JSON, but then it seems that TableMetadata.addPartitionSpecInternal() is used for [adding new partition specs to a table](https://github.com/apache/iceberg/blob/6697129a314d98cb793601495f7ebb2ae000b40a/core/src/main/java/org/apache/iceberg/MetadataUpdate.java#L122), that also seems okay with the new start ID.\r\n\r\nI can take another look tomorrow (it's kind of late now to think :) )","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1341585151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]