[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620617610","html_url":"https://github.com/apache/couchdb/pull/2836#issuecomment-620617610","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2836","id":620617610,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDYxNzYxMA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T13:45:03Z","updated_at":"2020-04-28T16:19:03Z","author_association":"CONTRIBUTOR","body":"@eiri there is a list to integer function which expects a string not an integer, so that part should work, what is failing is the set option itself","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620617610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620631718","html_url":"https://github.com/apache/couchdb/pull/2836#issuecomment-620631718","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2836","id":620631718,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDYzMTcxOA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T14:10:07Z","updated_at":"2020-04-28T14:10:07Z","author_association":"MEMBER","body":"@nickva right, I've got confused by definition of `{integer, ?DEFAULT_TIMEOUT_MSEC},` that expects strings. closing","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620631718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620775358","html_url":"https://github.com/apache/couchdb/issues/2838#issuecomment-620775358","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2838","id":620775358,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDc3NTM1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T18:20:45Z","updated_at":"2020-04-28T18:20:45Z","author_association":"MEMBER","body":"invalid build, please ignore","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620775358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620781476","html_url":"https://github.com/apache/couchdb/issues/1077#issuecomment-620781476","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1077","id":620781476,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDc4MTQ3Ng==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T18:31:58Z","updated_at":"2020-04-28T18:31:58Z","author_association":"MEMBER","body":"https://github.com/apache/couchdb/pull/1440 might have fixed the security issue but didn't help from a UI point of view. (Users are still facing issues: https://github.com/apache/couchdb-fauxton/issues/1037#issuecomment-609685270) \r\n\r\nWith the `_all_dbs` reserved for server admin only, there's no way in Fauxton to know which database the user has access to. So if a user with access limited to certain databases wants to use Fauxton, the only way to do this is by typing manually the URL. \r\n\r\nMaybe I could allow a user to manually search for a database name and show it if valid but that's not really a proper solution. \r\n\r\nFor this reason, I would like to reopen that issue. \r\n\r\n@janl  @wohali ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/620781476/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/621898342","html_url":"https://github.com/apache/couchdb/issues/2851#issuecomment-621898342","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2851","id":621898342,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg5ODM0Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T14:43:32Z","updated_at":"2020-04-30T14:43:32Z","author_association":"MEMBER","body":"paging @tonysun83 @garrensmith ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/621898342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622099261","html_url":"https://github.com/apache/couchdb/issues/1079#issuecomment-622099261","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1079","id":622099261,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjA5OTI2MQ==","user":{"login":"Souravrao-31","id":47225882,"node_id":"MDQ6VXNlcjQ3MjI1ODgy","avatar_url":"https://avatars.githubusercontent.com/u/47225882?v=4","gravatar_id":"","url":"https://api.github.com/users/Souravrao-31","html_url":"https://github.com/Souravrao-31","followers_url":"https://api.github.com/users/Souravrao-31/followers","following_url":"https://api.github.com/users/Souravrao-31/following{/other_user}","gists_url":"https://api.github.com/users/Souravrao-31/gists{/gist_id}","starred_url":"https://api.github.com/users/Souravrao-31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Souravrao-31/subscriptions","organizations_url":"https://api.github.com/users/Souravrao-31/orgs","repos_url":"https://api.github.com/users/Souravrao-31/repos","events_url":"https://api.github.com/users/Souravrao-31/events{/privacy}","received_events_url":"https://api.github.com/users/Souravrao-31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T20:41:49Z","updated_at":"2020-04-30T20:41:49Z","author_association":"NONE","body":"I tried small letter username still incorrect.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622099261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622104899","html_url":"https://github.com/apache/couchdb/issues/2236#issuecomment-622104899","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2236","id":622104899,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjEwNDg5OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T20:52:07Z","updated_at":"2020-04-30T20:52:07Z","author_association":"MEMBER","body":"This doesn't look like something we can improve per comments above. Closing for now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622104899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622108129","html_url":"https://github.com/apache/couchdb/issues/1079#issuecomment-622108129","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1079","id":622108129,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjEwODEyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T20:58:12Z","updated_at":"2020-04-30T20:58:12Z","author_association":"MEMBER","body":"Can you try upgrading to a newer CouchDB build? We don't support 2.1.1 anymore.\r\n\r\nAt least use the 2.3.1 installer, if not the 3.0.0.\r\n\r\nAlso, this is not a bug, because if it was, we'd have heard of it by now.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622108129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622536909","html_url":"https://github.com/apache/couchdb/issues/2858#issuecomment-622536909","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2858","id":622536909,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjUzNjkwOQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T19:49:31Z","updated_at":"2020-05-01T19:49:31Z","author_association":"MEMBER","body":"what happens if you add `sleep 3` instead of the curl to `/`?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622536909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622615978","html_url":"https://github.com/apache/couchdb/issues/2858#issuecomment-622615978","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2858","id":622615978,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjYxNTk3OA==","user":{"login":"YC","id":5828744,"node_id":"MDQ6VXNlcjU4Mjg3NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5828744?v=4","gravatar_id":"","url":"https://api.github.com/users/YC","html_url":"https://github.com/YC","followers_url":"https://api.github.com/users/YC/followers","following_url":"https://api.github.com/users/YC/following{/other_user}","gists_url":"https://api.github.com/users/YC/gists{/gist_id}","starred_url":"https://api.github.com/users/YC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YC/subscriptions","organizations_url":"https://api.github.com/users/YC/orgs","repos_url":"https://api.github.com/users/YC/repos","events_url":"https://api.github.com/users/YC/events{/privacy}","received_events_url":"https://api.github.com/users/YC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T00:01:26Z","updated_at":"2020-05-02T00:01:26Z","author_association":"CONTRIBUTOR","body":"```\r\nsleeping 3s\r\n{\"couchdb\":\"Welcome\",\"version\":\"3.0.0-ebdfbba\",\"git_sha\":\"ebdfbba\",\"uuid\":\"8b6a1310bd6d5751724e6abaffd2da3a\",\"features\":[\"access-ready\",\"partitioned\",\"pluggable-storage-engines\",\"reshard\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n{\"state\":\"cluster_enabled\"}\r\n{\"ok\":true}\r\n{\"ok\":true}\r\nsleeping 3s\r\n{\"error\":\"setup_error\",\"reason\":\"Cluster setup unable to sync admin passwords\"}\r\n{\"state\":\"cluster_enabled\"}\r\n```\r\nStill\r\n```\r\n[error] 2020-05-01T23:54:31.282087Z couchdb@192.168.56.101 <0.543.0> 671c155668 setup sync_admin results [{badrpc,{'EXIT',{badarg,[{config,set,5,[{file,\"src/config.erl\"},{line,186}]},{rpc,'-handle_call_call/6-fun-0-',5,[{file,\"rpc.erl\"},{line,197}]}]}}}] errors []\r\n[notice] 2020-05-01T23:54:31.292029Z couchdb@192.168.56.101 <0.543.0> 671c155668 192.168.56.101:5984 192.168.56.101 user POST /_cluster_setup 500 ok 26\r\n```\r\n[Full logs](https://github.com/apache/couchdb/files/4566718/logs_cleaned.txt)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/622615978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623001223","html_url":"https://github.com/apache/couchdb/pull/2824#issuecomment-623001223","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2824","id":623001223,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzAwMTIyMw==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T19:18:51Z","updated_at":"2020-05-02T19:18:51Z","author_association":"CONTRIBUTOR","body":"Thanks @dottorblaster ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623001223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623020117","html_url":"https://github.com/apache/couchdb/pull/2859#issuecomment-623020117","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2859","id":623020117,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzAyMDExNw==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T21:59:04Z","updated_at":"2020-05-02T21:59:04Z","author_association":"CONTRIBUTOR","body":"Thanks @wohali \r\n\r\nI'll backport this to 3.x","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623020117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623058883","html_url":"https://github.com/apache/couchdb/issues/2861#issuecomment-623058883","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2861","id":623058883,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzA1ODg4Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-03T05:51:46Z","updated_at":"2020-05-03T05:51:46Z","author_association":"MEMBER","body":"Thanks for the report. This is a duplicate of apache/couchdb-documentation#513 .\r\n\r\nWe'd love a pull request there to help with this.\r\n\r\nYou *do* have to create an admin first, then use the admin user to create other users as the default in 3.0.\r\n\r\nhttps://docs.couchdb.org/en/stable/whatsnew/3.0.html\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623058883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623095484","html_url":"https://github.com/apache/couchdb/issues/2861#issuecomment-623095484","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2861","id":623095484,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzA5NTQ4NA==","user":{"login":"yannxaver","id":17554280,"node_id":"MDQ6VXNlcjE3NTU0Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/17554280?v=4","gravatar_id":"","url":"https://api.github.com/users/yannxaver","html_url":"https://github.com/yannxaver","followers_url":"https://api.github.com/users/yannxaver/followers","following_url":"https://api.github.com/users/yannxaver/following{/other_user}","gists_url":"https://api.github.com/users/yannxaver/gists{/gist_id}","starred_url":"https://api.github.com/users/yannxaver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannxaver/subscriptions","organizations_url":"https://api.github.com/users/yannxaver/orgs","repos_url":"https://api.github.com/users/yannxaver/repos","events_url":"https://api.github.com/users/yannxaver/events{/privacy}","received_events_url":"https://api.github.com/users/yannxaver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-03T11:30:13Z","updated_at":"2020-05-03T11:33:06Z","author_association":"NONE","body":"Thank you for the quick response @wohali .\r\n\r\nWhat was the reasoning behind changing this and only allowing admins to create new users by default? \r\n\r\nI also saw that there is a new setting called `users_db_security_editable`, which defaults to `false`. The docs say the following: \r\n> When this configuration setting is set to false, reject any attempts to modify the _users database security object. Modification of this object is deprecated in 3.x and will be completely disallowed in CouchDB 4.x.\r\n\r\nIf I interpret this correctly, editing the `_users/_security` object will not be possible anymore in the future. Since it defaults to `admins`, this will be the only option for creating users then. Given these changes, what would you say are the best practices for creating users going forward? \r\n\r\nI liked CouchDB, because the http API was built-in. Since I can't hardcode admin credentials into the client, I will need a middleman API then, which acts as an admin during user creation. Is that how you intend user creation to work in the future? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623095484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623174293","html_url":"https://github.com/apache/couchdb/issues/2861#issuecomment-623174293","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2861","id":623174293,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzE3NDI5Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-03T20:16:22Z","updated_at":"2020-05-03T20:16:22Z","author_association":"MEMBER","body":"CouchDB has been steadily moving away from the \"CouchApps\" model (where Couch directly interacts with a web browser) for a long time. The very large percentage of adoption of CouchDB has been in a traditional database layer. \r\n\r\nWe discuss some of the reasons behind the change [in our documentation](https://docs.couchdb.org/en/latest/ddocs/index.html?highlight=couchapps), and there's been many discussions on the mailing lists about this.\r\n\r\nAs recommended there, a great option would be to stand up your favourite server next to CouchDB - it can even be something small in JavaScript via Node.JS - and use that to create users in CouchDB, itself leveraging admin credentials to do so.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623174293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623256158","html_url":"https://github.com/apache/couchdb/issues/2863#issuecomment-623256158","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2863","id":623256158,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzI1NjE1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T04:53:16Z","updated_at":"2020-05-04T04:53:16Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623256158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623630306","html_url":"https://github.com/apache/couchdb/pull/2865#issuecomment-623630306","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2865","id":623630306,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzYzMDMwNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T18:29:38Z","updated_at":"2022-10-17T09:47:02Z","author_association":"MEMBER","body":"Hi @sunvuz,\r\n\r\nThanks for helping out with https://github.com/apache/couchdb/issues/4212 !\r\n\r\nI misspoke over in that issue - my fault for rushing and filing it so fast. What we want are to ensure that all settings that are currently in `default.ini` have documentation in the docs repo, not that we put everything into `local.ini`.\r\n\r\nAs such, I'm going to close this now - but thank you for starting to help here!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623630306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623845078","html_url":"https://github.com/apache/couchdb/issues/2867#issuecomment-623845078","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2867","id":623845078,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg0NTA3OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T03:55:27Z","updated_at":"2020-05-05T03:55:27Z","author_association":"MEMBER","body":"Can you share your logfile output from when the error occurred? I'm not sure where Arch places it, but in our packages it's usually in `/var/log/couchdb` or similar.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623845078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623845233","html_url":"https://github.com/apache/couchdb/issues/2867#issuecomment-623845233","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2867","id":623845233,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg0NTIzMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T03:56:28Z","updated_at":"2020-05-05T03:56:28Z","author_association":"MEMBER","body":"I also note that CouchDB 2.3.1 doesn't officially support Erlang 22, but perhaps the Arch community has provided their own downstream patches for compatibility...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623845233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623850392","html_url":"https://github.com/apache/couchdb/issues/2867#issuecomment-623850392","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2867","id":623850392,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg1MDM5Mg==","user":{"login":"DeylEnergy","id":25981778,"node_id":"MDQ6VXNlcjI1OTgxNzc4","avatar_url":"https://avatars.githubusercontent.com/u/25981778?v=4","gravatar_id":"","url":"https://api.github.com/users/DeylEnergy","html_url":"https://github.com/DeylEnergy","followers_url":"https://api.github.com/users/DeylEnergy/followers","following_url":"https://api.github.com/users/DeylEnergy/following{/other_user}","gists_url":"https://api.github.com/users/DeylEnergy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeylEnergy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeylEnergy/subscriptions","organizations_url":"https://api.github.com/users/DeylEnergy/orgs","repos_url":"https://api.github.com/users/DeylEnergy/repos","events_url":"https://api.github.com/users/DeylEnergy/events{/privacy}","received_events_url":"https://api.github.com/users/DeylEnergy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T04:24:59Z","updated_at":"2020-05-05T04:24:59Z","author_association":"NONE","body":"Here's the output, I start couchdb.service manually\r\n```\r\nMay 05 10:21:23 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:23.960819Z couchdb@127.0.0.1 <0.295.0> -------- rexi_buffer : cluster stable\r\nMay 05 10:21:23 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:23.959978Z couchdb@127.0.0.1 <0.291.0> -------- rexi_server : cluster stable\r\nMay 05 10:21:23 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:23.576165Z couchdb@127.0.0.1 <0.683.0> 5b095c6b37 localhost:5984 127.0.0.1 undefined PUT /_users/org.couchdb.user:jan 500 ok 5091\r\nMay 05 10:21:23 dellpc couchdb[2716]: [error] 2020-05-05T04:21:23.561202Z couchdb@127.0.0.1 <0.741.0> -------- rexi_server: from: couchdb@127.0.0.1(<0.738.0>) mfa: fabric_rpc:update_docs/3 exit:{timeout,{gen_server,call,[couch_proc_manager,{get_proc,{doc,<<\"_design/_auth\">>,{1,[<<>\r\nMay 05 10:21:18 dellpc couchdb[2716]: [error] 2020-05-05T04:21:18.579995Z couchdb@127.0.0.1 <0.755.0> -------- OS Process Error <0.756.0> :: {os_process_error,{exit_status,127}}\r\nMay 05 10:21:18 dellpc couchdb[2773]: ./bin/couchjs: error while loading shared libraries: libffi.so.7: cannot open shared object file: No such file or directory\r\nMay 05 10:21:14 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:14.069774Z couchdb@127.0.0.1 <0.421.0> -------- Started replicator db changes listener <0.556.0>\r\nMay 05 10:21:14 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:14.061034Z couchdb@127.0.0.1 <0.376.0> -------- couch_replicator_clustering : cluster stable\r\nMay 05 10:21:09 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:09.099178Z couchdb@127.0.0.1 <0.110.0> -------- config: [features] scheduler set to true for reason nil\r\nMay 05 10:21:08 dellpc couchdb[2716]: [error] 2020-05-05T04:21:08.972105Z couchdb@127.0.0.1 <0.275.0> -------- Could not get design docs for <<\"shards/e0000000-ffffffff/_users.1588035186\">> error:{badarg,[{ets,member,[mem3_openers,<<\"_users\">>],[]},{mem3_shards,maybe_spawn_shard_w>\r\nMay 05 10:21:08 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:08.966628Z couchdb@127.0.0.1 <0.295.0> -------- rexi_buffer : started servers\r\nMay 05 10:21:08 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:08.959394Z couchdb@127.0.0.1 <0.291.0> -------- rexi_server : started servers\r\nMay 05 10:21:08 dellpc couchdb[2716]: [info] 2020-05-05T04:21:08.937344Z couchdb@127.0.0.1 <0.227.0> -------- Apache CouchDB has started on http://127.0.0.1:5986/\r\nMay 05 10:21:08 dellpc couchdb[2716]: [info] 2020-05-05T04:21:08.937070Z couchdb@127.0.0.1 <0.227.0> -------- Apache CouchDB has started. Time to relax.\r\nMay 05 10:21:08 dellpc couchdb[2716]: [notice] 2020-05-05T04:21:08.815137Z couchdb@127.0.0.1 <0.110.0> -------- config: [features] pluggable-storage-engines set to true for reason nil\r\nMay 05 10:21:08 dellpc couchdb[2716]: [info] 2020-05-05T04:21:08.802713Z couchdb@127.0.0.1 <0.228.0> -------- Starting couch_sup\r\nMay 05 10:21:08 dellpc couchdb[2716]: [info] 2020-05-05T04:21:08.800442Z couchdb@127.0.0.1 <0.227.0> -------- Apache CouchDB 2.3.1 is starting.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623850392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623855687","html_url":"https://github.com/apache/couchdb/issues/2867#issuecomment-623855687","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2867","id":623855687,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg1NTY4Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T04:53:34Z","updated_at":"2020-05-05T04:53:34Z","author_association":"MEMBER","body":"The error is:\r\n\r\n```\r\nMay 05 10:21:18 dellpc couchdb[2773]: ./bin/couchjs: error while loading shared libraries: libffi.so.7: cannot open shared object file: No such file or directory\r\n```\r\n\r\nYour `libffi` is missing, or incompatible. Please speak to your distribution about fixing the CouchDB binary there.\r\n\r\nThis is not a CouchDB bug.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623855687/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623861843","html_url":"https://github.com/apache/couchdb/issues/2867#issuecomment-623861843","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2867","id":623861843,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg2MTg0Mw==","user":{"login":"DeylEnergy","id":25981778,"node_id":"MDQ6VXNlcjI1OTgxNzc4","avatar_url":"https://avatars.githubusercontent.com/u/25981778?v=4","gravatar_id":"","url":"https://api.github.com/users/DeylEnergy","html_url":"https://github.com/DeylEnergy","followers_url":"https://api.github.com/users/DeylEnergy/followers","following_url":"https://api.github.com/users/DeylEnergy/following{/other_user}","gists_url":"https://api.github.com/users/DeylEnergy/gists{/gist_id}","starred_url":"https://api.github.com/users/DeylEnergy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeylEnergy/subscriptions","organizations_url":"https://api.github.com/users/DeylEnergy/orgs","repos_url":"https://api.github.com/users/DeylEnergy/repos","events_url":"https://api.github.com/users/DeylEnergy/events{/privacy}","received_events_url":"https://api.github.com/users/DeylEnergy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T05:22:00Z","updated_at":"2020-05-05T05:22:34Z","author_association":"NONE","body":"Thank you @wohali Just installed ```libffi``` dependency and it solved the issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623861843/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623965899","html_url":"https://github.com/apache/couchdb/issues/2868#issuecomment-623965899","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2868","id":623965899,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzk2NTg5OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T10:03:28Z","updated_at":"2020-05-05T10:03:28Z","author_association":"MEMBER","body":"CouchDB 3.1.0 releases today, with support for Focal.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/623965899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624100685","html_url":"https://github.com/apache/couchdb/pull/2870#issuecomment-624100685","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2870","id":624100685,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDEwMDY4NQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T14:48:51Z","updated_at":"2020-05-05T18:12:12Z","author_association":"CONTRIBUTOR","body":"The `prev` page is not yet implemented. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624100685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624220035","html_url":"https://github.com/apache/couchdb/pull/2870#issuecomment-624220035","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2870","id":624220035,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDIyMDAzNQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T18:11:51Z","updated_at":"2020-05-05T18:11:51Z","author_association":"CONTRIBUTOR","body":"I'll rename `bookmark` key into `next` (as per RFC) in one of the commits to follow. Also `prev` wouldn't be implemented in this PR and would be added latter.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624220035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624309905","html_url":"https://github.com/apache/couchdb/issues/2871#issuecomment-624309905","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2871","id":624309905,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDMwOTkwNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T21:14:22Z","updated_at":"2020-05-05T21:14:22Z","author_association":"MEMBER","body":"We cannot, per policy at the moment.\r\n\r\nThe downstream change must be manually PR'ed, which has been done.\r\n\r\nThe images are already live.\r\n\r\nCan you be patient for, like, 8 hours? We actually made the images live before the release announcement, you know.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624309905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624333582","html_url":"https://github.com/apache/couchdb/issues/2871#issuecomment-624333582","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2871","id":624333582,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDMzMzU4Mg==","user":{"login":"rileyai-dev","id":28606840,"node_id":"MDQ6VXNlcjI4NjA2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/28606840?v=4","gravatar_id":"","url":"https://api.github.com/users/rileyai-dev","html_url":"https://github.com/rileyai-dev","followers_url":"https://api.github.com/users/rileyai-dev/followers","following_url":"https://api.github.com/users/rileyai-dev/following{/other_user}","gists_url":"https://api.github.com/users/rileyai-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/rileyai-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rileyai-dev/subscriptions","organizations_url":"https://api.github.com/users/rileyai-dev/orgs","repos_url":"https://api.github.com/users/rileyai-dev/repos","events_url":"https://api.github.com/users/rileyai-dev/events{/privacy}","received_events_url":"https://api.github.com/users/rileyai-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T22:10:58Z","updated_at":"2020-05-05T22:10:58Z","author_association":"NONE","body":"🙈 sorry for my impatience...I was wondering if it was possible to do it automatically, but I got my answer.\r\n\r\nThank you so much!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624333582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624344562","html_url":"https://github.com/apache/couchdb/issues/2871#issuecomment-624344562","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2871","id":624344562,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDM0NDU2Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T22:42:07Z","updated_at":"2020-05-05T22:42:07Z","author_association":"MEMBER","body":"Thanks for the apology and kind words, @grapevineai .\r\n\r\nFYI we still haven't officially released 3.1.0, that'll be tomorrow lunchtime, so you're using it ahead of the announcement.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624344562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624501105","html_url":"https://github.com/apache/couchdb/issues/2872#issuecomment-624501105","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2872","id":624501105,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDUwMTEwNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T08:01:49Z","updated_at":"2020-05-06T08:01:49Z","author_association":"MEMBER","body":"Hi @RNCTX ,\r\n\r\nCan you try again where the password does not have an equals sign in it? `openssl rand -base64 32` will end with an =, which will confuse the parser.\r\n\r\nThis is a known bug that needs fixing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624501105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624547195","html_url":"https://github.com/apache/couchdb/issues/2872#issuecomment-624547195","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2872","id":624547195,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDU0NzE5NQ==","user":{"login":"RNCTX","id":13775820,"node_id":"MDQ6VXNlcjEzNzc1ODIw","avatar_url":"https://avatars.githubusercontent.com/u/13775820?v=4","gravatar_id":"","url":"https://api.github.com/users/RNCTX","html_url":"https://github.com/RNCTX","followers_url":"https://api.github.com/users/RNCTX/followers","following_url":"https://api.github.com/users/RNCTX/following{/other_user}","gists_url":"https://api.github.com/users/RNCTX/gists{/gist_id}","starred_url":"https://api.github.com/users/RNCTX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNCTX/subscriptions","organizations_url":"https://api.github.com/users/RNCTX/orgs","repos_url":"https://api.github.com/users/RNCTX/repos","events_url":"https://api.github.com/users/RNCTX/events{/privacy}","received_events_url":"https://api.github.com/users/RNCTX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T09:44:34Z","updated_at":"2020-05-06T09:52:09Z","author_association":"NONE","body":"Just tried again with alpha-numeric only and leaving the trailing = out, and got the same result.\r\n\r\n```\r\n[admins]\r\nAdministrator = bBH9nBYfxMC7YpWgrvT4Dgj1oX7mM72\r\n```\r\n\r\nResults in:\r\n\r\n```\r\n# Package-introduced administrative user\r\n[admins]\r\nadmin = -pbkdf2-5c59dc4310ee523d710c2de70e14f5a7d800d7b7,2a7fbd7118e50c7ddd187316ca9e6b32,10\r\nAdministrator = -pbkdf2-b1c801b95f7be32c14c6ffea0ef12d4af1a8ea01,7dc04b4e44e7aa01605ab8d6e7862071,10\r\n```\r\n\r\n'admin' can log in but 'Administrator' cannot.\r\n\r\nI was wrong about the auto-created one not showing up in the web ui, it does, maybe browser cached the page erroneously or something.  Still can't log in, though.\r\n\r\nWhen I create the Administrator user from Chrome's auto-fill (I have the same user/pass on another folder on the same webserver) it can log in fine, it would appear to be something wrong with the hash from the function which generates admins from ini files.\r\n\r\n(These are random-generated ansible passwords against a virtual machine that will be deleted when the ansible scripts test okay so no worry with posting them)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624547195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624552507","html_url":"https://github.com/apache/couchdb/issues/2872#issuecomment-624552507","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2872","id":624552507,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDU1MjUwNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T09:55:39Z","updated_at":"2020-05-06T10:27:23Z","author_association":"MEMBER","body":"And what happens if the username is all lowercase?\r\n\r\nJust trying to rule out possibilities here.\r\n\r\nFYI it's identical hashing. There's only a single place in the CouchDB code that converts a plaintext password to a hashed one.\r\n\r\nMy only guess is that you've got unexpected spaces in the file somehow. Be sure you are not using a trailing space after the password, this may be being misinterpreted.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624552507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624570617","html_url":"https://github.com/apache/couchdb/issues/2872#issuecomment-624570617","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2872","id":624570617,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDU3MDYxNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T10:35:22Z","updated_at":"2020-05-06T10:35:22Z","author_association":"MEMBER","body":"I have just tried reproducing this locally, but I cannot. I tried using the exact same text as you have.\r\n\r\nBoth the admin and the Administrator logins work correctly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624570617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624639422","html_url":"https://github.com/apache/couchdb/pull/2869#issuecomment-624639422","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2869","id":624639422,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDYzOTQyMg==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T13:10:02Z","updated_at":"2020-05-06T13:10:02Z","author_association":"MEMBER","body":"@nickva and @davisp thanks for the review. I've updated the PR to make the local docs async and also added some eunit tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624639422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624729840","html_url":"https://github.com/apache/couchdb/issues/2203#issuecomment-624729840","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2203","id":624729840,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDcyOTg0MA==","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T15:48:20Z","updated_at":"2020-05-06T15:48:20Z","author_association":"MEMBER","body":"I recently learned about [CBOR](https://cbor.io/), which aims for pure JSON compatibility (unlike MessagePack), so may be a better candidate for this sort of feature.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624729840/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624789790","html_url":"https://github.com/apache/couchdb/issues/2872#issuecomment-624789790","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2872","id":624789790,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDc4OTc5MA==","user":{"login":"RNCTX","id":13775820,"node_id":"MDQ6VXNlcjEzNzc1ODIw","avatar_url":"https://avatars.githubusercontent.com/u/13775820?v=4","gravatar_id":"","url":"https://api.github.com/users/RNCTX","html_url":"https://github.com/RNCTX","followers_url":"https://api.github.com/users/RNCTX/followers","following_url":"https://api.github.com/users/RNCTX/following{/other_user}","gists_url":"https://api.github.com/users/RNCTX/gists{/gist_id}","starred_url":"https://api.github.com/users/RNCTX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNCTX/subscriptions","organizations_url":"https://api.github.com/users/RNCTX/orgs","repos_url":"https://api.github.com/users/RNCTX/repos","events_url":"https://api.github.com/users/RNCTX/events{/privacy}","received_events_url":"https://api.github.com/users/RNCTX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T17:39:06Z","updated_at":"2020-05-06T17:39:06Z","author_association":"NONE","body":"Very strange... maybe a weird Chrome thing.  That's what has me scratching my head, I'm copying and pasting the user/pass from Chrome's saved account credentials but when I create an account in the web ui with a Chrome auto-filled form, it works.\r\n\r\nI'm gonna just use Ansible's debconf utility to randomly generate the prompt password for 'admin' from the deb installer instead, and switch my other things in different folders on the same webserver to use 'admin' for the username as well.  \r\n\r\n![image](https://user-images.githubusercontent.com/13775820/81208868-50fedb00-8f95-11ea-863e-0969c6848f3b.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/624789790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625001854","html_url":"https://github.com/apache/couchdb/issues/2868#issuecomment-625001854","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2868","id":625001854,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTAwMTg1NA==","user":{"login":"hamiltonsalazar","id":36459473,"node_id":"MDQ6VXNlcjM2NDU5NDcz","avatar_url":"https://avatars.githubusercontent.com/u/36459473?v=4","gravatar_id":"","url":"https://api.github.com/users/hamiltonsalazar","html_url":"https://github.com/hamiltonsalazar","followers_url":"https://api.github.com/users/hamiltonsalazar/followers","following_url":"https://api.github.com/users/hamiltonsalazar/following{/other_user}","gists_url":"https://api.github.com/users/hamiltonsalazar/gists{/gist_id}","starred_url":"https://api.github.com/users/hamiltonsalazar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamiltonsalazar/subscriptions","organizations_url":"https://api.github.com/users/hamiltonsalazar/orgs","repos_url":"https://api.github.com/users/hamiltonsalazar/repos","events_url":"https://api.github.com/users/hamiltonsalazar/events{/privacy}","received_events_url":"https://api.github.com/users/hamiltonsalazar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-07T03:03:07Z","updated_at":"2020-05-07T03:03:07Z","author_association":"NONE","body":"@wohali I followed all instructions for install CouchDB 3.1.0 with support for Focal but it didn't worked. \r\n\r\nCurrent Behavior:\r\n\r\n<pre><font color=\"#3465A4\"><b>~</b></font>$ sudo apt install -y couchdb\r\nLeyendo lista de paquetes... Hecho\r\nCreando árbol de dependencias       \r\nLeyendo la información de estado... Hecho\r\nNo se pudieron instalar algunos paquetes. Esto puede significar que\r\nusted pidió una situación imposible o, si está usando la distribución\r\ninestable, que algunos paquetes necesarios aún no se han creado o se\r\nhan sacado de «Incoming».\r\nLa siguiente información puede ayudar a resolver la situación:\r\n\r\nLos siguientes paquetes tienen dependencias incumplidas:\r\n couchdb : Depende: couch-libmozjs185-1.0 pero no va a instalarse\r\n           Depende: libcurl3 (&gt;= 7.16.2) pero no es instalable\r\n           Depende: libicu55 (&gt;= 55.1-1~) pero no es instalable\r\n           Depende: libssl1.0.0 (&gt;= 1.0.1) pero no es instalable\r\n<font color=\"#CC0000\"><b>E: </b></font>No se pudieron corregir los problemas, usted ha retenido paquetes rotos.</pre>","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625001854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625018641","html_url":"https://github.com/apache/couchdb/issues/2868#issuecomment-625018641","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2868","id":625018641,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTAxODY0MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-07T04:13:00Z","updated_at":"2020-05-07T04:13:00Z","author_association":"MEMBER","body":"@hamiltonsalazar I tested it just now, focal packages are working.\r\n\r\nI see your install is trying to pull in `libcurl3`, `libicu55`, etc. Those are definitely the wrong dependencies. You probably have the `bionic` line in your `apt.conf` file.\r\n\r\nBe sure you are trying to install our `focal` packages, not our `bionic` packages.\r\n\r\nRun this command:\r\n\r\n```bash\r\n$ echo \"deb https://apache.bintray.com/couchdb-deb focal main\" \\\r\n    | sudo tee /etc/apt/sources.list.d/couchdb.list\r\n```\r\n\r\nand try again. I removed the `-a` argument to `tee` above, so that this overwrites any wrong entry you may have in `/etc/apt/sources.list.d/couchdb.list`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625018641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625254683","html_url":"https://github.com/apache/couchdb/pull/2869#issuecomment-625254683","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2869","id":625254683,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTI1NDY4Mw==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-07T13:26:36Z","updated_at":"2020-05-07T13:26:36Z","author_association":"MEMBER","body":"@nickva thanks I've updated with a fix for the deleted doc. Great spot on the deleted doc. I've updated the elixir test to test for that.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625254683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625353203","html_url":"https://github.com/apache/couchdb/issues/2876#issuecomment-625353203","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2876","id":625353203,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTM1MzIwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-07T16:15:20Z","updated_at":"2020-05-07T16:15:20Z","author_association":"MEMBER","body":"Hi there @natcohen ,\r\n\r\nThis is not a CouchDB bug - it's definitely a setup problem. If CouchDB didn't replicate between a single node and a cluster, we'd fail our regression testing.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625353203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625422560","html_url":"https://github.com/apache/couchdb/pull/2875#issuecomment-625422560","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2875","id":625422560,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTQyMjU2MA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-07T18:27:31Z","updated_at":"2020-05-07T18:27:31Z","author_association":"MEMBER","body":"we've agreed to revisit the eviction pattern in a new PR. Would like to avoid evicting only to immediately repopulate on the next request but needs thought.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625422560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625636576","html_url":"https://github.com/apache/couchdb/issues/2868#issuecomment-625636576","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2868","id":625636576,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTYzNjU3Ng==","user":{"login":"hamiltonsalazar","id":36459473,"node_id":"MDQ6VXNlcjM2NDU5NDcz","avatar_url":"https://avatars.githubusercontent.com/u/36459473?v=4","gravatar_id":"","url":"https://api.github.com/users/hamiltonsalazar","html_url":"https://github.com/hamiltonsalazar","followers_url":"https://api.github.com/users/hamiltonsalazar/followers","following_url":"https://api.github.com/users/hamiltonsalazar/following{/other_user}","gists_url":"https://api.github.com/users/hamiltonsalazar/gists{/gist_id}","starred_url":"https://api.github.com/users/hamiltonsalazar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamiltonsalazar/subscriptions","organizations_url":"https://api.github.com/users/hamiltonsalazar/orgs","repos_url":"https://api.github.com/users/hamiltonsalazar/repos","events_url":"https://api.github.com/users/hamiltonsalazar/events{/privacy}","received_events_url":"https://api.github.com/users/hamiltonsalazar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T05:22:16Z","updated_at":"2020-05-08T05:22:16Z","author_association":"NONE","body":"@wohali \r\nI really appreciate your help. I have installed correctly.\r\n\r\nFinally, i'd like to ask you about CouchDB and Java: currently, is there an official CouchDB Java driver? or could you recommend me one.\r\n\r\nI'm starting to work on my thesis and it's about performance comparison between CouchDB and other non-realational database engine, to support a system.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625636576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625698906","html_url":"https://github.com/apache/couchdb/issues/2868#issuecomment-625698906","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2868","id":625698906,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTY5ODkwNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T08:14:23Z","updated_at":"2020-05-08T08:14:23Z","author_association":"MEMBER","body":"Good luck with your thesis work, @hamiltonsalazar !\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/625698906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626231349","html_url":"https://github.com/apache/couchdb/issues/2872#issuecomment-626231349","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2872","id":626231349,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjIzMTM0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-09T20:29:23Z","updated_at":"2020-05-09T20:29:23Z","author_association":"MEMBER","body":"Guessing you sorted this out - I saw the comment you removed in our email thread.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626231349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626232129","html_url":"https://github.com/apache/couchdb/issues/2872#issuecomment-626232129","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2872","id":626232129,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjIzMjEyOQ==","user":{"login":"RNCTX","id":13775820,"node_id":"MDQ6VXNlcjEzNzc1ODIw","avatar_url":"https://avatars.githubusercontent.com/u/13775820?v=4","gravatar_id":"","url":"https://api.github.com/users/RNCTX","html_url":"https://github.com/RNCTX","followers_url":"https://api.github.com/users/RNCTX/followers","following_url":"https://api.github.com/users/RNCTX/following{/other_user}","gists_url":"https://api.github.com/users/RNCTX/gists{/gist_id}","starred_url":"https://api.github.com/users/RNCTX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RNCTX/subscriptions","organizations_url":"https://api.github.com/users/RNCTX/orgs","repos_url":"https://api.github.com/users/RNCTX/repos","events_url":"https://api.github.com/users/RNCTX/events{/privacy}","received_events_url":"https://api.github.com/users/RNCTX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-09T20:36:29Z","updated_at":"2020-05-09T20:38:14Z","author_association":"NONE","body":"Yes, I just deleted my log of my own sanity check, lol. This is the weirdest chrome bug with passwords I've managed to create in many years.  \r\n\r\nThe installation parameters I am passing to the remote server are quite simple:\r\n\r\n```\r\n    - name: Install couchdb...\r\n      apt:\r\n        name: couchdb\r\n        update_cache: true\r\n\r\n    - name: Set couchdb ini file options...\r\n      vars:\r\n        default_password: \"{{ lookup('password', '~/pwds/password-for_admin.txt length=32 chars=ascii_letters,digits') }}\"\r\n      ini_file:\r\n        ini_file:\r\n        dest: /opt/couchdb/etc/local.ini\r\n        section: \"{{ item.section }}\"\r\n        option: \"{{ item.option }}\"\r\n        value: \"{{ item.value }}\"\r\n        create: false\r\n        backup: \"{{ true if index == 0 else false }}\"\r\n      loop:\r\n        - { section: 'chttpd', option: 'port', value: '5984' }\r\n        - { section: 'chttpd', option: 'bind_address', value: '127.0.0.1' }\r\n        - { section: 'chttpd', option: 'require_valid_user', value: 'true' }\r\n        - { section: 'admins', option: 'admin', value: '{{ default_password }}' }\r\n      loop_control:\r\n        index_var: index\r\n\r\n```\r\nIdentical to the debconf prompts (because ansible doesn't do debconf properly, it seems, it can set non-password options but doesn't reconfigure after setting them, so it's fairly worthless).\r\n\r\nI switched to Firefox as I was typing up another head scratcher and every problem went away? Then I went and opened the server in chrome on my desktop instead of my laptop and it works fine as well.\r\n\r\n/shrug\r\n\r\nSo for real this time, couchdb works fine, chrome's password saving on (one of my) OS X does not!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626232129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626384758","html_url":"https://github.com/apache/couchdb/issues/2880#issuecomment-626384758","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2880","id":626384758,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjM4NDc1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-10T20:27:03Z","updated_at":"2020-05-10T20:27:03Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only. We're quite sure the Docker container works due to exhaustive testing. Most likely, you have misconfigured the node name vs. the data stored for the databases you're trying to access. Your POST request returned 500, not 200, so it very much was not an OK.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626384758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626857136","html_url":"https://github.com/apache/couchdb/pull/2857#issuecomment-626857136","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2857","id":626857136,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjg1NzEzNg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T17:54:32Z","updated_at":"2020-05-11T17:54:32Z","author_association":"CONTRIBUTOR","body":"@jiangphcn look great, Peng Hui. Nice work! See a few minor updates and a simplification in regards to batching and it should be good to go.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626857136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626956608","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-626956608","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":626956608,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk1NjYwOA==","user":{"login":"BillStephenson","id":7811473,"node_id":"MDQ6VXNlcjc4MTE0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/7811473?v=4","gravatar_id":"","url":"https://api.github.com/users/BillStephenson","html_url":"https://github.com/BillStephenson","followers_url":"https://api.github.com/users/BillStephenson/followers","following_url":"https://api.github.com/users/BillStephenson/following{/other_user}","gists_url":"https://api.github.com/users/BillStephenson/gists{/gist_id}","starred_url":"https://api.github.com/users/BillStephenson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BillStephenson/subscriptions","organizations_url":"https://api.github.com/users/BillStephenson/orgs","repos_url":"https://api.github.com/users/BillStephenson/repos","events_url":"https://api.github.com/users/BillStephenson/events{/privacy}","received_events_url":"https://api.github.com/users/BillStephenson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T20:52:35Z","updated_at":"2020-05-11T20:52:35Z","author_association":"NONE","body":"Try this:\n\n\tcurl -X GET http://username:password\\@localhost:5984/_users/org.couchdb.user:username\n\n\nKindest Regards,\n\nBill Stephenson\n\n\n\n\n> On May 11, 2020, at 3:27 PM, stkeogie <notifications@github.com> wrote:\n> \n> \n> Description\n> \n> Created users can't read or edit their own user-Information (curl -X GET http://localhost:5984/_users/org.couchdb.user <http://localhost:5984/_users/org.couchdb.user>:< username >).\n> Couchdb always print the error:\n> {\"error\":\"forbidden\",\"reason\":\"You are not allowed to access this db.\"}\n> I can only print/edit the information if I use the admin Account. Btw. I can successfully create sessions with the users.\n> \n> Your Environment\n> \n> I'm using Couchdb v3.1.0 on Ubuntu\n> \n> Steps to Reproduce\n> \n> I installed couchdb (v3.1.0). Created an admin account (during the installation).\n> After that I created a user and tried to read its data.\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/couchdb/issues/2881>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/AB3TDEM2ODBAZPOKNEUBV23RRBNUFANCNFSM4M6HIYDA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626956608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626962626","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-626962626","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":626962626,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk2MjYyNg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T21:03:50Z","updated_at":"2020-05-11T21:04:55Z","author_association":"NONE","body":"Doesn't work. I get the same error message. Wether I insert the user data into the URL or send the request with the session cookie.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626962626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626965844","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-626965844","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":626965844,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk2NTg0NA==","user":{"login":"BillStephenson","id":7811473,"node_id":"MDQ6VXNlcjc4MTE0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/7811473?v=4","gravatar_id":"","url":"https://api.github.com/users/BillStephenson","html_url":"https://github.com/BillStephenson","followers_url":"https://api.github.com/users/BillStephenson/followers","following_url":"https://api.github.com/users/BillStephenson/following{/other_user}","gists_url":"https://api.github.com/users/BillStephenson/gists{/gist_id}","starred_url":"https://api.github.com/users/BillStephenson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BillStephenson/subscriptions","organizations_url":"https://api.github.com/users/BillStephenson/orgs","repos_url":"https://api.github.com/users/BillStephenson/repos","events_url":"https://api.github.com/users/BillStephenson/events{/privacy}","received_events_url":"https://api.github.com/users/BillStephenson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T21:09:50Z","updated_at":"2020-05-11T21:09:50Z","author_association":"NONE","body":"I tried that on both my local CouchDB (2.3.1 running on my Mac desktop pc) and on my DigitalOcean vps running CouchDB 3.1.0 on Ubuntu 16.04 and it worked on both.\n\nWhat happens when you try it using your admin credentials?:\n\ncurl -X GET http://Admin-name:Admin-password\\@localhost:5984/_users/org.couchdb.user:username <http://Admin-name:Admin-password\\@localhost:5984/_users/org.couchdb.user:username>\n\n\nKindest Regards,\n\nBill Stephenson\nTech Support\nwww.ezInvoice.com <http://www.ezinvoice.com/>\n1-417-546-8390\n\n\n\n> On May 11, 2020, at 4:04 PM, stkeogie <notifications@github.com> wrote:\n> \n> \n> Doesn't work. I get the same error message. No matter if I insert the user data into the URL or send the request with the session cookie.\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/couchdb/issues/2881#issuecomment-626962626>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/AB3TDEKR3Q6XEPECQNIEU63RRBR4LANCNFSM4M6HIYDA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626965844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626969823","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-626969823","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":626969823,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk2OTgyMw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T21:17:35Z","updated_at":"2020-05-11T21:55:03Z","author_association":"NONE","body":"The userinformation gets printed when i use my admin credentials. (When i use my User credentials i get the error i mentioned)\r\nI created users like this:\r\n``\r\ncurl -X PUT http://<admin>:<admin-password>@localhost:5984/_users/org.couchdb.user:jan \\ -H \"Accept: application/json\" \\ -H \"Content-Type: application/json\" \\ -d '{\"name\": \"jan\", \"password\": \"apple\", \"roles\": [], \"type\": \"user\"}'\r\n``\r\n\r\nDo I need to change some settings so that normal users have access to _users (their own informatitons)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626969823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626996063","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-626996063","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":626996063,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk5NjA2Mw==","user":{"login":"BillStephenson","id":7811473,"node_id":"MDQ6VXNlcjc4MTE0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/7811473?v=4","gravatar_id":"","url":"https://api.github.com/users/BillStephenson","html_url":"https://github.com/BillStephenson","followers_url":"https://api.github.com/users/BillStephenson/followers","following_url":"https://api.github.com/users/BillStephenson/following{/other_user}","gists_url":"https://api.github.com/users/BillStephenson/gists{/gist_id}","starred_url":"https://api.github.com/users/BillStephenson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BillStephenson/subscriptions","organizations_url":"https://api.github.com/users/BillStephenson/orgs","repos_url":"https://api.github.com/users/BillStephenson/repos","events_url":"https://api.github.com/users/BillStephenson/events{/privacy}","received_events_url":"https://api.github.com/users/BillStephenson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T22:19:11Z","updated_at":"2020-05-11T22:19:11Z","author_association":"NONE","body":"Then it should work for a valid user in the _user db too. \n\nI’d double check the credentials I'm using and make sure the url is formatted correctly.\n\nYou can always change the password in the _user file if you have to. \n\nOr make a test user.\n\n—\n\nKindest Regards,\n\nBill Stephenson\n\n\n\n\n> On May 11, 2020, at 4:17 PM, stkeogie <notifications@github.com> wrote:\n> \n> \n> The userinformatiion gets printed when i use my admin credentials.\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/couchdb/issues/2881#issuecomment-626969823>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/AB3TDEJBSW65SYUKKRAPYOLRRBTP5ANCNFSM4M6HIYDA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/626996063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627244347","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-627244347","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":627244347,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzI0NDM0Nw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T10:06:09Z","updated_at":"2020-05-12T10:06:09Z","author_association":"NONE","body":"So, I reinstalled Couchdb, created an Admin Account and created a user like this:\r\n```\r\ncurl -X PUT http://<admin>:<admin-password>@localhost:5984/_users/org.couchdb.user:jan \\\r\n     -d '{\"name\":\"jan\", \"roles\":[], \"type\":\"user\", \"password\":\"apple\"}'\r\n> Succesfully creates user jan\r\n```\r\nThen I tried to get its userinformation with the admin Account and:\r\n```\r\ncurl -X GET http://<admin>:<admin-password>@localhost:5984/_users/org.couchdb.user:jan\r\n>  Succesfully  returns Userinformation of Jan\r\n```\r\nSo far so good. After that I tried to get the Userinformation of my own user\r\n```\r\ncurl -X GET http://jan:apple@localhost:5984/_users/org.couchdb.user:jan\r\n > returns: \"You are not allowed to access this db.\"\r\n```\r\nThe specified username and password are correct if I intentionally type in a wrong Password i get following response:\r\n```\r\ncurl -X GET http://jan:wrongPasswordTest@localhost:5984/_users/org.couchdb.user:jan\r\n> returns: \"Name or password is incorrect.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627244347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627374662","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-627374662","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":627374662,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzM3NDY2Mg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T14:17:48Z","updated_at":"2020-05-12T14:17:48Z","author_association":"NONE","body":"Ok After setting the users_db_security_editable flag to true.\r\nI updated the _users security object ( Bad practice)  and removed \"_admin\" from member.roles\r\nnow everything works fine.\r\n```\r\ndefault Security Object:\r\n{\r\n    \"members\": {\r\n        \"roles\": [\r\n            \"_admin\"\r\n        ]\r\n    },\r\n    \"admins\": {\r\n        \"roles\": [\r\n            \"_admin\"\r\n        ]\r\n    }\r\n}\r\n\r\nAfter edit:\r\n{\r\n    \"members\": {\r\n        \"roles\": [ ]\r\n    },\r\n    \"admins\": {\r\n        \"roles\": [\r\n            \"_admin\"\r\n        ]\r\n    }\r\n}\r\n```\r\nIs there another Solution to this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627374662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627421259","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-627421259","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":627421259,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzQyMTI1OQ==","user":{"login":"DanialBetres","id":23747649,"node_id":"MDQ6VXNlcjIzNzQ3NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/23747649?v=4","gravatar_id":"","url":"https://api.github.com/users/DanialBetres","html_url":"https://github.com/DanialBetres","followers_url":"https://api.github.com/users/DanialBetres/followers","following_url":"https://api.github.com/users/DanialBetres/following{/other_user}","gists_url":"https://api.github.com/users/DanialBetres/gists{/gist_id}","starred_url":"https://api.github.com/users/DanialBetres/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanialBetres/subscriptions","organizations_url":"https://api.github.com/users/DanialBetres/orgs","repos_url":"https://api.github.com/users/DanialBetres/repos","events_url":"https://api.github.com/users/DanialBetres/events{/privacy}","received_events_url":"https://api.github.com/users/DanialBetres/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T15:35:05Z","updated_at":"2020-05-12T15:51:18Z","author_association":"NONE","body":"I'm getting the same error `{\"error\":\"forbidden\",\"reason\":\"You are not allowed to access this db.\"}`. Also curious to see if there's another solution to this.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627421259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627431754","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-627431754","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":627431754,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzQzMTc1NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T15:52:53Z","updated_at":"2020-05-12T15:54:00Z","author_association":"MEMBER","body":"This is a deliberate change.\r\n\r\nAll databases are now set to admin-only by default as part of #2339. This is documented in the 3.0 release notes here: https://docs.couchdb.org/en/stable/whatsnew/3.0.html\r\n\r\nThere is an open documentation bug to update the advice on the `_users` security changes at apache/couchdb-documentation#513.\r\n\r\nAs pointed out above, to allow users to edit their own `_users` document, you must [change a config setting and alter the security object of the `_users` database first](https://github.com/apache/couchdb/issues/2730#issuecomment-606741710).\r\n\r\nDuplicate of #2730 .\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627431754/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627432875","html_url":"https://github.com/apache/couchdb/issues/2881#issuecomment-627432875","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2881","id":627432875,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzQzMjg3NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T15:54:57Z","updated_at":"2020-05-12T15:54:57Z","author_association":"MEMBER","body":"To confirm, it is **not** a bad practice to alter the `_users` database security object - it is encouraged. This way you can select a subgroup of users (who have a specific role) who are allowed to edit their own document if desired.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627432875/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627465805","html_url":"https://github.com/apache/couchdb/issues/2882#issuecomment-627465805","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2882","id":627465805,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzQ2NTgwNQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T16:53:23Z","updated_at":"2020-05-12T16:53:23Z","author_association":"MEMBER","body":"hi,\r\n\r\ncorrect, the sort field is not valid, the regex is;\r\n\r\nhttps://github.com/cloudant-labs/clouseau/blob/master/src/main/scala/com/cloudant/clouseau/IndexService.scala#L879\r\n\r\nbut basically you can only use a to z, A to Z, 0 to 9, underscore and period.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627465805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627602968","html_url":"https://github.com/apache/couchdb/issues/2882#issuecomment-627602968","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2882","id":627602968,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzYwMjk2OA==","user":{"login":"hmdevelopermind","id":52859974,"node_id":"MDQ6VXNlcjUyODU5OTc0","avatar_url":"https://avatars.githubusercontent.com/u/52859974?v=4","gravatar_id":"","url":"https://api.github.com/users/hmdevelopermind","html_url":"https://github.com/hmdevelopermind","followers_url":"https://api.github.com/users/hmdevelopermind/followers","following_url":"https://api.github.com/users/hmdevelopermind/following{/other_user}","gists_url":"https://api.github.com/users/hmdevelopermind/gists{/gist_id}","starred_url":"https://api.github.com/users/hmdevelopermind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmdevelopermind/subscriptions","organizations_url":"https://api.github.com/users/hmdevelopermind/orgs","repos_url":"https://api.github.com/users/hmdevelopermind/repos","events_url":"https://api.github.com/users/hmdevelopermind/events{/privacy}","received_events_url":"https://api.github.com/users/hmdevelopermind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T21:16:59Z","updated_at":"2020-05-12T21:16:59Z","author_association":"NONE","body":"Thanks you 🙏 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627602968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627864926","html_url":"https://github.com/apache/couchdb/pull/2870#issuecomment-627864926","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2870","id":627864926,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzg2NDkyNg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T09:25:25Z","updated_at":"2020-05-13T09:40:19Z","author_association":"CONTRIBUTOR","body":"Not implemented parts of the spec are:\r\n- `first`/`previous` bookamarks are missing\r\n- return 400 when we reach max limit for streaming replies (It is unclear how to implement it yet)\r\n- halving of the `page_size`  when we go over FDB transaction limits","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627864926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627931259","html_url":"https://github.com/apache/couchdb/pull/2870#issuecomment-627931259","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2870","id":627931259,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzkzMTI1OQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T11:51:16Z","updated_at":"2020-05-13T11:51:16Z","author_association":"CONTRIBUTOR","body":"I am not sure where to open a documentation update PR. We don't have FDB releated integration branch on https://github.com/apache/couchdb-documentation","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627931259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627937327","html_url":"https://github.com/apache/couchdb/pull/2870#issuecomment-627937327","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2870","id":627937327,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzkzNzMyNw==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T12:04:44Z","updated_at":"2020-05-13T12:04:44Z","author_association":"MEMBER","body":"@iilyak I think we can do the documentation PR later once we closer to CouchDB 4.x release","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/627937327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628062684","html_url":"https://github.com/apache/couchdb/pull/2857#issuecomment-628062684","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2857","id":628062684,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODA2MjY4NA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T15:21:24Z","updated_at":"2020-05-13T15:21:24Z","author_association":"CONTRIBUTOR","body":"thanks @nickva so much for your kindly support and review!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628062684/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628150035","html_url":"https://github.com/apache/couchdb/issues/2883#issuecomment-628150035","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2883","id":628150035,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODE1MDAzNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T17:54:41Z","updated_at":"2020-05-13T17:54:41Z","author_association":"MEMBER","body":"This isn't enough information for us to go on, I'm afraid.\r\n\r\nIf you look in your `couch.log` file we can see what errors are there.\r\n\r\nMost likely you've run out of system resources to handle 100 requests at once. Does your system show it's out of RAM or CPU via standard monitoring utilities?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628150035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628164390","html_url":"https://github.com/apache/couchdb/issues/2883#issuecomment-628164390","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2883","id":628164390,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODE2NDM5MA==","user":{"login":"hamiltonsalazar","id":36459473,"node_id":"MDQ6VXNlcjM2NDU5NDcz","avatar_url":"https://avatars.githubusercontent.com/u/36459473?v=4","gravatar_id":"","url":"https://api.github.com/users/hamiltonsalazar","html_url":"https://github.com/hamiltonsalazar","followers_url":"https://api.github.com/users/hamiltonsalazar/followers","following_url":"https://api.github.com/users/hamiltonsalazar/following{/other_user}","gists_url":"https://api.github.com/users/hamiltonsalazar/gists{/gist_id}","starred_url":"https://api.github.com/users/hamiltonsalazar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamiltonsalazar/subscriptions","organizations_url":"https://api.github.com/users/hamiltonsalazar/orgs","repos_url":"https://api.github.com/users/hamiltonsalazar/repos","events_url":"https://api.github.com/users/hamiltonsalazar/events{/privacy}","received_events_url":"https://api.github.com/users/hamiltonsalazar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T18:21:32Z","updated_at":"2020-05-13T18:21:32Z","author_association":"NONE","body":"I think that is the reason, limited CPU. I appreciate that you have read. Sorry for your time, i'll close it and try a better machine. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628164390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628347175","html_url":"https://github.com/apache/couchdb/pull/2884#issuecomment-628347175","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2884","id":628347175,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODM0NzE3NQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T02:25:51Z","updated_at":"2020-05-14T02:25:51Z","author_association":"CONTRIBUTOR","body":"thanks @nickva and @jaydoane for fixing flaky tests, and in some cases we have to need to increase timeout ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628347175/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628628922","html_url":"https://github.com/apache/couchdb/pull/2885#issuecomment-628628922","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2885","id":628628922,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODYyODkyMg==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T13:18:08Z","updated_at":"2020-05-14T13:18:08Z","author_association":"MEMBER","body":"@rnewson Can you take a look, please, if you have time?\r\n\r\nIn \"real\" key manger this could be used with something like this:\r\n\r\n```erlang\r\nget_db_info(#{} = Db) ->\r\n    #{\r\n        tx := Tx,\r\n        db_prefix := DbPrefix\r\n    } = Db,\r\n\r\n    {Start, End} = erlfdb_tuple:range({?WRAPPED_KEY}, DbPrefix),\r\n    Range = erlfdb:get_range(Tx, Start, End),\r\n\r\n    lists:foldl(fun({K, V}, Acc) ->\r\n        case erlfdb_tuple:unpack(K, DbPrefix) of\r\n            {?WRAPPED_KEY, <<\"wrapped_key\">>} -> Acc;\r\n            {?WRAPPED_KEY, Key} -> [{Key, V} | Acc]\r\n        end\r\n    end, [{encrypted, true}], Range).\r\n```\r\n\r\nI have two things I'm not sure about:\r\n1. Do we want to set info from aegis key manager into special namespace in db_info, something like this:\r\n```json\r\n  \"disk_size\": 0,\r\n  \"instance_start_time\": \"0\",\r\n  \"purge_seq\": 0,\r\n  \"aegis\": {\r\n    \"encrypted\": true,\r\n    \"crk\": ...\r\n  }\r\n  ...\r\n```\r\nRight now this is totally up to key manager.\r\n\r\n2. Do we want to make callback `get_db_info/1` optional on `aegis_key_manger` behaviour? Then `aegis:get_db_info/1` can just check if it's exported and return `[]` otherwise, so nothing will be added to db_info.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628628922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628713722","html_url":"https://github.com/apache/couchdb/issues/2886#issuecomment-628713722","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2886","id":628713722,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODcxMzcyMg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T15:33:40Z","updated_at":"2020-05-14T15:33:40Z","author_association":"MEMBER","body":"as discussed on couch slack, the `iss` claim requires a parameter (a string representing the issuer you require to be present on each token) and the current logic for parsing the `required_claims` field can't achieve that.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628713722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628780558","html_url":"https://github.com/apache/couchdb/issues/2887#issuecomment-628780558","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2887","id":628780558,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODc4MDU1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T17:30:13Z","updated_at":"2020-05-14T17:30:13Z","author_association":"MEMBER","body":"That's a timeout on calling the validate_document_update. Your server is likely too busy to process the request.\r\n\r\nYou can try bumping the timeout value (`[couchdb] os_process_timeout`), or you can allocate more CPU and RAM to your machine and try again.\r\n\r\nAlso, this is not a CouchDB bug. GitHub is for actual CouchDB bugs only. Sorry about that.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628780558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628821337","html_url":"https://github.com/apache/couchdb/issues/2887#issuecomment-628821337","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2887","id":628821337,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgyMTMzNw==","user":{"login":"SajanGone","id":65355142,"node_id":"MDQ6VXNlcjY1MzU1MTQy","avatar_url":"https://avatars.githubusercontent.com/u/65355142?v=4","gravatar_id":"","url":"https://api.github.com/users/SajanGone","html_url":"https://github.com/SajanGone","followers_url":"https://api.github.com/users/SajanGone/followers","following_url":"https://api.github.com/users/SajanGone/following{/other_user}","gists_url":"https://api.github.com/users/SajanGone/gists{/gist_id}","starred_url":"https://api.github.com/users/SajanGone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SajanGone/subscriptions","organizations_url":"https://api.github.com/users/SajanGone/orgs","repos_url":"https://api.github.com/users/SajanGone/repos","events_url":"https://api.github.com/users/SajanGone/events{/privacy}","received_events_url":"https://api.github.com/users/SajanGone/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:47:05Z","updated_at":"2020-05-14T18:47:05Z","author_association":"NONE","body":"Thanks wohali. Very much appreciate your comments. Very helpful. \r\nI will use the chat room and mailing list for this discussion and anything of such sort go forward.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/628821337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/629526650","html_url":"https://github.com/apache/couchdb/pull/2890#issuecomment-629526650","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2890","id":629526650,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTUyNjY1MA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T22:17:10Z","updated_at":"2020-05-15T22:17:10Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/629526650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/629634725","html_url":"https://github.com/apache/couchdb/issues/2797#issuecomment-629634725","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2797","id":629634725,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYzNDcyNQ==","user":{"login":"mgsweet","id":15327389,"node_id":"MDQ6VXNlcjE1MzI3Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/15327389?v=4","gravatar_id":"","url":"https://api.github.com/users/mgsweet","html_url":"https://github.com/mgsweet","followers_url":"https://api.github.com/users/mgsweet/followers","following_url":"https://api.github.com/users/mgsweet/following{/other_user}","gists_url":"https://api.github.com/users/mgsweet/gists{/gist_id}","starred_url":"https://api.github.com/users/mgsweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgsweet/subscriptions","organizations_url":"https://api.github.com/users/mgsweet/orgs","repos_url":"https://api.github.com/users/mgsweet/repos","events_url":"https://api.github.com/users/mgsweet/events{/privacy}","received_events_url":"https://api.github.com/users/mgsweet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T11:59:57Z","updated_at":"2020-05-16T11:59:57Z","author_association":"NONE","body":"It spends me three days to fix this problem... Follow almost every config and command made by @YC. The official document is very ambiguous when it comes to which node should do what. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/629634725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/629669941","html_url":"https://github.com/apache/couchdb/issues/2797#issuecomment-629669941","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2797","id":629669941,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTY2OTk0MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T16:18:03Z","updated_at":"2020-05-16T16:18:03Z","author_association":"MEMBER","body":"We welcome pull requests to improve documentation.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)\r\n\r\nIf that results in a clear bug that needs to be resolved, we're happy to track it on GitHub in a new issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/629669941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630032649","html_url":"https://github.com/apache/couchdb/issues/1741#issuecomment-630032649","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1741","id":630032649,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDAzMjY0OQ==","user":{"login":"Crispy1975","id":12525875,"node_id":"MDQ6VXNlcjEyNTI1ODc1","avatar_url":"https://avatars.githubusercontent.com/u/12525875?v=4","gravatar_id":"","url":"https://api.github.com/users/Crispy1975","html_url":"https://github.com/Crispy1975","followers_url":"https://api.github.com/users/Crispy1975/followers","following_url":"https://api.github.com/users/Crispy1975/following{/other_user}","gists_url":"https://api.github.com/users/Crispy1975/gists{/gist_id}","starred_url":"https://api.github.com/users/Crispy1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crispy1975/subscriptions","organizations_url":"https://api.github.com/users/Crispy1975/orgs","repos_url":"https://api.github.com/users/Crispy1975/repos","events_url":"https://api.github.com/users/Crispy1975/events{/privacy}","received_events_url":"https://api.github.com/users/Crispy1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T08:36:18Z","updated_at":"2020-05-18T08:39:17Z","author_association":"NONE","body":"I am seeing this with the official Docker image of CouchDB `3.1.0`. Exactly the same behaviour as others have described. When a user doc is deleted - along with the database that gets created with it (`couch_peruser`) - I start to see the following error messages in the CouchDB logs:\r\n```\r\ncouchdb_1         | [error] 2020-05-18T08:30:57.689442Z nonode@nohost <0.395.0> -------- Supervisor couch_peruser_sup had child couch_peruser started with couch_peruser:start_link() at <0.29782.0> exit with reason normal in context child_terminated\r\ncouchdb_1         | [error] 2020-05-18T08:31:02.693066Z nonode@nohost <0.395.0> -------- Supervisor couch_peruser_sup had child couch_peruser started with couch_peruser:start_link() at <0.29847.0> exit with reason normal in context child_terminated\r\ncouchdb_1         | [error] 2020-05-18T08:31:07.695809Z nonode@nohost <0.395.0> -------- Supervisor couch_peruser_sup had child couch_peruser started with couch_peruser:start_link() at <0.29909.0> exit with reason normal in context child_terminated\r\n```\r\nI would very much like to make use of the `couch_peruser` option as it's a very nice feature to keep user data segregated etc. I've tried various options to try and clear the error, like recreating the same deleted user and database combination, restarts of the server process but nothing seems to help.\r\n\r\nI should add that after user creation I also store some addition data in each user document, also I am currently running a single node without any kind of replication (at this point).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630032649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630340004","html_url":"https://github.com/apache/couchdb/issues/2892#issuecomment-630340004","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2892","id":630340004,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDM0MDAwNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T17:50:42Z","updated_at":"2020-05-18T17:50:42Z","author_association":"MEMBER","body":"Hi @jo ,\r\n\r\nA workaround (for now) is to create the replication using the Basic authentication header in your replication document, instead of specifying the credentials in the URL.\r\n\r\nThis is just a workaround, we need to determine if this is a regression or not and resolve the issue. Just want to get you on your way :)\r\n\r\nThe source and target properties can be urls, or they can be a json object with `{“url”:”url in here”, “headers”: {“header1”:”value1”, …}}` properties. You could specify a `Bearer` or `Authorization` header in there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630340004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630347808","html_url":"https://github.com/apache/couchdb/issues/1741#issuecomment-630347808","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1741","id":630347808,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDM0NzgwOA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T18:05:57Z","updated_at":"2020-05-18T18:05:57Z","author_association":"MEMBER","body":"@Crispy1975 can you check if setting the `log` `level` to `debug` gets you some more output? Would be great to get the entire log segment from the recording of the user deletion onwards.\r\n\r\nAnd can you share the response from `/ _membership`?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630347808/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630673823","html_url":"https://github.com/apache/couchdb/issues/1741#issuecomment-630673823","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1741","id":630673823,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDY3MzgyMw==","user":{"login":"Crispy1975","id":12525875,"node_id":"MDQ6VXNlcjEyNTI1ODc1","avatar_url":"https://avatars.githubusercontent.com/u/12525875?v=4","gravatar_id":"","url":"https://api.github.com/users/Crispy1975","html_url":"https://github.com/Crispy1975","followers_url":"https://api.github.com/users/Crispy1975/followers","following_url":"https://api.github.com/users/Crispy1975/following{/other_user}","gists_url":"https://api.github.com/users/Crispy1975/gists{/gist_id}","starred_url":"https://api.github.com/users/Crispy1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crispy1975/subscriptions","organizations_url":"https://api.github.com/users/Crispy1975/orgs","repos_url":"https://api.github.com/users/Crispy1975/repos","events_url":"https://api.github.com/users/Crispy1975/events{/privacy}","received_events_url":"https://api.github.com/users/Crispy1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-19T08:36:58Z","updated_at":"2020-05-19T08:36:58Z","author_association":"NONE","body":"@janl here is the output from the CouchDB logs with `debug` turned on:\r\n```\r\ncouchdb_1         | [debug] 2020-05-19T08:32:28.850719Z nonode@nohost <0.1853.70> -------- peruser: handling _users/org.couchdb.user:example1\r\ncouchdb_1         | [debug] 2020-05-19T08:32:28.851228Z nonode@nohost <0.1936.70> -------- peruser: handling _users/org.couchdb.user:example2\r\ncouchdb_1         | [debug] 2020-05-19T08:32:28.851650Z nonode@nohost <0.31834.69> -------- peruser: starting on node nonode@nohost in pid <0.31834.69>\r\ncouchdb_1         | [error] 2020-05-19T08:32:28.851649Z nonode@nohost <0.395.0> -------- Supervisor couch_peruser_sup had child couch_peruser started with couch_peruser:start_link() at <0.1642.70> exit with reason normal in context child_terminated\r\ncouchdb_1         | [debug] 2020-05-19T08:32:28.851733Z nonode@nohost <0.31834.69> -------- peruser: enabled on node nonode@nohost\r\ncouchdb_1         | [debug] 2020-05-19T08:32:28.851983Z nonode@nohost <0.1961.70> -------- peruser: skipping, cluster unstable shards/40000000-5fffffff/_users.1539158245/org.couchdb.user:example3\r\ncouchdb_1         | [debug] 2020-05-19T08:32:28.852002Z nonode@nohost <0.395.0> -------- Supervisor couch_peruser_sup started couch_peruser:start_link() at pid <0.31834.69>```\r\n```\r\nCurrently `example3` is the only existing user (in `_users`) with a related database.\r\n\r\nThe output from the `_membership` request is:\r\n```\r\n{\"all_nodes\":[\"nonode@nohost\"],\"cluster_nodes\":[\"nonode@nohost\"]}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630673823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630739610","html_url":"https://github.com/apache/couchdb/issues/1741#issuecomment-630739610","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1741","id":630739610,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDczOTYxMA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-19T10:44:12Z","updated_at":"2020-05-19T10:44:12Z","author_association":"MEMBER","body":"and this is just during CouchDB startup? Or when you DELETE users `example1` and `example2`? If the latter, please include lines for those DELETE requests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630739610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630785053","html_url":"https://github.com/apache/couchdb/pull/2885#issuecomment-630785053","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2885","id":630785053,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDc4NTA1Mw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-19T12:27:52Z","updated_at":"2020-05-19T12:27:52Z","author_association":"MEMBER","body":"@rnewson ok, I'll wait with the merge then until we add aegis key manager example module we discussed before.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630785053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630794789","html_url":"https://github.com/apache/couchdb/issues/1741#issuecomment-630794789","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1741","id":630794789,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDc5NDc4OQ==","user":{"login":"Crispy1975","id":12525875,"node_id":"MDQ6VXNlcjEyNTI1ODc1","avatar_url":"https://avatars.githubusercontent.com/u/12525875?v=4","gravatar_id":"","url":"https://api.github.com/users/Crispy1975","html_url":"https://github.com/Crispy1975","followers_url":"https://api.github.com/users/Crispy1975/followers","following_url":"https://api.github.com/users/Crispy1975/following{/other_user}","gists_url":"https://api.github.com/users/Crispy1975/gists{/gist_id}","starred_url":"https://api.github.com/users/Crispy1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crispy1975/subscriptions","organizations_url":"https://api.github.com/users/Crispy1975/orgs","repos_url":"https://api.github.com/users/Crispy1975/repos","events_url":"https://api.github.com/users/Crispy1975/events{/privacy}","received_events_url":"https://api.github.com/users/Crispy1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-19T12:49:02Z","updated_at":"2020-05-19T12:49:02Z","author_association":"NONE","body":"I will create a fresh install and test the scenarios later on and report back. Also worth adding is that since the restart this morning and turning debug on I see a lot of crashes, not sure if this is related. But the process eventually died completely. I created a gist of the output here: https://gist.github.com/Crispy1975/904e4579108ce4c883a3063ee76787e2","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/630794789/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/631259555","html_url":"https://github.com/apache/couchdb/issues/1741#issuecomment-631259555","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1741","id":631259555,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTI1OTU1NQ==","user":{"login":"Crispy1975","id":12525875,"node_id":"MDQ6VXNlcjEyNTI1ODc1","avatar_url":"https://avatars.githubusercontent.com/u/12525875?v=4","gravatar_id":"","url":"https://api.github.com/users/Crispy1975","html_url":"https://github.com/Crispy1975","followers_url":"https://api.github.com/users/Crispy1975/followers","following_url":"https://api.github.com/users/Crispy1975/following{/other_user}","gists_url":"https://api.github.com/users/Crispy1975/gists{/gist_id}","starred_url":"https://api.github.com/users/Crispy1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crispy1975/subscriptions","organizations_url":"https://api.github.com/users/Crispy1975/orgs","repos_url":"https://api.github.com/users/Crispy1975/repos","events_url":"https://api.github.com/users/Crispy1975/events{/privacy}","received_events_url":"https://api.github.com/users/Crispy1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T06:12:52Z","updated_at":"2020-05-20T06:12:52Z","author_association":"NONE","body":"I restarted CouchDB after the above crash and perhaps the startup log might also help, that is here in this gist: https://gist.github.com/Crispy1975/ea936e3a01a4a83ce6286c2b27219c1e\r\n\r\nInterestingly it's still referencing the deleted users and having issues with an _unstable_ shard?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/631259555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/631296148","html_url":"https://github.com/apache/couchdb/issues/1741#issuecomment-631296148","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1741","id":631296148,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTI5NjE0OA==","user":{"login":"Crispy1975","id":12525875,"node_id":"MDQ6VXNlcjEyNTI1ODc1","avatar_url":"https://avatars.githubusercontent.com/u/12525875?v=4","gravatar_id":"","url":"https://api.github.com/users/Crispy1975","html_url":"https://github.com/Crispy1975","followers_url":"https://api.github.com/users/Crispy1975/followers","following_url":"https://api.github.com/users/Crispy1975/following{/other_user}","gists_url":"https://api.github.com/users/Crispy1975/gists{/gist_id}","starred_url":"https://api.github.com/users/Crispy1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crispy1975/subscriptions","organizations_url":"https://api.github.com/users/Crispy1975/orgs","repos_url":"https://api.github.com/users/Crispy1975/repos","events_url":"https://api.github.com/users/Crispy1975/events{/privacy}","received_events_url":"https://api.github.com/users/Crispy1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T07:38:17Z","updated_at":"2020-05-20T07:39:23Z","author_association":"NONE","body":"An interesting update. The errors seem to have stopped. I thought that perhaps the manual deletion of users and their associated databases were perhaps getting CouchDB into a bad state as some internal process was not running correctly. I turned on the `couch_peruser` option `delete_dbs`. I then created all the deleted users again (CouchDB created the associated databases). I then deleted the users via Fauxton. CouchDB did it's thing and removed the associated per user databases, and on checking the logs no more recurring errors.\r\n\r\nThe only thing left to do is for CouchDB to purge the deleted docs from the `_users` database (shown in the below grab).\r\n\r\n![Screenshot 2020-05-20 at 08 35 55](https://user-images.githubusercontent.com/12525875/82418490-f83f4000-9a74-11ea-93e3-55d777013404.png)\r\n\r\nSo in summary it seems that this error is caused by deleting users and their associated databases manually. Not sure if that is a server bug, but turning on the `delete_dbs` option seems to keep CouchDB in a good state. You just have to be careful not to nuke your databases. ;-)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/631296148/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632193828","html_url":"https://github.com/apache/couchdb/pull/2899#issuecomment-632193828","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2899","id":632193828,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjE5MzgyOA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T16:32:15Z","updated_at":"2020-05-21T16:32:15Z","author_association":"MEMBER","body":"except that `string:split` is also R20+… oops.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632193828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632368913","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632368913","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632368913,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjM2ODkxMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T22:01:36Z","updated_at":"2020-05-21T22:01:36Z","author_association":"MEMBER","body":"Hey @m11m, \r\n\r\nSomeone will need to update the homebrew recipe. We don't maintain that. You'll need to work with the brew community to fix this one, I'm afraid.\r\n\r\nhttps://github.com/Homebrew/homebrew-core/blob/master/Formula/couchdb.rb","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632368913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632446281","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632446281","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632446281,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ0NjI4MQ==","user":{"login":"m11m","id":1445487,"node_id":"MDQ6VXNlcjE0NDU0ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1445487?v=4","gravatar_id":"","url":"https://api.github.com/users/m11m","html_url":"https://github.com/m11m","followers_url":"https://api.github.com/users/m11m/followers","following_url":"https://api.github.com/users/m11m/following{/other_user}","gists_url":"https://api.github.com/users/m11m/gists{/gist_id}","starred_url":"https://api.github.com/users/m11m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m11m/subscriptions","organizations_url":"https://api.github.com/users/m11m/orgs","repos_url":"https://api.github.com/users/m11m/repos","events_url":"https://api.github.com/users/m11m/events{/privacy}","received_events_url":"https://api.github.com/users/m11m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T02:40:31Z","updated_at":"2020-05-22T02:40:31Z","author_association":"NONE","body":"So should I open another issue regarding the build instructions contained in this repository?\r\n\r\nI followed those instructions and got the same result.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632446281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632446665","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632446665","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632446665,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ0NjY2NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T02:41:45Z","updated_at":"2020-05-22T02:41:45Z","author_association":"MEMBER","body":"@m11m I can reopen it and specifically make it about fixing the build instructions in README*.md for macOS.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632446665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632446981","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632446981","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632446981,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ0Njk4MQ==","user":{"login":"m11m","id":1445487,"node_id":"MDQ6VXNlcjE0NDU0ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1445487?v=4","gravatar_id":"","url":"https://api.github.com/users/m11m","html_url":"https://github.com/m11m","followers_url":"https://api.github.com/users/m11m/followers","following_url":"https://api.github.com/users/m11m/following{/other_user}","gists_url":"https://api.github.com/users/m11m/gists{/gist_id}","starred_url":"https://api.github.com/users/m11m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m11m/subscriptions","organizations_url":"https://api.github.com/users/m11m/orgs","repos_url":"https://api.github.com/users/m11m/repos","events_url":"https://api.github.com/users/m11m/events{/privacy}","received_events_url":"https://api.github.com/users/m11m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T02:42:55Z","updated_at":"2020-05-22T02:42:55Z","author_association":"NONE","body":"I appreciate it, thank you. I can fix the homebrew stuff if I get a little more detail into what's going on here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632446981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632447334","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632447334","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632447334,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ0NzMzNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T02:44:13Z","updated_at":"2020-05-22T02:44:13Z","author_association":"MEMBER","body":"Have you looked at how the macOS App is built? See https://github.com/janl/couchdb-mac-app .\r\n\r\nIf you can help write up the README PR, we'll be happy to merge it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632447334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632447666","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632447666","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632447666,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ0NzY2Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T02:45:26Z","updated_at":"2020-05-22T02:45:26Z","author_association":"MEMBER","body":"My guess: SM1.8.5 probably won't build correctly on Catalina because 64-bitness, and SM that old has 64-bitness issues. You probably need to update to SM60.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632447666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632449872","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632449872","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632449872,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ0OTg3Mg==","user":{"login":"m11m","id":1445487,"node_id":"MDQ6VXNlcjE0NDU0ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1445487?v=4","gravatar_id":"","url":"https://api.github.com/users/m11m","html_url":"https://github.com/m11m","followers_url":"https://api.github.com/users/m11m/followers","following_url":"https://api.github.com/users/m11m/following{/other_user}","gists_url":"https://api.github.com/users/m11m/gists{/gist_id}","starred_url":"https://api.github.com/users/m11m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m11m/subscriptions","organizations_url":"https://api.github.com/users/m11m/orgs","repos_url":"https://api.github.com/users/m11m/repos","events_url":"https://api.github.com/users/m11m/events{/privacy}","received_events_url":"https://api.github.com/users/m11m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T02:53:56Z","updated_at":"2020-05-22T02:53:56Z","author_association":"NONE","body":"re: janl project, yes I'm looking into it more as I find time. Ok thanks, I will look into how to build against SM60.\r\n\r\nI also smelled something about enabling / disabling JIT compilation when searching issues here, not sure if that's applicable or not.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632449872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632725753","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632725753","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632725753,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjcyNTc1Mw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T14:37:52Z","updated_at":"2020-05-22T14:37:52Z","author_association":"MEMBER","body":"this might come in handy: https://github.com/janl/homebrew-couchdb/blob/master/Formula/spidermonkey60.rb","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632725753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632726458","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632726458","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632726458,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjcyNjQ1OA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T14:39:28Z","updated_at":"2020-05-22T14:39:28Z","author_association":"MEMBER","body":"> My guess: SM1.8.5 probably won't build correctly on Catalina because 64-bitness, and SM that old has 64-bitness issues. You probably need to update to SM60.\r\n\r\nSm185 runs fine as 64bit, all Catalina does is no longer allowing 32bit binaries, so I’m not sure this is it. It might be more likely some code signing weirdness","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632726458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632805994","html_url":"https://github.com/apache/couchdb/issues/2901#issuecomment-632805994","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2901","id":632805994,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjgwNTk5NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T17:01:02Z","updated_at":"2020-05-22T17:01:02Z","author_association":"MEMBER","body":"ah right, I remember now, SM 1.8.5 can't run 32-bit on Solarises (including SmartOS.)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/632805994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/633247403","html_url":"https://github.com/apache/couchdb/issues/1524#issuecomment-633247403","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1524","id":633247403,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzI0NzQwMw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-24T15:25:13Z","updated_at":"2020-05-24T15:25:13Z","author_association":"MEMBER","body":"Just posted this on IRC:\r\n\r\n[17:21:32]  <+jan____>\thad a good session on per-doc-access today. I think most of the major features are done now, with quite extensive tests: https://github.com/apache/couchdb/blob/access/src/couch/test/couchdb_access_tests.erl#L69-L126\r\n[17:22:40]  <+jan____>\tthere are a few niggling todos left and right, but the next major step I’d say is rebase onto master, as this is still in 2.3.1-land. While rebasing, I plan to clean things up a little (take out debug logs, make more review friendly commits).\r\n[17:22:48]  <+jan____>\tbut this is exciting to see :)\r\n[17:23:56]  <+jan____>\tespecially replication from/to access/non-access enabled dbs seems to work just fine","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/633247403/reactions","total_count":8,"+1":0,"-1":0,"laugh":0,"hooray":8,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/633389822","html_url":"https://github.com/apache/couchdb/issues/2903#issuecomment-633389822","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2903","id":633389822,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzM4OTgyMg==","user":{"login":"dewapurag","id":58319987,"node_id":"MDQ6VXNlcjU4MzE5OTg3","avatar_url":"https://avatars.githubusercontent.com/u/58319987?v=4","gravatar_id":"","url":"https://api.github.com/users/dewapurag","html_url":"https://github.com/dewapurag","followers_url":"https://api.github.com/users/dewapurag/followers","following_url":"https://api.github.com/users/dewapurag/following{/other_user}","gists_url":"https://api.github.com/users/dewapurag/gists{/gist_id}","starred_url":"https://api.github.com/users/dewapurag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dewapurag/subscriptions","organizations_url":"https://api.github.com/users/dewapurag/orgs","repos_url":"https://api.github.com/users/dewapurag/repos","events_url":"https://api.github.com/users/dewapurag/events{/privacy}","received_events_url":"https://api.github.com/users/dewapurag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T05:51:28Z","updated_at":"2020-05-25T05:51:28Z","author_association":"NONE","body":"Gentle Reminder on this","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/633389822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/633927226","html_url":"https://github.com/apache/couchdb/issues/2903#issuecomment-633927226","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2903","id":633927226,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzkyNzIyNg==","user":{"login":"dewapurag","id":58319987,"node_id":"MDQ6VXNlcjU4MzE5OTg3","avatar_url":"https://avatars.githubusercontent.com/u/58319987?v=4","gravatar_id":"","url":"https://api.github.com/users/dewapurag","html_url":"https://github.com/dewapurag","followers_url":"https://api.github.com/users/dewapurag/followers","following_url":"https://api.github.com/users/dewapurag/following{/other_user}","gists_url":"https://api.github.com/users/dewapurag/gists{/gist_id}","starred_url":"https://api.github.com/users/dewapurag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dewapurag/subscriptions","organizations_url":"https://api.github.com/users/dewapurag/orgs","repos_url":"https://api.github.com/users/dewapurag/repos","events_url":"https://api.github.com/users/dewapurag/events{/privacy}","received_events_url":"https://api.github.com/users/dewapurag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T09:53:06Z","updated_at":"2020-05-26T09:53:06Z","author_association":"NONE","body":"Gentle reminder, this is really crucial for our environment","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/633927226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634100044","html_url":"https://github.com/apache/couchdb/issues/2903#issuecomment-634100044","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2903","id":634100044,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDEwMDA0NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T15:31:53Z","updated_at":"2020-05-26T15:31:53Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634100044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634188167","html_url":"https://github.com/apache/couchdb/issues/2895#issuecomment-634188167","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2895","id":634188167,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDE4ODE2Nw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T18:08:14Z","updated_at":"2020-05-26T18:08:52Z","author_association":"MEMBER","body":"Excellent write up. Unfortunately the Erlang shell and its weirdo UTF-8 behavior caused you more pain that it helped. The issue is that Erlang's displaying binaries and interpreting binaries differently that you might expect.\r\n\r\nA quick test to see that in action is to print out the actual binary values to see how things have been interpreted (Running on Erlang 22 locally):\r\n\r\nAlso for clarity, `ö` is `192 186` and `Ö` is `192 150`.\r\n\r\n```erlang\r\nForms = [\r\n    <<\"xxxöxxx\">>,\r\n    <<\"xxxöxxx\"/utf8>>,\r\n    <<\"xxxÖxxx\">>,\r\n    <<\"xxxÖxxx\"/utf8>>,\r\n    <<\"(?i)ö\">>,\r\n    <<\"(?i)ö\"/utf8>>\r\n],\r\nlists:foreach(fun(F) ->\r\n    io:format(\"~w~n\", [F])\r\nend, Forms).\r\n\r\n<<120,120,120,246,120,120,120>>\r\n<<120,120,120,195,182,120,120,120>>\r\n<<120,120,120,214,120,120,120>>\r\n<<120,120,120,195,150,120,120,120>>\r\n<<40,63,105,41,246>>\r\n<<40,63,105,41,195,182>>\r\n```\r\n\r\nYou'll notice that the `/utf8` flag is merely telling the shell to correctly interpret unicode characters that have been typed into the shell. So the table from above is just showing this albeit in a round about fashion.\r\n\r\nInternally since we know everything has gone through Jiffy we know everything is valid UTF8, so it then becomes a question of providing that flag and whether or not its something we should do since it could be a behavior change.\r\n\r\nAlthough, we can also control that flag from the pattern as well, so this works as expected:\r\n\r\n```bash\r\ncurl -u admin:password -X POST http://localhost:5984/test/_find -H \"Content-Type: application/json\" -d '\r\n{\r\n  \"selector\": {\r\n    \"data\": {\r\n      \"$regex\": \"(*UTF8)(?i)ö\"\r\n    }\r\n  }\r\n}'\r\n{\"docs\":[\r\n{\"_id\":\"1\",\"_rev\":\"1-96be014c47e090c7705b66c4b646d6f6\",\"data\":\"xxxöxxx\"},\r\n{\"_id\":\"2\",\"_rev\":\"1-903d0f61be4c2eda02c1bd72d3ba92bc\",\"data\":\"xxxÖxxx\"}\r\n],\r\n\"bookmark\": \"g1AAAAAyeJzLYWBgYMpgSmHgKy5JLCrJTq2MT8lPzkzJBYozGoEkOGASEKEsAErJDRs\",\r\n\"warning\": \"No matching index found, create an index to optimize query time.\"}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634188167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634431320","html_url":"https://github.com/apache/couchdb/issues/2908#issuecomment-634431320","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2908","id":634431320,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDQzMTMyMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T05:07:40Z","updated_at":"2020-05-27T05:07:40Z","author_association":"MEMBER","body":"This is probably a duplicate of #2881 .\r\n\r\nIf it's not, please comment and we can reopen.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634431320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634440502","html_url":"https://github.com/apache/couchdb/issues/2908#issuecomment-634440502","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2908","id":634440502,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDQ0MDUwMg==","user":{"login":"hamiltonsalazar","id":36459473,"node_id":"MDQ6VXNlcjM2NDU5NDcz","avatar_url":"https://avatars.githubusercontent.com/u/36459473?v=4","gravatar_id":"","url":"https://api.github.com/users/hamiltonsalazar","html_url":"https://github.com/hamiltonsalazar","followers_url":"https://api.github.com/users/hamiltonsalazar/followers","following_url":"https://api.github.com/users/hamiltonsalazar/following{/other_user}","gists_url":"https://api.github.com/users/hamiltonsalazar/gists{/gist_id}","starred_url":"https://api.github.com/users/hamiltonsalazar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamiltonsalazar/subscriptions","organizations_url":"https://api.github.com/users/hamiltonsalazar/orgs","repos_url":"https://api.github.com/users/hamiltonsalazar/repos","events_url":"https://api.github.com/users/hamiltonsalazar/events{/privacy}","received_events_url":"https://api.github.com/users/hamiltonsalazar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T05:40:21Z","updated_at":"2020-05-27T05:40:21Z","author_association":"NONE","body":"In this case i want to see public infomation of that user.\r\n\r\nI followed the instructions in the documentation for [Users Public Information](https://docs.couchdb.org/en/stable/intro/security.html#users-public-information), I shared the field \"name\". I set up the public_fields configuration option. I should be able to view this information from this user as the documentation shows:\r\n\r\n`{\"_id\":\"org.couchdb.user:jan\",\"_rev\":\"2-724d8f9af35639db6d96504acda22a25\",\"name\":\"jan\"}`\r\n\r\nIssue [#1881](https://github.com/apache/couchdb/issues/2881) doesn't change `public_fields` in `http: // localhost: 5984 / _node / nonode @ nohost / _config / couch_httpd_auth / public_fields`\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634440502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634447649","html_url":"https://github.com/apache/couchdb/issues/2908#issuecomment-634447649","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2908","id":634447649,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDQ0NzY0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T06:03:32Z","updated_at":"2020-05-27T06:03:32Z","author_association":"MEMBER","body":"Did you do [this first](https://github.com/apache/couchdb/issues/2730#issuecomment-606741710)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/634447649/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null}]