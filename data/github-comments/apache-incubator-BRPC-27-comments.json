[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575978842","html_url":"https://github.com/apache/brpc/pull/1026#issuecomment-575978842","issue_url":"https://api.github.com/repos/apache/brpc/issues/1026","id":575978842,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3ODg0Mg==","user":{"login":"htn4179","id":30617294,"node_id":"MDQ6VXNlcjMwNjE3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/30617294?v=4","gravatar_id":"","url":"https://api.github.com/users/htn4179","html_url":"https://github.com/htn4179","followers_url":"https://api.github.com/users/htn4179/followers","following_url":"https://api.github.com/users/htn4179/following{/other_user}","gists_url":"https://api.github.com/users/htn4179/gists{/gist_id}","starred_url":"https://api.github.com/users/htn4179/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htn4179/subscriptions","organizations_url":"https://api.github.com/users/htn4179/orgs","repos_url":"https://api.github.com/users/htn4179/repos","events_url":"https://api.github.com/users/htn4179/events{/privacy}","received_events_url":"https://api.github.com/users/htn4179/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T08:18:29Z","updated_at":"2020-01-19T08:18:29Z","author_association":"NONE","body":"yes，I have fixed it!","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575978842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575980973","html_url":"https://github.com/apache/brpc/issues/1023#issuecomment-575980973","issue_url":"https://api.github.com/repos/apache/brpc/issues/1023","id":575980973,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk4MDk3Mw==","user":{"login":"cloudhan","id":1279292,"node_id":"MDQ6VXNlcjEyNzkyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/1279292?v=4","gravatar_id":"","url":"https://api.github.com/users/cloudhan","html_url":"https://github.com/cloudhan","followers_url":"https://api.github.com/users/cloudhan/followers","following_url":"https://api.github.com/users/cloudhan/following{/other_user}","gists_url":"https://api.github.com/users/cloudhan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloudhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloudhan/subscriptions","organizations_url":"https://api.github.com/users/cloudhan/orgs","repos_url":"https://api.github.com/users/cloudhan/repos","events_url":"https://api.github.com/users/cloudhan/events{/privacy}","received_events_url":"https://api.github.com/users/cloudhan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T08:47:00Z","updated_at":"2020-01-19T08:47:00Z","author_association":"NONE","body":"OK, to be more specific, what I have done is\r\n```cmake\r\ncmake_minimum_required(VERSION 3.5)\r\nproject(server CXX)\r\n\r\n#...\r\n\r\n# ${CMAKE_CURRENT_SOURCE_DIR}/cmake has a FindProtobuf.cmake copied from brpc\r\nset(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake ${CMAKE_MODULE_PATH})\r\n\r\n\r\n# this is the precompiled protobuf library\r\nset(CMAKE_PREFIX_PATH ${CMAKE_CURRENT_SOURCE_DIR}/3rdparty/protobuf CMAKE_PREFIX_PATH)\r\n\r\n# this will use the copied FindProtobuf.cmake\r\nfind_package(Protobuf REQUIRED)\r\n\r\n# this is for brpc to correctly find \r\ninclude_directories(${Protobuf_INCLUDE_DIR}) \r\nlink_directories(${Protobuf_LIBRARY_DIR})\r\n\r\nprotobuf_generate_cpp(PROTO_SRC PROTO_HEADER proto/XXX.proto)\r\n\r\n# brpc is added as a git submodule\r\nadd_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/3rdparty/brpc)\r\n\r\n# ...\r\n\r\ntarget_link_libraries(my_target PRIVATE brpc-shared)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575980973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576006843","html_url":"https://github.com/apache/brpc/issues/1025#issuecomment-576006843","issue_url":"https://api.github.com/repos/apache/brpc/issues/1025","id":576006843,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjAwNjg0Mw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T13:52:49Z","updated_at":"2020-01-19T13:52:49Z","author_association":"MEMBER","body":"so which one is the latest? https://github.com/apache/incubator-brpc/pull/1031 or https://github.com/apache/incubator-brpc/pull/1026?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576006843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576082950","html_url":"https://github.com/apache/brpc/issues/1025#issuecomment-576082950","issue_url":"https://api.github.com/repos/apache/brpc/issues/1025","id":576082950,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA4Mjk1MA==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T02:36:30Z","updated_at":"2020-01-20T02:36:30Z","author_association":"NONE","body":"> so which one is the latest? #1031 or #1026?\r\n\r\nthe implementation in 1031 will be more clear,it should be the latest\r\n\r\nbut in 1031 I got some error when travis-ci do linking like \r\nbvar_percentile_unittest.cpp:(.text+0x35): undefined reference to `bvar::detail::Percentile::Percentile()'\r\nthis seems unreasonable as bavr test and bavr cc_library are not modified in my commit","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576082950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576087186","html_url":"https://github.com/apache/brpc/issues/1025#issuecomment-576087186","issue_url":"https://api.github.com/repos/apache/brpc/issues/1025","id":576087186,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA4NzE4Ng==","user":{"login":"htn4179","id":30617294,"node_id":"MDQ6VXNlcjMwNjE3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/30617294?v=4","gravatar_id":"","url":"https://api.github.com/users/htn4179","html_url":"https://github.com/htn4179","followers_url":"https://api.github.com/users/htn4179/followers","following_url":"https://api.github.com/users/htn4179/following{/other_user}","gists_url":"https://api.github.com/users/htn4179/gists{/gist_id}","starred_url":"https://api.github.com/users/htn4179/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htn4179/subscriptions","organizations_url":"https://api.github.com/users/htn4179/orgs","repos_url":"https://api.github.com/users/htn4179/repos","events_url":"https://api.github.com/users/htn4179/events{/privacy}","received_events_url":"https://api.github.com/users/htn4179/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T03:01:35Z","updated_at":"2020-01-20T03:01:35Z","author_association":"NONE","body":"> so which one is the latest? #1031 or #1026?\r\n\r\n#1031 is classic and less flag and status,\r\n#1026 has more flag and status, We maximize the read performance,\r\nSo, I think it is your choice","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576087186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576091247","html_url":"https://github.com/apache/brpc/pull/1032#issuecomment-576091247","issue_url":"https://api.github.com/repos/apache/brpc/issues/1032","id":576091247,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA5MTI0Nw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T03:26:04Z","updated_at":"2020-01-20T03:26:04Z","author_association":"MEMBER","body":"according to https://github.com/apache/incubator-brpc/issues/1023, find_package provide more options for user to set(such as CMAKE_PREFIX_PATH). The minimum cmake version that brpc use is [2.8.10](https://cmake.org/cmake/help/v2.8.10/cmake.html#command:find_package), and find_package is supported in this version. It is safe to replace include with find_package.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576091247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576125295","html_url":"https://github.com/apache/brpc/issues/1023#issuecomment-576125295","issue_url":"https://api.github.com/repos/apache/brpc/issues/1023","id":576125295,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEyNTI5NQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T06:24:30Z","updated_at":"2020-01-20T06:24:30Z","author_association":"MEMBER","body":"`include(FindProtobuf)` will include the cmake/Modules/FindProtobuf.cmake file, which uses find_library to find protolib. While find_library does support CMAKE_PREFIX_PATH, it is enough to set CMAKE_PREFIX_PATH to your precompiled path. In fact, one of our project also uses precompiled protobuf and we set CMAKE_PREFIX_PATH. Under it there is an include/ and lib/ directory. So make sure your precompiled path has the same structure, more detail: https://cmake.org/cmake/help/latest/variable/CMAKE_PREFIX_PATH.html","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576125295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576126900","html_url":"https://github.com/apache/brpc/issues/1033#issuecomment-576126900","issue_url":"https://api.github.com/repos/apache/brpc/issues/1033","id":576126900,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEyNjkwMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T06:30:47Z","updated_at":"2020-01-20T06:31:21Z","author_association":"CONTRIBUTOR","body":"如果发送时的socket需要auth，controller里的with_auth flag就会被设1，解析response时就知道哪个是auth的结果并跳过了。这里的问题应该是在[这里](https://github.com/apache/incubator-brpc/commit/2a8056e6a25486f31fb66978bb84dac286116ee6#diff-2b9be1bcc8c6fcd08928ef21172df470)被改错了。重试前或每次使用socket前应重置with_auth。麻烦尝试一下[master最新的](https://github.com/apache/incubator-brpc/commit/4e519089a4f009c6892409a1a70d76fdb07eb5d5)，看看是否修复了问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576126900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576128661","html_url":"https://github.com/apache/brpc/pull/1032#issuecomment-576128661","issue_url":"https://api.github.com/repos/apache/brpc/issues/1032","id":576128661,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEyODY2MQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T06:38:34Z","updated_at":"2020-01-20T06:38:34Z","author_association":"MEMBER","body":"cmake/FindGFLAGS.cmake and cmake/FindGperftools.cmake can not be deleted because they are not builtin module of cmake, we still need it if user install them using other method, such as apt-get","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576128661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576129491","html_url":"https://github.com/apache/brpc/issues/1023#issuecomment-576129491","issue_url":"https://api.github.com/repos/apache/brpc/issues/1023","id":576129491,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEyOTQ5MQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T06:42:04Z","updated_at":"2020-01-20T06:42:04Z","author_association":"MEMBER","body":"But `find_package` provides more options for user, so we may replace `include` with `find_package`. The pr is here https://github.com/apache/incubator-brpc/pull/1032","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576129491/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576132347","html_url":"https://github.com/apache/brpc/issues/1033#issuecomment-576132347","issue_url":"https://api.github.com/repos/apache/brpc/issues/1033","id":576132347,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEzMjM0Nw==","user":{"login":"feifeiiong","id":4979167,"node_id":"MDQ6VXNlcjQ5NzkxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/4979167?v=4","gravatar_id":"","url":"https://api.github.com/users/feifeiiong","html_url":"https://github.com/feifeiiong","followers_url":"https://api.github.com/users/feifeiiong/followers","following_url":"https://api.github.com/users/feifeiiong/following{/other_user}","gists_url":"https://api.github.com/users/feifeiiong/gists{/gist_id}","starred_url":"https://api.github.com/users/feifeiiong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feifeiiong/subscriptions","organizations_url":"https://api.github.com/users/feifeiiong/orgs","repos_url":"https://api.github.com/users/feifeiiong/repos","events_url":"https://api.github.com/users/feifeiiong/events{/privacy}","received_events_url":"https://api.github.com/users/feifeiiong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T06:54:23Z","updated_at":"2020-01-20T06:54:23Z","author_association":"NONE","body":"好的，我们尝试一下，谢谢！此外关于 **解析response时就知道哪个是auth的结果并跳过了。** 这里，因为我看到Parse相关的解析都是使用的pipline中的auth状态标志位，不知道还有哪里会使用到with_auth_flag呢？ 我提问的核心意思是，设置pipline的状态标志位是否可以不依赖controller，而只依赖socket是否需要auth，目前看设置pipline标志位的设置是依赖controller中的gflag。谢谢！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576132347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576160507","html_url":"https://github.com/apache/brpc/pull/1034#issuecomment-576160507","issue_url":"https://api.github.com/repos/apache/brpc/issues/1034","id":576160507,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjE2MDUwNw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T08:23:19Z","updated_at":"2020-01-20T08:23:19Z","author_association":"MEMBER","body":"Sometime there is some environment problem in travis-ci, i had restarted the travis-ci task of #1031. please check whether it can pass ut this time. If it passes, this pr can be closed.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576160507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576169081","html_url":"https://github.com/apache/brpc/issues/1035#issuecomment-576169081","issue_url":"https://api.github.com/repos/apache/brpc/issues/1035","id":576169081,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjE2OTA4MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T08:45:45Z","updated_at":"2020-01-20T08:45:45Z","author_association":"CONTRIBUTOR","body":"不可行，不要尝试。有一些变量是在pthread-local中的，如果要支持多套TaskControl，那些变量就得组织成数组，很麻烦。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576169081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576181771","html_url":"https://github.com/apache/brpc/pull/1034#issuecomment-576181771","issue_url":"https://api.github.com/repos/apache/brpc/issues/1034","id":576181771,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjE4MTc3MQ==","user":{"login":"xiaosage079","id":60084852,"node_id":"MDQ6VXNlcjYwMDg0ODUy","avatar_url":"https://avatars.githubusercontent.com/u/60084852?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaosage079","html_url":"https://github.com/xiaosage079","followers_url":"https://api.github.com/users/xiaosage079/followers","following_url":"https://api.github.com/users/xiaosage079/following{/other_user}","gists_url":"https://api.github.com/users/xiaosage079/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaosage079/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaosage079/subscriptions","organizations_url":"https://api.github.com/users/xiaosage079/orgs","repos_url":"https://api.github.com/users/xiaosage079/repos","events_url":"https://api.github.com/users/xiaosage079/events{/privacy}","received_events_url":"https://api.github.com/users/xiaosage079/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T09:20:23Z","updated_at":"2020-01-20T09:20:23Z","author_association":"NONE","body":"> Sometime there is some environment problem in travis-ci, i had restarted the travis-ci task of #1031. please check whether it can pass ut this time. If it passes, this pr can be closed.\r\n\r\n1031 passed, i will close this pr.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576181771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576208924","html_url":"https://github.com/apache/brpc/issues/1035#issuecomment-576208924","issue_url":"https://api.github.com/repos/apache/brpc/issues/1035","id":576208924,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjIwODkyNA==","user":{"login":"guangpec1","id":60089203,"node_id":"MDQ6VXNlcjYwMDg5MjAz","avatar_url":"https://avatars.githubusercontent.com/u/60089203?v=4","gravatar_id":"","url":"https://api.github.com/users/guangpec1","html_url":"https://github.com/guangpec1","followers_url":"https://api.github.com/users/guangpec1/followers","following_url":"https://api.github.com/users/guangpec1/following{/other_user}","gists_url":"https://api.github.com/users/guangpec1/gists{/gist_id}","starred_url":"https://api.github.com/users/guangpec1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guangpec1/subscriptions","organizations_url":"https://api.github.com/users/guangpec1/orgs","repos_url":"https://api.github.com/users/guangpec1/repos","events_url":"https://api.github.com/users/guangpec1/events{/privacy}","received_events_url":"https://api.github.com/users/guangpec1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T10:27:53Z","updated_at":"2020-01-20T10:56:07Z","author_association":"NONE","body":"戈神，我们自己内部实现了，现在测试还没有发现问题，我详细描述一下场景. 建立两个 Task Control 分别是 T1 和 T2.  T1 中处理网络请求，然后T1将“算力较大”的部分发给 T2， T1 发给T2的只是function和arg， T2 执行funciton (本质上调度 start_background<false>(tid, attr, fn, arg))，T2 任务结束后通过signal 通知 T1.  我理解Task Control 本质上是bthread 调度引擎，与bthread 的资源解耦.   同时Task Control 每一个Thtread Worker (pthread) 是资源独立的，因此可以建立两个task control. 我的想法如上，有时间帮忙看一下，多谢@jamesge ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576208924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576491535","html_url":"https://github.com/apache/brpc/pull/1003#issuecomment-576491535","issue_url":"https://api.github.com/repos/apache/brpc/issues/1003","id":576491535,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjQ5MTUzNQ==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T02:27:55Z","updated_at":"2020-01-21T02:27:55Z","author_association":"CONTRIBUTOR","body":"已经确认所有对_max_concurrency 的直接赋值都替换为函数AdjustMaxConcurrency","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576491535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576491790","html_url":"https://github.com/apache/brpc/issues/1035#issuecomment-576491790","issue_url":"https://api.github.com/repos/apache/brpc/issues/1035","id":576491790,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjQ5MTc5MA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T02:29:19Z","updated_at":"2020-01-21T02:29:19Z","author_association":"CONTRIBUTOR","body":"> 戈神，我们自己内部实现了，现在测试还没有发现问题，我详细描述一下场景. 建立两个 Task Control 分别是 T1 和 T2. T1 中处理网络请求，然后T1将“算力较大”的部分发给 T2， T1 发给T2的只是function和arg， T2 执行funciton (本质上调度 start_background(tid, attr, fn, arg))，T2 任务结束后通过signal 通知 T1. 我理解Task Control 本质上是bthread 调度引擎，与bthread 的资源解耦. 同时Task Control 每一个Thtread Worker (pthread) 是资源独立的，因此可以建立两个task control. 我的想法如上，有时间帮忙看一下，多谢@jamesge\r\n\r\n现在io也是在bthread中执行的，这个把io拆分开来应对什么具体的问题呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576491790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576493800","html_url":"https://github.com/apache/brpc/pull/1034#issuecomment-576493800","issue_url":"https://api.github.com/repos/apache/brpc/issues/1034","id":576493800,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjQ5MzgwMA==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T02:39:24Z","updated_at":"2020-01-21T02:39:24Z","author_association":"NONE","body":"> > Sometime there is some environment problem in travis-ci, i had restarted the travis-ci task of #1031. please check whether it can pass ut this time. If it passes, this pr can be closed.\r\n> \r\n> 1031 passed, i will close this pr.\r\n\r\nthank you,nice job","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576493800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576510871","html_url":"https://github.com/apache/brpc/issues/1035#issuecomment-576510871","issue_url":"https://api.github.com/repos/apache/brpc/issues/1035","id":576510871,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjUxMDg3MQ==","user":{"login":"guangpec1","id":60089203,"node_id":"MDQ6VXNlcjYwMDg5MjAz","avatar_url":"https://avatars.githubusercontent.com/u/60089203?v=4","gravatar_id":"","url":"https://api.github.com/users/guangpec1","html_url":"https://github.com/guangpec1","followers_url":"https://api.github.com/users/guangpec1/followers","following_url":"https://api.github.com/users/guangpec1/following{/other_user}","gists_url":"https://api.github.com/users/guangpec1/gists{/gist_id}","starred_url":"https://api.github.com/users/guangpec1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guangpec1/subscriptions","organizations_url":"https://api.github.com/users/guangpec1/orgs","repos_url":"https://api.github.com/users/guangpec1/repos","events_url":"https://api.github.com/users/guangpec1/events{/privacy}","received_events_url":"https://api.github.com/users/guangpec1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T04:15:50Z","updated_at":"2020-01-21T04:15:50Z","author_association":"NONE","body":"主要将计算的部分拆分出来，主要是业务架构的需要.  比如说既有重调度的任务，又有重计算的任务.  将重计算和调度分开成两个Task Control.  降低互相影响. @cdjingit ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576510871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576568156","html_url":"https://github.com/apache/brpc/issues/1035#issuecomment-576568156","issue_url":"https://api.github.com/repos/apache/brpc/issues/1035","id":576568156,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjU2ODE1Ng==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T08:18:03Z","updated_at":"2020-01-21T08:18:03Z","author_association":"CONTRIBUTOR","body":"> 主要将计算的部分拆分出来，主要是业务架构的需要. 比如说既有重调度的任务，又有重计算的任务. 将重计算和调度分开成两个Task Control. 降低互相影响. @cdjingit\r\n\r\n目前brpc的设计，一般不需要区分io线程和工作线程。直白说如果工作线程超负荷了，io线程继续接受请求也只是会加剧系统压力。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576568156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576616258","html_url":"https://github.com/apache/brpc/pull/999#issuecomment-576616258","issue_url":"https://api.github.com/repos/apache/brpc/issues/999","id":576616258,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjYxNjI1OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T10:25:00Z","updated_at":"2020-01-21T10:25:00Z","author_association":"CONTRIBUTOR","body":"many thanks 😊 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576616258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576621279","html_url":"https://github.com/apache/brpc/pull/953#issuecomment-576621279","issue_url":"https://api.github.com/repos/apache/brpc/issues/953","id":576621279,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjYyMTI3OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T10:36:21Z","updated_at":"2020-01-21T10:36:21Z","author_association":"CONTRIBUTOR","body":"Not seeing the code in [master](https://github.com/apache/incubator-brpc/blob/master/src/butil/mac/foundation_util.h#L53), closing this pr. thank you 😊 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/576621279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/579623441","html_url":"https://github.com/apache/brpc/issues/1037#issuecomment-579623441","issue_url":"https://api.github.com/repos/apache/brpc/issues/1037","id":579623441,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTYyMzQ0MQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T07:08:06Z","updated_at":"2020-01-29T07:08:06Z","author_association":"MEMBER","body":"看看[rpc_replay](https://github.com/apache/incubator-brpc/blob/master/docs/cn/rpc_replay.md)能满足你们需求吗，目前支持有限的协议","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/579623441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/579781687","html_url":"https://github.com/apache/brpc/issues/1035#issuecomment-579781687","issue_url":"https://api.github.com/repos/apache/brpc/issues/1035","id":579781687,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTc4MTY4Nw==","user":{"login":"guangpec1","id":60089203,"node_id":"MDQ6VXNlcjYwMDg5MjAz","avatar_url":"https://avatars.githubusercontent.com/u/60089203?v=4","gravatar_id":"","url":"https://api.github.com/users/guangpec1","html_url":"https://github.com/guangpec1","followers_url":"https://api.github.com/users/guangpec1/followers","following_url":"https://api.github.com/users/guangpec1/following{/other_user}","gists_url":"https://api.github.com/users/guangpec1/gists{/gist_id}","starred_url":"https://api.github.com/users/guangpec1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guangpec1/subscriptions","organizations_url":"https://api.github.com/users/guangpec1/orgs","repos_url":"https://api.github.com/users/guangpec1/repos","events_url":"https://api.github.com/users/guangpec1/events{/privacy}","received_events_url":"https://api.github.com/users/guangpec1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T14:31:51Z","updated_at":"2020-01-29T14:31:51Z","author_association":"NONE","body":"好的，多谢 @cdjingit @jamesge ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/579781687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/580061655","html_url":"https://github.com/apache/brpc/issues/1037#issuecomment-580061655","issue_url":"https://api.github.com/repos/apache/brpc/issues/1037","id":580061655,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDA2MTY1NQ==","user":{"login":"498143049","id":8311524,"node_id":"MDQ6VXNlcjgzMTE1MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8311524?v=4","gravatar_id":"","url":"https://api.github.com/users/498143049","html_url":"https://github.com/498143049","followers_url":"https://api.github.com/users/498143049/followers","following_url":"https://api.github.com/users/498143049/following{/other_user}","gists_url":"https://api.github.com/users/498143049/gists{/gist_id}","starred_url":"https://api.github.com/users/498143049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/498143049/subscriptions","organizations_url":"https://api.github.com/users/498143049/orgs","repos_url":"https://api.github.com/users/498143049/repos","events_url":"https://api.github.com/users/498143049/events{/privacy}","received_events_url":"https://api.github.com/users/498143049/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-30T02:58:29Z","updated_at":"2020-01-30T02:58:29Z","author_association":"NONE","body":"rpc_dump 与 rpc_replay 亲测好用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/580061655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/581013470","html_url":"https://github.com/apache/brpc/issues/1037#issuecomment-581013470","issue_url":"https://api.github.com/repos/apache/brpc/issues/1037","id":581013470,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTAxMzQ3MA==","user":{"login":"lazzyRabbit","id":44544510,"node_id":"MDQ6VXNlcjQ0NTQ0NTEw","avatar_url":"https://avatars.githubusercontent.com/u/44544510?v=4","gravatar_id":"","url":"https://api.github.com/users/lazzyRabbit","html_url":"https://github.com/lazzyRabbit","followers_url":"https://api.github.com/users/lazzyRabbit/followers","following_url":"https://api.github.com/users/lazzyRabbit/following{/other_user}","gists_url":"https://api.github.com/users/lazzyRabbit/gists{/gist_id}","starred_url":"https://api.github.com/users/lazzyRabbit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lazzyRabbit/subscriptions","organizations_url":"https://api.github.com/users/lazzyRabbit/orgs","repos_url":"https://api.github.com/users/lazzyRabbit/repos","events_url":"https://api.github.com/users/lazzyRabbit/events{/privacy}","received_events_url":"https://api.github.com/users/lazzyRabbit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-01T09:51:48Z","updated_at":"2020-02-01T09:51:48Z","author_association":"NONE","body":"这个好像不支持brpc中的grpc模块啊","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/581013470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585071334","html_url":"https://github.com/apache/brpc/issues/859#issuecomment-585071334","issue_url":"https://api.github.com/repos/apache/brpc/issues/859","id":585071334,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTA3MTMzNA==","user":{"login":"smartlee","id":1262498,"node_id":"MDQ6VXNlcjEyNjI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1262498?v=4","gravatar_id":"","url":"https://api.github.com/users/smartlee","html_url":"https://github.com/smartlee","followers_url":"https://api.github.com/users/smartlee/followers","following_url":"https://api.github.com/users/smartlee/following{/other_user}","gists_url":"https://api.github.com/users/smartlee/gists{/gist_id}","starred_url":"https://api.github.com/users/smartlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartlee/subscriptions","organizations_url":"https://api.github.com/users/smartlee/orgs","repos_url":"https://api.github.com/users/smartlee/repos","events_url":"https://api.github.com/users/smartlee/events{/privacy}","received_events_url":"https://api.github.com/users/smartlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T07:35:08Z","updated_at":"2020-02-12T07:35:08Z","author_association":"NONE","body":"> 是在进程刚启动时发生的。\r\n这个问题解决了吗\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585071334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585600990","html_url":"https://github.com/apache/brpc/issues/750#issuecomment-585600990","issue_url":"https://api.github.com/repos/apache/brpc/issues/750","id":585600990,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTYwMDk5MA==","user":{"login":"walterzhaoJR","id":22393698,"node_id":"MDQ6VXNlcjIyMzkzNjk4","avatar_url":"https://avatars.githubusercontent.com/u/22393698?v=4","gravatar_id":"","url":"https://api.github.com/users/walterzhaoJR","html_url":"https://github.com/walterzhaoJR","followers_url":"https://api.github.com/users/walterzhaoJR/followers","following_url":"https://api.github.com/users/walterzhaoJR/following{/other_user}","gists_url":"https://api.github.com/users/walterzhaoJR/gists{/gist_id}","starred_url":"https://api.github.com/users/walterzhaoJR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterzhaoJR/subscriptions","organizations_url":"https://api.github.com/users/walterzhaoJR/orgs","repos_url":"https://api.github.com/users/walterzhaoJR/repos","events_url":"https://api.github.com/users/walterzhaoJR/events{/privacy}","received_events_url":"https://api.github.com/users/walterzhaoJR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T08:03:48Z","updated_at":"2020-02-13T08:03:48Z","author_association":"NONE","body":"@jamesge 想请教下 对于client来说ERPCTIMEDOUT 这个超时主要意味着什么。是说明从client发起这次rpc请求的request到等待response的整个过程超时吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585600990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585623361","html_url":"https://github.com/apache/brpc/issues/750#issuecomment-585623361","issue_url":"https://api.github.com/repos/apache/brpc/issues/750","id":585623361,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTYyMzM2MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T09:06:03Z","updated_at":"2020-02-13T09:06:03Z","author_association":"CONTRIBUTOR","body":"对，就是遇到了rpc的deadline，故超时后不会重试，对用户更可控。若需要等待一段时间后无返回便重试，对应的是backup request功能，可以搜索下文档。字面上类似的ETIMEDOUT是系统的错误码，代表连接超时。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585623361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585631483","html_url":"https://github.com/apache/brpc/issues/1040#issuecomment-585631483","issue_url":"https://api.github.com/repos/apache/brpc/issues/1040","id":585631483,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTYzMTQ4Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T09:25:39Z","updated_at":"2020-02-13T09:25:39Z","author_association":"CONTRIBUTOR","body":"对，就是遇到了rpc的deadline，故超时后不会重试，对用户更可控。若需要等待一段时间后无返回便重试，对应的是backup request功能，可以搜索下文档。字面上类似的ETIMEDOUT是系统的错误码，代表连接超时。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585631483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585637665","html_url":"https://github.com/apache/brpc/issues/1040#issuecomment-585637665","issue_url":"https://api.github.com/repos/apache/brpc/issues/1040","id":585637665,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTYzNzY2NQ==","user":{"login":"walterzhaoJR","id":22393698,"node_id":"MDQ6VXNlcjIyMzkzNjk4","avatar_url":"https://avatars.githubusercontent.com/u/22393698?v=4","gravatar_id":"","url":"https://api.github.com/users/walterzhaoJR","html_url":"https://github.com/walterzhaoJR","followers_url":"https://api.github.com/users/walterzhaoJR/followers","following_url":"https://api.github.com/users/walterzhaoJR/following{/other_user}","gists_url":"https://api.github.com/users/walterzhaoJR/gists{/gist_id}","starred_url":"https://api.github.com/users/walterzhaoJR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterzhaoJR/subscriptions","organizations_url":"https://api.github.com/users/walterzhaoJR/orgs","repos_url":"https://api.github.com/users/walterzhaoJR/repos","events_url":"https://api.github.com/users/walterzhaoJR/events{/privacy}","received_events_url":"https://api.github.com/users/walterzhaoJR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T09:40:50Z","updated_at":"2020-02-13T09:40:50Z","author_association":"NONE","body":"ok THX","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/585637665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/586680633","html_url":"https://github.com/apache/brpc/issues/905#issuecomment-586680633","issue_url":"https://api.github.com/repos/apache/brpc/issues/905","id":586680633,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjY4MDYzMw==","user":{"login":"GOGOYAO","id":18675094,"node_id":"MDQ6VXNlcjE4Njc1MDk0","avatar_url":"https://avatars.githubusercontent.com/u/18675094?v=4","gravatar_id":"","url":"https://api.github.com/users/GOGOYAO","html_url":"https://github.com/GOGOYAO","followers_url":"https://api.github.com/users/GOGOYAO/followers","following_url":"https://api.github.com/users/GOGOYAO/following{/other_user}","gists_url":"https://api.github.com/users/GOGOYAO/gists{/gist_id}","starred_url":"https://api.github.com/users/GOGOYAO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GOGOYAO/subscriptions","organizations_url":"https://api.github.com/users/GOGOYAO/orgs","repos_url":"https://api.github.com/users/GOGOYAO/repos","events_url":"https://api.github.com/users/GOGOYAO/events{/privacy}","received_events_url":"https://api.github.com/users/GOGOYAO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-16T08:20:24Z","updated_at":"2020-02-16T08:20:24Z","author_association":"CONTRIBUTOR","body":"> 非常感谢。现在可以了, 使用libbrpc.a链接时把leveldb, gflags, protobuf全部链接动态库就可以了。用静态链接是因为不想每台机器都安装这三个依赖。后面我试了下, libbrpc.a链接leveldb, gflags, protobuf的静态库时, 需要把这三个库的依赖也链接上去, 都链接了也可以成功了。\r\n\r\n求问下处理细节，同遇到连接问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/586680633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/588202975","html_url":"https://github.com/apache/brpc/issues/859#issuecomment-588202975","issue_url":"https://api.github.com/repos/apache/brpc/issues/859","id":588202975,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODIwMjk3NQ==","user":{"login":"niukuo","id":6831097,"node_id":"MDQ6VXNlcjY4MzEwOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6831097?v=4","gravatar_id":"","url":"https://api.github.com/users/niukuo","html_url":"https://github.com/niukuo","followers_url":"https://api.github.com/users/niukuo/followers","following_url":"https://api.github.com/users/niukuo/following{/other_user}","gists_url":"https://api.github.com/users/niukuo/gists{/gist_id}","starred_url":"https://api.github.com/users/niukuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niukuo/subscriptions","organizations_url":"https://api.github.com/users/niukuo/orgs","repos_url":"https://api.github.com/users/niukuo/repos","events_url":"https://api.github.com/users/niukuo/events{/privacy}","received_events_url":"https://api.github.com/users/niukuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T12:33:54Z","updated_at":"2020-02-19T12:33:54Z","author_association":"CONTRIBUTOR","body":"> > 是在进程刚启动时发生的。\r\n> > 这个问题解决了吗\r\n\r\n没有啊 只是概率比较小 jemalloc里面某个缓存池不够了会触发","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/588202975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590151328","html_url":"https://github.com/apache/brpc/issues/1013#issuecomment-590151328","issue_url":"https://api.github.com/repos/apache/brpc/issues/1013","id":590151328,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDE1MTMyOA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T02:51:07Z","updated_at":"2020-02-24T02:51:07Z","author_association":"MEMBER","body":"check remaining issues in https://github.com/apache/incubator-brpc/issues/1045","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590151328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590667032","html_url":"https://github.com/apache/brpc/issues/131#issuecomment-590667032","issue_url":"https://api.github.com/repos/apache/brpc/issues/131","id":590667032,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDY2NzAzMg==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T03:38:40Z","updated_at":"2020-02-25T03:38:40Z","author_association":"NONE","body":"如果channel在程序运行期间没有发生析构，那为何在服务端netstat -a只看到端口有侦听，但没有ESTABLISHED的socket连接呢？\r\n难道默认是短连接吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590667032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590849867","html_url":"https://github.com/apache/brpc/issues/859#issuecomment-590849867","issue_url":"https://api.github.com/repos/apache/brpc/issues/859","id":590849867,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg0OTg2Nw==","user":{"login":"niukuo","id":6831097,"node_id":"MDQ6VXNlcjY4MzEwOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6831097?v=4","gravatar_id":"","url":"https://api.github.com/users/niukuo","html_url":"https://github.com/niukuo","followers_url":"https://api.github.com/users/niukuo/followers","following_url":"https://api.github.com/users/niukuo/following{/other_user}","gists_url":"https://api.github.com/users/niukuo/gists{/gist_id}","starred_url":"https://api.github.com/users/niukuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niukuo/subscriptions","organizations_url":"https://api.github.com/users/niukuo/orgs","repos_url":"https://api.github.com/users/niukuo/repos","events_url":"https://api.github.com/users/niukuo/events{/privacy}","received_events_url":"https://api.github.com/users/niukuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T12:48:17Z","updated_at":"2020-02-25T12:48:17Z","author_association":"CONTRIBUTOR","body":"bthread::submit_contention 中butil::get_object<SampledContention>()在线程第一次调用时会初始化tls，分配内存。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590849867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590851992","html_url":"https://github.com/apache/brpc/issues/859#issuecomment-590851992","issue_url":"https://api.github.com/repos/apache/brpc/issues/859","id":590851992,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg1MTk5Mg==","user":{"login":"niukuo","id":6831097,"node_id":"MDQ6VXNlcjY4MzEwOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6831097?v=4","gravatar_id":"","url":"https://api.github.com/users/niukuo","html_url":"https://github.com/niukuo","followers_url":"https://api.github.com/users/niukuo/followers","following_url":"https://api.github.com/users/niukuo/following{/other_user}","gists_url":"https://api.github.com/users/niukuo/gists{/gist_id}","starred_url":"https://api.github.com/users/niukuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niukuo/subscriptions","organizations_url":"https://api.github.com/users/niukuo/orgs","repos_url":"https://api.github.com/users/niukuo/repos","events_url":"https://api.github.com/users/niukuo/events{/privacy}","received_events_url":"https://api.github.com/users/niukuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T12:53:44Z","updated_at":"2020-02-25T12:53:44Z","author_association":"CONTRIBUTOR","body":"临时解决方式： 设置 bvar_collector_expected_per_second=0","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/590851992/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591266256","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591266256","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591266256,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTI2NjI1Ng==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T06:41:48Z","updated_at":"2020-02-26T06:41:48Z","author_association":"CONTRIBUTOR","body":"补充说明：我在实现 Server 端，且是自定义协议。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591266256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591287893","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591287893","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591287893,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTI4Nzg5Mw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T07:52:14Z","updated_at":"2020-02-26T07:52:14Z","author_association":"MEMBER","body":"redis场景和你的场景是一样的，可以参考下brpc redis的实现。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591287893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591293693","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591293693","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591293693,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTI5MzY5Mw==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T08:08:33Z","updated_at":"2020-02-26T08:08:33Z","author_association":"CONTRIBUTOR","body":"> redis场景和你的场景是一样的，可以参考下brpc redis的实现。\r\n\r\n额，brpc 里没实现 redis server 端的协议吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591293693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591301973","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591301973","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591301973,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTMwMTk3Mw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T08:30:56Z","updated_at":"2020-02-26T08:32:00Z","author_association":"MEMBER","body":"看一下https://github.com/apache/incubator-brpc/blob/master/src/brpc/redis.h#L241 ，如果你的协议足够简单，可以考虑直接用这套接口实现server端逻辑","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591301973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591304252","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591304252","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591304252,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTMwNDI1Mg==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T08:36:47Z","updated_at":"2020-02-26T08:36:47Z","author_association":"CONTRIBUTOR","body":"> 看一下https://github.com/apache/incubator-brpc/blob/master/src/brpc/redis.h#L241 ，如果你的协议足够简单，可以考虑直接用这套接口实现server端逻辑\r\n\r\n哦，我理解了，实际上不再实现 ProcessRequest，而是将相关逻辑放在 ParseMessage 里，谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591304252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591306448","html_url":"https://github.com/apache/brpc/issues/435#issuecomment-591306448","issue_url":"https://api.github.com/repos/apache/brpc/issues/435","id":591306448,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTMwNjQ0OA==","user":{"login":"pklim101","id":4819579,"node_id":"MDQ6VXNlcjQ4MTk1Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4819579?v=4","gravatar_id":"","url":"https://api.github.com/users/pklim101","html_url":"https://github.com/pklim101","followers_url":"https://api.github.com/users/pklim101/followers","following_url":"https://api.github.com/users/pklim101/following{/other_user}","gists_url":"https://api.github.com/users/pklim101/gists{/gist_id}","starred_url":"https://api.github.com/users/pklim101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pklim101/subscriptions","organizations_url":"https://api.github.com/users/pklim101/orgs","repos_url":"https://api.github.com/users/pklim101/repos","events_url":"https://api.github.com/users/pklim101/events{/privacy}","received_events_url":"https://api.github.com/users/pklim101/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T08:42:43Z","updated_at":"2020-02-26T08:42:43Z","author_association":"CONTRIBUTOR","body":"> http方式是支持ParallelChannel的，但是只能支持不同Server发送相同的请求。这是由于http只能使用CallMethod设置request和response为NULL的方式调用，没法在CallMapper和ResponseMerger中对不同的Server构造不同的请求并Merge应答。如果需要向不同的http server发送不同的请求，最简单的方式就是使用半同步的方式来实现ParallelChannel，也可以通过CountDownEvent和bthread_start_backgroud实现，或者是定制CallMethod的Done来实现。\r\n\r\nParallelChannel里response不能设置为NULL。\r\n\"we don't support http whose response is NULL\"","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591306448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591309147","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591309147","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591309147,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTMwOTE0Nw==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T08:49:33Z","updated_at":"2020-02-26T08:49:33Z","author_association":"CONTRIBUTOR","body":"> 看一下https://github.com/apache/incubator-brpc/blob/master/src/brpc/redis.h#L241 ，如果你的协议足够简单，可以考虑直接用这套接口实现server端逻辑\r\n\r\n我的场景会复杂点，我准备在 ParseMessage 里将解析出来的消息放在  ExecuteQueue 里，这样子的话每个连接会有一个 ExecuteQueue，单机可能会将近一百万的连接，请问这样子做可以吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591309147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591336624","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591336624","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591336624,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTMzNjYyNA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T09:49:39Z","updated_at":"2020-02-26T09:49:39Z","author_association":"MEMBER","body":"ExecuteQueue per connection的方案我们测试过，qps上不去。在ParseMessage里，所有的CommandHandler就已经按序被调了，这个可以满足你需求么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591336624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591337108","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591337108","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591337108,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTMzNzEwOA==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T09:50:47Z","updated_at":"2020-02-26T09:50:47Z","author_association":"CONTRIBUTOR","body":"> ExecuteQueue per connection的方案我们测试过，qps上不去。在ParseMessage里，所有的CommandHandler就已经按序被调了，这个可以满足你需求么\r\n\r\n不太行，因为handler里有异步逻辑，DoneClosure 不一定啥时候会被调用","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591337108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591343184","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591343184","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591343184,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTM0MzE4NA==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T10:04:06Z","updated_at":"2020-02-26T10:04:06Z","author_association":"CONTRIBUTOR","body":"> ExecuteQueue per connection的方案我们测试过，qps上不去。在ParseMessage里，所有的CommandHandler就已经按序被调了，这个可以满足你需求么\r\n\r\n想了一种方案，就是在 ParseMessage 时，每个 sock 的 context 维护一个 list，msg 放到 list 里，然后每次消息处理完的 done 里，将 msg pop 出来，放到线程池里，线程池的每个线程都是实际的 handler，请问有相应的 bthread pool 可以用吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591343184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591344180","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591344180","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591344180,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTM0NDE4MA==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T10:06:13Z","updated_at":"2020-02-26T10:06:13Z","author_association":"CONTRIBUTOR","body":"或者直接使用线程池？但是这样的话原本应该是 bthread 原地调用的 handler 需要交给用户线程去处理了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591344180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591392353","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591392353","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591392353,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTM5MjM1Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T12:04:38Z","updated_at":"2020-02-26T12:04:38Z","author_association":"CONTRIBUTOR","body":"@yichenluan 你的需求是一个连接上的请求处理都必须有序，还是说某一批请求有序就行了？这两个问题不太一样","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591392353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591397556","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591397556","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591397556,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTM5NzU1Ng==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T12:18:37Z","updated_at":"2020-02-26T12:18:37Z","author_association":"CONTRIBUTOR","body":"> @yichenluan 你的需求是一个连接上的请求处理都必须有序，还是说某一批请求有序就行了？这两个问题不太一样\r\n\r\n是前者，要求一个连接上的请求必须挨个处理，客户端会预期请求发送的顺序等同于 Server 处理的顺序。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591397556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591750374","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591750374","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591750374,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc1MDM3NA==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T02:44:06Z","updated_at":"2020-02-27T02:44:06Z","author_association":"CONTRIBUTOR","body":"@jamesge 我现在的想法是在 ParseMessage 时，如果没有 in-flight 的消息，原地调用 Process，如果有的话，就把 InputMessageBase* 加到 context 的 list 里，然后在当前正在运行的 handle 的 DoneClosure 里，调用 bthread_start_background 处理 list 里的消息，请问这样会有问题吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591750374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591763229","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591763229","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591763229,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc2MzIyOQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T03:37:04Z","updated_at":"2020-02-27T03:37:04Z","author_association":"MEMBER","body":"如果必须诶个处理，不能有并发的话，可以在ComandHandler执行你的异步调用后调一个some_event.wait(),然后在DoneClosure里调some_event.signal()来做一个同步","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591763229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591764807","html_url":"https://github.com/apache/brpc/issues/1048#issuecomment-591764807","issue_url":"https://api.github.com/repos/apache/brpc/issues/1048","id":591764807,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc2NDgwNw==","user":{"login":"fireboyvt","id":12553316,"node_id":"MDQ6VXNlcjEyNTUzMzE2","avatar_url":"https://avatars.githubusercontent.com/u/12553316?v=4","gravatar_id":"","url":"https://api.github.com/users/fireboyvt","html_url":"https://github.com/fireboyvt","followers_url":"https://api.github.com/users/fireboyvt/followers","following_url":"https://api.github.com/users/fireboyvt/following{/other_user}","gists_url":"https://api.github.com/users/fireboyvt/gists{/gist_id}","starred_url":"https://api.github.com/users/fireboyvt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fireboyvt/subscriptions","organizations_url":"https://api.github.com/users/fireboyvt/orgs","repos_url":"https://api.github.com/users/fireboyvt/repos","events_url":"https://api.github.com/users/fireboyvt/events{/privacy}","received_events_url":"https://api.github.com/users/fireboyvt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T03:44:01Z","updated_at":"2020-02-27T03:44:01Z","author_association":"NONE","body":"replicated","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591764807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591769467","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591769467","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591769467,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc2OTQ2Nw==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T04:07:11Z","updated_at":"2020-02-27T04:07:11Z","author_association":"CONTRIBUTOR","body":"> 如果必须诶个处理，不能有并发的话，可以在ComandHandler执行你的异步调用后调一个some_event.wait(),然后在DoneClosure里调some_event.signal()来做一个同步\r\n\r\n这样子不会阻塞整个 pthread 吗？我理解如果用 pthread 的 cv 的话，整个线程就休眠了吧，这样做的话，会不会所有的线程都阻塞住了，以至于别的连接上的请求都没法处理了，你看下我上面那个方案可行吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591769467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591770754","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591770754","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591770754,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc3MDc1NA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T04:13:14Z","updated_at":"2020-02-27T04:13:14Z","author_association":"MEMBER","body":"> > 如果必须诶个处理，不能有并发的话，可以在ComandHandler执行你的异步调用后调一个some_event.wait(),然后在DoneClosure里调some_event.signal()来做一个同步\r\n> \r\n> 这样子不会阻塞整个 pthread 吗？我理解如果用 pthread 的 cv 的话，整个线程就休眠了吧，这样做的话，会不会所有的线程都阻塞住了，以至于别的连接上的请求都没法处理了，你看下我上面那个方案可行吗\r\n\r\n用bthread层面的cv就可以了，或者看一下bthread/countdown_event.h也能满足需求。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591770754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591771131","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591771131","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591771131,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc3MTEzMQ==","user":{"login":"yichenluan","id":5328290,"node_id":"MDQ6VXNlcjUzMjgyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/5328290?v=4","gravatar_id":"","url":"https://api.github.com/users/yichenluan","html_url":"https://github.com/yichenluan","followers_url":"https://api.github.com/users/yichenluan/followers","following_url":"https://api.github.com/users/yichenluan/following{/other_user}","gists_url":"https://api.github.com/users/yichenluan/gists{/gist_id}","starred_url":"https://api.github.com/users/yichenluan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yichenluan/subscriptions","organizations_url":"https://api.github.com/users/yichenluan/orgs","repos_url":"https://api.github.com/users/yichenluan/repos","events_url":"https://api.github.com/users/yichenluan/events{/privacy}","received_events_url":"https://api.github.com/users/yichenluan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T04:14:54Z","updated_at":"2020-02-27T04:14:54Z","author_association":"CONTRIBUTOR","body":"> > > 如果必须诶个处理，不能有并发的话，可以在ComandHandler执行你的异步调用后调一个some_event.wait(),然后在DoneClosure里调some_event.signal()来做一个同步\r\n> > \r\n> > \r\n> > 这样子不会阻塞整个 pthread 吗？我理解如果用 pthread 的 cv 的话，整个线程就休眠了吧，这样做的话，会不会所有的线程都阻塞住了，以至于别的连接上的请求都没法处理了，你看下我上面那个方案可行吗\r\n> \r\n> 用bthread层面的cv就可以了，或者看一下bthread/countdown_event.h也能满足需求。\r\n\r\n好的，那应该确实可以，bthread_cv 在用户的 pthread 里 notify 也是 OK 的吧？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591771131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591856739","html_url":"https://github.com/apache/brpc/issues/1045#issuecomment-591856739","issue_url":"https://api.github.com/repos/apache/brpc/issues/1045","id":591856739,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTg1NjczOQ==","user":{"login":"WillemJiang","id":219644,"node_id":"MDQ6VXNlcjIxOTY0NA==","avatar_url":"https://avatars.githubusercontent.com/u/219644?v=4","gravatar_id":"","url":"https://api.github.com/users/WillemJiang","html_url":"https://github.com/WillemJiang","followers_url":"https://api.github.com/users/WillemJiang/followers","following_url":"https://api.github.com/users/WillemJiang/following{/other_user}","gists_url":"https://api.github.com/users/WillemJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/WillemJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WillemJiang/subscriptions","organizations_url":"https://api.github.com/users/WillemJiang/orgs","repos_url":"https://api.github.com/users/WillemJiang/repos","events_url":"https://api.github.com/users/WillemJiang/events{/privacy}","received_events_url":"https://api.github.com/users/WillemJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T08:56:21Z","updated_at":"2020-02-27T08:56:21Z","author_association":"MEMBER","body":"If we don't change the frame graph code , we don't need to ship the code in the source release. \r\nWe can provide a script to download the frame graph dependency before build the source.\r\nIn this way we can make sure our source release is follow the Apache release rule.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591856739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591865180","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-591865180","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":591865180,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTg2NTE4MA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T09:16:30Z","updated_at":"2020-02-27T09:16:30Z","author_association":"MEMBER","body":"> > > > 如果必须诶个处理，不能有并发的话，可以在ComandHandler执行你的异步调用后调一个some_event.wait(),然后在DoneClosure里调some_event.signal()来做一个同步\r\n> > > \r\n> > > \r\n> > > 这样子不会阻塞整个 pthread 吗？我理解如果用 pthread 的 cv 的话，整个线程就休眠了吧，这样做的话，会不会所有的线程都阻塞住了，以至于别的连接上的请求都没法处理了，你看下我上面那个方案可行吗\r\n> > \r\n> > \r\n> > 用bthread层面的cv就可以了，或者看一下bthread/countdown_event.h也能满足需求。\r\n> \r\n> 好的，那应该确实可以，bthread_cv 在用户的 pthread 里 notify 也是 OK 的吧？\r\n\r\n是的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591865180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591893524","html_url":"https://github.com/apache/brpc/issues/1045#issuecomment-591893524","issue_url":"https://api.github.com/repos/apache/brpc/issues/1045","id":591893524,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTg5MzUyNA==","user":{"login":"tanzhongyi003","id":20179982,"node_id":"MDQ6VXNlcjIwMTc5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/20179982?v=4","gravatar_id":"","url":"https://api.github.com/users/tanzhongyi003","html_url":"https://github.com/tanzhongyi003","followers_url":"https://api.github.com/users/tanzhongyi003/followers","following_url":"https://api.github.com/users/tanzhongyi003/following{/other_user}","gists_url":"https://api.github.com/users/tanzhongyi003/gists{/gist_id}","starred_url":"https://api.github.com/users/tanzhongyi003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanzhongyi003/subscriptions","organizations_url":"https://api.github.com/users/tanzhongyi003/orgs","repos_url":"https://api.github.com/users/tanzhongyi003/repos","events_url":"https://api.github.com/users/tanzhongyi003/events{/privacy}","received_events_url":"https://api.github.com/users/tanzhongyi003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T10:21:09Z","updated_at":"2020-02-27T10:21:09Z","author_association":"MEMBER","body":"IMO that's a good suggestion, \r\njiashun,  how do you think?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591893524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591917871","html_url":"https://github.com/apache/brpc/issues/1045#issuecomment-591917871","issue_url":"https://api.github.com/repos/apache/brpc/issues/1045","id":591917871,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTkxNzg3MQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T11:17:37Z","updated_at":"2020-02-27T11:17:37Z","author_association":"MEMBER","body":"It's a good advice. We can mention in the doc that only users who need frame graph feature should download and install it. Otherwise just build the source.\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591917871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591947532","html_url":"https://github.com/apache/brpc/issues/1049#issuecomment-591947532","issue_url":"https://api.github.com/repos/apache/brpc/issues/1049","id":591947532,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTk0NzUzMg==","user":{"login":"fireboyvt","id":12553316,"node_id":"MDQ6VXNlcjEyNTUzMzE2","avatar_url":"https://avatars.githubusercontent.com/u/12553316?v=4","gravatar_id":"","url":"https://api.github.com/users/fireboyvt","html_url":"https://github.com/fireboyvt","followers_url":"https://api.github.com/users/fireboyvt/followers","following_url":"https://api.github.com/users/fireboyvt/following{/other_user}","gists_url":"https://api.github.com/users/fireboyvt/gists{/gist_id}","starred_url":"https://api.github.com/users/fireboyvt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fireboyvt/subscriptions","organizations_url":"https://api.github.com/users/fireboyvt/orgs","repos_url":"https://api.github.com/users/fireboyvt/repos","events_url":"https://api.github.com/users/fireboyvt/events{/privacy}","received_events_url":"https://api.github.com/users/fireboyvt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T12:33:56Z","updated_at":"2020-02-27T12:33:56Z","author_association":"NONE","body":"异步请求在相应没返回之前就调用cntl->Failed()导致的，文档中说这种行为未定义","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/591947532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/593882699","html_url":"https://github.com/apache/brpc/pull/1053#issuecomment-593882699","issue_url":"https://api.github.com/repos/apache/brpc/issues/1053","id":593882699,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg4MjY5OQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:39:37Z","updated_at":"2020-03-03T10:39:37Z","author_association":"MEMBER","body":"Thanks for contribution","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/593882699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/595041067","html_url":"https://github.com/apache/brpc/issues/1054#issuecomment-595041067","issue_url":"https://api.github.com/repos/apache/brpc/issues/1054","id":595041067,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTA0MTA2Nw==","user":{"login":"chenlei5662","id":6380665,"node_id":"MDQ6VXNlcjYzODA2NjU=","avatar_url":"https://avatars.githubusercontent.com/u/6380665?v=4","gravatar_id":"","url":"https://api.github.com/users/chenlei5662","html_url":"https://github.com/chenlei5662","followers_url":"https://api.github.com/users/chenlei5662/followers","following_url":"https://api.github.com/users/chenlei5662/following{/other_user}","gists_url":"https://api.github.com/users/chenlei5662/gists{/gist_id}","starred_url":"https://api.github.com/users/chenlei5662/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenlei5662/subscriptions","organizations_url":"https://api.github.com/users/chenlei5662/orgs","repos_url":"https://api.github.com/users/chenlei5662/repos","events_url":"https://api.github.com/users/chenlei5662/events{/privacy}","received_events_url":"https://api.github.com/users/chenlei5662/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T05:49:18Z","updated_at":"2020-03-05T05:49:18Z","author_association":"NONE","body":"网卡问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/595041067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596041841","html_url":"https://github.com/apache/brpc/pull/1058#issuecomment-596041841","issue_url":"https://api.github.com/repos/apache/brpc/issues/1058","id":596041841,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjA0MTg0MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-07T03:37:32Z","updated_at":"2020-03-07T03:37:32Z","author_association":"CONTRIBUTOR","body":"This mod adds a delay for all servers which may not need the profiler, please time the LoadSymbols function for several regularly-sized binaries(100MB~200MB) to see if the delay is acceptable.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596041841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596047323","html_url":"https://github.com/apache/brpc/issues/1057#issuecomment-596047323","issue_url":"https://api.github.com/repos/apache/brpc/issues/1057","id":596047323,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjA0NzMyMw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-07T04:59:19Z","updated_at":"2020-03-07T04:59:19Z","author_association":"MEMBER","body":"看看这个相关issue https://github.com/apache/incubator-brpc/issues/943","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596047323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596179989","html_url":"https://github.com/apache/brpc/issues/1057#issuecomment-596179989","issue_url":"https://api.github.com/repos/apache/brpc/issues/1057","id":596179989,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjE3OTk4OQ==","user":{"login":"wu-hanqing","id":10327590,"node_id":"MDQ6VXNlcjEwMzI3NTkw","avatar_url":"https://avatars.githubusercontent.com/u/10327590?v=4","gravatar_id":"","url":"https://api.github.com/users/wu-hanqing","html_url":"https://github.com/wu-hanqing","followers_url":"https://api.github.com/users/wu-hanqing/followers","following_url":"https://api.github.com/users/wu-hanqing/following{/other_user}","gists_url":"https://api.github.com/users/wu-hanqing/gists{/gist_id}","starred_url":"https://api.github.com/users/wu-hanqing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wu-hanqing/subscriptions","organizations_url":"https://api.github.com/users/wu-hanqing/orgs","repos_url":"https://api.github.com/users/wu-hanqing/repos","events_url":"https://api.github.com/users/wu-hanqing/events{/privacy}","received_events_url":"https://api.github.com/users/wu-hanqing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-08T08:34:50Z","updated_at":"2020-03-08T08:34:50Z","author_association":"NONE","body":"> 看看这个相关issue #943\r\n\r\n我们是没有开启健康检查的，提问的时候忘记说明了。而且从日志中也没有搜到相关的checking/revivid日志。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596179989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596180265","html_url":"https://github.com/apache/brpc/pull/1056#issuecomment-596180265","issue_url":"https://api.github.com/repos/apache/brpc/issues/1056","id":596180265,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjE4MDI2NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-08T08:38:23Z","updated_at":"2020-03-08T08:38:23Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix which is really hard to spot 👍 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596180265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596188288","html_url":"https://github.com/apache/brpc/issues/905#issuecomment-596188288","issue_url":"https://api.github.com/repos/apache/brpc/issues/905","id":596188288,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjE4ODI4OA==","user":{"login":"westeast","id":2304604,"node_id":"MDQ6VXNlcjIzMDQ2MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/2304604?v=4","gravatar_id":"","url":"https://api.github.com/users/westeast","html_url":"https://github.com/westeast","followers_url":"https://api.github.com/users/westeast/followers","following_url":"https://api.github.com/users/westeast/following{/other_user}","gists_url":"https://api.github.com/users/westeast/gists{/gist_id}","starred_url":"https://api.github.com/users/westeast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/westeast/subscriptions","organizations_url":"https://api.github.com/users/westeast/orgs","repos_url":"https://api.github.com/users/westeast/repos","events_url":"https://api.github.com/users/westeast/events{/privacy}","received_events_url":"https://api.github.com/users/westeast/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-08T10:12:33Z","updated_at":"2020-03-08T10:12:33Z","author_association":"NONE","body":"手动编译了levedb目前可以了，之前用apt-get install的库，在编译sample中的httpc++例子时报了\r\n/paddle/incubator-brpc/src/brpc/span.cpp:488: undefined reference to `leveldb::DB::Open(leveldb::Options const&, std::string const&, leveldb::DB**)'\r\n/paddle/incubator-brpc/src/brpc/span.cpp:490: undefined reference to `leveldb::Status::ToString() const'\r\n/paddle/incubator-brpc/src/brpc/span.cpp:497: undefined reference to `leveldb::DB::Open(leveldb::Options const&, std::string const&, leveldb::DB**)'","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/596188288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/597007438","html_url":"https://github.com/apache/brpc/pull/1058#issuecomment-597007438","issue_url":"https://api.github.com/repos/apache/brpc/issues/1058","id":597007438,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzAwNzQzOA==","user":{"login":"lorinlee","id":16054841,"node_id":"MDQ6VXNlcjE2MDU0ODQx","avatar_url":"https://avatars.githubusercontent.com/u/16054841?v=4","gravatar_id":"","url":"https://api.github.com/users/lorinlee","html_url":"https://github.com/lorinlee","followers_url":"https://api.github.com/users/lorinlee/followers","following_url":"https://api.github.com/users/lorinlee/following{/other_user}","gists_url":"https://api.github.com/users/lorinlee/gists{/gist_id}","starred_url":"https://api.github.com/users/lorinlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lorinlee/subscriptions","organizations_url":"https://api.github.com/users/lorinlee/orgs","repos_url":"https://api.github.com/users/lorinlee/repos","events_url":"https://api.github.com/users/lorinlee/events{/privacy}","received_events_url":"https://api.github.com/users/lorinlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T10:15:28Z","updated_at":"2020-03-10T10:15:28Z","author_association":"CONTRIBUTOR","body":"Is it possible to parse the elf file's symbols, instead of using 'nm'? I think it can both load symbols lazily and no need to fork a subprocess. But I'm not sure if there are some problems like platform compatibility or something else.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/597007438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/597987957","html_url":"https://github.com/apache/brpc/issues/1060#issuecomment-597987957","issue_url":"https://api.github.com/repos/apache/brpc/issues/1060","id":597987957,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Nzk4Nzk1Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T03:27:08Z","updated_at":"2020-03-12T03:27:08Z","author_association":"CONTRIBUTOR","body":"请问打开-usercode_in_pthread的原因是？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/597987957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/597991921","html_url":"https://github.com/apache/brpc/issues/1060#issuecomment-597991921","issue_url":"https://api.github.com/repos/apache/brpc/issues/1060","id":597991921,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Nzk5MTkyMQ==","user":{"login":"lucky-you","id":22268878,"node_id":"MDQ6VXNlcjIyMjY4ODc4","avatar_url":"https://avatars.githubusercontent.com/u/22268878?v=4","gravatar_id":"","url":"https://api.github.com/users/lucky-you","html_url":"https://github.com/lucky-you","followers_url":"https://api.github.com/users/lucky-you/followers","following_url":"https://api.github.com/users/lucky-you/following{/other_user}","gists_url":"https://api.github.com/users/lucky-you/gists{/gist_id}","starred_url":"https://api.github.com/users/lucky-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucky-you/subscriptions","organizations_url":"https://api.github.com/users/lucky-you/orgs","repos_url":"https://api.github.com/users/lucky-you/repos","events_url":"https://api.github.com/users/lucky-you/events{/privacy}","received_events_url":"https://api.github.com/users/lucky-you/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T03:46:59Z","updated_at":"2020-03-12T03:46:59Z","author_association":"NONE","body":"> 请问打开-usercode_in_pthread的原因是？\r\n\r\n项目里面默认是打开的，这个我没有改动过，可以关闭吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/597991921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598012153","html_url":"https://github.com/apache/brpc/issues/1060#issuecomment-598012153","issue_url":"https://api.github.com/repos/apache/brpc/issues/1060","id":598012153,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODAxMjE1Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T05:21:37Z","updated_at":"2020-03-12T05:21:37Z","author_association":"CONTRIBUTOR","body":"-usercode_in_pthread只有在需要在整个检索流程中通过pthread local共享数据时才需要。如果无法关闭，可以调大ServerOptions.num_threads增加工作线程的数量，同时尽量避免阻塞，因为这种情况下阻塞就会阻塞整个工作线程。另外，你截图中的错误只是临时拒绝，压力下来了应该就ok了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598012153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598024504","html_url":"https://github.com/apache/brpc/issues/1060#issuecomment-598024504","issue_url":"https://api.github.com/repos/apache/brpc/issues/1060","id":598024504,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODAyNDUwNA==","user":{"login":"lucky-you","id":22268878,"node_id":"MDQ6VXNlcjIyMjY4ODc4","avatar_url":"https://avatars.githubusercontent.com/u/22268878?v=4","gravatar_id":"","url":"https://api.github.com/users/lucky-you","html_url":"https://github.com/lucky-you","followers_url":"https://api.github.com/users/lucky-you/followers","following_url":"https://api.github.com/users/lucky-you/following{/other_user}","gists_url":"https://api.github.com/users/lucky-you/gists{/gist_id}","starred_url":"https://api.github.com/users/lucky-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucky-you/subscriptions","organizations_url":"https://api.github.com/users/lucky-you/orgs","repos_url":"https://api.github.com/users/lucky-you/repos","events_url":"https://api.github.com/users/lucky-you/events{/privacy}","received_events_url":"https://api.github.com/users/lucky-you/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T06:14:41Z","updated_at":"2020-03-12T06:14:41Z","author_association":"NONE","body":"我也想通过调节server 的数量来增加工作线程数量，可我不是很清楚应该在哪里修改 ServerOptions.num_threads 的数量，请问一下如何修改ServerOptions.num_threads 的数量呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598024504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598784866","html_url":"https://github.com/apache/brpc/issues/1061#issuecomment-598784866","issue_url":"https://api.github.com/repos/apache/brpc/issues/1061","id":598784866,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODc4NDg2Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T15:39:55Z","updated_at":"2020-03-13T15:39:55Z","author_association":"CONTRIBUTOR","body":"Thanks for pointing out the issue, fixed in master","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598784866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598998313","html_url":"https://github.com/apache/brpc/pull/1062#issuecomment-598998313","issue_url":"https://api.github.com/repos/apache/brpc/issues/1062","id":598998313,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk5ODMxMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-14T02:18:27Z","updated_at":"2020-03-14T02:18:27Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR. The fix is already done in https://github.com/apache/incubator-brpc/commit/e3840c18cdd9e1ff81f8280b96ac14869007a122 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/598998313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599183601","html_url":"https://github.com/apache/brpc/issues/1063#issuecomment-599183601","issue_url":"https://api.github.com/repos/apache/brpc/issues/1063","id":599183601,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTE4MzYwMQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-15T08:51:25Z","updated_at":"2020-03-15T08:51:25Z","author_association":"CONTRIBUTOR","body":"Sorry, no such options.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599183601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599294088","html_url":"https://github.com/apache/brpc/issues/1063#issuecomment-599294088","issue_url":"https://api.github.com/repos/apache/brpc/issues/1063","id":599294088,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTI5NDA4OA==","user":{"login":"GOGOYAO","id":18675094,"node_id":"MDQ6VXNlcjE4Njc1MDk0","avatar_url":"https://avatars.githubusercontent.com/u/18675094?v=4","gravatar_id":"","url":"https://api.github.com/users/GOGOYAO","html_url":"https://github.com/GOGOYAO","followers_url":"https://api.github.com/users/GOGOYAO/followers","following_url":"https://api.github.com/users/GOGOYAO/following{/other_user}","gists_url":"https://api.github.com/users/GOGOYAO/gists{/gist_id}","starred_url":"https://api.github.com/users/GOGOYAO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GOGOYAO/subscriptions","organizations_url":"https://api.github.com/users/GOGOYAO/orgs","repos_url":"https://api.github.com/users/GOGOYAO/repos","events_url":"https://api.github.com/users/GOGOYAO/events{/privacy}","received_events_url":"https://api.github.com/users/GOGOYAO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T01:06:40Z","updated_at":"2020-03-16T01:06:40Z","author_association":"CONTRIBUTOR","body":"Will you add __FUNCTION__ into the log function?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599294088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599603385","html_url":"https://github.com/apache/brpc/issues/1064#issuecomment-599603385","issue_url":"https://api.github.com/repos/apache/brpc/issues/1064","id":599603385,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTYwMzM4NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T15:35:21Z","updated_at":"2020-03-16T15:35:21Z","author_association":"CONTRIBUTOR","body":"可能服务瞬间并发度比较高，看看此时的监控是否有一些突增","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599603385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599868278","html_url":"https://github.com/apache/brpc/issues/820#issuecomment-599868278","issue_url":"https://api.github.com/repos/apache/brpc/issues/820","id":599868278,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTg2ODI3OA==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T04:11:52Z","updated_at":"2020-03-17T04:11:52Z","author_association":"NONE","body":"这个问题很常见，确实是个大问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599868278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599930059","html_url":"https://github.com/apache/brpc/issues/542#issuecomment-599930059","issue_url":"https://api.github.com/repos/apache/brpc/issues/542","id":599930059,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTkzMDA1OQ==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T08:01:05Z","updated_at":"2020-03-17T08:01:05Z","author_association":"NONE","body":"同问！~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599930059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599999807","html_url":"https://github.com/apache/brpc/issues/1064#issuecomment-599999807","issue_url":"https://api.github.com/repos/apache/brpc/issues/1064","id":599999807,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTk5OTgwNw==","user":{"login":"steel2013","id":53460946,"node_id":"MDQ6VXNlcjUzNDYwOTQ2","avatar_url":"https://avatars.githubusercontent.com/u/53460946?v=4","gravatar_id":"","url":"https://api.github.com/users/steel2013","html_url":"https://github.com/steel2013","followers_url":"https://api.github.com/users/steel2013/followers","following_url":"https://api.github.com/users/steel2013/following{/other_user}","gists_url":"https://api.github.com/users/steel2013/gists{/gist_id}","starred_url":"https://api.github.com/users/steel2013/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steel2013/subscriptions","organizations_url":"https://api.github.com/users/steel2013/orgs","repos_url":"https://api.github.com/users/steel2013/repos","events_url":"https://api.github.com/users/steel2013/events{/privacy}","received_events_url":"https://api.github.com/users/steel2013/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T10:40:34Z","updated_at":"2020-03-17T10:40:34Z","author_association":"NONE","body":"> 可能服务瞬间并发度比较高，看看此时的监控是否有一些突增\r\n\r\n具体如何排查和避免这种情况？比如查看具体时间消耗在框架的哪里？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/599999807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600068724","html_url":"https://github.com/apache/brpc/issues/1047#issuecomment-600068724","issue_url":"https://api.github.com/repos/apache/brpc/issues/1047","id":600068724,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDA2ODcyNA==","user":{"login":"zhijunfu","id":37800433,"node_id":"MDQ6VXNlcjM3ODAwNDMz","avatar_url":"https://avatars.githubusercontent.com/u/37800433?v=4","gravatar_id":"","url":"https://api.github.com/users/zhijunfu","html_url":"https://github.com/zhijunfu","followers_url":"https://api.github.com/users/zhijunfu/followers","following_url":"https://api.github.com/users/zhijunfu/following{/other_user}","gists_url":"https://api.github.com/users/zhijunfu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhijunfu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhijunfu/subscriptions","organizations_url":"https://api.github.com/users/zhijunfu/orgs","repos_url":"https://api.github.com/users/zhijunfu/repos","events_url":"https://api.github.com/users/zhijunfu/events{/privacy}","received_events_url":"https://api.github.com/users/zhijunfu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T13:24:08Z","updated_at":"2020-03-17T13:24:08Z","author_association":"NONE","body":"一个连接上的请求处理都必须有序的话应该可以基于brpc stream封装下，如果不需要其他brpc的功能比如timeout，load balance这些的话，吞吐很不错的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600068724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600380192","html_url":"https://github.com/apache/brpc/issues/1064#issuecomment-600380192","issue_url":"https://api.github.com/repos/apache/brpc/issues/1064","id":600380192,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM4MDE5Mg==","user":{"login":"steel2013","id":53460946,"node_id":"MDQ6VXNlcjUzNDYwOTQ2","avatar_url":"https://avatars.githubusercontent.com/u/53460946?v=4","gravatar_id":"","url":"https://api.github.com/users/steel2013","html_url":"https://github.com/steel2013","followers_url":"https://api.github.com/users/steel2013/followers","following_url":"https://api.github.com/users/steel2013/following{/other_user}","gists_url":"https://api.github.com/users/steel2013/gists{/gist_id}","starred_url":"https://api.github.com/users/steel2013/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steel2013/subscriptions","organizations_url":"https://api.github.com/users/steel2013/orgs","repos_url":"https://api.github.com/users/steel2013/repos","events_url":"https://api.github.com/users/steel2013/events{/privacy}","received_events_url":"https://api.github.com/users/steel2013/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T01:36:09Z","updated_at":"2020-03-18T01:36:09Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/53460946/76916510-912dcf80-68fb-11ea-9e90-3c1076b30ef9.png)\r\n当出现响应卡顿时，会发现断开连接时，brpc端没有发送FIN包","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600380192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600412514","html_url":"https://github.com/apache/brpc/issues/1064#issuecomment-600412514","issue_url":"https://api.github.com/repos/apache/brpc/issues/1064","id":600412514,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQxMjUxNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T03:58:52Z","updated_at":"2020-03-18T03:58:52Z","author_association":"CONTRIBUTOR","body":"@steel2013 https://github.com/apache/incubator-brpc/blob/master/docs/cn/server_debugging.md\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600412514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600469651","html_url":"https://github.com/apache/brpc/issues/945#issuecomment-600469651","issue_url":"https://api.github.com/repos/apache/brpc/issues/945","id":600469651,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQ2OTY1MQ==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T07:38:36Z","updated_at":"2020-03-18T07:38:36Z","author_association":"NONE","body":"咋没人答复呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600469651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600488441","html_url":"https://github.com/apache/brpc/issues/1065#issuecomment-600488441","issue_url":"https://api.github.com/repos/apache/brpc/issues/1065","id":600488441,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQ4ODQ0MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T08:27:34Z","updated_at":"2020-03-18T08:29:02Z","author_association":"CONTRIBUTOR","body":"是的。如果一下子发太多也会报这个错，对应的参数在https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket.cpp#L82","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600488441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600513298","html_url":"https://github.com/apache/brpc/issues/1067#issuecomment-600513298","issue_url":"https://api.github.com/repos/apache/brpc/issues/1067","id":600513298,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDUxMzI5OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T09:25:43Z","updated_at":"2020-03-18T09:25:43Z","author_association":"CONTRIBUTOR","body":"这是在fork产生的进程中么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600513298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600568080","html_url":"https://github.com/apache/brpc/issues/1067#issuecomment-600568080","issue_url":"https://api.github.com/repos/apache/brpc/issues/1067","id":600568080,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDU2ODA4MA==","user":{"login":"ryankeke","id":6779109,"node_id":"MDQ6VXNlcjY3NzkxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/6779109?v=4","gravatar_id":"","url":"https://api.github.com/users/ryankeke","html_url":"https://github.com/ryankeke","followers_url":"https://api.github.com/users/ryankeke/followers","following_url":"https://api.github.com/users/ryankeke/following{/other_user}","gists_url":"https://api.github.com/users/ryankeke/gists{/gist_id}","starred_url":"https://api.github.com/users/ryankeke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryankeke/subscriptions","organizations_url":"https://api.github.com/users/ryankeke/orgs","repos_url":"https://api.github.com/users/ryankeke/repos","events_url":"https://api.github.com/users/ryankeke/events{/privacy}","received_events_url":"https://api.github.com/users/ryankeke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T11:24:19Z","updated_at":"2020-03-18T11:24:19Z","author_association":"NONE","body":"> 这是在fork产生的进程中么？\r\n\r\n不是的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600568080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600581177","html_url":"https://github.com/apache/brpc/issues/1067#issuecomment-600581177","issue_url":"https://api.github.com/repos/apache/brpc/issues/1067","id":600581177,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDU4MTE3Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T11:57:38Z","updated_at":"2020-03-18T11:57:38Z","author_association":"CONTRIBUTOR","body":"> > 这是在fork产生的进程中么？\r\n> \r\n> 不是的\r\n\r\n这个可能是采样的线程没起来，和fork关系比较密切。一个方法是你们把brpc版本替换为master最新版，看看能否复现问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600581177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600684465","html_url":"https://github.com/apache/brpc/issues/1067#issuecomment-600684465","issue_url":"https://api.github.com/repos/apache/brpc/issues/1067","id":600684465,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDY4NDQ2NQ==","user":{"login":"ryankeke","id":6779109,"node_id":"MDQ6VXNlcjY3NzkxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/6779109?v=4","gravatar_id":"","url":"https://api.github.com/users/ryankeke","html_url":"https://github.com/ryankeke","followers_url":"https://api.github.com/users/ryankeke/followers","following_url":"https://api.github.com/users/ryankeke/following{/other_user}","gists_url":"https://api.github.com/users/ryankeke/gists{/gist_id}","starred_url":"https://api.github.com/users/ryankeke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryankeke/subscriptions","organizations_url":"https://api.github.com/users/ryankeke/orgs","repos_url":"https://api.github.com/users/ryankeke/repos","events_url":"https://api.github.com/users/ryankeke/events{/privacy}","received_events_url":"https://api.github.com/users/ryankeke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T15:20:35Z","updated_at":"2020-03-18T15:20:35Z","author_association":"NONE","body":"能说下为什么采用线程没起来可能会引起这个问题？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600684465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600950414","html_url":"https://github.com/apache/brpc/issues/1067#issuecomment-600950414","issue_url":"https://api.github.com/repos/apache/brpc/issues/1067","id":600950414,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDk1MDQxNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T02:14:00Z","updated_at":"2020-03-19T06:57:47Z","author_association":"CONTRIBUTOR","body":"percentile需要被定期reset，这个reset是在采样线程里做的。如果在fork出来的进程中运行brpc代码，老版本可能不会创建这个线程，所以才建议用master试试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600950414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600977136","html_url":"https://github.com/apache/brpc/issues/1066#issuecomment-600977136","issue_url":"https://api.github.com/repos/apache/brpc/issues/1066","id":600977136,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDk3NzEzNg==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T04:04:08Z","updated_at":"2020-03-19T04:05:01Z","author_association":"MEMBER","body":"原因：在fork中会调之前由pthread_atfork注册的fork_handler，如果在fork_handler还调了pthread_atfork，由于glibc2.28之后的fork会和pthread_atfork抢一把锁，于是发生死锁。\r\nFIX：https://github.com/apache/incubator-brpc/commit/2f8fc37d52c2a02ee6f348aaa52c7ded4a4844c3","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/600977136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601134669","html_url":"https://github.com/apache/brpc/issues/820#issuecomment-601134669","issue_url":"https://api.github.com/repos/apache/brpc/issues/820","id":601134669,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTEzNDY2OQ==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T11:45:48Z","updated_at":"2020-03-19T11:45:48Z","author_association":"NONE","body":"> 最简单的解决办法是把 Disable() 和 Disabled()的实现改成 _base_weight = -1, 以及 _base_weight == -1就好了。\r\n\r\n这个为啥没有改到主干代码中去呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601134669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601150122","html_url":"https://github.com/apache/brpc/pull/821#issuecomment-601150122","issue_url":"https://api.github.com/repos/apache/brpc/issues/821","id":601150122,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTE1MDEyMg==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T12:26:45Z","updated_at":"2020-03-19T12:26:45Z","author_association":"NONE","body":"> @gtarcoder 可以加一下修改背景或者设计方案。\r\n请参见这里：\r\nhttps://github.com/apache/incubator-brpc/issues/820","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601150122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601205634","html_url":"https://github.com/apache/brpc/issues/1067#issuecomment-601205634","issue_url":"https://api.github.com/repos/apache/brpc/issues/1067","id":601205634,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTIwNTYzNA==","user":{"login":"ryankeke","id":6779109,"node_id":"MDQ6VXNlcjY3NzkxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/6779109?v=4","gravatar_id":"","url":"https://api.github.com/users/ryankeke","html_url":"https://github.com/ryankeke","followers_url":"https://api.github.com/users/ryankeke/followers","following_url":"https://api.github.com/users/ryankeke/following{/other_user}","gists_url":"https://api.github.com/users/ryankeke/gists{/gist_id}","starred_url":"https://api.github.com/users/ryankeke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryankeke/subscriptions","organizations_url":"https://api.github.com/users/ryankeke/orgs","repos_url":"https://api.github.com/users/ryankeke/repos","events_url":"https://api.github.com/users/ryankeke/events{/privacy}","received_events_url":"https://api.github.com/users/ryankeke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T14:20:25Z","updated_at":"2020-03-19T14:20:25Z","author_association":"NONE","body":"谢谢！我试下。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601205634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601568410","html_url":"https://github.com/apache/brpc/issues/820#issuecomment-601568410","issue_url":"https://api.github.com/repos/apache/brpc/issues/820","id":601568410,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTU2ODQxMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T07:32:52Z","updated_at":"2020-03-20T07:32:52Z","author_association":"CONTRIBUTOR","body":"@beyond-wyc https://github.com/apache/incubator-brpc/commit/6e39f0398dc7a308c08330ecf4348aa5c8614f46","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601568410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601627291","html_url":"https://github.com/apache/brpc/issues/820#issuecomment-601627291","issue_url":"https://api.github.com/repos/apache/brpc/issues/820","id":601627291,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTYyNzI5MQ==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T10:24:07Z","updated_at":"2020-03-20T10:24:07Z","author_association":"NONE","body":"> @beyond-wyc [6e39f03](https://github.com/apache/incubator-brpc/commit/6e39f0398dc7a308c08330ecf4348aa5c8614f46)\r\n\r\n我已经用了这个版本，但是问题依旧~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601627291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601994984","html_url":"https://github.com/apache/brpc/issues/1068#issuecomment-601994984","issue_url":"https://api.github.com/repos/apache/brpc/issues/1068","id":601994984,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk5NDk4NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T04:56:21Z","updated_at":"2020-03-21T04:56:21Z","author_association":"CONTRIBUTOR","body":"如果偶尔的话是可能的，测量latency的是wall-time，可能回退","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601994984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601995013","html_url":"https://github.com/apache/brpc/issues/1069#issuecomment-601995013","issue_url":"https://api.github.com/repos/apache/brpc/issues/1069","id":601995013,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk5NTAxMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T04:56:48Z","updated_at":"2020-03-21T04:56:48Z","author_association":"CONTRIBUTOR","body":"选项`-reuse_addr`没有设置为false吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/601995013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/602002043","html_url":"https://github.com/apache/brpc/issues/1069#issuecomment-602002043","issue_url":"https://api.github.com/repos/apache/brpc/issues/1069","id":602002043,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjAwMjA0Mw==","user":{"login":"GOGOYAO","id":18675094,"node_id":"MDQ6VXNlcjE4Njc1MDk0","avatar_url":"https://avatars.githubusercontent.com/u/18675094?v=4","gravatar_id":"","url":"https://api.github.com/users/GOGOYAO","html_url":"https://github.com/GOGOYAO","followers_url":"https://api.github.com/users/GOGOYAO/followers","following_url":"https://api.github.com/users/GOGOYAO/following{/other_user}","gists_url":"https://api.github.com/users/GOGOYAO/gists{/gist_id}","starred_url":"https://api.github.com/users/GOGOYAO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GOGOYAO/subscriptions","organizations_url":"https://api.github.com/users/GOGOYAO/orgs","repos_url":"https://api.github.com/users/GOGOYAO/repos","events_url":"https://api.github.com/users/GOGOYAO/events{/privacy}","received_events_url":"https://api.github.com/users/GOGOYAO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T06:20:15Z","updated_at":"2020-03-21T06:20:15Z","author_association":"CONTRIBUTOR","body":"> 选项`-reuse_addr`没有设置为false吧\r\n\r\n对的。都是用的默认的选项。这里reuse_addr和reuse_port推荐是怎么设置呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/602002043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]