[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650744765","html_url":"https://github.com/apache/pulsar/pull/7357#issuecomment-650744765","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7357","id":650744765,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc0NDc2NQ==","user":{"login":"zhanghaou","id":5668441,"node_id":"MDQ6VXNlcjU2Njg0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/5668441?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghaou","html_url":"https://github.com/zhanghaou","followers_url":"https://api.github.com/users/zhanghaou/followers","following_url":"https://api.github.com/users/zhanghaou/following{/other_user}","gists_url":"https://api.github.com/users/zhanghaou/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghaou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghaou/subscriptions","organizations_url":"https://api.github.com/users/zhanghaou/orgs","repos_url":"https://api.github.com/users/zhanghaou/repos","events_url":"https://api.github.com/users/zhanghaou/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghaou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T12:20:50Z","updated_at":"2020-06-28T12:20:50Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650744765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650750158","html_url":"https://github.com/apache/pulsar/pull/7371#issuecomment-650750158","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7371","id":650750158,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc1MDE1OA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T12:51:36Z","updated_at":"2020-06-28T12:51:36Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650750158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650770263","html_url":"https://github.com/apache/pulsar/pull/7381#issuecomment-650770263","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7381","id":650770263,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc3MDI2Mw==","user":{"login":"aloyszhang","id":48062889,"node_id":"MDQ6VXNlcjQ4MDYyODg5","avatar_url":"https://avatars.githubusercontent.com/u/48062889?v=4","gravatar_id":"","url":"https://api.github.com/users/aloyszhang","html_url":"https://github.com/aloyszhang","followers_url":"https://api.github.com/users/aloyszhang/followers","following_url":"https://api.github.com/users/aloyszhang/following{/other_user}","gists_url":"https://api.github.com/users/aloyszhang/gists{/gist_id}","starred_url":"https://api.github.com/users/aloyszhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloyszhang/subscriptions","organizations_url":"https://api.github.com/users/aloyszhang/orgs","repos_url":"https://api.github.com/users/aloyszhang/repos","events_url":"https://api.github.com/users/aloyszhang/events{/privacy}","received_events_url":"https://api.github.com/users/aloyszhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T14:34:34Z","updated_at":"2020-06-28T14:34:34Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650770263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650779458","html_url":"https://github.com/apache/pulsar/pull/7357#issuecomment-650779458","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7357","id":650779458,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc3OTQ1OA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T15:22:03Z","updated_at":"2020-06-28T15:22:03Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650779458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650779563","html_url":"https://github.com/apache/pulsar/pull/7369#issuecomment-650779563","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7369","id":650779563,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc3OTU2Mw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T15:22:30Z","updated_at":"2020-06-28T15:22:30Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650779563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650780331","html_url":"https://github.com/apache/pulsar/pull/7279#issuecomment-650780331","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7279","id":650780331,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc4MDMzMQ==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T15:26:53Z","updated_at":"2020-06-28T15:26:53Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650780331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650788799","html_url":"https://github.com/apache/pulsar/pull/7371#issuecomment-650788799","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7371","id":650788799,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc4ODc5OQ==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T16:22:56Z","updated_at":"2020-06-28T16:22:56Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650788799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650792408","html_url":"https://github.com/apache/pulsar/pull/7285#issuecomment-650792408","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7285","id":650792408,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc5MjQwOA==","user":{"login":"sundar-10","id":24433616,"node_id":"MDQ6VXNlcjI0NDMzNjE2","avatar_url":"https://avatars.githubusercontent.com/u/24433616?v=4","gravatar_id":"","url":"https://api.github.com/users/sundar-10","html_url":"https://github.com/sundar-10","followers_url":"https://api.github.com/users/sundar-10/followers","following_url":"https://api.github.com/users/sundar-10/following{/other_user}","gists_url":"https://api.github.com/users/sundar-10/gists{/gist_id}","starred_url":"https://api.github.com/users/sundar-10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sundar-10/subscriptions","organizations_url":"https://api.github.com/users/sundar-10/orgs","repos_url":"https://api.github.com/users/sundar-10/repos","events_url":"https://api.github.com/users/sundar-10/events{/privacy}","received_events_url":"https://api.github.com/users/sundar-10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T16:49:26Z","updated_at":"2020-06-28T16:49:26Z","author_association":"NONE","body":"@jiazhai Yeah I am using Intellij idea. I tried what you suggested, I am not able to make it work. Would it be possible to get more detailed steps on resolving this issue? I have sent a private message to you in slack regarding the same. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650792408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650858659","html_url":"https://github.com/apache/pulsar/issues/7367#issuecomment-650858659","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7367","id":650858659,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg1ODY1OQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T01:42:18Z","updated_at":"2020-06-29T01:42:18Z","author_association":"MEMBER","body":"@Esakkimuthu991 -  Can you describe more about your issue? I have no idea about the `application.yaml` here and how do you load the values from application.yaml.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650858659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650859169","html_url":"https://github.com/apache/pulsar/issues/7368#issuecomment-650859169","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7368","id":650859169,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg1OTE2OQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T01:45:04Z","updated_at":"2020-06-29T01:45:04Z","author_association":"MEMBER","body":"@WillyWill415 it is unclear to me what do you need us to do for this issue. I am closing it now. Please reopen one if you have a more specific ask.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650859169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650859359","html_url":"https://github.com/apache/pulsar/issues/6625#issuecomment-650859359","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6625","id":650859359,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg1OTM1OQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T01:45:58Z","updated_at":"2020-06-29T01:45:58Z","author_association":"MEMBER","body":"Closed this issue since the issue has been fixed by #7119 in 2.6.0\r\n\r\n@vzhikserg yeah if you can port the same change to the previous versions, that would be great!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650859359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650860281","html_url":"https://github.com/apache/pulsar/issues/7372#issuecomment-650860281","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7372","id":650860281,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2MDI4MQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T01:50:54Z","updated_at":"2020-06-29T01:50:54Z","author_association":"MEMBER","body":"@ErikJansenIRefact \r\n\r\nBy default, Pulsar doesn't configure any retention and `brokerDeleteInactiveTopicsEnabled` is enabled by default. So if a topic doesn't have any subscriptions and doesn't configure any retention period, the topic will be garbage collected by Pulsar broker due to its inactivity.  The behavior has been documented in https://pulsar.apache.org/docs/en/2.6.0/admin-api-partitioned-topics/#create.\r\n\r\nYou can check the following settings:\r\n\r\n```\r\n# Enable the deletion of inactive topics\r\nbrokerDeleteInactiveTopicsEnabled=true\r\n\r\n# How often to check for inactive topics\r\nbrokerDeleteInactiveTopicsFrequencySeconds=60\r\n\r\n# Set the inactive topic delete mode. Default is delete_when_no_subscriptions\r\n# 'delete_when_no_subscriptions' mode only delete the topic which has no subscriptions and no active producers\r\n# 'delete_when_subscriptions_caught_up' mode only delete the topic that all subscriptions has no backlogs(caught up)\r\n# and no active producers/consumers\r\nbrokerDeleteInactiveTopicsMode=delete_when_no_subscriptions\r\n\r\n# Max duration of topic inactivity in seconds, default is not present\r\n# If not present, 'brokerDeleteInactiveTopicsFrequencySeconds' will be used\r\n# Topics that are inactive for longer than this value will be deleted\r\nbrokerDeleteInactiveTopicsMaxInactiveDurationSeconds=\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650860281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650861316","html_url":"https://github.com/apache/pulsar/issues/7375#issuecomment-650861316","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7375","id":650861316,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2MTMxNg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T01:56:12Z","updated_at":"2020-06-29T01:56:12Z","author_association":"MEMBER","body":"@ElationAndElation \r\n\r\nYou can use `Context.newOutputMessage()` to specify the topic (partition) to produce messages to. Does it meet your requirements?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650861316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650861878","html_url":"https://github.com/apache/pulsar/issues/7376#issuecomment-650861878","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7376","id":650861878,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2MTg3OA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T01:59:04Z","updated_at":"2020-06-29T01:59:04Z","author_association":"MEMBER","body":"@THX1188 the logging is coming from function worker. To debug this issue, you can first disable function worker `bin/pulsar standalone -nfw` to see if you can run pulsar first.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650861878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650863114","html_url":"https://github.com/apache/pulsar/issues/7379#issuecomment-650863114","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7379","id":650863114,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2MzExNA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:04:44Z","updated_at":"2020-06-29T02:04:44Z","author_association":"MEMBER","body":"@wolfstudy I think that is expected. If Function Worker is running as part of broker, Function Worker will use the security settings from the broker. We should probably update the security-related documentation for Function Worker.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650863114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650865388","html_url":"https://github.com/apache/pulsar/issues/7379#issuecomment-650865388","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7379","id":650865388,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2NTM4OA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:15:41Z","updated_at":"2020-06-29T02:15:41Z","author_association":"MEMBER","body":"@wolfstudy The behavior is correct but there are a few places that we can improve. \r\n\r\nIn function worker, we need to separate client TLS settings from server TLS settings. #6602 already did that. \r\nBut we need to rename the following settings to make those broker client TLS settings clearer.\r\n\r\n```\r\n# the authentication plugin to be used by the pulsar client used in worker service\r\n# clientAuthenticationPlugin:\r\n# the authentication parameter to be used by the pulsar client used in worker service\r\n# clientAuthenticationParameters:\r\n# Accept untrusted TLS certificate from client \r\ntlsAllowInsecureConnection: false\r\n```\r\n\r\nAdd a setting for `tlsEnableHostnameVerification`.\r\n\r\nAfter that, we need to enhance the logic in the broker to set the TLS settings to inherit from broker.conf for both client and server components.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650865388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650865658","html_url":"https://github.com/apache/pulsar/issues/7382#issuecomment-650865658","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7382","id":650865658,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2NTY1OA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:17:01Z","updated_at":"2020-06-29T02:17:01Z","author_association":"MEMBER","body":"@yingziyu007 Are you using Pulsar proxy? If so, can you check the log of Pulsar proxy to see if there are any error messages?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650865658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650867744","html_url":"https://github.com/apache/pulsar/pull/7341#issuecomment-650867744","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7341","id":650867744,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2Nzc0NA==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:26:47Z","updated_at":"2020-06-29T02:26:47Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650867744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650869937","html_url":"https://github.com/apache/pulsar/issues/6923#issuecomment-650869937","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6923","id":650869937,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2OTkzNw==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:36:34Z","updated_at":"2020-06-29T02:36:34Z","author_association":"CONTRIBUTOR","body":"@codelipenghui any progress about this? thanks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650869937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650870798","html_url":"https://github.com/apache/pulsar/issues/7382#issuecomment-650870798","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7382","id":650870798,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg3MDc5OA==","user":{"login":"yingziyu007","id":54094772,"node_id":"MDQ6VXNlcjU0MDk0Nzcy","avatar_url":"https://avatars.githubusercontent.com/u/54094772?v=4","gravatar_id":"","url":"https://api.github.com/users/yingziyu007","html_url":"https://github.com/yingziyu007","followers_url":"https://api.github.com/users/yingziyu007/followers","following_url":"https://api.github.com/users/yingziyu007/following{/other_user}","gists_url":"https://api.github.com/users/yingziyu007/gists{/gist_id}","starred_url":"https://api.github.com/users/yingziyu007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yingziyu007/subscriptions","organizations_url":"https://api.github.com/users/yingziyu007/orgs","repos_url":"https://api.github.com/users/yingziyu007/repos","events_url":"https://api.github.com/users/yingziyu007/events{/privacy}","received_events_url":"https://api.github.com/users/yingziyu007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:40:22Z","updated_at":"2020-07-02T07:37:05Z","author_association":"NONE","body":"> \r\n> \r\n> @yingziyu007 Are you using Pulsar proxy? If so, can you check the log of Pulsar proxy to see if there are any error messages?\r\nThere is no error messages. And deploying pulsar-admin by \"apache-pulsar-2.3.2\\deployment\\kubernetes\\generic\\admin.yaml\".\r\n\r\n```\r\n09:33:10.147 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:56840] New connection opened\r\n09:33:10.148 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:56840] complete connection, init proxy handler. authenticated with none role null, hasProxyToBrokerUrl: false\r\n09:33:10.149 [pulsar-discovery-io-2-1] WARN  org.apache.pulsar.client.impl.ConnectionPool - Failed to open connection to 172.20.62.17:6650 : io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /172.20.62.17:6650\r\n09:33:10.150 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.client.impl.PulsarClientImpl - Client closing. URL: pulsar://proxy-ff85bffd-f2cxw:6650/\r\n09:33:10.150 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.proxy.server.ProxyConnectionPool - Closing ProxyConnectionPool.\r\n09:33:10.150 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:56840] Connection closed\r\n09:33:20.733 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:57036] New connection opened\r\n09:33:20.734 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:57036] complete connection, init proxy handler. authenticated with none role null, hasProxyToBrokerUrl: false\r\n09:33:20.735 [pulsar-discovery-io-2-1] INFO  org.apache.pulsar.client.impl.ConnectionPool - [[id: 0x520d4a52, L:/172.20.84.61:36928 - R:172.20.84.11/172.20.84.11:6650]] Connected to server\r\n09:38:48.132 [JettyHttpClient@7a904f32-scheduler] INFO  org.eclipse.jetty.server.RequestLog - 172.20.31.209 - - [28/Jun/2020:09:38:33 +0000] \"GET /admin/v2/persistent/public/default HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 15003\r\n10:08:12.074 [main-SendThread(zookeeper:2181)] INFO  org.apache.zookeeper.ClientCnxn - Unable to read additional data from server sessionid 0x103dafadeb30009, likely server has closed socket, closing socket connection and attempting reconnect\r\n10:08:12.175 [main-EventThread] WARN  org.apache.pulsar.zookeeper.ZookeeperClientFactoryImpl - Unexpected ZK event received: WatchedEvent state:Disconnected type:None path:null\r\n10:08:13.569 [main-SendThread(zookeeper:2181)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server zookeeper/172.20.84.78:2181. Will not attempt to authenticate using SASL (unknown error)\r\n10:08:13.570 [main-SendThread(zookeeper:2181)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established to zookeeper/172.20.84.78:2181, initiating session\r\n10:08:13.571 [main-SendThread(zookeeper:2181)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server zookeeper/172.20.84.78:2181, sessionid = 0x103dafadeb30009, negotiated timeout = 30000\r\n00:21:39.984 [pulsar-external-web-4-7] INFO  org.eclipse.jetty.server.RequestLog - 172.20.31.209 - - [29/Jun/2020:00:21:39 +0000] \"GET /admin/v2/persistent/public/default/createUser/subscription/ssdc-datasycn/position/1 HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 4\r\n00:21:57.603 [pulsar-external-web-4-7] INFO  org.eclipse.jetty.server.RequestLog - 172.20.31.209 - - [29/Jun/2020:00:21:57 +0000] \"GET /admin/v2/persistent/public/default/createUser/internalStats HTTP/1.1\" 200 16978 \"-\" \"Pulsar-Java-v2.4.0\" 24\r\n00:22:53.889 [JettyHttpClient@7a904f32-scheduler] INFO  org.eclipse.jetty.server.RequestLog - 172.20.31.209 - - [29/Jun/2020:00:22:38 +0000] \"GET /admin/v2/persistent/public/default/createUser/subscription/ssdc-datasycn/position/1 HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 15004\r\n00:28:30.695 [pulsar-external-web-4-1] INFO  org.eclipse.jetty.server.RequestLog - 172.20.31.209 - - [29/Jun/2020:00:28:30 +0000] \"GET /admin/v2/persistent/public/default/createUser/subscription/ssdc-datasycn/position/1 HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 5\r\n01:12:38.818 [pulsar-external-web-4-1] INFO  org.eclipse.jetty.server.RequestLog - 172.20.31.209 - - [29/Jun/2020:01:12:38 +0000] \"GET /admin/v2/persistent/public/default/createUser/internalStats HTTP/1.1\" 200 16978 \"-\" \"Pulsar-Java-v2.4.0\" 201\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650870798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650875148","html_url":"https://github.com/apache/pulsar/pull/7369#issuecomment-650875148","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7369","id":650875148,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg3NTE0OA==","user":{"login":"zhanghaou","id":5668441,"node_id":"MDQ6VXNlcjU2Njg0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/5668441?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghaou","html_url":"https://github.com/zhanghaou","followers_url":"https://api.github.com/users/zhanghaou/followers","following_url":"https://api.github.com/users/zhanghaou/following{/other_user}","gists_url":"https://api.github.com/users/zhanghaou/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghaou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghaou/subscriptions","organizations_url":"https://api.github.com/users/zhanghaou/orgs","repos_url":"https://api.github.com/users/zhanghaou/repos","events_url":"https://api.github.com/users/zhanghaou/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghaou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:58:31Z","updated_at":"2020-06-29T02:58:31Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650875148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650890600","html_url":"https://github.com/apache/pulsar/issues/7382#issuecomment-650890600","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7382","id":650890600,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg5MDYwMA==","user":{"login":"yingziyu007","id":54094772,"node_id":"MDQ6VXNlcjU0MDk0Nzcy","avatar_url":"https://avatars.githubusercontent.com/u/54094772?v=4","gravatar_id":"","url":"https://api.github.com/users/yingziyu007","html_url":"https://github.com/yingziyu007","followers_url":"https://api.github.com/users/yingziyu007/followers","following_url":"https://api.github.com/users/yingziyu007/following{/other_user}","gists_url":"https://api.github.com/users/yingziyu007/gists{/gist_id}","starred_url":"https://api.github.com/users/yingziyu007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yingziyu007/subscriptions","organizations_url":"https://api.github.com/users/yingziyu007/orgs","repos_url":"https://api.github.com/users/yingziyu007/repos","events_url":"https://api.github.com/users/yingziyu007/events{/privacy}","received_events_url":"https://api.github.com/users/yingziyu007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T03:53:33Z","updated_at":"2020-07-02T07:38:19Z","author_association":"NONE","body":"There is no error messages. And deploying pulsar-admin by \"apache-pulsar-2.3.2\\deployment\\kubernetes\\generic\\admin.yaml\".\r\n\r\n```\r\n09:33:10.147 [pulsar-discovery-io-2-1] INFO   org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:56840]  New connection opened 09:33:10.148 [pulsar-discovery-io-2-1] INFO   org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:56840]  complete connection, init proxy handler. authenticated with none role  null, hasProxyToBrokerUrl: false 09:33:10.149 [pulsar-discovery-io-2-1]  WARN  org.apache.pulsar.client.impl.ConnectionPool - Failed to open  connection to 172.20.62.17:6650 :  io.netty.channel.AbstractChannel$AnnotatedConnectException:  syscall:getsockopt(..) failed: Connection refused: /172.20.62.17:6650  09:33:10.150 [pulsar-discovery-io-2-1] INFO   org.apache.pulsar.client.impl.PulsarClientImpl - Client closing. URL:  pulsar://proxy-ff85bffd-f2cxw:6650/ 09:33:10.150  [pulsar-discovery-io-2-1] INFO   org.apache.pulsar.proxy.server.ProxyConnectionPool - Closing  ProxyConnectionPool. 09:33:10.150 [pulsar-discovery-io-2-1] INFO   org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:56840]  Connection closed 09:33:20.733 [pulsar-discovery-io-2-1] INFO   org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:57036]  New connection opened 09:33:20.734 [pulsar-discovery-io-2-1] INFO   org.apache.pulsar.proxy.server.ProxyConnection - [/172.20.148.141:57036]  complete connection, init proxy handler. authenticated with none role  null, hasProxyToBrokerUrl: false 09:33:20.735 [pulsar-discovery-io-2-1]  INFO  org.apache.pulsar.client.impl.ConnectionPool - [[id: 0x520d4a52,  L:/172.20.84.61:36928 - R:172.20.84.11/172.20.84.11:6650]] Connected to  server 09:38:48.132 [JettyHttpClient@7a904f32-scheduler] INFO   org.eclipse.jetty.server.RequestLog - 172.20.31.209 - -  [28/Jun/2020:09:38:33 +0000] \"GET /admin/v2/persistent/public/default  HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 15003 10:08:12.074  [main-SendThread(zookeeper:2181)] INFO  org.apache.zookeeper.ClientCnxn -  Unable to read additional data from server sessionid 0x103dafadeb30009,  likely server has closed socket, closing socket connection and  attempting reconnect 10:08:12.175 [main-EventThread] WARN   org.apache.pulsar.zookeeper.ZookeeperClientFactoryImpl - Unexpected ZK  event received: WatchedEvent state:Disconnected type:None path:null  10:08:13.569 [main-SendThread(zookeeper:2181)] INFO   org.apache.zookeeper.ClientCnxn - Opening socket connection to server  zookeeper/172.20.84.78:2181. Will not attempt to authenticate using SASL  (unknown error) 10:08:13.570 [main-SendThread(zookeeper:2181)] INFO   org.apache.zookeeper.ClientCnxn - Socket connection established to  zookeeper/172.20.84.78:2181, initiating session 10:08:13.571  [main-SendThread(zookeeper:2181)] INFO  org.apache.zookeeper.ClientCnxn -  Session establishment complete on server zookeeper/172.20.84.78:2181,  sessionid = 0x103dafadeb30009, negotiated timeout = 30000 00:21:39.984  [pulsar-external-web-4-7] INFO  org.eclipse.jetty.server.RequestLog -  172.20.31.209 - - [29/Jun/2020:00:21:39 +0000] \"GET  /admin/v2/persistent/public/default/createUser/subscription/ssdc-datasycn/position/1  HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 4 00:21:57.603  [pulsar-external-web-4-7] INFO  org.eclipse.jetty.server.RequestLog -  172.20.31.209 - - [29/Jun/2020:00:21:57 +0000] \"GET  /admin/v2/persistent/public/default/createUser/internalStats HTTP/1.1\"  200 16978 \"-\" \"Pulsar-Java-v2.4.0\" 24 00:22:53.889  [JettyHttpClient@7a904f32-scheduler] INFO   org.eclipse.jetty.server.RequestLog - 172.20.31.209 - -  [29/Jun/2020:00:22:38 +0000] \"GET  /admin/v2/persistent/public/default/createUser/subscription/ssdc-datasycn/position/1  HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 15004 00:28:30.695  [pulsar-external-web-4-1] INFO  org.eclipse.jetty.server.RequestLog -  172.20.31.209 - - [29/Jun/2020:00:28:30 +0000] \"GET  /admin/v2/persistent/public/default/createUser/subscription/ssdc-datasycn/position/1  HTTP/1.1\" 502 0 \"-\" \"Pulsar-Java-v2.4.0\" 5 01:12:38.818  [pulsar-external-web-4-1] INFO  org.eclipse.jetty.server.RequestLog -  172.20.31.209 - - [29/Jun/2020:01:12:38 +0000] \"GET  /admin/v2/persistent/public/default/createUser/internalStats HTTP/1.1\"  200 16978 \"-\" \"Pulsar-Java-v2.4.0\" 201\r\n```\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:&nbsp;\"Sijie Guo\"<notifications@github.com&gt;;\r\n发送时间:&nbsp;2020年6月29日(星期一) 上午10:17\r\n收件人:&nbsp;\"apache/pulsar\"<pulsar@noreply.github.com&gt;;\r\n抄送:&nbsp;\"汤宗任\"<tangzr2019@qq.com&gt;;\"Mention\"<mention@noreply.github.com&gt;;\r\n主题:&nbsp;Re: [apache/pulsar] v2.3.2 pulsar-admin CLI return HTTP 502 Bad Gateway (#7382)\r\n\r\n\r\n\r\n\r\n\r\n \r\n@yingziyu007 Are you using Pulsar proxy? If so, can you check the log of Pulsar proxy to see if there are any error messages?\r\n \r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650890600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650892330","html_url":"https://github.com/apache/pulsar/issues/6376#issuecomment-650892330","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6376","id":650892330,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg5MjMzMA==","user":{"login":"GitHub-wk","id":13687512,"node_id":"MDQ6VXNlcjEzNjg3NTEy","avatar_url":"https://avatars.githubusercontent.com/u/13687512?v=4","gravatar_id":"","url":"https://api.github.com/users/GitHub-wk","html_url":"https://github.com/GitHub-wk","followers_url":"https://api.github.com/users/GitHub-wk/followers","following_url":"https://api.github.com/users/GitHub-wk/following{/other_user}","gists_url":"https://api.github.com/users/GitHub-wk/gists{/gist_id}","starred_url":"https://api.github.com/users/GitHub-wk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GitHub-wk/subscriptions","organizations_url":"https://api.github.com/users/GitHub-wk/orgs","repos_url":"https://api.github.com/users/GitHub-wk/repos","events_url":"https://api.github.com/users/GitHub-wk/events{/privacy}","received_events_url":"https://api.github.com/users/GitHub-wk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T04:02:19Z","updated_at":"2020-06-29T04:02:19Z","author_association":"NONE","body":"> 1 topics is deleted success!\r\n> 2 `topics list` show that there not exist any topics under the `ns`.\r\n\r\nhello ,I have the same problem.\r\nI solve this problem by use ``bin/pulsar-admin topics delete-partitioned-topic \r\n  persistent://my-tenant/my-namespace/my-topic``\r\n\r\n``/bin/pulsar-admin topics delete persistent://test-tenant/test-namespace/test-topic-partition-0`` this is used to delete non-partitioned-topic\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650892330/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650924130","html_url":"https://github.com/apache/pulsar/issues/7375#issuecomment-650924130","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7375","id":650924130,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDkyNDEzMA==","user":{"login":"ElationAndElation","id":13746589,"node_id":"MDQ6VXNlcjEzNzQ2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13746589?v=4","gravatar_id":"","url":"https://api.github.com/users/ElationAndElation","html_url":"https://github.com/ElationAndElation","followers_url":"https://api.github.com/users/ElationAndElation/followers","following_url":"https://api.github.com/users/ElationAndElation/following{/other_user}","gists_url":"https://api.github.com/users/ElationAndElation/gists{/gist_id}","starred_url":"https://api.github.com/users/ElationAndElation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElationAndElation/subscriptions","organizations_url":"https://api.github.com/users/ElationAndElation/orgs","repos_url":"https://api.github.com/users/ElationAndElation/repos","events_url":"https://api.github.com/users/ElationAndElation/events{/privacy}","received_events_url":"https://api.github.com/users/ElationAndElation/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T05:51:01Z","updated_at":"2020-06-29T05:52:22Z","author_association":"NONE","body":"> @ElationAndElation\r\n> \r\n> You can use `Context.newOutputMessage()` to specify the topic (partition) to produce messages to. Does it meet your requirements?\r\n\r\nIn pulsar producer has hashing schema, using these schema pulsar topic partition are chosen for a particular message. Please refer below code. Lets say ptest has 4 partitions and hashing as Murmur3_32Hash, then total 5 messages are sent, for each message partition is chosen based on Hashing Scheme murmur. There is no exclusive logic written by here to chose partition. \r\nWhereas for functions in Context.newOutputMessage(), we have to write a exclusive logic to chose a partition or topic. \r\n\r\nSo, looking for the feature as in producer. \r\n\r\n ```\r\nPulsarClient client = PulsarClient.builder().serviceUrl(\"pulsar://localhost:6650\").build();\r\n            Producer producer = client.newProducer()\r\n                    .hashingScheme(HashingScheme.Murmur3_32Hash)\r\n                    .topic(\"ptest\")\r\n                    .create();\r\n            for (int i = 1; i <= 5; i++) {\r\n                String key = \"key-1\"+System.currentTimeMillis();\r\n                if( i%2 == 0)\r\n                    key = \"key-2\"+System.currentTimeMillis();\r\n                \r\n                try {\r\n                    MessageId message = producer.send(key);\r\n                    \r\n                } catch (PulsarClientException e ) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            producer.close();\r\n            client.close();\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650924130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650948704","html_url":"https://github.com/apache/pulsar/issues/7376#issuecomment-650948704","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7376","id":650948704,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDk0ODcwNA==","user":{"login":"THX1188","id":61349287,"node_id":"MDQ6VXNlcjYxMzQ5Mjg3","avatar_url":"https://avatars.githubusercontent.com/u/61349287?v=4","gravatar_id":"","url":"https://api.github.com/users/THX1188","html_url":"https://github.com/THX1188","followers_url":"https://api.github.com/users/THX1188/followers","following_url":"https://api.github.com/users/THX1188/following{/other_user}","gists_url":"https://api.github.com/users/THX1188/gists{/gist_id}","starred_url":"https://api.github.com/users/THX1188/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/THX1188/subscriptions","organizations_url":"https://api.github.com/users/THX1188/orgs","repos_url":"https://api.github.com/users/THX1188/repos","events_url":"https://api.github.com/users/THX1188/events{/privacy}","received_events_url":"https://api.github.com/users/THX1188/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T06:26:30Z","updated_at":"2020-06-29T06:26:30Z","author_association":"NONE","body":"Thank you for feedback @sijie !\r\nI took the docker version which runs more isolated, but the behavior was exact the same.\r\n\r\n>     docker run -it \\\r\n>     -p 6650:6650 \\\r\n>     -p 8080:8080 \\\r\n>     --mount source=pulsardata,target=/pulsar/data \\\r\n>     --mount source=pulsarconf,target=/pulsar/conf \\\r\n>     apachepulsar/pulsar:2.6.0 \\\r\n>     bin/pulsar standalone\r\n\r\nFinally , maybe more accidentally I pulled  yet another Pulsar Docker Image and this was based on nginx. After a few minutes I was able to connect to it's dashboard. which maybe means it is up and running ? Screenshot of Dasboard attached, I will try later python examples, ... but there should be more evidence to a user when the system is up and running. There is too much logging around, which for an app appliance like this for sure is necessary but, there should be a 'channel' showing the core components are up and running fine like for example starting a database. I am working with Oracle, when I start the database it's very clear just a few lines are posted, if there is some logging generated there are extra files and directories where you can find tons of logs if you want ;)\r\nthe docker image which seems to work is this : \r\n\r\n> docker run -it -p 80:80 -p 8080:8080 -p 6650:6650 apachepulsar/pulsar-standalone\r\n\r\nit 's also different in size 3G instead of 1.8G\r\n\r\n> ❯ docker image ls\r\n> REPOSITORY                       TAG                 IMAGE ID            CREATED             SIZE\r\n> apachepulsar/pulsar-standalone   latest              30707e3866a7        11 days ago         3.04GB\r\n> apachepulsar/pulsar              2.6.0               85891140d39a        11 days ago         1.77GB\r\n\r\n\r\nin the logs of the the running container I found : \r\n\r\n> 05:43:32.970 [main] INFO  org.apache.pulsar.websocket.WebSocketService - Global Zookeeper cache started\r\n> 05:43:32.971 [main] INFO  org.apache.pulsar.broker.authentication.AuthenticationService - Authentication is disabled\r\n> 05:43:32.971 [main] INFO  org.apache.pulsar.websocket.WebSocketService - Pulsar WebSocket Service started\r\n\r\nThereby a lot of stuff has been starting : \r\n\r\n> ❯ grep -i started pulsar_standalone_2.6.0_docker.log\r\n> 2020-06-29 05:43:22,010 INFO supervisord started with pid 1\r\n> 05:43:27.845 [main] INFO  org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage - Started Db Ledger Storage\r\n> 05:43:28.274 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started\r\n> 05:43:30.064 [main] INFO  org.apache.bookkeeper.stream.server.service.ClusterControllerService - Successfully started the cluster controller.\r\n> 05:43:31.046 [DLM-/stream/storage-OrderedScheduler-4-0] INFO  org.apache.bookkeeper.stream.storage.impl.sc.StorageContainerImpl - Successfully started storage container (1).\r\n> 05:43:31.056 [DLM-/stream/storage-OrderedScheduler-4-0] INFO  org.apache.bookkeeper.stream.storage.impl.sc.StorageContainerRegistryImpl - Successfully started registered StorageContainer ('1').\r\n> 05:43:31.057 [DLM-/stream/storage-OrderedScheduler-4-0] INFO  org.apache.bookkeeper.stream.storage.impl.sc.ZkStorageContainerManager - Successfully started storage container (1)\r\n> 05:43:31.063 [DLM-/stream/storage-OrderedScheduler-4-0] INFO  org.apache.bookkeeper.stream.storage.impl.sc.StorageContainerImpl - Successfully started storage container (0).\r\n> 05:43:31.064 [DLM-/stream/storage-OrderedScheduler-4-0] INFO  org.apache.bookkeeper.stream.storage.impl.sc.StorageContainerRegistryImpl - Successfully started registered StorageContainer ('0').\r\n> 05:43:31.064 [DLM-/stream/storage-OrderedScheduler-4-0] INFO  org.apache.bookkeeper.stream.storage.impl.sc.ZkStorageContainerManager - Successfully started storage container (0)\r\n> 05:43:32.517 [main] INFO  org.apache.pulsar.broker.service.BrokerService - Started Pulsar Broker service on /0.0.0.0:6650\r\n> 05:43:32.970 [main] INFO  org.apache.pulsar.websocket.WebSocketService - Global Zookeeper cache started\r\n> 05:43:32.971 [main] INFO  org.apache.pulsar.websocket.WebSocketService - Pulsar WebSocket Service started\r\n> 05:43:34.334 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@23b3afb4{/,null,AVAILABLE}\r\n> 05:43:34.414 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@2162598{/,null,AVAILABLE}\r\n> 05:43:34.846 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@78a7fccd{/admin,null,AVAILABLE}\r\n> 05:43:35.173 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@a1689e8{/admin/v2,null,AVAILABLE}\r\n> 05:43:35.384 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@15d68a50{/admin/v3,null,AVAILABLE}\r\n> 05:43:35.498 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@4bb644dc{/lookup,null,AVAILABLE}\r\n> 05:43:35.500 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@5d3a238{/metrics,null,AVAILABLE}\r\n> 05:43:35.536 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@4598961d{/ws/producer,null,AVAILABLE}\r\n> 05:43:35.539 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@48619f15{/ws/v2/producer,null,AVAILABLE}\r\n> 05:43:35.542 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@410e043b{/ws/consumer,null,AVAILABLE}\r\n> 05:43:35.546 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7be85f15{/ws/v2/consumer,null,AVAILABLE}\r\n> 05:43:35.549 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@9fd5dd0{/ws/reader,null,AVAILABLE}\r\n> 05:43:35.553 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@790ea58f{/ws/v2/reader,null,AVAILABLE}\r\n> 05:43:35.556 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@3cf1b5fb{/static,null,AVAILABLE}\r\n> 05:43:35.576 [main] INFO  org.eclipse.jetty.server.AbstractConnector - Started PulsarServerConnector@212be8c{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}\r\n> 05:43:35.577 [main] INFO  org.eclipse.jetty.server.Server - Started @12470ms\r\n> 05:43:35.577 [main] INFO  org.apache.pulsar.broker.web.WebService - HTTP Service started at http://0.0.0.0:8080\r\n> 05:43:35.584 [main] INFO  org.apache.pulsar.broker.loadbalance.LeaderElectionService - LeaderElectionService started\r\n> 05:44:02.689 [main] INFO  org.apache.pulsar.broker.PulsarService - Function worker service started\r\n> \r\n\r\nI will try a minimum python send receive message/copy later but as far it seems to work.\r\n\r\n![image](https://user-images.githubusercontent.com/61349287/85980113-0ec8a780-b9e2-11ea-8744-70fc4fc33e53.png)\r\n\r\nThank you!\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nScreenshot attached\r\n     \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650948704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650962471","html_url":"https://github.com/apache/pulsar/issues/7376#issuecomment-650962471","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7376","id":650962471,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDk2MjQ3MQ==","user":{"login":"THX1188","id":61349287,"node_id":"MDQ6VXNlcjYxMzQ5Mjg3","avatar_url":"https://avatars.githubusercontent.com/u/61349287?v=4","gravatar_id":"","url":"https://api.github.com/users/THX1188","html_url":"https://github.com/THX1188","followers_url":"https://api.github.com/users/THX1188/followers","following_url":"https://api.github.com/users/THX1188/following{/other_user}","gists_url":"https://api.github.com/users/THX1188/gists{/gist_id}","starred_url":"https://api.github.com/users/THX1188/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/THX1188/subscriptions","organizations_url":"https://api.github.com/users/THX1188/orgs","repos_url":"https://api.github.com/users/THX1188/repos","events_url":"https://api.github.com/users/THX1188/events{/privacy}","received_events_url":"https://api.github.com/users/THX1188/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T06:39:59Z","updated_at":"2020-06-29T06:39:59Z","author_association":"NONE","body":"Just another fact, Apache Pulsar does only run with java 8 jdk not with java 11 jdk?\r\ncheers \r\nTHX1188 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650962471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650965118","html_url":"https://github.com/apache/pulsar/issues/7372#issuecomment-650965118","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7372","id":650965118,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDk2NTExOA==","user":{"login":"ErikJansenIRefact","id":31562698,"node_id":"MDQ6VXNlcjMxNTYyNjk4","avatar_url":"https://avatars.githubusercontent.com/u/31562698?v=4","gravatar_id":"","url":"https://api.github.com/users/ErikJansenIRefact","html_url":"https://github.com/ErikJansenIRefact","followers_url":"https://api.github.com/users/ErikJansenIRefact/followers","following_url":"https://api.github.com/users/ErikJansenIRefact/following{/other_user}","gists_url":"https://api.github.com/users/ErikJansenIRefact/gists{/gist_id}","starred_url":"https://api.github.com/users/ErikJansenIRefact/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErikJansenIRefact/subscriptions","organizations_url":"https://api.github.com/users/ErikJansenIRefact/orgs","repos_url":"https://api.github.com/users/ErikJansenIRefact/repos","events_url":"https://api.github.com/users/ErikJansenIRefact/events{/privacy}","received_events_url":"https://api.github.com/users/ErikJansenIRefact/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T06:44:23Z","updated_at":"2020-06-29T06:44:23Z","author_association":"NONE","body":"@sijie \r\n\r\nThe retentionPeriod on the namespace was set to -1 (infinite retention). However, this does not prevent that the data on the topic is removed. It seems that retentionSize should be set to -1 as well. So these settings should both be set to infinite. Only setting one of them isn't sufficient. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650965118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650974272","html_url":"https://github.com/apache/pulsar/pull/6348#issuecomment-650974272","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6348","id":650974272,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDk3NDI3Mg==","user":{"login":"Anonymitaet","id":50226895,"node_id":"MDQ6VXNlcjUwMjI2ODk1","avatar_url":"https://avatars.githubusercontent.com/u/50226895?v=4","gravatar_id":"","url":"https://api.github.com/users/Anonymitaet","html_url":"https://github.com/Anonymitaet","followers_url":"https://api.github.com/users/Anonymitaet/followers","following_url":"https://api.github.com/users/Anonymitaet/following{/other_user}","gists_url":"https://api.github.com/users/Anonymitaet/gists{/gist_id}","starred_url":"https://api.github.com/users/Anonymitaet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Anonymitaet/subscriptions","organizations_url":"https://api.github.com/users/Anonymitaet/orgs","repos_url":"https://api.github.com/users/Anonymitaet/repos","events_url":"https://api.github.com/users/Anonymitaet/events{/privacy}","received_events_url":"https://api.github.com/users/Anonymitaet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T07:06:51Z","updated_at":"2020-06-29T07:06:51Z","author_association":"MEMBER","body":"Docs have been added [here](https://streamnative.io/docs/latest/process/pulsar-functions/develop/feature#user-config).\r\nWill copy to Pulsar later.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/650974272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651002037","html_url":"https://github.com/apache/pulsar/pull/7369#issuecomment-651002037","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7369","id":651002037,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTAwMjAzNw==","user":{"login":"zhanghaou","id":5668441,"node_id":"MDQ6VXNlcjU2Njg0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/5668441?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanghaou","html_url":"https://github.com/zhanghaou","followers_url":"https://api.github.com/users/zhanghaou/followers","following_url":"https://api.github.com/users/zhanghaou/following{/other_user}","gists_url":"https://api.github.com/users/zhanghaou/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanghaou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanghaou/subscriptions","organizations_url":"https://api.github.com/users/zhanghaou/orgs","repos_url":"https://api.github.com/users/zhanghaou/repos","events_url":"https://api.github.com/users/zhanghaou/events{/privacy}","received_events_url":"https://api.github.com/users/zhanghaou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T08:07:13Z","updated_at":"2020-06-29T08:07:13Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651002037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651003387","html_url":"https://github.com/apache/pulsar/issues/4803#issuecomment-651003387","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4803","id":651003387,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTAwMzM4Nw==","user":{"login":"fmiguelez","id":10461228,"node_id":"MDQ6VXNlcjEwNDYxMjI4","avatar_url":"https://avatars.githubusercontent.com/u/10461228?v=4","gravatar_id":"","url":"https://api.github.com/users/fmiguelez","html_url":"https://github.com/fmiguelez","followers_url":"https://api.github.com/users/fmiguelez/followers","following_url":"https://api.github.com/users/fmiguelez/following{/other_user}","gists_url":"https://api.github.com/users/fmiguelez/gists{/gist_id}","starred_url":"https://api.github.com/users/fmiguelez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmiguelez/subscriptions","organizations_url":"https://api.github.com/users/fmiguelez/orgs","repos_url":"https://api.github.com/users/fmiguelez/repos","events_url":"https://api.github.com/users/fmiguelez/events{/privacy}","received_events_url":"https://api.github.com/users/fmiguelez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T08:09:49Z","updated_at":"2020-06-29T08:10:04Z","author_association":"CONTRIBUTOR","body":"The solution provided by #7139 to this BUG **does not work**.\r\n\r\n- When trying to read a message with `null` value a `NullPointerException ` is thrown in other part of the code.\r\n\r\n```\r\n        msg = consumer.receive(timeoutMillis, TimeUnit.MILLISECONDS));\r\n\r\n\tjava.lang.NullPointerException\r\n\t\tat org.apache.pulsar.client.impl.ConsumerStatsRecorderImpl.updateNumMsgsReceived(ConsumerStatsRecorderImpl.java:169)\r\n\t\tat org.apache.pulsar.client.impl.ConsumerImpl.messageProcessed(ConsumerImpl.java:1423)\r\n\t\tat org.apache.pulsar.client.impl.ConsumerImpl.internalReceive(ConsumerImpl.java:431)\r\n\t\tat org.apache.pulsar.client.impl.ConsumerBase.receive(ConsumerBase.java:175)\r\n                ...\r\n```\r\n- It should not be required to explicitly indicate a `null `value to producer (only-key values should work just just fine). Exception thrown when working with implicit null value messages is `EOFException `in this case (the same before this a solution was provided).\r\n\r\nI have created a test project to reproduce these issues (null values implicitly and explictly set with both schema and schemaless consumer): [pulsar-tombstone-test](https://github.com/fmiguelez/pulsar-tombstone-test)\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651003387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651004589","html_url":"https://github.com/apache/pulsar/pull/7139#issuecomment-651004589","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7139","id":651004589,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTAwNDU4OQ==","user":{"login":"fmiguelez","id":10461228,"node_id":"MDQ6VXNlcjEwNDYxMjI4","avatar_url":"https://avatars.githubusercontent.com/u/10461228?v=4","gravatar_id":"","url":"https://api.github.com/users/fmiguelez","html_url":"https://github.com/fmiguelez","followers_url":"https://api.github.com/users/fmiguelez/followers","following_url":"https://api.github.com/users/fmiguelez/following{/other_user}","gists_url":"https://api.github.com/users/fmiguelez/gists{/gist_id}","starred_url":"https://api.github.com/users/fmiguelez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmiguelez/subscriptions","organizations_url":"https://api.github.com/users/fmiguelez/orgs","repos_url":"https://api.github.com/users/fmiguelez/repos","events_url":"https://api.github.com/users/fmiguelez/events{/privacy}","received_events_url":"https://api.github.com/users/fmiguelez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T08:11:58Z","updated_at":"2020-06-29T08:11:58Z","author_association":"CONTRIBUTOR","body":"This does not work as described [here](https://github.com/apache/pulsar/issues/4803#issuecomment-651003387)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651004589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651011362","html_url":"https://github.com/apache/pulsar/issues/4803#issuecomment-651011362","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4803","id":651011362,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTAxMTM2Mg==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T08:25:04Z","updated_at":"2020-06-29T08:25:04Z","author_association":"MEMBER","body":"Thanks @fmiguelez for the test.\r\nlooks from the code, npe happens in stats path(ConsumerStatsRecorderImpl.java), would you like to provide a pull request to fix this issue:\r\n```\r\n    @Override\r\n    public void updateNumMsgsReceived(Message<?> message) {\r\n        if (message != null) {\r\n            numMsgsReceived.increment();\r\n            numBytesReceived.add(message.getData().length);        < === NPE\r\n        }\r\n    }\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651011362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651019393","html_url":"https://github.com/apache/pulsar/issues/4803#issuecomment-651019393","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4803","id":651019393,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTAxOTM5Mw==","user":{"login":"fmiguelez","id":10461228,"node_id":"MDQ6VXNlcjEwNDYxMjI4","avatar_url":"https://avatars.githubusercontent.com/u/10461228?v=4","gravatar_id":"","url":"https://api.github.com/users/fmiguelez","html_url":"https://github.com/fmiguelez","followers_url":"https://api.github.com/users/fmiguelez/followers","following_url":"https://api.github.com/users/fmiguelez/following{/other_user}","gists_url":"https://api.github.com/users/fmiguelez/gists{/gist_id}","starred_url":"https://api.github.com/users/fmiguelez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmiguelez/subscriptions","organizations_url":"https://api.github.com/users/fmiguelez/orgs","repos_url":"https://api.github.com/users/fmiguelez/repos","events_url":"https://api.github.com/users/fmiguelez/events{/privacy}","received_events_url":"https://api.github.com/users/fmiguelez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T08:39:53Z","updated_at":"2020-06-29T08:39:53Z","author_association":"CONTRIBUTOR","body":"> Thanks @fmiguelez for the test.\r\n> looks from the code, npe happens in stats path(ConsumerStatsRecorderImpl.java), would you like to provide a pull request to fix this issue:\r\n> \r\n> ```\r\n>     @Override\r\n>     public void updateNumMsgsReceived(Message<?> message) {\r\n>         if (message != null) {\r\n>             numMsgsReceived.increment();\r\n>             numBytesReceived.add(message.getData().length);        < === NPE\r\n>         }\r\n>     }\r\n> ```\r\n\r\n@jiazhai  I can do that but I think a more complete fix would be interesting as described in the test. E.g you need to explicitly set a `null` value to the produced message so the null checks kick in, IMHO `MsgMetadataBuilder.hasNullValue()` should be initialized to `true`.\r\n\r\nBesides there are other issues with tombstones if no schema is used.\r\n\r\nWould it be interesting to open a new BUG or reopen this one?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651019393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651277053","html_url":"https://github.com/apache/pulsar/pull/7377#issuecomment-651277053","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7377","id":651277053,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTI3NzA1Mw==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T18:08:37Z","updated_at":"2020-06-29T18:08:37Z","author_association":"CONTRIBUTOR","body":"@srkukarni the reader in the FunctionMetadataTopicTailer needs to \r\n\r\n`                .readCompacted(true)\r\n`","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651277053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651277848","html_url":"https://github.com/apache/pulsar/pull/7377#issuecomment-651277848","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7377","id":651277848,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTI3Nzg0OA==","user":{"login":"srkukarni","id":2530234,"node_id":"MDQ6VXNlcjI1MzAyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2530234?v=4","gravatar_id":"","url":"https://api.github.com/users/srkukarni","html_url":"https://github.com/srkukarni","followers_url":"https://api.github.com/users/srkukarni/followers","following_url":"https://api.github.com/users/srkukarni/following{/other_user}","gists_url":"https://api.github.com/users/srkukarni/gists{/gist_id}","starred_url":"https://api.github.com/users/srkukarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srkukarni/subscriptions","organizations_url":"https://api.github.com/users/srkukarni/orgs","repos_url":"https://api.github.com/users/srkukarni/repos","events_url":"https://api.github.com/users/srkukarni/events{/privacy}","received_events_url":"https://api.github.com/users/srkukarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T18:10:26Z","updated_at":"2020-06-29T18:10:26Z","author_association":"CONTRIBUTOR","body":"> @srkukarni the reader in the FunctionMetadataTopicTailer needs to\r\n> \r\n> ` .readCompacted(true)`\r\n\r\nhttps://github.com/apache/pulsar/pull/7377/files#diff-fbc6eb611de17f87b29ba52e30bb7fcbR140\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651277848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651422847","html_url":"https://github.com/apache/pulsar/pull/7285#issuecomment-651422847","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7285","id":651422847,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQyMjg0Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T23:35:05Z","updated_at":"2020-06-29T23:35:05Z","author_association":"CONTRIBUTOR","body":"I think the same fix was already merged in #7272","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651422847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651432688","html_url":"https://github.com/apache/pulsar/pull/7341#issuecomment-651432688","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7341","id":651432688,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQzMjY4OA==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T00:05:11Z","updated_at":"2020-06-30T00:05:11Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651432688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651458475","html_url":"https://github.com/apache/pulsar/issues/7166#issuecomment-651458475","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7166","id":651458475,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ1ODQ3NQ==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:15:37Z","updated_at":"2020-06-30T01:15:37Z","author_association":"CONTRIBUTOR","body":"@jiazhai , any more process about this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651458475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651464528","html_url":"https://github.com/apache/pulsar/issues/7384#issuecomment-651464528","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7384","id":651464528,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2NDUyOA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:32:36Z","updated_at":"2020-06-30T01:32:36Z","author_association":"MEMBER","body":"@codelipenghui can you take a look at this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651464528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651465495","html_url":"https://github.com/apache/pulsar/issues/7385#issuecomment-651465495","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7385","id":651465495,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2NTQ5NQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:35:46Z","updated_at":"2020-06-30T01:35:46Z","author_association":"MEMBER","body":"@frankjkelly Are you using zookeeper or brokerServiceURL for broker discovery? If you don't set zookeeper, proxy will not enable authorization. Because the default authorization plugin is implemented based on zookeeper. \r\n\r\nThere might be places that we can improve. E.g. we don't need zookeeper if users provide a customized implementation of Authorization plugin.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651465495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651468950","html_url":"https://github.com/apache/pulsar/issues/4803#issuecomment-651468950","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4803","id":651468950,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2ODk1MA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:47:07Z","updated_at":"2020-06-30T01:47:07Z","author_association":"MEMBER","body":"Thanks @fmiguelez for the detailed explanation.  the proposal for the complete fix looks good to me, we need be careful for the backward compatibility if set default true for `MsgMetadataBuilder.hasNullValue()`. It would be better to open a new issue.\r\nalso @gaoran10 to take attention.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651468950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651514384","html_url":"https://github.com/apache/pulsar/pull/7341#issuecomment-651514384","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7341","id":651514384,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTUxNDM4NA==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T03:57:12Z","updated_at":"2020-06-30T03:57:12Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651514384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651569315","html_url":"https://github.com/apache/pulsar/pull/7341#issuecomment-651569315","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7341","id":651569315,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTU2OTMxNQ==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T06:22:53Z","updated_at":"2020-06-30T06:22:53Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651569315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651644718","html_url":"https://github.com/apache/pulsar/issues/7392#issuecomment-651644718","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7392","id":651644718,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTY0NDcxOA==","user":{"login":"xiaomin0322","id":4092286,"node_id":"MDQ6VXNlcjQwOTIyODY=","avatar_url":"https://avatars.githubusercontent.com/u/4092286?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaomin0322","html_url":"https://github.com/xiaomin0322","followers_url":"https://api.github.com/users/xiaomin0322/followers","following_url":"https://api.github.com/users/xiaomin0322/following{/other_user}","gists_url":"https://api.github.com/users/xiaomin0322/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaomin0322/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaomin0322/subscriptions","organizations_url":"https://api.github.com/users/xiaomin0322/orgs","repos_url":"https://api.github.com/users/xiaomin0322/repos","events_url":"https://api.github.com/users/xiaomin0322/events{/privacy}","received_events_url":"https://api.github.com/users/xiaomin0322/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T08:34:49Z","updated_at":"2020-06-30T08:34:49Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/4092286/86103638-96e8a300-baef-11ea-8b07-57a3a8a4ee86.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651644718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651703355","html_url":"https://github.com/apache/pulsar/pull/7393#issuecomment-651703355","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7393","id":651703355,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTcwMzM1NQ==","user":{"login":"Anonymitaet","id":50226895,"node_id":"MDQ6VXNlcjUwMjI2ODk1","avatar_url":"https://avatars.githubusercontent.com/u/50226895?v=4","gravatar_id":"","url":"https://api.github.com/users/Anonymitaet","html_url":"https://github.com/Anonymitaet","followers_url":"https://api.github.com/users/Anonymitaet/followers","following_url":"https://api.github.com/users/Anonymitaet/following{/other_user}","gists_url":"https://api.github.com/users/Anonymitaet/gists{/gist_id}","starred_url":"https://api.github.com/users/Anonymitaet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Anonymitaet/subscriptions","organizations_url":"https://api.github.com/users/Anonymitaet/orgs","repos_url":"https://api.github.com/users/Anonymitaet/repos","events_url":"https://api.github.com/users/Anonymitaet/events{/privacy}","received_events_url":"https://api.github.com/users/Anonymitaet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T10:19:48Z","updated_at":"2020-06-30T10:19:48Z","author_association":"MEMBER","body":"@gaoran10 @Huanli-Meng could u pls help review? Thanks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651703355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651799700","html_url":"https://github.com/apache/pulsar/issues/7385#issuecomment-651799700","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7385","id":651799700,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc5OTcwMA==","user":{"login":"frankjkelly","id":62910985,"node_id":"MDQ6VXNlcjYyOTEwOTg1","avatar_url":"https://avatars.githubusercontent.com/u/62910985?v=4","gravatar_id":"","url":"https://api.github.com/users/frankjkelly","html_url":"https://github.com/frankjkelly","followers_url":"https://api.github.com/users/frankjkelly/followers","following_url":"https://api.github.com/users/frankjkelly/following{/other_user}","gists_url":"https://api.github.com/users/frankjkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/frankjkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frankjkelly/subscriptions","organizations_url":"https://api.github.com/users/frankjkelly/orgs","repos_url":"https://api.github.com/users/frankjkelly/repos","events_url":"https://api.github.com/users/frankjkelly/events{/privacy}","received_events_url":"https://api.github.com/users/frankjkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T13:43:47Z","updated_at":"2020-06-30T14:48:27Z","author_association":"CONTRIBUTOR","body":"Hmmm I'm not sure.  In proxy.conf we have the following for `brokerService`\r\n```\r\nroot@pulsar-proxy-764f4b6569-flg8m:/pulsar/conf# grep broker proxy.conf  | grep -v \"#\"\r\nbrokerServiceURL=http://pulsar-broker:6650\r\nbrokerServiceURLTLS=https://pulsar-broker:6651\r\nbrokerWebServiceURL=http://pulsar-broker:8080\r\nbrokerWebServiceURLTLS=https://pulsar-broker:8443\r\nauthorizationProvider=org.apache.pulsar.broker.authorization.PulsarAuthorizationProvider\r\nbrokerClientAuthenticationPlugin=\r\nbrokerClientAuthenticationParameters=\r\nbrokerClientTrustCertsFilePath=\r\n```\r\nand the following zookeeper related\r\n```\r\nroot@pulsar-proxy-764f4b6569-flg8m:/pulsar/conf# grep zoo proxy.conf \r\nzookeeperServers=pulsar-zookeeper-0.pulsar-zookeeper\r\nconfigurationStoreServers=pulsar-zookeeper-0.pulsar-zookeeper\r\n# These settings are unnecessary if `zookeeperServers` is specified\r\nzookeeperSessionTimeoutMs=30000\r\n```\r\nI see from [this StreamNative documentation](https://streamnative.io/docs/v1.0.0/configure/pulsar-core/proxy/) that by defining the `brokerServiceURL` we are effectively disabling Authorization in the proxy?\r\n\r\nIf that's right I guess we can defer the Authorization to the Broker but the problem I believe I have is that our JWT token contains custom claims that indicate whether a topic is accessible or not (it's not Role-based) so we need to pass the token along to the Authorization plugin for parsing. In standalone - when the Authentication and Authorization plugin are colocated this is fine but it seems that when the Proxy is doing Authentication and the Broker is doing Authorization the original token is no longer present at the Broker?  I tried `forwardAuthorizationCredentials=true` but it did not seem to make a difference but perhaps I am missing something.\r\n\r\nThanks in advance","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651799700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651816458","html_url":"https://github.com/apache/pulsar/pull/7396#issuecomment-651816458","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7396","id":651816458,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTgxNjQ1OA==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T14:10:23Z","updated_at":"2020-06-30T14:10:23Z","author_association":"CONTRIBUTOR","body":"@jiazhai , please help review the PR. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651816458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651930261","html_url":"https://github.com/apache/pulsar/pull/7329#issuecomment-651930261","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7329","id":651930261,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTkzMDI2MQ==","user":{"login":"alim-zanibekov","id":19346040,"node_id":"MDQ6VXNlcjE5MzQ2MDQw","avatar_url":"https://avatars.githubusercontent.com/u/19346040?v=4","gravatar_id":"","url":"https://api.github.com/users/alim-zanibekov","html_url":"https://github.com/alim-zanibekov","followers_url":"https://api.github.com/users/alim-zanibekov/followers","following_url":"https://api.github.com/users/alim-zanibekov/following{/other_user}","gists_url":"https://api.github.com/users/alim-zanibekov/gists{/gist_id}","starred_url":"https://api.github.com/users/alim-zanibekov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alim-zanibekov/subscriptions","organizations_url":"https://api.github.com/users/alim-zanibekov/orgs","repos_url":"https://api.github.com/users/alim-zanibekov/repos","events_url":"https://api.github.com/users/alim-zanibekov/events{/privacy}","received_events_url":"https://api.github.com/users/alim-zanibekov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T17:16:52Z","updated_at":"2020-06-30T17:16:52Z","author_association":"NONE","body":"> Would you please help add documentation for the new feature at https://pulsar.apache.org/docs/en/io-elasticsearch-sink/\r\n\r\nYes, but I will really need an example of documentation related to message Schema in topic, e.g. there is no additional documentation about the almost identical feature [https://github.com/apache/pulsar/blob/master/site2/docs/io-jdbc-sink.md](https://github.com/apache/pulsar/blob/master/site2/docs/io-jdbc-sink.md), sources of this feature - [https://github.com/apache/pulsar/blob/master/pulsar-io/jdbc/core/src/main/java/org/apache/pulsar/io/jdbc/JdbcAbstractSink.java](https://github.com/apache/pulsar/blob/master/pulsar-io/jdbc/core/src/main/java/org/apache/pulsar/io/jdbc/JdbcAbstractSink.java)\r\n\r\nIf there is no such an example of documentation, I can make it up by myself. But I'm not well familiar with the Pulsar terminology ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651930261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651935683","html_url":"https://github.com/apache/pulsar/pull/7401#issuecomment-651935683","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7401","id":651935683,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTkzNTY4Mw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T17:27:14Z","updated_at":"2020-06-30T17:27:14Z","author_association":"CONTRIBUTOR","body":"@sijie One more thing. There are a couple more calls to create ledgers, we should then do try/catch on all of them:\r\n\r\n```\r\n$ git grep '\\.asyncCreateLedger' | grep -v test\r\nmanaged-ledger/src/main/java/org/apache/bookkeeper/mledger/impl/ManagedCursorImpl.java:        ledger.asyncCreateLedger(bookkeeper, config, digestType, (rc, lh, ctx) -> {\r\nmanaged-ledger/src/main/java/org/apache/bookkeeper/mledger/impl/ManagedLedgerImpl.java:            bookKeeper.asyncCreateLedger(config.getEnsembleSize(), config.getWriteQuorumSize(), config.getAckQuorumSize(),\r\npulsar-broker/src/main/java/org/apache/pulsar/broker/service/schema/BookkeeperSchemaStorage.java:        bookKeeper.asyncCreateLedger(\r\npulsar-broker/src/main/java/org/apache/pulsar/compaction/TwoPhaseCompactor.java:        bk.asyncCreateLedger(conf.getManagedLedgerDefaultEnsembleSize(),\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651935683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651944957","html_url":"https://github.com/apache/pulsar/pull/7401#issuecomment-651944957","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7401","id":651944957,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTk0NDk1Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T17:45:15Z","updated_at":"2020-06-30T17:45:15Z","author_association":"CONTRIBUTOR","body":"Anyway, we can do in separate PR. But my next question is: can the NPE also happen on `asyncAddEntry()` calls?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/651944957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652034073","html_url":"https://github.com/apache/pulsar/pull/7401#issuecomment-652034073","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7401","id":652034073,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjAzNDA3Mw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T20:46:27Z","updated_at":"2020-06-30T20:46:27Z","author_association":"MEMBER","body":"@merlimat the DNS resolution problem only happens when creating a ledger. So it doesn't happen on adding entries.\r\n\r\nI think we should release a bug fix release on bookkeeper soon.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652034073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652056624","html_url":"https://github.com/apache/pulsar/pull/7403#issuecomment-652056624","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7403","id":652056624,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjA1NjYyNA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T21:30:55Z","updated_at":"2020-06-30T21:30:55Z","author_association":"MEMBER","body":"@merlimat thank you for taking care of these places!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652056624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652141931","html_url":"https://github.com/apache/pulsar/pull/7400#issuecomment-652141931","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7400","id":652141931,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE0MTkzMQ==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T02:00:40Z","updated_at":"2020-07-01T02:00:40Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652141931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652142984","html_url":"https://github.com/apache/pulsar/issues/7394#issuecomment-652142984","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7394","id":652142984,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE0Mjk4NA==","user":{"login":"aloyszhang","id":48062889,"node_id":"MDQ6VXNlcjQ4MDYyODg5","avatar_url":"https://avatars.githubusercontent.com/u/48062889?v=4","gravatar_id":"","url":"https://api.github.com/users/aloyszhang","html_url":"https://github.com/aloyszhang","followers_url":"https://api.github.com/users/aloyszhang/followers","following_url":"https://api.github.com/users/aloyszhang/following{/other_user}","gists_url":"https://api.github.com/users/aloyszhang/gists{/gist_id}","starred_url":"https://api.github.com/users/aloyszhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloyszhang/subscriptions","organizations_url":"https://api.github.com/users/aloyszhang/orgs","repos_url":"https://api.github.com/users/aloyszhang/repos","events_url":"https://api.github.com/users/aloyszhang/events{/privacy}","received_events_url":"https://api.github.com/users/aloyszhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T02:04:39Z","updated_at":"2020-07-01T02:07:13Z","author_association":"CONTRIBUTOR","body":"@codelipenghui  I think partition update is not supportted for no-persistent topic  right now. We should implement it first","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652142984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652143703","html_url":"https://github.com/apache/pulsar/pull/7389#issuecomment-652143703","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7389","id":652143703,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE0MzcwMw==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T02:07:30Z","updated_at":"2020-07-01T02:07:30Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652143703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652146538","html_url":"https://github.com/apache/pulsar/issues/7395#issuecomment-652146538","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7395","id":652146538,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE0NjUzOA==","user":{"login":"aloyszhang","id":48062889,"node_id":"MDQ6VXNlcjQ4MDYyODg5","avatar_url":"https://avatars.githubusercontent.com/u/48062889?v=4","gravatar_id":"","url":"https://api.github.com/users/aloyszhang","html_url":"https://github.com/aloyszhang","followers_url":"https://api.github.com/users/aloyszhang/followers","following_url":"https://api.github.com/users/aloyszhang/following{/other_user}","gists_url":"https://api.github.com/users/aloyszhang/gists{/gist_id}","starred_url":"https://api.github.com/users/aloyszhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloyszhang/subscriptions","organizations_url":"https://api.github.com/users/aloyszhang/orgs","repos_url":"https://api.github.com/users/aloyszhang/repos","events_url":"https://api.github.com/users/aloyszhang/events{/privacy}","received_events_url":"https://api.github.com/users/aloyszhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T02:17:42Z","updated_at":"2020-07-01T02:17:42Z","author_association":"CONTRIBUTOR","body":"@fmiguelez  Maybe this is because topic has no message yet.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652146538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652150095","html_url":"https://github.com/apache/pulsar/issues/7056#issuecomment-652150095","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7056","id":652150095,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE1MDA5NQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T02:29:38Z","updated_at":"2020-07-01T02:29:38Z","author_association":"MEMBER","body":"The doc issue has been fixed.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652150095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652150550","html_url":"https://github.com/apache/pulsar/issues/6086#issuecomment-652150550","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6086","id":652150550,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE1MDU1MA==","user":{"login":"Anonymitaet","id":50226895,"node_id":"MDQ6VXNlcjUwMjI2ODk1","avatar_url":"https://avatars.githubusercontent.com/u/50226895?v=4","gravatar_id":"","url":"https://api.github.com/users/Anonymitaet","html_url":"https://github.com/Anonymitaet","followers_url":"https://api.github.com/users/Anonymitaet/followers","following_url":"https://api.github.com/users/Anonymitaet/following{/other_user}","gists_url":"https://api.github.com/users/Anonymitaet/gists{/gist_id}","starred_url":"https://api.github.com/users/Anonymitaet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Anonymitaet/subscriptions","organizations_url":"https://api.github.com/users/Anonymitaet/orgs","repos_url":"https://api.github.com/users/Anonymitaet/repos","events_url":"https://api.github.com/users/Anonymitaet/events{/privacy}","received_events_url":"https://api.github.com/users/Anonymitaet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T02:31:10Z","updated_at":"2020-07-01T02:31:10Z","author_association":"MEMBER","body":"Hi @addisonj, we have documented Pulsar Functions docs [here](https://streamnative.io/docs/latest/process/pulsar-functions/overview) and do not have the contents of this PR. \r\nSince you are familiar with the context, could u pls help provide docs? Many thanks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652150550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652169214","html_url":"https://github.com/apache/pulsar/pull/7341#issuecomment-652169214","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7341","id":652169214,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE2OTIxNA==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T03:37:41Z","updated_at":"2020-07-01T03:37:41Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652169214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652195601","html_url":"https://github.com/apache/pulsar/pull/7386#issuecomment-652195601","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7386","id":652195601,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE5NTYwMQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T05:13:47Z","updated_at":"2020-07-01T05:13:47Z","author_association":"MEMBER","body":"@wolfstudy to help review it","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652195601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652208394","html_url":"https://github.com/apache/pulsar/issues/7395#issuecomment-652208394","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7395","id":652208394,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjIwODM5NA==","user":{"login":"fmiguelez","id":10461228,"node_id":"MDQ6VXNlcjEwNDYxMjI4","avatar_url":"https://avatars.githubusercontent.com/u/10461228?v=4","gravatar_id":"","url":"https://api.github.com/users/fmiguelez","html_url":"https://github.com/fmiguelez","followers_url":"https://api.github.com/users/fmiguelez/followers","following_url":"https://api.github.com/users/fmiguelez/following{/other_user}","gists_url":"https://api.github.com/users/fmiguelez/gists{/gist_id}","starred_url":"https://api.github.com/users/fmiguelez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmiguelez/subscriptions","organizations_url":"https://api.github.com/users/fmiguelez/orgs","repos_url":"https://api.github.com/users/fmiguelez/repos","events_url":"https://api.github.com/users/fmiguelez/events{/privacy}","received_events_url":"https://api.github.com/users/fmiguelez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T05:56:04Z","updated_at":"2020-07-01T05:56:04Z","author_association":"CONTRIBUTOR","body":"@aloyszhang I indicate that I produce to topic first and then I try to read last message by getting last message ID so I can seek that message.\r\n\r\nThis is extract of a test that had been running just fine up to previous version 2.5.2. The BUG is in 2.6.0 I presume. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652208394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652218339","html_url":"https://github.com/apache/pulsar/issues/7238#issuecomment-652218339","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7238","id":652218339,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjIxODMzOQ==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T06:25:15Z","updated_at":"2020-07-01T06:25:15Z","author_association":"CONTRIBUTOR","body":"@codelipenghui , it seems the pulsar website is updated and the schema registry is not displayed under the concept section when you search for the schema registry. therefore, i think the issue can be closed.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652218339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652240553","html_url":"https://github.com/apache/pulsar/issues/7287#issuecomment-652240553","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7287","id":652240553,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjI0MDU1Mw==","user":{"login":"97arushisharma","id":23057357,"node_id":"MDQ6VXNlcjIzMDU3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/23057357?v=4","gravatar_id":"","url":"https://api.github.com/users/97arushisharma","html_url":"https://github.com/97arushisharma","followers_url":"https://api.github.com/users/97arushisharma/followers","following_url":"https://api.github.com/users/97arushisharma/following{/other_user}","gists_url":"https://api.github.com/users/97arushisharma/gists{/gist_id}","starred_url":"https://api.github.com/users/97arushisharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/97arushisharma/subscriptions","organizations_url":"https://api.github.com/users/97arushisharma/orgs","repos_url":"https://api.github.com/users/97arushisharma/repos","events_url":"https://api.github.com/users/97arushisharma/events{/privacy}","received_events_url":"https://api.github.com/users/97arushisharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T07:20:18Z","updated_at":"2020-07-01T07:20:18Z","author_association":"NONE","body":"@tuteng Thanks a lot. It worked. Apparantly, I was not including the `useTls=true` property in `functions_worker.yml` file.\r\n\r\nJust a question what is the difference between using `tlsEnabled` and `useTls` in `functions_worker.yml`?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652240553/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652252521","html_url":"https://github.com/apache/pulsar/issues/4803#issuecomment-652252521","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4803","id":652252521,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjI1MjUyMQ==","user":{"login":"fmiguelez","id":10461228,"node_id":"MDQ6VXNlcjEwNDYxMjI4","avatar_url":"https://avatars.githubusercontent.com/u/10461228?v=4","gravatar_id":"","url":"https://api.github.com/users/fmiguelez","html_url":"https://github.com/fmiguelez","followers_url":"https://api.github.com/users/fmiguelez/followers","following_url":"https://api.github.com/users/fmiguelez/following{/other_user}","gists_url":"https://api.github.com/users/fmiguelez/gists{/gist_id}","starred_url":"https://api.github.com/users/fmiguelez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmiguelez/subscriptions","organizations_url":"https://api.github.com/users/fmiguelez/orgs","repos_url":"https://api.github.com/users/fmiguelez/repos","events_url":"https://api.github.com/users/fmiguelez/events{/privacy}","received_events_url":"https://api.github.com/users/fmiguelez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T07:45:27Z","updated_at":"2020-07-01T07:45:27Z","author_association":"CONTRIBUTOR","body":"@gaoran10, @jiazhai I have opened a new ticket #7407 as indicated","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652252521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652299170","html_url":"https://github.com/apache/pulsar/pull/7341#issuecomment-652299170","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7341","id":652299170,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjI5OTE3MA==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T09:15:36Z","updated_at":"2020-07-01T09:15:36Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652299170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652322280","html_url":"https://github.com/apache/pulsar/pull/7406#issuecomment-652322280","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7406","id":652322280,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjMyMjI4MA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T10:00:26Z","updated_at":"2020-07-01T10:00:26Z","author_association":"CONTRIBUTOR","body":"> Regarding the lower limit per each IO thread, in which 1 single connection cannot use the entire memory space, I don't think it's an issue at all.\r\n\r\nThere are some users who use few producers to publish messages, in order to have a better batch effect to improve throughput. We cannot assume 1 single connection cannot use the entire memory space. Our purpose is to control memory and make effective use of memory. I think split memory according to io thread may decrease the memory utilization.\r\n\r\nHow about using a LongAdder to record the current pending bytes and remove the check tasks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652322280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652323044","html_url":"https://github.com/apache/pulsar/pull/7411#issuecomment-652323044","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7411","id":652323044,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjMyMzA0NA==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T10:01:47Z","updated_at":"2020-07-01T10:01:47Z","author_association":"CONTRIBUTOR","body":"@Jennifer88huang , please add the tag for 2.6.0 and 2.6.1 for cherry-pick.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652323044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652328032","html_url":"https://github.com/apache/pulsar/pull/7389#issuecomment-652328032","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7389","id":652328032,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjMyODAzMg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T10:10:57Z","updated_at":"2020-07-01T10:10:57Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652328032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652329251","html_url":"https://github.com/apache/pulsar/pull/7411#issuecomment-652329251","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7411","id":652329251,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjMyOTI1MQ==","user":{"login":"Jennifer88huang-zz","id":47805623,"node_id":"MDQ6VXNlcjQ3ODA1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/47805623?v=4","gravatar_id":"","url":"https://api.github.com/users/Jennifer88huang-zz","html_url":"https://github.com/Jennifer88huang-zz","followers_url":"https://api.github.com/users/Jennifer88huang-zz/followers","following_url":"https://api.github.com/users/Jennifer88huang-zz/following{/other_user}","gists_url":"https://api.github.com/users/Jennifer88huang-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jennifer88huang-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jennifer88huang-zz/subscriptions","organizations_url":"https://api.github.com/users/Jennifer88huang-zz/orgs","repos_url":"https://api.github.com/users/Jennifer88huang-zz/repos","events_url":"https://api.github.com/users/Jennifer88huang-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Jennifer88huang-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T10:13:29Z","updated_at":"2020-07-01T10:13:29Z","author_association":"CONTRIBUTOR","body":"@jiazhai @tuteng shall we add labels for major releases, such as \"release/2.6.0\"? It seems that we can only add one milestone.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652329251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652334719","html_url":"https://github.com/apache/pulsar/pull/6752#issuecomment-652334719","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6752","id":652334719,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjMzNDcxOQ==","user":{"login":"wolfstudy","id":20965307,"node_id":"MDQ6VXNlcjIwOTY1MzA3","avatar_url":"https://avatars.githubusercontent.com/u/20965307?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfstudy","html_url":"https://github.com/wolfstudy","followers_url":"https://api.github.com/users/wolfstudy/followers","following_url":"https://api.github.com/users/wolfstudy/following{/other_user}","gists_url":"https://api.github.com/users/wolfstudy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfstudy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfstudy/subscriptions","organizations_url":"https://api.github.com/users/wolfstudy/orgs","repos_url":"https://api.github.com/users/wolfstudy/repos","events_url":"https://api.github.com/users/wolfstudy/events{/privacy}","received_events_url":"https://api.github.com/users/wolfstudy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T10:25:04Z","updated_at":"2020-07-01T10:25:04Z","author_association":"MEMBER","body":"ping @sijie @jerrypeng @codelipenghui  @jiazhai PTAL again, thanks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652334719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652395111","html_url":"https://github.com/apache/pulsar/pull/7416#issuecomment-652395111","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7416","id":652395111,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjM5NTExMQ==","user":{"login":"feeblefakie","id":1052473,"node_id":"MDQ6VXNlcjEwNTI0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1052473?v=4","gravatar_id":"","url":"https://api.github.com/users/feeblefakie","html_url":"https://github.com/feeblefakie","followers_url":"https://api.github.com/users/feeblefakie/followers","following_url":"https://api.github.com/users/feeblefakie/following{/other_user}","gists_url":"https://api.github.com/users/feeblefakie/gists{/gist_id}","starred_url":"https://api.github.com/users/feeblefakie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feeblefakie/subscriptions","organizations_url":"https://api.github.com/users/feeblefakie/orgs","repos_url":"https://api.github.com/users/feeblefakie/repos","events_url":"https://api.github.com/users/feeblefakie/events{/privacy}","received_events_url":"https://api.github.com/users/feeblefakie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T12:42:04Z","updated_at":"2020-07-01T12:42:04Z","author_association":"NONE","body":"@codelipenghui Oh, great. it is pretty fast.\r\nWas it related to the changes in between 2.5.0 and 2.6.0 ?\r\nJust asking because it doesn’t look so.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652395111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652396037","html_url":"https://github.com/apache/pulsar/pull/7416#issuecomment-652396037","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7416","id":652396037,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjM5NjAzNw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T12:44:13Z","updated_at":"2020-07-01T12:44:13Z","author_association":"CONTRIBUTOR","body":"@feeblefakie it's introduced by #7107. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652396037/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652396552","html_url":"https://github.com/apache/pulsar/pull/7406#issuecomment-652396552","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7406","id":652396552,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjM5NjU1Mg==","user":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T12:45:25Z","updated_at":"2020-07-01T12:49:52Z","author_association":"CONTRIBUTOR","body":"@codelipenghui A LongAdder would still cause contention on every entry, as to sum it has to view all cells. To allow a single thread to use the full buffer when there's little traffic on the other threads, we should use a token bucket, as networking folks have been doing for decades.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652396552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652396867","html_url":"https://github.com/apache/pulsar/pull/7416#issuecomment-652396867","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7416","id":652396867,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjM5Njg2Nw==","user":{"login":"feeblefakie","id":1052473,"node_id":"MDQ6VXNlcjEwNTI0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1052473?v=4","gravatar_id":"","url":"https://api.github.com/users/feeblefakie","html_url":"https://github.com/feeblefakie","followers_url":"https://api.github.com/users/feeblefakie/followers","following_url":"https://api.github.com/users/feeblefakie/following{/other_user}","gists_url":"https://api.github.com/users/feeblefakie/gists{/gist_id}","starred_url":"https://api.github.com/users/feeblefakie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feeblefakie/subscriptions","organizations_url":"https://api.github.com/users/feeblefakie/orgs","repos_url":"https://api.github.com/users/feeblefakie/repos","events_url":"https://api.github.com/users/feeblefakie/events{/privacy}","received_events_url":"https://api.github.com/users/feeblefakie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T12:46:07Z","updated_at":"2020-07-01T12:46:07Z","author_association":"NONE","body":"@codelipenghui Thank you ! 🙇‍♂️","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652396867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652402465","html_url":"https://github.com/apache/pulsar/pull/7396#issuecomment-652402465","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7396","id":652402465,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQwMjQ2NQ==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T12:58:01Z","updated_at":"2020-07-01T12:58:01Z","author_association":"CONTRIBUTOR","body":"will check all docs and fix them one by one. Thx","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652402465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652403667","html_url":"https://github.com/apache/pulsar/pull/7406#issuecomment-652403667","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7406","id":652403667,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQwMzY2Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T13:00:25Z","updated_at":"2020-07-01T13:00:25Z","author_association":"CONTRIBUTOR","body":"> There are some users who use few producers to publish messages, in order to have a better batch effect to improve throughput.\r\n\r\nI have, of course, tested it and as expected once you have few MBs of runway, there's no throughput advantage in allowing it to grow higher.\r\n\r\n> We cannot assume 1 single connection cannot use the entire memory space.\r\n\r\nWe should assume that, because allowing 1 single connection to take over the entire quota of the broker and stalling all other connections is bad.\r\n\r\n> Our purpose is to control memory and make effective use of memory.\r\n\r\nEffectively **and** efficiently, in a scalable manner.\r\n\r\n> I think split memory according to io thread may decrease the memory utilization.\r\n\r\nIf there's no negative impact on throughput, that is a good thing. That memory can be used on dispatch side.\r\n\r\n> How about using a LongAdder to record the current pending bytes and remove the check tasks.\r\n\r\nThe LongAdder would not allow you to remove the check tasks. The LongAdder only difference, compared to an AtomicLong, is that it's optimized for writes (thread-local counters), but the read path is extra slow and meant to be used infrequently.\r\n\r\nThat doesn't solve the multiple issue I've outlined above, in particular the need for the check task.\r\n\r\nA single broker, can be very easily be serving 100s of thousands of producers at a given point in time. Some of them active, some of them idle. \r\n\r\nFrequently looping over all the producers (just to get to the connections) is just burning a lot of CPU.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652403667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652412677","html_url":"https://github.com/apache/pulsar/pull/7406#issuecomment-652412677","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7406","id":652412677,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQxMjY3Nw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T13:17:19Z","updated_at":"2020-07-01T13:17:19Z","author_association":"CONTRIBUTOR","body":"> Frequently looping over all the producers (just to get to the connections) is just burning a lot of CPU.\r\n\r\nI agree with this point. I just want to say the pending buffer is sensitive to write throughput, especially on machines with less memory. If we split it into multiple parts, when there are fewer connections, the channel will enable auto-read, disable auto-read frequently, And it is possible that some parts are available pending more messages.\r\n\r\n> The LongAdder would not allow you to remove the check tasks. The LongAdder only difference, compared to an AtomicLong, is that it's optimized for writes (thread-local counters), but the read path is extra slow and meant to be used infrequently.\r\n\r\nThe io threads count not much, will we add up to a few numbers each time will become a bottleneck? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652412677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652426030","html_url":"https://github.com/apache/pulsar/pull/7396#issuecomment-652426030","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7396","id":652426030,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQyNjAzMA==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T13:42:16Z","updated_at":"2020-07-01T13:42:16Z","author_association":"CONTRIBUTOR","body":"@Anonymitaet , docs have been updated, please help double check. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652426030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652449856","html_url":"https://github.com/apache/pulsar/pull/7406#issuecomment-652449856","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7406","id":652449856,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQ0OTg1Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T14:24:14Z","updated_at":"2020-07-01T14:24:14Z","author_association":"CONTRIBUTOR","body":"> I just want to say the pending buffer is sensitive to write throughput, especially on machines with less memory. If we split it into multiple parts, when there are fewer connections, the channel will enable auto-read, disable auto-read frequently, \r\n\r\nHow much is less memory? Once you have 10s of MB per thread (or per connection, if you have a single connection), there will be no more improvement in letting it use more memory. \r\n\r\nIt's the same reason for which the OS network stack doesn't let you grow the TCP window indefinitely. There are OS limits that are in place, because: (1) too much doesn't help and (2) it starve other users. \r\n\r\nThe current default settings we have is `-XX:MaxDirectMemorySize=4g`.\r\nThat means that with 16 cores, you'd get, by default, 32 IO threads.\r\nWith this, each thread gets 128MB of buffer size, which is far greater than any TCP window size you'd get from Linux.\r\n\r\nAlso, 4G for a VM with 16 cores is very little memory ratio. Such VM would typically be having 64GB or higher. \r\n\r\nReversely, in container environment, mem is usually capped lower, but so is the CPU limit. If you limit the CPUs on the broker container, the default IO threads count will adjust accordingly, balancing the situation.\r\n\r\n> If we split it into multiple parts, when there are fewer connections, the channel will enable auto-read, disable auto-read frequently,\r\n\r\nWe're already doing that with the per-connection `pendingSendRequest` (default 1K) and there's no perf impact. \r\n\r\n> And it is possible that some parts are available pending more messages.\r\n\r\n> The io threads count not much, will we add up to a few numbers each time will become a bottleneck?\r\n\r\nI'm not sure what you mean here.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652449856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652450521","html_url":"https://github.com/apache/pulsar/issues/7418#issuecomment-652450521","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7418","id":652450521,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQ1MDUyMQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T14:25:17Z","updated_at":"2020-07-01T14:25:17Z","author_association":"CONTRIBUTOR","body":"Same problem happens for short-lived producers","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652450521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652454604","html_url":"https://github.com/apache/pulsar/pull/7406#issuecomment-652454604","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7406","id":652454604,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQ1NDYwNA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T14:32:22Z","updated_at":"2020-07-01T14:32:22Z","author_association":"CONTRIBUTOR","body":"> The io threads count not much, will we add up to a few numbers each time will become a bottleneck?\r\n> I'm not sure what you mean here.\r\n\r\nSorry I didn't make it clear. I mean if we have 32 io thread, for each message we sum 32 numbers, is this will be a bottleneck of the broker? I just want to know the disadvantages of using Longadder.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652454604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652464742","html_url":"https://github.com/apache/pulsar/issues/6086#issuecomment-652464742","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6086","id":652464742,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQ2NDc0Mg==","user":{"login":"addison","id":5479128,"node_id":"MDQ6VXNlcjU0NzkxMjg=","avatar_url":"https://avatars.githubusercontent.com/u/5479128?v=4","gravatar_id":"","url":"https://api.github.com/users/addison","html_url":"https://github.com/addison","followers_url":"https://api.github.com/users/addison/followers","following_url":"https://api.github.com/users/addison/following{/other_user}","gists_url":"https://api.github.com/users/addison/gists{/gist_id}","starred_url":"https://api.github.com/users/addison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addison/subscriptions","organizations_url":"https://api.github.com/users/addison/orgs","repos_url":"https://api.github.com/users/addison/repos","events_url":"https://api.github.com/users/addison/events{/privacy}","received_events_url":"https://api.github.com/users/addison/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T14:49:29Z","updated_at":"2020-07-01T14:49:29Z","author_association":"NONE","body":"I think you have the wrong “Addison” here. I’m @addison rather than @addisonj\r\n\r\nAddison\r\n\r\nAddison Phillips\r\nSr. Principal SDE – I18N (Amazon)\r\nChair (W3C I18N WG)\r\n\r\nInternationalization is not a feature.\r\nIt is an architecture.\r\n\r\n\r\n\r\nFrom: Yu Liu [mailto:notifications@github.com]\r\nSent: Tuesday, June 30, 2020 7:31 PM\r\nTo: apache/pulsar <pulsar@noreply.github.com>\r\nCc: Phillips, Addison <addison@lab126.com>; Mention <mention@noreply.github.com>\r\nSubject: Re: [apache/pulsar] [docs] Add doc on how to run Pulsar Functions as pod in Kubernetes (#6086)\r\n\r\n\r\nHi @addisonj<https://github.com/addisonj>, we have documented Pulsar Functions docs here<https://streamnative.io/docs/latest/process/pulsar-functions/overview> and do not have the contents of this PR.\r\nSince you are familiar with the context, could u pls help provide docs? Many thanks\r\n\r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub<https://github.com/apache/pulsar/issues/6086#issuecomment-652150550>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/ABJZVWE2U6VOLVWE2TQ6OMDRZKNXZANCNFSM4KIWRS2A>.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652464742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652501541","html_url":"https://github.com/apache/pulsar/pull/7408#issuecomment-652501541","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7408","id":652501541,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjUwMTU0MQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T15:52:47Z","updated_at":"2020-07-01T15:52:47Z","author_association":"MEMBER","body":"@gaoran10 @nlu90  Would you please also help review this change?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652501541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652502576","html_url":"https://github.com/apache/pulsar/pull/7300#issuecomment-652502576","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7300","id":652502576,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjUwMjU3Ng==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T15:54:37Z","updated_at":"2020-07-01T15:54:37Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652502576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652707042","html_url":"https://github.com/apache/pulsar/pull/7420#issuecomment-652707042","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7420","id":652707042,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcwNzA0Mg==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T00:14:40Z","updated_at":"2020-07-02T00:14:40Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652707042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652722103","html_url":"https://github.com/apache/pulsar/issues/7395#issuecomment-652722103","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7395","id":652722103,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyMjEwMw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:12:13Z","updated_at":"2020-07-02T01:12:13Z","author_association":"CONTRIBUTOR","body":"@fmiguelez Looks this a bug, the broker should return a real message ID ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652722103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652723857","html_url":"https://github.com/apache/pulsar/issues/7394#issuecomment-652723857","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7394","id":652723857,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyMzg1Nw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:17:55Z","updated_at":"2020-07-02T01:17:55Z","author_association":"CONTRIBUTOR","body":"@aloyszhang Thanks for your replay, I think we can return clear information when update partitions on a non-partitioned topic first. Currently, \"Reason: Topic is not partitioned topic\" is really confusing.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652723857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652724852","html_url":"https://github.com/apache/pulsar/pull/7341#issuecomment-652724852","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7341","id":652724852,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyNDg1Mg==","user":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:21:49Z","updated_at":"2020-07-02T01:21:49Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652724852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652727614","html_url":"https://github.com/apache/pulsar/issues/6967#issuecomment-652727614","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6967","id":652727614,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyNzYxNA==","user":{"login":"Huanli-Meng","id":48120384,"node_id":"MDQ6VXNlcjQ4MTIwMzg0","avatar_url":"https://avatars.githubusercontent.com/u/48120384?v=4","gravatar_id":"","url":"https://api.github.com/users/Huanli-Meng","html_url":"https://github.com/Huanli-Meng","followers_url":"https://api.github.com/users/Huanli-Meng/followers","following_url":"https://api.github.com/users/Huanli-Meng/following{/other_user}","gists_url":"https://api.github.com/users/Huanli-Meng/gists{/gist_id}","starred_url":"https://api.github.com/users/Huanli-Meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huanli-Meng/subscriptions","organizations_url":"https://api.github.com/users/Huanli-Meng/orgs","repos_url":"https://api.github.com/users/Huanli-Meng/repos","events_url":"https://api.github.com/users/Huanli-Meng/events{/privacy}","received_events_url":"https://api.github.com/users/Huanli-Meng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:32:42Z","updated_at":"2020-07-02T01:32:42Z","author_association":"CONTRIBUTOR","body":"@Mefl , how about the process?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652727614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652728121","html_url":"https://github.com/apache/pulsar/issues/7390#issuecomment-652728121","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7390","id":652728121,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyODEyMQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:34:29Z","updated_at":"2020-07-02T01:34:29Z","author_association":"MEMBER","body":"@zymap What is the version of pulsar you are using?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652728121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652731075","html_url":"https://github.com/apache/pulsar/issues/7391#issuecomment-652731075","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7391","id":652731075,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjczMTA3NQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:46:30Z","updated_at":"2020-07-02T01:46:30Z","author_association":"MEMBER","body":"Thanks @xuesong172500 for open this issue. This is a feature request. It may be good it we could do the function package management. @zymap has some investigation on this. @zymap Would you please help provide more information on your investigation?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652731075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652733005","html_url":"https://github.com/apache/pulsar/issues/7392#issuecomment-652733005","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7392","id":652733005,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjczMzAwNQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:54:04Z","updated_at":"2020-07-02T01:54:04Z","author_association":"MEMBER","body":"It seems the DNS cache is not cleared, and cause the consumer connection still using the old address. Could you set a shorter DNS cache time period? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652733005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652733367","html_url":"https://github.com/apache/pulsar/issues/7392#issuecomment-652733367","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7392","id":652733367,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjczMzM2Nw==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:55:18Z","updated_at":"2020-07-02T01:55:18Z","author_association":"MEMBER","body":"Would like to close this issue, is issue not solved, we could open new issue.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652733367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652736018","html_url":"https://github.com/apache/pulsar/issues/7394#issuecomment-652736018","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7394","id":652736018,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjczNjAxOA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:04:31Z","updated_at":"2020-07-02T02:04:31Z","author_association":"MEMBER","body":"The first step would be fix the error log:\r\n```\r\n20:58:58.450 [AsyncHttpClient-7-1] WARN  org.apache.pulsar.client.admin.internal.BaseResource - [http://localhost:8080/admin/v2/non-persistent/public/default/xyz/partitions?updateLocalTopicOnly=false] Failed to perform http post request: javax.ws.rs.ClientErrorException: HTTP 409 Conflict\r\nTopic is not partitioned topic\r\n\r\nReason: Topic is not partitioned topic\r\n```\r\nIt is partitioned topic, but non-persistent ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652736018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652736519","html_url":"https://github.com/apache/pulsar/issues/7397#issuecomment-652736519","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7397","id":652736519,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjczNjUxOQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:06:20Z","updated_at":"2020-07-02T02:06:20Z","author_association":"MEMBER","body":"Thanks for @codelipenghui 's detailed report. mark it as `help wanted` for anyone interest to contribute to it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652736519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652737294","html_url":"https://github.com/apache/pulsar/issues/7395#issuecomment-652737294","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7395","id":652737294,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjczNzI5NA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:08:59Z","updated_at":"2020-07-02T02:08:59Z","author_association":"MEMBER","body":"looks like a regression when handling getLastMessageId in managedLedger.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652737294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652738200","html_url":"https://github.com/apache/pulsar/issues/7398#issuecomment-652738200","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7398","id":652738200,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjczODIwMA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:12:26Z","updated_at":"2020-07-02T02:12:26Z","author_association":"MEMBER","body":"Thanks @KannarFr for open this issue. Are there steps to reproduce this issue? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652738200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652740941","html_url":"https://github.com/apache/pulsar/issues/7405#issuecomment-652740941","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7405","id":652740941,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mjc0MDk0MQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:22:30Z","updated_at":"2020-07-02T02:22:30Z","author_association":"MEMBER","body":"@xuesong172500 Thanks for open this issue.\r\nSeems there is some error logs need to analysis.\r\n```\r\n10:38:47.798 [function-web-20-8] ERROR org.apache.pulsar.functions.worker.rest.api.ComponentImpl - Operation not permitted on pulsar/system/streamPulsarBcn\r\n```\r\n\r\n```\r\n12:40:50.755 [pulsar-client-io-15-1] ERROR org.apache.pulsar.functions.worker.FunctionMetaDataTopicTailer - Failed to retrieve messages from function state topic\r\njava.util.concurrent.CompletionException: org.apache.pulsar.client.api.PulsarClientException$AlreadyClosedException: The consumer which subscribes the topic persistent://public/functions/metadata with subscription name reader-5a68249449 was already closed when cleaning and closing the consumers\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292) ~[?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308) ~[?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:593) ~[?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577) ~[?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474) ~[?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977) ~[?:1.8.0_151]\r\n\tat org.apache.pulsar.client.impl.ConsumerImpl.failPendingReceive(ConsumerImpl.java:814) ~[org.apache.pulsar-pulsar-client-original-2.5.1.jar:2.5.1]\r\n\tat org.apache.pulsar.client.impl.ConsumerImpl.cleanupAtClose(ConsumerImpl.java:795) ~[org.apache.pulsar-pulsar-client-original-2.5.1.jar:2.5.1]\r\n\tat org.apache.pulsar.client.impl.ConsumerImpl.lambda$closeAsync$4(ConsumerImpl.java:777) ~[org.apache.pulsar-pulsar-client-original-2.5.1.jar:2.5.1]\r\n\tat java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:822) [?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:797) [?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474) [?:1.8.0_151]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962) [?:1.8.0_151]\r\n\tat org.apache.pulsar.client.impl.ClientCnx.handleSuccess(ClientCnx.java:413) [org.apache.pulsar-pulsar-client-original-2.5.1.jar:2.5.1]\r\n\tat org.apache.pulsar.common.protocol.PulsarDecoder.channelRead(PulsarDecoder.java:222) [org.apache.pulsar-pulsar-common-2.5.1.jar:2.5.1]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:321) [io.netty-netty-codec-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:295) [io.netty-netty-codec-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [io.netty-netty-transport-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [io.netty-netty-transport-native-epoll-4.1.45.Final-linux-x86_64.jar:4.1.45.Final]\r\n\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475) [io.netty-netty-transport-native-epoll-4.1.45.Final-linux-x86_64.jar:4.1.45.Final]\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) [io.netty-netty-transport-native-epoll-4.1.45.Final-linux-x86_64.jar:4.1.45.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [io.netty-netty-common-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [io.netty-netty-common-4.1.45.Final.jar:4.1.45.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [io.netty-netty-common-4.1.45.Final.jar:4.1.45.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_151]\r\nCaused by: org.apache.pulsar.client.api.PulsarClientException$AlreadyClosedException: The consumer which subscribes the topic persistent://public/functions/metadata with subscription name reader-5a68249449 was already closed when cleaning and closing the consumers\r\n\tat org.apache.pulsar.client.impl.ConsumerImpl.failPendingReceive(ConsumerImpl.java:816) ~[org.apache.pulsar-pulsar-client-original-2.5.1.jar:2.5.1]\r\n\t... 27 more\r\n```\r\n\r\n```\r\n13:55:59.544 [function-web-20-5] ERROR org.apache.pulsar.functions.worker.rest.api.ComponentImpl - Function to deregister does not exist @ /pulsar/system/streamPulsarBcn\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652740941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652741491","html_url":"https://github.com/apache/pulsar/issues/7407#issuecomment-652741491","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7407","id":652741491,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mjc0MTQ5MQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:24:13Z","updated_at":"2020-07-02T02:24:13Z","author_association":"MEMBER","body":"Thanks @fmiguelez for open the issue and related PR. @gaoran10 to help review the Pr.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652741491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652742516","html_url":"https://github.com/apache/pulsar/issues/7412#issuecomment-652742516","issue_url":"https://api.github.com/repos/apache/pulsar/issues/7412","id":652742516,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mjc0MjUxNg==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:27:04Z","updated_at":"2020-07-02T02:27:04Z","author_association":"MEMBER","body":"Would like to unassign @tuteng . so that anyone interest to contribute to this feature could work on it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/652742516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]