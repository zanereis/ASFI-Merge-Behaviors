[{"url":"https://api.github.com/repos/apache/jena/issues/comments/455852952","html_url":"https://github.com/apache/jena/pull/522#issuecomment-455852952","issue_url":"https://api.github.com/repos/apache/jena/issues/522","id":455852952,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTg1Mjk1Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-20T10:06:20Z","updated_at":"2019-01-20T10:06:20Z","author_association":"MEMBER","body":"The lock file is the only thing that stops TDB1 and TBD2 having the same directory! It wasn't \"by design\" either way round. But it is better to keep them separate as it get confusing. I can't see any value in both in the same directory.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/455852952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/457921881","html_url":"https://github.com/apache/jena/pull/37#issuecomment-457921881","issue_url":"https://api.github.com/repos/apache/jena/issues/37","id":457921881,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzkyMTg4MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-27T14:21:24Z","updated_at":"2019-01-27T14:21:24Z","author_association":"MEMBER","body":"I don't use schemagen via maven so +1 to fix and merge.\r\n\r\nRelated:\r\nAt the moment (3.10.0) the maven module is commented out of the main build.\r\nLast release was 3.6.0. A change in the Apache parent broke this module.\r\n\r\nNot directly related:\r\nShall we move the source from the top of Jena to under jena-extras?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/457921881/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/457922301","html_url":"https://github.com/apache/jena/pull/37#issuecomment-457922301","issue_url":"https://api.github.com/repos/apache/jena/issues/37","id":457922301,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzkyMjMwMQ==","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-27T14:27:08Z","updated_at":"2019-01-27T14:27:08Z","author_association":"MEMBER","body":"This definitely makes more sense to me under `-extras`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/457922301/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/459948533","html_url":"https://github.com/apache/jena/pull/527#issuecomment-459948533","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":459948533,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTk0ODUzMw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-02T08:58:46Z","updated_at":"2019-02-02T08:58:46Z","author_association":"MEMBER","body":"See [JENA-1664](https://issues.apache.org/jira/browse/JENA-1664).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/459948533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/459948570","html_url":"https://github.com/apache/jena/pull/528#issuecomment-459948570","issue_url":"https://api.github.com/repos/apache/jena/issues/528","id":459948570,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTk0ODU3MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-02T08:59:20Z","updated_at":"2019-02-02T08:59:20Z","author_association":"MEMBER","body":"See [JENA-1665](https://issues.apache.org/jira/browse/JENA-1665).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/459948570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/459949019","html_url":"https://github.com/apache/jena/pull/527#issuecomment-459949019","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":459949019,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTk0OTAxOQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-02T09:05:36Z","updated_at":"2019-02-02T09:05:36Z","author_association":"MEMBER","body":"Hi Graham - good to see these two SDB pull requests.\r\n\r\nI've recorded them in JIRA and assigned myself to do the admin of getting them into the codebase.\r\n\r\n(It is unlikely to be this coming week (2019-02-03) because I'm not at my usual computer while travelling.)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/459949019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/459951045","html_url":"https://github.com/apache/jena/pull/527#issuecomment-459951045","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":459951045,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTk1MTA0NQ==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-02T09:38:55Z","updated_at":"2019-02-02T09:38:55Z","author_association":"CONTRIBUTOR","body":"Thanks Andy,\r\n\r\nI've also got a patch for pushing simple (e.g. just has variable expressions) ORDER BY clauses into the SQL statement, however:\r\n\r\n1) It touches the same files as this patch, so it's easier to open after this is applied.\r\n\r\n2) It doesn't apply exactly the same ordering as the iterator, although it should comply to the SPARQL spec for ORDER BY.\r\n\r\n3) On MySQL, for relatively small SELECTs, it doesn't have a performance benefit as the temporary table used for sorting is always written to disk. However, there is an improvement if you have a large select using a LIMIT - and the performance may be better on other databases if they handle the sorting of the temporary table better.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/459951045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/459987140","html_url":"https://github.com/apache/jena/pull/527#issuecomment-459987140","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":459987140,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTk4NzE0MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-02T18:20:51Z","updated_at":"2019-02-02T18:20:51Z","author_association":"MEMBER","body":"@grahamtriggs - A separate follow-on PR is fine.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/459987140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/460038001","html_url":"https://github.com/apache/jena/pull/527#issuecomment-460038001","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":460038001,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDAzODAwMQ==","user":{"login":"eroux","id":60868,"node_id":"MDQ6VXNlcjYwODY4","avatar_url":"https://avatars.githubusercontent.com/u/60868?v=4","gravatar_id":"","url":"https://api.github.com/users/eroux","html_url":"https://github.com/eroux","followers_url":"https://api.github.com/users/eroux/followers","following_url":"https://api.github.com/users/eroux/following{/other_user}","gists_url":"https://api.github.com/users/eroux/gists{/gist_id}","starred_url":"https://api.github.com/users/eroux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eroux/subscriptions","organizations_url":"https://api.github.com/users/eroux/orgs","repos_url":"https://api.github.com/users/eroux/repos","events_url":"https://api.github.com/users/eroux/events{/privacy}","received_events_url":"https://api.github.com/users/eroux/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-03T09:56:34Z","updated_at":"2019-02-03T09:56:34Z","author_association":"CONTRIBUTOR","body":"Is this really SDB specific? couldn't this optimization make it into Jena in a more generic way? (this might be a stupid question sorry)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/460038001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/461229721","html_url":"https://github.com/apache/jena/pull/527#issuecomment-461229721","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":461229721,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTIyOTcyMQ==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-06T23:28:26Z","updated_at":"2019-02-06T23:28:26Z","author_association":"CONTRIBUTOR","body":"@eroux It's unlikely that this would provide any benefit for TDB - it is addressing an issue that the SQL queries often result in joining large temporary tables. The way the algebra is rewritten means that the SQL generate will do index joins to limit the number of rows in the temporary table, which makes creating and joining those temporary tables take fewer resources.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/461229721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/461231663","html_url":"https://github.com/apache/jena/pull/528#issuecomment-461231663","issue_url":"https://api.github.com/repos/apache/jena/issues/528","id":461231663,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTIzMTY2Mw==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-06T23:36:41Z","updated_at":"2019-02-06T23:36:41Z","author_association":"CONTRIBUTOR","body":"I should add to this, that there are two different circumstances that should be considered:\r\n\r\n1) If you are frequently doing small inserts of triples - using multiple DB sessions - then this will have the most benefit, as the creation of the temporary table was a significant overhead.\r\n\r\n2) For large batch imports (e.g. sdbload), then it is important to include \"rewriteBatchedStatements=true\" as part of the MySQL connection string.\r\n\r\nUsing the rewriteBatchedStatements option takes batch triple loading from 3,500 - 6,000 triples a second to 12,000 to 20,000 triples per second, as the driver uses a more efficient operation for executeBatch().\r\n\r\n(This is on a SSD-based laptop, which can ingest at up to 35,000 triples per second for TDB2).\r\n\r\nAs you would expect, tuning MySQL buffer settings is important - once the buffer reaches capacity, the ingest will slow dramatically.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/461231663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/462063369","html_url":"https://github.com/apache/jena/pull/527#issuecomment-462063369","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":462063369,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjA2MzM2OQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-09T17:32:30Z","updated_at":"2019-02-09T17:32:30Z","author_association":"MEMBER","body":"@grahamtriggs - What is an example query to show this in action?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/462063369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/462271798","html_url":"https://github.com/apache/jena/pull/527#issuecomment-462271798","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":462271798,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjI3MTc5OA==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-11T10:00:09Z","updated_at":"2019-02-11T10:00:09Z","author_association":"CONTRIBUTOR","body":"@afs Hi - I'm not entirely sure what you want as an example. To see what it is doing, this is the simplest form of query:\r\n\r\n```\r\nSELECT ?sublect ?label\r\nWHERE {\r\n  ?subject a  foaf:Person.\r\n  OPTIONAL {\r\n    ?subject rdfs:label ?label .\r\n   }\r\n}\r\n```\r\n\r\nwhich is transformed into the equivalent of\r\n\r\n```\r\nSELECT ?sublect ?label\r\nWHERE {\r\n  ?subject a  foaf:Person.\r\n  OPTIONAL {\r\n    ?subject a  foaf:Person.\r\n    ?subject rdfs:label ?label .\r\n   }\r\n}\r\n```\r\n\r\nIf you had a triple store that had a million rdfs:label assertions, but only 50 of those applied to resources declared as being of type foaf:Person, there would be a substantial difference between the performance of these queries - certainly when using MySQL, where the second query would do an index join between the type / label, which is then applied to the outer join, rather than creating a temporary table of 1 million labels in the first query.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/462271798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/462727250","html_url":"https://github.com/apache/jena/pull/527#issuecomment-462727250","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":462727250,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjcyNzI1MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-12T11:39:55Z","updated_at":"2019-02-12T11:39:55Z","author_association":"MEMBER","body":"OK - I have something working. My first attempt was using a pattern that was too general to be moved.\r\n\r\nThere aren't many users of SDB so I think SDB is best served by making changes when any one user has found an improvement for their usage and made a contribution.\r\n\r\nWhat I would like to see are some tests that pin down this behaviour so that any further changes in SDB don't affect this improvement by accident.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/462727250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/462799056","html_url":"https://github.com/apache/jena/pull/527#issuecomment-462799056","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":462799056,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mjc5OTA1Ng==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-12T15:16:45Z","updated_at":"2019-02-12T15:16:45Z","author_association":"CONTRIBUTOR","body":"@afs OK, I've changed the comments\r\n\r\nFor tests, what would you like to see? Currently, as it is enabled by default, the transformation is being applied to all of the existing tests that query a store, and shows that nothing untoward is being applied to any of those queries.\r\n\r\nI intended to create some unit tests for the transformation, that much like the example provided above would have before / after versions of the query, and compare that the transformed algebra is correct.\r\n\r\nBut the current interfaces of Op don't easily allow a comparison between two different sets of algebra (as far as I can see).\r\n\r\nI could do a text match on the Op.toString(), but that might be liable to test failures from a small change that doesn't impact the execution.\r\n\r\nAlternatively, tests that execute transformed queries against a test database may not catch that a change has meant that the transformation doesn't actually make any changes to the query (and so the resulting query is still functional, it would just lose performance on larger datasets.\r\n\r\nAny thoughts?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/462799056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/463137961","html_url":"https://github.com/apache/jena/pull/527#issuecomment-463137961","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":463137961,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzEzNzk2MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T10:06:29Z","updated_at":"2019-02-13T10:06:29Z","author_association":"MEMBER","body":"Yes, that's the level of tests that would set this up for long term stability. They would mean that in the future some other change somewhere else will signal that optimization has been impacted.\r\n\r\nOp.equals is deep, structural equality. Ops are immutable values.  See OpBase.equalTo that has provision of comparison with bnode isomorphisms (not necessary here!)\r\n\r\nSo you can write the expected output as a string and use SSE.parseOp.\r\n\r\nSee TestOptimizer (SPARQL to expect algebra) and TestTransformFilterPlacement (algebra optimized to algebra, and no, I don't know why TestTransformFilterPlacement.test (String, String) isn't in a more obvious library class).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/463137961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/463310716","html_url":"https://github.com/apache/jena/pull/527#issuecomment-463310716","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":463310716,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzMxMDcxNg==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T18:24:34Z","updated_at":"2019-02-13T18:24:34Z","author_association":"CONTRIBUTOR","body":"@afs I've added a test class that runs half a dozen tests on the transformer - one that shouldn't result in a change in the Op, and the rest testing a few different cases of OPTIONAL / MINUS / UNION queries.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/463310716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/463573751","html_url":"https://github.com/apache/jena/pull/527#issuecomment-463573751","issue_url":"https://api.github.com/repos/apache/jena/issues/527","id":463573751,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzU3Mzc1MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T10:21:41Z","updated_at":"2019-02-14T10:21:41Z","author_association":"MEMBER","body":"@grahamtriggs - great - I'll check it out soon.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/463573751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/464061578","html_url":"https://github.com/apache/jena/pull/528#issuecomment-464061578","issue_url":"https://api.github.com/repos/apache/jena/issues/528","id":464061578,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDA2MTU3OA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T14:05:43Z","updated_at":"2019-02-15T14:05:43Z","author_association":"MEMBER","body":"The project position on SDB is currently that it is discouraged for new applications and that problems with the module SDB would not block a release; it would get dropped for the release.\r\n\r\nOn that basis, I'm inclined to be quite permissive about changes to SDB. If someone can make something better that works for them, then merge it.\r\n\r\nI'm not sure how many users there are and what databases they use. Historicially MySQL has been the most commonly used backend.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/464061578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/464149627","html_url":"https://github.com/apache/jena/pull/533#issuecomment-464149627","issue_url":"https://api.github.com/repos/apache/jena/issues/533","id":464149627,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDE0OTYyNw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T18:23:13Z","updated_at":"2019-02-15T18:23:13Z","author_association":"MEMBER","body":"Recorded as [JENA-1673](https://issues.apache.org/jira/browse/JENA-1673).\r\n\r\n(If the JIRA is opened before the PR and the PR has the JENA-NNNN in the title, the automation will update the JIRA ticket with activity on the PR.)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/464149627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/464165809","html_url":"https://github.com/apache/jena/pull/533#issuecomment-464165809","issue_url":"https://api.github.com/repos/apache/jena/issues/533","id":464165809,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDE2NTgwOQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T19:14:01Z","updated_at":"2019-02-15T19:14:11Z","author_association":"MEMBER","body":"Some tests maybe?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/464165809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/464205740","html_url":"https://github.com/apache/jena/pull/533#issuecomment-464205740","issue_url":"https://api.github.com/repos/apache/jena/issues/533","id":464205740,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDIwNTc0MA==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T21:25:09Z","updated_at":"2019-02-15T21:25:09Z","author_association":"CONTRIBUTOR","body":"Functionally, the LinkedHastSet (order of Scope), and DISTINCT / GROUP BY translation are tested multiple times during the existing tests - the code is exercised and affects the SQL generated without breaking any of the tests.\r\n\r\nThe ORDER BY translation currently isn't because it's disabled by default, but it could be turned on for the tests (and again it doesn't break any existing tests).\r\n\r\nI'll have a think about what tests could be included to ensure that the SQL translations occur as expected, beyond just testing the execution of the query.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/464205740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/464343025","html_url":"https://github.com/apache/jena/pull/533#issuecomment-464343025","issue_url":"https://api.github.com/repos/apache/jena/issues/533","id":464343025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDM0MzAyNQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-16T12:28:33Z","updated_at":"2019-02-16T12:28:33Z","author_association":"MEMBER","body":"I was thinking of tests that check this functionality is happening. The existing test suite should test SPARQL execution functionality but doesn't check how that happened. A small number tests per feature (e.g. 1!) that check expected transformations happen makes it more stable in to the future.\r\n\r\nThis isn't a blocker for me. I'm happy to commit to the codebase as is and leave any testing for a later followup.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/464343025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465340261","html_url":"https://github.com/apache/jena/pull/534#issuecomment-465340261","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":465340261,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTM0MDI2MQ==","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T22:38:50Z","updated_at":"2019-02-19T22:38:50Z","author_association":"MEMBER","body":"@Claudenw I think we had a discussion in the mailing list recently about Grafana, Prometheus. This might be interesting for you?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465340261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465351735","html_url":"https://github.com/apache/jena/pull/533#issuecomment-465351735","issue_url":"https://api.github.com/repos/apache/jena/issues/533","id":465351735,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTM1MTczNQ==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T23:17:12Z","updated_at":"2019-02-19T23:17:12Z","author_association":"CONTRIBUTOR","body":"@afs Hi - I've added some basic tests:\r\n\r\n1) There is a test to check that scopes added to the ScopeBase are returned in the correct order\r\n\r\n2) There is a simple test of the DISTINCT optimization to see if the SQL generates a GROUP BY\r\n\r\n3) There is a simple test of the ORDER optimization to see if the SQL generates an ORDER BY\r\n\r\nI've also moved where the ORDER optimization is applied to the post-processing (alongside the LIMIT/OFFSET handling), as it is more cleanly applied there.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465351735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465536670","html_url":"https://github.com/apache/jena/pull/534#issuecomment-465536670","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":465536670,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTUzNjY3MA==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T11:29:01Z","updated_at":"2019-02-20T11:29:01Z","author_association":"CONTRIBUTOR","body":"@kinow thanks for the heads up.  @seaninryan works with me at the same company.  I advised him to make his changes known to the community for feedback and possible inclusion in next release.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465536670/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465620789","html_url":"https://github.com/apache/jena/pull/534#issuecomment-465620789","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":465620789,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTYyMDc4OQ==","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T15:17:27Z","updated_at":"2019-02-20T15:17:27Z","author_association":"MEMBER","body":"Is this endpoint usable by software other than Prometheus? I mean to ask; are there other monitoring suites that could accept this data or would we be catering especially to one system? I recognize that Prometheus is extremely high-profile and useful, just being cautious about playing any favorites…","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465620789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465642833","html_url":"https://github.com/apache/jena/pull/534#issuecomment-465642833","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":465642833,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTY0MjgzMw==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T16:08:03Z","updated_at":"2019-02-20T16:08:03Z","author_association":"NONE","body":"I'm not 100% sure @ajs6f  - but I think that it probably is a propriety Prometheus format. It's described [here](https://github.com/prometheus/docs/blob/master/content/docs/instrumenting/exposition_formats.md) and that document doesn't make reference to any, say, standard etc.\r\n\r\nAlso spring actuator specifically calls its endpoint `/prometheus` and the [micrometer](https://github.com/micrometer-metrics/micrometer) library that spring boot depends on is called `micrometer-registry-prometheus`","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465642833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465644411","html_url":"https://github.com/apache/jena/pull/534#issuecomment-465644411","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":465644411,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTY0NDQxMQ==","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T16:11:41Z","updated_at":"2019-02-20T16:11:41Z","author_association":"MEMBER","body":"Ok, cool. Given the small amount of code here, I don't really have any problem with supporting one particular framework (especially since I understand Prometheus to be a very big player in that field). Just wanted to confirm. Thanks for the contribution @seaninryan !","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465644411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465710002","html_url":"https://github.com/apache/jena/pull/533#issuecomment-465710002","issue_url":"https://api.github.com/repos/apache/jena/issues/533","id":465710002,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTcxMDAwMg==","user":{"login":"grahamtriggs","id":588135,"node_id":"MDQ6VXNlcjU4ODEzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/588135?v=4","gravatar_id":"","url":"https://api.github.com/users/grahamtriggs","html_url":"https://github.com/grahamtriggs","followers_url":"https://api.github.com/users/grahamtriggs/followers","following_url":"https://api.github.com/users/grahamtriggs/following{/other_user}","gists_url":"https://api.github.com/users/grahamtriggs/gists{/gist_id}","starred_url":"https://api.github.com/users/grahamtriggs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grahamtriggs/subscriptions","organizations_url":"https://api.github.com/users/grahamtriggs/orgs","repos_url":"https://api.github.com/users/grahamtriggs/repos","events_url":"https://api.github.com/users/grahamtriggs/events{/privacy}","received_events_url":"https://api.github.com/users/grahamtriggs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T18:59:36Z","updated_at":"2019-02-20T18:59:36Z","author_association":"CONTRIBUTOR","body":"@afs Ooops! I've added the Apache header to both of those files.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465710002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/465788847","html_url":"https://github.com/apache/jena/pull/535#issuecomment-465788847","issue_url":"https://api.github.com/repos/apache/jena/issues/535","id":465788847,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTc4ODg0Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T22:55:00Z","updated_at":"2019-02-20T22:55:00Z","author_association":"MEMBER","body":"Sorry @rvesse - discovered I'd been running the wrong test suite and the original PR was not passing. Caught thanks to TravisCI. The only change is in `TestNodeIdInline.nodeId_float_6` which was \r\n\r\nWrong (the reconstructed value isn't lexical `\"1\"`:\r\n```\r\n    @Test public void nodeId_float_6()\r\n    { test(\"'-1'^^xsd:float\") ; }\r\n```\r\nfixed:\r\n```\r\n    @Test public void nodeId_float_6()\r\n    { test(\"'-1'^^xsd:float\", \"'-1.0'^^xsd:float\") ; }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/465788847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/466044561","html_url":"https://github.com/apache/jena/pull/534#issuecomment-466044561","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":466044561,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjA0NDU2MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-21T15:33:52Z","updated_at":"2019-02-21T15:33:52Z","author_association":"MEMBER","body":"micrometer.io looks interesting.\r\n\r\nHave I understood micrometer correctly? The Fuseki counters/stats/... implement in the micrometer framework and then a choice of adapter makes that available to the specific package.\r\n\r\nmicrometer-core is about 0.5 Mbytes so not huge itself but it has dependencies (oddly, slf4j does not seem to isn't a dependency, log4j2 and logback are) - what might the size impact be?\r\n\r\nGiven the need to provide a choice of implementations, we have to have a way to allow choice but also work out of the box. Fuseki/full as a war file, and to some extent the server jar, are sealed so \"some assembly required\". Fuseki/main might be more tractable although again, the combined jar (the easy way to run it).\r\n\r\n@ajs6f  - it used `org.pcollections` - is that like Dexx?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/466044561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/466045612","html_url":"https://github.com/apache/jena/pull/534#issuecomment-466045612","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":466045612,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjA0NTYxMg==","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-21T15:36:29Z","updated_at":"2019-02-21T15:36:29Z","author_association":"MEMBER","body":"It is like Dexx in that it is persistent (aka functional) collections library, and it is not like Dexx in that Dexx intends to exclusively port the Scala library types to Java, whereas PCollections is doing its own thing. I _think_ I took a look at PCollections when we were building up TIM, but I honestly can't remember.\r\n\r\nUnlike Dexx, PCollections is clearly under active development. Might be time to take another look at it...","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/466045612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/466077065","html_url":"https://github.com/apache/jena/pull/534#issuecomment-466077065","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":466077065,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjA3NzA2NQ==","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-21T16:54:29Z","updated_at":"2019-02-21T16:54:29Z","author_association":"MEMBER","body":"Yep, [looks like](https://lists.apache.org/list.html?dev@jena.apache.org:gte=1d:pcollections) we did look at PCollections, and the performance wasn't too hot. But that was some time ago. Perhaps it's time to look again, or maybe look at some of the other alternatives under discussion early in TIM's creation. Ok, enough spamming this PR about data structures.\r\n\r\nI wonder if we could split the difference with metrics by implementing Micrometer and allowing people to \"bring their own\" adapter in a JAR?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/466077065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/466159232","html_url":"https://github.com/apache/jena/pull/534#issuecomment-466159232","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":466159232,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjE1OTIzMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-21T20:44:47Z","updated_at":"2019-02-21T20:44:47Z","author_association":"MEMBER","body":"Yes - we have to allow \"bring their own\" adapter, and may provide one specific one (our own simple custom one?).\r\n\r\nIs there any work around doing GraphQL for metrics?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/466159232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/466525608","html_url":"https://github.com/apache/jena/pull/536#issuecomment-466525608","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":466525608,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjUyNTYwOA==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-22T19:53:35Z","updated_at":"2019-02-22T19:53:35Z","author_association":"MEMBER","body":"Pinging @osma @xristy \r\n\r\nNot that it's a blocker for this PR but anytime I see this kind of code pattern in Jena (and Java in general) I think that we really should be using the `ServiceLoader` pattern.  This would make stuff like this dynamically extensible so we can have some basic defaults out of the box with an easy drop-in mechanism to discover user provided extensions.  And text search does seem to be an area where end users want to do a lot of customisation","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/466525608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/467013724","html_url":"https://github.com/apache/jena/pull/536#issuecomment-467013724","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":467013724,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzAxMzcyNA==","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T13:37:39Z","updated_at":"2019-02-25T13:37:39Z","author_association":"MEMBER","body":"@rvesse I agree, although for the near-term it's worth watching out for [OSGi problems](https://blog.osgi.org/2013/02/javautilserviceloader-in-osgi.html) there. As JPMS becomes more widely used and useful, that concern will go away.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/467013724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/467075475","html_url":"https://github.com/apache/jena/pull/536#issuecomment-467075475","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":467075475,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzA3NTQ3NQ==","user":{"login":"osma","id":1132830,"node_id":"MDQ6VXNlcjExMzI4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1132830?v=4","gravatar_id":"","url":"https://api.github.com/users/osma","html_url":"https://github.com/osma","followers_url":"https://api.github.com/users/osma/followers","following_url":"https://api.github.com/users/osma/following{/other_user}","gists_url":"https://api.github.com/users/osma/gists{/gist_id}","starred_url":"https://api.github.com/users/osma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/osma/subscriptions","organizations_url":"https://api.github.com/users/osma/orgs","repos_url":"https://api.github.com/users/osma/repos","events_url":"https://api.github.com/users/osma/events{/privacy}","received_events_url":"https://api.github.com/users/osma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T16:21:09Z","updated_at":"2019-02-25T16:21:09Z","author_association":"CONTRIBUTOR","body":"I think it's a pity this PR merges the two methods into one, making the code a bit messier and more difficult to understand. Is that because SurroundQueryParser doesn't implement the normal QueryParser interface?\r\n\r\nOther than that, I don't have any objections to this PR, it even comes with unit tests. Docs have to be updated too after the merge.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/467075475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/467100377","html_url":"https://github.com/apache/jena/pull/536#issuecomment-467100377","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":467100377,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzEwMDM3Nw==","user":{"login":"DamienFontaine","id":2393748,"node_id":"MDQ6VXNlcjIzOTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/2393748?v=4","gravatar_id":"","url":"https://api.github.com/users/DamienFontaine","html_url":"https://github.com/DamienFontaine","followers_url":"https://api.github.com/users/DamienFontaine/followers","following_url":"https://api.github.com/users/DamienFontaine/following{/other_user}","gists_url":"https://api.github.com/users/DamienFontaine/gists{/gist_id}","starred_url":"https://api.github.com/users/DamienFontaine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DamienFontaine/subscriptions","organizations_url":"https://api.github.com/users/DamienFontaine/orgs","repos_url":"https://api.github.com/users/DamienFontaine/repos","events_url":"https://api.github.com/users/DamienFontaine/events{/privacy}","received_events_url":"https://api.github.com/users/DamienFontaine/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T17:25:56Z","updated_at":"2019-02-25T17:25:56Z","author_association":"CONTRIBUTOR","body":"@osma Yes, the SurroundQueryParser doesn't implement org.apache.lucene.queryparser.classic.QueryParser but all parsers can return a org.apache.lucene.search.Query.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/467100377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/467156265","html_url":"https://github.com/apache/jena/pull/534#issuecomment-467156265","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":467156265,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzE1NjI2NQ==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T19:48:18Z","updated_at":"2019-02-25T19:48:18Z","author_association":"NONE","body":"I changed what I'd done to use micrometer.. the creation of the required objects is a bit tricky so for now I've just done it in the servlet `init()` method\r\n\r\nI just made it use the `JvmMemoryMetrics` class to pull in some standard stuff and added a `FusekiRequestsMetrics` class to get those stats that come from the `DataAccessPointRegistry`\r\n\r\n\r\nI'd spoken to @Claudenw and looked into having a core dependency on `micrometer-core` and maybe an `extras` dependency on `micrometer-registry-prometheus` but I can't see how we'd instantiate the correct implementation of `MeterRegistry` because the different implementations all have constructors with different signatures\r\n\r\nAnyway you guys might be able to offer some more insight on that... I've just been looking at spring-boot actuator and trying to see what they've done there\r\n\r\nThis is what the metrics look like with what I've set up so far:\r\n```\r\n# HELP jvm_buffer_count_buffers An estimate of the number of buffers in the pool\r\n# TYPE jvm_buffer_count_buffers gauge\r\njvm_buffer_count_buffers{id=\"direct\",} 16.0\r\njvm_buffer_count_buffers{id=\"mapped\",} 51.0\r\n# HELP jvm_memory_committed_bytes The amount of memory in bytes that is committed for the Java virtual machine to use\r\n# TYPE jvm_memory_committed_bytes gauge\r\njvm_memory_committed_bytes{area=\"heap\",id=\"PS Survivor Space\",} 4.8758784E7\r\njvm_memory_committed_bytes{area=\"heap\",id=\"PS Old Gen\",} 2.8311552E8\r\njvm_memory_committed_bytes{area=\"heap\",id=\"PS Eden Space\",} 9.5944704E7\r\njvm_memory_committed_bytes{area=\"nonheap\",id=\"Metaspace\",} 3.2899072E7\r\njvm_memory_committed_bytes{area=\"nonheap\",id=\"Code Cache\",} 1.376256E7\r\njvm_memory_committed_bytes{area=\"nonheap\",id=\"Compressed Class Space\",} 4063232.0\r\n# HELP jvm_buffer_total_capacity_bytes An estimate of the total capacity of the buffers in this pool\r\n# TYPE jvm_buffer_total_capacity_bytes gauge\r\njvm_buffer_total_capacity_bytes{id=\"direct\",} 81543.0\r\njvm_buffer_total_capacity_bytes{id=\"mapped\",} 4.02663383E8\r\n# HELP fuseki_requests_good  \r\n# TYPE fuseki_requests_good gauge\r\nfuseki_requests_good{dataset=\"/data-set-1\",description=\"Graph Store Protocol\",endpoint=\"data\",operation=\"GSP_RW\",} 154.0\r\nfuseki_requests_good{dataset=\"/data-set-2\",description=\"File Upload\",endpoint=\"upload\",operation=\"Upload\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-2\",description=\"Graph Store Protocol (Read)\",endpoint=\"get\",operation=\"GSP_R\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-1\",description=\"HTTP Quads\",endpoint=\"\",operation=\"Quads_RW\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-2\",description=\"HTTP Quads\",endpoint=\"\",operation=\"Quads_RW\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-2\",description=\"SPARQL Query\",endpoint=\"sparql\",operation=\"Query\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-1\",description=\"File Upload\",endpoint=\"upload\",operation=\"Upload\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-1\",description=\"SPARQL Update\",endpoint=\"update\",operation=\"Update\",} 2.0\r\nfuseki_requests_good{dataset=\"/data-set-1\",description=\"Graph Store Protocol (Read)\",endpoint=\"get\",operation=\"GSP_R\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-2\",description=\"Graph Store Protocol\",endpoint=\"data\",operation=\"GSP_RW\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-2\",description=\"SPARQL Query\",endpoint=\"query\",operation=\"Query\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-2\",description=\"SPARQL Update\",endpoint=\"update\",operation=\"Update\",} 0.0\r\nfuseki_requests_good{dataset=\"/data-set-1\",description=\"SPARQL Query\",endpoint=\"query\",operation=\"Query\",} 178.0\r\nfuseki_requests_good{dataset=\"/data-set-1\",description=\"SPARQL Query\",endpoint=\"sparql\",operation=\"Query\",} 0.0\r\n# HELP jvm_buffer_memory_used_bytes An estimate of the memory that the Java virtual machine is using for this buffer pool\r\n# TYPE jvm_buffer_memory_used_bytes gauge\r\njvm_buffer_memory_used_bytes{id=\"direct\",} 81543.0\r\njvm_buffer_memory_used_bytes{id=\"mapped\",} 4.02663383E8\r\n# HELP fuseki_requests  \r\n# TYPE fuseki_requests gauge\r\nfuseki_requests{dataset=\"/data-set-1\",description=\"Graph Store Protocol\",endpoint=\"data\",operation=\"GSP_RW\",} 154.0\r\nfuseki_requests{dataset=\"/data-set-2\",description=\"File Upload\",endpoint=\"upload\",operation=\"Upload\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-2\",description=\"Graph Store Protocol (Read)\",endpoint=\"get\",operation=\"GSP_R\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-1\",description=\"HTTP Quads\",endpoint=\"\",operation=\"Quads_RW\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-2\",description=\"HTTP Quads\",endpoint=\"\",operation=\"Quads_RW\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-2\",description=\"SPARQL Query\",endpoint=\"sparql\",operation=\"Query\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-1\",description=\"File Upload\",endpoint=\"upload\",operation=\"Upload\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-1\",description=\"SPARQL Update\",endpoint=\"update\",operation=\"Update\",} 2.0\r\nfuseki_requests{dataset=\"/data-set-1\",description=\"Graph Store Protocol (Read)\",endpoint=\"get\",operation=\"GSP_R\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-2\",description=\"Graph Store Protocol\",endpoint=\"data\",operation=\"GSP_RW\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-2\",description=\"SPARQL Query\",endpoint=\"query\",operation=\"Query\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-2\",description=\"SPARQL Update\",endpoint=\"update\",operation=\"Update\",} 0.0\r\nfuseki_requests{dataset=\"/data-set-1\",description=\"SPARQL Query\",endpoint=\"query\",operation=\"Query\",} 178.0\r\nfuseki_requests{dataset=\"/data-set-1\",description=\"SPARQL Query\",endpoint=\"sparql\",operation=\"Query\",} 0.0\r\n# HELP jvm_memory_max_bytes The maximum amount of memory in bytes that can be used for memory management\r\n# TYPE jvm_memory_max_bytes gauge\r\njvm_memory_max_bytes{area=\"heap\",id=\"PS Survivor Space\",} 4.8758784E7\r\njvm_memory_max_bytes{area=\"heap\",id=\"PS Old Gen\",} 1.431830528E9\r\njvm_memory_max_bytes{area=\"heap\",id=\"PS Eden Space\",} 6.16562688E8\r\njvm_memory_max_bytes{area=\"nonheap\",id=\"Metaspace\",} -1.0\r\njvm_memory_max_bytes{area=\"nonheap\",id=\"Code Cache\",} 2.5165824E8\r\njvm_memory_max_bytes{area=\"nonheap\",id=\"Compressed Class Space\",} 1.073741824E9\r\n# HELP fuseki_requests_bad  \r\n# TYPE fuseki_requests_bad gauge\r\nfuseki_requests_bad{dataset=\"/data-set-1\",description=\"Graph Store Protocol\",endpoint=\"data\",operation=\"GSP_RW\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-2\",description=\"File Upload\",endpoint=\"upload\",operation=\"Upload\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-2\",description=\"Graph Store Protocol (Read)\",endpoint=\"get\",operation=\"GSP_R\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-1\",description=\"HTTP Quads\",endpoint=\"\",operation=\"Quads_RW\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-2\",description=\"HTTP Quads\",endpoint=\"\",operation=\"Quads_RW\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-2\",description=\"SPARQL Query\",endpoint=\"sparql\",operation=\"Query\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-1\",description=\"File Upload\",endpoint=\"upload\",operation=\"Upload\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-1\",description=\"SPARQL Update\",endpoint=\"update\",operation=\"Update\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-1\",description=\"Graph Store Protocol (Read)\",endpoint=\"get\",operation=\"GSP_R\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-2\",description=\"Graph Store Protocol\",endpoint=\"data\",operation=\"GSP_RW\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-2\",description=\"SPARQL Query\",endpoint=\"query\",operation=\"Query\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-2\",description=\"SPARQL Update\",endpoint=\"update\",operation=\"Update\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-1\",description=\"SPARQL Query\",endpoint=\"query\",operation=\"Query\",} 0.0\r\nfuseki_requests_bad{dataset=\"/data-set-1\",description=\"SPARQL Query\",endpoint=\"sparql\",operation=\"Query\",} 0.0\r\n# HELP jvm_memory_used_bytes The amount of used memory\r\n# TYPE jvm_memory_used_bytes gauge\r\njvm_memory_used_bytes{area=\"heap\",id=\"PS Survivor Space\",} 2.1266496E7\r\njvm_memory_used_bytes{area=\"heap\",id=\"PS Old Gen\",} 8.859756E7\r\njvm_memory_used_bytes{area=\"heap\",id=\"PS Eden Space\",} 1.3267632E7\r\njvm_memory_used_bytes{area=\"nonheap\",id=\"Metaspace\",} 3.1906112E7\r\njvm_memory_used_bytes{area=\"nonheap\",id=\"Code Cache\",} 1.3602752E7\r\njvm_memory_used_bytes{area=\"nonheap\",id=\"Compressed Class Space\",} 3776040.0\r\n```\r\n\r\nI need to look into how/whether what I've done would automatically pick up a new dataset and things like that\r\n\r\nThe great thing about the subclasses of `MeterBinder` is that there are loads of existing dashboards on grafana that can be used to chart the metrics. [This one](https://grafana.com/dashboards/6756) for example. Also loads of them are applicable to fuseki\r\n![2019-02-25-19-46-17_480x475](https://user-images.githubusercontent.com/13253395/53364154-18e21e00-3936-11e9-808e-59ab7552e980.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/467156265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/467941793","html_url":"https://github.com/apache/jena/pull/534#issuecomment-467941793","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":467941793,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzk0MTc5Mw==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T16:54:56Z","updated_at":"2019-02-27T16:54:56Z","author_association":"NONE","body":"Hi all\r\n\r\nI think I've got this to somewhere decent now\r\n- I've got a core dependency on `micrometer-core` and have add a module in extras which pulls in `micrometer-registry-prometheus`\r\n  - so the extras module created a shaded jar that you can just drop in\r\n- I've created an extras servlet that maps to `$/extras/*`\r\n  - this picks up on classes that implement `ExtraAction` which gives a path that gets mapped on startup. So `ActionPrometheus` (in the extras module) returns the string `prometheus` which means we have a mapping of `$/extras/prometheus`\r\n  - I wrote it to pick up the exact path - so we might want to extend to, say make a url particular to a dataset or allow wildcards of its own?\r\n  - have a look at the `ActionExtras` class... it kind of breaks with the conventions of other similar classes by not calling `doCommon()`... I'm not sure if that's a big deal but I think `/$/extras` is incompatible with requiring a dataset name etc. You guys will know better I guess\r\n- I just picked a bunch of easy to set up `MeterBinders` that seemed relevant. There are a couple of Jetty ones that I'd like to add but they require access to some Jetty objects (haven't looked too deeply) that I don't have access to right now\r\n\r\nAnyway you can get really nice dashboards [like this](https://grafana.com/dashboards/4701) for free then\r\n![2019-02-27-16-52-21_1889x956](https://user-images.githubusercontent.com/13253395/53507629-23282780-3ab0-11e9-8ab5-be932c95c8cd.png)\r\n\r\nI've just zoomed out to give an overall effect... these graphs are just memory usage, cpu etc.\r\n\r\nIt would be great if you guys could give this the once over tell me what I need to do to get it considered for merging to master\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/467941793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/468435652","html_url":"https://github.com/apache/jena/pull/537#issuecomment-468435652","issue_url":"https://api.github.com/repos/apache/jena/issues/537","id":468435652,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODQzNTY1Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T20:58:17Z","updated_at":"2019-02-28T20:58:17Z","author_association":"MEMBER","body":"The normal processing of transactions is not affected by this PR, except that there is code rewrite. What changes is that the error handling is expanded, \r\n\r\nTDB1:\r\nChanges at commit point:\r\nhttps://github.com/apache/jena/pull/537/files#diff-75d6cc4cd853b4f00f68431df7465d79R159\r\nand its journal:\r\nhttps://github.com/apache/jena/pull/537/files#diff-ba9400c61c593485f52fc26cbb831334R312\r\n\r\nTDB2:\r\nChanges at commit point:\r\nhttps://github.com/apache/jena/pull/537/files#diff-dccb2f7577f47b71391afce72cdc0c7dR716\r\nand its journal:\r\nhttps://github.com/apache/jena/pull/537/files#diff-d9dbd4b5900d1a55896d8b038a8012deR257\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/468435652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/468629410","html_url":"https://github.com/apache/jena/pull/537#issuecomment-468629410","issue_url":"https://api.github.com/repos/apache/jena/issues/537","id":468629410,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODYyOTQxMA==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T11:04:48Z","updated_at":"2019-03-01T11:04:48Z","author_association":"MEMBER","body":"NB - For other reviewers ignoring whitespace changes in the diff view eliminating a bunch of non-changes","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/468629410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/468961853","html_url":"https://github.com/apache/jena/pull/538#issuecomment-468961853","issue_url":"https://api.github.com/repos/apache/jena/issues/538","id":468961853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODk2MTg1Mw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-02T21:26:16Z","updated_at":"2019-03-02T21:26:16Z","author_association":"MEMBER","body":"For CVE-2018-8088.\r\n\r\nWhile Jena does not use this feature of slf4j, it helps if the jar dependencies can be kept CVE-clean to assist users in environments that have automatic scanning of software.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/468961853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/469011478","html_url":"https://github.com/apache/jena/pull/534#issuecomment-469011478","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":469011478,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTAxMTQ3OA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T10:58:21Z","updated_at":"2019-03-03T10:58:21Z","author_association":"MEMBER","body":"This is looking very interesting!\r\n\r\nI'll look at the servlet when I'm at my development machine (not this coming week). There are already freestanding, non-dataset servlets with a Fuseki lifecycle which adds access to the logging, action tracking, and also counters (which is a bit recursive!). It isn't necessary to use this framework - plain servlets work - though if it can be, it is nice to collect everything together.\r\n\r\nFuseki/Full is a webapp war file and runs in Tomcat as well as with the Jetty packaging so Jetty-specific features need to adapt to Jetty not being used. Fuseki/main, the adaptable programmable version, no UI at the moment, is a standalone server that uses Jetty and isn't a webapp war file deployment. These two systems are about packaging and delivery of the common core which is the bulk of Fuseki.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/469011478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/469688552","html_url":"https://github.com/apache/jena/pull/534#issuecomment-469688552","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":469688552,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTY4ODU1Mg==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T13:57:04Z","updated_at":"2019-03-05T13:57:04Z","author_association":"NONE","body":"Thanks for looking @afs :+1:\r\n\r\nI'm not 100% clear on how all the packaging works. Be great if you can fire it up next week and let me know what you think","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/469688552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/474896463","html_url":"https://github.com/apache/jena/pull/536#issuecomment-474896463","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":474896463,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDg5NjQ2Mw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-20T15:51:05Z","updated_at":"2019-03-20T15:51:05Z","author_association":"MEMBER","body":"All - where are we on this PR? Should it be merged, things being as they are in Lucene, or are there specific changes to make? \r\n\r\nAnd documentation?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/474896463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/475252662","html_url":"https://github.com/apache/jena/pull/534#issuecomment-475252662","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":475252662,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTI1MjY2Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T14:30:56Z","updated_at":"2019-03-22T13:34:35Z","author_association":"MEMBER","body":"This is looking good.  I have it working in Fuseki Full (webapp form) and in Fuseki Main (the more configurable servlet form) - details for running in Fuseki Main below.\r\n\r\n#### Configuration\r\n\r\nSomething we have to think about carefully is using `ServiceLoader`. Jena already has an [init mechanism](https://jena.apache.org/documentation/notes/system-initialization.html) and it allows controlling the order of initialization. It is quite simple - there is an `init()` method which might be a limitation.\r\n\r\n`ActionPrometheus` could use this to wire in a function lambda to call it's `perform()` into a registry.\r\n\r\nI don't know at the moment which of a \"different ServiceLoader\" or \"single ServiceLoader\" is better.\r\n\r\n#### Naming\r\n\r\nRather than hide under `/$/extras/` I think I prefer `/$/metrics/` or something else to cover just statistics reporting. This is a significant functionality, not to be hidden under \"extras\".\r\n\r\n#### Dispatch\r\n\r\nThe `ActionExtras.perform` could dispatch on the final component of the URI.  No fixed string!\r\n\r\nIt might even be better to look for the dispatch string in `init(ServletConfig)` to find the prefix for this servlet instance.\r\n\r\n#### HTTP MIME Type\r\n\r\nThe HTTP return is set as `application/json;charset=utf-8` but it isn't JSON. If there isn't a specific MIME type, then `text/plain;charset=utf-8` would be better (?).\r\n\r\n#### jena-prometheus jar\r\n\r\nThe shaded JAR has got slf4j classes in it and io.micrometer. I don't think they are needed. Can they be excluded? either in the POM or in the shader. Maybe it is an effect of the `<scope>provided</scope>`.\r\n\r\n[jena-fuseki2/jena-fuseki-server/pom.xml](https://github.com/apache/jena/blob/master/jena-fuseki2/jena-fuseki-server/pom.xml) has an example of shading Jena including license control.\r\n\r\n#### Licensing\r\n\r\n`org.hdrhistogram` and `org.latencyutils` are 2-clause BSD license and we a shipping them in shared artifacts so the acknowledge clause applies.   No problem, just a task to do. The right LICENSE and NOTICE need to end up in the shaded jar.\r\n\r\n#### Fuseki Main example\r\n\r\nIllustration of running in `FusekiMain`:\r\n\r\n    public static void mainServer(String ... a) {\r\n        FusekiLogging.setLogging();\r\n        FusekiServer server = FusekiServer.create()\r\n            .add(\"/ds\", DatasetGraphFactory.createTxnMem())\r\n            .port(3030)\r\n            .verbose(true)\r\n            .addServlet(\"/$/extras/*\", new ActionExtras())\r\n            .build();\r\n        \r\n        try { server.start().join(); }\r\n        finally { server.stop(); }\r\n    }\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/475252662/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/475429675","html_url":"https://github.com/apache/jena/pull/536#issuecomment-475429675","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":475429675,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTQyOTY3NQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T22:38:45Z","updated_at":"2019-03-21T22:38:45Z","author_association":"MEMBER","body":"[JENA-1690](https://issues.apache.org/jira/browse/JENA-1690).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/475429675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/475598995","html_url":"https://github.com/apache/jena/pull/545#issuecomment-475598995","issue_url":"https://api.github.com/repos/apache/jena/issues/545","id":475598995,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTU5ODk5NQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-22T12:16:00Z","updated_at":"2019-03-22T12:16:00Z","author_association":"MEMBER","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/475598995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/475628676","html_url":"https://github.com/apache/jena/pull/534#issuecomment-475628676","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":475628676,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTYyODY3Ng==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-22T13:52:10Z","updated_at":"2019-03-22T13:52:10Z","author_association":"MEMBER","body":"#### Packaging \r\n\r\nLooking in more detail ... the duplication of classes in the jena-prometheus jar means the amount of new code in module `jena-promotheus` is quite small (it is local code and prometheus-registry).  By my rough calculation, \r\n\r\nIn Fuseki core:\r\n```\r\n416K        io/micrometer/micrometer-core/\r\n112K        org/hdrhistogram/\r\n32K         org/latencyutils/\r\n```\r\nIn jena-prometheus:\r\n```\r\n28K         io/micrometer/micrometer-registry-prometheus/\r\n12K         jena-prometheus jar\r\n```\r\n(have I got that right?)\r\n\r\nHaving to repackage Fuseki-full to get a WAR file or a new combined jar is an extra step for the end user. This was the step that took me the longest to get something working.\r\n\r\nThe code modularity is worth it - the packaging less so IMO.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/475628676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/475639789","html_url":"https://github.com/apache/jena/pull/534#issuecomment-475639789","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":475639789,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTYzOTc4OQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-22T14:22:28Z","updated_at":"2019-03-22T14:22:28Z","author_association":"MEMBER","body":"Admin: [JENA-1691](https://issues.apache.org/jira/browse/JENA-1691).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/475639789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/475686611","html_url":"https://github.com/apache/jena/pull/536#issuecomment-475686611","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":475686611,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTY4NjYxMQ==","user":{"login":"osma","id":1132830,"node_id":"MDQ6VXNlcjExMzI4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1132830?v=4","gravatar_id":"","url":"https://api.github.com/users/osma","html_url":"https://github.com/osma","followers_url":"https://api.github.com/users/osma/followers","following_url":"https://api.github.com/users/osma/following{/other_user}","gists_url":"https://api.github.com/users/osma/gists{/gist_id}","starred_url":"https://api.github.com/users/osma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/osma/subscriptions","organizations_url":"https://api.github.com/users/osma/orgs","repos_url":"https://api.github.com/users/osma/repos","events_url":"https://api.github.com/users/osma/events{/privacy}","received_events_url":"https://api.github.com/users/osma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-22T16:26:17Z","updated_at":"2019-03-22T16:26:17Z","author_association":"CONTRIBUTOR","body":"@afs Thanks for the reminder\r\n\r\n@DamienFontaine Any chance to refactor `parseQuery` just a little bit? There is quite a lot of redundancy and repetition now. \r\n\r\nFor example\r\n* combine `QueryParser` and `AnalyzingQueryParser` cases into one, since their code is (nowadays) identical\r\n* handle the SurroundQueryParser case separate from the others since it's treated differently - for the others, avoid repeating the same boilerplate (e.g. `qp.setAllowLeadingWildcard(true)`) over and over\r\n\r\nAnother option would be to create a class that wraps SurroundQueryParser giving it a QueryParser interface, so that it can be handled just like the others (ie revert the merging of two methods). But that may be difficult in practice - I assume there's a reason why SurroundQueryParser isn't a QueryParser in Lucene already although I haven't looked at it in detail.\r\n\r\nIf we can get the line count in TextIndexLucene down by a dozen or so, I'm happy. And of course we need some kind of promise to update the jena-text documentation accordingly after this gets merged.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/475686611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/475756380","html_url":"https://github.com/apache/jena/pull/536#issuecomment-475756380","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":475756380,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTc1NjM4MA==","user":{"login":"xristy","id":3542294,"node_id":"MDQ6VXNlcjM1NDIyOTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3542294?v=4","gravatar_id":"","url":"https://api.github.com/users/xristy","html_url":"https://github.com/xristy","followers_url":"https://api.github.com/users/xristy/followers","following_url":"https://api.github.com/users/xristy/following{/other_user}","gists_url":"https://api.github.com/users/xristy/gists{/gist_id}","starred_url":"https://api.github.com/users/xristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xristy/subscriptions","organizations_url":"https://api.github.com/users/xristy/orgs","repos_url":"https://api.github.com/users/xristy/repos","events_url":"https://api.github.com/users/xristy/events{/privacy}","received_events_url":"https://api.github.com/users/xristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-22T19:45:10Z","updated_at":"2019-03-22T19:45:10Z","author_association":"CONTRIBUTOR","body":"Thanks for patience w/ my lack of response - slammed is all I can say.\n\nIn any event, I agree with Osma’s comments. After the merge, then we can see what sort of interactions with other features, in particular, multi-language, occur. I’m not confident that they will play well together which would have to be clarified in the documentation.\n\nIf there are other query parsers that are desirable to add in the future it might be worth extending the assembler a bit to handle such extensions.\n\nRegards,\nChris\n\n> On Mar 22, 2019, at 11:26 AM, Osma Suominen <notifications@github.com> wrote:\n> \n> @afs <https://github.com/afs> Thanks for the reminder\n> \n> @DamienFontaine <https://github.com/DamienFontaine> Any chance to refactor parseQuery just a little bit? There is quite a lot of redundancy and repetition now.\n> \n> For example\n> \n> combine QueryParser and AnalyzingQueryParser cases into one, since their code is (nowadays) identical\n> handle the SurroundQueryParser case separate from the others since it's treated differently - for the others, avoid repeating the same boilerplate (e.g. qp.setAllowLeadingWildcard(true)) over and over\n> Another option would be to create a class that wraps SurroundQueryParser giving it a QueryParser interface, so that it can be handled just like the others (ie revert the merging of two methods). But that may be difficult in practice - I assume there's a reason why SurroundQueryParser isn't a QueryParser in Lucene already although I haven't looked at it in detail.\n> \n> If we can get the line count in TextIndexLucene down by a dozen or so, I'm happy. And of course we need some kind of promise to update the jena-text documentation accordingly after this gets merged.\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/jena/pull/536#issuecomment-475686611>, or mute the thread <https://github.com/notifications/unsubscribe-auth/ADYNFlCnqgmgjtGlhWCNchd6tkQR-6Seks5vZQQrgaJpZM4bHfHA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/475756380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/476404449","html_url":"https://github.com/apache/jena/pull/548#issuecomment-476404449","issue_url":"https://api.github.com/repos/apache/jena/issues/548","id":476404449,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjQwNDQ0OQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-25T22:37:43Z","updated_at":"2019-03-25T22:38:48Z","author_association":"MEMBER","body":"What is the performance issue? Is it because a graph is added two or more times?\r\n\r\nMultiUnion.addGraph suppresses duplicate graphs at the point of addition of the graph. Application-written subclasses of Polyadic could do the same.\r\n\r\n(graphs are .equals by identity not by value (contents)).\r\n\r\n    if (!m_subGraphs.contains( graph )) {\r\n                m_subGraphs.add( graph );\r\n            }\r\n\r\nThe concern here is that MultiUnion is commonly used, and quite old, so changes risk unexpected effect in existing applications.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/476404449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/476405301","html_url":"https://github.com/apache/jena/pull/547#issuecomment-476405301","issue_url":"https://api.github.com/repos/apache/jena/issues/547","id":476405301,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjQwNTMwMQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-25T22:41:00Z","updated_at":"2019-04-30T09:07:41Z","author_association":"MEMBER","body":"This seem related to PR#546 and the discussion on [JENA-1687](https://issues.apache.org/jira/browse/JENA-1687).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/476405301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/476504397","html_url":"https://github.com/apache/jena/pull/547#issuecomment-476504397","issue_url":"https://api.github.com/repos/apache/jena/issues/547","id":476504397,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjUwNDM5Nw==","user":{"login":"jmkeil","id":16349846,"node_id":"MDQ6VXNlcjE2MzQ5ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/16349846?v=4","gravatar_id":"","url":"https://api.github.com/users/jmkeil","html_url":"https://github.com/jmkeil","followers_url":"https://api.github.com/users/jmkeil/followers","following_url":"https://api.github.com/users/jmkeil/following{/other_user}","gists_url":"https://api.github.com/users/jmkeil/gists{/gist_id}","starred_url":"https://api.github.com/users/jmkeil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmkeil/subscriptions","organizations_url":"https://api.github.com/users/jmkeil/orgs","repos_url":"https://api.github.com/users/jmkeil/repos","events_url":"https://api.github.com/users/jmkeil/events{/privacy}","received_events_url":"https://api.github.com/users/jmkeil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T07:21:16Z","updated_at":"2019-03-26T07:21:16Z","author_association":"CONTRIBUTOR","body":"Yes.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/476504397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/476504576","html_url":"https://github.com/apache/jena/pull/548#issuecomment-476504576","issue_url":"https://api.github.com/repos/apache/jena/issues/548","id":476504576,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjUwNDU3Ng==","user":{"login":"jmkeil","id":16349846,"node_id":"MDQ6VXNlcjE2MzQ5ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/16349846?v=4","gravatar_id":"","url":"https://api.github.com/users/jmkeil","html_url":"https://github.com/jmkeil","followers_url":"https://api.github.com/users/jmkeil/followers","following_url":"https://api.github.com/users/jmkeil/following{/other_user}","gists_url":"https://api.github.com/users/jmkeil/gists{/gist_id}","starred_url":"https://api.github.com/users/jmkeil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmkeil/subscriptions","organizations_url":"https://api.github.com/users/jmkeil/orgs","repos_url":"https://api.github.com/users/jmkeil/repos","events_url":"https://api.github.com/users/jmkeil/events{/privacy}","received_events_url":"https://api.github.com/users/jmkeil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-26T07:22:01Z","updated_at":"2019-03-26T07:22:01Z","author_association":"CONTRIBUTOR","body":"You are right. Sorry.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/476504576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/477652161","html_url":"https://github.com/apache/jena/pull/534#issuecomment-477652161","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":477652161,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY1MjE2MQ==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T15:44:09Z","updated_at":"2019-03-28T15:44:09Z","author_association":"NONE","body":"Thanks @afs great feedback. These all make sense I think - I'll start working through them","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/477652161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478237677","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478237677","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478237677,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODIzNzY3Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-30T11:37:27Z","updated_at":"2019-03-30T11:37:27Z","author_association":"MEMBER","body":"Hi all - where are we on this PR?\r\n\r\nIf there are some approvals from @xristy / @osma / other Jena committers, I can go the merge.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478237677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478257773","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478257773","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478257773,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODI1Nzc3Mw==","user":{"login":"xristy","id":3542294,"node_id":"MDQ6VXNlcjM1NDIyOTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3542294?v=4","gravatar_id":"","url":"https://api.github.com/users/xristy","html_url":"https://github.com/xristy","followers_url":"https://api.github.com/users/xristy/followers","following_url":"https://api.github.com/users/xristy/following{/other_user}","gists_url":"https://api.github.com/users/xristy/gists{/gist_id}","starred_url":"https://api.github.com/users/xristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xristy/subscriptions","organizations_url":"https://api.github.com/users/xristy/orgs","repos_url":"https://api.github.com/users/xristy/repos","events_url":"https://api.github.com/users/xristy/events{/privacy}","received_events_url":"https://api.github.com/users/xristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-30T15:46:10Z","updated_at":"2019-03-30T15:46:10Z","author_association":"CONTRIBUTOR","body":"The switch seems not correct yet:\r\n\r\n>             case \"AnalyzingQueryParser\":\r\n>                 if (qp == null) qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n>             case \"QueryParser\":\r\n>                 if (qp == null) {\r\n>                     log.warn(\"Deprecated query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\");\r\n>                     qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n>                 }\r\n>             default:\r\n>                 if(qp  == null) {\r\n>                     log.warn(\"Unknown query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\") ;\r\n>                     qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n>                 }\r\n>                 qp.setAllowLeadingWildcard(true);\r\n>                 query = qp.parse(queryString);\r\n>         }\r\n>         return query ;\r\n>     }\r\n\r\n\r\nIt should be more like:\r\n\r\n            case \"AnalyzingQueryParser\":\r\n                if (qp == null) {\r\n                   log.warn(\"Deprecated query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\");\r\n                }\r\n            case \"QueryParser\":\r\n                if (qp == null) {\r\n                    qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n                }\r\n            default:\r\n                if (qp  == null) {\r\n                    log.warn(\"Unknown query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\") ;\r\n                    qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n                }\r\n                qp.setAllowLeadingWildcard(true);\r\n                query = qp.parse(queryString);\r\n        }\r\n        return query ;\r\n    }\r\n\r\notherwise the `log.warn` fires, incorrectly, for the `case \"QueryParser\"` and `qp` is redundantly assigned for `case \"AnalyzingQueryParser\"`","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478257773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478569188","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478569188","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478569188,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODU2OTE4OA==","user":{"login":"osma","id":1132830,"node_id":"MDQ6VXNlcjExMzI4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1132830?v=4","gravatar_id":"","url":"https://api.github.com/users/osma","html_url":"https://github.com/osma","followers_url":"https://api.github.com/users/osma/followers","following_url":"https://api.github.com/users/osma/following{/other_user}","gists_url":"https://api.github.com/users/osma/gists{/gist_id}","starred_url":"https://api.github.com/users/osma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/osma/subscriptions","organizations_url":"https://api.github.com/users/osma/orgs","repos_url":"https://api.github.com/users/osma/repos","events_url":"https://api.github.com/users/osma/events{/privacy}","received_events_url":"https://api.github.com/users/osma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T13:00:46Z","updated_at":"2019-04-01T13:00:46Z","author_association":"CONTRIBUTOR","body":"I still don't get the `switch` block. The control flow seems just...messy, with all the `if` checks and sometimes implicitly falling through to the next case, sometimes not.\r\n\r\nHow about this:\r\n\r\n```java\r\n        switch(queryParserType) {\r\n            case \"SurroundQueryParser\":\r\n                try {\r\n                    query = org.apache.lucene.queryparser.surround.parser.QueryParser.parse(queryString).makeLuceneQueryField(docDef.getPrimaryField(), new BasicQueryFactory());\r\n                } catch(org.apache.lucene.queryparser.surround.parser.ParseException e) {\r\n                    throw new ParseException(e.getMessage());\r\n                }\r\n                return query;\r\n            case \"ComplexPhraseQueryParser\":\r\n                qp = new ComplexPhraseQueryParser(docDef.getPrimaryField(), analyzer);\r\n                break;\r\n            default:\r\n                log.warn(\"Unknown query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\");\r\n            case \"AnalyzingQueryParser\": // since Lucene 7 analyzing is done by QueryParser\r\n            case \"QueryParser\":\r\n                qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n            }\r\n        }\r\n        qp.setAllowLeadingWildcard(true);\r\n        query = qp.parse(queryString);\r\n        return query ;\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478569188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478607770","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478607770","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478607770,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYwNzc3MA==","user":{"login":"xristy","id":3542294,"node_id":"MDQ6VXNlcjM1NDIyOTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3542294?v=4","gravatar_id":"","url":"https://api.github.com/users/xristy","html_url":"https://github.com/xristy","followers_url":"https://api.github.com/users/xristy/followers","following_url":"https://api.github.com/users/xristy/following{/other_user}","gists_url":"https://api.github.com/users/xristy/gists{/gist_id}","starred_url":"https://api.github.com/users/xristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xristy/subscriptions","organizations_url":"https://api.github.com/users/xristy/orgs","repos_url":"https://api.github.com/users/xristy/repos","events_url":"https://api.github.com/users/xristy/events{/privacy}","received_events_url":"https://api.github.com/users/xristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T14:41:54Z","updated_at":"2019-04-01T14:41:54Z","author_association":"CONTRIBUTOR","body":"@osma cleaner, and I thought it was a good idea to alert users that they are using a deprecated query parser if they refer to `AnalyzingQueryParser`. How about:\r\n\r\n```java\r\n    private Query parseQuery(String queryString, Analyzer analyzer) throws ParseException {\r\n        Query query = null;\r\n        QueryParser qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n\r\n        switch(queryParserType) {\r\n            case \"SurroundQueryParser\":\r\n                try {\r\n                    query = org.apache.lucene.queryparser.surround.parser.QueryParser.parse(queryString).makeLuceneQueryField(docDef.getPrimaryField(), new BasicQueryFactory());\r\n                } catch(org.apache.lucene.queryparser.surround.parser.ParseException e) {\r\n                    throw new ParseException(e.getMessage());\r\n                }\r\n                return query;\r\n            case \"ComplexPhraseQueryParser\":\r\n                qp = new ComplexPhraseQueryParser(docDef.getPrimaryField(), analyzer);\r\n                break;\r\n            case \"AnalyzingQueryParser\": // since Lucene 7 analyzing is done by QueryParser\r\n                log.warn(\"Deprecated query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\");\r\n                break;\r\n            default:\r\n                log.warn(\"Unknown query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\");\r\n        }\r\n\r\n        qp.setAllowLeadingWildcard(true);\r\n        query = qp.parse(queryString);\r\n        return query ;\r\n    }\r\n```\r\n\r\nI expect that most uses end up with the standard `QueryParser`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478607770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478613166","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478613166","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478613166,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYxMzE2Ng==","user":{"login":"osma","id":1132830,"node_id":"MDQ6VXNlcjExMzI4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1132830?v=4","gravatar_id":"","url":"https://api.github.com/users/osma","html_url":"https://github.com/osma","followers_url":"https://api.github.com/users/osma/followers","following_url":"https://api.github.com/users/osma/following{/other_user}","gists_url":"https://api.github.com/users/osma/gists{/gist_id}","starred_url":"https://api.github.com/users/osma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/osma/subscriptions","organizations_url":"https://api.github.com/users/osma/orgs","repos_url":"https://api.github.com/users/osma/repos","events_url":"https://api.github.com/users/osma/events{/privacy}","received_events_url":"https://api.github.com/users/osma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T14:55:00Z","updated_at":"2019-04-01T14:55:00Z","author_association":"CONTRIBUTOR","body":"I'm okay with @xristy's version, although QueryParser is needlessly instantiated in some cases. But I'd choose clear code over premature optimization any day!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478613166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478621634","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478621634","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478621634,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYyMTYzNA==","user":{"login":"xristy","id":3542294,"node_id":"MDQ6VXNlcjM1NDIyOTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3542294?v=4","gravatar_id":"","url":"https://api.github.com/users/xristy","html_url":"https://github.com/xristy","followers_url":"https://api.github.com/users/xristy/followers","following_url":"https://api.github.com/users/xristy/following{/other_user}","gists_url":"https://api.github.com/users/xristy/gists{/gist_id}","starred_url":"https://api.github.com/users/xristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xristy/subscriptions","organizations_url":"https://api.github.com/users/xristy/orgs","repos_url":"https://api.github.com/users/xristy/repos","events_url":"https://api.github.com/users/xristy/events{/privacy}","received_events_url":"https://api.github.com/users/xristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T15:15:59Z","updated_at":"2019-04-01T15:15:59Z","author_association":"CONTRIBUTOR","body":"I also had second thoughts about the needless instantiation and almost edited the previous as follows:\r\n\r\n```java\r\n    private Query parseQuery(String queryString, Analyzer analyzer) throws ParseException {\r\n        Query query = null;\r\n        QueryParser qp = null;\r\n\r\n        switch(queryParserType) {\r\n            case \"SurroundQueryParser\":\r\n                try {\r\n                    query = org.apache.lucene.queryparser.surround.parser.QueryParser.parse(queryString).makeLuceneQueryField(docDef.getPrimaryField(), new BasicQueryFactory());\r\n                } catch(org.apache.lucene.queryparser.surround.parser.ParseException e) {\r\n                    throw new ParseException(e.getMessage());\r\n                }\r\n                return query;\r\n            case \"ComplexPhraseQueryParser\":\r\n                qp = new ComplexPhraseQueryParser(docDef.getPrimaryField(), analyzer);\r\n                break;\r\n            case \"AnalyzingQueryParser\": // since Lucene 7 analyzing is done by QueryParser\r\n                log.warn(\"Deprecated query parser type 'AnalyzingQueryParser'. Defaulting to standard QueryParser\");\r\n                break;\r\n            default:\r\n                log.warn(\"Unknown query parser type '\" + queryParserType + \"'. Defaulting to standard QueryParser\");\r\n        }\r\n\r\n        if (qp == null) \r\n            qp = new QueryParser(docDef.getPrimaryField(), analyzer);\r\n        qp.setAllowLeadingWildcard(true);\r\n        query = qp.parse(queryString);\r\n        return query ;\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478621634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478627458","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478627458","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478627458,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYyNzQ1OA==","user":{"login":"osma","id":1132830,"node_id":"MDQ6VXNlcjExMzI4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1132830?v=4","gravatar_id":"","url":"https://api.github.com/users/osma","html_url":"https://github.com/osma","followers_url":"https://api.github.com/users/osma/followers","following_url":"https://api.github.com/users/osma/following{/other_user}","gists_url":"https://api.github.com/users/osma/gists{/gist_id}","starred_url":"https://api.github.com/users/osma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/osma/subscriptions","organizations_url":"https://api.github.com/users/osma/orgs","repos_url":"https://api.github.com/users/osma/repos","events_url":"https://api.github.com/users/osma/events{/privacy}","received_events_url":"https://api.github.com/users/osma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T15:29:51Z","updated_at":"2019-04-01T15:29:51Z","author_association":"CONTRIBUTOR","body":"Either version is fine.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478627458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/478899467","html_url":"https://github.com/apache/jena/pull/536#issuecomment-478899467","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":478899467,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODg5OTQ2Nw==","user":{"login":"DamienFontaine","id":2393748,"node_id":"MDQ6VXNlcjIzOTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/2393748?v=4","gravatar_id":"","url":"https://api.github.com/users/DamienFontaine","html_url":"https://github.com/DamienFontaine","followers_url":"https://api.github.com/users/DamienFontaine/followers","following_url":"https://api.github.com/users/DamienFontaine/following{/other_user}","gists_url":"https://api.github.com/users/DamienFontaine/gists{/gist_id}","starred_url":"https://api.github.com/users/DamienFontaine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DamienFontaine/subscriptions","organizations_url":"https://api.github.com/users/DamienFontaine/orgs","repos_url":"https://api.github.com/users/DamienFontaine/repos","events_url":"https://api.github.com/users/DamienFontaine/events{/privacy}","received_events_url":"https://api.github.com/users/DamienFontaine/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T08:36:28Z","updated_at":"2019-04-02T08:36:28Z","author_association":"CONTRIBUTOR","body":"Is everyone agrees with the last @xristy version ?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/478899467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479007515","html_url":"https://github.com/apache/jena/pull/536#issuecomment-479007515","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":479007515,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTAwNzUxNQ==","user":{"login":"xristy","id":3542294,"node_id":"MDQ6VXNlcjM1NDIyOTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3542294?v=4","gravatar_id":"","url":"https://api.github.com/users/xristy","html_url":"https://github.com/xristy","followers_url":"https://api.github.com/users/xristy/followers","following_url":"https://api.github.com/users/xristy/following{/other_user}","gists_url":"https://api.github.com/users/xristy/gists{/gist_id}","starred_url":"https://api.github.com/users/xristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xristy/subscriptions","organizations_url":"https://api.github.com/users/xristy/orgs","repos_url":"https://api.github.com/users/xristy/repos","events_url":"https://api.github.com/users/xristy/events{/privacy}","received_events_url":"https://api.github.com/users/xristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T13:55:38Z","updated_at":"2019-04-02T13:55:38Z","author_association":"CONTRIBUTOR","body":"+1 for last version","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479007515/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479412885","html_url":"https://github.com/apache/jena/pull/534#issuecomment-479412885","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":479412885,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTQxMjg4NQ==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T09:29:03Z","updated_at":"2019-04-03T09:29:03Z","author_association":"NONE","body":"@afs I've pushed a bunch of changes based off your feedback. I think it's quite neat now apart from the creation of the _combined jar_ as you've mentioned above.\r\n\r\nI got rid of `/$/extras/*` and just went with `/$/metrics` and by default that will return `501 Not Implemented` because the default metrics provider doesn't provide any equivalent of the `scrape()` method that Prometheus provides\r\n\r\nAnyway, take a look and let me know what you think","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479412885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479810329","html_url":"https://github.com/apache/jena/pull/536#issuecomment-479810329","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":479810329,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTgxMDMyOQ==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T08:52:52Z","updated_at":"2019-04-04T08:52:52Z","author_association":"MEMBER","body":"Merged, thanks again for the contribution\r\n\r\nIf you have chance to update the docs to mention this new capability that would also be great - http://jena.apache.org/getting_involved/index.html#improving-the-website\r\n\r\nThe easiest way to do this is just to go the relevant page of the docs and hit the \"Improve this Page\" link in the top corner and your edits will generate a patch that will be sent to us for review","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479810329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479907207","html_url":"https://github.com/apache/jena/pull/534#issuecomment-479907207","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":479907207,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTkwNzIwNw==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T13:55:42Z","updated_at":"2019-04-04T13:55:42Z","author_association":"NONE","body":"@afs - w.r.t. licenses for `HdrHistogram` and `LatencyUtils` - what's involved there? Downloading and copying in the `LICENCE` files from their github projects or something else?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479907207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479922355","html_url":"https://github.com/apache/jena/pull/534#issuecomment-479922355","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":479922355,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTkyMjM1NQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T14:32:47Z","updated_at":"2019-04-04T15:08:04Z","author_association":"MEMBER","body":"#### Licensing\r\n\r\n@claudenw - would you be able to help out with the L&N issues here?\r\n\r\nThe LICENSE and NOTICE for the combined binary artifacts (3 of them) wil need to include BSD-related text.\r\nAt the moment, they get autogenerated but we need to put specific text in.\r\n\r\njena-fuseki-server\r\njena-fuseki-war\r\njena-fuseki-fulljar\r\n\r\nSee jena-fuseki-webapp/src/resources/META-INF/ which puts in LICENSE and NOTICE into a jar but I think we need to do it in the shading step for external resources like BSD-licnesed binaries. \r\n\r\n#### Packaging\r\n\r\nIt is easier to add maven modules later than retire them.\r\nPrometheus is sufficiently common I think including in Fuseki core for now is easier for users. \r\n\r\nProposal: moving it to\r\njena-fuseki-core::org.apache.jena.fuseki.metrics.prometheus (and the ServiceLoader file similarly)\r\nand now have the jena-prometheus (which is out of sequence in the build currently).\r\n\r\n#### Testing\r\n\r\nIf `jena-prometheus` is not available I get a `500 server error` and a stacktrace, not 501 (running Fuseki main+Prometheus)\r\n\r\n```\r\n[12:47:13] INFO  Server               :: Start Fuseki (port=3030)\r\n[12:47:18] WARN  HttpChannel          :: /$/metrics/ds\r\norg.apache.jena.fuseki.servlets.ActionErrorException: SimpleMeterRegistry isn't scrapeable\r\n\tat org.apache.jena.fuseki.servlets.ServletOps.error(ServletOps.java:143)\r\n\tat org.apache.jena.fuseki.servlets.ServletOps.errorNotImplemented(ServletOps.java:116)\r\n\tat org.apache.jena.fuseki.metrics.SimpleMetricsProvider.scrape(SimpleMetricsProvider.java:36)\r\n\tat org.apache.jena.fuseki.ctl.ActionMetrics.perform(ActionMetrics.java:51)\r\n\tat org.apache.jena.fuseki.ctl.ActionMetrics.doGet(ActionMetrics.java:42)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n```\r\n\r\nSome tests of the metrics code would be good.  Testing the server is tricky because you have to have a server and `jena-fuseki-core` isn't a whole server. test can go into jena-fuseki-main for functional testing and ideally  jena-fuseki-webapp (just to test web.xml/shiro.ini setup).\r\n\r\n#### Code comment\r\n\r\nThe direct adding of `MeterRegistry` to everywhere `DataAccessPointRegistry` is created feels wrong :-) but this does not have to be looked at now. The current way works.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479922355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479935807","html_url":"https://github.com/apache/jena/pull/534#issuecomment-479935807","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":479935807,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTkzNTgwNw==","user":{"login":"claudew","id":8365820,"node_id":"MDQ6VXNlcjgzNjU4MjA=","avatar_url":"https://avatars.githubusercontent.com/u/8365820?v=4","gravatar_id":"","url":"https://api.github.com/users/claudew","html_url":"https://github.com/claudew","followers_url":"https://api.github.com/users/claudew/followers","following_url":"https://api.github.com/users/claudew/following{/other_user}","gists_url":"https://api.github.com/users/claudew/gists{/gist_id}","starred_url":"https://api.github.com/users/claudew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claudew/subscriptions","organizations_url":"https://api.github.com/users/claudew/orgs","repos_url":"https://api.github.com/users/claudew/repos","events_url":"https://api.github.com/users/claudew/events{/privacy}","received_events_url":"https://api.github.com/users/claudew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T15:04:49Z","updated_at":"2019-04-04T15:04:49Z","author_association":"NONE","body":"@afs I think you meant @claudenw (Claude Warren), not @claudew (Claude Whitmyer).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479935807/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479937698","html_url":"https://github.com/apache/jena/pull/534#issuecomment-479937698","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":479937698,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTkzNzY5OA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T15:09:18Z","updated_at":"2019-04-04T15:09:18Z","author_association":"MEMBER","body":"@claudew - yes, sorry. \r\n\r\n@Claudenw - would you be able to help out with the L&N issues here?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479937698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479940586","html_url":"https://github.com/apache/jena/pull/534#issuecomment-479940586","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":479940586,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk0MDU4Ng==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T15:16:03Z","updated_at":"2019-04-04T15:16:03Z","author_association":"NONE","body":":+1: thanks @afs I've removed the new extras module.\r\n\r\nI made the Prometheus provider the default for now - I think we may as well seeing as Prometheus stuff is included in `jena-fuseki-core` now. Does that make sense?\r\n\r\nI'll have a look at the 501 error thing later - or maybe can delete the `SimpleMetricsProvider` given that it can't be scraped via http (not sure when anyone would use it for real t.b.h)\r\n\r\n... and the testing. Hope to get to it later or tomorrow","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479940586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479984285","html_url":"https://github.com/apache/jena/pull/536#issuecomment-479984285","issue_url":"https://api.github.com/repos/apache/jena/issues/536","id":479984285,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk4NDI4NQ==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T17:10:44Z","updated_at":"2019-04-04T17:10:44Z","author_association":"MEMBER","body":"@DamienFontaine Thanks, doc changes added and visible on the staging site - http://jena.staging.apache.org/documentation/query/text-query.html\r\n\r\nWe typically only publish the site to production when a release happens so this won't show up in the public site until the next release happens","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479984285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/479999270","html_url":"https://github.com/apache/jena/pull/534#issuecomment-479999270","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":479999270,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk5OTI3MA==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T17:53:44Z","updated_at":"2019-04-04T17:53:44Z","author_association":"NONE","body":"Sorted the 501 thing... will look at the tests tomorrow","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/479999270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480177187","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480177187","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480177187,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDE3NzE4Nw==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T07:32:11Z","updated_at":"2019-04-05T07:32:11Z","author_association":"NONE","body":"I've added a very basic test @afs ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480177187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480213481","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480213481","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480213481,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDIxMzQ4MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T09:39:30Z","updated_at":"2019-04-05T09:39:30Z","author_association":"MEMBER","body":"One test goes a long way!\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480213481/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480343725","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480343725","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480343725,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM0MzcyNQ==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T16:43:39Z","updated_at":"2019-04-05T16:43:39Z","author_association":"CONTRIBUTOR","body":"I think we only need to add the licenses (there may be only one) to the\nMETA-INF folder.  We could do this by just copying the file(s) or we could\nextract them from the Jars duirng the build.\n\nThe first is easier, the latter means that if there are any changes in the\nlicense files we will pick them up.\n\nIs there any desire to do this one way or the other?  If not I will\nprobably just copy the files.\n\nThe other issue may be the license scan (at least I think we do one) will\nhave to be updated to accept the licenses.\n\nDoes this only go into the fuseki war or are there other builds that need\nthem too?\n\nClaude\n\nOn Thu, Apr 4, 2019 at 3:32 PM Andy Seaborne <notifications@github.com>\nwrote:\n\n> Licensing\n>\n> @claudew <https://github.com/claudew> - would you be able to help out\n> with the L&N issues here?\n>\n> The LICENSE and NOTICE for the combined binary artifacts (3 of them) wil\n> need to include BSD-related text.\n> At the moment, they get autogenerated but we need to put specific text in.\n>\n> jena-fuseki-server\n> jena-fuseki-war\n> jena-fuseki-fulljar\n>\n> See jena-fuseki-webapp/src/resources/META-INF/ which puts in LICENSE and\n> NOTICE into a jar but I think we need to do it in the shading step for\n> external resources like BSD-licnesed binaries.\n> Packaging\n>\n> It is easier to add maven modules later than retire them.\n> Prometheus is sufficiently common I think including in Fuseki core for now\n> is easier for users.\n>\n> Proposal: moving it to\n> jena-fuseki-core::org.apache.jena.fuseki.metrics.prometheus (and the\n> ServiceLoader file similarly)\n> and now have the jena-prometheus (which is out of sequence in the build\n> currently).\n> Testing\n>\n> If jena-prometheus is not available I get a 500 server error and a\n> stacktrace, not 501 (running Fuseki main+Prometheus)\n>\n> {noformat}\n> [12:47:13] INFO Server :: Start Fuseki (port=3030)\n> [12:47:18] WARN HttpChannel :: /$/metrics/ds\n> org.apache.jena.fuseki.servlets.ActionErrorException: SimpleMeterRegistry\n> isn't scrapeable\n> at org.apache.jena.fuseki.servlets.ServletOps.error(ServletOps.java:143)\n> at\n> org.apache.jena.fuseki.servlets.ServletOps.errorNotImplemented(ServletOps.java:116)\n> at\n> org.apache.jena.fuseki.metrics.SimpleMetricsProvider.scrape(SimpleMetricsProvider.java:36)\n> at org.apache.jena.fuseki.ctl.ActionMetrics.perform(ActionMetrics.java:51)\n> at org.apache.jena.fuseki.ctl.ActionMetrics.doGet(ActionMetrics.java:42)\n> at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n> {noformat}\n>\n> Some tests of the metrics code would be good. Testing the server is tricky\n> because you have to have a server and jena-fuseki-core isn't a whole\n> server. test can go into jena-fuseki-main for functional testing and\n> ideally jena-fuseki-webapp (just to test web.xml/shiro.ini setup).\n> Code comment\n>\n> The direct adding of MeterRegistry to everywhere DataAccessPointRegistry\n> is created feels wrong :-) but this does not have to be looked at now. The\n> current way works.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/jena/pull/534#issuecomment-479922355>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACU6nuyFp_lZM4a13rHdSMlU3oKi6tNfks5vdg0SgaJpZM4bDW9i>\n> .\n>\n\n\n-- \nI like: Like Like - The likeliest place on the web\n<http://like-like.xenei.com>\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480343725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480372154","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480372154","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480372154,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM3MjE1NA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T18:11:33Z","updated_at":"2019-04-05T18:11:33Z","author_association":"MEMBER","body":"> Does this only go into the fuseki war \r\n\r\n@Claudenw There are three binary artifacts.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480372154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480515318","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480515318","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480515318,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDUxNTMxOA==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T16:00:00Z","updated_at":"2019-04-06T16:00:00Z","author_association":"CONTRIBUTOR","body":"I was goingto add the licensing information but discovered that the\nHdrHistogram and LatencyUtils are both licensed under creative commons\npublic domain (http://creativecommons.org/publicdomain/zero/1.0/) if we\ndon't want to use that they also provide the BSD 2-Clause License.  I\nsuggest we use creative commons public domain because it sounds easier.  In\nwhich case I don't think we need to do anything.\n\nClaude\n\n\n\n\nOn Thu, Apr 4, 2019 at 3:32 PM Andy Seaborne <notifications@github.com>\nwrote:\n\n> Licensing\n>\n> @claudew <https://github.com/claudew> - would you be able to help out\n> with the L&N issues here?\n>\n> The LICENSE and NOTICE for the combined binary artifacts (3 of them) wil\n> need to include BSD-related text.\n> At the moment, they get autogenerated but we need to put specific text in.\n>\n> jena-fuseki-server\n> jena-fuseki-war\n> jena-fuseki-fulljar\n>\n> See jena-fuseki-webapp/src/resources/META-INF/ which puts in LICENSE and\n> NOTICE into a jar but I think we need to do it in the shading step for\n> external resources like BSD-licnesed binaries.\n> Packaging\n>\n> It is easier to add maven modules later than retire them.\n> Prometheus is sufficiently common I think including in Fuseki core for now\n> is easier for users.\n>\n> Proposal: moving it to\n> jena-fuseki-core::org.apache.jena.fuseki.metrics.prometheus (and the\n> ServiceLoader file similarly)\n> and now have the jena-prometheus (which is out of sequence in the build\n> currently).\n> Testing\n>\n> If jena-prometheus is not available I get a 500 server error and a\n> stacktrace, not 501 (running Fuseki main+Prometheus)\n>\n> {noformat}\n> [12:47:13] INFO Server :: Start Fuseki (port=3030)\n> [12:47:18] WARN HttpChannel :: /$/metrics/ds\n> org.apache.jena.fuseki.servlets.ActionErrorException: SimpleMeterRegistry\n> isn't scrapeable\n> at org.apache.jena.fuseki.servlets.ServletOps.error(ServletOps.java:143)\n> at\n> org.apache.jena.fuseki.servlets.ServletOps.errorNotImplemented(ServletOps.java:116)\n> at\n> org.apache.jena.fuseki.metrics.SimpleMetricsProvider.scrape(SimpleMetricsProvider.java:36)\n> at org.apache.jena.fuseki.ctl.ActionMetrics.perform(ActionMetrics.java:51)\n> at org.apache.jena.fuseki.ctl.ActionMetrics.doGet(ActionMetrics.java:42)\n> at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n> {noformat}\n>\n> Some tests of the metrics code would be good. Testing the server is tricky\n> because you have to have a server and jena-fuseki-core isn't a whole\n> server. test can go into jena-fuseki-main for functional testing and\n> ideally jena-fuseki-webapp (just to test web.xml/shiro.ini setup).\n> Code comment\n>\n> The direct adding of MeterRegistry to everywhere DataAccessPointRegistry\n> is created feels wrong :-) but this does not have to be looked at now. The\n> current way works.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/jena/pull/534#issuecomment-479922355>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACU6nuyFp_lZM4a13rHdSMlU3oKi6tNfks5vdg0SgaJpZM4bDW9i>\n> .\n>\n\n\n-- \nI like: Like Like - The likeliest place on the web\n<http://like-like.xenei.com>\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480515318/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480519092","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480519092","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480519092,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDUxOTA5Mg==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T16:49:10Z","updated_at":"2019-04-06T16:49:10Z","author_association":"CONTRIBUTOR","body":"I can not find a straight text version of\nhttps://creativecommons.org/publicdomain/zero/1.0/legalcode so perhaps we\nshould just provide a link to it at the bottom of the current license like\nwe do with the other included code.\n\nOn Sat, Apr 6, 2019 at 4:59 PM Claude Warren <claude@xenei.com> wrote:\n\n> I was goingto add the licensing information but discovered that the\n> HdrHistogram and LatencyUtils are both licensed under creative commons\n> public domain (http://creativecommons.org/publicdomain/zero/1.0/) if we\n> don't want to use that they also provide the BSD 2-Clause License.  I\n> suggest we use creative commons public domain because it sounds easier.  In\n> which case I don't think we need to do anything.\n>\n> Claude\n>\n>\n>\n>\n> On Thu, Apr 4, 2019 at 3:32 PM Andy Seaborne <notifications@github.com>\n> wrote:\n>\n>> Licensing\n>>\n>> @claudew <https://github.com/claudew> - would you be able to help out\n>> with the L&N issues here?\n>>\n>> The LICENSE and NOTICE for the combined binary artifacts (3 of them) wil\n>> need to include BSD-related text.\n>> At the moment, they get autogenerated but we need to put specific text in.\n>>\n>> jena-fuseki-server\n>> jena-fuseki-war\n>> jena-fuseki-fulljar\n>>\n>> See jena-fuseki-webapp/src/resources/META-INF/ which puts in LICENSE and\n>> NOTICE into a jar but I think we need to do it in the shading step for\n>> external resources like BSD-licnesed binaries.\n>> Packaging\n>>\n>> It is easier to add maven modules later than retire them.\n>> Prometheus is sufficiently common I think including in Fuseki core for\n>> now is easier for users.\n>>\n>> Proposal: moving it to\n>> jena-fuseki-core::org.apache.jena.fuseki.metrics.prometheus (and the\n>> ServiceLoader file similarly)\n>> and now have the jena-prometheus (which is out of sequence in the build\n>> currently).\n>> Testing\n>>\n>> If jena-prometheus is not available I get a 500 server error and a\n>> stacktrace, not 501 (running Fuseki main+Prometheus)\n>>\n>> {noformat}\n>> [12:47:13] INFO Server :: Start Fuseki (port=3030)\n>> [12:47:18] WARN HttpChannel :: /$/metrics/ds\n>> org.apache.jena.fuseki.servlets.ActionErrorException: SimpleMeterRegistry\n>> isn't scrapeable\n>> at org.apache.jena.fuseki.servlets.ServletOps.error(ServletOps.java:143)\n>> at\n>> org.apache.jena.fuseki.servlets.ServletOps.errorNotImplemented(ServletOps.java:116)\n>> at\n>> org.apache.jena.fuseki.metrics.SimpleMetricsProvider.scrape(SimpleMetricsProvider.java:36)\n>> at org.apache.jena.fuseki.ctl.ActionMetrics.perform(ActionMetrics.java:51)\n>> at org.apache.jena.fuseki.ctl.ActionMetrics.doGet(ActionMetrics.java:42)\n>> at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n>> {noformat}\n>>\n>> Some tests of the metrics code would be good. Testing the server is\n>> tricky because you have to have a server and jena-fuseki-core isn't a\n>> whole server. test can go into jena-fuseki-main for functional testing and\n>> ideally jena-fuseki-webapp (just to test web.xml/shiro.ini setup).\n>> Code comment\n>>\n>> The direct adding of MeterRegistry to everywhere DataAccessPointRegistry\n>> is created feels wrong :-) but this does not have to be looked at now. The\n>> current way works.\n>>\n>> —\n>> You are receiving this because you were mentioned.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/apache/jena/pull/534#issuecomment-479922355>, or mute\n>> the thread\n>> <https://github.com/notifications/unsubscribe-auth/ACU6nuyFp_lZM4a13rHdSMlU3oKi6tNfks5vdg0SgaJpZM4bDW9i>\n>> .\n>>\n>\n>\n> --\n> I like: Like Like - The likeliest place on the web\n> <http://like-like.xenei.com>\n> LinkedIn: http://www.linkedin.com/in/claudewarren\n>\n\n\n-- \nI like: Like Like - The likeliest place on the web\n<http://like-like.xenei.com>\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480519092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480602750","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480602750","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480602750,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDYwMjc1MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-07T15:53:17Z","updated_at":"2019-04-07T15:53:17Z","author_association":"MEMBER","body":"A link in LICENSE is better and acceptable these days. HdrHistogram and LatencyUtils binaries artifacts themselves don't include a LICENSE or NOTICE file (these would automatically get rolled up by the shader). \r\n\r\nThis is the LICENSE to end up in the convenience binaries, not the Jena one; nothing to do there - no \"other license\" source in the jena source codebase. And because it is the convenience binaries, and licenses with no attribute requirement, do we need to do anything?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480602750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480739946","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480739946","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480739946,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDczOTk0Ng==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T08:40:38Z","updated_at":"2019-04-08T08:40:38Z","author_association":"CONTRIBUTOR","body":"After reviewing the licensing documentation in the libraries and Apache's\npolicy on public domain licenses (\nhttp://www.apache.org/legal/resolved.html#handling-public-domain-licensed-works)\nI think we can safely include them as we would any other Apache approved\nlicense.  To my mind this means adding a line or two to the Notice file\nindicating that the two components are included and are licensed under the\ncreateive commons public domain license.  This may be a bit of overkill,\nbut better safe than sorry.\n\nClaude\n\nOn Sun, Apr 7, 2019 at 4:53 PM Andy Seaborne <notifications@github.com>\nwrote:\n\n> A link in LICENSE is better and acceptable these days. HdrHistogram and\n> LatencyUtils binaries artifacts themselves don't include a LICENSE or\n> NOTICE file (these would automatically get rolled up by the shader).\n>\n> This is the LICENSE to end up in the convenience binaries, not the Jena\n> one; nothing to do there - no \"other license\" source in the jena source\n> codebase. And because it is the convenience binaries, and licenses with no\n> attribute requirement, do we need to do anything?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/jena/pull/534#issuecomment-480602750>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACU6nsUwPa171J5_JmaqNPn8of-U3Dgpks5vehRvgaJpZM4bDW9i>\n> .\n>\n\n\n-- \nI like: Like Like - The likeliest place on the web\n<http://like-like.xenei.com>\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480739946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/480751661","html_url":"https://github.com/apache/jena/pull/534#issuecomment-480751661","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":480751661,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDc1MTY2MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T09:15:04Z","updated_at":"2019-04-08T09:15:04Z","author_association":"MEMBER","body":"It is a ASF policy that NOTICE is minimal. This is to avoid simply passing the problems onto downstream consumers, because NOTICE is legal obligations and downstream would then have to handle it (recusively). LatenacyUtils and HdrHistogram don't have NOTICE files in the source repo.\r\n\r\nhttp://www.apache.org/dev/licensing-howto.html#step-by-step\r\n\"Add any _mandatory_ legal notifications specific to the IP of your product to NOTICE.\" (my emphasis).\r\n\r\nIf there is no attribution requirement, NOTICE should not be touched. BSD has such a requirement, CC0 does not.\r\n\r\nIt sounds like the appropriate LICENSE is needed.\r\n@Claudenw - do you agree?\r\n\r\n(That the artifacts themselves don't have a LICENSE is a nuisance but it looks like we ought to put one into our combined binaries.)\r\n\r\nRelated - no dates! Avoid anything that needs maintenance!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/480751661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/482608710","html_url":"https://github.com/apache/jena/pull/554#issuecomment-482608710","issue_url":"https://api.github.com/repos/apache/jena/issues/554","id":482608710,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjYwODcxMA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T15:04:35Z","updated_at":"2019-04-12T15:04:35Z","author_association":"MEMBER","body":"Pull request has stray files from something else. Closing PR.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/482608710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/482808571","html_url":"https://github.com/apache/jena/pull/534#issuecomment-482808571","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":482808571,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjgwODU3MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T13:20:03Z","updated_at":"2019-04-13T13:20:03Z","author_association":"MEMBER","body":"See [JENA-1703](https://issues.apache.org/jira/browse/JENA-1703), PR #555 for nearby changes in notice files.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/482808571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/482927082","html_url":"https://github.com/apache/jena/pull/534#issuecomment-482927082","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":482927082,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjkyNzA4Mg==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-14T07:32:07Z","updated_at":"2019-04-14T07:32:07Z","author_association":"CONTRIBUTOR","body":"Andy, thanks for getting the changes in, I agree with your assessment,\nsorry that it took so long to respond.  So the Prometheus endpoint will\nneed to add 2 more licence notes to the files you created in PR #555\n<https://github.com/apache/jena/pull/555>.  Is that your understanding as\nwell?\n\nClaude\n\nOn Sat, Apr 13, 2019 at 2:20 PM Andy Seaborne <notifications@github.com>\nwrote:\n\n> See JENA-1703 <https://issues.apache.org/jira/browse/JENA-1703>, PR #555\n> <https://github.com/apache/jena/pull/555> for nearby changes in notice\n> files.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/jena/pull/534#issuecomment-482808571>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACU6npVhe8nwvnnzxkZfVGbehk_6IAJJks5vgdmGgaJpZM4bDW9i>\n> .\n>\n\n\n-- \nI like: Like Like - The likeliest place on the web\n<http://like-like.xenei.com>\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/482927082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/482969722","html_url":"https://github.com/apache/jena/pull/534#issuecomment-482969722","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":482969722,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjk2OTcyMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-14T12:56:13Z","updated_at":"2019-04-14T12:56:13Z","author_association":"MEMBER","body":"From the legal-discuss@ emailing list, the decision seems to be we are using 2 clause BSD. Please confirm that here or dev@ so it is in public, on a jena list/forum.\r\n\r\nThen we need to execute on that for the two dependencies that will be bundled into shared jars because we unpack and repack them.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/482969722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/483002614","html_url":"https://github.com/apache/jena/pull/555#issuecomment-483002614","issue_url":"https://api.github.com/repos/apache/jena/issues/555","id":483002614,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzAwMjYxNA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-14T15:45:23Z","updated_at":"2019-04-14T15:45:23Z","author_association":"MEMBER","body":"Extra commit to set `/META-INF/NOTICE` in the war file. After rereading various descriptions and also the Apache principles, I have concluded we should include a NOTICE file.\r\n\r\n(I don't like the way this is inserted but it works and gets the intended war file layout.)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/483002614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/483125506","html_url":"https://github.com/apache/jena/pull/534#issuecomment-483125506","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":483125506,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzEyNTUwNg==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T06:36:09Z","updated_at":"2019-04-15T06:36:09Z","author_association":"CONTRIBUTOR","body":"The two modules in question come under dual licenses: CC0 or\nBSD-2-clause.  My understanding from the legal-discuss thread is that\nthe CC0 does not require notification because it is public domain but\nit also does not confer patent rights, so we elected to use\nBSD-2-Clause and need to add the BSD-2-Clause license file and a the\nnotation that it applies to the  HdrHistogram and LatencyUtils\npackages.\n\nI assume the notation will be in the Notice files for the fuseki\nbundles that include the libraries mentioned..\n\nClaude\n\nOn Sun, Apr 14, 2019 at 1:56 PM Andy Seaborne <notifications@github.com> wrote:\n>\n> From the legal-discuss@ emailing list, the decision seems to be we are using 2 clause BSD. Please confirm that here or dev@ so it is in public, on a jena list/forum.\n>\n> Then we need to execute on that for the two dependencies that will be bundled into shared jars because we unpack and repack them.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n\n\n\n-- \nI like: Like Like - The likeliest place on the web\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/483125506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484040611","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484040611","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484040611,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDA0MDYxMQ==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T11:12:59Z","updated_at":"2019-04-17T11:12:59Z","author_association":"CONTRIBUTOR","body":"What is the process for me (3rd party) to add licenses to PR?\n\nOn Mon, Apr 15, 2019 at 7:35 AM Claude Warren <claude@xenei.com> wrote:\n>\n> The two modules in question come under dual licenses: CC0 or\n> BSD-2-clause.  My understanding from the legal-discuss thread is that\n> the CC0 does not require notification because it is public domain but\n> it also does not confer patent rights, so we elected to use\n> BSD-2-Clause and need to add the BSD-2-Clause license file and a the\n> notation that it applies to the  HdrHistogram and LatencyUtils\n> packages.\n>\n> I assume the notation will be in the Notice files for the fuseki\n> bundles that include the libraries mentioned..\n>\n> Claude\n>\n> On Sun, Apr 14, 2019 at 1:56 PM Andy Seaborne <notifications@github.com> wrote:\n> >\n> > From the legal-discuss@ emailing list, the decision seems to be we are using 2 clause BSD. Please confirm that here or dev@ so it is in public, on a jena list/forum.\n> >\n> > Then we need to execute on that for the two dependencies that will be bundled into shared jars because we unpack and repack them.\n> >\n> > —\n> > You are receiving this because you were mentioned.\n> > Reply to this email directly, view it on GitHub, or mute the thread.\n>\n>\n>\n> --\n> I like: Like Like - The likeliest place on the web\n> LinkedIn: http://www.linkedin.com/in/claudewarren\n\n\n\n-- \nI like: Like Like - The likeliest place on the web\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484040611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484127012","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484127012","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484127012,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDEyNzAxMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T14:59:00Z","updated_at":"2019-04-17T14:59:00Z","author_association":"MEMBER","body":"@Claudenw Would it be possible for you to work with Sean to get it in the PR?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484127012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484127705","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484127705","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484127705,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDEyNzcwNQ==","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T15:00:30Z","updated_at":"2019-04-17T15:00:30Z","author_association":"CONTRIBUTOR","body":"I hope to do that in the next few days / evenings\n\n\nOn Wed, Apr 17, 2019 at 3:59 PM Andy Seaborne <notifications@github.com>\nwrote:\n\n> @Claudenw <https://github.com/Claudenw> Would it be possible for you to\n> work with Sean to get it in the PR?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/jena/pull/534#issuecomment-484127012>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACU6nnppkUMY6uOy25Q17y6ZYs5zS6lCks5vhza6gaJpZM4bDW9i>\n> .\n>\n\n\n-- \nI like: Like Like - The likeliest place on the web\n<http://like-like.xenei.com>\nLinkedIn: http://www.linkedin.com/in/claudewarren\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484127705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484128825","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484128825","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484128825,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDEyODgyNQ==","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T15:03:06Z","updated_at":"2019-04-17T15:03:06Z","author_association":"MEMBER","body":"@Claudenw It can be a little tricky, but you can send a PR to @seaninryan's PR. You would do that by pulling his branch into your local Github repo, and starting a new branch from that. Add the appropriate commits, then send a a PR via Github, selecting his branch as the base branch and your new branch as the comparison branch. He can then accept your PR into his branch, which will automatically incorporate it here, where that branch is being used for a PR to Jena.\r\n\r\nThat might or might not be easier for you, just throwing it out there in case it's useful.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484128825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484456843","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484456843","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484456843,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDQ1Njg0Mw==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T11:06:57Z","updated_at":"2019-04-18T11:08:20Z","author_association":"NONE","body":"Hi @afs, @Claudenw - I've added licensing info to the `jena-fuseki2/LICENSE` file\r\n\r\nIs this enough? I notice that the top level `NOTICE`  contains copyright info for some dependencies. Should I copy the HdrHistogram and LatencyUtils copyrights into that file? Or maybe add a `NOTICE` to the `jena-fuseki2` module?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484456843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484458067","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484458067","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484458067,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDQ1ODA2Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T11:10:33Z","updated_at":"2019-04-18T11:16:25Z","author_association":"MEMBER","body":"@seaninryan - the material needs to go in the NOTICE files (in merged PR #554).\r\n\r\nBut the information is there so I'll merge this and fix up the 3 NOTICE files so we can get a release done with this in.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484458067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484458438","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484458438","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484458438,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDQ1ODQzOA==","user":{"login":"seaninryan","id":13253395,"node_id":"MDQ6VXNlcjEzMjUzMzk1","avatar_url":"https://avatars.githubusercontent.com/u/13253395?v=4","gravatar_id":"","url":"https://api.github.com/users/seaninryan","html_url":"https://github.com/seaninryan","followers_url":"https://api.github.com/users/seaninryan/followers","following_url":"https://api.github.com/users/seaninryan/following{/other_user}","gists_url":"https://api.github.com/users/seaninryan/gists{/gist_id}","starred_url":"https://api.github.com/users/seaninryan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seaninryan/subscriptions","organizations_url":"https://api.github.com/users/seaninryan/orgs","repos_url":"https://api.github.com/users/seaninryan/repos","events_url":"https://api.github.com/users/seaninryan/events{/privacy}","received_events_url":"https://api.github.com/users/seaninryan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T11:11:40Z","updated_at":"2019-04-18T11:11:40Z","author_association":"NONE","body":"ok great @afs thanks for all of your time","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484458438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/484494407","html_url":"https://github.com/apache/jena/pull/534#issuecomment-484494407","issue_url":"https://api.github.com/repos/apache/jena/issues/534","id":484494407,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDQ5NDQwNw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T12:54:08Z","updated_at":"2019-04-18T12:54:08Z","author_association":"MEMBER","body":"Subsequent NOTICE updates done with commit e1a392ef3035 .\r\n\r\n@seaninryan - thank you!\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/484494407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]