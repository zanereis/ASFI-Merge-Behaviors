[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438487903","html_url":"https://github.com/apache/couchdb/issues/1603#issuecomment-438487903","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1603","id":438487903,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ4NzkwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T00:12:17Z","updated_at":"2018-11-14T00:12:17Z","author_association":"MEMBER","body":"Hi @eiri, this is blocking 2.3.0's release. Would you have time to look at a PR for this this week?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438487903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438488156","html_url":"https://github.com/apache/couchdb/issues/1600#issuecomment-438488156","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1600","id":438488156,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ4ODE1Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T00:13:33Z","updated_at":"2018-11-14T00:13:33Z","author_association":"MEMBER","body":"I'd like to fix this in 2.3.0, but without more info from @nickva on a possible reason, I'm going to move it out of this milestone.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438488156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438488616","html_url":"https://github.com/apache/couchdb/pull/1272#issuecomment-438488616","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1272","id":438488616,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ4ODYxNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T00:15:38Z","updated_at":"2018-11-14T00:15:38Z","author_association":"MEMBER","body":"@rnewson ping. If you're not able to get to this in the next week, I'm removing this from the 2.3.0 milestone.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438488616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438490677","html_url":"https://github.com/apache/couchdb/issues/1603#issuecomment-438490677","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1603","id":438490677,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ5MDY3Nw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T00:25:29Z","updated_at":"2018-11-14T00:25:29Z","author_association":"MEMBER","body":"@wohali yes, I have a half of the fix for this done and a missing part is `POST` with `keys=` on `/{db}/_design_docs` and the tests. I'll get to it tomorrow or Thursday.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438490677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438515424","html_url":"https://github.com/apache/couchdb/pull/1619#issuecomment-438515424","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1619","id":438515424,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODUxNTQyNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T02:33:14Z","updated_at":"2018-11-14T16:40:20Z","author_association":"CONTRIBUTOR","body":"@rnewson what do you think. Put Expires + Max-Age in the cookie by default? Then to deal with the exiting pre-2.3.0 endpoints or if expires not found use the default value with a fudge factor (so say 550 sec). Not as good as the hard_expires but better what what we have now? And of course, expiring auth failure triggers refresh just like they do now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438515424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438579102","html_url":"https://github.com/apache/couchdb/pull/1718#issuecomment-438579102","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1718","id":438579102,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODU3OTEwMg==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T08:30:21Z","updated_at":"2018-11-14T08:30:21Z","author_association":"MEMBER","body":"thanks @davisp I've made the changes","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438579102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438603286","html_url":"https://github.com/apache/couchdb/issues/1539#issuecomment-438603286","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1539","id":438603286,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODYwMzI4Ng==","user":{"login":"manobi","id":82986,"node_id":"MDQ6VXNlcjgyOTg2","avatar_url":"https://avatars.githubusercontent.com/u/82986?v=4","gravatar_id":"","url":"https://api.github.com/users/manobi","html_url":"https://github.com/manobi","followers_url":"https://api.github.com/users/manobi/followers","following_url":"https://api.github.com/users/manobi/following{/other_user}","gists_url":"https://api.github.com/users/manobi/gists{/gist_id}","starred_url":"https://api.github.com/users/manobi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manobi/subscriptions","organizations_url":"https://api.github.com/users/manobi/orgs","repos_url":"https://api.github.com/users/manobi/repos","events_url":"https://api.github.com/users/manobi/events{/privacy}","received_events_url":"https://api.github.com/users/manobi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T09:52:39Z","updated_at":"2018-11-14T09:52:39Z","author_association":"NONE","body":"I have used Couchdb in past as a secondary database in SaaS apps it was never my main storage.\r\nI'm not sure if I really need multi-tenancy builtin, because it would increase the docs complexity. \r\n\r\nBut I would love to see the proxy @janl  mentioned, actually I'm planing to port an tenant handler we have from PHP to node.js and open source it (it's actually for mysql but I can create wrapper for other database).\r\n\r\nCan you share something about the common strategies  used? one database per tenant or all data in a single database and proxy controls what each tenant can see?\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438603286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438607210","html_url":"https://github.com/apache/couchdb/issues/1737#issuecomment-438607210","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1737","id":438607210,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODYwNzIxMA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T10:05:23Z","updated_at":"2018-11-14T10:05:23Z","author_association":"MEMBER","body":"ok, I think I get this finally. Before 2.0, we had an optimization for _doc_ids and _design filter;\r\n\r\n```\r\ncommit bfa0a8900163edd4f85c7bbf5b595de9885cfbf9\r\nAuthor: Filipe David Borba Manana <fdmanana@apache.org>\r\nDate:   Tue Sep 20 22:55:29 2011 +0000\r\n\r\n    Efficient implementation of builtin filters\r\n\r\n    Currently, the builtin changes filters \"_doc_ids\" and \"_design\"\r\n    are not very efficient because they fold the entire seq btree\r\n    and then filter the values by document ID.\r\n    This implementation avoids that by doing direct lookups against\r\n    the id btree, and then, for continuous changes requests, it\r\n    just listens for database update events and does partial seq\r\n    btree folds.\r\n\r\n    COUCHDB-1288\r\n```\r\n\r\nThe clustered code for _changes does not use it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438607210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438607497","html_url":"https://github.com/apache/couchdb/issues/1737#issuecomment-438607497","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1737","id":438607497,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODYwNzQ5Nw==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T10:06:19Z","updated_at":"2018-11-14T10:06:19Z","author_association":"MEMBER","body":"we pass `{default,main_only}` down as the filter, so the optimization does not fire.\r\n\r\nIt's not yet clear if this can be restored given how the clustered version of changes feed has to work, but at least this is progress.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438607497/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438610987","html_url":"https://github.com/apache/couchdb/issues/1737#issuecomment-438610987","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1737","id":438610987,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODYxMDk4Nw==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T10:17:32Z","updated_at":"2018-11-14T10:17:44Z","author_association":"MEMBER","body":"so `fabric_rpc:changes` always calls `couch_db:fold_changes` .","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438610987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438650741","html_url":"https://github.com/apache/couchdb/pull/1717#issuecomment-438650741","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1717","id":438650741,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY1MDc0MQ==","user":{"login":"wenli200133","id":13113371,"node_id":"MDQ6VXNlcjEzMTEzMzcx","avatar_url":"https://avatars.githubusercontent.com/u/13113371?v=4","gravatar_id":"","url":"https://api.github.com/users/wenli200133","html_url":"https://github.com/wenli200133","followers_url":"https://api.github.com/users/wenli200133/followers","following_url":"https://api.github.com/users/wenli200133/following{/other_user}","gists_url":"https://api.github.com/users/wenli200133/gists{/gist_id}","starred_url":"https://api.github.com/users/wenli200133/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenli200133/subscriptions","organizations_url":"https://api.github.com/users/wenli200133/orgs","repos_url":"https://api.github.com/users/wenli200133/repos","events_url":"https://api.github.com/users/wenli200133/events{/privacy}","received_events_url":"https://api.github.com/users/wenli200133/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T12:49:42Z","updated_at":"2018-11-14T12:49:42Z","author_association":"CONTRIBUTOR","body":"Hi @wohali can you help review this PR again if you have free time? @jiangphcn can you also help with it?\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438650741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438707266","html_url":"https://github.com/apache/couchdb/issues/1712#issuecomment-438707266","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1712","id":438707266,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODcwNzI2Ng==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T15:41:01Z","updated_at":"2018-11-14T15:41:15Z","author_association":"NONE","body":"@wohali Is there any other data we might provide? This keeps on occurring on various items","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438707266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438769037","html_url":"https://github.com/apache/couchdb/pull/1195#issuecomment-438769037","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1195","id":438769037,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc2OTAzNw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T18:32:27Z","updated_at":"2018-11-14T18:32:27Z","author_association":"CONTRIBUTOR","body":"Added a rebased on master PR https://github.com/apache/couchdb/pull/1195\r\n\r\nNot sure why \"update branch\" button in GH doesn't allow rebasing on master :-)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438769037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438780054","html_url":"https://github.com/apache/couchdb/pull/1195#issuecomment-438780054","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1195","id":438780054,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc4MDA1NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T19:04:26Z","updated_at":"2018-11-14T19:34:51Z","author_association":"CONTRIBUTOR","body":"@AlexanderKaraberov \r\n\r\nThank you again for you contribution. I rebased and merged your PR. \r\n\r\nPlease make a documentation PR to go along with it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438780054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438840864","html_url":"https://github.com/apache/couchdb/issues/1740#issuecomment-438840864","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1740","id":438840864,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg0MDg2NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T22:21:15Z","updated_at":"2018-11-14T22:21:15Z","author_association":"MEMBER","body":"@dholth Some of these rules have changed with checkins since 2.2.0 was released:\r\n\r\nhttps://github.com/apache/couchdb/commit/8e28fd2af5732d1b7e2866977860695fcbd676e8\r\n\r\nI agree the documentation could be improved, and am moving this issue to our couchdb-documentation repository.\r\n\r\nWe'd love a pull request if you are interested in helping out! :wink: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438840864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438842324","html_url":"https://github.com/apache/couchdb/issues/1712#issuecomment-438842324","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1712","id":438842324,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg0MjMyNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T22:26:29Z","updated_at":"2018-11-14T22:26:29Z","author_association":"MEMBER","body":"@tudordumitriu Sorry, I don't have time to look at this issue for a week or two. Hopefully someone else will step in.\r\n\r\nIf you want more immediate support please try our mailing list or Slack chat, both are linked from our home page https://couchdb.apache.org/ .","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438842324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438842640","html_url":"https://github.com/apache/couchdb/pull/1717#issuecomment-438842640","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1717","id":438842640,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg0MjY0MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T22:27:35Z","updated_at":"2018-11-14T22:27:35Z","author_association":"MEMBER","body":"@wenli200133 sorry, I'm busy with release activities and this sort of technical review isn't what I normally engage in - please work with @jiangphcn @eiri or other Erlang developers on CouchDB. :+1: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438842640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438843343","html_url":"https://github.com/apache/couchdb/issues/1539#issuecomment-438843343","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1539","id":438843343,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg0MzM0Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T22:30:11Z","updated_at":"2018-11-14T22:30:11Z","author_association":"MEMBER","body":"@manobi you may also want to look at the _access proposal for CouchDB 3.0, which helps with the latter scenario. I think this might be better for your situation, frankly. See #1524 for details.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438843343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438922853","html_url":"https://github.com/apache/couchdb/pull/1717#issuecomment-438922853","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1717","id":438922853,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODkyMjg1Mw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T05:30:57Z","updated_at":"2018-11-15T05:30:57Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438922853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438967526","html_url":"https://github.com/apache/couchdb/issues/1712#issuecomment-438967526","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1712","id":438967526,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODk2NzUyNg==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T09:03:19Z","updated_at":"2018-11-15T09:03:19Z","author_association":"NONE","body":"@wohali Thanks,\r\nWe'll be waiting then","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/438967526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439171476","html_url":"https://github.com/apache/couchdb/pull/1605#issuecomment-439171476","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1605","id":439171476,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTE3MTQ3Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T20:01:47Z","updated_at":"2018-11-15T20:01:47Z","author_association":"MEMBER","body":"Please note, we are moving swiftly now into the 2.3.0 release cycle. Until 2.3.x has branched, _**do not merge this PR into `master`**_.\r\n\r\nI will update this PR when that has happened. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439171476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439181017","html_url":"https://github.com/apache/couchdb/issues/1539#issuecomment-439181017","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1539","id":439181017,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTE4MTAxNw==","user":{"login":"manobi","id":82986,"node_id":"MDQ6VXNlcjgyOTg2","avatar_url":"https://avatars.githubusercontent.com/u/82986?v=4","gravatar_id":"","url":"https://api.github.com/users/manobi","html_url":"https://github.com/manobi","followers_url":"https://api.github.com/users/manobi/followers","following_url":"https://api.github.com/users/manobi/following{/other_user}","gists_url":"https://api.github.com/users/manobi/gists{/gist_id}","starred_url":"https://api.github.com/users/manobi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manobi/subscriptions","organizations_url":"https://api.github.com/users/manobi/orgs","repos_url":"https://api.github.com/users/manobi/repos","events_url":"https://api.github.com/users/manobi/events{/privacy}","received_events_url":"https://api.github.com/users/manobi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T20:35:16Z","updated_at":"2018-11-15T20:35:16Z","author_association":"NONE","body":"@wohali Thanks for sharing, I will be following your recommendation.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439181017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439353685","html_url":"https://github.com/apache/couchdb/pull/1195#issuecomment-439353685","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1195","id":439353685,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTM1MzY4NQ==","user":{"login":"AlexanderKaraberov","id":3254818,"node_id":"MDQ6VXNlcjMyNTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3254818?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderKaraberov","html_url":"https://github.com/AlexanderKaraberov","followers_url":"https://api.github.com/users/AlexanderKaraberov/followers","following_url":"https://api.github.com/users/AlexanderKaraberov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderKaraberov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderKaraberov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderKaraberov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderKaraberov/orgs","repos_url":"https://api.github.com/users/AlexanderKaraberov/repos","events_url":"https://api.github.com/users/AlexanderKaraberov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderKaraberov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T10:39:29Z","updated_at":"2018-11-16T10:39:29Z","author_association":"CONTRIBUTOR","body":"@nickva Thanks! Sure, I shall allocate some time in order to update related documentation and submit a PR for it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439353685/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439443842","html_url":"https://github.com/apache/couchdb/pull/1719#issuecomment-439443842","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1719","id":439443842,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ0Mzg0Mg==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T16:14:46Z","updated_at":"2018-11-16T16:15:58Z","author_association":"CONTRIBUTOR","body":"@willholley @garrensmith :  \r\nI'm trying to wrap my head around NOT vs NE and if we're consistent with the results.\r\n\r\nThe fix for `$not` makes sense to me.\r\n\r\nSo `$ne` implies that the field exists. I think that's why @garrensmith's current test case with\r\n`\"somefield\": { \"$ne\": \"somevalue\"}}` uses an index.\r\n\r\nBut what if we did:\r\n`\"somefield\": { \"$ne\": { \"$elemMatch\": {\"$regex\": \"expression\"}}}` ?\r\n\r\nThis means the field should exist, and not equal to certain documents. It's just a bigger\r\nset than `\"somefield\": { \"$ne\": \"somevalue\"}}`\r\n\r\n However, IIRC, $regex is a combination operator and we need to use _all_docs. So do\r\nwe choose an index or just _all_docs in this case? From the current code I think\r\nwe choose an index right? Should this be the right approach? \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439443842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439461467","html_url":"https://github.com/apache/couchdb/issues/1743#issuecomment-439461467","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1743","id":439461467,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ2MTQ2Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T17:10:33Z","updated_at":"2018-11-16T17:10:33Z","author_association":"MEMBER","body":"Hi @eimajenthat ,\r\n\r\nWhich version of CouchDB were you running? If not v2.2.0, it is very likely you were exploited through one of our previously disclosed CVEs, very likely one of the last 3 on this page: http://docs.couchdb.org/en/stable/cve/index.html\r\n\r\nIn the future please report all security issues to security@couchdb.apache.org, and not via GitHub issues. Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439461467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439464769","html_url":"https://github.com/apache/couchdb/pull/1195#issuecomment-439464769","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1195","id":439464769,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ2NDc2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T17:21:34Z","updated_at":"2018-11-16T17:21:34Z","author_association":"MEMBER","body":"@AlexanderKaraberov Thanks, please be advised I am moving swiftly into 2.3.0 release time, so a little urgency would be much appreciated. :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439464769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439465740","html_url":"https://github.com/apache/couchdb/issues/1743#issuecomment-439465740","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1743","id":439465740,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ2NTc0MA==","user":{"login":"eimajenthat","id":1080691,"node_id":"MDQ6VXNlcjEwODA2OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1080691?v=4","gravatar_id":"","url":"https://api.github.com/users/eimajenthat","html_url":"https://github.com/eimajenthat","followers_url":"https://api.github.com/users/eimajenthat/followers","following_url":"https://api.github.com/users/eimajenthat/following{/other_user}","gists_url":"https://api.github.com/users/eimajenthat/gists{/gist_id}","starred_url":"https://api.github.com/users/eimajenthat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eimajenthat/subscriptions","organizations_url":"https://api.github.com/users/eimajenthat/orgs","repos_url":"https://api.github.com/users/eimajenthat/repos","events_url":"https://api.github.com/users/eimajenthat/events{/privacy}","received_events_url":"https://api.github.com/users/eimajenthat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T17:25:05Z","updated_at":"2018-11-16T17:25:05Z","author_association":"NONE","body":"Looks like I'm running 1.5.0.  Yikes!  I installed it within the last month from apt.  But this server's still on Ubuntu Trusty.  I should look at upgrading to the latest LTS.  And I should probably add the CouchDB repo, rather than relying on Ubuntu's repositories.\r\n\r\nI uninstalled CouchDB and deleted all trace of it, as I hadn't actually time to use it for anything yet on this server.  When I reinstall (which I will, CouchDB is super cool), I'll make sure I get the updated version.\r\n\r\nThanks for the info.\r\n\r\nSorry about posting this in the wrong place.  I was slightly frantic, trying to make sure the malicious code was purged for my system, but I wanted to preserve that pastebin, in case it could be helpful to the good guys.  I sincerely hope I won't be lucky enough to discover more security issues, but if I do, I'll submit them to that email.\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439465740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439468191","html_url":"https://github.com/apache/couchdb/issues/1743#issuecomment-439468191","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1743","id":439468191,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ2ODE5MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T17:33:09Z","updated_at":"2018-11-16T17:33:09Z","author_association":"MEMBER","body":"@eimajenthat No problem. To get the latest version be sure to use our repository - the distros don't carry CouchDB anymore.\r\n\r\nInstructions are here: http://docs.couchdb.org/en/stable/install/unix.html","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439468191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439468521","html_url":"https://github.com/apache/couchdb/pull/1719#issuecomment-439468521","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1719","id":439468521,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ2ODUyMQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T17:34:18Z","updated_at":"2018-11-16T17:34:18Z","author_association":"MEMBER","body":"@tonysun83 I think the (admittedly subtle) difference is whether the field is specified before the operator or not. For instance:\r\n\r\n```\r\n{\r\n    \"$not\": {\r\n          \"foo\": \"bar\"\r\n    }\r\n}\r\n```\r\n\r\ndoes not require the `\"foo\"` field to exist in matches but\r\n\r\n```\r\n{\r\n    \"foo\": {\r\n          \"$not\": {\r\n              ...\r\n         }\r\n    }\r\n}\r\n```\r\n\r\ndoes. Since `\"$ne\"` can only be expressed in the latter form, I think the behaviour is correct with respect to index selection.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439468521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439496776","html_url":"https://github.com/apache/couchdb/pull/1744#issuecomment-439496776","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1744","id":439496776,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ5Njc3Ng==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T19:13:52Z","updated_at":"2018-11-16T19:13:52Z","author_association":"MEMBER","body":"### For a discussion\r\n\r\nI've added a new fabric provider `fabric_design_doc_count` which is almost identical to `fabric_db_doc_count`. Theoretically it's possible to just reuse `fabric_db_doc_count` for the same by teaching it about \"namespace\", but I don't have strong feeling about either approach and I want an educated opinion on the matter.\r\n\r\n@iilyak @davisp What do you think?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439496776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439498368","html_url":"https://github.com/apache/couchdb/pull/1744#issuecomment-439498368","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1744","id":439498368,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ5ODM2OA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T19:19:47Z","updated_at":"2018-11-16T19:19:47Z","author_association":"CONTRIBUTOR","body":"I think is fine to create new fabric provider in this case. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439498368/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439508931","html_url":"https://github.com/apache/couchdb/pull/1744#issuecomment-439508931","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1744","id":439508931,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTUwODkzMQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T19:56:34Z","updated_at":"2018-11-16T19:56:34Z","author_association":"MEMBER","body":"+1 from me too","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/439508931/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440026815","html_url":"https://github.com/apache/couchdb/pull/1744#issuecomment-440026815","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1744","id":440026815,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAyNjgxNQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T20:13:38Z","updated_at":"2018-11-19T20:13:38Z","author_association":"MEMBER","body":"Rebased to allow isolated run of `couch_mrview` test suites.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440026815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440029329","html_url":"https://github.com/apache/couchdb/pull/1747#issuecomment-440029329","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1747","id":440029329,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAyOTMyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T20:22:33Z","updated_at":"2018-11-19T20:22:33Z","author_association":"MEMBER","body":"@eiri see #1748, you should have done `Makefile.win` at the same time.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440029329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440029625","html_url":"https://github.com/apache/couchdb/pull/1747#issuecomment-440029625","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1747","id":440029625,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAyOTYyNQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T20:23:44Z","updated_at":"2018-11-19T20:23:44Z","author_association":"MEMBER","body":"@wohali yes, my fault.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440029625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440095935","html_url":"https://github.com/apache/couchdb/issues/1600#issuecomment-440095935","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1600","id":440095935,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDA5NTkzNQ==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T00:51:29Z","updated_at":"2018-11-20T00:51:29Z","author_association":"CONTRIBUTOR","body":"I tried to repro using this very simple test:\r\n```elixir\r\n  test \"https://github.com/apache/couchdb/issues/1600\", _ctx do\r\n    sess = Couch.login(\"adm\", \"pass\")\r\n    target_db = \"_users\" # also tried _replicator here\r\n    for _i <- 0..10000 do\r\n      resp = Couch.Session.get(sess, \"/#{target_db}/_all_docs?include_docs=true\")\r\n      assert resp.status_code == 200\r\n    end\r\n  end\r\n```\r\nbut it ran to completion on several attempts.\r\n\r\n@nickva do you recall whether you saw that error from a containerized or bare metal couch?\r\n\r\n@flimzy how many documents were in your _users and _replicator dbs when you saw that issue? Since you were using the official docker images, were those just single node \"clusters\"?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440095935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440293821","html_url":"https://github.com/apache/couchdb/pull/1629#issuecomment-440293821","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1629","id":440293821,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDI5MzgyMQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T14:33:32Z","updated_at":"2018-11-20T14:33:32Z","author_association":"CONTRIBUTOR","body":"> Comparing\r\n> \r\n> ```\r\n> $ make eunit skip_tests+=couch_epep apps=couch suites=couchdb_db_tests\r\n> module 'couchdb_db_tests'\r\n>   Checking clustered db API\r\n>     DB deletion\r\n>       couchdb_db_tests:53: should_close_deleted_db...[0.029 s] ok\r\n>       couchdb_db_tests:68: should_kill_caller_from_load_validation_funs_for_deleted_db...[0.033 s] ok\r\n> =======================================================\r\n>   2 tests passed.\r\n> ```\r\n> \r\n> with\r\n> \r\n> ```\r\n> $ make eunit skip_tests+=couch_epep apps=ddoc_cache suites=ddoc_cache_open_test\r\n> module 'ddoc_cache_open_test'\r\n>   ddoc_cache_open_test: check_open_error_test_...ok\r\n>   ddoc_cache_open_test: check_open_error_test_...[0.012 s] ok\r\n>   ddoc_cache_open_test: check_open_error_test_...[0.015 s] ok\r\n>   ddoc_cache_open_test: check_open_error_test_...ok\r\n> =======================================================\r\n>   All 4 tests passed.\r\n> ```\r\n> \r\n> I know it requires more boiler plate to accomplish, but I much prefer to see the actual names of the tests being run with the couchdb_db_tests module. Just seeing 4 identical lines of `ddoc_cache_open_test: check_open_error_test_` isn't as useful, IMO.\r\n\r\nI don't know how to do it with `with`. All tests in ddoc_cache application rely on combination of `ddoc_cache_tutil:start_couch` and `{setup, _, _, {with, Tests}}` construct. The `{with, Tests}` construct is implemented via shortcut in https://github.com/erlang/otp/blob/master/lib/eunit/src/eunit_data.erl#L294:L295. The author didn't take into account that the `{with, X, Tests}` construction rely on the [`eunit_lib:fun_parent(A)`](https://github.com/erlang/otp/blob/master/lib/eunit/src/eunit_lib.erl#L379:L390). The reason the hack doesn't get correct name of the test is because they are wrapping the function one more time on dispatch. \r\n```\r\nparse({setup, P, S, C, {with, As}}) when is_list(As) ->\r\n     parse({setup, P, S, C, fun (X) -> {with, X, As} end});\r\n```\r\n\r\nI am trying few things to avoid rewriting of all tests for the whole application.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440293821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440352304","html_url":"https://github.com/apache/couchdb/pull/1719#issuecomment-440352304","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1719","id":440352304,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDM1MjMwNA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T17:10:36Z","updated_at":"2018-11-20T17:10:36Z","author_association":"CONTRIBUTOR","body":"If we can see a couple tests as Will suggested, then that would be great! Otherwise looks good.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440352304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440361568","html_url":"https://github.com/apache/couchdb/issues/1751#issuecomment-440361568","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1751","id":440361568,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDM2MTU2OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T17:32:18Z","updated_at":"2018-11-20T17:32:18Z","author_association":"MEMBER","body":"I'm afraid the people running the weekly newsletter series have retired from its operation after a good, long run.\r\n\r\nWe're open to someone else picking up the slack - are you volunteering? :grin: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440361568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440395007","html_url":"https://github.com/apache/couchdb/pull/1629#issuecomment-440395007","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1629","id":440395007,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDM5NTAwNw==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T19:10:04Z","updated_at":"2018-11-20T19:10:04Z","author_association":"CONTRIBUTOR","body":"New changes look good:\r\n```\r\n$ make eunit apps=couch tests=clustered_db_test\r\n  DB deletion\r\n    couchdb_db_tests:53: should_close_deleted_db...[0.028 s] ok\r\n    couchdb_db_tests:75: should_kill_caller_from_load_validation_funs_for_deleted_db...[0.032 s] ok\r\n=======================================================\r\n  2 tests passed.\r\n```\r\n```\r\n$ make eunit apps=ddoc_cache\r\n...\r\n=======================================================\r\n  All 51 tests passed.\r\n```\r\n\r\nJust a couple minor quibbles:\r\n- The second line of the commit says \"Previously there were few problems with load_validation_funs\". I think you mean \"*a* few problems\", since omitting the article \"a\" makes it sound like there were not that many problems. In short, it inverts the meaning.\r\n- Some functions in the new test modules don't have 2 lines between them in places.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440395007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440721184","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-440721184","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":440721184,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDcyMTE4NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T16:08:36Z","updated_at":"2018-11-21T16:08:36Z","author_association":"MEMBER","body":"@redgeoff We believe this is fixed in 2.2.0, are you able to confirm? Would like to close this ticket out.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440721184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440743567","html_url":"https://github.com/apache/couchdb/pull/1744#issuecomment-440743567","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1744","id":440743567,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDc0MzU2Nw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T17:14:00Z","updated_at":"2018-11-21T17:14:00Z","author_association":"MEMBER","body":"@iilyak I've changed that bit in `fabric_view_all_docs.erl` we discussed and ironically the things almost returned to how it was done originally #526. Can you take another look, please?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440743567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440803367","html_url":"https://github.com/apache/couchdb/issues/1125#issuecomment-440803367","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1125","id":440803367,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDgwMzM2Nw==","user":{"login":"sergey-safarov","id":2562241,"node_id":"MDQ6VXNlcjI1NjIyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2562241?v=4","gravatar_id":"","url":"https://api.github.com/users/sergey-safarov","html_url":"https://github.com/sergey-safarov","followers_url":"https://api.github.com/users/sergey-safarov/followers","following_url":"https://api.github.com/users/sergey-safarov/following{/other_user}","gists_url":"https://api.github.com/users/sergey-safarov/gists{/gist_id}","starred_url":"https://api.github.com/users/sergey-safarov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergey-safarov/subscriptions","organizations_url":"https://api.github.com/users/sergey-safarov/orgs","repos_url":"https://api.github.com/users/sergey-safarov/repos","events_url":"https://api.github.com/users/sergey-safarov/events{/privacy}","received_events_url":"https://api.github.com/users/sergey-safarov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T20:46:04Z","updated_at":"2018-11-21T23:44:14Z","author_association":"NONE","body":"This page may be key for understanding of slow performance of containerized app\r\nhttps://sysdig.com/blog/container-isolation-gone-wrong/ ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440803367/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440822458","html_url":"https://github.com/apache/couchdb/pull/1443#issuecomment-440822458","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1443","id":440822458,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDgyMjQ1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T21:53:00Z","updated_at":"2018-11-21T21:53:00Z","author_association":"MEMBER","body":"@janl I'm going to continue to keep this out of 2.3.0, as much as I'd like to put it in...if you have time to address in the next few days, I'm receptive to it landing. But the test cases need to be fixed and ideally I'd want a +1 from @chewbranca or @rnewson or similar on the approach.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440822458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440875363","html_url":"https://github.com/apache/couchdb/pull/1619#issuecomment-440875363","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1619","id":440875363,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDg3NTM2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T01:07:21Z","updated_at":"2018-11-22T01:07:21Z","author_association":"MEMBER","body":"@nickva did you ever hear back from @rnewson or anyone else who can +1 this other than me?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440875363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440880650","html_url":"https://github.com/apache/couchdb/pull/1272#issuecomment-440880650","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1272","id":440880650,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDg4MDY1MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T01:24:02Z","updated_at":"2018-11-22T01:24:02Z","author_association":"MEMBER","body":"@rnewson final ping, 24h from now this gets removed from 2.3.0.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440880650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440892711","html_url":"https://github.com/apache/couchdb/issues/1384#issuecomment-440892711","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1384","id":440892711,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDg5MjcxMQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T02:21:28Z","updated_at":"2018-11-22T02:21:28Z","author_association":"CONTRIBUTOR","body":"@PBeier are you still working on this ticket? If not, @wenli200133 can help out as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440892711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440984210","html_url":"https://github.com/apache/couchdb/issues/1751#issuecomment-440984210","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1751","id":440984210,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDk4NDIxMA==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T10:25:37Z","updated_at":"2018-11-22T10:25:37Z","author_association":"NONE","body":"I wish I could...but my schedule as well as my writing skills are very limited.\r\n\r\nHope you'll have more luck with someone else ;)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/440984210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441057368","html_url":"https://github.com/apache/couchdb/issues/1753#issuecomment-441057368","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1753","id":441057368,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTA1NzM2OA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T15:07:38Z","updated_at":"2018-11-22T15:07:38Z","author_association":"MEMBER","body":"You can disable autocompaction by setting `[compaction_daemon] _default=` to an empty string","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441057368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441072185","html_url":"https://github.com/apache/couchdb/issues/1753#issuecomment-441072185","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1753","id":441072185,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTA3MjE4NQ==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T16:02:39Z","updated_at":"2018-11-22T16:02:39Z","author_association":"NONE","body":"@janl Well...I was not talking about auto compaction but was referring to prevent compaction from running in ANY circumstances (including a trigger from an admin). A message would show up to alert that this functionality is disabled. Without this, I would not rely on previous versions if this can't be configured.\r\n\r\nDoes that make sense?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441072185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441091797","html_url":"https://github.com/apache/couchdb/issues/1753#issuecomment-441091797","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1753","id":441091797,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTA5MTc5Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T17:34:21Z","updated_at":"2018-11-22T17:37:55Z","author_association":"MEMBER","body":"A modification of this nature can be performed directly in the source with recompilation. It doesn't make sense for us to implement this as a new feature, I agree with Jan.\r\n\r\nAnother option is to block that endpoint using a reverse proxy. (In 2.x with a cluster a reverse proxy/load balancer is effectively mandatory, anyway, though I recognize some people still run 2.x as a single node server.)\r\n\r\nIf you can't trust your admins, you've got bigger problems...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441091797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441094449","html_url":"https://github.com/apache/couchdb/issues/1600#issuecomment-441094449","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1600","id":441094449,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTA5NDQ0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T17:50:20Z","updated_at":"2018-11-22T17:50:20Z","author_association":"MEMBER","body":"@flimzy without a solid reproducible test case, I'm afraid I have to remove this from the 2.3.0 milestone.\r\n\r\nWe'd love to get back to this once there's a reliable, reproducible test case.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441094449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441115403","html_url":"https://github.com/apache/couchdb/issues/1522#issuecomment-441115403","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1522","id":441115403,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTExNTQwMw==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T20:26:06Z","updated_at":"2018-11-22T20:26:06Z","author_association":"MEMBER","body":"That would be a lovely thing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441115403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441115837","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-441115837","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":441115837,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTExNTgzNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T20:29:49Z","updated_at":"2018-11-22T20:29:49Z","author_association":"MEMBER","body":"/cc @jaydoane @garrensmith ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441115837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441115885","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-441115885","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":441115885,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTExNTg4NQ==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T20:30:19Z","updated_at":"2018-11-22T20:30:19Z","author_association":"MEMBER","body":"Wow, blazing fast @wohali!  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441115885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441129914","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-441129914","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":441129914,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTEyOTkxNA==","user":{"login":"redgeoff","id":3378986,"node_id":"MDQ6VXNlcjMzNzg5ODY=","avatar_url":"https://avatars.githubusercontent.com/u/3378986?v=4","gravatar_id":"","url":"https://api.github.com/users/redgeoff","html_url":"https://github.com/redgeoff","followers_url":"https://api.github.com/users/redgeoff/followers","following_url":"https://api.github.com/users/redgeoff/following{/other_user}","gists_url":"https://api.github.com/users/redgeoff/gists{/gist_id}","starred_url":"https://api.github.com/users/redgeoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redgeoff/subscriptions","organizations_url":"https://api.github.com/users/redgeoff/orgs","repos_url":"https://api.github.com/users/redgeoff/repos","events_url":"https://api.github.com/users/redgeoff/events{/privacy}","received_events_url":"https://api.github.com/users/redgeoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T22:41:55Z","updated_at":"2018-11-22T22:41:55Z","author_association":"CONTRIBUTOR","body":"Sorry, but I'm not going to have time to test this properly on AWS, so I'll just close this out. Thanks for working on it!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441129914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441139416","html_url":"https://github.com/apache/couchdb/issues/1757#issuecomment-441139416","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1757","id":441139416,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTEzOTQxNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T01:02:34Z","updated_at":"2018-11-23T01:03:05Z","author_association":"MEMBER","body":"@natevw The problem comes down to the search path for the embedded Erlang we use in our release process to find all of its libraries. This is a break from CouchDB 1.x where the system Erlang was used; in 2.x releases include their own Erlang runtime and need no OS-level Erlang installed.\r\n\r\nWe do work around this limitation over in the `dev/run` script for development instances, but it requires a copious amount of `-pa` flags to the `erl` binary, see https://github.com/apache/couchdb/blob/master/dev/run#L420-L449 for the gory details.\r\n\r\nDue to max argument limitations esp. on Windows the cd makes things a lot easier at the very least; I don't know if absolute paths are strictly required.\r\n\r\nIf you want to experiment with this and put up a PR, we'll certainly consider it for inclusion. Be sure to alter `couchdb.cmd` as well as `couchdb` when you make your PR or it'll be rejected. ;)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441139416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441139713","html_url":"https://github.com/apache/couchdb/issues/1757#issuecomment-441139713","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1757","id":441139713,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTEzOTcxMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T01:07:20Z","updated_at":"2018-11-23T01:07:20Z","author_association":"MEMBER","body":"@natevw Ah, there are some other subtle problems, yes.\r\n\r\nThe defaults for the database_dir and view_index_dir assume the cwd is the root dir:\r\n\r\n```\r\n[couchdb]\r\nuuid =\r\ndatabase_dir = ./data\r\nview_index_dir = ./data\r\n```\r\n\r\nThese obviously won't work if the cwd for the entire app isn't its root directory. So now you're talking about having to fix the entire `rebar`-based release process.\r\n\r\nThe entire point of the new release process was to create a completely relocatable CouchDB installation...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441139713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441140266","html_url":"https://github.com/apache/couchdb/issues/1757#issuecomment-441140266","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1757","id":441140266,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTE0MDI2Ng==","user":{"login":"natevw","id":265902,"node_id":"MDQ6VXNlcjI2NTkwMg==","avatar_url":"https://avatars.githubusercontent.com/u/265902?v=4","gravatar_id":"","url":"https://api.github.com/users/natevw","html_url":"https://github.com/natevw","followers_url":"https://api.github.com/users/natevw/followers","following_url":"https://api.github.com/users/natevw/following{/other_user}","gists_url":"https://api.github.com/users/natevw/gists{/gist_id}","starred_url":"https://api.github.com/users/natevw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natevw/subscriptions","organizations_url":"https://api.github.com/users/natevw/orgs","repos_url":"https://api.github.com/users/natevw/repos","events_url":"https://api.github.com/users/natevw/events{/privacy}","received_events_url":"https://api.github.com/users/natevw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T01:16:41Z","updated_at":"2018-11-23T01:19:10Z","author_association":"NONE","body":"Ah, I see. So basically it's a tradeoff between supporting paths relative to the user's `$PWD` vs. supporting paths relative to the startup script's `$ROOTDIR`.\r\n\r\nSeems like [build-couchdb](https://github.com/jhs/build-couchdb) made a relocatable installation in the CouchDB 1.x era, but maybe it hardcoded the directory paths or something? Been awhile **UPDATE**: yep, looks like it did generate a config with hardcoded (absolute) paths:\r\n\r\n> $ cat bc16/build/etc/couchdb/default.ini | grep database_dir\r\n> database_dir = /home/natevw/bc16/build/var/lib/couchdb\r\n\r\nFeel free to close then if you feel it's appropriate.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441140266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441245081","html_url":"https://github.com/apache/couchdb/pull/1754#issuecomment-441245081","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1754","id":441245081,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTI0NTA4MQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T13:46:09Z","updated_at":"2018-11-23T13:46:09Z","author_association":"MEMBER","body":"Looks good to me, just have a single suggestion. And thank you for listening to my concerns on using `parse_term` on an arbitrary config line!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441245081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441298141","html_url":"https://github.com/apache/couchdb/issues/1758#issuecomment-441298141","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1758","id":441298141,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTI5ODE0MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T18:13:57Z","updated_at":"2018-11-23T18:13:57Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441298141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441298454","html_url":"https://github.com/apache/couchdb/issues/1759#issuecomment-441298454","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1759","id":441298454,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTI5ODQ1NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T18:15:58Z","updated_at":"2018-11-23T18:15:58Z","author_association":"MEMBER","body":"@cl-parsons I agree, this is a shortcoming. If you'd like to help us, we'd :heart: a pull request from a passionate user.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441298454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441299203","html_url":"https://github.com/apache/couchdb/issues/1759#issuecomment-441299203","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1759","id":441299203,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTI5OTIwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T18:21:57Z","updated_at":"2018-11-23T18:21:57Z","author_association":"MEMBER","body":"I am going to move this issue over to the apache/couchdb-documentation repository where it belongs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441299203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441322530","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-441322530","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":441322530,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTMyMjUzMA==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T21:57:44Z","updated_at":"2018-11-23T21:57:44Z","author_association":"CONTRIBUTOR","body":"Seems like a great idea to me. It was easy to add to mix.exs, and when run it generated a bunch of issues (below). My only complaint so far is that the max line length check is set to 120 by default, but it seems simple to add to something like the following to .credo.exs to change it to 80 (which I would suggest):\r\n`{Credo.Check.Readability.MaxLineLength, [priority: :low, max_length: 80]}`\r\n\r\n```\r\n$ mix credo -a\r\nChecking 17 source files ...\r\n\r\n  Software Design\r\n\r\n [D]  Found a TODO tag in a comment: # TODO: port sever_port tests from\r\n       config.js\r\n       test/config_test.exs:66 #(ConfigTest.delete_config)\r\n [D]  Found a TODO tag in a comment: # TODO: In JS we re-fetch _changes with\r\n       since_seq, is that\r\n       test/replication_test.exs:573 #(ReplicationTest.run_since_seq_repl)\r\n [D]  Found a TODO tag in a comment: # TODO: Parameterize these\r\n       test/replication_test.exs:9 #(ReplicationTest)\r\n [D]  Found a TODO tag in a comment: # TODO: switch this to _local when that's\r\n       landed\r\n       test/config_test.exs:12 #(ConfigTest)\r\n [D]  Found a TODO tag in a comment: # TODO: port remainder of\r\n       security_validation.js suite\r\n       test/security_validation_test.exs:185 #(SecurityValidationTest)\r\n [D]  Found a TODO tag in a comment: # TODO: port _list function tests and\r\n       everything below in rewrite.js\r\n       test/rewrite_test.exs:328 #(RewriteTest)\r\n [D]  Found a TODO tag in a comment: # TODO: port the two \"bugged\" tests from\r\n       rewrite.js\r\n       test/rewrite_test.exs:318 #(RewriteTest)\r\n [D]  Found a TODO tag in a comment: # TODO: make protocol check use defined\r\n       protocol value\r\n       test/basics_test.exs:204 #(BasicsTest)\r\n [D]  Found a TODO tag in a comment: # TODO: enable chunked encoding\r\n       test/basics_test.exs:117 #(BasicsTest)\r\n [D]  Found a TODO tag in a comment: # TODO: do we need to bring this in?\r\n       test/all_docs_test.exs:11 #(AllDocsTest)\r\n\r\n  Code Readability\r\n\r\n [R]  Large numbers should be written with underscores: 30_000\r\n       test/replication_test.exs:1588:62 #(ReplicationTest.wait_for_repl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:1056:7 #(ReplicationTest.run_by_id_repl_impl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:1040:7 #(ReplicationTest.run_by_id_repl_impl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:1026:5 #(ReplicationTest.run_by_id_repl_impl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:1006:7 #(ReplicationTest.run_by_id_repl_impl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:991:7 #(ReplicationTest.run_by_id_repl_impl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:976:5 #(ReplicationTest.run_by_id_repl_impl)\r\n [R]  Large numbers should be written with underscores: 30_000\r\n       test/replication_test.exs:1608:33 #(ReplicationTest.wait_for_repl_stop)\r\n [R]  Large numbers should be written with underscores: 30_000\r\n       test/replication_test.exs:1355:33 #(ReplicationTest.run_continuous_repl)\r\n [R]  Large numbers should be written with underscores: 30_000\r\n       test/replication_test.exs:1184:30 #(ReplicationTest.run_continuous_repl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:781:7 #(ReplicationTest.run_filtered_repl)\r\n [R]  The condition of `if` should not be wrapped in parentheses.\r\n       test/replication_test.exs:732:7 #(ReplicationTest.run_filtered_repl)\r\n [R]  Large numbers should be written with underscores: 1_000_000\r\n       test/test_helper.exs:222:34 #(CouchTestCase.__using__.now)\r\n [R]  Large numbers should be written with underscores: 100_000_000\r\n       test/reduce_test.exs:217:36 #(ReduceTest)\r\n [R]  Don't use ; to separate statements and expressions\r\n       test/reduce_test.exs:89:62 #(ReduceTest)\r\n [R]  Large numbers should be written with underscores: 10_000\r\n       test/debug_test.exs:82:18 #(DebugTest)\r\n [R]  Variable names should be written in snake_case.\r\n       test/basics_test.exs:12:5 #(BasicsTest)\r\n [R]  Modules should have a @moduledoc tag.\r\n       lib/couch.ex:1:11 #(Couch.Session)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:134:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:133:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:125:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:124:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:118:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:117:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:116:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:114:49 #(ReduceTest)\r\n [R]  Space missing after comma\r\n       test/reduce_test.exs:113:49 #(ReduceTest)\r\n\r\n  Refactoring opportunities\r\n\r\n [F]  Avoid long quote blocks.\r\n       test/test_helper.exs:8:5 #(CouchTestCase.__using__)\r\n [F]  Pipe chain should start with a raw value.\r\n       test/replication_test.exs:1574 #(ReplicationTest.add_attachment)\r\n [F]  Pipe chain should start with a raw value.\r\n       test/replication_test.exs:1525 #(ReplicationTest.replicate)\r\n [F]  Function is too complex (CC is 17, max is 9).\r\n       test/replication_test.exs:1146:7 #(ReplicationTest.run_continuous_repl)\r\n [F]  Function body is nested too deep (max depth is 2, was 3).\r\n       test/replication_test.exs:1248:11 #(ReplicationTest.run_continuous_repl)\r\n [F]  Function is too complex (CC is 11, max is 9).\r\n       test/replication_test.exs:245:7 #(ReplicationTest.run_simple_repl)\r\n [F]  Function body is nested too deep (max depth is 2, was 3).\r\n       test/test_helper.exs:90:13 #(CouchTestCase.__using__.set_config)\r\n [F]  Function body is nested too deep (max depth is 2, was 3).\r\n       test/test_helper.exs:90:13 #(CouchTestCase.__using__.set_config)\r\n [F]  Pipe chain should start with a raw value.\r\n       test/security_validation_test.exs:120 #(SecurityValidationTest)\r\n\r\n  Warnings - please take a look\r\n\r\n [W]  length(resp.body()[\"rows\"]) == 0 is expensive. Prefer Enum.empty?/1 or\r\n       list == []\r\n       test/all_docs_test.exs:51 #(AllDocsTest)\r\n\r\n  Consistency\r\n\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:165 #(Couch.process_arguments)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:156 #(Couch.process_arguments)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:137 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:136 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:135 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:134 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:133 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:132 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:131 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:130 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:123 #(Couch.handle_response)\r\n [C]  There is no whitespace around parentheses/brackets most of the time, but\r\n       here there is.\r\n       lib/couch.ex:116 #(Couch.handle_response)\r\n [C]  File has the variable name before the pattern while most of the files\r\n       have the variable name after the pattern when naming parameter pattern\r\n       matches\r\n       test/test_helper.exs:226:15 #(CouchTestCase.__using__.rev)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:134:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:133:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:132:65 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:126:65 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:125:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:124:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:123:65 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:118:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:117:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:116:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:115:65 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:114:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:113:69 #(ReduceTest)\r\n [C]  There are spaces around operators most of the time, but not here.\r\n       test/reduce_test.exs:112:65 #(ReduceTest)\r\n\r\nPlease report incorrect results: https://github.com/rrrene/credo/issues\r\n\r\nAnalysis took 4.1 seconds (0.04s to load, 4.1s running checks)\r\n124 mods/funs, found 27 consistency issues, 1 warning, 9 refactoring opportunities, 27 code readability issues, 10 software design suggestions.\r\n\r\nShowing priority issues:     (use `--strict` to show all issues, `--help` for options).\r\nreturned 31\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441322530/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441325232","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-441325232","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":441325232,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTMyNTIzMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T22:29:47Z","updated_at":"2018-11-23T22:29:47Z","author_association":"MEMBER","body":"My recommendation is:\r\n* decide on what we should filter out - beyond just line length, some of these are unhelpful (like complaining about long quote blocks and functions being too complex, esp. in a test suite)\r\n* fix all the errors\r\n* add steps to install the prerequisites for this to .travis.yml (elixir)\r\n* add a new `elixir-credo` target to `Makefile` that runs this and fails on any errors,\r\n* add the `elixir-credo` target to `make check`\r\n* file the PR\r\n* when Travis is green, we can merge","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441325232/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441329903","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-441329903","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":441329903,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTMyOTkwMw==","user":{"login":"dynamite-ready","id":1124008,"node_id":"MDQ6VXNlcjExMjQwMDg=","avatar_url":"https://avatars.githubusercontent.com/u/1124008?v=4","gravatar_id":"","url":"https://api.github.com/users/dynamite-ready","html_url":"https://github.com/dynamite-ready","followers_url":"https://api.github.com/users/dynamite-ready/followers","following_url":"https://api.github.com/users/dynamite-ready/following{/other_user}","gists_url":"https://api.github.com/users/dynamite-ready/gists{/gist_id}","starred_url":"https://api.github.com/users/dynamite-ready/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dynamite-ready/subscriptions","organizations_url":"https://api.github.com/users/dynamite-ready/orgs","repos_url":"https://api.github.com/users/dynamite-ready/repos","events_url":"https://api.github.com/users/dynamite-ready/events{/privacy}","received_events_url":"https://api.github.com/users/dynamite-ready/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T23:36:36Z","updated_at":"2018-11-23T23:51:04Z","author_association":"NONE","body":"Is this issue still open?\r\n\r\nI set the config property (couch_peruser = true), created a new user, and expected to find an associated DB in the list of databases on Fauxton. I'm on version 2.2.0.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441329903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441330122","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-441330122","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":441330122,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTMzMDEyMg==","user":{"login":"dynamite-ready","id":1124008,"node_id":"MDQ6VXNlcjExMjQwMDg=","avatar_url":"https://avatars.githubusercontent.com/u/1124008?v=4","gravatar_id":"","url":"https://api.github.com/users/dynamite-ready","html_url":"https://github.com/dynamite-ready","followers_url":"https://api.github.com/users/dynamite-ready/followers","following_url":"https://api.github.com/users/dynamite-ready/following{/other_user}","gists_url":"https://api.github.com/users/dynamite-ready/gists{/gist_id}","starred_url":"https://api.github.com/users/dynamite-ready/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dynamite-ready/subscriptions","organizations_url":"https://api.github.com/users/dynamite-ready/orgs","repos_url":"https://api.github.com/users/dynamite-ready/repos","events_url":"https://api.github.com/users/dynamite-ready/events{/privacy}","received_events_url":"https://api.github.com/users/dynamite-ready/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T23:40:22Z","updated_at":"2018-11-23T23:41:41Z","author_association":"NONE","body":"> I have found a workaround:\r\n> \r\n> As setting the `couch_peruser` to `true` from Fauxton works well, I simply activate it \"by hand\" after the DB is started.\r\n> \r\n> In the script that starts the DB, I wait 10 seconds (to leave some time to the DB to start) and then:\r\n> \r\n> ```\r\n> curl \\\r\n>     -X PUT \\\r\n>     --user \"${adminUser}:${adminPass}\" \\\r\n>     --data '\"true\"' \\\r\n>     \"http://localhost:5984/_node/nonode@nohost/_config/couch_peruser/enable\"\r\n> ```\r\n> (The admin username and password are taken from env variables in my case)\r\n> \r\n> Hope this helps!\r\n\r\nActually, I can confirm that the above works.\r\nSo the issue appears to centre around how/when it's initialised.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441330122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441377619","html_url":"https://github.com/apache/couchdb/pull/1760#issuecomment-441377619","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1760","id":441377619,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTM3NzYxOQ==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-24T16:03:53Z","updated_at":"2018-11-24T16:03:53Z","author_association":"MEMBER","body":"@jaydoane I think I came out with a cleverer approach in the end. Since we don't care about that specific execution order and we are testing the coffeescript query language here, now the test plays with documents first, then it receives the design document that builds the index. This way we work around the eventual consistency for the purpose of this test and we don't need any `retry_until` logic.\r\n\r\nThanks for pointing out that `retry_until` can be used anyway, I think it'll be useful for future ports!  And thanks for the review man  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441377619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441499756","html_url":"https://github.com/apache/couchdb/issues/1763#issuecomment-441499756","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1763","id":441499756,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQ5OTc1Ng==","user":{"login":"avinashmssr","id":45344762,"node_id":"MDQ6VXNlcjQ1MzQ0NzYy","avatar_url":"https://avatars.githubusercontent.com/u/45344762?v=4","gravatar_id":"","url":"https://api.github.com/users/avinashmssr","html_url":"https://github.com/avinashmssr","followers_url":"https://api.github.com/users/avinashmssr/followers","following_url":"https://api.github.com/users/avinashmssr/following{/other_user}","gists_url":"https://api.github.com/users/avinashmssr/gists{/gist_id}","starred_url":"https://api.github.com/users/avinashmssr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avinashmssr/subscriptions","organizations_url":"https://api.github.com/users/avinashmssr/orgs","repos_url":"https://api.github.com/users/avinashmssr/repos","events_url":"https://api.github.com/users/avinashmssr/events{/privacy}","received_events_url":"https://api.github.com/users/avinashmssr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T02:20:32Z","updated_at":"2018-11-26T02:20:32Z","author_association":"NONE","body":"Hi, I am trying to sync Apache CouchDB v2.2.0 to Tap Forms 5 using mac. I have created an admin and other non-admin users. However, only one file (The original Sample forms), that comes with tap forms manages to sync between computers (Admin login from the main mac and non-admin login through another mac). Also, the verification process fails randomly. It worked the first time but keeps failing after. Does any one have experience with this? If so, any help will be much appreciated.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441499756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441504937","html_url":"https://github.com/apache/couchdb/issues/1380#issuecomment-441504937","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1380","id":441504937,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTUwNDkzNw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T02:58:19Z","updated_at":"2018-11-26T02:58:19Z","author_association":"CONTRIBUTOR","body":"closing with #1717 and  apache/couchdb-config#21","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441504937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441505090","html_url":"https://github.com/apache/couchdb/issues/1384#issuecomment-441505090","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1384","id":441505090,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTUwNTA5MA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T02:59:25Z","updated_at":"2018-11-26T02:59:25Z","author_association":"CONTRIBUTOR","body":"looks that there is no response from @PBeier. Assuming @wenli200133 can start with this task.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441505090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441505420","html_url":"https://github.com/apache/couchdb/issues/1763#issuecomment-441505420","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1763","id":441505420,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTUwNTQyMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T03:01:35Z","updated_at":"2018-11-26T03:01:35Z","author_association":"MEMBER","body":"@avinashmssr \r\n\r\nHi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)\r\n\r\nYou would do better to ask the Tap Forms people for help with their CouchDB plugin.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441505420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441505556","html_url":"https://github.com/apache/couchdb/issues/1384#issuecomment-441505556","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1384","id":441505556,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTUwNTU1Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T03:02:33Z","updated_at":"2018-11-26T03:02:33Z","author_association":"MEMBER","body":"Thanks @jiangphcn , go ahead @wenli200133 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441505556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441805012","html_url":"https://github.com/apache/couchdb/pull/1639#issuecomment-441805012","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1639","id":441805012,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTgwNTAxMg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T21:29:48Z","updated_at":"2018-11-26T21:29:48Z","author_association":"CONTRIBUTOR","body":"Closing this one and re-opening as https://github.com/apache/couchdb/pull/1764 with an ASF branch","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441805012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441845638","html_url":"https://github.com/apache/couchdb/pull/1764#issuecomment-441845638","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1764","id":441845638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTg0NTYzOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T23:56:29Z","updated_at":"2018-11-26T23:56:29Z","author_association":"MEMBER","body":"+1 but delayed slightly until I have time to update `Makefile.win` to match, and to ensure couchdb-glazier has all the right dependencies installed to create and run venvs. Should have time in the next day or two.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441845638/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441913045","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-441913045","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":441913045,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTkxMzA0NQ==","user":{"login":"van-mronov","id":550254,"node_id":"MDQ6VXNlcjU1MDI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/550254?v=4","gravatar_id":"","url":"https://api.github.com/users/van-mronov","html_url":"https://github.com/van-mronov","followers_url":"https://api.github.com/users/van-mronov/followers","following_url":"https://api.github.com/users/van-mronov/following{/other_user}","gists_url":"https://api.github.com/users/van-mronov/gists{/gist_id}","starred_url":"https://api.github.com/users/van-mronov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/van-mronov/subscriptions","organizations_url":"https://api.github.com/users/van-mronov/orgs","repos_url":"https://api.github.com/users/van-mronov/repos","events_url":"https://api.github.com/users/van-mronov/events{/privacy}","received_events_url":"https://api.github.com/users/van-mronov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T04:56:52Z","updated_at":"2018-11-27T04:56:52Z","author_association":"CONTRIBUTOR","body":"Hi, all!\r\n\r\nSince version 1.6 elixir provides built-in code formatter which refers most of code style issues.\r\nThe goal of the formatter is to automate the styling of codebases into a unique and consistent layout used across teams and the whole community.\r\n\r\nIt has several options useful for CI and development:\r\n`--check-formatted` - checks that the file is already formatted.\r\n`--check-equivalent` - checks if the files after formatting have the same AST as before formatting. If the ASTs are not equivalent, it is a bug in the code formatter. This option is recommended if you are automatically formatting files.\r\n\r\nIf any of the --check-* flags are given and a check fails, the formatted contents wont be written to disk nor printed to standard output.\r\n\r\nSo, perhaps, it make sense to adopt formatter firstly.\r\n\r\nRef.: https://hexdocs.pm/mix/Mix.Tasks.Format.html#content","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441913045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441966988","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-441966988","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":441966988,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTk2Njk4OA==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T08:18:33Z","updated_at":"2018-11-27T08:18:33Z","author_association":"MEMBER","body":"@van-mronov yeah it is a good point, I already used `mix format` for tests of mine, but I didn't cover those options at all. Thanks for pointing them out!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/441966988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442090466","html_url":"https://github.com/apache/couchdb/issues/1607#issuecomment-442090466","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1607","id":442090466,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjA5MDQ2Ng==","user":{"login":"ahayes","id":1750076,"node_id":"MDQ6VXNlcjE3NTAwNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1750076?v=4","gravatar_id":"","url":"https://api.github.com/users/ahayes","html_url":"https://github.com/ahayes","followers_url":"https://api.github.com/users/ahayes/followers","following_url":"https://api.github.com/users/ahayes/following{/other_user}","gists_url":"https://api.github.com/users/ahayes/gists{/gist_id}","starred_url":"https://api.github.com/users/ahayes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahayes/subscriptions","organizations_url":"https://api.github.com/users/ahayes/orgs","repos_url":"https://api.github.com/users/ahayes/repos","events_url":"https://api.github.com/users/ahayes/events{/privacy}","received_events_url":"https://api.github.com/users/ahayes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T15:03:38Z","updated_at":"2018-11-27T15:03:38Z","author_association":"NONE","body":"Thank you!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442090466/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442108889","html_url":"https://github.com/apache/couchdb/pull/1766#issuecomment-442108889","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1766","id":442108889,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjEwODg4OQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T15:51:01Z","updated_at":"2018-11-27T15:51:01Z","author_association":"MEMBER","body":"Looks good but obviously as currently written should wait till after we finish partition queries.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442108889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442112574","html_url":"https://github.com/apache/couchdb/pull/1765#issuecomment-442112574","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1765","id":442112574,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjExMjU3NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T15:59:55Z","updated_at":"2018-11-27T15:59:55Z","author_association":"CONTRIBUTOR","body":"I like the idea. Might be useful in setting up some manual scenarios or test scripts. Say fill the cluster nodes with data in after_boot_nodes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442112574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442117853","html_url":"https://github.com/apache/couchdb/pull/1765#issuecomment-442117853","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1765","id":442117853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjExNzg1Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:13:47Z","updated_at":"2018-11-27T16:13:47Z","author_association":"MEMBER","body":"This is the first I'm hearing that people have to modify `dev/run`. Can you provide some context? Is this a Cloudant-specific thing?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442117853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442118579","html_url":"https://github.com/apache/couchdb/pull/1765#issuecomment-442118579","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1765","id":442118579,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjExODU3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:15:41Z","updated_at":"2018-11-27T16:15:41Z","author_association":"MEMBER","body":"Also, if you're going to run custom hooks in `hooks_dir`, please use `.gitignore` so that stuff doesn't get accidentally commited. Ideally the entire `hooks_dir` would be commited empty, because people are likely to mod your sample `dev/hooks/01_echo.py` file and accidentally commit that, too.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442118579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442120907","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-442120907","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":442120907,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjEyMDkwNw==","user":{"login":"van-mronov","id":550254,"node_id":"MDQ6VXNlcjU1MDI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/550254?v=4","gravatar_id":"","url":"https://api.github.com/users/van-mronov","html_url":"https://github.com/van-mronov","followers_url":"https://api.github.com/users/van-mronov/followers","following_url":"https://api.github.com/users/van-mronov/following{/other_user}","gists_url":"https://api.github.com/users/van-mronov/gists{/gist_id}","starred_url":"https://api.github.com/users/van-mronov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/van-mronov/subscriptions","organizations_url":"https://api.github.com/users/van-mronov/orgs","repos_url":"https://api.github.com/users/van-mronov/repos","events_url":"https://api.github.com/users/van-mronov/events{/privacy}","received_events_url":"https://api.github.com/users/van-mronov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:21:46Z","updated_at":"2018-11-27T16:21:46Z","author_association":"CONTRIBUTOR","body":"@dottorblaster @wohali do you mind if I make a PR with steps provided by @wohali but for `mix format`?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442120907/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442124052","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-442124052","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":442124052,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjEyNDA1Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:30:04Z","updated_at":"2018-11-27T16:30:04Z","author_association":"MEMBER","body":"@van-mronov not at all, sounds like a good starting place!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442124052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442124191","html_url":"https://github.com/apache/couchdb/pull/1765#issuecomment-442124191","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1765","id":442124191,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjEyNDE5MQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:30:26Z","updated_at":"2018-11-27T16:30:26Z","author_association":"MEMBER","body":"I'm -0 on this. I don't have use for such hooks, the only time I needed a custom setup was during db data format migration when I ran two different versions of Couch over the same data dir and I found it reasonable that I had to build a custom setup instead of modifying `dev/run`. And these days I just run docker-compose setup when I need a custom local cluster.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442124191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442127268","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-442127268","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":442127268,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjEyNzI2OA==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:38:42Z","updated_at":"2018-11-27T16:38:42Z","author_association":"MEMBER","body":"@van-mronov are you crazy man, all these kind of efforts and contributions are welcome!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442127268/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442184477","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-442184477","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":442184477,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjE4NDQ3Nw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T19:24:12Z","updated_at":"2018-11-27T19:24:12Z","author_association":"CONTRIBUTOR","body":"Thank you @dottorblaster and @van-mronov. Very good idea. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442184477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442194843","html_url":"https://github.com/apache/couchdb/pull/1765#issuecomment-442194843","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1765","id":442194843,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjE5NDg0Mw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T19:55:16Z","updated_at":"2018-11-27T19:55:16Z","author_association":"CONTRIBUTOR","body":"I am going to close it since it is not extremely important feature and complicates `dev/run`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442194843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442245552","html_url":"https://github.com/apache/couchdb/issues/1756#issuecomment-442245552","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1756","id":442245552,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI0NTU1Mg==","user":{"login":"van-mronov","id":550254,"node_id":"MDQ6VXNlcjU1MDI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/550254?v=4","gravatar_id":"","url":"https://api.github.com/users/van-mronov","html_url":"https://github.com/van-mronov","followers_url":"https://api.github.com/users/van-mronov/followers","following_url":"https://api.github.com/users/van-mronov/following{/other_user}","gists_url":"https://api.github.com/users/van-mronov/gists{/gist_id}","starred_url":"https://api.github.com/users/van-mronov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/van-mronov/subscriptions","organizations_url":"https://api.github.com/users/van-mronov/orgs","repos_url":"https://api.github.com/users/van-mronov/repos","events_url":"https://api.github.com/users/van-mronov/events{/privacy}","received_events_url":"https://api.github.com/users/van-mronov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T22:40:02Z","updated_at":"2018-11-27T22:40:02Z","author_association":"CONTRIBUTOR","body":"Hi guys, I've created PR #1767. Should I add anybody as reviewer?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442245552/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442261441","html_url":"https://github.com/apache/couchdb/pull/1767#issuecomment-442261441","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1767","id":442261441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI2MTQ0MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T23:42:46Z","updated_at":"2018-11-27T23:42:46Z","author_association":"MEMBER","body":"@van-mronov Since we don't run this in the CI test suite yet, can you paste for me the output of running `make elixir-check-formatted` on this branch please? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442261441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442266610","html_url":"https://github.com/apache/couchdb/pull/1767#issuecomment-442266610","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1767","id":442266610,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI2NjYxMA==","user":{"login":"van-mronov","id":550254,"node_id":"MDQ6VXNlcjU1MDI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/550254?v=4","gravatar_id":"","url":"https://api.github.com/users/van-mronov","html_url":"https://github.com/van-mronov","followers_url":"https://api.github.com/users/van-mronov/followers","following_url":"https://api.github.com/users/van-mronov/following{/other_user}","gists_url":"https://api.github.com/users/van-mronov/gists{/gist_id}","starred_url":"https://api.github.com/users/van-mronov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/van-mronov/subscriptions","organizations_url":"https://api.github.com/users/van-mronov/orgs","repos_url":"https://api.github.com/users/van-mronov/repos","events_url":"https://api.github.com/users/van-mronov/events{/privacy}","received_events_url":"https://api.github.com/users/van-mronov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T00:06:26Z","updated_at":"2018-11-28T00:06:26Z","author_association":"CONTRIBUTOR","body":"@wohali for formatted code it just outputs nothing and returns 0\r\n```sh\r\n$ cd test/elixir/ && mix format --check-formatted\r\n$ echo $?\r\n0\r\n```\r\nFor current master branch (not formatted code): \r\n```sh\r\n$ cd test/elixir/ && mix format --check-formatted\r\n** (Mix) mix format failed due to --check-formatted.\r\nThe following files were not formatted:\r\n\r\n  * test/replication_test.exs\r\n  * test/reduce_test.exs\r\n  * test/view_collation_test.exs\r\n  * test/test_helper.exs\r\n  * test/security_validation_test.exs\r\n  * test/uuids_test.exs\r\n  * test/rewrite_test.exs\r\n  * test/basics_test.exs\r\n  * test/lots_of_docs_test.exs\r\n  * test/bulk_docs_test.exs\r\n  * test/all_docs_test.exs\r\n  * test/config_test.exs\r\n  * test/conflicts_test.exs\r\n  * lib/couch.ex\r\n  * test/helper_test.exs\r\n  * test/compact_test.exs\r\n  * test/batch_save_test.exs\r\n  * mix.exs\r\n\r\n$ echo $?\r\n1\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442266610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442296264","html_url":"https://github.com/apache/couchdb/issues/1579#issuecomment-442296264","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1579","id":442296264,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI5NjI2NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T02:33:31Z","updated_at":"2018-11-28T02:33:31Z","author_association":"CONTRIBUTOR","body":"Could it be that we are not reading the design docs correctly:\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch/src/couch_compaction_daemon.erl#L241\r\n\r\nNotice we just get the design docs from each _shard_ as we look through all db shard. However design docs won't be written to all the shards of a database. They'll go to whatever shard range their doc id would be hashed to.\r\n\r\nInstead we need to get this design docs from the fabric layer if this is a clustered db. Something like:\r\n\r\n```\r\nfabric:design_docs(mem3:dbname(DbName))\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442296264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442297988","html_url":"https://github.com/apache/couchdb/issues/1579#issuecomment-442297988","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1579","id":442297988,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI5Nzk4OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T02:42:36Z","updated_at":"2018-11-28T02:42:36Z","author_association":"CONTRIBUTOR","body":"The outcome of the bug described above is that only the view shards where the _design doc live (1 out of 8 by default) will be compacted.\r\n\r\nSomething like this:\r\n\r\n```\r\nls -l */thedb*/mrview\r\n\r\n00000000-1fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 392\r\n-rw-r--r--  1 staff  135304 Nov 27 21:12 8f3db710871cdc942f4793936e3de269.view\r\n\r\n20000000-3fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 264\r\n-rw-r--r--  1  staff  127112 Nov 27 21:12 8f3db710871cdc942f4793936e3de269.view\r\n\r\n40000000-5fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 264\r\n-rw-r--r--  1 staff  118920 Nov 27 21:12 8f3db710871cdc942f4793936e3de269.view\r\n\r\n60000000-7fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 296\r\n-rw-r--r--  1 staff  86152 Nov 27 21:38 8f3db710871cdc942f4793936e3de269.view\r\n\r\n80000000-9fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 264\r\n-rw-r--r--  1 staff  127112 Nov 27 21:12 8f3db710871cdc942f4793936e3de269.view\r\n\r\na0000000-bfffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 264\r\n-rw-r--r--  1 staff  123016 Nov 27 21:12 8f3db710871cdc942f4793936e3de269.view\r\n\r\nc0000000-dfffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 264\r\n-rw-r--r--  1 staff  127112 Nov 27 21:12 8f3db710871cdc942f4793936e3de269.view\r\n\r\ne0000000-ffffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 264\r\n-rw-r--r--  1 staff  123016 Nov 27 21:12 8f3db710871cdc942f4793936e3de269.view\r\n```\r\n\r\nDesign document in this case lives in the `60000000-7fffffff` range\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442297988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442298918","html_url":"https://github.com/apache/couchdb/issues/1579#issuecomment-442298918","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1579","id":442298918,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI5ODkxOA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T02:47:22Z","updated_at":"2018-11-28T02:47:22Z","author_association":"CONTRIBUTOR","body":"@akircher @regner \r\n\r\nThank you for your reports and sorry for the delay investigating this. I have theory why this might be happening. Would you be able to inspect your setup to confirm if you see the same pattern. I think this is at least _one_ possible bug in that code. And it would be consistent with the observation that it would have worked in 1.x but not in 2.x\r\n\r\nSo basically in your data directory pick a data base name and run this command:\r\n\r\n```\r\nls -l .shards/*/thedb*/mrview\r\n```\r\n\r\n(`thedb` if your database name in this case). And see if you get the same pattern, where most view shard  are not compacted but one is.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442298918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442305096","html_url":"https://github.com/apache/couchdb/issues/1579#issuecomment-442305096","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1579","id":442305096,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMwNTA5Ng==","user":{"login":"regner","id":815037,"node_id":"MDQ6VXNlcjgxNTAzNw==","avatar_url":"https://avatars.githubusercontent.com/u/815037?v=4","gravatar_id":"","url":"https://api.github.com/users/regner","html_url":"https://github.com/regner","followers_url":"https://api.github.com/users/regner/followers","following_url":"https://api.github.com/users/regner/following{/other_user}","gists_url":"https://api.github.com/users/regner/gists{/gist_id}","starred_url":"https://api.github.com/users/regner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regner/subscriptions","organizations_url":"https://api.github.com/users/regner/orgs","repos_url":"https://api.github.com/users/regner/repos","events_url":"https://api.github.com/users/regner/events{/privacy}","received_events_url":"https://api.github.com/users/regner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T03:21:27Z","updated_at":"2018-11-28T03:21:27Z","author_association":"NONE","body":"We just ran a compaction of all our databases with our stop-gap script so not sure if that will change the outcome of that query.\r\n\r\nAlso I should note that our config only has 1 shard. Specifically:\r\n```\r\n[cluster]\r\nq=1\r\nn=6\r\n```\r\n\r\nI will try and run that query later this evening or tomorrow though and get you the results.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442305096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442309378","html_url":"https://github.com/apache/couchdb/issues/1579#issuecomment-442309378","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1579","id":442309378,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMwOTM3OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T03:47:40Z","updated_at":"2018-11-28T04:03:24Z","author_association":"CONTRIBUTOR","body":"@regner Hmm, if it is just one shard it's probably a different issue. In that case try to enable debug logging and see if there are any messages from the compaction daemon in the log.\r\n\r\nSearch for `couch_log:` in https://github.com/apache/couchdb/blob/master/src/couch/src/couch_compaction_daemon.erl and see what some of the messages might look like.  It would be things like ```Compaction daemon - canceling compaction for databases ... because exceeded the allowed time.\"```\r\n\r\nAnother thing to try is to remove the time constraints and see if it works. Noticed above your setup had a `from` and `to` set.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442309378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442310163","html_url":"https://github.com/apache/couchdb/issues/1579#issuecomment-442310163","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1579","id":442310163,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMxMDE2Mw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T03:52:37Z","updated_at":"2018-11-28T03:52:37Z","author_association":"CONTRIBUTOR","body":"I made a fix for the design doc retrieval issue: https://github.com/apache/couchdb/pull/1768\r\n\r\nWith this fix in my setup above all the view shards end up compacting:\r\n\r\n```\r\nls -l .shards/*/thedb*/mrview\r\n.shards/00000000-1fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 296\r\n-rw-r--r--  1 staff  86152 Nov 27 22:32 8f3db710871cdc942f4793936e3de269.view\r\n\r\n.shards/20000000-3fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 288\r\n-rw-r--r--  1 staff  82056 Nov 27 22:35 8f3db710871cdc942f4793936e3de269.view\r\n\r\n.shards/40000000-5fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 288\r\n-rw-r--r--  1 staff  82056 Nov 27 22:32 8f3db710871cdc942f4793936e3de269.view\r\n\r\n.shards/60000000-7fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 296\r\n-rw-r--r--  1 staff  86152 Nov 27 22:32 8f3db710871cdc942f4793936e3de269.view\r\n\r\n.shards/80000000-9fffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 296\r\n-rw-r--r--  1 staff  86152 Nov 27 22:33 8f3db710871cdc942f4793936e3de269.view\r\n\r\n.shards/a0000000-bfffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 296\r\n-rw-r--r--  1 staff  86152 Nov 27 22:33 8f3db710871cdc942f4793936e3de269.view\r\n\r\n.shards/c0000000-dfffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 288\r\n-rw-r--r--  1 staff  82056 Nov 27 22:34 8f3db710871cdc942f4793936e3de269.view\r\n\r\n.shards/e0000000-ffffffff/thedb-e1105412deb04d7d82e827185fca5fdf.1543358834_design/mrview:\r\ntotal 296\r\n-rw-r--r--  1 staff  86152 Nov 27 22:35 8f3db710871cdc942f4793936e3de269.view\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442310163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442310292","html_url":"https://github.com/apache/couchdb/pull/1745#issuecomment-442310292","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1745","id":442310292,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMxMDI5Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T03:53:25Z","updated_at":"2018-11-28T03:53:25Z","author_association":"MEMBER","body":"@dottorblaster Keeping in mind #1767, please re-run `make elixir` on this PR after rebasing on `master` and ensure that your new test conforms to the coding standard.\r\n\r\n@jaydoane are you able to review this contribution as well? Much obliged if you can :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442310292/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442310394","html_url":"https://github.com/apache/couchdb/pull/1764#issuecomment-442310394","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1764","id":442310394,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMxMDM5NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T03:54:02Z","updated_at":"2018-11-28T03:54:02Z","author_association":"MEMBER","body":"PR apache/couchdb-ci#15 landed. Just rebuilding Jenkins images now and uploading them to Docker Hub. Merging to master now; Jenkins will probably fail this run, but will succeed the next one.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442310394/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442311503","html_url":"https://github.com/apache/couchdb/pull/1760#issuecomment-442311503","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1760","id":442311503,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMxMTUwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T04:01:21Z","updated_at":"2018-11-28T04:01:21Z","author_association":"MEMBER","body":"@dottorblaster Keeping in mind #1767, please re-run `make elixir` on this PR after rebasing on `master` and ensure that your new test conforms to the coding standard.\r\n\r\nOnce I have a +1 from you I'll merge this PR. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/442311503/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]