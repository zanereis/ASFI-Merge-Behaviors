[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146777209","html_url":"https://github.com/apache/hudi/issues/5692#issuecomment-1146777209","issue_url":"https://api.github.com/repos/apache/hudi/issues/5692","id":1146777209,"node_id":"IC_kwDOBI7nWM5EWm55","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-05T10:07:17Z","updated_at":"2022-06-05T10:07:17Z","author_association":"MEMBER","body":"@alexey-chumakov thanks for the scripts; helped a lot in verifying the issue. I ran your code with Hudi 0.11.0 and spark 3.1.2 / 3.2.1 and it works as expected. So this is most likely fixed after 0.9.0. \r\n\r\n```shell\r\n./bin/spark-shell \\\r\n--packages org.apache.hudi:hudi-spark3.1-bundle_2.12:0.11.0 \\\r\n--conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer' \\\r\n--conf 'spark.sql.extensions=org.apache.spark.sql.hudi.HoodieSparkSessionExtension' \\\r\n```\r\n\r\n<details>\r\n<summary>scripts</summary>\r\n\r\n```scala\r\nimport org.apache.hadoop.conf.Configuration\r\nimport org.apache.hudi.DataSourceWriteOptions._\r\nimport org.apache.hudi.DataSourceReadOptions._\r\nimport org.apache.hudi.common.table.HoodieTableMetaClient\r\nimport org.apache.hudi.common.table.timeline.HoodieActiveTimeline\r\nimport org.apache.hudi.config.HoodieWriteConfig\r\nimport org.apache.spark.SparkConf\r\nimport org.apache.spark.sql._\r\n\r\nimport java.util.UUID\r\n\r\nval tempPath: String = s\"${System.getProperty(\"user.dir\")}/hudi-test/${UUID.randomUUID().toString}\"\r\n\r\ndef loadTimeline(): HoodieActiveTimeline = {\r\n    HoodieTableMetaClient\r\n      .builder()\r\n      .setConf(new Configuration())\r\n      .setBasePath(tempPath)\r\n      .build()\r\n      .getActiveTimeline\r\n}\r\n\r\ndef createDataFrame(data: Seq[String]): DataFrame = {\r\n    import spark.implicits._\r\n    val dataFrame = spark.read.json(data.toDS)\r\n    dataFrame\r\n}\r\n\r\ndef writeToHudi(data: Seq[String]): Unit = {\r\n    createDataFrame(data).write\r\n      .format(\"hudi\")\r\n      .option(TABLE_TYPE.key(), \"MERGE_ON_READ\")\r\n      .option(HoodieWriteConfig.TBL_NAME.key(), \"test\")\r\n      .option(RECORDKEY_FIELD.key(), \"id\")\r\n      .option(PRECOMBINE_FIELD.key(), \"version\")\r\n      .option(PARTITIONPATH_FIELD.key(), \"partition\")\r\n      .option(\"hoodie.datasource.write.hive_style_partitioning\", \"true\")\r\n      .option(\"hoodie.finalize.write.parallelism\", \"2\")\r\n      .option(\"hoodie.upsert.shuffle.parallelism\", \"2\")\r\n      .mode(SaveMode.Append)\r\n      .save(tempPath)\r\n}\r\n\r\n  // Do an initial commit to Hudi\r\n  writeToHudi(\r\n    Seq(\r\n      \"\"\"{\"id\": 1, \"version\": \"1\", \"partition\": \"partition1\", \"value\":{\"x\": 0}}\"\"\",\r\n      \"\"\"{\"id\": 2, \"version\": \"1\", \"partition\": \"partition1\", \"value\":{\"x\": 0}}\"\"\"\r\n    )\r\n  )\r\n\r\n  // Add one more commit to another base file\r\n  writeToHudi(\r\n    Seq(\r\n      \"\"\"{\"id\": 3, \"version\": \"1\", \"partition\": \"partition1\", \"value\":{\"x\": 1}}\"\"\",\r\n      \"\"\"{\"id\": 4, \"version\": \"1\", \"partition\": \"partition1\", \"value\":{\"x\": 1}}\"\"\"\r\n    )\r\n  )\r\n\r\n  // Get first commit\r\n  val firstCommit: String = loadTimeline().filterCompletedInstants().firstInstant().get().getTimestamp\r\n\r\n  val df: DataFrame = spark.read.format(\"hudi\").\r\n    option(TIME_TRAVEL_AS_OF_INSTANT.key(), firstCommit).load(s\"$tempPath/*\")\r\n\r\n  df.show(false)\r\n```\r\n</details>\r\n\r\nIt showed only records with id 1 and 2 (first commit)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146777209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146811933","html_url":"https://github.com/apache/hudi/pull/5712#issuecomment-1146811933","issue_url":"https://api.github.com/repos/apache/hudi/issues/5712","id":1146811933,"node_id":"IC_kwDOBI7nWM5EWvYd","user":{"login":"Clcanny","id":12741138,"node_id":"MDQ6VXNlcjEyNzQxMTM4","avatar_url":"https://avatars.githubusercontent.com/u/12741138?v=4","gravatar_id":"","url":"https://api.github.com/users/Clcanny","html_url":"https://github.com/Clcanny","followers_url":"https://api.github.com/users/Clcanny/followers","following_url":"https://api.github.com/users/Clcanny/following{/other_user}","gists_url":"https://api.github.com/users/Clcanny/gists{/gist_id}","starred_url":"https://api.github.com/users/Clcanny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Clcanny/subscriptions","organizations_url":"https://api.github.com/users/Clcanny/orgs","repos_url":"https://api.github.com/users/Clcanny/repos","events_url":"https://api.github.com/users/Clcanny/events{/privacy}","received_events_url":"https://api.github.com/users/Clcanny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-05T14:09:30Z","updated_at":"2022-06-05T14:09:30Z","author_association":"NONE","body":"https://issues.apache.org/jira/projects/HUDI/issues/HUDI-4189?filter=allopenissues","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146811933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146871798","html_url":"https://github.com/apache/hudi/issues/5730#issuecomment-1146871798","issue_url":"https://api.github.com/repos/apache/hudi/issues/5730","id":1146871798,"node_id":"IC_kwDOBI7nWM5EW9_2","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-05T19:40:57Z","updated_at":"2022-06-05T19:40:57Z","author_association":"CONTRIBUTOR","body":"> do you happen to have apache JIRA id?\r\n\r\nparisni on apache's jira","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146871798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146897023","html_url":"https://github.com/apache/hudi/issues/5751#issuecomment-1146897023","issue_url":"https://api.github.com/repos/apache/hudi/issues/5751","id":1146897023,"node_id":"IC_kwDOBI7nWM5EXEJ_","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-05T22:47:53Z","updated_at":"2022-06-06T00:11:56Z","author_association":"CONTRIBUTOR","body":"As a workaround, I am able to use both bulk-insert and OCC but turning:\r\n```\r\n {\"hoodie.datasource.write.row.writer.enable\", \"false\"},\r\n {\"hoodie.bulkinsert.sort.mode\", \"NONE\"}, // optional\r\n\r\n```\r\n\r\n\r\nfrom the code, there is two ways of bulk-inserting : `bulkInsertAsRow` which leads to NPE with OCC\r\nand `bulkInsert` which deals correctly with OCC\r\n\r\n```\r\n      if (hoodieConfig.getBoolean(ENABLE_ROW_WRITER) &&\r\n        operation == WriteOperationType.BULK_INSERT) {\r\n        val (success, commitTime: common.util.Option[String]) = bulkInsertAsRow(sqlContext, parameters, df, tblName,\r\n          basePath, path, instantTime, partitionColumns)\r\n\r\n```\r\n\r\n\r\n```\r\n  public JavaRDD<WriteStatus> bulkInsert(JavaRDD<HoodieRecord<T>> records, String instantTime, Option<BulkInsertPartitioner> userDefinedBulkInsertPartitioner) {\r\n    HoodieTable<T, HoodieData<HoodieRecord<T>>, HoodieData<HoodieKey>, HoodieData<WriteStatus>> table =\r\n        initTable(WriteOperationType.BULK_INSERT, Option.ofNullable(instantTime));\r\n    table.validateInsertSchema();\r\n    preWrite(instantTime, WriteOperationType.BULK_INSERT, table.getMetaClient());\r\n    HoodieWriteMetadata<HoodieData<WriteStatus>> result = table.bulkInsert(context,instantTime, HoodieJavaRDD.of(records), userDefinedBulkInsertPartitioner);\r\n    HoodieWriteMetadata<JavaRDD<WriteStatus>> resultRDD = result.clone(HoodieJavaRDD.getJavaRDD(result.getWriteStatuses()));\r\n    return postWrite(resultRDD, instantTime, table);\r\n  }\r\n```\r\n\r\nWe should make the former aware of OCC to fix that bug","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146897023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146898048","html_url":"https://github.com/apache/hudi/issues/5752#issuecomment-1146898048","issue_url":"https://api.github.com/repos/apache/hudi/issues/5752","id":1146898048,"node_id":"IC_kwDOBI7nWM5EXEaA","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-05T22:56:36Z","updated_at":"2022-06-05T22:56:36Z","author_association":"CONTRIBUTOR","body":"hi\r\nyou might try\r\n```\r\n                  {\"hoodie.datasource.write.row.writer.enable\", \"false\"},\r\n\r\n```\r\nwhich use the legacy bulk insert mode","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146898048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146922088","html_url":"https://github.com/apache/hudi/pull/5750#issuecomment-1146922088","issue_url":"https://api.github.com/repos/apache/hudi/issues/5750","id":1146922088,"node_id":"IC_kwDOBI7nWM5EXKRo","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T00:41:55Z","updated_at":"2022-06-06T00:41:55Z","author_association":"MEMBER","body":"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9078\r\nCI passed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146922088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146926477","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1146926477","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1146926477,"node_id":"IC_kwDOBI7nWM5EXLWN","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T00:54:28Z","updated_at":"2022-06-06T00:56:05Z","author_association":"CONTRIBUTOR","body":"hi @marchpure \r\nOne thing I dont understand is that minRecordKey and maxRecordKey are taken from the fileinfo of the hfile, not from scanning the hfile. Why do minRecordKey and maxRecordKey cause NPE?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146926477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146933744","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1146933744","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1146933744,"node_id":"IC_kwDOBI7nWM5EXNHw","user":{"login":"marchpure","id":5616456,"node_id":"MDQ6VXNlcjU2MTY0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5616456?v=4","gravatar_id":"","url":"https://api.github.com/users/marchpure","html_url":"https://github.com/marchpure","followers_url":"https://api.github.com/users/marchpure/followers","following_url":"https://api.github.com/users/marchpure/following{/other_user}","gists_url":"https://api.github.com/users/marchpure/gists{/gist_id}","starred_url":"https://api.github.com/users/marchpure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marchpure/subscriptions","organizations_url":"https://api.github.com/users/marchpure/orgs","repos_url":"https://api.github.com/users/marchpure/repos","events_url":"https://api.github.com/users/marchpure/events{/privacy}","received_events_url":"https://api.github.com/users/marchpure/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T01:11:54Z","updated_at":"2022-06-06T01:11:54Z","author_association":"CONTRIBUTOR","body":"> hi @marchpure One thing I dont understand is that minRecordKey and maxRecordKey are taken from the fileinfo of the hfile, not from scanning the hfile. Why do minRecordKey and maxRecordKey cause NPE?\r\n\r\nAs test cases I added in this pr, when processed those following code.\r\n**hfileReader.getRecordsByKeyPrefixIterator（Arrays.asList（“key50”， “key0”）\r\nhfileReader.getRecordsByKeyPrefixIterator（Arrays.asList（“key1”， “key0”）**\r\n\r\nnote: here, hfile contains key00、key01... key50\r\n\r\nIn this scenario, key50 or key1 will set the scanner to the end or middle of the hfile, but does not reset the scanner position when scan key0. \r\nCauses an null pointer or empty result when scan key0.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146933744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146935647","html_url":"https://github.com/apache/hudi/issues/5752#issuecomment-1146935647","issue_url":"https://api.github.com/repos/apache/hudi/issues/5752","id":1146935647,"node_id":"IC_kwDOBI7nWM5EXNlf","user":{"login":"bkosuru","id":7408351,"node_id":"MDQ6VXNlcjc0MDgzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/7408351?v=4","gravatar_id":"","url":"https://api.github.com/users/bkosuru","html_url":"https://github.com/bkosuru","followers_url":"https://api.github.com/users/bkosuru/followers","following_url":"https://api.github.com/users/bkosuru/following{/other_user}","gists_url":"https://api.github.com/users/bkosuru/gists{/gist_id}","starred_url":"https://api.github.com/users/bkosuru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkosuru/subscriptions","organizations_url":"https://api.github.com/users/bkosuru/orgs","repos_url":"https://api.github.com/users/bkosuru/repos","events_url":"https://api.github.com/users/bkosuru/events{/privacy}","received_events_url":"https://api.github.com/users/bkosuru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T01:15:59Z","updated_at":"2022-06-06T01:15:59Z","author_association":"NONE","body":"Thank you @parisni I will give this a try","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146935647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146939477","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1146939477","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1146939477,"node_id":"IC_kwDOBI7nWM5EXOhV","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T01:23:25Z","updated_at":"2022-06-06T01:23:25Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146939477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146968099","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1146968099","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1146968099,"node_id":"IC_kwDOBI7nWM5EXVgj","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T02:21:52Z","updated_at":"2022-06-06T02:21:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"6f4b59997c516024d980b18c4d75321622c3e159\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9079\",\n    \"triggerID\" : \"6f4b59997c516024d980b18c4d75321622c3e159\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4e00782c50886c354fe420da9bdf6c193b43a1f7\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9081\",\n    \"triggerID\" : \"4e00782c50886c354fe420da9bdf6c193b43a1f7\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4e00782c50886c354fe420da9bdf6c193b43a1f7 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9081) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146968099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146978291","html_url":"https://github.com/apache/hudi/pull/5416#issuecomment-1146978291","issue_url":"https://api.github.com/repos/apache/hudi/issues/5416","id":1146978291,"node_id":"IC_kwDOBI7nWM5EXX_z","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T02:44:39Z","updated_at":"2022-06-06T02:44:39Z","author_association":"CONTRIBUTOR","body":"hi @zhangyue19921010  rebase this pr?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146978291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146978654","html_url":"https://github.com/apache/hudi/pull/5549#issuecomment-1146978654","issue_url":"https://api.github.com/repos/apache/hudi/issues/5549","id":1146978654,"node_id":"IC_kwDOBI7nWM5EXYFe","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T02:45:34Z","updated_at":"2022-06-06T02:45:34Z","author_association":"CONTRIBUTOR","body":"@nsivabalan hello, anyone can help to review this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146978654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146994059","html_url":"https://github.com/apache/hudi/pull/5749#issuecomment-1146994059","issue_url":"https://api.github.com/repos/apache/hudi/issues/5749","id":1146994059,"node_id":"IC_kwDOBI7nWM5EXb2L","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T03:22:30Z","updated_at":"2022-06-06T03:22:30Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"b9a865bcebdcbd82df18dac53e6a1e7ec4908706\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9076\",\n    \"triggerID\" : \"b9a865bcebdcbd82df18dac53e6a1e7ec4908706\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"08ba78f0d48ca3c3c96552643120a44a89fb1864\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9084\",\n    \"triggerID\" : \"08ba78f0d48ca3c3c96552643120a44a89fb1864\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b9a865bcebdcbd82df18dac53e6a1e7ec4908706 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9076) \n* 08ba78f0d48ca3c3c96552643120a44a89fb1864 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9084) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1146994059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147095618","html_url":"https://github.com/apache/hudi/issues/5540#issuecomment-1147095618","issue_url":"https://api.github.com/repos/apache/hudi/issues/5540","id":1147095618,"node_id":"IC_kwDOBI7nWM5EX0pC","user":{"login":"nleena123","id":101168016,"node_id":"U_kgDOBgezkA","avatar_url":"https://avatars.githubusercontent.com/u/101168016?v=4","gravatar_id":"","url":"https://api.github.com/users/nleena123","html_url":"https://github.com/nleena123","followers_url":"https://api.github.com/users/nleena123/followers","following_url":"https://api.github.com/users/nleena123/following{/other_user}","gists_url":"https://api.github.com/users/nleena123/gists{/gist_id}","starred_url":"https://api.github.com/users/nleena123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nleena123/subscriptions","organizations_url":"https://api.github.com/users/nleena123/orgs","repos_url":"https://api.github.com/users/nleena123/repos","events_url":"https://api.github.com/users/nleena123/events{/privacy}","received_events_url":"https://api.github.com/users/nleena123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T06:28:48Z","updated_at":"2022-06-06T06:28:48Z","author_association":"NONE","body":"Hi Team,\r\nCan you please update me on the above issue ??","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147095618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147137518","html_url":"https://github.com/apache/hudi/pull/5756#issuecomment-1147137518","issue_url":"https://api.github.com/repos/apache/hudi/issues/5756","id":1147137518,"node_id":"IC_kwDOBI7nWM5EX-3u","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T07:27:56Z","updated_at":"2022-06-06T07:27:56Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"b140b34c4008acca26bd3792cfb054006e647d90\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9087\",\n    \"triggerID\" : \"b140b34c4008acca26bd3792cfb054006e647d90\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b140b34c4008acca26bd3792cfb054006e647d90 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9087) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147137518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147187800","html_url":"https://github.com/apache/hudi/pull/5757#issuecomment-1147187800","issue_url":"https://api.github.com/repos/apache/hudi/issues/5757","id":1147187800,"node_id":"IC_kwDOBI7nWM5EYLJY","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T08:28:53Z","updated_at":"2022-06-06T08:28:53Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0600a0dd3d6ed175ed3c346d2d6c886f82ed31b7\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9088\",\n    \"triggerID\" : \"0600a0dd3d6ed175ed3c346d2d6c886f82ed31b7\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0600a0dd3d6ed175ed3c346d2d6c886f82ed31b7 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9088) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147187800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147198960","html_url":"https://github.com/apache/hudi/pull/5639#issuecomment-1147198960","issue_url":"https://api.github.com/repos/apache/hudi/issues/5639","id":1147198960,"node_id":"IC_kwDOBI7nWM5EYN3w","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T08:43:35Z","updated_at":"2022-06-06T08:43:35Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147198960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147250063","html_url":"https://github.com/apache/hudi/pull/5759#issuecomment-1147250063","issue_url":"https://api.github.com/repos/apache/hudi/issues/5759","id":1147250063,"node_id":"IC_kwDOBI7nWM5EYaWP","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T09:29:53Z","updated_at":"2022-06-06T09:29:53Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d4dd66eca8a7cd82801fd4c146e800d22e33d4b2\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9091\",\n    \"triggerID\" : \"d4dd66eca8a7cd82801fd4c146e800d22e33d4b2\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d4dd66eca8a7cd82801fd4c146e800d22e33d4b2 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9091) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147250063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147292502","html_url":"https://github.com/apache/hudi/issues/5690#issuecomment-1147292502","issue_url":"https://api.github.com/repos/apache/hudi/issues/5690","id":1147292502,"node_id":"IC_kwDOBI7nWM5EYktW","user":{"login":"hk-lrzy","id":14176134,"node_id":"MDQ6VXNlcjE0MTc2MTM0","avatar_url":"https://avatars.githubusercontent.com/u/14176134?v=4","gravatar_id":"","url":"https://api.github.com/users/hk-lrzy","html_url":"https://github.com/hk-lrzy","followers_url":"https://api.github.com/users/hk-lrzy/followers","following_url":"https://api.github.com/users/hk-lrzy/following{/other_user}","gists_url":"https://api.github.com/users/hk-lrzy/gists{/gist_id}","starred_url":"https://api.github.com/users/hk-lrzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hk-lrzy/subscriptions","organizations_url":"https://api.github.com/users/hk-lrzy/orgs","repos_url":"https://api.github.com/users/hk-lrzy/repos","events_url":"https://api.github.com/users/hk-lrzy/events{/privacy}","received_events_url":"https://api.github.com/users/hk-lrzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T10:20:23Z","updated_at":"2022-06-06T10:20:23Z","author_association":"CONTRIBUTOR","body":"@galain1994 Can you see the commit file in your archieved dirs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147292502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147339221","html_url":"https://github.com/apache/hudi/pull/5416#issuecomment-1147339221","issue_url":"https://api.github.com/repos/apache/hudi/issues/5416","id":1147339221,"node_id":"IC_kwDOBI7nWM5EYwHV","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T11:20:14Z","updated_at":"2022-06-06T11:20:14Z","author_association":"CONTRIBUTOR","body":"> hi @zhangyue19921010 rebase this pr?\r\n\r\nSure. Rebased.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147339221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147344072","html_url":"https://github.com/apache/hudi/pull/5764#issuecomment-1147344072","issue_url":"https://api.github.com/repos/apache/hudi/issues/5764","id":1147344072,"node_id":"IC_kwDOBI7nWM5EYxTI","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T11:26:18Z","updated_at":"2022-06-06T11:26:18Z","author_association":"CONTRIBUTOR","body":"cc @danny0405 Thanks a lot for your attention. And sorry for late response.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147344072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147345230","html_url":"https://github.com/apache/hudi/pull/5733#issuecomment-1147345230","issue_url":"https://api.github.com/repos/apache/hudi/issues/5733","id":1147345230,"node_id":"IC_kwDOBI7nWM5EYxlO","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T11:27:38Z","updated_at":"2022-06-06T11:27:38Z","author_association":"CONTRIBUTOR","body":"Rebased with latest master since a [flaky test fix](https://github.com/apache/hudi/pull/5749) was landed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147345230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147357276","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1147357276","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1147357276,"node_id":"IC_kwDOBI7nWM5EY0hc","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T11:41:23Z","updated_at":"2022-06-06T11:41:23Z","author_association":"CONTRIBUTOR","body":"@marchpure @xiarixiaoyao : It is expected that keys passed to be read from HFile should be sorted in lexicographical order. So, not sure how did you hit this issue. If I am not wrong, all callers do sort before looking up from HFile. Did you encounter this in your env? \r\nI understand the tests written does not have keys in sorted order and so you could reproduce the issue.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147357276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147358612","html_url":"https://github.com/apache/hudi/pull/5750#issuecomment-1147358612","issue_url":"https://api.github.com/repos/apache/hudi/issues/5750","id":1147358612,"node_id":"IC_kwDOBI7nWM5EY02U","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T11:42:59Z","updated_at":"2022-06-06T11:42:59Z","author_association":"CONTRIBUTOR","body":"@xushiyan @yihua : Do we need to call out anything in 0.11 docs wrt this. anything to call out which may not work. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147358612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147372294","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1147372294","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1147372294,"node_id":"IC_kwDOBI7nWM5EY4MG","user":{"login":"marchpure","id":5616456,"node_id":"MDQ6VXNlcjU2MTY0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5616456?v=4","gravatar_id":"","url":"https://api.github.com/users/marchpure","html_url":"https://github.com/marchpure","followers_url":"https://api.github.com/users/marchpure/followers","following_url":"https://api.github.com/users/marchpure/following{/other_user}","gists_url":"https://api.github.com/users/marchpure/gists{/gist_id}","starred_url":"https://api.github.com/users/marchpure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marchpure/subscriptions","organizations_url":"https://api.github.com/users/marchpure/orgs","repos_url":"https://api.github.com/users/marchpure/repos","events_url":"https://api.github.com/users/marchpure/events{/privacy}","received_events_url":"https://api.github.com/users/marchpure/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T12:02:06Z","updated_at":"2022-06-06T12:02:06Z","author_association":"CONTRIBUTOR","body":"> @marchpure @xiarixiaoyao : It is expected that keys passed to be read from HFile should be sorted in lexicographical order. So, not sure how did you hit this issue. If I am not wrong, all callers do sort before looking up from HFile. Did you encounter this in your env? I understand the tests written does not have keys in sorted order and so you could reproduce the issue.\r\n\r\nIn my reproduce scenrios. If I query with the following statements:\r\n\r\n**select count(1) from table where rowkey='XX' and partitionkey='XX'**\r\n\r\nI could reproduce this issue. the metatable.index.column.list is configured to be 'rowkey, partitionkey'","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147372294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147373394","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1147373394","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1147373394,"node_id":"IC_kwDOBI7nWM5EY4dS","user":{"login":"marchpure","id":5616456,"node_id":"MDQ6VXNlcjU2MTY0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5616456?v=4","gravatar_id":"","url":"https://api.github.com/users/marchpure","html_url":"https://github.com/marchpure","followers_url":"https://api.github.com/users/marchpure/followers","following_url":"https://api.github.com/users/marchpure/following{/other_user}","gists_url":"https://api.github.com/users/marchpure/gists{/gist_id}","starred_url":"https://api.github.com/users/marchpure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marchpure/subscriptions","organizations_url":"https://api.github.com/users/marchpure/orgs","repos_url":"https://api.github.com/users/marchpure/repos","events_url":"https://api.github.com/users/marchpure/events{/privacy}","received_events_url":"https://api.github.com/users/marchpure/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T12:03:26Z","updated_at":"2022-06-06T12:03:26Z","author_association":"CONTRIBUTOR","body":"> @marchpure @xiarixiaoyao : It is expected that keys passed to be read from HFile should be sorted in lexicographical order. So, not sure how did you hit this issue. If I am not wrong, all callers do sort before looking up from HFile. Did you encounter this in your env? I understand the tests written does not have keys in sorted order and so you could reproduce the issue.\r\n\r\nIn the HFile, the order is partitionkey and rowkey.\r\n\r\nBut the keys passed to be read from HFile is rowkey and partitionkey.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147373394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147421421","html_url":"https://github.com/apache/hudi/issues/5767#issuecomment-1147421421","issue_url":"https://api.github.com/repos/apache/hudi/issues/5767","id":1147421421,"node_id":"IC_kwDOBI7nWM5EZELt","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T13:01:34Z","updated_at":"2022-06-06T13:01:34Z","author_association":"CONTRIBUTOR","body":"was able to mitigate this by increasing hadoop maximum connection which is by default 50.\r\n\r\n```\r\n    sparkConf.set(\"spark.hadoop.fs.s3a.connection.maximum\", \"1000\");\r\n\r\n```\r\n\r\n\r\nCleaning from time to time looks a good idea, but wonder if there is other important reason to clean regularly a hudi table ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147421421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147443804","html_url":"https://github.com/apache/hudi/issues/5484#issuecomment-1147443804","issue_url":"https://api.github.com/repos/apache/hudi/issues/5484","id":1147443804,"node_id":"IC_kwDOBI7nWM5EZJpc","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T13:24:31Z","updated_at":"2022-06-06T13:24:31Z","author_association":"MEMBER","body":"@Gatsby-Lee @jasondavindev @umehrot2 after some digging, this should be the root cause https://github.com/apache/hudi/pull/5768\r\n\r\ncan you please try out the patch and verify? thanks. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147443804/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147470250","html_url":"https://github.com/apache/hudi/pull/5763#issuecomment-1147470250","issue_url":"https://api.github.com/repos/apache/hudi/issues/5763","id":1147470250,"node_id":"IC_kwDOBI7nWM5EZQGq","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T13:50:29Z","updated_at":"2022-06-06T13:50:29Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"605cb2d362d6312f57bf7efb7d0f52eee94d6783\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9098\",\n    \"triggerID\" : \"605cb2d362d6312f57bf7efb7d0f52eee94d6783\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 605cb2d362d6312f57bf7efb7d0f52eee94d6783 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9098) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147470250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147507101","html_url":"https://github.com/apache/hudi/pull/5760#issuecomment-1147507101","issue_url":"https://api.github.com/repos/apache/hudi/issues/5760","id":1147507101,"node_id":"IC_kwDOBI7nWM5EZZGd","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T14:24:34Z","updated_at":"2022-06-06T14:27:34Z","author_association":"CONTRIBUTOR","body":"hi @danny0405 why does globalIndex not support boundedBootstrap ？ and OptionsResolver#isPartitionedTable？\r\n\r\nhttps://github.com/apache/hudi/blob/132c0aa8c7cc34f462f5ab44e8db8b75c2ffba38/hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java#L235","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147507101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147571949","html_url":"https://github.com/apache/hudi/pull/5664#issuecomment-1147571949","issue_url":"https://api.github.com/repos/apache/hudi/issues/5664","id":1147571949,"node_id":"IC_kwDOBI7nWM5EZo7t","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T15:23:03Z","updated_at":"2022-06-06T15:23:03Z","author_association":"CONTRIBUTOR","body":"CI run succeeded: https://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=9100&view=results","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147571949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147588605","html_url":"https://github.com/apache/hudi/pull/5664#issuecomment-1147588605","issue_url":"https://api.github.com/repos/apache/hudi/issues/5664","id":1147588605,"node_id":"IC_kwDOBI7nWM5EZs_9","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T15:36:22Z","updated_at":"2022-06-06T15:36:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2de64cf0fa22cae39cbfe3f7902b0a45371b7c56\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8861\",\n    \"triggerID\" : \"2de64cf0fa22cae39cbfe3f7902b0a45371b7c56\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2e659b9a80a72a6487d1f9f0023154f0570c134f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8867\",\n    \"triggerID\" : \"2e659b9a80a72a6487d1f9f0023154f0570c134f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"63c2aa08ecec2dbbe98823f2b88b52874346a085\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8997\",\n    \"triggerID\" : \"63c2aa08ecec2dbbe98823f2b88b52874346a085\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"db498bb903cdd264f29c3db616dab75bccffddaf\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9062\",\n    \"triggerID\" : \"db498bb903cdd264f29c3db616dab75bccffddaf\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"18654512f52bf46f458d0275a844fd4e625e32e4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9063\",\n    \"triggerID\" : \"18654512f52bf46f458d0275a844fd4e625e32e4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8fbd946b6c584a7794ef61098aa5fab540861541\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9074\",\n    \"triggerID\" : \"8fbd946b6c584a7794ef61098aa5fab540861541\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9fe648a4dd99d9c77dcf0be386d453646895a9d8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9075\",\n    \"triggerID\" : \"9fe648a4dd99d9c77dcf0be386d453646895a9d8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cd3ddb0102915ebdb9d8ae968a34c9a8ca9b6834\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9100\",\n    \"triggerID\" : \"cd3ddb0102915ebdb9d8ae968a34c9a8ca9b6834\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* cd3ddb0102915ebdb9d8ae968a34c9a8ca9b6834 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9100) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147588605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147601463","html_url":"https://github.com/apache/hudi/pull/5733#issuecomment-1147601463","issue_url":"https://api.github.com/repos/apache/hudi/issues/5733","id":1147601463,"node_id":"IC_kwDOBI7nWM5EZwI3","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T15:48:47Z","updated_at":"2022-06-06T15:48:47Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"1e269381cb33f0f92be0749eeea66c3368fc225e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9041\",\n    \"triggerID\" : \"1e269381cb33f0f92be0749eeea66c3368fc225e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e6173f00c290e9e0bb55e4c7d8092f5eb26871ae\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9066\",\n    \"triggerID\" : \"e6173f00c290e9e0bb55e4c7d8092f5eb26871ae\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb436a73c4bd66a5a90467475710851b598d2ae9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9070\",\n    \"triggerID\" : \"bb436a73c4bd66a5a90467475710851b598d2ae9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"241b4a0a69e8ab13dbb1b6a2c82b06dfee877e41\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9101\",\n    \"triggerID\" : \"241b4a0a69e8ab13dbb1b6a2c82b06dfee877e41\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 241b4a0a69e8ab13dbb1b6a2c82b06dfee877e41 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9101) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147601463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147612242","html_url":"https://github.com/apache/hudi/issues/5698#issuecomment-1147612242","issue_url":"https://api.github.com/repos/apache/hudi/issues/5698","id":1147612242,"node_id":"IC_kwDOBI7nWM5EZyxS","user":{"login":"omlomloml","id":22028369,"node_id":"MDQ6VXNlcjIyMDI4MzY5","avatar_url":"https://avatars.githubusercontent.com/u/22028369?v=4","gravatar_id":"","url":"https://api.github.com/users/omlomloml","html_url":"https://github.com/omlomloml","followers_url":"https://api.github.com/users/omlomloml/followers","following_url":"https://api.github.com/users/omlomloml/following{/other_user}","gists_url":"https://api.github.com/users/omlomloml/gists{/gist_id}","starred_url":"https://api.github.com/users/omlomloml/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omlomloml/subscriptions","organizations_url":"https://api.github.com/users/omlomloml/orgs","repos_url":"https://api.github.com/users/omlomloml/repos","events_url":"https://api.github.com/users/omlomloml/events{/privacy}","received_events_url":"https://api.github.com/users/omlomloml/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T16:00:06Z","updated_at":"2022-06-06T16:00:06Z","author_association":"NONE","body":"Hi Raymond, \r\nThank you so much, I tried what you did, the hive/bin classpath missing is one problem, but another problem for me is that I can't build with -Dspark3.2, this will not work, does this require hadoop 3.3.1 to be installed?\r\nif I build with -Dspark3.1.x, I can go pass the jar issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147612242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147623150","html_url":"https://github.com/apache/hudi/issues/5698#issuecomment-1147623150","issue_url":"https://api.github.com/repos/apache/hudi/issues/5698","id":1147623150,"node_id":"IC_kwDOBI7nWM5EZ1bu","user":{"login":"omlomloml","id":22028369,"node_id":"MDQ6VXNlcjIyMDI4MzY5","avatar_url":"https://avatars.githubusercontent.com/u/22028369?v=4","gravatar_id":"","url":"https://api.github.com/users/omlomloml","html_url":"https://github.com/omlomloml","followers_url":"https://api.github.com/users/omlomloml/followers","following_url":"https://api.github.com/users/omlomloml/following{/other_user}","gists_url":"https://api.github.com/users/omlomloml/gists{/gist_id}","starred_url":"https://api.github.com/users/omlomloml/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omlomloml/subscriptions","organizations_url":"https://api.github.com/users/omlomloml/orgs","repos_url":"https://api.github.com/users/omlomloml/repos","events_url":"https://api.github.com/users/omlomloml/events{/privacy}","received_events_url":"https://api.github.com/users/omlomloml/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T16:09:56Z","updated_at":"2022-06-06T16:09:56Z","author_association":"NONE","body":"after I pass the jar issue, then I hit a S3 permission issue, this is also very strange, I set the AWS credentials in the ENV, and from the logs before the failure, it looks like the hive sync tool can access S3 without problem, it can load the commit and everything, but when it goes to hive jars, looks like they can't access S3, so is there any other place I need to set AWS credentials, I tried hive_site, but it did not help.\r\nAlso another question is looks like for the sync tool, even if I only want to use hms mode, I still need hive to be installed. but what we really want to do is to use the hms sync in spark, when we write to hudi tables, so if we are using spark bundle with the hms mode, do we still need hive to be installed?\r\n\r\nThanks\r\n\r\nHeng\r\n-- here is the log\r\nRunning Command : java -cp /opt/hive/lib/hive-metastore-3.1.3.jar::/opt/hive/lib/hive-service-3.1.3.jar::/opt/hive/lib/hive-exec-3.1.3.jar::/opt/hive/lib/hive-jdbc-3.1.3.jar:/opt/hive/lib/hive-jdbc-handler-3.1.3.jar::/opt/hive/lib/jackson-annotations-2.12.0.jar:/opt/hive/lib/jackson-core-2.12.0.jar:/opt/hive/lib/jackson-core-asl-1.9.13.jar:/opt/hive/lib/jackson-databind-2.12.0.jar:/opt/hive/lib/jackson-dataformat-smile-2.12.0.jar:/opt/hive/lib/jackson-mapper-asl-1.9.13.jar:/opt/hive/lib/jackson-module-scala_2.11-2.12.0.jar::/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/hadoop/mapreduce/*:/opt/hadoop/share/hadoop/hdfs/*:/opt/hadoop/share/hadoop/common/lib/*:/opt/hadoop/share/hadoop/hdfs/lib/*:/opt/hive/lib/*:/lib/spark/jars/aws-java-sdk-bundle-1.12.129.jar:/lib/spark/jars/hadoop-aws-3.2.0.jar:/opt/hadoop/etc/hadoop:/opt/hudi/hudi-sync/hudi-hive-sync/../../packaging/hudi-hive-sync-bundle/target/hudi-hive-sync-bundle-0.11.0.jar org.apache.hudi.hive.HiveSyncTool --database gpr --table runs --metastore-uris thrift://hive-metastore:9083 --base-path s3a://wavesense-test-hudi/runs/ --sync-mode hms\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/opt/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/opt/hive/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\r\n2022-06-06 15:55:59,377 WARN  [main] util.NativeCodeLoader (NativeCodeLoader.java:<clinit>(60)) - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n2022-06-06 15:55:59,588 INFO  [main] impl.MetricsConfig (MetricsConfig.java:loadFirst(118)) - Loaded properties from hadoop-metrics2.properties\r\n2022-06-06 15:55:59,644 INFO  [main] impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).\r\n2022-06-06 15:55:59,644 INFO  [main] impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - s3a-file-system metrics system started\r\n2022-06-06 15:56:01,258 INFO  [main] conf.HiveConf (HiveConf.java:findConfigFile(187)) - Found configuration file null\r\n2022-06-06 15:56:01,453 INFO  [main] table.HoodieTableMetaClient (HoodieTableMetaClient.java:<init>(117)) - Loading HoodieTableMetaClient from s3a://wavesense-test-hudi/runs/\r\n2022-06-06 15:56:01,616 INFO  [main] table.HoodieTableConfig (HoodieTableConfig.java:<init>(242)) - Loading table properties from s3a://wavesense-test-hudi/runs/.hoodie/hoodie.properties\r\n2022-06-06 15:56:01,685 INFO  [main] table.HoodieTableMetaClient (HoodieTableMetaClient.java:<init>(136)) - Finished Loading Table of type COPY_ON_WRITE(version=1, baseFileFormat=PARQUET) from s3a://wavesense-test-hudi/runs/\r\n2022-06-06 15:56:01,685 INFO  [main] table.HoodieTableMetaClient (HoodieTableMetaClient.java:<init>(139)) - Loading Active commit timeline for s3a://wavesense-test-hudi/runs/\r\n2022-06-06 15:56:01,813 INFO  [main] timeline.HoodieActiveTimeline (HoodieActiveTimeline.java:<init>(131)) - Loaded instants upto : Option{val=[20220524201523059__clean__COMPLETED]}\r\n2022-06-06 15:56:02,198 INFO  [main] metastore.HiveMetaStoreClient (HiveMetaStoreClient.java:open(441)) - Trying to connect to metastore with URI thrift://hive-metastore.default.svc.cluster.local:9083\r\n2022-06-06 15:56:02,216 INFO  [main] metastore.HiveMetaStoreClient (HiveMetaStoreClient.java:open(517)) - Opened a connection to metastore, current connections: 1\r\n2022-06-06 15:56:02,233 INFO  [main] metastore.HiveMetaStoreClient (HiveMetaStoreClient.java:open(570)) - Connected to metastore.\r\n2022-06-06 15:56:02,234 INFO  [main] metastore.RetryingMetaStoreClient (RetryingMetaStoreClient.java:<init>(97)) - RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=root (auth:SIMPLE) retries=1 delay=1 lifetime=0\r\n2022-06-06 15:56:02,368 INFO  [main] hive.HiveSyncTool (HiveSyncTool.java:syncHoodieTable(135)) - Syncing target hoodie table with hive table(runs). Hive metastore URL :jdbc:hive2://localhost:10000, basePath :s3a://wavesense-test-hudi/runs/\r\n2022-06-06 15:56:02,368 INFO  [main] hive.HiveSyncTool (HiveSyncTool.java:syncHoodieTable(177)) - Trying to sync hoodie table runs with base path s3a://wavesense-test-hudi/runs of type COPY_ON_WRITE\r\n2022-06-06 15:56:02,689 INFO  [main] table.TableSchemaResolver (TableSchemaResolver.java:readSchemaFromParquetBaseFile(479)) - Reading schema from s3a://wavesense-test-hudi/runs/2022-02/61d91e74-8331-492c-89ce-4ae7792cd8cc-0_0-13934-418302_20220524201445667.parquet\r\n2022-06-06 15:56:02,789 INFO  [main] s3a.S3AInputStream (S3AInputStream.java:seekInStream(286)) - Switching to Random IO seek policy\r\n2022-06-06 15:56:03,092 INFO  [main] hive.HiveSyncTool (HiveSyncTool.java:syncSchema(259)) - Hive table runs is not found. Creating it\r\n2022-06-06 15:56:03,203 ERROR [main] ddl.HMSDDLExecutor (HMSDDLExecutor.java:createTable(129)) - failed to create table runs\r\nMetaException(message:Got exception: java.nio.file.AccessDeniedException s3a://wavesense-test-hudi/runs: getFileStatus on s3a://wavesense-test-hudi/runs: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: 2FH0H0BYJ8TQ07YM; S3 Extended Request ID: noYjCZuh8UjxAo4xWLGdXW4o1DJnIPmdde8WngnDnr7B6tEeYiTBn7BTQscdHPexdvlgZbx2cqw=), S3 Extended Request ID: noYjCZuh8UjxAo4xWLGdXW4o1DJnIPmdde8WngnDnr7B6tEeYiTBn7BTQscdHPexdvlgZbx2cqw=:403 Forbidden)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$create_table_with_environment_context_result$create_table_with_environment_context_resultStandardScheme.read(ThriftHiveMetastore.java:54908)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$create_table_with_environment_context_result$create_table_with_environment_context_resultStandardScheme.read(ThriftHiveMetastore.java:54876)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$create_table_with_environment_context_result.read(ThriftHiveMetastore.java:54802)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:86)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.recv_create_table_with_environment_context(ThriftHiveMetastore.java:1556)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.create_table_with_environment_context(ThriftHiveMetastore.java:1542)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.create_table_with_environment_context(HiveMetaStoreClient.java:2867)\r\n\tat org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient.create_table_with_environment_context(SessionHiveMetaStoreClient.java:121)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.createTable(HiveMetaStoreClient.java:837)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.createTable(HiveMetaStoreClient.java:822)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:212)\r\n\tat com.sun.proxy.$Proxy21.createTable(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient$SynchronizedHandler.invoke(HiveMetaStoreClient.java:2773)\r\n\tat com.sun.proxy.$Proxy21.createTable(Unknown Source)\r\n\tat org.apache.hudi.hive.ddl.HMSDDLExecutor.createTable(HMSDDLExecutor.java:127)\r\n\tat org.apache.hudi.hive.HoodieHiveClient.createTable(HoodieHiveClient.java:168)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncSchema(HiveSyncTool.java:276)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:217)\r\n\tat org.apache.hudi.hive.HiveSyncTool.doSync(HiveSyncTool.java:150)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:138)\r\n\tat org.apache.hudi.hive.HiveSyncTool.main(HiveSyncTool.java:433)\r\n2022-06-06 15:56:03,208 INFO  [main] metastore.HiveMetaStoreClient (HiveMetaStoreClient.java:close(600)) - Closed a connection to metastore, current connections: 0\r\nException in thread \"main\" org.apache.hudi.exception.HoodieException: Got runtime exception when hive syncing runs\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:141)\r\n\tat org.apache.hudi.hive.HiveSyncTool.main(HiveSyncTool.java:433)\r\nCaused by: org.apache.hudi.hive.HoodieHiveSyncException: failed to create table runs\r\n\tat org.apache.hudi.hive.ddl.HMSDDLExecutor.createTable(HMSDDLExecutor.java:130)\r\n\tat org.apache.hudi.hive.HoodieHiveClient.createTable(HoodieHiveClient.java:168)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncSchema(HiveSyncTool.java:276)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:217)\r\n\tat org.apache.hudi.hive.HiveSyncTool.doSync(HiveSyncTool.java:150)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:138)\r\n\t... 1 more\r\nCaused by: MetaException(message:Got exception: java.nio.file.AccessDeniedException s3a://wavesense-test-hudi/runs: getFileStatus on s3a://wavesense-test-hudi/runs: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: 2FH0H0BYJ8TQ07YM; S3 Extended Request ID: noYjCZuh8UjxAo4xWLGdXW4o1DJnIPmdde8WngnDnr7B6tEeYiTBn7BTQscdHPexdvlgZbx2cqw=), S3 Extended Request ID: noYjCZuh8UjxAo4xWLGdXW4o1DJnIPmdde8WngnDnr7B6tEeYiTBn7BTQscdHPexdvlgZbx2cqw=:403 Forbidden)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$create_table_with_environment_context_result$create_table_with_environment_context_resultStandardScheme.read(ThriftHiveMetastore.java:54908)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$create_table_with_environment_context_result$create_table_with_environment_context_resultStandardScheme.read(ThriftHiveMetastore.java:54876)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$create_table_with_environment_context_result.read(ThriftHiveMetastore.java:54802)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:86)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.recv_create_table_with_environment_context(ThriftHiveMetastore.java:1556)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.create_table_with_environment_context(ThriftHiveMetastore.java:1542)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.create_table_with_environment_context(HiveMetaStoreClient.java:2867)\r\n\tat org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient.create_table_with_environment_context(SessionHiveMetaStoreClient.java:121)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.createTable(HiveMetaStoreClient.java:837)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.createTable(HiveMetaStoreClient.java:822)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:212)\r\n\tat com.sun.proxy.$Proxy21.createTable(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient$SynchronizedHandler.invoke(HiveMetaStoreClient.java:2773)\r\n\tat com.sun.proxy.$Proxy21.createTable(Unknown Source)\r\n\tat org.apache.hudi.hive.ddl.HMSDDLExecutor.createTable(HMSDDLExecutor.java:127)\r\n\t... 6 more\r\n2022-06-06 15:56:03,212 INFO  [shutdown-hook-0] impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping s3a-file-system metrics system...\r\n2022-06-06 15:56:03,212 INFO  [shutdown-hook-0] impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - s3a-file-system metrics system stopped.\r\n2022-06-06 15:56:03,213 INFO  [shutdown-hook-0] impl.MetricsSystemImpl (MetricsSystemImpl.java:shutdown(607)) - s3a-file-system metrics system shutdown complete.\r\nroot@hudi-cli-59c5dd55f-8gvmd:/opt/hudi/hudi-sync/hudi-hive-sync# \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147623150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147643205","html_url":"https://github.com/apache/hudi/pull/5695#issuecomment-1147643205","issue_url":"https://api.github.com/repos/apache/hudi/issues/5695","id":1147643205,"node_id":"IC_kwDOBI7nWM5EZ6VF","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T16:29:33Z","updated_at":"2022-06-06T16:29:33Z","author_association":"CONTRIBUTOR","body":"> Use spark, directly call spark.sharedState.externalCatalog api to sync metadata? avoid creating hms client\r\n\r\nthis is not only used for spark, we need also to support Flink, KafkaConnect, and running the tools independently","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147643205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147651553","html_url":"https://github.com/apache/hudi/pull/5766#issuecomment-1147651553","issue_url":"https://api.github.com/repos/apache/hudi/issues/5766","id":1147651553,"node_id":"IC_kwDOBI7nWM5EZ8Xh","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T16:38:46Z","updated_at":"2022-06-06T16:38:46Z","author_association":"MEMBER","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147651553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147679373","html_url":"https://github.com/apache/hudi/issues/5484#issuecomment-1147679373","issue_url":"https://api.github.com/repos/apache/hudi/issues/5484","id":1147679373,"node_id":"IC_kwDOBI7nWM5EaDKN","user":{"login":"Gatsby-Lee","id":22950880,"node_id":"MDQ6VXNlcjIyOTUwODgw","avatar_url":"https://avatars.githubusercontent.com/u/22950880?v=4","gravatar_id":"","url":"https://api.github.com/users/Gatsby-Lee","html_url":"https://github.com/Gatsby-Lee","followers_url":"https://api.github.com/users/Gatsby-Lee/followers","following_url":"https://api.github.com/users/Gatsby-Lee/following{/other_user}","gists_url":"https://api.github.com/users/Gatsby-Lee/gists{/gist_id}","starred_url":"https://api.github.com/users/Gatsby-Lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gatsby-Lee/subscriptions","organizations_url":"https://api.github.com/users/Gatsby-Lee/orgs","repos_url":"https://api.github.com/users/Gatsby-Lee/repos","events_url":"https://api.github.com/users/Gatsby-Lee/events{/privacy}","received_events_url":"https://api.github.com/users/Gatsby-Lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T17:09:15Z","updated_at":"2022-06-06T17:09:15Z","author_association":"CONTRIBUTOR","body":"@xushiyan yep. I will try it and let you know","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147679373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147686291","html_url":"https://github.com/apache/hudi/pull/5768#issuecomment-1147686291","issue_url":"https://api.github.com/repos/apache/hudi/issues/5768","id":1147686291,"node_id":"IC_kwDOBI7nWM5EaE2T","user":{"login":"Gatsby-Lee","id":22950880,"node_id":"MDQ6VXNlcjIyOTUwODgw","avatar_url":"https://avatars.githubusercontent.com/u/22950880?v=4","gravatar_id":"","url":"https://api.github.com/users/Gatsby-Lee","html_url":"https://github.com/Gatsby-Lee","followers_url":"https://api.github.com/users/Gatsby-Lee/followers","following_url":"https://api.github.com/users/Gatsby-Lee/following{/other_user}","gists_url":"https://api.github.com/users/Gatsby-Lee/gists{/gist_id}","starred_url":"https://api.github.com/users/Gatsby-Lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gatsby-Lee/subscriptions","organizations_url":"https://api.github.com/users/Gatsby-Lee/orgs","repos_url":"https://api.github.com/users/Gatsby-Lee/repos","events_url":"https://api.github.com/users/Gatsby-Lee/events{/privacy}","received_events_url":"https://api.github.com/users/Gatsby-Lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T17:16:06Z","updated_at":"2022-06-06T17:16:45Z","author_association":"CONTRIBUTOR","body":"@xushiyan just my curious.\r\nIf this fix works, which one is better?\r\n\r\n* adding the logic to `AbstractSyncTool.java`\r\n* or in the concrete class `HiveSyncTool`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147686291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147748099","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1147748099","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1147748099,"node_id":"IC_kwDOBI7nWM5EaT8D","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T18:22:30Z","updated_at":"2022-06-06T18:22:30Z","author_association":"CONTRIBUTOR","body":"I chased down the issue. we should sort the keys in higher layer before calling keyPrefixIterator. I don't think the fix in this patch makes sense. In most of the code path, we let caller sort the keys to be looked up in hfile. Probably Col stats index code path missed it. \r\n\r\nCC @alexeykudinkin can you chime in. \r\n\r\nFor instance. \r\n\r\n```\r\n  HoodieData<HoodieRecord<HoodieMetadataPayload>> getRecordsByKeyPrefixes(List<String> keyPrefixes,\r\n                                                                          String partitionName);\r\n```\r\n\r\nI followed through the impl of this and looks like the keyPrefixes was never sorted and the caller also does not sort them. \r\n\r\nthats where we need to fix it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147748099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147756414","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1147756414","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1147756414,"node_id":"IC_kwDOBI7nWM5EaV9-","user":{"login":"marchpure","id":5616456,"node_id":"MDQ6VXNlcjU2MTY0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5616456?v=4","gravatar_id":"","url":"https://api.github.com/users/marchpure","html_url":"https://github.com/marchpure","followers_url":"https://api.github.com/users/marchpure/followers","following_url":"https://api.github.com/users/marchpure/following{/other_user}","gists_url":"https://api.github.com/users/marchpure/gists{/gist_id}","starred_url":"https://api.github.com/users/marchpure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marchpure/subscriptions","organizations_url":"https://api.github.com/users/marchpure/orgs","repos_url":"https://api.github.com/users/marchpure/repos","events_url":"https://api.github.com/users/marchpure/events{/privacy}","received_events_url":"https://api.github.com/users/marchpure/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T18:31:47Z","updated_at":"2022-06-06T18:31:47Z","author_association":"CONTRIBUTOR","body":"> I chased down the issue. we should sort the keys in higher layer before calling keyPrefixIterator. I don't think the fix in this patch makes sense. In most of the code path, we let caller sort the keys to be looked up in hfile. Probably Col stats index code path missed it.\r\n> \r\n> CC @alexeykudinkin can you chime in.\r\n> \r\n> For instance.\r\n> \r\n> ```\r\n>   HoodieData<HoodieRecord<HoodieMetadataPayload>> getRecordsByKeyPrefixes(List<String> keyPrefixes,\r\n>                                                                           String partitionName);\r\n> ```\r\n> \r\n> I followed through the impl of this and looks like the keyPrefixes was never sorted and the caller also does not sort them.\r\n> \r\n> thats where we need to fix it.\r\n\r\nGood idea. I can try to fix it in this week. Is that OK?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147756414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147761879","html_url":"https://github.com/apache/hudi/pull/5747#issuecomment-1147761879","issue_url":"https://api.github.com/repos/apache/hudi/issues/5747","id":1147761879,"node_id":"IC_kwDOBI7nWM5EaXTX","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T18:37:24Z","updated_at":"2022-06-06T18:37:24Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"5e2e2ecd996e075f8a8ad026e918426f4d4cacce\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9068\",\n    \"triggerID\" : \"5e2e2ecd996e075f8a8ad026e918426f4d4cacce\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"de1cd7d3aca3ad9b70dbf03790d270866e6de052\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9105\",\n    \"triggerID\" : \"de1cd7d3aca3ad9b70dbf03790d270866e6de052\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e9abc57ddfcecaaf816ba196248d95112c2e9e46\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9110\",\n    \"triggerID\" : \"e9abc57ddfcecaaf816ba196248d95112c2e9e46\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* de1cd7d3aca3ad9b70dbf03790d270866e6de052 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9105) \n* e9abc57ddfcecaaf816ba196248d95112c2e9e46 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9110) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147761879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147818277","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1147818277","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1147818277,"node_id":"IC_kwDOBI7nWM5EalEl","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T19:25:52Z","updated_at":"2022-06-06T19:25:52Z","author_association":"CONTRIBUTOR","body":"Did you query metadata table directly? or did you try to query data table by enabling data skipping? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147818277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147832859","html_url":"https://github.com/apache/hudi/pull/5766#issuecomment-1147832859","issue_url":"https://api.github.com/repos/apache/hudi/issues/5766","id":1147832859,"node_id":"IC_kwDOBI7nWM5Eaoob","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T19:38:38Z","updated_at":"2022-06-06T19:38:38Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"81e551b139a2fe8b9ced954d045dabfd6643142f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9107\",\n    \"triggerID\" : \"81e551b139a2fe8b9ced954d045dabfd6643142f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"81e551b139a2fe8b9ced954d045dabfd6643142f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9107\",\n    \"triggerID\" : \"1147651553\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"433f78730af1b81d0287d884e5eca4fcf76b9598\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9111\",\n    \"triggerID\" : \"433f78730af1b81d0287d884e5eca4fcf76b9598\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 81e551b139a2fe8b9ced954d045dabfd6643142f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9107) \n* 433f78730af1b81d0287d884e5eca4fcf76b9598 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9111) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147832859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147843345","html_url":"https://github.com/apache/hudi/pull/5747#issuecomment-1147843345","issue_url":"https://api.github.com/repos/apache/hudi/issues/5747","id":1147843345,"node_id":"IC_kwDOBI7nWM5EarMR","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T19:47:56Z","updated_at":"2022-06-06T19:47:56Z","author_association":"CONTRIBUTOR","body":"Got an approval from Sagar verbally. going ahead w/ merging to get it into 0.11.1. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147843345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147967892","html_url":"https://github.com/apache/hudi/pull/5773#issuecomment-1147967892","issue_url":"https://api.github.com/repos/apache/hudi/issues/5773","id":1147967892,"node_id":"IC_kwDOBI7nWM5EbJmU","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T21:50:33Z","updated_at":"2022-06-06T21:50:33Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147967892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147982961","html_url":"https://github.com/apache/hudi/pull/5755#issuecomment-1147982961","issue_url":"https://api.github.com/repos/apache/hudi/issues/5755","id":1147982961,"node_id":"IC_kwDOBI7nWM5EbNRx","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T22:09:24Z","updated_at":"2022-06-06T22:09:24Z","author_association":"CONTRIBUTOR","body":"nvm. I have put up a patch to fix it holistically \r\nhttps://github.com/apache/hudi/pull/5773\r\nthanks for bringing it up. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1147982961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148012311","html_url":"https://github.com/apache/hudi/issues/5769#issuecomment-1148012311","issue_url":"https://api.github.com/repos/apache/hudi/issues/5769","id":1148012311,"node_id":"IC_kwDOBI7nWM5EbUcX","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T22:56:23Z","updated_at":"2022-06-06T22:56:23Z","author_association":"MEMBER","body":"this is achievable with `org.apache.hudi.callback.HoodieWriteCommitCallback` already.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148012311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148013482","html_url":"https://github.com/apache/hudi/issues/5753#issuecomment-1148013482","issue_url":"https://api.github.com/repos/apache/hudi/issues/5753","id":1148013482,"node_id":"IC_kwDOBI7nWM5EbUuq","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-06T22:58:55Z","updated_at":"2022-06-06T22:58:55Z","author_association":"MEMBER","body":"mentioned in https://github.com/apache/hudi/pull/5695#issuecomment-1140601173 already.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148013482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148056708","html_url":"https://github.com/apache/hudi/issues/5698#issuecomment-1148056708","issue_url":"https://api.github.com/repos/apache/hudi/issues/5698","id":1148056708,"node_id":"IC_kwDOBI7nWM5EbfSE","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T00:12:43Z","updated_at":"2022-06-07T00:12:43Z","author_association":"MEMBER","body":"@omlomloml please see comments below. As for the original issue, I'll update the script then close this, since jar issue was resolved.\r\n\r\n> can't build with -Dspark3.2, this will not work\r\n\r\nPlease check readme. \r\n\r\n> if I build with -Dspark3.1.x, I can go pass the jar issue.\r\n\r\nThe spark3.1.x profile is obsolete. Please check readme.\r\n\r\n> after I pass the jar issue, then I hit a S3 permission issue\r\n\r\ncan't really help much with aws permission issue. please reach out to aws support.\r\n\r\n> if we are using spark bundle with the hms mode, do we still need hive to be installed\r\n\r\nhive are expected to be provided by users, just like when you use hudi-spark-bundle, you'll need to have spark/hadoop installed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148056708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148058495","html_url":"https://github.com/apache/hudi/issues/5736#issuecomment-1148058495","issue_url":"https://api.github.com/repos/apache/hudi/issues/5736","id":1148058495,"node_id":"IC_kwDOBI7nWM5Ebft_","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T00:15:52Z","updated_at":"2022-06-07T00:15:52Z","author_association":"MEMBER","body":"@eshu glad that you got it resolved. `AWSGlueCatalogSyncClient` is also experimental. I can make a note there.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148058495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148065126","html_url":"https://github.com/apache/hudi/issues/5484#issuecomment-1148065126","issue_url":"https://api.github.com/repos/apache/hudi/issues/5484","id":1148065126,"node_id":"IC_kwDOBI7nWM5EbhVm","user":{"login":"Gatsby-Lee","id":22950880,"node_id":"MDQ6VXNlcjIyOTUwODgw","avatar_url":"https://avatars.githubusercontent.com/u/22950880?v=4","gravatar_id":"","url":"https://api.github.com/users/Gatsby-Lee","html_url":"https://github.com/Gatsby-Lee","followers_url":"https://api.github.com/users/Gatsby-Lee/followers","following_url":"https://api.github.com/users/Gatsby-Lee/following{/other_user}","gists_url":"https://api.github.com/users/Gatsby-Lee/gists{/gist_id}","starred_url":"https://api.github.com/users/Gatsby-Lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gatsby-Lee/subscriptions","organizations_url":"https://api.github.com/users/Gatsby-Lee/orgs","repos_url":"https://api.github.com/users/Gatsby-Lee/repos","events_url":"https://api.github.com/users/Gatsby-Lee/events{/privacy}","received_events_url":"https://api.github.com/users/Gatsby-Lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T00:27:06Z","updated_at":"2022-06-07T00:27:06Z","author_association":"CONTRIBUTOR","body":"@xushiyan I tested 0.11.0 + https://github.com/apache/hudi/pull/5768\r\nIt works!!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148065126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148073037","html_url":"https://github.com/apache/hudi/pull/5768#issuecomment-1148073037","issue_url":"https://api.github.com/repos/apache/hudi/issues/5768","id":1148073037,"node_id":"IC_kwDOBI7nWM5EbjRN","user":{"login":"Gatsby-Lee","id":22950880,"node_id":"MDQ6VXNlcjIyOTUwODgw","avatar_url":"https://avatars.githubusercontent.com/u/22950880?v=4","gravatar_id":"","url":"https://api.github.com/users/Gatsby-Lee","html_url":"https://github.com/Gatsby-Lee","followers_url":"https://api.github.com/users/Gatsby-Lee/followers","following_url":"https://api.github.com/users/Gatsby-Lee/following{/other_user}","gists_url":"https://api.github.com/users/Gatsby-Lee/gists{/gist_id}","starred_url":"https://api.github.com/users/Gatsby-Lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gatsby-Lee/subscriptions","organizations_url":"https://api.github.com/users/Gatsby-Lee/orgs","repos_url":"https://api.github.com/users/Gatsby-Lee/repos","events_url":"https://api.github.com/users/Gatsby-Lee/events{/privacy}","received_events_url":"https://api.github.com/users/Gatsby-Lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T00:41:16Z","updated_at":"2022-06-07T00:41:16Z","author_association":"CONTRIBUTOR","body":"@xushiyan tested on 0.11.0 + with this patch + Glue3.\r\nit works.\r\n\r\ncan this be shipped out with 0.11.1?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148073037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148087948","html_url":"https://github.com/apache/hudi/issues/5765#issuecomment-1148087948","issue_url":"https://api.github.com/repos/apache/hudi/issues/5765","id":1148087948,"node_id":"IC_kwDOBI7nWM5Ebm6M","user":{"login":"RoderickAdriance","id":31174431,"node_id":"MDQ6VXNlcjMxMTc0NDMx","avatar_url":"https://avatars.githubusercontent.com/u/31174431?v=4","gravatar_id":"","url":"https://api.github.com/users/RoderickAdriance","html_url":"https://github.com/RoderickAdriance","followers_url":"https://api.github.com/users/RoderickAdriance/followers","following_url":"https://api.github.com/users/RoderickAdriance/following{/other_user}","gists_url":"https://api.github.com/users/RoderickAdriance/gists{/gist_id}","starred_url":"https://api.github.com/users/RoderickAdriance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RoderickAdriance/subscriptions","organizations_url":"https://api.github.com/users/RoderickAdriance/orgs","repos_url":"https://api.github.com/users/RoderickAdriance/repos","events_url":"https://api.github.com/users/RoderickAdriance/events{/privacy}","received_events_url":"https://api.github.com/users/RoderickAdriance/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T01:11:17Z","updated_at":"2022-06-07T01:11:17Z","author_association":"NONE","body":"I hava this problem too.When I use hudi-delta streamer tool to extract data from mysql to hdfs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148087948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148100504","html_url":"https://github.com/apache/hudi/issues/5774#issuecomment-1148100504","issue_url":"https://api.github.com/repos/apache/hudi/issues/5774","id":1148100504,"node_id":"IC_kwDOBI7nWM5Ebp-Y","user":{"login":"LinMingQiang","id":14815873,"node_id":"MDQ6VXNlcjE0ODE1ODcz","avatar_url":"https://avatars.githubusercontent.com/u/14815873?v=4","gravatar_id":"","url":"https://api.github.com/users/LinMingQiang","html_url":"https://github.com/LinMingQiang","followers_url":"https://api.github.com/users/LinMingQiang/followers","following_url":"https://api.github.com/users/LinMingQiang/following{/other_user}","gists_url":"https://api.github.com/users/LinMingQiang/gists{/gist_id}","starred_url":"https://api.github.com/users/LinMingQiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LinMingQiang/subscriptions","organizations_url":"https://api.github.com/users/LinMingQiang/orgs","repos_url":"https://api.github.com/users/LinMingQiang/repos","events_url":"https://api.github.com/users/LinMingQiang/events{/privacy}","received_events_url":"https://api.github.com/users/LinMingQiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T01:37:57Z","updated_at":"2022-06-07T01:37:57Z","author_association":"CONTRIBUTOR","body":"Did you open checkpoint?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148100504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148103916","html_url":"https://github.com/apache/hudi/issues/5690#issuecomment-1148103916","issue_url":"https://api.github.com/repos/apache/hudi/issues/5690","id":1148103916,"node_id":"IC_kwDOBI7nWM5Ebqzs","user":{"login":"galain1994","id":10805116,"node_id":"MDQ6VXNlcjEwODA1MTE2","avatar_url":"https://avatars.githubusercontent.com/u/10805116?v=4","gravatar_id":"","url":"https://api.github.com/users/galain1994","html_url":"https://github.com/galain1994","followers_url":"https://api.github.com/users/galain1994/followers","following_url":"https://api.github.com/users/galain1994/following{/other_user}","gists_url":"https://api.github.com/users/galain1994/gists{/gist_id}","starred_url":"https://api.github.com/users/galain1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galain1994/subscriptions","organizations_url":"https://api.github.com/users/galain1994/orgs","repos_url":"https://api.github.com/users/galain1994/repos","events_url":"https://api.github.com/users/galain1994/events{/privacy}","received_events_url":"https://api.github.com/users/galain1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T01:45:34Z","updated_at":"2022-06-07T01:45:34Z","author_association":"NONE","body":"> @galain1994 Can you see the commit file in your archieved dirs.\r\n\r\n![image](https://user-images.githubusercontent.com/10805116/172277755-59b56e9c-cd5f-4e8d-937b-f0d8ed959176.png)\r\nThere are commits files in archieved dir.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148103916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148107966","html_url":"https://github.com/apache/hudi/issues/5690#issuecomment-1148107966","issue_url":"https://api.github.com/repos/apache/hudi/issues/5690","id":1148107966,"node_id":"IC_kwDOBI7nWM5Ebry-","user":{"login":"galain1994","id":10805116,"node_id":"MDQ6VXNlcjEwODA1MTE2","avatar_url":"https://avatars.githubusercontent.com/u/10805116?v=4","gravatar_id":"","url":"https://api.github.com/users/galain1994","html_url":"https://github.com/galain1994","followers_url":"https://api.github.com/users/galain1994/followers","following_url":"https://api.github.com/users/galain1994/following{/other_user}","gists_url":"https://api.github.com/users/galain1994/gists{/gist_id}","starred_url":"https://api.github.com/users/galain1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galain1994/subscriptions","organizations_url":"https://api.github.com/users/galain1994/orgs","repos_url":"https://api.github.com/users/galain1994/repos","events_url":"https://api.github.com/users/galain1994/events{/privacy}","received_events_url":"https://api.github.com/users/galain1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T01:55:03Z","updated_at":"2022-06-07T01:55:03Z","author_association":"NONE","body":"> @galain1994 Can you see the commit file in your archieved dirs.\r\n\r\nThese days, I try to change the hudi arguments with:\r\n`compaction.trigger.strategy = 'num_commits'`\r\n`'compaction.delta_commits' = '20'`\r\nAnd delete the table in Hive metastore, and all the files in table data path,\r\nafter restart the flink job,  checkpoint runs normally, but no parquet file in each partition, only found log file.\r\n![image](https://user-images.githubusercontent.com/10805116/172278670-f683de85-c380-446a-9e4e-b69b70444b04.png)\r\n![image](https://user-images.githubusercontent.com/10805116/172278710-e811c83c-d847-415a-aa34-1dd7b76f8e69.png)\r\n![image](https://user-images.githubusercontent.com/10805116/172278751-696771d1-9207-45ab-aaa5-82f7c8e70a2f.png)\r\n\r\nStill have no clue to solve problem  😮‍💨","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148107966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148112582","html_url":"https://github.com/apache/hudi/issues/5765#issuecomment-1148112582","issue_url":"https://api.github.com/repos/apache/hudi/issues/5765","id":1148112582,"node_id":"IC_kwDOBI7nWM5Ebs7G","user":{"login":"RoderickAdriance","id":31174431,"node_id":"MDQ6VXNlcjMxMTc0NDMx","avatar_url":"https://avatars.githubusercontent.com/u/31174431?v=4","gravatar_id":"","url":"https://api.github.com/users/RoderickAdriance","html_url":"https://github.com/RoderickAdriance","followers_url":"https://api.github.com/users/RoderickAdriance/followers","following_url":"https://api.github.com/users/RoderickAdriance/following{/other_user}","gists_url":"https://api.github.com/users/RoderickAdriance/gists{/gist_id}","starred_url":"https://api.github.com/users/RoderickAdriance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RoderickAdriance/subscriptions","organizations_url":"https://api.github.com/users/RoderickAdriance/orgs","repos_url":"https://api.github.com/users/RoderickAdriance/repos","events_url":"https://api.github.com/users/RoderickAdriance/events{/privacy}","received_events_url":"https://api.github.com/users/RoderickAdriance/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T02:05:27Z","updated_at":"2022-06-07T02:05:27Z","author_association":"NONE","body":"22/06/06 22:15:27 ERROR Javalin: Exception occurred while servicing http-request\r\n\tjava.lang.NoSuchMethodError: org.apache.hadoop.hdfs.client.HdfsDataInputStream.getReadStatistics()Lorg/apache/hadoop/hdfs/DFSInputStream$ReadStatistics;\r\n\t\tat org.apache.hudi.org.apache.hadoop.hbase.io.FSDataInputStreamWrapper.updateInputStreamStatistics(FSDataInputStreamWrapper.java:249)\r\n\t\tat org.apache.hudi.org.apache.hadoop.hbase.io.FSDataInputStreamWrapper.close(FSDataInputStreamWrapper.java:296)\r\n\t\tat org.apache.hudi.org.apache.hadoop.hbase.io.hfile.HFileBlock$FSReaderImpl.closeStreams(HFileBlock.java:1825)\r\n\t\tat org.apache.hudi.org.apache.hadoop.hbase.io.hfile.HFilePreadReader.close(HFilePreadReader.java:107)\r\n\t\tat org.apache.hudi.org.apache.hadoop.hbase.io.hfile.HFileReaderImpl.close(HFileReaderImpl.java:1421)\r\n\t\tat org.apache.hudi.io.storage.HoodieHFileReader.close(HoodieHFileReader.java:218)\r\n\t\tat org.apache.hudi.metadata.HoodieBackedTableMetadata.closeReader(HoodieBackedTableMetadata.java:574)\r\n\t\tat org.apache.hudi.metadata.HoodieBackedTableMetadata.close(HoodieBackedTableMetadata.java:567)\r\n\t\tat org.apache.hudi.metadata.HoodieBackedTableMetadata.close(HoodieBackedTableMetadata.java:554)\r\n\t\tat org.apache.hudi.metadata.HoodieMetadataFileSystemView.close(HoodieMetadataFileSystemView.java:83)\r\n\t\tat org.apache.hudi.common.table.view.FileSystemViewManager.clearFileSystemView(FileSystemViewManager.java:86)\r\n\t\tat org.apache.hudi.timeline.service.handlers.FileSliceHandler.refreshTable(FileSliceHandler.java:118)\r\n\t\tat org.apache.hudi.timeline.service.RequestHandler.lambda$registerFileSlicesAPI$19(RequestHandler.java:390)\r\n\t\tat org.apache.hudi.timeline.service.RequestHandler$ViewHandler.handle(RequestHandler.java:501)\r\n\t\tat io.javalin.security.SecurityUtil.noopAccessManager(SecurityUtil.kt:22)\r\n\t\tat io.javalin.Javalin.lambda$addHandler$0(Javalin.java:606)\r\n\t\tat io.javalin.core.JavalinServlet$service$2$1.invoke(JavalinServlet.kt:46)\r\n\t\tat io.javalin.core.JavalinServlet$service$2$1.invoke(JavalinServlet.kt:17)\r\n\t\tat io.javalin.core.JavalinServlet$service$1.invoke(JavalinServlet.kt:143)\r\n\t\tat io.javalin.core.JavalinServlet$service$2.invoke(JavalinServlet.kt:41)\r\n\t\tat io.javalin.core.JavalinServlet.service(JavalinServlet.kt:107)\r\n\t\tat io.javalin.core.util.JettyServerUtil$initialize$httpHandler$1.doHandle(JettyServerUtil.kt:72)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)\r\n\t\tat org.apache.hudi.org.apache.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1668)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.handler.HandlerList.handle(HandlerList.java:61)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:174)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.Server.handle(Server.java:502)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.HttpChannel.handle(HttpChannel.java:370)\r\n\t\tat org.apache.hudi.org.apache.jetty.server.HttpConnection.onFillable(HttpConnection.java:267)\r\n\t\tat org.apache.hudi.org.apache.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)\r\n\t\tat org.apache.hudi.org.apache.jetty.io.FillInterest.fillable(FillInterest.java:103)\r\n\t\tat org.apache.hudi.org.apache.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\r\n\t\tat org.apache.hudi.org.apache.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\r\n\t\tat org.apache.hudi.org.apache.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\r\n\t\tat org.apache.hudi.org.apache.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\r\n\t\tat org.apache.hudi.org.apache.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\r\n\t\tat org.apache.hudi.org.apache.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\r\n\t\tat org.apache.hudi.org.apache.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)\r\n\t\tat org.apache.hudi.org.apache.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t22/06/06 22:15:27 ERROR HoodieDeltaStreamer: Got error running delta sync once. Shutting down\r\n\torg.apache.hudi.exception.HoodieRemoteException: status code: 500, reason phrase: Server Error\r\n\t\tat org.apache.hudi.common.table.view.RemoteHoodieTableFileSystemView.refresh(RemoteHoodieTableFileSystemView.java:420)\r\n\t\tat org.apache.hudi.common.table.view.RemoteHoodieTableFileSystemView.sync(RemoteHoodieTableFileSystemView.java:484)\r\n\t\tat org.apache.hudi.common.table.view.PriorityBasedFileSystemView.sync(PriorityBasedFileSystemView.java:257)\r\n\t\tat org.apache.hudi.table.HoodieSparkTable.create(HoodieSparkTable.java:92)\r\n\t\tat org.apache.hudi.table.HoodieSparkTable.create(HoodieSparkTable.java:67)\r\n\t\tat org.apache.hudi.client.SparkRDDWriteClient.createTable(SparkRDDWriteClient.java:129)\r\n\t\tat org.apache.hudi.client.BaseHoodieWriteClient.scheduleTableServiceInternal(BaseHoodieWriteClient.java:1352)\r\n\t\tat org.apache.hudi.client.BaseHoodieWriteClient.clean(BaseHoodieWriteClient.java:864)\r\n\t\tat org.apache.hudi.client.BaseHoodieWriteClient.clean(BaseHoodieWriteClient.java:837)\r\n\t\tat org.apache.hudi.client.BaseHoodieWriteClient.clean(BaseHoodieWriteClient.java:891)\r\n\t\tat org.apache.hudi.client.BaseHoodieWriteClient.autoCleanOnCommit(BaseHoodieWriteClient.java:614)\r\n\t\tat org.apache.hudi.client.BaseHoodieWriteClient.postCommit(BaseHoodieWriteClient.java:533)\r\n\t\tat org.apache.hudi.client.BaseHoodieWriteClient.commitStats(BaseHoodieWriteClient.java:236)\r\n\t\tat org.apache.hudi.client.SparkRDDWriteClient.commit(SparkRDDWriteClient.java:122)\r\n\t\tat org.apache.hudi.utilities.deltastreamer.DeltaSync.writeToSink(DeltaSync.java:622)\r\n\t\tat org.apache.hudi.utilities.deltastreamer.DeltaSync.syncOnce(DeltaSync.java:331)\r\n\t\tat org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.lambda$sync$2(HoodieDeltaStreamer.java:200)\r\n\t\tat org.apache.hudi.common.util.Option.ifPresent(Option.java:97)\r\n\t\tat org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.sync(HoodieDeltaStreamer.java:198)\r\n\t\tat org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.main(HoodieDeltaStreamer.java:549)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n\t\tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:955)\r\n\t\tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n\t\tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n\t\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n\t\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1043)\r\n\t\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1052)\r\n\t\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n\tCaused by: org.apache.http.client.HttpResponseException: status code: 500, reason phrase: Server Error\r\n\t\tat org.apache.http.impl.client.AbstractResponseHandler.handleResponse(AbstractResponseHandler.java:70)\r\n\t\tat org.apache.http.client.fluent.Response.handleResponse(Response.java:90)\r\n\t\tat org.apache.http.client.fluent.Response.returnContent(Response.java:97)\r\n\t\tat org.apache.hudi.common.table.view.RemoteHoodieTableFileSystemView.executeRequest(RemoteHoodieTableFileSystemView.java:179)\r\n\t\tat org.apache.hudi.common.table.view.RemoteHoodieTableFileSystemView.refresh(RemoteHoodieTableFileSystemView.java:418)\r\n\t\t... 31 more","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148112582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148119096","html_url":"https://github.com/apache/hudi/issues/5728#issuecomment-1148119096","issue_url":"https://api.github.com/repos/apache/hudi/issues/5728","id":1148119096,"node_id":"IC_kwDOBI7nWM5Ebug4","user":{"login":"BuddyJack","id":28841019,"node_id":"MDQ6VXNlcjI4ODQxMDE5","avatar_url":"https://avatars.githubusercontent.com/u/28841019?v=4","gravatar_id":"","url":"https://api.github.com/users/BuddyJack","html_url":"https://github.com/BuddyJack","followers_url":"https://api.github.com/users/BuddyJack/followers","following_url":"https://api.github.com/users/BuddyJack/following{/other_user}","gists_url":"https://api.github.com/users/BuddyJack/gists{/gist_id}","starred_url":"https://api.github.com/users/BuddyJack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BuddyJack/subscriptions","organizations_url":"https://api.github.com/users/BuddyJack/orgs","repos_url":"https://api.github.com/users/BuddyJack/repos","events_url":"https://api.github.com/users/BuddyJack/events{/privacy}","received_events_url":"https://api.github.com/users/BuddyJack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T02:17:12Z","updated_at":"2022-06-07T02:17:12Z","author_association":"NONE","body":"thks all","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148119096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148133339","html_url":"https://github.com/apache/hudi/pull/5773#issuecomment-1148133339","issue_url":"https://api.github.com/repos/apache/hudi/issues/5773","id":1148133339,"node_id":"IC_kwDOBI7nWM5Ebx_b","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T02:46:20Z","updated_at":"2022-06-07T02:46:20Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"597733efd5d2c1b25b5e0b3f6a628752eff9e52c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9112\",\n    \"triggerID\" : \"597733efd5d2c1b25b5e0b3f6a628752eff9e52c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f85071f92ef89f220112a36914572a10a940563d\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1147967892\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f85071f92ef89f220112a36914572a10a940563d\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"f85071f92ef89f220112a36914572a10a940563d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"752a5403aae52b361919cbf98639972e0fbeb5b6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9114\",\n    \"triggerID\" : \"752a5403aae52b361919cbf98639972e0fbeb5b6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1147967892\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"de800857471161785bebeb96adcbdcd4c6b09a96\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9117\",\n    \"triggerID\" : \"de800857471161785bebeb96adcbdcd4c6b09a96\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"77be04f93ecee8d2b8fbd46aaf4ec50b2c990bae\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9119\",\n    \"triggerID\" : \"77be04f93ecee8d2b8fbd46aaf4ec50b2c990bae\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f85071f92ef89f220112a36914572a10a940563d UNKNOWN\n* 77be04f93ecee8d2b8fbd46aaf4ec50b2c990bae Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9119) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148133339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148163515","html_url":"https://github.com/apache/hudi/pull/5773#issuecomment-1148163515","issue_url":"https://api.github.com/repos/apache/hudi/issues/5773","id":1148163515,"node_id":"IC_kwDOBI7nWM5Eb5W7","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T03:50:30Z","updated_at":"2022-06-07T03:50:30Z","author_association":"CONTRIBUTOR","body":"LGTM\r\n\r\n@nsivabalan maybe in a follow-up let's add a comment to the corresponding java-docs for getKeyPrefixIterator and getKeysIterator that keys are expected to be sorted (by the caller) for efficiency","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148163515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148174762","html_url":"https://github.com/apache/hudi/issues/5777#issuecomment-1148174762","issue_url":"https://api.github.com/repos/apache/hudi/issues/5777","id":1148174762,"node_id":"IC_kwDOBI7nWM5Eb8Gq","user":{"login":"YuweiXiao","id":9959868,"node_id":"MDQ6VXNlcjk5NTk4Njg=","avatar_url":"https://avatars.githubusercontent.com/u/9959868?v=4","gravatar_id":"","url":"https://api.github.com/users/YuweiXiao","html_url":"https://github.com/YuweiXiao","followers_url":"https://api.github.com/users/YuweiXiao/followers","following_url":"https://api.github.com/users/YuweiXiao/following{/other_user}","gists_url":"https://api.github.com/users/YuweiXiao/gists{/gist_id}","starred_url":"https://api.github.com/users/YuweiXiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuweiXiao/subscriptions","organizations_url":"https://api.github.com/users/YuweiXiao/orgs","repos_url":"https://api.github.com/users/YuweiXiao/repos","events_url":"https://api.github.com/users/YuweiXiao/events{/privacy}","received_events_url":"https://api.github.com/users/YuweiXiao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T04:13:44Z","updated_at":"2022-06-07T04:13:44Z","author_association":"CONTRIBUTOR","body":"Could you share your write config, e.g., operation type and index type.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148174762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148185043","html_url":"https://github.com/apache/hudi/issues/5765#issuecomment-1148185043","issue_url":"https://api.github.com/repos/apache/hudi/issues/5765","id":1148185043,"node_id":"IC_kwDOBI7nWM5Eb-nT","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T04:33:40Z","updated_at":"2022-06-07T04:33:40Z","author_association":"CONTRIBUTOR","body":"I also encountered this problem.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148185043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148282228","html_url":"https://github.com/apache/hudi/pull/5761#issuecomment-1148282228","issue_url":"https://api.github.com/repos/apache/hudi/issues/5761","id":1148282228,"node_id":"IC_kwDOBI7nWM5EcWV0","user":{"login":"huberylee","id":11664307,"node_id":"MDQ6VXNlcjExNjY0MzA3","avatar_url":"https://avatars.githubusercontent.com/u/11664307?v=4","gravatar_id":"","url":"https://api.github.com/users/huberylee","html_url":"https://github.com/huberylee","followers_url":"https://api.github.com/users/huberylee/followers","following_url":"https://api.github.com/users/huberylee/following{/other_user}","gists_url":"https://api.github.com/users/huberylee/gists{/gist_id}","starred_url":"https://api.github.com/users/huberylee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huberylee/subscriptions","organizations_url":"https://api.github.com/users/huberylee/orgs","repos_url":"https://api.github.com/users/huberylee/repos","events_url":"https://api.github.com/users/huberylee/events{/privacy}","received_events_url":"https://api.github.com/users/huberylee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T07:12:00Z","updated_at":"2022-06-07T07:12:35Z","author_association":"CONTRIBUTOR","body":"Related PRs: #5705 , #5339 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148282228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148293257","html_url":"https://github.com/apache/hudi/issues/5777#issuecomment-1148293257","issue_url":"https://api.github.com/repos/apache/hudi/issues/5777","id":1148293257,"node_id":"IC_kwDOBI7nWM5EcZCJ","user":{"login":"jjtjiang","id":48897688,"node_id":"MDQ6VXNlcjQ4ODk3Njg4","avatar_url":"https://avatars.githubusercontent.com/u/48897688?v=4","gravatar_id":"","url":"https://api.github.com/users/jjtjiang","html_url":"https://github.com/jjtjiang","followers_url":"https://api.github.com/users/jjtjiang/followers","following_url":"https://api.github.com/users/jjtjiang/following{/other_user}","gists_url":"https://api.github.com/users/jjtjiang/gists{/gist_id}","starred_url":"https://api.github.com/users/jjtjiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjtjiang/subscriptions","organizations_url":"https://api.github.com/users/jjtjiang/orgs","repos_url":"https://api.github.com/users/jjtjiang/repos","events_url":"https://api.github.com/users/jjtjiang/events{/privacy}","received_events_url":"https://api.github.com/users/jjtjiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T07:24:03Z","updated_at":"2022-06-07T07:48:44Z","author_association":"NONE","body":"this is the config ,thanks\r\n      .option(DataSourceWriteOptions.OPERATION.key(), DataSourceWriteOptions.UPSERT_OPERATION_OPT_VAL)\r\n      .option(DataSourceWriteOptions.STREAMING_IGNORE_FAILED_BATCH.key(), \"false\")\r\n      .option(HoodieWriteConfig.INSERT_PARALLELISM_VALUE.key,\"40\")\r\n      .option(HoodieWriteConfig.BULKINSERT_PARALLELISM_VALUE.key,\"40\")\r\n      .option(HoodieWriteConfig.UPSERT_PARALLELISM_VALUE.key,\"40\")\r\n      .option(HoodieWriteConfig.DELETE_PARALLELISM_VALUE.key,\"40\")\r\n      //index options\r\n      .option(HoodieIndexConfig.INDEX_TYPE.key(), HoodieIndex.IndexType.BLOOM.name())\r\n      .option(HoodieIndexConfig.BLOOM_INDEX_UPDATE_PARTITION_PATH_ENABLE.key(), \"true\")\r\n //merge compaction\r\n      .option(DataSourceWriteOptions.HIVE_SKIP_RO_SUFFIX_FOR_READ_OPTIMIZED_TABLE.key(), value = true)\r\n      .option(HoodieMemoryConfig.MAX_MEMORY_FRACTION_FOR_MERGE.key(), \"0.8\")\r\n      .option(HoodieMemoryConfig.MAX_MEMORY_FRACTION_FOR_COMPACTION.key(), \"0.8\")\r\n      //metadata config\r\n      .option(HoodieMetadataConfig.COMPACT_NUM_DELTA_COMMITS.key(), \"240\")\r\n      //compaction\r\n            .option(HoodieCompactionConfig.INLINE_COMPACT_NUM_DELTA_COMMITS.key(), \"5\")\r\n      .option(HoodieCompactionConfig.ASYNC_CLEAN.key(), \"true\")\r\n      .option(HoodieMetadataConfig.ENABLE.key(), \"true\")\r\n        .option(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS.key(), classOf[MultiPartKeysValueExtractor].getName)\r\n        .option(DataSourceWriteOptions.KEYGENERATOR_CLASS_NAME.key(), classOf[ComplexKeyGenerator].getName)\r\n      .mode(SaveMode.Append)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148293257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148303710","html_url":"https://github.com/apache/hudi/pull/5768#issuecomment-1148303710","issue_url":"https://api.github.com/repos/apache/hudi/issues/5768","id":1148303710,"node_id":"IC_kwDOBI7nWM5Ecble","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T07:33:11Z","updated_at":"2022-06-07T07:33:11Z","author_association":"MEMBER","body":"> @xushiyan just my curious. If this fix works, which one is better?\r\n> \r\n> * adding the logic to `AbstractSyncTool.java`\r\n> * or in the concrete class `HiveSyncTool`\r\n\r\nI won't say one would be better than another in general. all depends on your use case.\r\n\r\n> @xushiyan tested on 0.11.0 + with this patch + Glue3. it works.\r\n> \r\n> can this be shipped out with 0.11.1?\r\n\r\nThat's the plan.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148303710/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148468523","html_url":"https://github.com/apache/hudi/pull/5760#issuecomment-1148468523","issue_url":"https://api.github.com/repos/apache/hudi/issues/5760","id":1148468523,"node_id":"IC_kwDOBI7nWM5EdD0r","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T10:10:01Z","updated_at":"2022-06-07T10:10:01Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"a3388d14034a58f0809242e8a790e59ea39da2b1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9093\",\n    \"triggerID\" : \"a3388d14034a58f0809242e8a790e59ea39da2b1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a41cacfebf9450b5a5987394c556c348b448bc0e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9095\",\n    \"triggerID\" : \"a41cacfebf9450b5a5987394c556c348b448bc0e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9bdf04b0f75ab655c0972cfeaa38480a7ece2e1d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9097\",\n    \"triggerID\" : \"9bdf04b0f75ab655c0972cfeaa38480a7ece2e1d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"855b1c02bf95865add938fd682f47f9e8b4c18bf\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9120\",\n    \"triggerID\" : \"855b1c02bf95865add938fd682f47f9e8b4c18bf\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2ab7fc00663eea5e4ac742be1d17c9073732ccda\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9126\",\n    \"triggerID\" : \"2ab7fc00663eea5e4ac742be1d17c9073732ccda\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"51f71f6536e4592c039c465b82a2a5d96ad9bf04\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9128\",\n    \"triggerID\" : \"51f71f6536e4592c039c465b82a2a5d96ad9bf04\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 51f71f6536e4592c039c465b82a2a5d96ad9bf04 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9128) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148468523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148473490","html_url":"https://github.com/apache/hudi/issues/5767#issuecomment-1148473490","issue_url":"https://api.github.com/repos/apache/hudi/issues/5767","id":1148473490,"node_id":"IC_kwDOBI7nWM5EdFCS","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T10:15:04Z","updated_at":"2022-06-07T10:15:04Z","author_association":"CONTRIBUTOR","body":"found out it also takes place for `cleaning` with `timeline embded server`\r\n\r\n\r\n```\r\n7236857 [Executor task launch worker for task 1467.0 in stage 65.0 (TID 11620)] INFO  org.apache.hudi.common.table.view.RemoteHoodieTableFileSystemView  - Sending request : (http:/path&amp;lastinstantts=20220606195730788&amp;timelinehash=516addae66818fffb8ba2ea8eded835284dd9043ea72eaed26ca47ba665dbbc5)\r\n7521723 [Executor task launch worker for task 1024.2 in stage 65.0 (TID 12673)] ERROR org.apache.hudi.common.table.view.PriorityBasedFileSystemView  - Got error running preferred function. Trying secondary\r\norg.apache.hudi.exception.HoodieRemoteException: Read timed out\r\n        at org.apache.hudi.common.table.view.RemoteHoodieTableFileSystemView.getReplacedFileGroupsBefore(RemoteHoodieTableFileSystemView.java:397)\r\n        at org.apache.hudi.common.table.view.PriorityBasedFileSystemView.execute(PriorityBasedFileSystemView.java:99)\r\n        at org.apache.hudi.common.table.view.PriorityBasedFileSystemView.getReplacedFileGroupsBefore(PriorityBasedFileSystemView.java:214)\r\n        at org.apache.hudi.table.action.clean.CleanPlanner.getReplacedFilesEligibleToClean(CleanPlanner.java:392)\r\n        at org.apache.hudi.table.action.clean.CleanPlanner.getFilesToCleanKeepingLatestCommits(CleanPlanner.java:308)\r\n        at org.apache.hudi.table.action.clean.CleanPlanner.getFilesToCleanKeepingLatestCommits(CleanPlanner.java:273)\r\n        at org.apache.hudi.table.action.clean.CleanPlanner.getDeletePaths(CleanPlanner.java:443)\r\n        at org.apache.hudi.table.action.clean.CleanPlanActionExecutor.lambda$requestClean$e73901b4$1(CleanPlanActionExecutor.java:113)\r\n        at org.apache.spark.api.java.JavaPairRDD$.$anonfun$toScalaFunction$1(JavaPairRDD.scala:1070)\r\n        at scala.collection.Iterator$$anon$10.next(Iterator.scala:461)\r\n        at scala.collection.Iterator.foreach(Iterator.scala:943)\r\n        at scala.collection.Iterator.foreach$(Iterator.scala:943)\r\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\r\n        at scala.collection.generic.Growable.$plus$plus$eq(Growable.scala:62)\r\n        at scala.collection.generic.Growable.$plus$plus$eq$(Growable.scala:53)\r\n        at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:105)\r\n        at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:49)\r\n        at scala.collection.TraversableOnce.to(TraversableOnce.scala:366)\r\n        at scala.collection.TraversableOnce.to$(TraversableOnce.scala:364)\r\n        at scala.collection.AbstractIterator.to(Iterator.scala:1431)\r\n        at scala.collection.TraversableOnce.toBuffer(TraversableOnce.scala:358)\r\n        at scala.collection.TraversableOnce.toBuffer$(TraversableOnce.scala:358)\r\n        at scala.collection.AbstractIterator.toBuffer(Iterator.scala:1431)\r\n        at scala.collection.TraversableOnce.toArray(TraversableOnce.scala:345)\r\n        at scala.collection.TraversableOnce.toArray$(TraversableOnce.scala:339)\r\n        at scala.collection.AbstractIterator.toArray(Iterator.scala:1431)\r\n        at org.apache.spark.rdd.RDD.$anonfun$collect$2(RDD.scala:1030)\r\n        at org.apache.spark.SparkContext.$anonfun$runJob$5(SparkContext.scala:2254)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.net.SocketTimeoutException: Read timed out\r\n        at java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n        at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n        at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148473490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148484533","html_url":"https://github.com/apache/hudi/pull/5723#issuecomment-1148484533","issue_url":"https://api.github.com/repos/apache/hudi/issues/5723","id":1148484533,"node_id":"IC_kwDOBI7nWM5EdHu1","user":{"login":"boneanxs","id":10115332,"node_id":"MDQ6VXNlcjEwMTE1MzMy","avatar_url":"https://avatars.githubusercontent.com/u/10115332?v=4","gravatar_id":"","url":"https://api.github.com/users/boneanxs","html_url":"https://github.com/boneanxs","followers_url":"https://api.github.com/users/boneanxs/followers","following_url":"https://api.github.com/users/boneanxs/following{/other_user}","gists_url":"https://api.github.com/users/boneanxs/gists{/gist_id}","starred_url":"https://api.github.com/users/boneanxs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boneanxs/subscriptions","organizations_url":"https://api.github.com/users/boneanxs/orgs","repos_url":"https://api.github.com/users/boneanxs/repos","events_url":"https://api.github.com/users/boneanxs/events{/privacy}","received_events_url":"https://api.github.com/users/boneanxs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T10:26:52Z","updated_at":"2022-06-07T10:26:52Z","author_association":"CONTRIBUTOR","body":"Gentle ping @alexeykudinkin @xushiyan @codope @nsivabalan...","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148484533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148503935","html_url":"https://github.com/apache/hudi/issues/5540#issuecomment-1148503935","issue_url":"https://api.github.com/repos/apache/hudi/issues/5540","id":1148503935,"node_id":"IC_kwDOBI7nWM5EdMd_","user":{"login":"nleena123","id":101168016,"node_id":"U_kgDOBgezkA","avatar_url":"https://avatars.githubusercontent.com/u/101168016?v=4","gravatar_id":"","url":"https://api.github.com/users/nleena123","html_url":"https://github.com/nleena123","followers_url":"https://api.github.com/users/nleena123/followers","following_url":"https://api.github.com/users/nleena123/following{/other_user}","gists_url":"https://api.github.com/users/nleena123/gists{/gist_id}","starred_url":"https://api.github.com/users/nleena123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nleena123/subscriptions","organizations_url":"https://api.github.com/users/nleena123/orgs","repos_url":"https://api.github.com/users/nleena123/repos","events_url":"https://api.github.com/users/nleena123/events{/privacy}","received_events_url":"https://api.github.com/users/nleena123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T10:48:04Z","updated_at":"2022-06-07T10:48:04Z","author_association":"NONE","body":"HI @qianchutao ,\r\nAre you able to fix the issue ?\r\nand can you please let me know which version of hudi are you using ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148503935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148515951","html_url":"https://github.com/apache/hudi/pull/5048#issuecomment-1148515951","issue_url":"https://api.github.com/repos/apache/hudi/issues/5048","id":1148515951,"node_id":"IC_kwDOBI7nWM5EdPZv","user":{"login":"boneanxs","id":10115332,"node_id":"MDQ6VXNlcjEwMTE1MzMy","avatar_url":"https://avatars.githubusercontent.com/u/10115332?v=4","gravatar_id":"","url":"https://api.github.com/users/boneanxs","html_url":"https://github.com/boneanxs","followers_url":"https://api.github.com/users/boneanxs/followers","following_url":"https://api.github.com/users/boneanxs/following{/other_user}","gists_url":"https://api.github.com/users/boneanxs/gists{/gist_id}","starred_url":"https://api.github.com/users/boneanxs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boneanxs/subscriptions","organizations_url":"https://api.github.com/users/boneanxs/orgs","repos_url":"https://api.github.com/users/boneanxs/repos","events_url":"https://api.github.com/users/boneanxs/events{/privacy}","received_events_url":"https://api.github.com/users/boneanxs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T11:01:50Z","updated_at":"2022-06-07T11:01:50Z","author_association":"CONTRIBUTOR","body":"HI @yihua, can you review this? I'm hoping this can be landed for 0.11.1.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148515951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148646734","html_url":"https://github.com/apache/hudi/pull/5768#issuecomment-1148646734","issue_url":"https://api.github.com/repos/apache/hudi/issues/5768","id":1148646734,"node_id":"IC_kwDOBI7nWM5EdvVO","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T13:05:31Z","updated_at":"2022-06-07T13:05:31Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2f04c150d02b887f88e7c5e5e85d49653dd51731\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9103\",\n    \"triggerID\" : \"2f04c150d02b887f88e7c5e5e85d49653dd51731\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"69894b3d188f230828b9da71b4a80eab42fc9c68\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9123\",\n    \"triggerID\" : \"69894b3d188f230828b9da71b4a80eab42fc9c68\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9dc5d712a6ce7e5d179906b1d12dd3cd82fa63d8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9127\",\n    \"triggerID\" : \"9dc5d712a6ce7e5d179906b1d12dd3cd82fa63d8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b2e05afc364c932e34bf78460bb4829f221cc486\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"b2e05afc364c932e34bf78460bb4829f221cc486\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb3c419180cff5b478b69cfed69de3c5629d377b\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9130\",\n    \"triggerID\" : \"bb3c419180cff5b478b69cfed69de3c5629d377b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"fce7ccad587b8b609ed0dc4060de8b16521a62f0\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9132\",\n    \"triggerID\" : \"fce7ccad587b8b609ed0dc4060de8b16521a62f0\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b2e05afc364c932e34bf78460bb4829f221cc486 UNKNOWN\n* bb3c419180cff5b478b69cfed69de3c5629d377b Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9130) \n* fce7ccad587b8b609ed0dc4060de8b16521a62f0 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9132) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148646734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148677937","html_url":"https://github.com/apache/hudi/issues/5698#issuecomment-1148677937","issue_url":"https://api.github.com/repos/apache/hudi/issues/5698","id":1148677937,"node_id":"IC_kwDOBI7nWM5Ed28x","user":{"login":"omlomloml","id":22028369,"node_id":"MDQ6VXNlcjIyMDI4MzY5","avatar_url":"https://avatars.githubusercontent.com/u/22028369?v=4","gravatar_id":"","url":"https://api.github.com/users/omlomloml","html_url":"https://github.com/omlomloml","followers_url":"https://api.github.com/users/omlomloml/followers","following_url":"https://api.github.com/users/omlomloml/following{/other_user}","gists_url":"https://api.github.com/users/omlomloml/gists{/gist_id}","starred_url":"https://api.github.com/users/omlomloml/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omlomloml/subscriptions","organizations_url":"https://api.github.com/users/omlomloml/orgs","repos_url":"https://api.github.com/users/omlomloml/repos","events_url":"https://api.github.com/users/omlomloml/events{/privacy}","received_events_url":"https://api.github.com/users/omlomloml/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T13:29:19Z","updated_at":"2022-06-07T13:29:19Z","author_association":"NONE","body":"@xushiyan \r\nThanks for the help! please close this issue.\r\n\r\none thing I am still not clear is why build with spark3.2 does not work, readme did not mention anything specific\r\n\r\nHeng","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148677937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148749570","html_url":"https://github.com/apache/hudi/pull/4718#issuecomment-1148749570","issue_url":"https://api.github.com/repos/apache/hudi/issues/4718","id":1148749570,"node_id":"IC_kwDOBI7nWM5EeIcC","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T14:26:16Z","updated_at":"2022-06-07T14:26:16Z","author_association":"CONTRIBUTOR","body":"@vinothchandar sorry for replying the comments so late. When design the storage schema of metadata store, tbl_id is in each storage table so that metadata could be sharded by tbl_id, and all metadata of a table is in one shard. There are no problems about joining across the shard. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148749570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148752031","html_url":"https://github.com/apache/hudi/pull/4718#issuecomment-1148752031","issue_url":"https://api.github.com/repos/apache/hudi/issues/4718","id":1148752031,"node_id":"IC_kwDOBI7nWM5EeJCf","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T14:28:02Z","updated_at":"2022-06-07T14:28:02Z","author_association":"CONTRIBUTOR","body":"# Short-term plan (target 1.0)\r\n### Phase1\r\nImplement the basic functions\r\n1. Databases and tables store\r\n2. All actions (i.e. commit, compaction) and operations (i.e. upsert, compact, cluster)\r\n  1. Timeline, instant meta store.\r\n  2. Partition, snapshot store.\r\n  3. Spark/ Flink read/write available based on metastore\r\n3. Parameters of table/partition level persistence.\r\n  1. e.g. table config\r\n### Phase2\r\nExtensions\r\n1. Schema store and support schema evolution\r\n2. Concurrency support (will submit a new rfc)\r\n3. Hudi catalog\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148752031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148761220","html_url":"https://github.com/apache/hudi/pull/5402#issuecomment-1148761220","issue_url":"https://api.github.com/repos/apache/hudi/issues/5402","id":1148761220,"node_id":"IC_kwDOBI7nWM5EeLSE","user":{"login":"rahil-c","id":32500120,"node_id":"MDQ6VXNlcjMyNTAwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/32500120?v=4","gravatar_id":"","url":"https://api.github.com/users/rahil-c","html_url":"https://github.com/rahil-c","followers_url":"https://api.github.com/users/rahil-c/followers","following_url":"https://api.github.com/users/rahil-c/following{/other_user}","gists_url":"https://api.github.com/users/rahil-c/gists{/gist_id}","starred_url":"https://api.github.com/users/rahil-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahil-c/subscriptions","organizations_url":"https://api.github.com/users/rahil-c/orgs","repos_url":"https://api.github.com/users/rahil-c/repos","events_url":"https://api.github.com/users/rahil-c/events{/privacy}","received_events_url":"https://api.github.com/users/rahil-c/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T14:35:06Z","updated_at":"2022-06-07T14:35:06Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148761220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148925694","html_url":"https://github.com/apache/hudi/issues/4656#issuecomment-1148925694","issue_url":"https://api.github.com/repos/apache/hudi/issues/4656","id":1148925694,"node_id":"IC_kwDOBI7nWM5Eezb-","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T16:53:26Z","updated_at":"2022-06-07T16:53:26Z","author_association":"CONTRIBUTOR","body":"Hi @ganczarek did you mitigate this ? We have the same issue with hudi 0.11.x, by mean slow cleaning, and slow read.table\r\nalmost spent at listing partitions","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148925694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148945875","html_url":"https://github.com/apache/hudi/pull/5768#issuecomment-1148945875","issue_url":"https://api.github.com/repos/apache/hudi/issues/5768","id":1148945875,"node_id":"IC_kwDOBI7nWM5Ee4XT","user":{"login":"Gatsby-Lee","id":22950880,"node_id":"MDQ6VXNlcjIyOTUwODgw","avatar_url":"https://avatars.githubusercontent.com/u/22950880?v=4","gravatar_id":"","url":"https://api.github.com/users/Gatsby-Lee","html_url":"https://github.com/Gatsby-Lee","followers_url":"https://api.github.com/users/Gatsby-Lee/followers","following_url":"https://api.github.com/users/Gatsby-Lee/following{/other_user}","gists_url":"https://api.github.com/users/Gatsby-Lee/gists{/gist_id}","starred_url":"https://api.github.com/users/Gatsby-Lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gatsby-Lee/subscriptions","organizations_url":"https://api.github.com/users/Gatsby-Lee/orgs","repos_url":"https://api.github.com/users/Gatsby-Lee/repos","events_url":"https://api.github.com/users/Gatsby-Lee/events{/privacy}","received_events_url":"https://api.github.com/users/Gatsby-Lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T17:12:28Z","updated_at":"2022-06-07T17:12:28Z","author_association":"CONTRIBUTOR","body":"@xushiyan @codope \r\nThank you!!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1148945875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149059891","html_url":"https://github.com/apache/hudi/issues/5541#issuecomment-1149059891","issue_url":"https://api.github.com/repos/apache/hudi/issues/5541","id":1149059891,"node_id":"IC_kwDOBI7nWM5EfUMz","user":{"login":"yangdafish","id":32607057,"node_id":"MDQ6VXNlcjMyNjA3MDU3","avatar_url":"https://avatars.githubusercontent.com/u/32607057?v=4","gravatar_id":"","url":"https://api.github.com/users/yangdafish","html_url":"https://github.com/yangdafish","followers_url":"https://api.github.com/users/yangdafish/followers","following_url":"https://api.github.com/users/yangdafish/following{/other_user}","gists_url":"https://api.github.com/users/yangdafish/gists{/gist_id}","starred_url":"https://api.github.com/users/yangdafish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangdafish/subscriptions","organizations_url":"https://api.github.com/users/yangdafish/orgs","repos_url":"https://api.github.com/users/yangdafish/repos","events_url":"https://api.github.com/users/yangdafish/events{/privacy}","received_events_url":"https://api.github.com/users/yangdafish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T19:08:38Z","updated_at":"2022-06-07T19:09:24Z","author_association":"NONE","body":"Hi, have upgraded our Hudi to 0.11.0 as suggested, using Maven bundle\r\n\r\nPerformance issue still persists for larger datasets. Upsert job every 10 mins now takes longer than 10 minutes with the same Hudi settings.\r\n\r\nExecuting Hudi 0.11.0 on AWS EMR 0.66 with Spark 3.2\r\n\r\nIncluded the following documentation suggested Hudi flags, but all other settings remained the same:\r\n--conf spark.sql.avro.datetimeRebaseModeInWrite=CORRECTED \r\n--conf spark.sql.catalog.spark_catalog=org.apache.spark.sql.hudi.catalog.HoodieCatalog \r\n\r\nAttaching EMR Spark History server snapshot as reference\r\n\r\n<img width=\"1789\" alt=\"Screen Shot 2022-06-07 at 12 05 22 PM\" src=\"https://user-images.githubusercontent.com/32607057/172462410-3cbcd5f8-66ab-4010-8c81-4fae843354a1.png\">\r\n\r\n<img width=\"1786\" alt=\"Screen Shot 2022-06-07 at 12 05 36 PM\" src=\"https://user-images.githubusercontent.com/32607057/172462401-ca9e063e-5d3e-411e-ad27-f7a84551018f.png\">\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149059891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149062702","html_url":"https://github.com/apache/hudi/issues/5541#issuecomment-1149062702","issue_url":"https://api.github.com/repos/apache/hudi/issues/5541","id":1149062702,"node_id":"IC_kwDOBI7nWM5EfU4u","user":{"login":"yangdafish","id":32607057,"node_id":"MDQ6VXNlcjMyNjA3MDU3","avatar_url":"https://avatars.githubusercontent.com/u/32607057?v=4","gravatar_id":"","url":"https://api.github.com/users/yangdafish","html_url":"https://github.com/yangdafish","followers_url":"https://api.github.com/users/yangdafish/followers","following_url":"https://api.github.com/users/yangdafish/following{/other_user}","gists_url":"https://api.github.com/users/yangdafish/gists{/gist_id}","starred_url":"https://api.github.com/users/yangdafish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangdafish/subscriptions","organizations_url":"https://api.github.com/users/yangdafish/orgs","repos_url":"https://api.github.com/users/yangdafish/repos","events_url":"https://api.github.com/users/yangdafish/events{/privacy}","received_events_url":"https://api.github.com/users/yangdafish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T19:11:20Z","updated_at":"2022-06-07T19:11:20Z","author_association":"NONE","body":"Also attempted to add the following Hudi flags for performance optimization, but was still unable to see same performance as pre-upgrade 0.8 Hudi with Spark 2\r\n\r\n```\r\n\"hoodie.metadata.enable\" -> \"true\",\r\n\"spark.memory.storageFraction\" -> \"0.2\",\r\n\"spark.yarn.driver.memoryOverhead\" -> \"1024\",\r\n\"spark.yarn.executor.memoryOverhead\" -> \"3072\",\r\n\"spark.yarn.max.executor.failures\" -> \"100\"\r\n ```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149062702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149079584","html_url":"https://github.com/apache/hudi/pull/5647#issuecomment-1149079584","issue_url":"https://api.github.com/repos/apache/hudi/issues/5647","id":1149079584,"node_id":"IC_kwDOBI7nWM5EfZAg","user":{"login":"leobiscassi","id":1977418,"node_id":"MDQ6VXNlcjE5Nzc0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/1977418?v=4","gravatar_id":"","url":"https://api.github.com/users/leobiscassi","html_url":"https://github.com/leobiscassi","followers_url":"https://api.github.com/users/leobiscassi/followers","following_url":"https://api.github.com/users/leobiscassi/following{/other_user}","gists_url":"https://api.github.com/users/leobiscassi/gists{/gist_id}","starred_url":"https://api.github.com/users/leobiscassi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leobiscassi/subscriptions","organizations_url":"https://api.github.com/users/leobiscassi/orgs","repos_url":"https://api.github.com/users/leobiscassi/repos","events_url":"https://api.github.com/users/leobiscassi/events{/privacy}","received_events_url":"https://api.github.com/users/leobiscassi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T19:30:09Z","updated_at":"2022-06-07T19:30:09Z","author_association":"NONE","body":"@xushiyan just curious, will this be merged?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149079584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149104205","html_url":"https://github.com/apache/hudi/issues/5783#issuecomment-1149104205","issue_url":"https://api.github.com/repos/apache/hudi/issues/5783","id":1149104205,"node_id":"IC_kwDOBI7nWM5EffBN","user":{"login":"atmabdalla","id":1547913,"node_id":"MDQ6VXNlcjE1NDc5MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1547913?v=4","gravatar_id":"","url":"https://api.github.com/users/atmabdalla","html_url":"https://github.com/atmabdalla","followers_url":"https://api.github.com/users/atmabdalla/followers","following_url":"https://api.github.com/users/atmabdalla/following{/other_user}","gists_url":"https://api.github.com/users/atmabdalla/gists{/gist_id}","starred_url":"https://api.github.com/users/atmabdalla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atmabdalla/subscriptions","organizations_url":"https://api.github.com/users/atmabdalla/orgs","repos_url":"https://api.github.com/users/atmabdalla/repos","events_url":"https://api.github.com/users/atmabdalla/events{/privacy}","received_events_url":"https://api.github.com/users/atmabdalla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T19:56:58Z","updated_at":"2022-06-07T19:56:58Z","author_association":"NONE","body":"Just noticed the following line in the stack trace:\r\n`Caused by: org.apache.avro.SchemaParseException: Illegal character in: ... `\r\n\r\nLooking into this right now. Seems like I did not handle the nested schema properly.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149104205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149117813","html_url":"https://github.com/apache/hudi/issues/5770#issuecomment-1149117813","issue_url":"https://api.github.com/repos/apache/hudi/issues/5770","id":1149117813,"node_id":"IC_kwDOBI7nWM5EfiV1","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:11:49Z","updated_at":"2022-06-07T20:11:49Z","author_association":"CONTRIBUTOR","body":"above property should suffice. \r\nwhats the avg record size in your case? \r\nAlso, can you also try setting hoodie.parquet.block.size as well. \r\nand let us know what do you see. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149117813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149119047","html_url":"https://github.com/apache/hudi/issues/5774#issuecomment-1149119047","issue_url":"https://api.github.com/repos/apache/hudi/issues/5774","id":1149119047,"node_id":"IC_kwDOBI7nWM5EfipH","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:13:11Z","updated_at":"2022-06-07T20:13:11Z","author_association":"CONTRIBUTOR","body":"@wangxianghu @danny0405 : can you loop in someone to assist here please.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149119047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149123244","html_url":"https://github.com/apache/hudi/issues/5777#issuecomment-1149123244","issue_url":"https://api.github.com/repos/apache/hudi/issues/5777","id":1149123244,"node_id":"IC_kwDOBI7nWM5Efjqs","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:17:28Z","updated_at":"2022-06-07T20:17:28Z","author_association":"CONTRIBUTOR","body":"did you change the index type at any point in time in your table?\r\nDid you happen to change the record key field and partition path field at any point in time? \r\nalso, can you disable metadata and try querying your table to see if you could spot duplicates. \r\n\r\nAnd is it first time you are playing around w/ hudi. or you have been using hudi for sometime and you are seeing this exception in one of your tables where as its good in other tables. ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149123244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149123645","html_url":"https://github.com/apache/hudi/issues/5777#issuecomment-1149123645","issue_url":"https://api.github.com/repos/apache/hudi/issues/5777","id":1149123645,"node_id":"IC_kwDOBI7nWM5Efjw9","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:17:54Z","updated_at":"2022-06-07T20:17:54Z","author_association":"CONTRIBUTOR","body":"@YuweiXiao : I will let you take it from here. once we have answers to above questions, would be easy to narrow it down. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149123645/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149125960","html_url":"https://github.com/apache/hudi/issues/5779#issuecomment-1149125960","issue_url":"https://api.github.com/repos/apache/hudi/issues/5779","id":1149125960,"node_id":"IC_kwDOBI7nWM5EfkVI","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:20:20Z","updated_at":"2022-06-07T20:20:20Z","author_association":"CONTRIBUTOR","body":"I am not sure what does '.withExtensions(new HoodieSparkSessionExtension)' does, but can you try adding below spark config while launching spark \r\n```\r\n'spark.sql.extensions=org.apache.spark.sql.hudi.HoodieSparkSessionExtension'\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149125960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149126184","html_url":"https://github.com/apache/hudi/issues/5779#issuecomment-1149126184","issue_url":"https://api.github.com/repos/apache/hudi/issues/5779","id":1149126184,"node_id":"IC_kwDOBI7nWM5EfkYo","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:20:35Z","updated_at":"2022-06-07T20:20:35Z","author_association":"CONTRIBUTOR","body":"CC @leesf @XuQianJin-Stars ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149126184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149130836","html_url":"https://github.com/apache/hudi/issues/5783#issuecomment-1149130836","issue_url":"https://api.github.com/repos/apache/hudi/issues/5783","id":1149130836,"node_id":"IC_kwDOBI7nWM5EflhU","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:25:18Z","updated_at":"2022-06-07T20:25:18Z","author_association":"CONTRIBUTOR","body":"yes, some issue w/ the schema that you have passed in. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149130836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149131765","html_url":"https://github.com/apache/hudi/issues/5782#issuecomment-1149131765","issue_url":"https://api.github.com/repos/apache/hudi/issues/5782","id":1149131765,"node_id":"IC_kwDOBI7nWM5Eflv1","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:26:17Z","updated_at":"2022-06-07T20:26:17Z","author_association":"CONTRIBUTOR","body":"@wangxianghu @danny0405 @leesf : can you loop in someone to assist here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149131765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149146233","html_url":"https://github.com/apache/hudi/issues/5770#issuecomment-1149146233","issue_url":"https://api.github.com/repos/apache/hudi/issues/5770","id":1149146233,"node_id":"IC_kwDOBI7nWM5EfpR5","user":{"login":"Rap70r","id":22181358,"node_id":"MDQ6VXNlcjIyMTgxMzU4","avatar_url":"https://avatars.githubusercontent.com/u/22181358?v=4","gravatar_id":"","url":"https://api.github.com/users/Rap70r","html_url":"https://github.com/Rap70r","followers_url":"https://api.github.com/users/Rap70r/followers","following_url":"https://api.github.com/users/Rap70r/following{/other_user}","gists_url":"https://api.github.com/users/Rap70r/gists{/gist_id}","starred_url":"https://api.github.com/users/Rap70r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rap70r/subscriptions","organizations_url":"https://api.github.com/users/Rap70r/orgs","repos_url":"https://api.github.com/users/Rap70r/repos","events_url":"https://api.github.com/users/Rap70r/events{/privacy}","received_events_url":"https://api.github.com/users/Rap70r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:40:53Z","updated_at":"2022-06-07T20:40:53Z","author_association":"NONE","body":"Hi @nsivabalan,\r\n\r\nWhat number should I set hoodie.parquet.block.size to? Should I set it to be same as hoodie.parquet.max.file.size?\r\nAlso, when you say avg record size, what do you mean? These Hudi tables represent SQL Server tables we are syncing.\r\n\r\nThank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149146233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149154510","html_url":"https://github.com/apache/hudi/issues/5741#issuecomment-1149154510","issue_url":"https://api.github.com/repos/apache/hudi/issues/5741","id":1149154510,"node_id":"IC_kwDOBI7nWM5EfrTO","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:50:40Z","updated_at":"2022-06-07T20:50:40Z","author_association":"CONTRIBUTOR","body":"if you have disabled metadata on the writer path, your stacktrace does not makes sense. \r\n\r\n```\r\nsdf.write\r\n.format(\"hudi\")\r\n// DataSourceWriteOptions\r\n.option(\"hoodie.metadata.enable\",\"false\")\r\n.\r\n.\r\n```\r\n\r\neven if enabled, you should not hit the issue seen above. But lets first see if we can get it working w/o metadata and then we can investigate further on metadata. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149154510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149155498","html_url":"https://github.com/apache/hudi/issues/5741#issuecomment-1149155498","issue_url":"https://api.github.com/repos/apache/hudi/issues/5741","id":1149155498,"node_id":"IC_kwDOBI7nWM5Efriq","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T20:51:54Z","updated_at":"2022-06-07T20:51:54Z","author_association":"CONTRIBUTOR","body":"do you happened to have any conflicting hhase jars in your cp ? that could result in NoSuchMethodError. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149155498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149165521","html_url":"https://github.com/apache/hudi/issues/5751#issuecomment-1149165521","issue_url":"https://api.github.com/repos/apache/hudi/issues/5751","id":1149165521,"node_id":"IC_kwDOBI7nWM5Eft_R","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T21:04:13Z","updated_at":"2022-06-07T21:04:13Z","author_association":"CONTRIBUTOR","body":"looks like its a bug. https://issues.apache.org/jira/browse/HUDI-4204\r\nwill work on the fix. thanks for reporting. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149165521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149224864","html_url":"https://github.com/apache/hudi/pull/5402#issuecomment-1149224864","issue_url":"https://api.github.com/repos/apache/hudi/issues/5402","id":1149224864,"node_id":"IC_kwDOBI7nWM5Ef8eg","user":{"login":"rahil-c","id":32500120,"node_id":"MDQ6VXNlcjMyNTAwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/32500120?v=4","gravatar_id":"","url":"https://api.github.com/users/rahil-c","html_url":"https://github.com/rahil-c","followers_url":"https://api.github.com/users/rahil-c/followers","following_url":"https://api.github.com/users/rahil-c/following{/other_user}","gists_url":"https://api.github.com/users/rahil-c/gists{/gist_id}","starred_url":"https://api.github.com/users/rahil-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahil-c/subscriptions","organizations_url":"https://api.github.com/users/rahil-c/orgs","repos_url":"https://api.github.com/users/rahil-c/repos","events_url":"https://api.github.com/users/rahil-c/events{/privacy}","received_events_url":"https://api.github.com/users/rahil-c/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T22:12:19Z","updated_at":"2022-06-07T22:12:19Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149224864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149224928","html_url":"https://github.com/apache/hudi/pull/5402#issuecomment-1149224928","issue_url":"https://api.github.com/repos/apache/hudi/issues/5402","id":1149224928,"node_id":"IC_kwDOBI7nWM5Ef8fg","user":{"login":"rahil-c","id":32500120,"node_id":"MDQ6VXNlcjMyNTAwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/32500120?v=4","gravatar_id":"","url":"https://api.github.com/users/rahil-c","html_url":"https://github.com/rahil-c","followers_url":"https://api.github.com/users/rahil-c/followers","following_url":"https://api.github.com/users/rahil-c/following{/other_user}","gists_url":"https://api.github.com/users/rahil-c/gists{/gist_id}","starred_url":"https://api.github.com/users/rahil-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahil-c/subscriptions","organizations_url":"https://api.github.com/users/rahil-c/orgs","repos_url":"https://api.github.com/users/rahil-c/repos","events_url":"https://api.github.com/users/rahil-c/events{/privacy}","received_events_url":"https://api.github.com/users/rahil-c/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T22:12:25Z","updated_at":"2022-06-07T22:12:25Z","author_association":"CONTRIBUTOR","body":"`@hudi-bot run azure`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149224928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149230215","html_url":"https://github.com/apache/hudi/issues/5752#issuecomment-1149230215","issue_url":"https://api.github.com/repos/apache/hudi/issues/5752","id":1149230215,"node_id":"IC_kwDOBI7nWM5Ef9yH","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T22:20:29Z","updated_at":"2022-06-07T22:20:29Z","author_association":"CONTRIBUTOR","body":"yeah, we don't have url encoding supported w/ row writer yet. we have a tracking ticket here. https://issues.apache.org/jira/browse/HUDI-4199\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149230215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149230406","html_url":"https://github.com/apache/hudi/pull/5402#issuecomment-1149230406","issue_url":"https://api.github.com/repos/apache/hudi/issues/5402","id":1149230406,"node_id":"IC_kwDOBI7nWM5Ef91G","user":{"login":"rahil-c","id":32500120,"node_id":"MDQ6VXNlcjMyNTAwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/32500120?v=4","gravatar_id":"","url":"https://api.github.com/users/rahil-c","html_url":"https://github.com/rahil-c","followers_url":"https://api.github.com/users/rahil-c/followers","following_url":"https://api.github.com/users/rahil-c/following{/other_user}","gists_url":"https://api.github.com/users/rahil-c/gists{/gist_id}","starred_url":"https://api.github.com/users/rahil-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahil-c/subscriptions","organizations_url":"https://api.github.com/users/rahil-c/orgs","repos_url":"https://api.github.com/users/rahil-c/repos","events_url":"https://api.github.com/users/rahil-c/events{/privacy}","received_events_url":"https://api.github.com/users/rahil-c/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T22:20:47Z","updated_at":"2022-06-07T22:20:47Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149230406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149230459","html_url":"https://github.com/apache/hudi/pull/5402#issuecomment-1149230459","issue_url":"https://api.github.com/repos/apache/hudi/issues/5402","id":1149230459,"node_id":"IC_kwDOBI7nWM5Ef917","user":{"login":"rahil-c","id":32500120,"node_id":"MDQ6VXNlcjMyNTAwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/32500120?v=4","gravatar_id":"","url":"https://api.github.com/users/rahil-c","html_url":"https://github.com/rahil-c","followers_url":"https://api.github.com/users/rahil-c/followers","following_url":"https://api.github.com/users/rahil-c/following{/other_user}","gists_url":"https://api.github.com/users/rahil-c/gists{/gist_id}","starred_url":"https://api.github.com/users/rahil-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahil-c/subscriptions","organizations_url":"https://api.github.com/users/rahil-c/orgs","repos_url":"https://api.github.com/users/rahil-c/repos","events_url":"https://api.github.com/users/rahil-c/events{/privacy}","received_events_url":"https://api.github.com/users/rahil-c/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T22:20:53Z","updated_at":"2022-06-07T22:20:53Z","author_association":"CONTRIBUTOR","body":"`@hudi-bot run azure` ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1149230459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]