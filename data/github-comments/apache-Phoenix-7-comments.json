[{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/364870498","html_url":"https://github.com/apache/phoenix/pull/291#issuecomment-364870498","issue_url":"https://api.github.com/repos/apache/phoenix/issues/291","id":364870498,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDg3MDQ5OA==","user":{"login":"ohadshacham","id":7221711,"node_id":"MDQ6VXNlcjcyMjE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/7221711?v=4","gravatar_id":"","url":"https://api.github.com/users/ohadshacham","html_url":"https://github.com/ohadshacham","followers_url":"https://api.github.com/users/ohadshacham/followers","following_url":"https://api.github.com/users/ohadshacham/following{/other_user}","gists_url":"https://api.github.com/users/ohadshacham/gists{/gist_id}","starred_url":"https://api.github.com/users/ohadshacham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohadshacham/subscriptions","organizations_url":"https://api.github.com/users/ohadshacham/orgs","repos_url":"https://api.github.com/users/ohadshacham/repos","events_url":"https://api.github.com/users/ohadshacham/events{/privacy}","received_events_url":"https://api.github.com/users/ohadshacham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T09:35:46Z","updated_at":"2018-02-12T09:35:46Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor, anything else should be done before commit?","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/364870498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/369060940","html_url":"https://github.com/apache/phoenix/pull/292#issuecomment-369060940","issue_url":"https://api.github.com/repos/apache/phoenix/issues/292","id":369060940,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA2MDk0MA==","user":{"login":"aertoria","id":3536746,"node_id":"MDQ6VXNlcjM1MzY3NDY=","avatar_url":"https://avatars.githubusercontent.com/u/3536746?v=4","gravatar_id":"","url":"https://api.github.com/users/aertoria","html_url":"https://github.com/aertoria","followers_url":"https://api.github.com/users/aertoria/followers","following_url":"https://api.github.com/users/aertoria/following{/other_user}","gists_url":"https://api.github.com/users/aertoria/gists{/gist_id}","starred_url":"https://api.github.com/users/aertoria/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aertoria/subscriptions","organizations_url":"https://api.github.com/users/aertoria/orgs","repos_url":"https://api.github.com/users/aertoria/repos","events_url":"https://api.github.com/users/aertoria/events{/privacy}","received_events_url":"https://api.github.com/users/aertoria/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T23:11:27Z","updated_at":"2018-02-27T23:11:27Z","author_association":"MEMBER","body":"Sent out another patch for review. Let us close this p.r.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/369060940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/370873474","html_url":"https://github.com/apache/phoenix/pull/294#issuecomment-370873474","issue_url":"https://api.github.com/repos/apache/phoenix/issues/294","id":370873474,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDg3MzQ3NA==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T18:06:41Z","updated_at":"2018-03-06T18:06:41Z","author_association":"CONTRIBUTOR","body":"Thanks for the pull request, @xjodoin. Looks very good overall - I made a few specific comments on the implementation of the built-in function.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/370873474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/372005221","html_url":"https://github.com/apache/phoenix/pull/294#issuecomment-372005221","issue_url":"https://api.github.com/repos/apache/phoenix/issues/294","id":372005221,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjAwNTIyMQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-10T05:44:31Z","updated_at":"2018-03-10T05:44:31Z","author_association":"CONTRIBUTOR","body":"Changes look good. I've committed PHOENIX-4644, so can you make sure everything works without specify a default value for the second argument for ARRAY_REMOVE?","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/372005221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/374424979","html_url":"https://github.com/apache/phoenix/pull/294#issuecomment-374424979","issue_url":"https://api.github.com/repos/apache/phoenix/issues/294","id":374424979,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDQyNDk3OQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T23:53:13Z","updated_at":"2018-03-19T23:53:13Z","author_association":"CONTRIBUTOR","body":"Looks good - one minor nit and then I think we'll be good to go.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/374424979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375144740","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-375144740","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":375144740,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE0NDc0MA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T01:04:25Z","updated_at":"2018-03-22T01:04:25Z","author_association":"CONTRIBUTOR","body":"@twdsilva @JamesRTaylor please take a look and refer to my comments on the JIRA. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375144740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375148014","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-375148014","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":375148014,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE0ODAxNA==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T01:24:21Z","updated_at":"2018-03-22T01:24:21Z","author_association":"CONTRIBUTOR","body":"Please amend your commit message to be in the form: PHOENIX-4579 <summary>\r\nThat way, PR comments will automatically appear as JIRA comments.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375148014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375156525","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-375156525","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":375156525,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE1NjUyNQ==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T02:17:39Z","updated_at":"2018-03-22T02:17:39Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor Oops, done. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375156525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375443678","html_url":"https://github.com/apache/phoenix/pull/296#issuecomment-375443678","issue_url":"https://api.github.com/repos/apache/phoenix/issues/296","id":375443678,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ0MzY3OA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T20:19:26Z","updated_at":"2018-03-22T20:19:26Z","author_association":"CONTRIBUTOR","body":"@twdsilva @JamesRTaylor please review. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375443678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375468685","html_url":"https://github.com/apache/phoenix/pull/296#issuecomment-375468685","issue_url":"https://api.github.com/repos/apache/phoenix/issues/296","id":375468685,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ2ODY4NQ==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T21:47:58Z","updated_at":"2018-03-22T21:47:58Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375468685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375648949","html_url":"https://github.com/apache/phoenix/pull/294#issuecomment-375648949","issue_url":"https://api.github.com/repos/apache/phoenix/issues/294","id":375648949,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTY0ODk0OQ==","user":{"login":"xjodoin","id":235402,"node_id":"MDQ6VXNlcjIzNTQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/235402?v=4","gravatar_id":"","url":"https://api.github.com/users/xjodoin","html_url":"https://github.com/xjodoin","followers_url":"https://api.github.com/users/xjodoin/followers","following_url":"https://api.github.com/users/xjodoin/following{/other_user}","gists_url":"https://api.github.com/users/xjodoin/gists{/gist_id}","starred_url":"https://api.github.com/users/xjodoin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xjodoin/subscriptions","organizations_url":"https://api.github.com/users/xjodoin/orgs","repos_url":"https://api.github.com/users/xjodoin/repos","events_url":"https://api.github.com/users/xjodoin/events{/privacy}","received_events_url":"https://api.github.com/users/xjodoin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T12:24:00Z","updated_at":"2018-03-23T12:24:00Z","author_association":"NONE","body":"I did the last change. I hope the feature is ready :)","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375648949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375743068","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-375743068","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":375743068,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTc0MzA2OA==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T17:31:51Z","updated_at":"2018-03-23T17:31:51Z","author_association":"CONTRIBUTOR","body":"Ok, sounds like a good plan.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375743068/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375754236","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-375754236","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":375754236,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTc1NDIzNg==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T18:08:54Z","updated_at":"2018-03-23T18:08:54Z","author_association":"CONTRIBUTOR","body":"Thinking more, I think it’s fine to go through the CREATE TABLE code path and move the logic in the try block of init down into ensureTableCreated. It’s only called once on the first connection made to a cluster from a client. Keeping the code simple and doing a single RPC to get the metadata and another to get the version will outweigh the minor overhead of compiling CREATE TABLE (plus like you mentioned before, we need to do that to build up the args for ensureTableCreated anyway).","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375754236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375768186","html_url":"https://github.com/apache/phoenix/pull/294#issuecomment-375768186","issue_url":"https://api.github.com/repos/apache/phoenix/issues/294","id":375768186,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTc2ODE4Ng==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T19:01:44Z","updated_at":"2018-03-23T19:01:44Z","author_association":"CONTRIBUTOR","body":"+1. Thanks for the contribution, @xjodoin. I'll commit this to the various branches.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375768186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375799505","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-375799505","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":375799505,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTc5OTUwNQ==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T21:11:11Z","updated_at":"2018-03-23T21:11:11Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor I'm trying to check if we can move the logic in the try block in init to _ensureTableCreated_ and there seem to be a couple of hurdles while doing so. We don't have access to the DO_NOT_UPGRADE property which is declared to be private inside UpgradeUtil.java and we can't access its getter method 'isNoUpgradeSet' from _ensureTableCreated_ because we have properties of type 'ReadOnlyProps', not 'Properties' (I couldn't find any converter methods between these instances). We need this property to decide whether or not to set _setUpgradeRequired_ to true.\r\n\r\nAlso, we call _ensureSystemTablesMigratedToSystemNamespace_ inside this try block in init and also have a check which basically throws an InconsistentNamespaceMappingProperties exception if phoenix.schema.mapSystemTablesToNamespace is false and SYSTEM:CATALOG still exists. Now if we move all this logic to _ensureTableCreated_, we would have to add extra checks inside this to make sure whether _ensureTableCreated_ is called for SYSTEM.CATALOG or SYSTEM:CATALOG. \r\n\r\nBecause of this, I don't think it's possible to move all this to _ensureTableCreated_.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375799505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375800759","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-375800759","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":375800759,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTgwMDc1OQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T21:16:59Z","updated_at":"2018-03-23T21:16:59Z","author_association":"CONTRIBUTOR","body":"I think it's ok to make these changes. Not a problem to make DO_NOT_UPGRADE public if need be. Feel free to add new arguments if necessary to ensureTableCreated. I think any special logic around SYSTEM.CATALOG or SYSTEM:CATALOG is ok as long as it's isolated.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/375800759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/376329784","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-376329784","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":376329784,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjMyOTc4NA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-26T22:16:05Z","updated_at":"2018-03-26T22:17:39Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor Ok cool. I've made the changes so checks are inside _ensureTableCreated_. Please take a look now. \r\nOne thing that's confusing me is that inside our _init_ method at the moment, if an upgrade is not required, we create all other SYSTEM tables, however we don't map them to the SYSTEM namespace at that point. \r\nAs of now, when the server gets connected to for the first time i.e. no SYSTEM tables exist, we call\r\n_ensureSystemTablesMigratedToSystemNamespace_, but this just creates the HBase SYSTEM namespace and returns without migrating tables since they haven't been created yet. However, later on when we do create other SYSTEM tables, we aren't migrating them to the SYSTEM namespace right away. \r\n\r\nNow, as per the current design, whenever a second client with NS-mapping enabled connects to the server, we will migrate these SYSTEM tables to the SYSTEM namespace when _ensureSystemTablesMigratedToSystemNamespace_ is called within _init_ (with my PR, this will be called inside _ensureTableCreated_ when the table is SYSTEM.CATALOG and NS-mapping is enabled, instead of in _init_). My question is, shouldn't we map SYSTEM tables to the SYSTEM namespace immediately after creating them?\r\n","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/376329784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/376331060","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-376331060","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":376331060,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjMzMTA2MA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-26T22:21:58Z","updated_at":"2018-03-26T22:21:58Z","author_association":"CONTRIBUTOR","body":"@aertoria fyi, please take a look since @twdsilva is out. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/376331060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/378060309","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-378060309","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":378060309,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODA2MDMwOQ==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-02T22:02:01Z","updated_at":"2018-04-02T22:02:01Z","author_association":"CONTRIBUTOR","body":"@aertoria ping. Also, @JamesRTaylor please take a look.\r\nI've added an IT to test various cases encountered for system table creation/upgrade.\r\nAlso filed [PHOENIX-4684](https://issues.apache.org/jira/browse/PHOENIX-4684).","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/378060309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/378335556","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-378335556","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":378335556,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODMzNTU1Ng==","user":{"login":"ankitsinghal","id":2297609,"node_id":"MDQ6VXNlcjIyOTc2MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2297609?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsinghal","html_url":"https://github.com/ankitsinghal","followers_url":"https://api.github.com/users/ankitsinghal/followers","following_url":"https://api.github.com/users/ankitsinghal/following{/other_user}","gists_url":"https://api.github.com/users/ankitsinghal/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsinghal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsinghal/subscriptions","organizations_url":"https://api.github.com/users/ankitsinghal/orgs","repos_url":"https://api.github.com/users/ankitsinghal/repos","events_url":"https://api.github.com/users/ankitsinghal/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsinghal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-03T17:41:34Z","updated_at":"2018-04-03T17:45:58Z","author_association":"CONTRIBUTOR","body":"bq. As of now, when the server gets connected to for the first time i.e. no SYSTEM tables exist, we call\r\nensureSystemTablesMigratedToSystemNamespace, but this just creates the HBase SYSTEM namespace and returns without migrating tables since they haven't been created yet. However, later on when we do create other SYSTEM tables, we aren't migrating them to the SYSTEM namespace right away.\r\n\r\nAs per the existing implementation, if there is namespace mapping enabled and no SYSTEM table exists then CREATE TABLE should automatically create SYSTEM tables in SYSTEM namespace. There should not be a need of migrating them. It used to work like this, is it not the case now?\r\n\r\nbq. Now, as per the current design, whenever a second client with NS-mapping enabled connects to the server, we will migrate these SYSTEM tables to the SYSTEM namespace when ensureSystemTablesMigratedToSystemNamespace is called within init (with my PR, this will be called inside ensureTableCreated when the table is SYSTEM.CATALOG and NS-mapping is enabled, instead of in init). My question is, shouldn't we map SYSTEM tables to the SYSTEM namespace immediately after creating them?\r\nFirst connection will be useless, if as per the new design, SYSTEM tables are not getting created in the correct namespace.\r\n","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/378335556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380408241","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-380408241","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":380408241,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDQwODI0MQ==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T10:42:40Z","updated_at":"2018-04-11T10:42:40Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor addressed review comments on ensureSystemTablesMigratedToSystemNamespace. Basically, now we return an UpgradeRequiredException even in the case that we need to migrate SYSTEM tables to the SYSTEM namespace. Just doing that was not sufficient since we would have to run 'EXECUTE UPGRADE' once for the migration and once for the upgrade (if required). \r\n\r\nSo, to avoid this, I am storing the SYSCAT timestamp as part of the UpgradeRequiredException and I have separated the SYSCAT schema upgrade code to another method. Now we only acquire the SYSMUTEX lock once (1. if we need to just perform an upgrade OR 2. if we need to migrate SYSTEM tables to the SYSTEM namespace and/or also perform an upgrade). \r\nAdded a test for this as well. Please let me know what you think about this approach. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380408241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380597446","html_url":"https://github.com/apache/phoenix/pull/296#issuecomment-380597446","issue_url":"https://api.github.com/repos/apache/phoenix/issues/296","id":380597446,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU5NzQ0Ng==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T21:12:54Z","updated_at":"2018-04-11T21:12:54Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor please review. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380597446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380648411","html_url":"https://github.com/apache/phoenix/pull/296#issuecomment-380648411","issue_url":"https://api.github.com/repos/apache/phoenix/issues/296","id":380648411,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY0ODQxMQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T01:46:45Z","updated_at":"2018-04-12T01:46:45Z","author_association":"CONTRIBUTOR","body":"+1. Will commit soon.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380648411/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380653315","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-380653315","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":380653315,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY1MzMxNQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T02:18:12Z","updated_at":"2018-04-12T02:18:12Z","author_association":"CONTRIBUTOR","body":"This looks good. Couple of minor things for the tests, and then rebase it and I think we'll be good to go. Nice work, @ChinmaySKulkarni.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380653315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380679240","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-380679240","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":380679240,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDY3OTI0MA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T05:05:15Z","updated_at":"2018-04-12T05:06:25Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor In the current (master) implementation of upgradeSystemTables, we only create SYSMUTEX in case we catch a TableAlreadyExistsException [link](https://github.com/apache/phoenix/blob/master/phoenix-core/src/main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java#L2683) when creating SYSCAT. Why don't we create SYSMUTEX (but not acquire a lock) in case of a NewerTableAlreadyExistsException or in case SYSCAT is successfully created?\r\n\r\nI guess this is because before this JIRA: Since we only intended to use upgradeSystemTables to actually upgrade SYSTEM tables and not to create them for the first time, SYSMUTEX was already created at this point. Is my assumption correct?\r\n\r\nWith this JIRA, we now also use upgradeSystemTables to create all SYSTEM tables for the first time, so we should explicitly always try to create SYSMUTEX too.\r\n\r\nHow about we call createSysMutexTableIfNotExists before trying to create SYSCAT and then only acquire the upgrade mutex in case of a migration and/or upgrade? We won't need this lock before creation of other SYSTEM tables since competing clients will get TableAlreadyExistsException (consistent with current master implementation too).\r\n\r\nI've added the above change in my latest commit. If everything looks good, I'll go ahead and rebase my commits. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380679240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380709722","html_url":"https://github.com/apache/phoenix/pull/297#issuecomment-380709722","issue_url":"https://api.github.com/repos/apache/phoenix/issues/297","id":380709722,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDcwOTcyMg==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T07:44:00Z","updated_at":"2018-04-12T07:44:00Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor please review. Thanks @mujtabachohan for your initial patches. \r\n\r\n- Added nit changes as suggested by James on JIRA\r\n- Rebased with master\r\n- @ankitsinghal please check that this does not break anything related to your recent contributions  corresponding to Query Log [PHOENIX-2715](https://issues.apache.org/jira/browse/PHOENIX-2715). \r\nChanges are made to SYSLOG ddl statement. \"KEEP_DELETED_CELLS\" is by default false now (before the default value was true).\r\n- Ran all UTs in the that are part of PHOENIX-2715 and ran UTs that are relevant to sys table creation and upgrade -> All passed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380709722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380940655","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-380940655","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":380940655,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk0MDY1NQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T20:52:16Z","updated_at":"2018-04-12T20:52:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the updates, @ChinmaySKulkarni. Looks like you still need to rebase it. Also, one test that would be really valuable would be to:\r\n* disable auto upgrade\r\n* run execute upgrade\r\n* make some change to the HBase metadata of SYSTEM.CATALOG through  ALTER TABLE or direct HBase API call (for example, set VERSIONS to some value).\r\n* connect a client that create a new ConnectionQueryServices instance to be created(see UpdateCacheAcrossDifferentClientsIT for how to do that)\r\n* ensure that the metadata change to SYSTEM.CATALOG is not undone.\r\n* do the same with auto upgrade enabled (which might cause the change to be reverted which is ok - this is more for making sure we understand this flow in both cases)\r\n\r\nThis test will ensure that when this hits production, if we have auto upgrade disabled, we can make manual changes to the SYSTEM.CATALOG.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/380940655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381030256","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-381030256","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":381030256,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTAzMDI1Ng==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T05:45:24Z","updated_at":"2018-04-13T05:45:24Z","author_association":"CONTRIBUTOR","body":"If possible, we shouldn't modify SYSTEM table metadata after the HBase table has been created even if auto-upgrade is enabled.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381030256/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381044933","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-381044933","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":381044933,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA0NDkzMw==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T07:08:56Z","updated_at":"2018-04-13T07:08:56Z","author_association":"CONTRIBUTOR","body":"Squashed all commits and rebased. @JamesRTaylor ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381044933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381048218","html_url":"https://github.com/apache/phoenix/pull/297#issuecomment-381048218","issue_url":"https://api.github.com/repos/apache/phoenix/issues/297","id":381048218,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA0ODIxOA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T07:24:30Z","updated_at":"2018-04-13T07:24:30Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor rebased. @ankitsinghal phoenix build seems to be failing after commit 70c9c6bb2d2073bb40640a0a794032b166c4b63b for PHOENIX-4496. Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381048218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381196314","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-381196314","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":381196314,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE5NjMxNA==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T16:52:58Z","updated_at":"2018-04-13T16:52:58Z","author_association":"CONTRIBUTOR","body":"+1. Nice work, @ChinmaySKulkarni! I'll get this committed. Might need some help with a patch that applied to 5.x-HBase-2.0 branch.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381196314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381198769","html_url":"https://github.com/apache/phoenix/pull/297#issuecomment-381198769","issue_url":"https://api.github.com/repos/apache/phoenix/issues/297","id":381198769,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE5ODc2OQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T17:00:22Z","updated_at":"2018-04-13T17:00:22Z","author_association":"CONTRIBUTOR","body":"+1. Thanks for taking this to the finish line, @ChinmaySKulkarni. Is this on top of your patch for PHOENIX-4579? What order should I commit them?","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381198769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381232814","html_url":"https://github.com/apache/phoenix/pull/295#issuecomment-381232814","issue_url":"https://api.github.com/repos/apache/phoenix/issues/295","id":381232814,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTIzMjgxNA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T19:04:58Z","updated_at":"2018-04-13T19:04:58Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor the patch to 5.x-HBase-2.0 branch lgtm! Thanks!","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/381232814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/389677508","html_url":"https://github.com/apache/phoenix/pull/298#issuecomment-389677508","issue_url":"https://api.github.com/repos/apache/phoenix/issues/298","id":389677508,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTY3NzUwOA==","user":{"login":"ortutay","id":1253477,"node_id":"MDQ6VXNlcjEyNTM0Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1253477?v=4","gravatar_id":"","url":"https://api.github.com/users/ortutay","html_url":"https://github.com/ortutay","followers_url":"https://api.github.com/users/ortutay/followers","following_url":"https://api.github.com/users/ortutay/following{/other_user}","gists_url":"https://api.github.com/users/ortutay/gists{/gist_id}","starred_url":"https://api.github.com/users/ortutay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ortutay/subscriptions","organizations_url":"https://api.github.com/users/ortutay/orgs","repos_url":"https://api.github.com/users/ortutay/repos","events_url":"https://api.github.com/users/ortutay/events{/privacy}","received_events_url":"https://api.github.com/users/ortutay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-16T21:51:44Z","updated_at":"2018-05-16T21:51:44Z","author_association":"CONTRIBUTOR","body":"> Another question to consider besides the suggested changes: do we need a SQL command to remove a specific cache entry and/or purge the entire persistent cache?\r\n\r\nI think that's a good idea but I would prefer to leave it for a future enhancement PR. There's a lot of improvements that can be made once people start using this and make feature requests. ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/389677508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/391488863","html_url":"https://github.com/apache/phoenix/pull/301#issuecomment-391488863","issue_url":"https://api.github.com/repos/apache/phoenix/issues/301","id":391488863,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTQ4ODg2Mw==","user":{"login":"xjodoin","id":235402,"node_id":"MDQ6VXNlcjIzNTQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/235402?v=4","gravatar_id":"","url":"https://api.github.com/users/xjodoin","html_url":"https://github.com/xjodoin","followers_url":"https://api.github.com/users/xjodoin/followers","following_url":"https://api.github.com/users/xjodoin/following{/other_user}","gists_url":"https://api.github.com/users/xjodoin/gists{/gist_id}","starred_url":"https://api.github.com/users/xjodoin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xjodoin/subscriptions","organizations_url":"https://api.github.com/users/xjodoin/orgs","repos_url":"https://api.github.com/users/xjodoin/repos","events_url":"https://api.github.com/users/xjodoin/events{/privacy}","received_events_url":"https://api.github.com/users/xjodoin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-23T20:40:12Z","updated_at":"2018-05-23T20:40:12Z","author_association":"NONE","body":"No the problem come from the querycompiler for the upsertselect the behavior is different than a simple select query \n\nLe 23 mai 2018 16:04:46 HAE, James Taylor <notifications@github.com> a écrit :\n>JamesRTaylor commented on this pull request.\n>\n>\n>\n>> @@ -549,7 +549,7 @@ public MutationPlan compile(UpsertStatement\n>upsert) throws SQLException {\n>             select = SelectStatement.create(select, hint);\n>// Pass scan through if same table in upsert and select so that\n>projection is computed correctly\n>             // Use optimizer to choose the best plan\n>-            QueryCompiler compiler = new QueryCompiler(statement,\n>select, selectResolver, targetColumns, parallelIteratorFactoryToBe, new\n>SequenceManager(statement), false, false, null);\n>+            QueryCompiler compiler = new QueryCompiler(statement,\n>select, selectResolver, targetColumns, parallelIteratorFactoryToBe, new\n>SequenceManager(statement), true, false, null);\n>\n>This seems like too general of a change for the specific issue you're\n>trying to fix for ARRAY_APPEND. I'm also not sure *why* it would impact\n>it. Can't you make changes to ArrayAppendFunction or it's base class to\n>get the desired affect?\n>\n>Any opinions, @maryannxue. Do you remember when/why we need this\n>projectTuples boolean for QueryCompiler?\n>\n>-- \n>You are receiving this because you authored the thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/phoenix/pull/301#pullrequestreview-122745792\n\n-- \nEnvoyé de mon appareil Android avec K-9 Mail. Veuillez excuser ma brièveté.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/391488863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/391703307","html_url":"https://github.com/apache/phoenix/pull/302#issuecomment-391703307","issue_url":"https://api.github.com/repos/apache/phoenix/issues/302","id":391703307,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTcwMzMwNw==","user":{"login":"aaraujo","id":372166,"node_id":"MDQ6VXNlcjM3MjE2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/372166?v=4","gravatar_id":"","url":"https://api.github.com/users/aaraujo","html_url":"https://github.com/aaraujo","followers_url":"https://api.github.com/users/aaraujo/followers","following_url":"https://api.github.com/users/aaraujo/following{/other_user}","gists_url":"https://api.github.com/users/aaraujo/gists{/gist_id}","starred_url":"https://api.github.com/users/aaraujo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaraujo/subscriptions","organizations_url":"https://api.github.com/users/aaraujo/orgs","repos_url":"https://api.github.com/users/aaraujo/repos","events_url":"https://api.github.com/users/aaraujo/events{/privacy}","received_events_url":"https://api.github.com/users/aaraujo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-24T12:52:49Z","updated_at":"2018-05-24T12:52:49Z","author_association":"CONTRIBUTOR","body":"@joshelser created a PR in case it's easier to review","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/391703307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/392877322","html_url":"https://github.com/apache/phoenix/pull/303#issuecomment-392877322","issue_url":"https://api.github.com/repos/apache/phoenix/issues/303","id":392877322,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mjg3NzMyMg==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-29T18:02:44Z","updated_at":"2018-05-29T18:02:44Z","author_association":"CONTRIBUTOR","body":"@vincentpoon  @gjacoby126  This is the PR to support splittable system.catalog. Please review if you have some time. ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/392877322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/393957250","html_url":"https://github.com/apache/phoenix/pull/304#issuecomment-393957250","issue_url":"https://api.github.com/repos/apache/phoenix/issues/304","id":393957250,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzk1NzI1MA==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T17:44:36Z","updated_at":"2018-06-01T17:44:36Z","author_association":"CONTRIBUTOR","body":"@twdsilva @vincentpoon please review. I will be adding stuff mentioned in \"TODO\", but just wanted your feedback on this initial patch.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/393957250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/393958066","html_url":"https://github.com/apache/phoenix/pull/304#issuecomment-393958066","issue_url":"https://api.github.com/repos/apache/phoenix/issues/304","id":393958066,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzk1ODA2Ng==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T17:47:04Z","updated_at":"2018-06-01T17:47:04Z","author_association":"CONTRIBUTOR","body":"Ran into [PHOENIX-3167](https://issues.apache.org/jira/browse/PHOENIX-3167) when doing some testing for this JIRA. \r\n\r\nThis can be a bigger problem now that we force an upgrade in case column families are out of sync for a table.\r\n\r\nSteps to repro:\r\ncreate table test (id INTEGER not null primary key, name varchar(10)) TTL=1200,KEEP_DELETED_CELLS='false',REPLICATION_SCOPE='1';\r\nalter table test add cf1.random varchar(10);\r\n-> New column family cf1 inherits TTL, KEEP_DELETED_CELLS and REPLICATION_SCOPE properties\r\nalter table test set TTL=100000;\r\ncreate table if not exists test (id INTEGER not null primary key, name varchar(10)) TTL=1200,KEEP_DELETED_CELLS='false',REPLICATION_SCOPE='1';\r\n-> Modifies HBase metadata for the table so TTL for default cf is changed to 1200, whereas newly added cf1's TTL is still 100000.\r\n\r\nWith this patch, at this point, any future alter table command or create index will fail with UpgradeRequiredException since column family properties are out of sync.\r\n\r\nEven if we run the second create table with 'if not exists', same behavior.\r\nSimilar problem is seen with alter table for global index. See [PHOENIX-4743](https://issues.apache.org/jira/browse/PHOENIX-4743)\r\n@twdsilva @vincentpoon ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/393958066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/394004384","html_url":"https://github.com/apache/phoenix/pull/300#issuecomment-394004384","issue_url":"https://api.github.com/repos/apache/phoenix/issues/300","id":394004384,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDAwNDM4NA==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T20:46:09Z","updated_at":"2018-06-01T20:46:09Z","author_association":"CONTRIBUTOR","body":"Opened on behalf of @ohadshacham .","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/394004384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/396386939","html_url":"https://github.com/apache/phoenix/pull/304#issuecomment-396386939","issue_url":"https://api.github.com/repos/apache/phoenix/issues/304","id":396386939,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjM4NjkzOQ==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T21:04:54Z","updated_at":"2018-06-11T21:07:13Z","author_association":"CONTRIBUTOR","body":"I think you should add code to UpgradeUtil that runs at the next major upgrade that checks all the tables and ensures these three property values are in sync (see addParentToChildLinks for an example). Then you wouldn't need to validate that the properties are in sync in multiple places.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/396386939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/397296721","html_url":"https://github.com/apache/phoenix/pull/298#issuecomment-397296721","issue_url":"https://api.github.com/repos/apache/phoenix/issues/298","id":397296721,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzI5NjcyMQ==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-14T13:31:03Z","updated_at":"2018-06-14T13:31:03Z","author_association":"CONTRIBUTOR","body":"Is this ready to go, @ortutay? It looks pretty clean now.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/397296721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/398160002","html_url":"https://github.com/apache/phoenix/pull/298#issuecomment-398160002","issue_url":"https://api.github.com/repos/apache/phoenix/issues/298","id":398160002,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODE2MDAwMg==","user":{"login":"ortutay","id":1253477,"node_id":"MDQ6VXNlcjEyNTM0Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1253477?v=4","gravatar_id":"","url":"https://api.github.com/users/ortutay","html_url":"https://github.com/ortutay","followers_url":"https://api.github.com/users/ortutay/followers","following_url":"https://api.github.com/users/ortutay/following{/other_user}","gists_url":"https://api.github.com/users/ortutay/gists{/gist_id}","starred_url":"https://api.github.com/users/ortutay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ortutay/subscriptions","organizations_url":"https://api.github.com/users/ortutay/orgs","repos_url":"https://api.github.com/users/ortutay/repos","events_url":"https://api.github.com/users/ortutay/events{/privacy}","received_events_url":"https://api.github.com/users/ortutay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T18:59:41Z","updated_at":"2018-06-18T18:59:41Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor almost ready, we've been testing/deploying this internally and have a few small changes that I'll push out before it's ready to merge","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/398160002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/402570820","html_url":"https://github.com/apache/phoenix/pull/303#issuecomment-402570820","issue_url":"https://api.github.com/repos/apache/phoenix/issues/303","id":402570820,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjU3MDgyMA==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T23:19:04Z","updated_at":"2018-07-04T23:19:04Z","author_association":"CONTRIBUTOR","body":"+1 to the patch. Great work @twdsilva and @churrodog! I made some minor comments for some potential follow up work and had a few questions, but let's get this committed first. I'd recommend the following priority for the next JIRA as:\r\n\r\n1. Move views to their own table\r\n2. Get rid of client side code that is sending the base columns\r\n3. Fix corner case/race condition issues\r\n4. Add code that doesn't write orphaned metadata on major compaction","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/402570820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/402592482","html_url":"https://github.com/apache/phoenix/pull/306#issuecomment-402592482","issue_url":"https://api.github.com/repos/apache/phoenix/issues/306","id":402592482,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjU5MjQ4Mg==","user":{"login":"492066199","id":7246129,"node_id":"MDQ6VXNlcjcyNDYxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/7246129?v=4","gravatar_id":"","url":"https://api.github.com/users/492066199","html_url":"https://github.com/492066199","followers_url":"https://api.github.com/users/492066199/followers","following_url":"https://api.github.com/users/492066199/following{/other_user}","gists_url":"https://api.github.com/users/492066199/gists{/gist_id}","starred_url":"https://api.github.com/users/492066199/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/492066199/subscriptions","organizations_url":"https://api.github.com/users/492066199/orgs","repos_url":"https://api.github.com/users/492066199/repos","events_url":"https://api.github.com/users/492066199/events{/privacy}","received_events_url":"https://api.github.com/users/492066199/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T02:51:54Z","updated_at":"2018-07-05T02:51:54Z","author_association":"CONTRIBUTOR","body":"hi, Thanks for reminding me, I remove the wildcard imports.\r\n","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/402592482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/402911754","html_url":"https://github.com/apache/phoenix/pull/306#issuecomment-402911754","issue_url":"https://api.github.com/repos/apache/phoenix/issues/306","id":402911754,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjkxMTc1NA==","user":{"login":"492066199","id":7246129,"node_id":"MDQ6VXNlcjcyNDYxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/7246129?v=4","gravatar_id":"","url":"https://api.github.com/users/492066199","html_url":"https://github.com/492066199","followers_url":"https://api.github.com/users/492066199/followers","following_url":"https://api.github.com/users/492066199/following{/other_user}","gists_url":"https://api.github.com/users/492066199/gists{/gist_id}","starred_url":"https://api.github.com/users/492066199/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/492066199/subscriptions","organizations_url":"https://api.github.com/users/492066199/orgs","repos_url":"https://api.github.com/users/492066199/repos","events_url":"https://api.github.com/users/492066199/events{/privacy}","received_events_url":"https://api.github.com/users/492066199/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T03:02:51Z","updated_at":"2018-07-06T03:02:51Z","author_association":"CONTRIBUTOR","body":"Thank you for your advice，I've changed it to use both ”String“ Path api;\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/402911754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/403901337","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-403901337","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":403901337,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzkwMTMzNw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-10T17:21:56Z","updated_at":"2018-07-10T17:21:56Z","author_association":"MEMBER","body":"> How do we make sure requests-kerberos is built in a way that phoenixdb will grab it? (e.g. 0.13.0.dev0-phoenixdb)\r\n\r\nAh, I see this is updated in python/requests-kerberos/requests_kerberos/__init__.py. We should update python/phoenixdb/requirements.txt to make sure we pull that 0.13.0.dev0-phoenixdb, right?","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/403901337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/403936064","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-403936064","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":403936064,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzkzNjA2NA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-10T19:17:18Z","updated_at":"2018-07-10T19:17:18Z","author_association":"MEMBER","body":"Tried to run the test, but it failed with:\r\n```\r\n2018-07-10 13:43:55,599 ERROR [main] end2end.SecureQueryServerPhoenixDBIT(359): + . deactivate ''\r\n2018-07-10 13:43:55,599 ERROR [main] end2end.SecureQueryServerPhoenixDBIT(359): /Users/jelser/projects/phoenix.git/phoenix-queryserver/./src/it/bin/test_phoenixdb.sh: line 12: deactivate: No such file or directory\r\n```\r\nMight have been me hacking on things... digging more.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/403936064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/403959944","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-403959944","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":403959944,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzk1OTk0NA==","user":{"login":"geraldss","id":4130111,"node_id":"MDQ6VXNlcjQxMzAxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/4130111?v=4","gravatar_id":"","url":"https://api.github.com/users/geraldss","html_url":"https://github.com/geraldss","followers_url":"https://api.github.com/users/geraldss/followers","following_url":"https://api.github.com/users/geraldss/following{/other_user}","gists_url":"https://api.github.com/users/geraldss/gists{/gist_id}","starred_url":"https://api.github.com/users/geraldss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geraldss/subscriptions","organizations_url":"https://api.github.com/users/geraldss/orgs","repos_url":"https://api.github.com/users/geraldss/repos","events_url":"https://api.github.com/users/geraldss/events{/privacy}","received_events_url":"https://api.github.com/users/geraldss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-10T20:45:38Z","updated_at":"2018-07-10T20:45:38Z","author_association":"NONE","body":"@joshelser Thanks for the review. I can make these changes now and push them. Or should I wait for any other reviewer?","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/403959944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404213798","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404213798","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404213798,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDIxMzc5OA==","user":{"login":"pu239ppy","id":4019043,"node_id":"MDQ6VXNlcjQwMTkwNDM=","avatar_url":"https://avatars.githubusercontent.com/u/4019043?v=4","gravatar_id":"","url":"https://api.github.com/users/pu239ppy","html_url":"https://github.com/pu239ppy","followers_url":"https://api.github.com/users/pu239ppy/followers","following_url":"https://api.github.com/users/pu239ppy/following{/other_user}","gists_url":"https://api.github.com/users/pu239ppy/gists{/gist_id}","starred_url":"https://api.github.com/users/pu239ppy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pu239ppy/subscriptions","organizations_url":"https://api.github.com/users/pu239ppy/orgs","repos_url":"https://api.github.com/users/pu239ppy/repos","events_url":"https://api.github.com/users/pu239ppy/events{/privacy}","received_events_url":"https://api.github.com/users/pu239ppy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T15:34:26Z","updated_at":"2018-07-11T15:34:26Z","author_association":"CONTRIBUTOR","body":"@joshelser If you are still unable to get .deactivate to work, remove it from the shell script for now and we can revisit it.  Again I am being overly pedantic here, but a the shell exits, we really do not need to clean up any environment.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404213798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404581486","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404581486","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404581486,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU4MTQ4Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T17:02:56Z","updated_at":"2018-07-12T17:02:56Z","author_association":"MEMBER","body":"> If you are still unable to get .deactivate to work, remove it from the shell script for now and we can revisit it. Again I am being overly pedantic here, but a the shell exits, we really do not need to clean up any environment.\r\n\r\nOk. I'm looking at this again today. Thanks for the feedback so far.\r\n\r\nThe test/code looks good to me. I think we just need to update documentation to explain what we're doing (maybe a README.md in `python/`?)","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404581486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404600972","html_url":"https://github.com/apache/phoenix/pull/303#issuecomment-404600972","issue_url":"https://api.github.com/repos/apache/phoenix/issues/303","id":404600972,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDYwMDk3Mg==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T18:08:42Z","updated_at":"2018-07-12T18:08:42Z","author_association":"CONTRIBUTOR","body":"@JamesRTaylor  Thanks for the feedback, I have updated the PR. I will get this committed shortly.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404600972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404655127","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404655127","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404655127,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY1NTEyNw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T21:23:20Z","updated_at":"2018-07-12T21:23:20Z","author_association":"MEMBER","body":"Ugh, I'm getting frustrated:\r\n\r\nI have MIT kerberos on my Mac, so I unblocked myself first by just forcing the minikdc config file to be made instead of the if-branch you added, Lev.\r\n\r\nThe next thing, I get a failure trying to launch python from the virtualenv: \r\n```\r\n/Users/jelser/projects/phoenix.git/phoenix-queryserver/./src/it/bin/test_phoenixdb.sh: line 59: 66933 Illegal instruction: 4  python $PYTHON_SCRIPT $PQS_PORT\r\n```\r\n\r\nThis was reproducible doing it by hand, so I thought maybe it was related to me using python-2.7.14 (old).\r\n\r\nSo, I switched over to Python-3.6.4, reinstalled everything, and I got this.\r\n```\r\nTraceback (most recent call last):\r\n  File \"/private/var/folders/4q/q02ykc2j5l1fg8nbs_sczskh0000gp/T/tmp.iUMwkyIZ/lib/python3.6/site-packages/requests_kerberos/kerberos_.py\", line 2, in <module>\r\n    import kerberos\r\nImportError: dlopen(/private/var/folders/4q/q02ykc2j5l1fg8nbs_sczskh0000gp/T/tmp.iUMwkyIZ/lib/python3.6/site-packages/kerberos.cpython-36m-darwin.so, 2): Symbol not found: _mempcpy\r\n  Referenced from: /private/var/folders/4q/q02ykc2j5l1fg8nbs_sczskh0000gp/T/tmp.iUMwkyIZ/lib/python3.6/site-packages/kerberos.cpython-36m-darwin.so\r\n  Expected in: flat namespace\r\n in /private/var/folders/4q/q02ykc2j5l1fg8nbs_sczskh0000gp/T/tmp.iUMwkyIZ/lib/python3.6/site-packages/kerberos.cpython-36m-darwin.so\r\n```\r\n\r\nI ran into another GH issue saying that pykerberos==1.1.14 fixed it for them, but I'm not seeing a difference locally.\r\n\r\nHow do you feel about requiring Docker, @pu239ppy? ;)","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404655127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404824601","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404824601","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404824601,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDgyNDYwMQ==","user":{"login":"pu239ppy","id":4019043,"node_id":"MDQ6VXNlcjQwMTkwNDM=","avatar_url":"https://avatars.githubusercontent.com/u/4019043?v=4","gravatar_id":"","url":"https://api.github.com/users/pu239ppy","html_url":"https://github.com/pu239ppy","followers_url":"https://api.github.com/users/pu239ppy/followers","following_url":"https://api.github.com/users/pu239ppy/following{/other_user}","gists_url":"https://api.github.com/users/pu239ppy/gists{/gist_id}","starred_url":"https://api.github.com/users/pu239ppy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pu239ppy/subscriptions","organizations_url":"https://api.github.com/users/pu239ppy/orgs","repos_url":"https://api.github.com/users/pu239ppy/repos","events_url":"https://api.github.com/users/pu239ppy/events{/privacy}","received_events_url":"https://api.github.com/users/pu239ppy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T12:52:21Z","updated_at":"2018-07-13T12:53:40Z","author_association":"CONTRIBUTOR","body":"@joshelser Not sure how you got MIT on Mac OS X, is it in some ports package?  I can try this later on ubuntu perhaps, if you want a test with MIT.  I suppose integrating docker into the mix would make things interesting.  I'll try it over the weekend if I get the time.\r\n\r\nOn the other front I think the only outstanding issues we have now is\r\n- correct module version in requirements (though I am not sure it matters since we install \"by hand\" anyway)\r\n- README.md in phoenix/python to explain how this works ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404824601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404879499","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404879499","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404879499,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg3OTQ5OQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T16:10:40Z","updated_at":"2018-07-13T16:10:40Z","author_association":"MEMBER","body":"> Not sure how you got MIT on Mac OS X, is it in some ports package\r\n\r\nYeah, homebrew has a `krb5` package which I use for running stuff locally (e.g. I put it on the `PATH` before the Heimdal, osx-provided variant)\r\n\r\n>  I suppose integrating docker into the mix would make things interesting. I'll try it over the weekend if I get the time.\r\n\r\nI'm playing with different versions of python now, but am just worried about the feasibility of this actually working on the general person's machine given how much I'm struggling :\\","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404879499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404881660","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404881660","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404881660,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg4MTY2MA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T16:18:41Z","updated_at":"2018-07-13T16:18:41Z","author_association":"MEMBER","body":"Ah, I think my issue might have been cruft sitting in `python/requests-kerberos/`, the `build` dir and the `.egg-info` dir.\r\n\r\nGetting a straightforward HTTP/401 error now. That I know how to deal with :)","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404881660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404898725","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404898725","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404898725,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg5ODcyNQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T17:23:06Z","updated_at":"2018-07-13T17:23:06Z","author_association":"MEMBER","body":"Ok, where I'm at now:\r\n* Python 2.7.15 (installed via pyenv)\r\n* Using virtualenv to circumvent the .sh script\r\n* Modified the junit test to just leave it running\r\n* Modified the junit test to just use the minikdc's kdc.conf\r\n* Pulled back the pykerberos dependency to 1.1.14 to get past an \"illegal instruction error\" that I get with pykerberos-1.2.1 (or whatever pip found)\r\n\r\nThis gets the phoenixdb client to actually submit the initial POST and get the `WWW-Authenticate: Negotiate` header back. However, my client seems to be unable to generate its challenge data from our mini kdc:\r\n```\r\nDEBUG:phoenixdb.avatica.client:POST http://localhost:60358/ '\\n@org.apache.calcite.avatica.proto.Requests$CloseConnectionRequest\\x12&\\n$f71fb5c5-a814-4766-9691-8aeddfc0eea4' {'content-type': 'application/x-google-protobuf'}\r\nDEBUG:urllib3.connectionpool:Starting new HTTP connection (1): localhost:60358\r\nsend: 'POST / HTTP/1.1\\r\\nHost: localhost:60358\\r\\nConnection: keep-alive\\r\\nAccept-Encoding: gzip, deflate\\r\\nAccept: */*\\r\\nUser-Agent: python-requests/2.19.1\\r\\ncontent-type: application/x-google-protobuf\\r\\nContent-Length: 106\\r\\n\\r\\n\\n@org.apache.calcite.avatica.proto.Requests$CloseConnectionRequest\\x12&\\n$f71fb5c5-a814-4766-9691-8aeddfc0eea4'\r\nreply: 'HTTP/1.1 401 Unauthorized\\r\\n'\r\nheader: Date: Fri, 13 Jul 2018 17:06:02 GMT\r\nheader: WWW-Authenticate: Negotiate\r\nheader: Cache-Control: must-revalidate,no-cache,no-store\r\nheader: Content-Type: text/html; charset=ISO-8859-1\r\nheader: Content-Length: 281\r\nheader: Server: Jetty(9.2.19.v20160908)\r\nDEBUG:urllib3.connectionpool:http://localhost:60358 \"POST / HTTP/1.1\" 401 281\r\nDEBUG:requests_kerberos.kerberos_:handle_401(): Handling: 401\r\nERROR:requests_kerberos.kerberos_:generate_request_header(): authGSSClientStep() failed:\r\nTraceback (most recent call last):\r\n  File \"/Users/jelser/projects/phoenix.git/python/requests-kerberos/requests_kerberos/kerberos_.py\", line 235, in generate_request_header\r\n    negotiate_resp_value)\r\nGSSError: (('Unspecified GSS failure.  Minor code may provide more information', 851968), ('Message stream modified', 100001))\r\nERROR:requests_kerberos.kerberos_:(('Unspecified GSS failure.  Minor code may provide more information', 851968), ('Message stream modified', 100001))\r\nTraceback (most recent call last):\r\n  File \"/Users/jelser/projects/phoenix.git/python/requests-kerberos/requests_kerberos/kerberos_.py\", line 235, in generate_request_header\r\n    negotiate_resp_value)\r\nGSSError: (('Unspecified GSS failure.  Minor code may provide more information', 851968), ('Message stream modified', 100001))\r\n```\r\nI can't seem to unwrap what's wrong with the request to the KDC which is preventing that from happening. Need to find more debug...","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404898725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404899730","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404899730","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404899730,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg5OTczMA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T17:26:49Z","updated_at":"2018-07-13T17:26:49Z","author_association":"MEMBER","body":"Turning back on `KRB5_TRACE`...\r\n```\r\nDEBUG:phoenixdb.avatica.client:POST http://localhost:60358/ '\\n?org.apache.calcite.avatica.proto.Requests$OpenConnectionRequest\\x12&\\n$386e3317-e23e-4a0e-9fc6-2efaa546ffc4' {'content-type': 'application/x-google-protobuf'}\r\nDEBUG:urllib3.connectionpool:Starting new HTTP connection (1): localhost:60358\r\nsend: 'POST / HTTP/1.1\\r\\nHost: localhost:60358\\r\\nConnection: keep-alive\\r\\nAccept-Encoding: gzip, deflate\\r\\nAccept: */*\\r\\nUser-Agent: python-requests/2.19.1\\r\\ncontent-type: application/x-google-protobuf\\r\\nContent-Length: 105\\r\\n\\r\\n\\n?org.apache.calcite.avatica.proto.Requests$OpenConnectionRequest\\x12&\\n$386e3317-e23e-4a0e-9fc6-2efaa546ffc4'\r\nreply: 'HTTP/1.1 401 Unauthorized\\r\\n'\r\nheader: Date: Fri, 13 Jul 2018 17:23:46 GMT\r\nheader: WWW-Authenticate: Negotiate\r\nheader: Cache-Control: must-revalidate,no-cache,no-store\r\nheader: Content-Type: text/html; charset=ISO-8859-1\r\nheader: Content-Length: 281\r\nheader: Server: Jetty(9.2.19.v20160908)\r\nDEBUG:urllib3.connectionpool:http://localhost:60358 \"POST / HTTP/1.1\" 401 281\r\nDEBUG:requests_kerberos.kerberos_:handle_401(): Handling: 401\r\n[28575] 1531502626.856661: ccselect module realm chose cache FILE:/tmp/krb5cc_502 with client principal user1@EXAMPLE.COM for server principal HTTP/localhost@EXAMPLE.COM\r\n[28575] 1531502626.856662: Getting credentials user1@EXAMPLE.COM -> HTTP/localhost@ using ccache FILE:/tmp/krb5cc_502\r\n[28575] 1531502626.856663: Retrieving user1@EXAMPLE.COM -> HTTP/localhost@ from FILE:/tmp/krb5cc_502 with result: -1765328243/Matching credential not found (filename: /tmp/krb5cc_502)\r\n[28575] 1531502626.856664: Retrying user1@EXAMPLE.COM -> HTTP/localhost@EXAMPLE.COM with result: -1765328243/Matching credential not found (filename: /tmp/krb5cc_502)\r\n[28575] 1531502626.856665: Server has referral realm; starting with HTTP/localhost@EXAMPLE.COM\r\n[28575] 1531502626.856666: Retrieving user1@EXAMPLE.COM -> krbtgt/EXAMPLE.COM@EXAMPLE.COM from FILE:/tmp/krb5cc_502 with result: 0/Success\r\n[28575] 1531502626.856667: Starting with TGT for client realm: user1@EXAMPLE.COM -> krbtgt/EXAMPLE.COM@EXAMPLE.COM\r\n[28575] 1531502626.856668: Requesting tickets for HTTP/localhost@EXAMPLE.COM, referrals on\r\n[28575] 1531502626.856669: Generated subkey for TGS request: aes128-cts/86C4\r\n[28575] 1531502626.856670: etypes requested in TGS request: aes256-cts, aes128-cts, aes256-sha2, aes128-sha2, des3-cbc-sha1, rc4-hmac, camellia128-cts, camellia256-cts\r\n[28575] 1531502626.856672: Encoding request body and padata into FAST request\r\n[28575] 1531502626.856673: Sending request (807 bytes) to EXAMPLE.COM\r\n[28575] 1531502626.856674: Resolving hostname localhost\r\n[28575] 1531502626.856675: Initiating TCP connection to stream ::1:60299\r\n[28575] 1531502626.856676: Terminating TCP connection to stream ::1:60299\r\n[28575] 1531502626.856677: Initiating TCP connection to stream 127.0.0.1:60299\r\n[28575] 1531502626.856678: Sending TCP request to stream 127.0.0.1:60299\r\n[28575] 1531502626.856679: Received answer (119 bytes) from stream 127.0.0.1:60299\r\n[28575] 1531502626.856680: Terminating TCP connection to stream 127.0.0.1:60299\r\n[28575] 1531502626.856681: Sending DNS URI query for _kerberos.EXAMPLE.COM.\r\n[28575] 1531502626.856682: No URI records found\r\n[28575] 1531502626.856683: Sending DNS SRV query for _kerberos-master._udp.EXAMPLE.COM.\r\n[28575] 1531502626.856684: Sending DNS SRV query for _kerberos-master._tcp.EXAMPLE.COM.\r\n[28575] 1531502626.856685: No SRV records found\r\n[28575] 1531502626.856686: Response was not from master KDC\r\n[28575] 1531502626.856687: TGS request result: -1765328343/Message stream modified\r\n[28575] 1531502626.856688: Requesting tickets for HTTP/localhost@EXAMPLE.COM, referrals off\r\n[28575] 1531502626.856689: Generated subkey for TGS request: aes128-cts/F96F\r\n[28575] 1531502626.856690: etypes requested in TGS request: aes256-cts, aes128-cts, aes256-sha2, aes128-sha2, des3-cbc-sha1, rc4-hmac, camellia128-cts, camellia256-cts\r\n[28575] 1531502626.856692: Encoding request body and padata into FAST request\r\n[28575] 1531502626.856693: Sending request (807 bytes) to EXAMPLE.COM\r\n[28575] 1531502626.856694: Resolving hostname localhost\r\n[28575] 1531502626.856695: Initiating TCP connection to stream ::1:60299\r\n[28575] 1531502626.856696: Terminating TCP connection to stream ::1:60299\r\n[28575] 1531502626.856697: Initiating TCP connection to stream 127.0.0.1:60299\r\n[28575] 1531502626.856698: Sending TCP request to stream 127.0.0.1:60299\r\n[28575] 1531502626.856699: Received answer (119 bytes) from stream 127.0.0.1:60299\r\n[28575] 1531502626.856700: Terminating TCP connection to stream 127.0.0.1:60299\r\n[28575] 1531502626.856701: Sending DNS URI query for _kerberos.EXAMPLE.COM.\r\n[28575] 1531502626.856702: No URI records found\r\n[28575] 1531502626.856703: Sending DNS SRV query for _kerberos-master._udp.EXAMPLE.COM.\r\n[28575] 1531502626.856704: Sending DNS SRV query for _kerberos-master._tcp.EXAMPLE.COM.\r\n[28575] 1531502626.856705: No SRV records found\r\n[28575] 1531502626.856706: Response was not from master KDC\r\n[28575] 1531502626.856707: TGS request result: -1765328343/Message stream modified\r\nERROR:requests_kerberos.kerberos_:generate_request_header(): authGSSClientStep() failed:\r\nTraceback (most recent call last):\r\n  File \"/Users/jelser/projects/phoenix.git/python/requests-kerberos/requests_kerberos/kerberos_.py\", line 235, in generate_request_header\r\n    negotiate_resp_value)\r\nGSSError: (('Unspecified GSS failure.  Minor code may provide more information', 851968), ('Message stream modified', 100001))\r\nERROR:requests_kerberos.kerberos_:(('Unspecified GSS failure.  Minor code may provide more information', 851968), ('Message stream modified', 100001))\r\nTraceback (most recent call last):\r\n  File \"/Users/jelser/projects/phoenix.git/python/requests-kerberos/requests_kerberos/kerberos_.py\", line 235, in generate_request_header\r\n    negotiate_resp_value)\r\nGSSError: (('Unspecified GSS failure.  Minor code may provide more information', 851968), ('Message stream modified', 100001))\r\n```\r\n\r\nSo, definitely the KDC throwing a fit and telling us to go away: `[28575] 1531502626.856707: TGS request result: -1765328343/Message stream modified`","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404899730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404902138","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404902138","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404902138,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDkwMjEzOA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T17:36:15Z","updated_at":"2018-07-13T17:37:43Z","author_association":"MEMBER","body":"If there's a bright-side, it's something in the python code, not the test harness/setup itself. Spinning up the JDBC thin client against this setup works:\r\n```\r\n$ PHOENIX_OPTS=\"$PHOENIX_OPTS -Dsun.security.krb5.debug=true -Djava.security.krb5.conf=/Users/jelser/projects/phoenix.git/phoenix-queryserver/target/test-data/8bc1abb8-79fa-4beb-aa56-fe3ae4edff64/kdc/1531499757782/krb5.conf \" /usr/local/lib/phoenix-4.14.0-HBase-1.4/bin/sqlline-thin.py http://localhost:60358 -a SPNEGO\r\n```","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404902138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404931505","html_url":"https://github.com/apache/phoenix/pull/307#issuecomment-404931505","issue_url":"https://api.github.com/repos/apache/phoenix/issues/307","id":404931505,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDkzMTUwNQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T19:31:14Z","updated_at":"2018-07-13T19:31:14Z","author_association":"MEMBER","body":"On the note about docker, trying to think about this, I feel like a docker environment that can spin up all of the necessary stuff to run both of the python tests as well as this new one will be best.\r\n\r\nEssentially, in the docker container, we have PQS up with all of the necessary environment stuff which will make all of our current tests (and any future test) that much easier to automate.\r\n\r\nI'm also happy to try to help with that. I know you've spent a bunch of time on this already @pu239ppy","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/404931505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/405431783","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-405431783","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":405431783,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQzMTc4Mw==","user":{"login":"jaime0815","id":4024711,"node_id":"MDQ6VXNlcjQwMjQ3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/4024711?v=4","gravatar_id":"","url":"https://api.github.com/users/jaime0815","html_url":"https://github.com/jaime0815","followers_url":"https://api.github.com/users/jaime0815/followers","following_url":"https://api.github.com/users/jaime0815/following{/other_user}","gists_url":"https://api.github.com/users/jaime0815/gists{/gist_id}","starred_url":"https://api.github.com/users/jaime0815/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaime0815/subscriptions","organizations_url":"https://api.github.com/users/jaime0815/orgs","repos_url":"https://api.github.com/users/jaime0815/repos","events_url":"https://api.github.com/users/jaime0815/events{/privacy}","received_events_url":"https://api.github.com/users/jaime0815/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T01:39:00Z","updated_at":"2018-07-17T01:39:00Z","author_association":"CONTRIBUTOR","body":"*@JamesRTaylor * Thanks for your clarify.\n\n\n----------------------------------------\n   Yun Zhang\n   Best regards!\n\n\n2018-07-17 6:18 GMT+08:00 James Taylor <notifications@github.com>:\n\n> *@JamesRTaylor* commented on this pull request.\n> ------------------------------\n>\n> In phoenix-core/src/main/java/org/apache/phoenix/iterate/\n> ClientHashAggregatingResultIterator.java\n> <https://github.com/apache/phoenix/pull/308#discussion_r202842452>:\n>\n> > +    protected ImmutableBytesWritable getGroupingKey(Tuple tuple, ImmutableBytesWritable ptr) throws SQLException {\n> +        try {\n> +            ImmutableBytesWritable key = TupleUtil.getConcatenatedValue(tuple, groupByExpressions);\n> +            ptr.set(key.get(), key.getOffset(), key.getLength());\n> +            return ptr;\n> +        } catch (IOException e) {\n> +            throw new SQLException(e);\n> +        }\n> +    }\n> +\n> +    // Copied from ClientGroupedAggregatingResultIterator\n> +    protected Tuple wrapKeyValueAsResult(KeyValue keyValue) {\n> +        return new MultiKeyValueTuple(Collections.<Cell> singletonList(keyValue));\n> +    }\n> +\n> +    private void populateHash() throws SQLException {\n>\n> @geraldss <https://github.com/geraldss> - memory management is tracked by\n> the GlobalMemoryManager. Operations that potentially use memory allocate\n> (and eventually free) a set of MemoryChunk instances. You can see an\n> example of this in GroupedAggregateRegionObserver (the runtime code for\n> aggregation). If the memory used goes over a threshold (phoenix.query.maxGlobalMemoryPercentage\n> and phoenix.query.maxTenantMemoryPercentage as the allowed percentage of\n> Java heap across all queries that is allowed to be used), then the query\n> will fail. Most typically, this mechanism is used on the server side as we\n> don't typically use a lot of memory on the client-side (as we're mostly\n> doing merge joins). One example where we use this on the client side is for\n> our broadcast join implementation (see HashCacheClient) to track memory\n> held onto for Hash Join caches.\n>\n> Classes you may want to look at (or perhaps you already have?):\n> OrderedResultIterator and MappedByteBufferSortedQueue. Above a certain\n> configurable threshold (phoenix.query.spoolThresholdBytes defaults to\n> 20MB), we output results into memory mapped files. Have you tried\n> decreasing that threshold?\n>\n> Couple of JIRAs you may want to take a look at: PHOENIX-2405 (unclear if\n> this is still an issue) and PHOENIX-3289. Are you running into issues with\n> too many memory mapped files?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/phoenix/pull/308#discussion_r202842452>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AD1phzirsKewFaxyFttqCr5ybJNLnvWdks5uHREqgaJpZM4U_6wx>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/405431783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/405914323","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-405914323","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":405914323,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkxNDMyMw==","user":{"login":"MrSandmanRUS","id":13710255,"node_id":"MDQ6VXNlcjEzNzEwMjU1","avatar_url":"https://avatars.githubusercontent.com/u/13710255?v=4","gravatar_id":"","url":"https://api.github.com/users/MrSandmanRUS","html_url":"https://github.com/MrSandmanRUS","followers_url":"https://api.github.com/users/MrSandmanRUS/followers","following_url":"https://api.github.com/users/MrSandmanRUS/following{/other_user}","gists_url":"https://api.github.com/users/MrSandmanRUS/gists{/gist_id}","starred_url":"https://api.github.com/users/MrSandmanRUS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrSandmanRUS/subscriptions","organizations_url":"https://api.github.com/users/MrSandmanRUS/orgs","repos_url":"https://api.github.com/users/MrSandmanRUS/repos","events_url":"https://api.github.com/users/MrSandmanRUS/events{/privacy}","received_events_url":"https://api.github.com/users/MrSandmanRUS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T12:31:43Z","updated_at":"2018-07-18T12:31:43Z","author_association":"CONTRIBUTOR","body":"Fixed Phoenix Tracing Web Application, fixed traceserver.py","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/405914323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406437830","html_url":"https://github.com/apache/phoenix/pull/309#issuecomment-406437830","issue_url":"https://api.github.com/repos/apache/phoenix/issues/309","id":406437830,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQzNzgzMA==","user":{"login":"akshita-malhotra","id":27736628,"node_id":"MDQ6VXNlcjI3NzM2NjI4","avatar_url":"https://avatars.githubusercontent.com/u/27736628?v=4","gravatar_id":"","url":"https://api.github.com/users/akshita-malhotra","html_url":"https://github.com/akshita-malhotra","followers_url":"https://api.github.com/users/akshita-malhotra/followers","following_url":"https://api.github.com/users/akshita-malhotra/following{/other_user}","gists_url":"https://api.github.com/users/akshita-malhotra/gists{/gist_id}","starred_url":"https://api.github.com/users/akshita-malhotra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshita-malhotra/subscriptions","organizations_url":"https://api.github.com/users/akshita-malhotra/orgs","repos_url":"https://api.github.com/users/akshita-malhotra/repos","events_url":"https://api.github.com/users/akshita-malhotra/events{/privacy}","received_events_url":"https://api.github.com/users/akshita-malhotra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T22:50:00Z","updated_at":"2018-07-19T22:50:00Z","author_association":"NONE","body":"@vincentpoon @karanmehta93 @aaraujo @gjacoby126 @twdsilva   Will appreciate your review feedback! Thanks.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406437830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406478390","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-406478390","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":406478390,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQ3ODM5MA==","user":{"login":"geraldss","id":4130111,"node_id":"MDQ6VXNlcjQxMzAxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/4130111?v=4","gravatar_id":"","url":"https://api.github.com/users/geraldss","html_url":"https://github.com/geraldss","followers_url":"https://api.github.com/users/geraldss/followers","following_url":"https://api.github.com/users/geraldss/following{/other_user}","gists_url":"https://api.github.com/users/geraldss/gists{/gist_id}","starred_url":"https://api.github.com/users/geraldss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geraldss/subscriptions","organizations_url":"https://api.github.com/users/geraldss/orgs","repos_url":"https://api.github.com/users/geraldss/repos","events_url":"https://api.github.com/users/geraldss/events{/privacy}","received_events_url":"https://api.github.com/users/geraldss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T03:26:37Z","updated_at":"2018-07-20T03:26:37Z","author_association":"NONE","body":"@JamesRTaylor - I made the changes and they are ready for review. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406478390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406480821","html_url":"https://github.com/apache/phoenix/pull/309#issuecomment-406480821","issue_url":"https://api.github.com/repos/apache/phoenix/issues/309","id":406480821,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjQ4MDgyMQ==","user":{"login":"akshita-malhotra","id":27736628,"node_id":"MDQ6VXNlcjI3NzM2NjI4","avatar_url":"https://avatars.githubusercontent.com/u/27736628?v=4","gravatar_id":"","url":"https://api.github.com/users/akshita-malhotra","html_url":"https://github.com/akshita-malhotra","followers_url":"https://api.github.com/users/akshita-malhotra/followers","following_url":"https://api.github.com/users/akshita-malhotra/following{/other_user}","gists_url":"https://api.github.com/users/akshita-malhotra/gists{/gist_id}","starred_url":"https://api.github.com/users/akshita-malhotra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshita-malhotra/subscriptions","organizations_url":"https://api.github.com/users/akshita-malhotra/orgs","repos_url":"https://api.github.com/users/akshita-malhotra/repos","events_url":"https://api.github.com/users/akshita-malhotra/events{/privacy}","received_events_url":"https://api.github.com/users/akshita-malhotra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T03:45:49Z","updated_at":"2018-07-20T03:46:09Z","author_association":"NONE","body":"Thanks for the feedback @karanmehta93 ! I will look into the changes.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406480821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406561951","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406561951","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406561951,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU2MTk1MQ==","user":{"login":"SiCheng-Zheng","id":8455464,"node_id":"MDQ6VXNlcjg0NTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8455464?v=4","gravatar_id":"","url":"https://api.github.com/users/SiCheng-Zheng","html_url":"https://github.com/SiCheng-Zheng","followers_url":"https://api.github.com/users/SiCheng-Zheng/followers","following_url":"https://api.github.com/users/SiCheng-Zheng/following{/other_user}","gists_url":"https://api.github.com/users/SiCheng-Zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/SiCheng-Zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SiCheng-Zheng/subscriptions","organizations_url":"https://api.github.com/users/SiCheng-Zheng/orgs","repos_url":"https://api.github.com/users/SiCheng-Zheng/repos","events_url":"https://api.github.com/users/SiCheng-Zheng/events{/privacy}","received_events_url":"https://api.github.com/users/SiCheng-Zheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T10:35:30Z","updated_at":"2018-07-20T10:38:14Z","author_association":"NONE","body":"traceserver.py start        NO JSP Support for /, did not find org.apache.jasper.servlet.JspServlet\r\n \r\n![2018-07-20 18-33-36](https://user-images.githubusercontent.com/8455464/42998108-a008041e-8c4b-11e8-8015-88bf9bee58c2.png)\r\n@MrSandmanRUS ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406561951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406564665","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406564665","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406564665,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU2NDY2NQ==","user":{"login":"MrSandmanRUS","id":13710255,"node_id":"MDQ6VXNlcjEzNzEwMjU1","avatar_url":"https://avatars.githubusercontent.com/u/13710255?v=4","gravatar_id":"","url":"https://api.github.com/users/MrSandmanRUS","html_url":"https://github.com/MrSandmanRUS","followers_url":"https://api.github.com/users/MrSandmanRUS/followers","following_url":"https://api.github.com/users/MrSandmanRUS/following{/other_user}","gists_url":"https://api.github.com/users/MrSandmanRUS/gists{/gist_id}","starred_url":"https://api.github.com/users/MrSandmanRUS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrSandmanRUS/subscriptions","organizations_url":"https://api.github.com/users/MrSandmanRUS/orgs","repos_url":"https://api.github.com/users/MrSandmanRUS/repos","events_url":"https://api.github.com/users/MrSandmanRUS/events{/privacy}","received_events_url":"https://api.github.com/users/MrSandmanRUS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T10:47:23Z","updated_at":"2018-07-20T10:47:23Z","author_association":"CONTRIBUTOR","body":"It's ok, just info message, try to open localhost:8864\r\n@mygood ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406564665/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406568577","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406568577","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406568577,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU2ODU3Nw==","user":{"login":"SiCheng-Zheng","id":8455464,"node_id":"MDQ6VXNlcjg0NTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8455464?v=4","gravatar_id":"","url":"https://api.github.com/users/SiCheng-Zheng","html_url":"https://github.com/SiCheng-Zheng","followers_url":"https://api.github.com/users/SiCheng-Zheng/followers","following_url":"https://api.github.com/users/SiCheng-Zheng/following{/other_user}","gists_url":"https://api.github.com/users/SiCheng-Zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/SiCheng-Zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SiCheng-Zheng/subscriptions","organizations_url":"https://api.github.com/users/SiCheng-Zheng/orgs","repos_url":"https://api.github.com/users/SiCheng-Zheng/repos","events_url":"https://api.github.com/users/SiCheng-Zheng/events{/privacy}","received_events_url":"https://api.github.com/users/SiCheng-Zheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T11:04:38Z","updated_at":"2018-07-20T11:04:52Z","author_association":"NONE","body":"Tracing List is ok  but  Trace Count Chart Graph \r\nRequest URL: http://192.168.178.31:8864/trace/?action=getCount\r\nRequest Method: GET\r\nStatus Code: 500 Unknown tracename: description\r\n![image](https://user-images.githubusercontent.com/8455464/42999258-a07728ea-8c4f-11e8-8110-75d6f5e95eae.png)\r\nsee trace log \r\n![image](https://user-images.githubusercontent.com/8455464/42999272-b426b518-8c4f-11e8-9491-f6df5af9f489.png)\r\n@MrSandmanRUS ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406568577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406570655","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406570655","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406570655,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU3MDY1NQ==","user":{"login":"MrSandmanRUS","id":13710255,"node_id":"MDQ6VXNlcjEzNzEwMjU1","avatar_url":"https://avatars.githubusercontent.com/u/13710255?v=4","gravatar_id":"","url":"https://api.github.com/users/MrSandmanRUS","html_url":"https://github.com/MrSandmanRUS","followers_url":"https://api.github.com/users/MrSandmanRUS/followers","following_url":"https://api.github.com/users/MrSandmanRUS/following{/other_user}","gists_url":"https://api.github.com/users/MrSandmanRUS/gists{/gist_id}","starred_url":"https://api.github.com/users/MrSandmanRUS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrSandmanRUS/subscriptions","organizations_url":"https://api.github.com/users/MrSandmanRUS/orgs","repos_url":"https://api.github.com/users/MrSandmanRUS/repos","events_url":"https://api.github.com/users/MrSandmanRUS/events{/privacy}","received_events_url":"https://api.github.com/users/MrSandmanRUS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T11:13:49Z","updated_at":"2018-07-20T11:18:43Z","author_association":"CONTRIBUTOR","body":"Can you show me your trace table? Column “description” is standard column of this table, if you start tracing via hbase-site.xml\r\n@mygood","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406570655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406571742","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406571742","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406571742,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU3MTc0Mg==","user":{"login":"SiCheng-Zheng","id":8455464,"node_id":"MDQ6VXNlcjg0NTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8455464?v=4","gravatar_id":"","url":"https://api.github.com/users/SiCheng-Zheng","html_url":"https://github.com/SiCheng-Zheng","followers_url":"https://api.github.com/users/SiCheng-Zheng/followers","following_url":"https://api.github.com/users/SiCheng-Zheng/following{/other_user}","gists_url":"https://api.github.com/users/SiCheng-Zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/SiCheng-Zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SiCheng-Zheng/subscriptions","organizations_url":"https://api.github.com/users/SiCheng-Zheng/orgs","repos_url":"https://api.github.com/users/SiCheng-Zheng/repos","events_url":"https://api.github.com/users/SiCheng-Zheng/events{/privacy}","received_events_url":"https://api.github.com/users/SiCheng-Zheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T11:19:30Z","updated_at":"2018-07-20T11:20:37Z","author_association":"NONE","body":"hbase-site.xml  default SYSTEM.TRACING_STATS\r\n CREATE TABLE SYSTEM.TRACING_STATS (\r\n      trace_id BIGINT NOT NULL,\r\n      parent_id BIGINT NOT NULL,\r\n      span_id BIGINT NOT NULL,\r\n      description VARCHAR,\r\n      start_time BIGINT,\r\n      end_time BIGINT,\r\n      hostname VARCHAR,\r\n      tags.count SMALLINT,\r\n      annotations.count SMALLINT,\r\n      CONSTRAINT pk PRIMARY KEY (trace_id, parent_id, span_id)\r\n      )\r\nPhoenix Tracing List\r\n![image](https://user-images.githubusercontent.com/8455464/42999737-8c7c6cae-8c51-11e8-842d-334ffcf3b69e.png)\r\nIs it caused by this problem? NO JSP Support for /, did not find org.apache.jasper.servlet.JspServlet \r\n\r\n@MrSandmanRUS ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406571742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406572970","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406572970","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406572970,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU3Mjk3MA==","user":{"login":"MrSandmanRUS","id":13710255,"node_id":"MDQ6VXNlcjEzNzEwMjU1","avatar_url":"https://avatars.githubusercontent.com/u/13710255?v=4","gravatar_id":"","url":"https://api.github.com/users/MrSandmanRUS","html_url":"https://github.com/MrSandmanRUS","followers_url":"https://api.github.com/users/MrSandmanRUS/followers","following_url":"https://api.github.com/users/MrSandmanRUS/following{/other_user}","gists_url":"https://api.github.com/users/MrSandmanRUS/gists{/gist_id}","starred_url":"https://api.github.com/users/MrSandmanRUS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrSandmanRUS/subscriptions","organizations_url":"https://api.github.com/users/MrSandmanRUS/orgs","repos_url":"https://api.github.com/users/MrSandmanRUS/repos","events_url":"https://api.github.com/users/MrSandmanRUS/events{/privacy}","received_events_url":"https://api.github.com/users/MrSandmanRUS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T11:26:05Z","updated_at":"2018-07-20T11:28:42Z","author_association":"CONTRIBUTOR","body":"You use version from apache phoenix, I fixed this bug and some others, just compile my sources\r\n@mygood ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406572970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406573560","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406573560","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406573560,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU3MzU2MA==","user":{"login":"SiCheng-Zheng","id":8455464,"node_id":"MDQ6VXNlcjg0NTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8455464?v=4","gravatar_id":"","url":"https://api.github.com/users/SiCheng-Zheng","html_url":"https://github.com/SiCheng-Zheng","followers_url":"https://api.github.com/users/SiCheng-Zheng/followers","following_url":"https://api.github.com/users/SiCheng-Zheng/following{/other_user}","gists_url":"https://api.github.com/users/SiCheng-Zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/SiCheng-Zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SiCheng-Zheng/subscriptions","organizations_url":"https://api.github.com/users/SiCheng-Zheng/orgs","repos_url":"https://api.github.com/users/SiCheng-Zheng/repos","events_url":"https://api.github.com/users/SiCheng-Zheng/events{/privacy}","received_events_url":"https://api.github.com/users/SiCheng-Zheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T11:29:09Z","updated_at":"2018-07-20T11:29:09Z","author_association":"NONE","body":"apache-phoenix-4.11.0-HBase-1.1-bin 、hadoop-2.7.1\r\n@MrSandmanRUS ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406573560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406573977","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406573977","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406573977,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU3Mzk3Nw==","user":{"login":"MrSandmanRUS","id":13710255,"node_id":"MDQ6VXNlcjEzNzEwMjU1","avatar_url":"https://avatars.githubusercontent.com/u/13710255?v=4","gravatar_id":"","url":"https://api.github.com/users/MrSandmanRUS","html_url":"https://github.com/MrSandmanRUS","followers_url":"https://api.github.com/users/MrSandmanRUS/followers","following_url":"https://api.github.com/users/MrSandmanRUS/following{/other_user}","gists_url":"https://api.github.com/users/MrSandmanRUS/gists{/gist_id}","starred_url":"https://api.github.com/users/MrSandmanRUS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrSandmanRUS/subscriptions","organizations_url":"https://api.github.com/users/MrSandmanRUS/orgs","repos_url":"https://api.github.com/users/MrSandmanRUS/repos","events_url":"https://api.github.com/users/MrSandmanRUS/events{/privacy}","received_events_url":"https://api.github.com/users/MrSandmanRUS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T11:31:20Z","updated_at":"2018-07-20T11:32:57Z","author_association":"CONTRIBUTOR","body":"It's ok, clone my branch and compile only web application, then rename jars for your version, then replace it with web application phoenix jars\r\n@mygood ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406573977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406580313","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-406580313","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":406580313,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjU4MDMxMw==","user":{"login":"SiCheng-Zheng","id":8455464,"node_id":"MDQ6VXNlcjg0NTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8455464?v=4","gravatar_id":"","url":"https://api.github.com/users/SiCheng-Zheng","html_url":"https://github.com/SiCheng-Zheng","followers_url":"https://api.github.com/users/SiCheng-Zheng/followers","following_url":"https://api.github.com/users/SiCheng-Zheng/following{/other_user}","gists_url":"https://api.github.com/users/SiCheng-Zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/SiCheng-Zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SiCheng-Zheng/subscriptions","organizations_url":"https://api.github.com/users/SiCheng-Zheng/orgs","repos_url":"https://api.github.com/users/SiCheng-Zheng/repos","events_url":"https://api.github.com/users/SiCheng-Zheng/events{/privacy}","received_events_url":"https://api.github.com/users/SiCheng-Zheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T12:02:48Z","updated_at":"2018-07-20T12:02:48Z","author_association":"NONE","body":"\r\nThank you very much for the problem.\r\n\r\n@MrSandmanRUS ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406580313/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406754470","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-406754470","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":406754470,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjc1NDQ3MA==","user":{"login":"geraldss","id":4130111,"node_id":"MDQ6VXNlcjQxMzAxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/4130111?v=4","gravatar_id":"","url":"https://api.github.com/users/geraldss","html_url":"https://github.com/geraldss","followers_url":"https://api.github.com/users/geraldss/followers","following_url":"https://api.github.com/users/geraldss/following{/other_user}","gists_url":"https://api.github.com/users/geraldss/gists{/gist_id}","starred_url":"https://api.github.com/users/geraldss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geraldss/subscriptions","organizations_url":"https://api.github.com/users/geraldss/orgs","repos_url":"https://api.github.com/users/geraldss/repos","events_url":"https://api.github.com/users/geraldss/events{/privacy}","received_events_url":"https://api.github.com/users/geraldss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-21T00:03:42Z","updated_at":"2018-07-21T00:03:42Z","author_association":"NONE","body":"@JamesRTaylor - pushed another change per your feedback. Fingers crossed :) Thanks.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/406754470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407164351","html_url":"https://github.com/apache/phoenix/pull/309#issuecomment-407164351","issue_url":"https://api.github.com/repos/apache/phoenix/issues/309","id":407164351,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzE2NDM1MQ==","user":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T18:56:16Z","updated_at":"2018-07-23T18:56:16Z","author_association":"MEMBER","body":"It would be good to add some comments @akshita-malhotra once you are done with the dev part.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407164351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407212765","html_url":"https://github.com/apache/phoenix/pull/312#issuecomment-407212765","issue_url":"https://api.github.com/repos/apache/phoenix/issues/312","id":407212765,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzIxMjc2NQ==","user":{"login":"m2je","id":4871869,"node_id":"MDQ6VXNlcjQ4NzE4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/4871869?v=4","gravatar_id":"","url":"https://api.github.com/users/m2je","html_url":"https://github.com/m2je","followers_url":"https://api.github.com/users/m2je/followers","following_url":"https://api.github.com/users/m2je/following{/other_user}","gists_url":"https://api.github.com/users/m2je/gists{/gist_id}","starred_url":"https://api.github.com/users/m2je/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m2je/subscriptions","organizations_url":"https://api.github.com/users/m2je/orgs","repos_url":"https://api.github.com/users/m2je/repos","events_url":"https://api.github.com/users/m2je/events{/privacy}","received_events_url":"https://api.github.com/users/m2je/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T21:51:00Z","updated_at":"2018-07-23T21:51:00Z","author_association":"NONE","body":"needs more work","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407212765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407502319","html_url":"https://github.com/apache/phoenix/pull/313#issuecomment-407502319","issue_url":"https://api.github.com/repos/apache/phoenix/issues/313","id":407502319,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzUwMjMxOQ==","user":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T18:15:07Z","updated_at":"2018-07-24T18:15:07Z","author_association":"MEMBER","body":"Just curious, why not use `SYSTEM.MUTEX` table for this? Its a table specially added for use-cases that need time based expiration and distributed locks.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407502319/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407508559","html_url":"https://github.com/apache/phoenix/pull/313#issuecomment-407508559","issue_url":"https://api.github.com/repos/apache/phoenix/issues/313","id":407508559,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzUwODU1OQ==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T18:34:58Z","updated_at":"2018-07-24T18:34:58Z","author_association":"CONTRIBUTOR","body":"Thanks for the suggestion, I will update the patch to use SYSTEM.MUTEX","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407508559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407588214","html_url":"https://github.com/apache/phoenix/pull/313#issuecomment-407588214","issue_url":"https://api.github.com/repos/apache/phoenix/issues/313","id":407588214,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU4ODIxNA==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T23:51:34Z","updated_at":"2018-07-24T23:51:34Z","author_association":"CONTRIBUTOR","body":"@karanmehta93  I have updated the PR to use SYSTEM.MUTEX, please review.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407588214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407617909","html_url":"https://github.com/apache/phoenix/pull/313#issuecomment-407617909","issue_url":"https://api.github.com/repos/apache/phoenix/issues/313","id":407617909,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzYxNzkwOQ==","user":{"login":"ChinmaySKulkarni","id":4160016,"node_id":"MDQ6VXNlcjQxNjAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4160016?v=4","gravatar_id":"","url":"https://api.github.com/users/ChinmaySKulkarni","html_url":"https://github.com/ChinmaySKulkarni","followers_url":"https://api.github.com/users/ChinmaySKulkarni/followers","following_url":"https://api.github.com/users/ChinmaySKulkarni/following{/other_user}","gists_url":"https://api.github.com/users/ChinmaySKulkarni/gists{/gist_id}","starred_url":"https://api.github.com/users/ChinmaySKulkarni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChinmaySKulkarni/subscriptions","organizations_url":"https://api.github.com/users/ChinmaySKulkarni/orgs","repos_url":"https://api.github.com/users/ChinmaySKulkarni/repos","events_url":"https://api.github.com/users/ChinmaySKulkarni/events{/privacy}","received_events_url":"https://api.github.com/users/ChinmaySKulkarni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T02:59:33Z","updated_at":"2018-07-25T02:59:33Z","author_association":"CONTRIBUTOR","body":"A few comments and nits. Do we have to do anything special to handle indexes on views? I guess a view on a view should be fine with this implementation since the physical table name would resolve to the final base table. @twdsilva ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407617909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407696137","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-407696137","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":407696137,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzY5NjEzNw==","user":{"login":"SiCheng-Zheng","id":8455464,"node_id":"MDQ6VXNlcjg0NTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8455464?v=4","gravatar_id":"","url":"https://api.github.com/users/SiCheng-Zheng","html_url":"https://github.com/SiCheng-Zheng","followers_url":"https://api.github.com/users/SiCheng-Zheng/followers","following_url":"https://api.github.com/users/SiCheng-Zheng/following{/other_user}","gists_url":"https://api.github.com/users/SiCheng-Zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/SiCheng-Zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SiCheng-Zheng/subscriptions","organizations_url":"https://api.github.com/users/SiCheng-Zheng/orgs","repos_url":"https://api.github.com/users/SiCheng-Zheng/repos","events_url":"https://api.github.com/users/SiCheng-Zheng/events{/privacy}","received_events_url":"https://api.github.com/users/SiCheng-Zheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T09:38:50Z","updated_at":"2018-07-25T09:38:50Z","author_association":"NONE","body":"You use version from apache phoenix 、hbase 、hadoop\r\n@MrSandmanRUS \r\n","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407696137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407724504","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-407724504","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":407724504,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzcyNDUwNA==","user":{"login":"MrSandmanRUS","id":13710255,"node_id":"MDQ6VXNlcjEzNzEwMjU1","avatar_url":"https://avatars.githubusercontent.com/u/13710255?v=4","gravatar_id":"","url":"https://api.github.com/users/MrSandmanRUS","html_url":"https://github.com/MrSandmanRUS","followers_url":"https://api.github.com/users/MrSandmanRUS/followers","following_url":"https://api.github.com/users/MrSandmanRUS/following{/other_user}","gists_url":"https://api.github.com/users/MrSandmanRUS/gists{/gist_id}","starred_url":"https://api.github.com/users/MrSandmanRUS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrSandmanRUS/subscriptions","organizations_url":"https://api.github.com/users/MrSandmanRUS/orgs","repos_url":"https://api.github.com/users/MrSandmanRUS/repos","events_url":"https://api.github.com/users/MrSandmanRUS/events{/privacy}","received_events_url":"https://api.github.com/users/MrSandmanRUS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T11:37:29Z","updated_at":"2018-07-25T11:37:29Z","author_association":"CONTRIBUTOR","body":"Yes\r\n@mygood","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407724504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407726421","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-407726421","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":407726421,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzcyNjQyMQ==","user":{"login":"SiCheng-Zheng","id":8455464,"node_id":"MDQ6VXNlcjg0NTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8455464?v=4","gravatar_id":"","url":"https://api.github.com/users/SiCheng-Zheng","html_url":"https://github.com/SiCheng-Zheng","followers_url":"https://api.github.com/users/SiCheng-Zheng/followers","following_url":"https://api.github.com/users/SiCheng-Zheng/following{/other_user}","gists_url":"https://api.github.com/users/SiCheng-Zheng/gists{/gist_id}","starred_url":"https://api.github.com/users/SiCheng-Zheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SiCheng-Zheng/subscriptions","organizations_url":"https://api.github.com/users/SiCheng-Zheng/orgs","repos_url":"https://api.github.com/users/SiCheng-Zheng/repos","events_url":"https://api.github.com/users/SiCheng-Zheng/events{/privacy}","received_events_url":"https://api.github.com/users/SiCheng-Zheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T11:45:59Z","updated_at":"2018-07-25T11:45:59Z","author_association":"NONE","body":"I have a problem that the data does not into SYSTEM.TRACING_STATS\r\n0: jdbc:phoenix:localhost:2181:/hbase> trace on;\r\n+----------------------+\r\n|       trace_id       |\r\n+----------------------+\r\n| 2701156331755118993  |\r\n+----------------------+\r\n1 row selected (0.001 seconds)\r\n0: jdbc:phoenix:localhost:2181:/hbase> upsert into T(a,b) values(2,2);\r\n1 row affected (0.015 seconds)\r\n0: jdbc:phoenix:localhost:2181:/hbase> trace off;\r\n+----------------------+\r\n|       trace_id       |\r\n+----------------------+\r\n| 2701156331755118993  |\r\n+----------------------+\r\n1 row selected (0.001 seconds)\r\n0: jdbc:phoenix:localhost:2181:/hbase> trace off;\r\n+-----------+\r\n| trace_id  |\r\n+-----------+\r\n+-----------+\r\nNo rows selected (0 seconds)\r\n0: jdbc:phoenix:localhost:2181:/hbase> select * from SYSTEM.TRACING_STATS where trace_id=2701156331755118993;\r\n+-----------+------------+----------+--------------+-------------+-----------+-----------+--------+--------+\r\n| TRACE_ID  | PARENT_ID  | SPAN_ID  | DESCRIPTION  | START_TIME  | END_TIME  | HOSTNAME  | COUNT  | COUNT  |\r\n+-----------+------------+----------+--------------+-------------+-----------+-----------+--------+--------+\r\n+-----------+------------+----------+--------------+-------------+-----------+-----------+--------+--------+\r\nNo rows selected (0.109 seconds)\r\n0: jdbc:phoenix:localhost:2181:/hbase> select * from SYSTEM.TRACING_STATS;\r\n+-----------+------------+----------+--------------+-------------+-----------+-----------+--------+--------+\r\n| TRACE_ID  | PARENT_ID  | SPAN_ID  | DESCRIPTION  | START_TIME  | END_TIME  | HOSTNAME  | COUNT  | COUNT  |\r\n+-----------+------------+----------+--------------+-------------+-----------+-----------+--------+--------+\r\n| 2         | 2          | 2        | upsert       | 20180720    | 20180721  | host1     | 20     | 30     |\r\n| 3         | 3          | 3        | upsert       | 20180720    | 20180721  | host1     | 10     | 30     |\r\n+-----------+------------+----------+--------------+-------------+-----------+-----------+--------+--------+\r\n2 rows selected (0.098 seconds)\r\n@MrSandmanRUS ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407726421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407748707","html_url":"https://github.com/apache/phoenix/pull/311#issuecomment-407748707","issue_url":"https://api.github.com/repos/apache/phoenix/issues/311","id":407748707,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzc0ODcwNw==","user":{"login":"MrSandmanRUS","id":13710255,"node_id":"MDQ6VXNlcjEzNzEwMjU1","avatar_url":"https://avatars.githubusercontent.com/u/13710255?v=4","gravatar_id":"","url":"https://api.github.com/users/MrSandmanRUS","html_url":"https://github.com/MrSandmanRUS","followers_url":"https://api.github.com/users/MrSandmanRUS/followers","following_url":"https://api.github.com/users/MrSandmanRUS/following{/other_user}","gists_url":"https://api.github.com/users/MrSandmanRUS/gists{/gist_id}","starred_url":"https://api.github.com/users/MrSandmanRUS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrSandmanRUS/subscriptions","organizations_url":"https://api.github.com/users/MrSandmanRUS/orgs","repos_url":"https://api.github.com/users/MrSandmanRUS/repos","events_url":"https://api.github.com/users/MrSandmanRUS/events{/privacy}","received_events_url":"https://api.github.com/users/MrSandmanRUS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T13:10:34Z","updated_at":"2018-07-25T13:10:52Z","author_association":"CONTRIBUTOR","body":"Add to hbase-site.xml:\r\n\t  <property>\r\n\t    <name>phoenix.trace.enabled</name>\r\n\t    <value>true</value>\r\n\t  </property>\r\n@mygood ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407748707/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407936223","html_url":"https://github.com/apache/phoenix/pull/313#issuecomment-407936223","issue_url":"https://api.github.com/repos/apache/phoenix/issues/313","id":407936223,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzkzNjIyMw==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T00:17:04Z","updated_at":"2018-07-26T00:17:04Z","author_association":"CONTRIBUTOR","body":"We can't add/drop columns directly to an index on a view. Views with their own child views will write a mutex using the physical table.\r\n\r\n@ChinmaySKulkarni and @karanmehta93  thanks for the feedback. I have updated the PR, please take a look.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/407936223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408242477","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-408242477","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":408242477,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODI0MjQ3Nw==","user":{"login":"geraldss","id":4130111,"node_id":"MDQ6VXNlcjQxMzAxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/4130111?v=4","gravatar_id":"","url":"https://api.github.com/users/geraldss","html_url":"https://github.com/geraldss","followers_url":"https://api.github.com/users/geraldss/followers","following_url":"https://api.github.com/users/geraldss/following{/other_user}","gists_url":"https://api.github.com/users/geraldss/gists{/gist_id}","starred_url":"https://api.github.com/users/geraldss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geraldss/subscriptions","organizations_url":"https://api.github.com/users/geraldss/orgs","repos_url":"https://api.github.com/users/geraldss/repos","events_url":"https://api.github.com/users/geraldss/events{/privacy}","received_events_url":"https://api.github.com/users/geraldss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T21:35:28Z","updated_at":"2018-07-26T21:35:28Z","author_association":"NONE","body":"Hi @JamesRTaylor, I pushed another change and replied with some comments. Please review, thanks.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408242477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408357595","html_url":"https://github.com/apache/phoenix/pull/315#issuecomment-408357595","issue_url":"https://api.github.com/repos/apache/phoenix/issues/315","id":408357595,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODM1NzU5NQ==","user":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T08:58:50Z","updated_at":"2018-07-27T08:58:50Z","author_association":"MEMBER","body":"The patch might be tricky to port to other branches. Will also look into that once the initial one gets in.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408357595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408357798","html_url":"https://github.com/apache/phoenix/pull/242#issuecomment-408357798","issue_url":"https://api.github.com/repos/apache/phoenix/issues/242","id":408357798,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODM1Nzc5OA==","user":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T08:59:39Z","updated_at":"2018-07-27T08:59:39Z","author_association":"MEMBER","body":"We decided not to follow this approach, Hence will be removing the reference to this PR from JIRA.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408357798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408548327","html_url":"https://github.com/apache/phoenix/pull/316#issuecomment-408548327","issue_url":"https://api.github.com/repos/apache/phoenix/issues/316","id":408548327,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODU0ODMyNw==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T21:56:05Z","updated_at":"2018-07-27T21:56:05Z","author_association":"CONTRIBUTOR","body":"@m2je  Thanks for the PR. Can you please update the PR so that it uses the correct branch, so that we can see only your changes? This PR currently has 250+ commits.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408548327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408548641","html_url":"https://github.com/apache/phoenix/pull/316#issuecomment-408548641","issue_url":"https://api.github.com/repos/apache/phoenix/issues/316","id":408548641,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODU0ODY0MQ==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T21:57:51Z","updated_at":"2018-07-27T21:57:51Z","author_association":"CONTRIBUTOR","body":"@m2je  Thanks for the contribution. Can you please update the PR to use the correct branch. It currently has 250+ commits, so it hard to review your changes.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408548641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408557158","html_url":"https://github.com/apache/phoenix/pull/313#issuecomment-408557158","issue_url":"https://api.github.com/repos/apache/phoenix/issues/313","id":408557158,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODU1NzE1OA==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T22:46:39Z","updated_at":"2018-07-27T22:46:39Z","author_association":"CONTRIBUTOR","body":"@ankitsinghal  I filed PHOENIX-4765 to not allow metadata changes on a base table that has child views when the request is from an older client. This will also allow us to rollback the upgraded server side jar if required. ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408557158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408562237","html_url":"https://github.com/apache/phoenix/pull/316#issuecomment-408562237","issue_url":"https://api.github.com/repos/apache/phoenix/issues/316","id":408562237,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODU2MjIzNw==","user":{"login":"m2je","id":4871869,"node_id":"MDQ6VXNlcjQ4NzE4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/4871869?v=4","gravatar_id":"","url":"https://api.github.com/users/m2je","html_url":"https://github.com/m2je","followers_url":"https://api.github.com/users/m2je/followers","following_url":"https://api.github.com/users/m2je/following{/other_user}","gists_url":"https://api.github.com/users/m2je/gists{/gist_id}","starred_url":"https://api.github.com/users/m2je/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m2je/subscriptions","organizations_url":"https://api.github.com/users/m2je/orgs","repos_url":"https://api.github.com/users/m2je/repos","events_url":"https://api.github.com/users/m2je/events{/privacy}","received_events_url":"https://api.github.com/users/m2je/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T23:23:54Z","updated_at":"2018-07-27T23:23:54Z","author_association":"NONE","body":"I don't know what happened. Let me open a new pull request   ","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408562237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408578453","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-408578453","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":408578453,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODU3ODQ1Mw==","user":{"login":"JamesRTaylor","id":6176299,"node_id":"MDQ6VXNlcjYxNzYyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6176299?v=4","gravatar_id":"","url":"https://api.github.com/users/JamesRTaylor","html_url":"https://github.com/JamesRTaylor","followers_url":"https://api.github.com/users/JamesRTaylor/followers","following_url":"https://api.github.com/users/JamesRTaylor/following{/other_user}","gists_url":"https://api.github.com/users/JamesRTaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/JamesRTaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JamesRTaylor/subscriptions","organizations_url":"https://api.github.com/users/JamesRTaylor/orgs","repos_url":"https://api.github.com/users/JamesRTaylor/repos","events_url":"https://api.github.com/users/JamesRTaylor/events{/privacy}","received_events_url":"https://api.github.com/users/JamesRTaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-28T03:07:36Z","updated_at":"2018-07-28T03:07:36Z","author_association":"CONTRIBUTOR","body":"Looks like the move of 5.x branch to become master messed up this PR. Can you please start a new pull request against the 4.x-HBase-1.4 branch (this is what was master before), @geraldss? FYI, the last step will be to get a test run with your patch in place to make sure there are no regressions. To do that, attach a .patch file to the JIRA (include the branch name in the name of the patch file) and click on the Submit Patch button. See http://phoenix.apache.org/contributing.html#Generate_a_patch for more info on that.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408578453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408578645","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-408578645","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":408578645,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODU3ODY0NQ==","user":{"login":"geraldss","id":4130111,"node_id":"MDQ6VXNlcjQxMzAxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/4130111?v=4","gravatar_id":"","url":"https://api.github.com/users/geraldss","html_url":"https://github.com/geraldss","followers_url":"https://api.github.com/users/geraldss/followers","following_url":"https://api.github.com/users/geraldss/following{/other_user}","gists_url":"https://api.github.com/users/geraldss/gists{/gist_id}","starred_url":"https://api.github.com/users/geraldss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geraldss/subscriptions","organizations_url":"https://api.github.com/users/geraldss/orgs","repos_url":"https://api.github.com/users/geraldss/repos","events_url":"https://api.github.com/users/geraldss/events{/privacy}","received_events_url":"https://api.github.com/users/geraldss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-28T03:11:45Z","updated_at":"2018-07-28T03:11:45Z","author_association":"NONE","body":"@JamesRTaylor -- ok, I will submit a new PR. Can you comment on my last push and comments?","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408578645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408626086","html_url":"https://github.com/apache/phoenix/pull/313#issuecomment-408626086","issue_url":"https://api.github.com/repos/apache/phoenix/issues/313","id":408626086,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODYyNjA4Ng==","user":{"login":"twdsilva","id":5653678,"node_id":"MDQ6VXNlcjU2NTM2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5653678?v=4","gravatar_id":"","url":"https://api.github.com/users/twdsilva","html_url":"https://github.com/twdsilva","followers_url":"https://api.github.com/users/twdsilva/followers","following_url":"https://api.github.com/users/twdsilva/following{/other_user}","gists_url":"https://api.github.com/users/twdsilva/gists{/gist_id}","starred_url":"https://api.github.com/users/twdsilva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twdsilva/subscriptions","organizations_url":"https://api.github.com/users/twdsilva/orgs","repos_url":"https://api.github.com/users/twdsilva/repos","events_url":"https://api.github.com/users/twdsilva/events{/privacy}","received_events_url":"https://api.github.com/users/twdsilva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-28T18:19:04Z","updated_at":"2018-07-28T18:19:04Z","author_association":"CONTRIBUTOR","body":"@ankitsinghal  Thanks for the review. I have updated the PR to based on the feedback. Can you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408626086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408925107","html_url":"https://github.com/apache/phoenix/pull/318#issuecomment-408925107","issue_url":"https://api.github.com/repos/apache/phoenix/issues/318","id":408925107,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODkyNTEwNw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T16:27:17Z","updated_at":"2018-07-30T16:27:17Z","author_association":"MEMBER","body":"@jimmycasey can you create a corresponding Jira issue under the PHOENIX project using https://issues.apache.org/jira/secure/CreateIssue.jspa, please? We do our project mgmt/release tracking on Jira.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408925107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408978261","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-408978261","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":408978261,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODk3ODI2MQ==","user":{"login":"geraldss","id":4130111,"node_id":"MDQ6VXNlcjQxMzAxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/4130111?v=4","gravatar_id":"","url":"https://api.github.com/users/geraldss","html_url":"https://github.com/geraldss","followers_url":"https://api.github.com/users/geraldss/followers","following_url":"https://api.github.com/users/geraldss/following{/other_user}","gists_url":"https://api.github.com/users/geraldss/gists{/gist_id}","starred_url":"https://api.github.com/users/geraldss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geraldss/subscriptions","organizations_url":"https://api.github.com/users/geraldss/orgs","repos_url":"https://api.github.com/users/geraldss/repos","events_url":"https://api.github.com/users/geraldss/events{/privacy}","received_events_url":"https://api.github.com/users/geraldss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T19:15:32Z","updated_at":"2018-07-30T19:15:32Z","author_association":"NONE","body":"@JamesRTaylor - Done. I switched the PR to 4.x-HBase-1.4, attached the .patch file, and issued \"Submit Patch\".","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/408978261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/409008171","html_url":"https://github.com/apache/phoenix/pull/317#issuecomment-409008171","issue_url":"https://api.github.com/repos/apache/phoenix/issues/317","id":409008171,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTAwODE3MQ==","user":{"login":"m2je","id":4871869,"node_id":"MDQ6VXNlcjQ4NzE4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/4871869?v=4","gravatar_id":"","url":"https://api.github.com/users/m2je","html_url":"https://github.com/m2je","followers_url":"https://api.github.com/users/m2je/followers","following_url":"https://api.github.com/users/m2je/following{/other_user}","gists_url":"https://api.github.com/users/m2je/gists{/gist_id}","starred_url":"https://api.github.com/users/m2je/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m2je/subscriptions","organizations_url":"https://api.github.com/users/m2je/orgs","repos_url":"https://api.github.com/users/m2je/repos","events_url":"https://api.github.com/users/m2je/events{/privacy}","received_events_url":"https://api.github.com/users/m2je/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T20:58:41Z","updated_at":"2018-07-30T20:58:41Z","author_association":"NONE","body":"Thanks @twdsilva for the review and feed backs.\r\nI'll wait for for your teams feed back on proposed change to VIEW_INDEX_ID column and soon after getting the confirmation, I'll update this PR.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/409008171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/409017180","html_url":"https://github.com/apache/phoenix/pull/308#issuecomment-409017180","issue_url":"https://api.github.com/repos/apache/phoenix/issues/308","id":409017180,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTAxNzE4MA==","user":{"login":"geraldss","id":4130111,"node_id":"MDQ6VXNlcjQxMzAxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/4130111?v=4","gravatar_id":"","url":"https://api.github.com/users/geraldss","html_url":"https://github.com/geraldss","followers_url":"https://api.github.com/users/geraldss/followers","following_url":"https://api.github.com/users/geraldss/following{/other_user}","gists_url":"https://api.github.com/users/geraldss/gists{/gist_id}","starred_url":"https://api.github.com/users/geraldss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geraldss/subscriptions","organizations_url":"https://api.github.com/users/geraldss/orgs","repos_url":"https://api.github.com/users/geraldss/repos","events_url":"https://api.github.com/users/geraldss/events{/privacy}","received_events_url":"https://api.github.com/users/geraldss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T21:27:55Z","updated_at":"2018-07-30T21:27:55Z","author_association":"NONE","body":"@JamesRTaylor - Handled reverse sort; added explanatory comments about sorting; added tests for sorting and non-sorting, including EXPLAIN.\r\n\r\nPushed changes; uploaded new .patch file; resubmitted patch.","reactions":{"url":"https://api.github.com/repos/apache/phoenix/issues/comments/409017180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]