[{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259817895","html_url":"https://github.com/apache/incubator-heron/issues/1545#issuecomment-259817895","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1545","id":259817895,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTgxNzg5NQ==","user":{"login":"ajorgensen","id":509779,"node_id":"MDQ6VXNlcjUwOTc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/509779?v=4","gravatar_id":"","url":"https://api.github.com/users/ajorgensen","html_url":"https://github.com/ajorgensen","followers_url":"https://api.github.com/users/ajorgensen/followers","following_url":"https://api.github.com/users/ajorgensen/following{/other_user}","gists_url":"https://api.github.com/users/ajorgensen/gists{/gist_id}","starred_url":"https://api.github.com/users/ajorgensen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajorgensen/subscriptions","organizations_url":"https://api.github.com/users/ajorgensen/orgs","repos_url":"https://api.github.com/users/ajorgensen/repos","events_url":"https://api.github.com/users/ajorgensen/events{/privacy}","received_events_url":"https://api.github.com/users/ajorgensen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-10T21:51:00Z","updated_at":"2016-11-10T21:52:21Z","author_association":"CONTRIBUTOR","body":"~~@congwang why was this closed? Was it fixed somewhere else or are you closing as will not fix?~~\n\nHere is the PR https://github.com/twitter/heron/pull/1549 @congwang you can reference the issue # in the PR and it will automatically close the issue when merged FYI and that way there is a connection between the two.\n\nSee https://help.github.com/articles/closing-issues-via-commit-messages/\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259817895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259818067","html_url":"https://github.com/apache/incubator-heron/issues/1545#issuecomment-259818067","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1545","id":259818067,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTgxODA2Nw==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-10T21:51:43Z","updated_at":"2016-11-10T21:51:43Z","author_association":"CONTRIBUTOR","body":"@ajorgensen resolved via https://github.com/twitter/heron/pull/1549\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259818067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259819167","html_url":"https://github.com/apache/incubator-heron/issues/1545#issuecomment-259819167","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1545","id":259819167,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTgxOTE2Nw==","user":{"login":"ajorgensen","id":509779,"node_id":"MDQ6VXNlcjUwOTc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/509779?v=4","gravatar_id":"","url":"https://api.github.com/users/ajorgensen","html_url":"https://github.com/ajorgensen","followers_url":"https://api.github.com/users/ajorgensen/followers","following_url":"https://api.github.com/users/ajorgensen/following{/other_user}","gists_url":"https://api.github.com/users/ajorgensen/gists{/gist_id}","starred_url":"https://api.github.com/users/ajorgensen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajorgensen/subscriptions","organizations_url":"https://api.github.com/users/ajorgensen/orgs","repos_url":"https://api.github.com/users/ajorgensen/repos","events_url":"https://api.github.com/users/ajorgensen/events{/privacy}","received_events_url":"https://api.github.com/users/ajorgensen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-10T21:56:18Z","updated_at":"2016-11-10T21:56:26Z","author_association":"CONTRIBUTOR","body":"@objmagic awesome thanks for the info. @congwang thanks for fixing this!\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259819167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259829923","html_url":"https://github.com/apache/incubator-heron/issues/1552#issuecomment-259829923","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1552","id":259829923,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTgyOTkyMw==","user":{"login":"ajorgensen","id":509779,"node_id":"MDQ6VXNlcjUwOTc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/509779?v=4","gravatar_id":"","url":"https://api.github.com/users/ajorgensen","html_url":"https://github.com/ajorgensen","followers_url":"https://api.github.com/users/ajorgensen/followers","following_url":"https://api.github.com/users/ajorgensen/following{/other_user}","gists_url":"https://api.github.com/users/ajorgensen/gists{/gist_id}","starred_url":"https://api.github.com/users/ajorgensen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajorgensen/subscriptions","organizations_url":"https://api.github.com/users/ajorgensen/orgs","repos_url":"https://api.github.com/users/ajorgensen/repos","events_url":"https://api.github.com/users/ajorgensen/events{/privacy}","received_events_url":"https://api.github.com/users/ajorgensen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-10T22:43:29Z","updated_at":"2016-11-10T22:46:38Z","author_association":"CONTRIBUTOR","body":"This commit removed the usage of the stream id and the stream component from the metrics and is just reporting them under default: https://github.com/twitter/heron/commit/557c9804af0c23952b3df7e29715f01e338884f8#diff-ee6176f97f13bdf403187bbce3dfa83bR99\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259829923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259840446","html_url":"https://github.com/apache/incubator-heron/pull/1551#issuecomment-259840446","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1551","id":259840446,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTg0MDQ0Ng==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-10T23:38:48Z","updated_at":"2016-11-10T23:38:48Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259840446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259845554","html_url":"https://github.com/apache/incubator-heron/pull/1553#issuecomment-259845554","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1553","id":259845554,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTg0NTU1NA==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T00:09:09Z","updated_at":"2016-11-11T00:09:09Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259845554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259883811","html_url":"https://github.com/apache/incubator-heron/pull/1554#issuecomment-259883811","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1554","id":259883811,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTg4MzgxMQ==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T05:23:49Z","updated_at":"2016-11-11T05:23:49Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259883811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259893817","html_url":"https://github.com/apache/incubator-heron/pull/1542#issuecomment-259893817","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1542","id":259893817,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTg5MzgxNw==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T06:55:01Z","updated_at":"2016-11-11T06:55:01Z","author_association":"CONTRIBUTOR","body":"@kramasamy - Not necessary. A container with instances is typically 4GB/4cores in size. The master out of the box will be 2GB/1 core. The memory allocated to master is configurable. \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/259893817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260036279","html_url":"https://github.com/apache/incubator-heron/pull/1542#issuecomment-260036279","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1542","id":260036279,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDAzNjI3OQ==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T19:29:29Z","updated_at":"2016-11-11T19:29:29Z","author_association":"CONTRIBUTOR","body":"thanks @ashvina \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260036279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260036481","html_url":"https://github.com/apache/incubator-heron/pull/1542#issuecomment-260036481","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1542","id":260036481,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDAzNjQ4MQ==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T19:30:27Z","updated_at":"2016-11-11T19:30:27Z","author_association":"CONTRIBUTOR","body":"@mycFelix - please test this and let us know, how it works.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260036481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260083920","html_url":"https://github.com/apache/incubator-heron/pull/1542#issuecomment-260083920","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1542","id":260083920,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDA4MzkyMA==","user":{"login":"nlu90","id":16407807,"node_id":"MDQ6VXNlcjE2NDA3ODA3","avatar_url":"https://avatars.githubusercontent.com/u/16407807?v=4","gravatar_id":"","url":"https://api.github.com/users/nlu90","html_url":"https://github.com/nlu90","followers_url":"https://api.github.com/users/nlu90/followers","following_url":"https://api.github.com/users/nlu90/following{/other_user}","gists_url":"https://api.github.com/users/nlu90/gists{/gist_id}","starred_url":"https://api.github.com/users/nlu90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlu90/subscriptions","organizations_url":"https://api.github.com/users/nlu90/orgs","repos_url":"https://api.github.com/users/nlu90/repos","events_url":"https://api.github.com/users/nlu90/events{/privacy}","received_events_url":"https://api.github.com/users/nlu90/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-12T00:03:49Z","updated_at":"2016-11-12T00:03:49Z","author_association":"MEMBER","body":"I'm new to yarn scheduler, so my question might be noob. \n\nIs the HeronMasterDriver luanched in separate containers for each topology? Will there be a case that multiple tmasters running in the same container after this change?\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260083920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260089059","html_url":"https://github.com/apache/incubator-heron/pull/1542#issuecomment-260089059","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1542","id":260089059,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDA4OTA1OQ==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-12T00:51:49Z","updated_at":"2016-11-12T00:51:49Z","author_association":"CONTRIBUTOR","body":"@nlu90 - All questions are welcomed :-)\n\nYes, one HeronMasterDriver is launched for each topology. In case of YARN, each topology is a YARN application and each app needs an app-master (called Driver in our implementation).\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260089059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260154060","html_url":"https://github.com/apache/incubator-heron/issues/831#issuecomment-260154060","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/831","id":260154060,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDE1NDA2MA==","user":{"login":"pradeep0605","id":22353703,"node_id":"MDQ6VXNlcjIyMzUzNzAz","avatar_url":"https://avatars.githubusercontent.com/u/22353703?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeep0605","html_url":"https://github.com/pradeep0605","followers_url":"https://api.github.com/users/pradeep0605/followers","following_url":"https://api.github.com/users/pradeep0605/following{/other_user}","gists_url":"https://api.github.com/users/pradeep0605/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeep0605/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeep0605/subscriptions","organizations_url":"https://api.github.com/users/pradeep0605/orgs","repos_url":"https://api.github.com/users/pradeep0605/repos","events_url":"https://api.github.com/users/pradeep0605/events{/privacy}","received_events_url":"https://api.github.com/users/pradeep0605/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-12T22:54:52Z","updated_at":"2016-11-12T22:54:52Z","author_association":"NONE","body":"I am getting the same error :\n\n$> heron\nFailed to execute PEX file, missing compatible dependencies for:\npsutil\npyyaml\n\nWas there any fix for this ? I think I did heron-client-install-0.14.4-ubuntu.sh (without the --user) once, and after running this command, I am unable to run heron at all. Can someone please let me know what can be the problem here ? I am using ubutnu 14.04.\n\nThanks\nPradeep\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260154060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260208777","html_url":"https://github.com/apache/incubator-heron/issues/1474#issuecomment-260208777","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1474","id":260208777,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDIwODc3Nw==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-13T20:04:31Z","updated_at":"2016-11-13T20:04:31Z","author_association":"CONTRIBUTOR","body":"closed via https://github.com/twitter/heron/pull/1481\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260208777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260401961","html_url":"https://github.com/apache/incubator-heron/pull/1542#issuecomment-260401961","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1542","id":260401961,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQwMTk2MQ==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T17:28:57Z","updated_at":"2016-11-14T17:28:57Z","author_association":"CONTRIBUTOR","body":"@nlu90 = any other questions?\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260401961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260439268","html_url":"https://github.com/apache/incubator-heron/pull/1557#issuecomment-260439268","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1557","id":260439268,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQzOTI2OA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T19:38:37Z","updated_at":"2016-11-14T19:38:37Z","author_association":"CONTRIBUTOR","body":"üëç \n\nIn the future we'll want to not mix functional changes and bug fixes with version upgrade patches.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260439268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260443512","html_url":"https://github.com/apache/incubator-heron/pull/1557#issuecomment-260443512","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1557","id":260443512,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ0MzUxMg==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T19:53:51Z","updated_at":"2016-11-14T19:53:51Z","author_association":"CONTRIBUTOR","body":"Looks good to me. üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260443512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260477161","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260477161","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260477161,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NzE2MQ==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T22:01:10Z","updated_at":"2016-11-14T22:01:10Z","author_association":"CONTRIBUTOR","body":"@billonahill This is an interesting idea. I think the algorithm can be simplified to work as follows:\nBefore you do the scaling down (step 2 in this case) compute for each container the following: number of instances of component you will scale/total number of instances in a container. So in your example the ratios will be [2/3, 2/3,2/2] as you also said in step 2 of your algorithm. Then sort the containers in decreasing order of these ratios and remove the component from the first container, update the first container's ratio and adjust its position in the ordered list if needed. Then remove again from the first container and so on until you remove all the components you want. This version avoids step 1 of your algo and also lets you decide at any point in time which container should be targeted next. Thoughts?\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260477161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260479964","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260479964","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260479964,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3OTk2NA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T22:11:42Z","updated_at":"2016-11-14T22:11:42Z","author_association":"CONTRIBUTOR","body":"+1\n\nI was thinking the same thing, which is that step 1 isn't really necessary since what matters is the relative allocation factor, not whether it's above or below the ideal. It's conceptually helpful to describe the ideal we're striving for only, but not required when implementing.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260479964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260480267","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260480267","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260480267,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ4MDI2Nw==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T22:12:54Z","updated_at":"2016-11-14T22:12:54Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260480267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260480333","html_url":"https://github.com/apache/incubator-heron/pull/1562#issuecomment-260480333","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1562","id":260480333,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ4MDMzMw==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T22:13:10Z","updated_at":"2016-11-14T22:13:10Z","author_association":"CONTRIBUTOR","body":"üëç \n\nOnce this is merged, we should tag gh-pages as well actually.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260480333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260480551","html_url":"https://github.com/apache/incubator-heron/pull/1562#issuecomment-260480551","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1562","id":260480551,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ4MDU1MQ==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T22:14:01Z","updated_at":"2016-11-14T22:14:01Z","author_association":"CONTRIBUTOR","body":"@billonahill what tag name do you want to use? `0.14.5-website`?\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260480551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260492543","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260492543","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260492543,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ5MjU0Mw==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T23:03:10Z","updated_at":"2016-11-14T23:03:10Z","author_association":"CONTRIBUTOR","body":"I see one issue with the proposed approach. As scale up results in increase in number of containers (mostly), i think scale down should prioritize reducing number of containers. \n\nThe above approach will result in the following if 1 each of A and B is added and removed\n\nT0: deploy 4 A to B\nPacking: (A A B)   (A A B)\n\nT1: scale up 1 A and 1 B\nnew packing:  (A A B) (A A B) (A B)\n\nT2: scale down A by 1\nnew packing:  (A B) (A A B) (A B)\n\nT3: scale down B by 1\nnew packing:  (A A B) (A) (A B)\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260492543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260498100","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260498100","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260498100,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ5ODEwMA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T23:30:01Z","updated_at":"2016-11-14T23:30:01Z","author_association":"CONTRIBUTOR","body":"@ashvina if T3 came after T2 you'd end up with (A B) (A B) (A B) right?\n\nEither way, yes this algorithm will be optimizing for balance over resource utilization. I think that's acceptable for now until we see how this feature is used. It's more tailored for the case where a single component is being scaled up and down by large amounts, and the balanced approach would free the previously added containers. \n\nWhen scaling down from T1 to T2 what you show seems better to me that going to  (A A B) (A A B) (B) IMO. I'm inclined to try to achieve balance and if we need to at some point we could implement a repack that isn't biased towards least disruption that just repacks everything as efficiently as possible, to prune wasted space. Kind of like a Full GC that could happen if too many scale up/downs have happened and we're fragmented.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260498100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260502079","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260502079","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260502079,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDUwMjA3OQ==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T23:51:13Z","updated_at":"2016-11-14T23:51:13Z","author_association":"CONTRIBUTOR","body":"@billonahill - In the example, event T3 is scaling-down component B. So it will be (A A B) (A) (A B) if `allocation factors` mentioned in the description is used.\n\nIncrease in number of containers can increase the total resource cost of a topology, specially for Aurora. In Aurora all containers will be of same size (the largest one). So the `allocation factors` approach can result in higher cost. For e.g. if the cost at deployment is 100 GB, say cost after temporary scaling-up is 200 GB, cost after restoring original size could still be 200 GB.\n\nAlso should we design the default scale down approach for a specific use case? Is scaling up a single component and scaling it down expected to be the most common operation? IMO, no.  A user might scale up all the components.\n\nI think scale down should try to come as close to the packing algo as possible.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260502079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260507492","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260507492","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260507492,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDUwNzQ5Mg==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T00:21:36Z","updated_at":"2016-11-15T00:21:36Z","author_association":"CONTRIBUTOR","body":"Thinking aloud...\n\nA scale-down event will result in some disruption as processes are killed, some in-memory state will be lost etc. How about performing rebalancing and defragmentation (GC) when scale down is invoked?\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260507492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260510146","html_url":"https://github.com/apache/incubator-heron/pull/1563#issuecomment-260510146","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1563","id":260510146,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDUxMDE0Ng==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T00:36:00Z","updated_at":"2016-11-15T00:36:00Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260510146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260511280","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260511280","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260511280,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDUxMTI4MA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T00:42:37Z","updated_at":"2016-11-15T00:42:37Z","author_association":"CONTRIBUTOR","body":"My reason for suspecting that a single component will be scaled is that when we see issues in production it's typically a single component that appears to be causing back pressure. As a result I suspect it will be fairly common that a.) the initial topology will be fairly well packed and that b.) users will adjust one at a time. When that happens, it's very likely that new, fairly unbalanced containers will be added, which should be remove upon a scale down.\n\nRepacking the entire topology is something we should experiment with and possibly iterate towards, but until we have stateful processing, we (i.e. Twitter) want to optimize for least disruption in terms of plan changes, speed of execution and state loss.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260511280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260523754","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260523754","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260523754,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDUyMzc1NA==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T01:54:13Z","updated_at":"2016-11-15T01:54:13Z","author_association":"CONTRIBUTOR","body":"I agree. IMO, least disruption in terms of plan changes is important, even if the underlying engine supports elastic operations, e.g. operator scaling, task migration. That's because plan changes always come with cost.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260523754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260528384","html_url":"https://github.com/apache/incubator-heron/pull/1542#issuecomment-260528384","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1542","id":260528384,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDUyODM4NA==","user":{"login":"mycFelix","id":4719414,"node_id":"MDQ6VXNlcjQ3MTk0MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4719414?v=4","gravatar_id":"","url":"https://api.github.com/users/mycFelix","html_url":"https://github.com/mycFelix","followers_url":"https://api.github.com/users/mycFelix/followers","following_url":"https://api.github.com/users/mycFelix/following{/other_user}","gists_url":"https://api.github.com/users/mycFelix/gists{/gist_id}","starred_url":"https://api.github.com/users/mycFelix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mycFelix/subscriptions","organizations_url":"https://api.github.com/users/mycFelix/orgs","repos_url":"https://api.github.com/users/mycFelix/repos","events_url":"https://api.github.com/users/mycFelix/events{/privacy}","received_events_url":"https://api.github.com/users/mycFelix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T02:23:53Z","updated_at":"2016-11-17T02:08:09Z","author_association":"CONTRIBUTOR","body":"@kramasamy - Sorry for the delay.  It runs beautiful. \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260528384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260544373","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260544373","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260544373,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDU0NDM3Mw==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T04:27:00Z","updated_at":"2016-11-15T04:28:08Z","author_association":"CONTRIBUTOR","body":"I thought more about this based on @ashvina comments and I think that essentially @billonahill also wants to remove the containers that consist of same components whenever that possible. However, the solution he suggests is through the imbalance metric. The problem with this solution is that it might lose opportunities for removing containers because it attempts to remove components from the most loaded instances. I think we can still achieve what Bill wants (removing from newly added containers) without using the imbalance metric. The overall idea is that during scale down, we want to remove as many containers as possible (essentially from all the sets of possible solutions we want the one that minimizes the minimum container load). I think we can write an integer program that does that for not only single component scale downs but also for multiple component scale down in one command. Another approach is to use a heuristic that operates at a single component at a time. Let's take an example:\n\nWe have 9 containers with 2 As and 2 Bs (A A B B), 1 container (A,B), 1 container with (A A A A A) and 1 container (A A A) each as a result of a scale up operation. The user wants to scale down A 10 times. The heuristic woks as follows:\n\nFirst pick the containers that contain As only (2 containers in this example) and sort them based on increasing number of instances . Start removing from the first container in the list (A A A), moving to the next one (A A A A A) until both containers are removed or we do not need to remove more instances. Note that in this example, we still need to remove two instances of A.\n\nNow we look at the containers that contain As and other components as well. We sort them in increasing order of load (total number of instances per container) and break ties by sorting them in increasing number of As. So the first container in the list will be (A B). We remove A from this container (result is container (B)) and then remove A from the next container (A A B B) to get container (A B B).\n\nI think this heuristic will have the expected behavior that Bill mentioned in his original example (in cases where users want to scale up/down one component at a time) and at the same time will attempt to remove as many containers as possible. In Ashvin's example above, the container (AB) will be removed resulting in the original packing plan. \n\nAny thoughts? We can also create an integer program and solve it thorugh some optimization framework if we want to be more accurate/fancy.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260544373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260715685","html_url":"https://github.com/apache/incubator-heron/pull/1564#issuecomment-260715685","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1564","id":260715685,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDcxNTY4NQ==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T17:55:24Z","updated_at":"2016-11-15T17:55:24Z","author_association":"CONTRIBUTOR","body":"Preview effect:\n\n![image](https://cloud.githubusercontent.com/assets/3656079/20317121/9c6db7b4-ab19-11e6-9e7d-65870ceeb3fb.png)\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260715685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260717066","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260717066","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260717066,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDcxNzA2Ng==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T18:00:27Z","updated_at":"2016-11-15T18:00:27Z","author_association":"CONTRIBUTOR","body":"@avflor what you're describing sounds similar to the scoring algo that I described with the addition of a secondary sort in the event of a scoring tie, by total number of instances ascending. This way you favor draining homogeneous containers first. Sounds reasonable to me.\n\n+1\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260717066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260722415","html_url":"https://github.com/apache/incubator-heron/pull/1564#issuecomment-260722415","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1564","id":260722415,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDcyMjQxNQ==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T18:20:00Z","updated_at":"2016-11-15T18:20:00Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260722415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260735666","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260735666","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260735666,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDczNTY2Ng==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T19:07:54Z","updated_at":"2016-11-15T19:13:29Z","author_association":"CONTRIBUTOR","body":"@billonahill Yes, the basic differences are the following:\n1) We categorize the containers based on their type (containers that contain only the component we want to scale down and containers that contain a mix)\n2) The heuristic sorts the containers of each category in increasing load (total number of instances) and not decreasing.\n3) Ties are broken by sorting the containers in increasing order of number of instances of the component we want to remove.\n4) We operate on the category of homogeneous containers first and next on the category with the mix.\n\nUsing this heuristic we remove from least loaded containers thus increasing the chances of removing containers overall, but at the same time achieve the behavior we want for the scenarios you described using container categorization.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260735666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260739559","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260739559","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260739559,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDczOTU1OQ==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T19:22:14Z","updated_at":"2016-11-15T19:22:14Z","author_association":"CONTRIBUTOR","body":"@avflor - +1 looks good to me\n\n@billonahill @wangli1426 - Could you please help me understand the impact of redistributing process? Restarting an instance would require rebuilding in-memory state from an external state store. Is there any other heron system or user level cost? Could you please share some more details?\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260739559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260742713","html_url":"https://github.com/apache/incubator-heron/issues/1558#issuecomment-260742713","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1558","id":260742713,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDc0MjcxMw==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T19:33:51Z","updated_at":"2016-11-15T19:33:51Z","author_association":"CONTRIBUTOR","body":"+1\n\nAs topology is paused during scaling, it would be useful to know what is the downside of restarting a StreamManager.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260742713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260754999","html_url":"https://github.com/apache/incubator-heron/issues/1558#issuecomment-260754999","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1558","id":260754999,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDc1NDk5OQ==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T20:17:23Z","updated_at":"2016-11-15T20:17:23Z","author_association":"CONTRIBUTOR","body":"The downside is mainly timing. The restart itself is quick, but then each instance has to register and the stream manager has to register with the TMaster. If it could just update it's internal routing table, we could reduce latency due to unnecessary restart cost.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260754999/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260756961","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260756961","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260756961,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDc1Njk2MQ==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T20:24:49Z","updated_at":"2016-11-15T20:24:49Z","author_association":"CONTRIBUTOR","body":"@avflor no need to specially categorize in 1) as you describe since the homogeneous containers will have a score of 1.0 so they're naturally sort to the top, above heterogeneous.\n\n@ashvina restarting processes has start up costs in terms of time taken to shutdown/deregister plus time taken to reinitialize, as well as load on other components during service discovery, as well as re-registration with others. As a result, moving and restarting 1000s of process when adding or removing only a few, for example, would incur unnecessary cost.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260756961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260757711","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-260757711","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":260757711,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDc1NzcxMQ==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T20:27:49Z","updated_at":"2016-11-15T20:39:26Z","author_association":"CONTRIBUTOR","body":"@billonahill Note that I don't use the ratio as the score. The scoring metric now is load (total number of instances in a container). The ratio score will result in removing from overloaded containers which is not correct since you will lose opportunities for container removal. By container categorization + different scoring function you avoid these problems while still getting the behavior you want in the scenario you described. Let me give an example:\n\nLet's take the case where we have the containers (A A B B ) (A A B B ) (A A B B ) and the user wants tor remove 2As and 2 Bs. You heuristic (ration as scoring function) after removal of 2 As will result in:\n\n(A B B ) (A B B) (A A B B) and after removal of B will result in (A B ) (A B) ( A A B B). We lost an opportunity here to remove one container.\n\nThe heuristic I propose will produce ( A A B B) (A A B B).\nAt the same time, it will work as you want in the example you gave in the beginning of this thread due to container categorization.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260757711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260822217","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-260822217","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":260822217,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDgyMjIxNw==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T01:07:33Z","updated_at":"2016-11-16T01:07:59Z","author_association":"CONTRIBUTOR","body":"@ashvina the only way that seems like it would happen would be if the same `PackingPlanBuilder` was used to pack/repack, then `build()` was called, and then `addInstance` was called on the builder. The expected usage is that after `build()` is called, changes can no longer be made to that builder. We need to clarify that in the builder javadocs and throw a `PackingException` if that happens, instead of a NPE.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260822217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260866436","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-260866436","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":260866436,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDg2NjQzNg==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T06:38:34Z","updated_at":"2016-11-16T06:38:34Z","author_association":"CONTRIBUTOR","body":"@billonahill - I was using `heron update` command for all the scaling related steps. Repacking happens on the client. As a new client process is launched for each update action, I dont think this issue is caused by reuse of PackingPlanBuilder. I have not been able to look into the issue in detail. I will try to add a test case for this issue tomorrow.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260866436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260874714","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-260874714","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":260874714,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDg3NDcxNA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T07:34:17Z","updated_at":"2016-11-16T07:34:17Z","author_association":"CONTRIBUTOR","body":"@ashvina let me know if you can reproduce. I'm puzzled because the first thing `addInstance` does is initialize the containers, where non-contiguous ids are supported:\nhttps://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/PackingPlanBuilder.java#L260\n\nThen we never delete containers, we just skip the empty one's when we generate the plan:\nhttps://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/PackingPlanBuilder.java#L181\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260874714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260877017","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-260877017","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":260877017,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDg3NzAxNw==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T07:48:40Z","updated_at":"2016-11-16T07:48:40Z","author_association":"CONTRIBUTOR","body":"@ashvina @billonahill I think there might be a problem with the placeFFDInsatce method in binpacking. \nThere is a for loop assuming contiguous container Ids:\nhttps://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/binpacking/FirstFitDecreasingPacking.java#L305\n\nI will investigate tomorrow.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260877017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260879151","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-260879151","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":260879151,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDg3OTE1MQ==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T08:00:25Z","updated_at":"2016-11-16T08:00:25Z","author_association":"CONTRIBUTOR","body":"@avflor that looks like it. If that's the case I have a patch already written (for another reason) that would address it. I can submit it after #1565 ships, which it is built upon.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/260879151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261031332","html_url":"https://github.com/apache/incubator-heron/pull/1565#issuecomment-261031332","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1565","id":261031332,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTAzMTMzMg==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T18:34:04Z","updated_at":"2016-11-16T18:34:04Z","author_association":"CONTRIBUTOR","body":"LGTM üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261031332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261056618","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-261056618","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":261056618,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTA1NjYxOA==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T20:07:16Z","updated_at":"2016-11-16T20:07:16Z","author_association":"CONTRIBUTOR","body":"Great! The basic idea is that the containers should still be ordered for the FFD heuristic to work but we should not assume the container Ids are contiguous.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261056618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261108979","html_url":"https://github.com/apache/incubator-heron/issues/1567#issuecomment-261108979","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1567","id":261108979,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTEwODk3OQ==","user":{"login":"congwang","id":1209787,"node_id":"MDQ6VXNlcjEyMDk3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1209787?v=4","gravatar_id":"","url":"https://api.github.com/users/congwang","html_url":"https://github.com/congwang","followers_url":"https://api.github.com/users/congwang/followers","following_url":"https://api.github.com/users/congwang/following{/other_user}","gists_url":"https://api.github.com/users/congwang/gists{/gist_id}","starred_url":"https://api.github.com/users/congwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/congwang/subscriptions","organizations_url":"https://api.github.com/users/congwang/orgs","repos_url":"https://api.github.com/users/congwang/repos","events_url":"https://api.github.com/users/congwang/events{/privacy}","received_events_url":"https://api.github.com/users/congwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T23:42:02Z","updated_at":"2016-11-16T23:42:02Z","author_association":"CONTRIBUTOR","body":"@ajorgensen How much does the following one-line fix help?\n\n```\n\ndiff --git a/heron/common/src/cpp/network/mempool.h b/heron/common/src/cpp/network/mempool.h\nindex a8467df..875e0ac 100644\n--- a/heron/common/src/cpp/network/mempool.h\n+++ b/heron/common/src/cpp/network/mempool.h\n@@ -75,6 +75,7 @@ class MemPool {\n     }\n     B* t = pool.back();\n     pool.pop_back();\n+    pool.shrink_to_fit();\n     return static_cast<M*>(t);\n   }\n\n\n```\n\nI still can't reproduce it locally with AckingTopology.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261108979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261111969","html_url":"https://github.com/apache/incubator-heron/issues/1567#issuecomment-261111969","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1567","id":261111969,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTExMTk2OQ==","user":{"login":"ajorgensen","id":509779,"node_id":"MDQ6VXNlcjUwOTc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/509779?v=4","gravatar_id":"","url":"https://api.github.com/users/ajorgensen","html_url":"https://github.com/ajorgensen","followers_url":"https://api.github.com/users/ajorgensen/followers","following_url":"https://api.github.com/users/ajorgensen/following{/other_user}","gists_url":"https://api.github.com/users/ajorgensen/gists{/gist_id}","starred_url":"https://api.github.com/users/ajorgensen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajorgensen/subscriptions","organizations_url":"https://api.github.com/users/ajorgensen/orgs","repos_url":"https://api.github.com/users/ajorgensen/repos","events_url":"https://api.github.com/users/ajorgensen/events{/privacy}","received_events_url":"https://api.github.com/users/ajorgensen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T23:58:13Z","updated_at":"2016-11-16T23:58:13Z","author_association":"CONTRIBUTOR","body":"I can try tomorrow. Ill also try to work out a reproducible test case for you if I can. \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261111969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261154882","html_url":"https://github.com/apache/incubator-heron/issues/1568#issuecomment-261154882","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1568","id":261154882,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE1NDg4Mg==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T04:50:45Z","updated_at":"2016-11-17T04:50:45Z","author_association":"CONTRIBUTOR","body":"Or, alternatively, we can remove the ack() statement in the `ConsumerBolt` to avoid misleading the users.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261154882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261155325","html_url":"https://github.com/apache/incubator-heron/pull/1569#issuecomment-261155325","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1569","id":261155325,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE1NTMyNQ==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T04:54:50Z","updated_at":"2016-11-17T05:01:53Z","author_association":"CONTRIBUTOR","body":"Sorry I did noticed that there is an `AckingTopology` demonstrating how to enable ack. So now I believe a better way here is to remove the ack() statement in `ConsumerBolt` to avoid confusing the user. I will do it in another RP.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261155325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261155558","html_url":"https://github.com/apache/incubator-heron/issues/1568#issuecomment-261155558","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1568","id":261155558,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE1NTU1OA==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T04:56:43Z","updated_at":"2016-11-17T04:56:43Z","author_association":"CONTRIBUTOR","body":"Since how to use ack is demonstrated in `AckingTopology`, I believe it's better to remove the `ack()` statement in the `ConsumerBolt`.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261155558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261156439","html_url":"https://github.com/apache/incubator-heron/issues/1568#issuecomment-261156439","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1568","id":261156439,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE1NjQzOQ==","user":{"login":"maosongfu","id":3028698,"node_id":"MDQ6VXNlcjMwMjg2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3028698?v=4","gravatar_id":"","url":"https://api.github.com/users/maosongfu","html_url":"https://github.com/maosongfu","followers_url":"https://api.github.com/users/maosongfu/followers","following_url":"https://api.github.com/users/maosongfu/following{/other_user}","gists_url":"https://api.github.com/users/maosongfu/gists{/gist_id}","starred_url":"https://api.github.com/users/maosongfu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maosongfu/subscriptions","organizations_url":"https://api.github.com/users/maosongfu/orgs","repos_url":"https://api.github.com/users/maosongfu/repos","events_url":"https://api.github.com/users/maosongfu/events{/privacy}","received_events_url":"https://api.github.com/users/maosongfu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T05:04:40Z","updated_at":"2016-11-17T05:10:38Z","author_association":"CONTRIBUTOR","body":"The example to use ack is in `AckingTopology`: https://github.com/twitter/heron/blob/master/heron/examples/src/java/com/twitter/heron/examples/AckingTopology.java\nAnd WordCountTopology is not aimed at that.\nTo remove ack() makes more sense.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261156439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261156515","html_url":"https://github.com/apache/incubator-heron/pull/1570#issuecomment-261156515","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1570","id":261156515,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE1NjUxNQ==","user":{"login":"maosongfu","id":3028698,"node_id":"MDQ6VXNlcjMwMjg2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3028698?v=4","gravatar_id":"","url":"https://api.github.com/users/maosongfu","html_url":"https://github.com/maosongfu","followers_url":"https://api.github.com/users/maosongfu/followers","following_url":"https://api.github.com/users/maosongfu/following{/other_user}","gists_url":"https://api.github.com/users/maosongfu/gists{/gist_id}","starred_url":"https://api.github.com/users/maosongfu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maosongfu/subscriptions","organizations_url":"https://api.github.com/users/maosongfu/orgs","repos_url":"https://api.github.com/users/maosongfu/repos","events_url":"https://api.github.com/users/maosongfu/events{/privacy}","received_events_url":"https://api.github.com/users/maosongfu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T05:05:19Z","updated_at":"2016-11-17T05:05:19Z","author_association":"CONTRIBUTOR","body":"looks good to me. :+1: \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261156515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261187251","html_url":"https://github.com/apache/incubator-heron/issues/1568#issuecomment-261187251","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1568","id":261187251,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE4NzI1MQ==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T08:39:16Z","updated_at":"2016-11-17T08:39:16Z","author_association":"CONTRIBUTOR","body":"@maosongfu I agree. So I closed the RP for the first approach.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261187251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261191816","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-261191816","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":261191816,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE5MTgxNg==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T09:02:24Z","updated_at":"2016-11-17T09:02:24Z","author_association":"CONTRIBUTOR","body":"@ashvina Heron currently does not support restoring operator state (you referred to as in-memory state) after restarting a heron instance. But I believe it will be achieved in the near future. \n\nThere are two ways to scale an operator. The first way is to kill all the instances of the operator and then restart a desirable number of instances. To guarantee operator state consistency, before an instance is called, the associated state should be written to a persistent storage. When new instances start, the state is restored from the persistent storage. Additional efforts are needed to decide how to re-partition the state to the instances. \n\nThe second way is to redistribute the state from the instances to delete among the existing instances, or migration partial state from existing instances to the instances to create. By control the routing rules in the stream manager and the process of state migration carefully, live migration can be achieved without restarting instances. Compared with the first method, this method significantly reduces the interruption to the data processing, but comes with high implementation complex. So I believe we can implement the first method first.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261191816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261193752","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-261193752","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":261193752,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE5Mzc1Mg==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T09:12:16Z","updated_at":"2016-11-17T09:12:16Z","author_association":"CONTRIBUTOR","body":"Is there any plan to support HeronInstance migration among different containers? With this feature, we can easily design algorithm to remove the under-utilized containers.\n\nFor instance, consider we have two containers: (A A B B)  ( B B A). After B is scaled-down to only one instance, the containers look like: (A A B) ( A ). If HeronInstance migration is supported, we can move A from the second container to the first one and release the second container.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261193752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261325400","html_url":"https://github.com/apache/incubator-heron/pull/1570#issuecomment-261325400","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1570","id":261325400,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMyNTQwMA==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T18:19:03Z","updated_at":"2016-11-17T18:19:03Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261325400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261359887","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-261359887","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":261359887,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTM1OTg4Nw==","user":{"login":"ashvina","id":10034060,"node_id":"MDQ6VXNlcjEwMDM0MDYw","avatar_url":"https://avatars.githubusercontent.com/u/10034060?v=4","gravatar_id":"","url":"https://api.github.com/users/ashvina","html_url":"https://github.com/ashvina","followers_url":"https://api.github.com/users/ashvina/followers","following_url":"https://api.github.com/users/ashvina/following{/other_user}","gists_url":"https://api.github.com/users/ashvina/gists{/gist_id}","starred_url":"https://api.github.com/users/ashvina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashvina/subscriptions","organizations_url":"https://api.github.com/users/ashvina/orgs","repos_url":"https://api.github.com/users/ashvina/repos","events_url":"https://api.github.com/users/ashvina/events{/privacy}","received_events_url":"https://api.github.com/users/ashvina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T20:27:13Z","updated_at":"2016-11-17T20:27:13Z","author_association":"CONTRIBUTOR","body":"@wangli1426 - I am not aware of anyone working on HeronInstance migration. It is a good idea and was discussed informally a couple of times in the past. \n\n@billonahill - you mentioned this in one of the comments above, \"_moving and restarting 1000s of process when adding or removing only a few, for example, would incur unnecessary cost_\". I am not sure if I understand this. If scale down is removing only a few instances, then very container plans will change. Which means defragmentation will impact few processes only.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261359887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261387424","html_url":"https://github.com/apache/incubator-heron/issues/1567#issuecomment-261387424","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1567","id":261387424,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTM4NzQyNA==","user":{"login":"congwang","id":1209787,"node_id":"MDQ6VXNlcjEyMDk3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1209787?v=4","gravatar_id":"","url":"https://api.github.com/users/congwang","html_url":"https://github.com/congwang","followers_url":"https://api.github.com/users/congwang/followers","following_url":"https://api.github.com/users/congwang/following{/other_user}","gists_url":"https://api.github.com/users/congwang/gists{/gist_id}","starred_url":"https://api.github.com/users/congwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/congwang/subscriptions","organizations_url":"https://api.github.com/users/congwang/orgs","repos_url":"https://api.github.com/users/congwang/repos","events_url":"https://api.github.com/users/congwang/events{/privacy}","received_events_url":"https://api.github.com/users/congwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T22:16:46Z","updated_at":"2016-11-17T22:16:46Z","author_association":"CONTRIBUTOR","body":"Just in case, make sure you didn't change the default config for tuple cache:\n\n```\n# The frequency in ms to drain the tuple cache in stream manager\nheron.streammgr.cache.drain.frequency.ms: 10\n\n# The sized based threshold in MB for draining the tuple cache\nheron.streammgr.cache.drain.size.mb: 100\n```\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261387424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261437710","html_url":"https://github.com/apache/incubator-heron/issues/1567#issuecomment-261437710","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1567","id":261437710,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTQzNzcxMA==","user":{"login":"ajorgensen","id":509779,"node_id":"MDQ6VXNlcjUwOTc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/509779?v=4","gravatar_id":"","url":"https://api.github.com/users/ajorgensen","html_url":"https://github.com/ajorgensen","followers_url":"https://api.github.com/users/ajorgensen/followers","following_url":"https://api.github.com/users/ajorgensen/following{/other_user}","gists_url":"https://api.github.com/users/ajorgensen/gists{/gist_id}","starred_url":"https://api.github.com/users/ajorgensen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajorgensen/subscriptions","organizations_url":"https://api.github.com/users/ajorgensen/orgs","repos_url":"https://api.github.com/users/ajorgensen/repos","events_url":"https://api.github.com/users/ajorgensen/events{/privacy}","received_events_url":"https://api.github.com/users/ajorgensen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-18T03:08:37Z","updated_at":"2016-11-18T03:08:46Z","author_association":"CONTRIBUTOR","body":"No we have both of those still at the default. \n\n@congwang what would happen if the spout could produce tuples faster than the bolt could consume them and the `maxSpoutPending` value was high? Would the spout know to stop calling `nextTuple` or would the buffer in the stream manager continue to increase until it ran out of memory?\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261437710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261644009","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-261644009","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":261644009,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTY0NDAwOQ==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-18T21:16:52Z","updated_at":"2016-11-18T21:16:52Z","author_association":"CONTRIBUTOR","body":"The patch in #1572 should address fix this issue, since it doesn't assume a contiguous id space. It sorts containers by id and iterates though each.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261644009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261644881","html_url":"https://github.com/apache/incubator-heron/issues/1567#issuecomment-261644881","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1567","id":261644881,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTY0NDg4MQ==","user":{"login":"congwang","id":1209787,"node_id":"MDQ6VXNlcjEyMDk3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1209787?v=4","gravatar_id":"","url":"https://api.github.com/users/congwang","html_url":"https://github.com/congwang","followers_url":"https://api.github.com/users/congwang/followers","following_url":"https://api.github.com/users/congwang/following{/other_user}","gists_url":"https://api.github.com/users/congwang/gists{/gist_id}","starred_url":"https://api.github.com/users/congwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/congwang/subscriptions","organizations_url":"https://api.github.com/users/congwang/orgs","repos_url":"https://api.github.com/users/congwang/repos","events_url":"https://api.github.com/users/congwang/events{/privacy}","received_events_url":"https://api.github.com/users/congwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-18T21:20:59Z","updated_at":"2016-11-19T02:08:23Z","author_association":"CONTRIBUTOR","body":"The stream manager will send back pressure to the spout in this case.\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/261644881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262029582","html_url":"https://github.com/apache/incubator-heron/pull/1571#issuecomment-262029582","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1571","id":262029582,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjAyOTU4Mg==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-21T18:46:52Z","updated_at":"2016-11-21T18:46:52Z","author_association":"CONTRIBUTOR","body":"@billonahill thanks for the suggestion. This PR still needs improvement and I'll push more commits later.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262029582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262074978","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262074978","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262074978,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjA3NDk3OA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-21T21:37:18Z","updated_at":"2016-11-21T21:37:18Z","author_association":"CONTRIBUTOR","body":"Any comments on this one? I think this change will make it much easier for us to compose rankings for how instance placement and removal should occur.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262074978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262082461","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262082461","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262082461,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjA4MjQ2MQ==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-21T22:05:43Z","updated_at":"2016-11-21T22:05:43Z","author_association":"CONTRIBUTOR","body":"@billonahill Will take a look later today","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262082461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262158227","html_url":"https://github.com/apache/incubator-heron/pull/1573#issuecomment-262158227","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1573","id":262158227,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjE1ODIyNw==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T06:24:26Z","updated_at":"2016-11-22T06:24:26Z","author_association":"CONTRIBUTOR","body":"LGTM üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262158227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262159257","html_url":"https://github.com/apache/incubator-heron/pull/1575#issuecomment-262159257","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1575","id":262159257,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjE1OTI1Nw==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T06:32:24Z","updated_at":"2016-11-22T06:32:24Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262159257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262159292","html_url":"https://github.com/apache/incubator-heron/pull/1575#issuecomment-262159292","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1575","id":262159292,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjE1OTI5Mg==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T06:32:43Z","updated_at":"2016-11-22T06:32:43Z","author_association":"CONTRIBUTOR","body":"@ashvina - can you please check?","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262159292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262163435","html_url":"https://github.com/apache/incubator-heron/pull/1575#issuecomment-262163435","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1575","id":262163435,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjE2MzQzNQ==","user":{"login":"mycFelix","id":4719414,"node_id":"MDQ6VXNlcjQ3MTk0MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4719414?v=4","gravatar_id":"","url":"https://api.github.com/users/mycFelix","html_url":"https://github.com/mycFelix","followers_url":"https://api.github.com/users/mycFelix/followers","following_url":"https://api.github.com/users/mycFelix/following{/other_user}","gists_url":"https://api.github.com/users/mycFelix/gists{/gist_id}","starred_url":"https://api.github.com/users/mycFelix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mycFelix/subscriptions","organizations_url":"https://api.github.com/users/mycFelix/orgs","repos_url":"https://api.github.com/users/mycFelix/repos","events_url":"https://api.github.com/users/mycFelix/events{/privacy}","received_events_url":"https://api.github.com/users/mycFelix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T07:02:35Z","updated_at":"2016-11-22T07:02:35Z","author_association":"CONTRIBUTOR","body":"Oops! CI tests are failed......\r\nIs there anything we could do to make the `gateway_looper_unittest` passed? ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262163435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262182314","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262182314","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262182314,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjE4MjMxNA==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T08:53:37Z","updated_at":"2016-11-22T08:55:33Z","author_association":"CONTRIBUTOR","body":"@billonahill I have reviewed this PR. It is smart to use a scorer here. Great work! I have two comments:\r\n\r\n1)  Since instance insertion is done by searching the containers from the smallest container id to the largest one until a container with enough resource is found, you may want to remove the instances of the scaling-down component from the containers in a reverse order. In this way, the container with the largest id is more likely to be empty eventually, making it possible to release this empty container in order to improve the resource utilization.\r\n\r\n2) If a container becomes empty after a component scaled down, will the container be released?\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262182314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262287100","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262287100","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262287100,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjI4NzEwMA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T16:20:12Z","updated_at":"2016-11-22T16:20:12Z","author_association":"CONTRIBUTOR","body":"@wangli1426 thanks for the comments.\r\n\r\n1. Yes, we should improve the scale down logic. In this PR though I'd keep all functionality the same and just changing the implementation to introduce the ranked approach. In a follow up we'll change the scoring logic for scale down, most likely when addressing #1560.\r\n2. Yes, in the `PackingPlanBuilder.pack()` method, empty containers get removed from the built `PackingPlan`. This happens in the `buildContainerPlans()` method, where you'll see that we `continue` in the loop if the number of container instances is zero.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262287100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262335967","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262335967","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262335967,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjMzNTk2Nw==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T19:12:51Z","updated_at":"2016-11-22T19:12:51Z","author_association":"CONTRIBUTOR","body":"I believe we've captured that used case. See how we use the two different\nconstructors to the ContainerIDScorer.\n\nOn Tue, Nov 22, 2016 at 11:02 AM avflor notifications@github.com wrote:\n\n> ## _@avflor_ commented on this pull request.\n> \n> In\n> heron/packing/src/java/com/twitter/heron/packing/builder/PackingPlanBuilder.java\n> https://github.com/twitter/heron/pull/1572#pullrequestreview-9734563:\n> \n> > -   \\* @throws com.twitter.heron.spi.packing.PackingException if the instance could not be removed\n> > -   */\n> > -  public int removeInstance(Scorer<Container> scorer, String componentName) {\n> > -    List<Scorer<Container>> scorers = new LinkedList<>();\n> > -    scorers.add(scorer);\n> > -    return removeInstance(scorers, componentName);\n> > -  }\n> >   +\n> > -  @SuppressWarnings(\"JavadocMethod\")\n> > -  /**\n> > -   \\* Remove an instance from the first container possible ranked by score. If a scoring tie exists,\n> > -   \\* uses the next scorer in the scorers list to break the tie.\n> > -   \\* @return containerId of the container the instance was removed from\n> > -   \\* @throws com.twitter.heron.spi.packing.PackingException if the instance could not be removed\n> > -   */\n> > -  public int removeInstance(List<Scorer<Container>> scorers, String componentName) {\n> \n> In the RCRR implementation, during scale down we do not always start from\n> the first container. For example if we need to scale down 2 components by 1\n> instance from containers [1...5] and the first component is removed from\n> instance 2 then the removal for the next component will start from\n> container 3. This will help with load balancing. This remove instance\n> method does not capture that. However, it is fine if a good scoring method\n> is used when we change the scale down approach as discussed in the other\n> thread.\n> \n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/twitter/heron/pull/1572#pullrequestreview-9734563,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AABczvblIJ0Vv-h2nf9dQG0EG4sexTMbks5rAzwmgaJpZM4K26I-\n> .\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262335967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262346424","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262346424","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262346424,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjM0NjQyNA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-22T19:50:02Z","updated_at":"2016-11-22T19:50:02Z","author_association":"CONTRIBUTOR","body":"Yes, that's why the constructor requires the maxId, so it can loop back to\nthe lowest and continue.\n\nOn Tue, Nov 22, 2016 at 11:18 AM avflor notifications@github.com wrote:\n\n> ## _@avflor_ commented on this pull request.\n> \n> In\n> heron/packing/src/java/com/twitter/heron/packing/builder/PackingPlanBuilder.java\n> https://github.com/twitter/heron/pull/1572:\n> \n> > -   \\* @throws com.twitter.heron.spi.packing.PackingException if the instance could not be removed\n> > -   */\n> > -  public int removeInstance(Scorer<Container> scorer, String componentName) {\n> > -    List<Scorer<Container>> scorers = new LinkedList<>();\n> > -    scorers.add(scorer);\n> > -    return removeInstance(scorers, componentName);\n> > -  }\n> >   +\n> > -  @SuppressWarnings(\"JavadocMethod\")\n> > -  /**\n> > -   \\* Remove an instance from the first container possible ranked by score. If a scoring tie exists,\n> > -   \\* uses the next scorer in the scorers list to break the tie.\n> > -   \\* @return containerId of the container the instance was removed from\n> > -   \\* @throws com.twitter.heron.spi.packing.PackingException if the instance could not be removed\n> > -   */\n> > -  public int removeInstance(List<Scorer<Container>> scorers, String componentName) {\n> \n> @billonahill https://github.com/billonahill I'm not sure if that is the\n> same. In the previous example if we pass as input to the constructor\n> container id 3 and containrId 5 then the search will stop at 5, right?\n> Wehat we ideally want is to start from 3 and use this sequence: 4,5,1,2. Is\n> that behavior captured?\n> \n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/twitter/heron/pull/1572, or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AABczkOZ2XD-GVC2Q1_HNvBgW8okdkgVks5rA0AJgaJpZM4K26I-\n> .\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262346424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262419073","html_url":"https://github.com/apache/incubator-heron/pull/1578#issuecomment-262419073","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1578","id":262419073,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjQxOTA3Mw==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-23T02:02:19Z","updated_at":"2016-11-23T02:02:19Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262419073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262591017","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262591017","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262591017,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjU5MTAxNw==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-23T18:11:51Z","updated_at":"2016-11-23T18:11:51Z","author_association":"CONTRIBUTOR","body":"@avflor @wangli1426 any other comments?","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262591017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262627967","html_url":"https://github.com/apache/incubator-heron/pull/1571#issuecomment-262627967","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1571","id":262627967,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjYyNzk2Nw==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-23T20:56:16Z","updated_at":"2016-11-23T20:56:16Z","author_association":"CONTRIBUTOR","body":"After discussion with @billonahill, we agreed that there are many other refactoring that have to be done. I'll address them in later PRs. For now, I'll push more to address some of the issues in this PR. We should then merge this PR to avoid making this PR too large. ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262627967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262631702","html_url":"https://github.com/apache/incubator-heron/pull/1573#issuecomment-262631702","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1573","id":262631702,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjYzMTcwMg==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-23T21:15:35Z","updated_at":"2016-11-23T21:15:35Z","author_association":"CONTRIBUTOR","body":"@congwang - how is the performance after moving to size in MB?","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262631702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262634672","html_url":"https://github.com/apache/incubator-heron/pull/1573#issuecomment-262634672","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1573","id":262634672,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjYzNDY3Mg==","user":{"login":"congwang","id":1209787,"node_id":"MDQ6VXNlcjEyMDk3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1209787?v=4","gravatar_id":"","url":"https://api.github.com/users/congwang","html_url":"https://github.com/congwang","followers_url":"https://api.github.com/users/congwang/followers","following_url":"https://api.github.com/users/congwang/following{/other_user}","gists_url":"https://api.github.com/users/congwang/gists{/gist_id}","starred_url":"https://api.github.com/users/congwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/congwang/subscriptions","organizations_url":"https://api.github.com/users/congwang/orgs","repos_url":"https://api.github.com/users/congwang/repos","events_url":"https://api.github.com/users/congwang/events{/privacy}","received_events_url":"https://api.github.com/users/congwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-23T21:30:42Z","updated_at":"2016-11-23T21:30:42Z","author_association":"CONTRIBUTOR","body":"I don't have a chance to test it in data center yet.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262634672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262659887","html_url":"https://github.com/apache/incubator-heron/pull/1580#issuecomment-262659887","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1580","id":262659887,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjY1OTg4Nw==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-24T00:07:11Z","updated_at":"2016-11-24T00:07:11Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262659887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262663884","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262663884","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262663884,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjY2Mzg4NA==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-24T00:41:43Z","updated_at":"2016-11-24T00:41:43Z","author_association":"CONTRIBUTOR","body":"@billionahill LGTM","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262663884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262667182","html_url":"https://github.com/apache/incubator-heron/pull/1572#issuecomment-262667182","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1572","id":262667182,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjY2NzE4Mg==","user":{"login":"wangli1426","id":5260276,"node_id":"MDQ6VXNlcjUyNjAyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5260276?v=4","gravatar_id":"","url":"https://api.github.com/users/wangli1426","html_url":"https://github.com/wangli1426","followers_url":"https://api.github.com/users/wangli1426/followers","following_url":"https://api.github.com/users/wangli1426/following{/other_user}","gists_url":"https://api.github.com/users/wangli1426/gists{/gist_id}","starred_url":"https://api.github.com/users/wangli1426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangli1426/subscriptions","organizations_url":"https://api.github.com/users/wangli1426/orgs","repos_url":"https://api.github.com/users/wangli1426/repos","events_url":"https://api.github.com/users/wangli1426/events{/privacy}","received_events_url":"https://api.github.com/users/wangli1426/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-24T01:11:03Z","updated_at":"2016-11-24T01:11:03Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262667182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262671372","html_url":"https://github.com/apache/incubator-heron/issues/1566#issuecomment-262671372","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1566","id":262671372,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjY3MTM3Mg==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-24T01:46:19Z","updated_at":"2016-11-24T01:46:19Z","author_association":"CONTRIBUTOR","body":"@ashvina I believe #1572 has addressed this issue since FFDP now places instances using a container scorer which ranks by id, instead of directly by id. Please re-open if you have a test that shows otherwise.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/262671372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263343788","html_url":"https://github.com/apache/incubator-heron/pull/1581#issuecomment-263343788","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1581","id":263343788,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzM0Mzc4OA==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-28T17:57:02Z","updated_at":"2016-11-28T17:57:02Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263343788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263345126","html_url":"https://github.com/apache/incubator-heron/pull/1581#issuecomment-263345126","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1581","id":263345126,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzM0NTEyNg==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-28T18:01:55Z","updated_at":"2016-11-28T18:01:55Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263345126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263399895","html_url":"https://github.com/apache/incubator-heron/pull/1583#issuecomment-263399895","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1583","id":263399895,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzM5OTg5NQ==","user":{"login":"congwang","id":1209787,"node_id":"MDQ6VXNlcjEyMDk3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1209787?v=4","gravatar_id":"","url":"https://api.github.com/users/congwang","html_url":"https://github.com/congwang","followers_url":"https://api.github.com/users/congwang/followers","following_url":"https://api.github.com/users/congwang/following{/other_user}","gists_url":"https://api.github.com/users/congwang/gists{/gist_id}","starred_url":"https://api.github.com/users/congwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/congwang/subscriptions","organizations_url":"https://api.github.com/users/congwang/orgs","repos_url":"https://api.github.com/users/congwang/repos","events_url":"https://api.github.com/users/congwang/events{/privacy}","received_events_url":"https://api.github.com/users/congwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-28T21:28:29Z","updated_at":"2016-11-28T21:28:29Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263399895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263402425","html_url":"https://github.com/apache/incubator-heron/pull/1583#issuecomment-263402425","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1583","id":263402425,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzQwMjQyNQ==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-28T21:38:27Z","updated_at":"2016-11-28T21:38:27Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263402425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263419272","html_url":"https://github.com/apache/incubator-heron/pull/1583#issuecomment-263419272","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1583","id":263419272,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzQxOTI3Mg==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-28T22:46:20Z","updated_at":"2016-11-28T22:46:20Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263419272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263668468","html_url":"https://github.com/apache/incubator-heron/issues/1587#issuecomment-263668468","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1587","id":263668468,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY2ODQ2OA==","user":{"login":"objmagic","id":3656079,"node_id":"MDQ6VXNlcjM2NTYwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3656079?v=4","gravatar_id":"","url":"https://api.github.com/users/objmagic","html_url":"https://github.com/objmagic","followers_url":"https://api.github.com/users/objmagic/followers","following_url":"https://api.github.com/users/objmagic/following{/other_user}","gists_url":"https://api.github.com/users/objmagic/gists{/gist_id}","starred_url":"https://api.github.com/users/objmagic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/objmagic/subscriptions","organizations_url":"https://api.github.com/users/objmagic/orgs","repos_url":"https://api.github.com/users/objmagic/repos","events_url":"https://api.github.com/users/objmagic/events{/privacy}","received_events_url":"https://api.github.com/users/objmagic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T19:14:34Z","updated_at":"2016-11-29T19:14:34Z","author_association":"CONTRIBUTOR","body":"related to https://github.com/twitter/heron/pull/1217","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263668468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263670918","html_url":"https://github.com/apache/incubator-heron/issues/1587#issuecomment-263670918","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1587","id":263670918,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY3MDkxOA==","user":{"login":"congwang","id":1209787,"node_id":"MDQ6VXNlcjEyMDk3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1209787?v=4","gravatar_id":"","url":"https://api.github.com/users/congwang","html_url":"https://github.com/congwang","followers_url":"https://api.github.com/users/congwang/followers","following_url":"https://api.github.com/users/congwang/following{/other_user}","gists_url":"https://api.github.com/users/congwang/gists{/gist_id}","starred_url":"https://api.github.com/users/congwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/congwang/subscriptions","organizations_url":"https://api.github.com/users/congwang/orgs","repos_url":"https://api.github.com/users/congwang/repos","events_url":"https://api.github.com/users/congwang/events{/privacy}","received_events_url":"https://api.github.com/users/congwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T19:23:03Z","updated_at":"2016-11-29T19:23:03Z","author_association":"CONTRIBUTOR","body":"Yeah, this one can be closed as a DUP","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263670918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263671051","html_url":"https://github.com/apache/incubator-heron/pull/1217#issuecomment-263671051","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1217","id":263671051,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY3MTA1MQ==","user":{"login":"congwang","id":1209787,"node_id":"MDQ6VXNlcjEyMDk3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1209787?v=4","gravatar_id":"","url":"https://api.github.com/users/congwang","html_url":"https://github.com/congwang","followers_url":"https://api.github.com/users/congwang/followers","following_url":"https://api.github.com/users/congwang/following{/other_user}","gists_url":"https://api.github.com/users/congwang/gists{/gist_id}","starred_url":"https://api.github.com/users/congwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/congwang/subscriptions","organizations_url":"https://api.github.com/users/congwang/orgs","repos_url":"https://api.github.com/users/congwang/repos","events_url":"https://api.github.com/users/congwang/events{/privacy}","received_events_url":"https://api.github.com/users/congwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T19:23:28Z","updated_at":"2016-11-29T19:23:28Z","author_association":"CONTRIBUTOR","body":"@kramasamy Any update on this?","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263671051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263703605","html_url":"https://github.com/apache/incubator-heron/pull/1585#issuecomment-263703605","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1585","id":263703605,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzcwMzYwNQ==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T21:25:05Z","updated_at":"2016-11-29T21:25:05Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263703605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263945720","html_url":"https://github.com/apache/incubator-heron/pull/1589#issuecomment-263945720","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1589","id":263945720,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk0NTcyMA==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T17:57:48Z","updated_at":"2016-11-30T17:57:48Z","author_association":"CONTRIBUTOR","body":"@fabianmenges - the unit tests failed. Can you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263945720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263945869","html_url":"https://github.com/apache/incubator-heron/pull/1589#issuecomment-263945869","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1589","id":263945869,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk0NTg2OQ==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T17:58:18Z","updated_at":"2016-11-30T17:58:18Z","author_association":"CONTRIBUTOR","body":"@ajorgensen - Can you please take a look at this PR since your team uses it heavily?","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263945869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263959525","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-263959525","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":263959525,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk1OTUyNQ==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T18:49:41Z","updated_at":"2016-11-30T18:49:41Z","author_association":"CONTRIBUTOR","body":"@ashvina only the container plan of the instances removed would be effected if we just removed a few of them. If we instead reshuffled all instances across all containers, then every container plan would be effected.\r\n\r\n@avflor I see what you're saying now. I mis-read the first time. Yes, we should take into account all component changes requested when selecting a container. I'll follow up on #1584 ","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263959525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263960000","html_url":"https://github.com/apache/incubator-heron/pull/1525#issuecomment-263960000","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1525","id":263960000,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk2MDAwMA==","user":{"login":"kramasamy","id":367684,"node_id":"MDQ6VXNlcjM2NzY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/367684?v=4","gravatar_id":"","url":"https://api.github.com/users/kramasamy","html_url":"https://github.com/kramasamy","followers_url":"https://api.github.com/users/kramasamy/followers","following_url":"https://api.github.com/users/kramasamy/following{/other_user}","gists_url":"https://api.github.com/users/kramasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/kramasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kramasamy/subscriptions","organizations_url":"https://api.github.com/users/kramasamy/orgs","repos_url":"https://api.github.com/users/kramasamy/repos","events_url":"https://api.github.com/users/kramasamy/events{/privacy}","received_events_url":"https://api.github.com/users/kramasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T18:51:26Z","updated_at":"2016-11-30T18:51:26Z","author_association":"CONTRIBUTOR","body":"@moomou - any update on this?","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263960000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263964904","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-263964904","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":263964904,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk2NDkwNA==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T19:09:36Z","updated_at":"2016-11-30T19:09:36Z","author_association":"CONTRIBUTOR","body":"Actualy, @avflor the algorithm you propose only works in examples like you've shows where you have a balanced plan to start with, which we've found is often not the case after scaling up. Take for example this plan:\r\n\r\n[AABB, AABB, AABB, AABB, AAAA, BBBB]\r\n\r\nIf a request is made to remove 4As and 4Bs the user would expect to remove the last two, but instead we would get this:\r\n\r\n[AABB, AABB, AAAA, BBBB]\r\n\r\nIf they did that again the would get this:\r\n\r\n[AAAA, BBBB]\r\n\r\nIf instead they scaled down 4As and 4Bs in two different scale down requests they would get back to:\r\n\r\n[AABB, AABB, AABB, AABB]\r\n\r\nI think we'd need one more set of tie breakers (see 2):\r\n1. score based on homogeneity taking all components requested into account\r\n2. break tie based on homogeneity taking just the component being scaled into account\r\n3. break tie by count of the component ascending\r\n4. break tie by count of all components ascending\r\n5. break tie by container id descending\r\n\r\nI believe this would work for both scenarios that you and I presented.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263964904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263965376","html_url":"https://github.com/apache/incubator-heron/pull/1589#issuecomment-263965376","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1589","id":263965376,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk2NTM3Ng==","user":{"login":"fabianmenges","id":3138343,"node_id":"MDQ6VXNlcjMxMzgzNDM=","avatar_url":"https://avatars.githubusercontent.com/u/3138343?v=4","gravatar_id":"","url":"https://api.github.com/users/fabianmenges","html_url":"https://github.com/fabianmenges","followers_url":"https://api.github.com/users/fabianmenges/followers","following_url":"https://api.github.com/users/fabianmenges/following{/other_user}","gists_url":"https://api.github.com/users/fabianmenges/gists{/gist_id}","starred_url":"https://api.github.com/users/fabianmenges/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabianmenges/subscriptions","organizations_url":"https://api.github.com/users/fabianmenges/orgs","repos_url":"https://api.github.com/users/fabianmenges/repos","events_url":"https://api.github.com/users/fabianmenges/events{/privacy}","received_events_url":"https://api.github.com/users/fabianmenges/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T19:11:28Z","updated_at":"2016-11-30T19:11:28Z","author_association":"CONTRIBUTOR","body":"@billonahill Thanks for your feedback. I'm a Twitter employee, I probably don't need to accept the contributors CLA.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263965376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263967187","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-263967187","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":263967187,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk2NzE4Nw==","user":{"login":"avflor","id":18666312,"node_id":"MDQ6VXNlcjE4NjY2MzEy","avatar_url":"https://avatars.githubusercontent.com/u/18666312?v=4","gravatar_id":"","url":"https://api.github.com/users/avflor","html_url":"https://github.com/avflor","followers_url":"https://api.github.com/users/avflor/followers","following_url":"https://api.github.com/users/avflor/following{/other_user}","gists_url":"https://api.github.com/users/avflor/gists{/gist_id}","starred_url":"https://api.github.com/users/avflor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avflor/subscriptions","organizations_url":"https://api.github.com/users/avflor/orgs","repos_url":"https://api.github.com/users/avflor/repos","events_url":"https://api.github.com/users/avflor/events{/privacy}","received_events_url":"https://api.github.com/users/avflor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T19:17:59Z","updated_at":"2016-11-30T19:18:37Z","author_association":"CONTRIBUTOR","body":"@billonahill I think we need a call to clarify all this :). My algorithm works at one component at a time as yours (not multiple ones). If a user has submitted a single request to remove 4As and 4 Bs, then the algorithm will work on the first A, second A, third A, fourth A, first B, second B, third B and fourth B in that order. Let's see the algo now:\r\n\r\n1st A removal: We categorize the containers into 2 groups. \r\nGroup that contains only As: [A,A,A,A]\r\nGroup that contains a mix of A with other stuff: [[AABB, AABB, AABB, AABB]\r\n\r\nWe start with first group and remove 1 A.\r\n\r\nThe result would be  [[AABB, AABB, AABB, AABB, AAA,BBBB].\r\n\r\n2nd A removal. Creating again two groups:\r\nGroup that contains only As (homogeneous) : [A,A,A]\r\nGroup that contains a mix of A with other stuff (heterogeneous): [[AABB, AABB, AABB, AABB]\r\n We remove 1 A from container in first group and the result is:\r\n [[AABB, AABB, AABB, AABB, AA, BBBB]\r\n\r\nit is easy to see that 3rd and 4rth removal will result in removing one container resulting in:\r\n [AABB, AABB, AABB, AABB, BBBB]\r\n\r\nThen we get to 1st B. We have the following groups:\r\nGroup that contains only Bs: [B,B,B,B]\r\nGroup that contains a mix of B with other stuff: [[AABB, AABB, AABB, AABB]\r\n\r\nWe remove B from group 1 resulting in:\r\n[AABB, AABB, AABB, AABB, BBB]\r\n\r\nAs previosly after the fourth removal we will have [AABB, AABB, AABB, AABB].\r\n\r\nNote that if you had multiple containers to pick in a group you pick the one with the least number of instances. In this example we had only one container every time in the homogeneous group so that didn't come across.\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263967187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263973807","html_url":"https://github.com/apache/incubator-heron/issues/1560#issuecomment-263973807","issue_url":"https://api.github.com/repos/apache/incubator-heron/issues/1560","id":263973807,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk3MzgwNw==","user":{"login":"billonahill","id":23758,"node_id":"MDQ6VXNlcjIzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/23758?v=4","gravatar_id":"","url":"https://api.github.com/users/billonahill","html_url":"https://github.com/billonahill","followers_url":"https://api.github.com/users/billonahill/followers","following_url":"https://api.github.com/users/billonahill/following{/other_user}","gists_url":"https://api.github.com/users/billonahill/gists{/gist_id}","starred_url":"https://api.github.com/users/billonahill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billonahill/subscriptions","organizations_url":"https://api.github.com/users/billonahill/orgs","repos_url":"https://api.github.com/users/billonahill/repos","events_url":"https://api.github.com/users/billonahill/events{/privacy}","received_events_url":"https://api.github.com/users/billonahill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T19:42:42Z","updated_at":"2016-11-30T19:42:42Z","author_association":"CONTRIBUTOR","body":"For some reason I thought you were previously proposing an initial scoring taking into account all components being requested, which I see wasn't your intent.\r\n\r\nThe challenge with the primary scoring being based on number on total instances ascending is that it biases away from removing imbalanced containers. For example if someone makes a request to remove 3As and a B from this:\r\n\r\n[ABC, ABC, ABC, AAAB]\r\n\r\nthey would get this:\r\n\r\n[C, BC, BC, AAAB]\r\n\r\nUnbalance appears as a result of scale up, which is why if we want scale down to effectively back out those changes when scaling down, we would focus on removing imbalance first IMO.","reactions":{"url":"https://api.github.com/repos/apache/incubator-heron/issues/comments/263973807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]