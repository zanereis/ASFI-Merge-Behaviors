[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1588255874","html_url":"https://github.com/apache/accumulo/issues/3446#issuecomment-1588255874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3446","id":1588255874,"node_id":"IC_kwDOACaFSM5eqtyC","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-12T23:45:26Z","updated_at":"2023-06-12T23:45:26Z","author_association":"MEMBER","body":"Reverted to 3.21.0 to resolve this for 2.1.1. Created #3485 to consider updating later, after more investigation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1588255874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1588431878","html_url":"https://github.com/apache/accumulo/pull/3477#issuecomment-1588431878","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3477","id":1588431878,"node_id":"IC_kwDOACaFSM5erYwG","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T02:42:25Z","updated_at":"2023-06-13T02:42:25Z","author_association":"MEMBER","body":"> Found it. Simple bug introduced in #3148, so it would not have been in 2.1. But I wonder if some of the other uses of these enums are also incorrect.\r\n\r\nI reviewed all the uses of FilePrefix, and they all seem to be correct now. This was the only one that wasn't right.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1588431878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1588601138","html_url":"https://github.com/apache/accumulo/issues/3474#issuecomment-1588601138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3474","id":1588601138,"node_id":"IC_kwDOACaFSM5esCEy","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T06:04:40Z","updated_at":"2023-06-13T06:04:40Z","author_association":"CONTRIBUTOR","body":"I spent some time looking over #3640 for these changes and started working on the logic to add the following metrics. \r\n\r\n1. Queue Size\r\n2. Jobs Queued\r\n3. Job Time Spent in Queue.\r\n\r\nAre there any other metrics that should be added? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1588601138/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589200068","html_url":"https://github.com/apache/accumulo/issues/3474#issuecomment-1589200068","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3474","id":1589200068,"node_id":"IC_kwDOACaFSM5euUTE","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T12:23:47Z","updated_at":"2023-06-13T12:23:47Z","author_association":"CONTRIBUTOR","body":"> Are there any other metrics that should be added?\r\n\r\nIt may be useful to have a sense of the number of jobs being rejected or ejected because the queue is at max size.  But I am not sure how to capture this as a metric.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589200068/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589207729","html_url":"https://github.com/apache/accumulo/pull/3477#issuecomment-1589207729","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3477","id":1589207729,"node_id":"IC_kwDOACaFSM5euWKx","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T12:27:55Z","updated_at":"2023-06-13T12:27:55Z","author_association":"CONTRIBUTOR","body":"> I reviewed all the uses of FilePrefix, and they all seem to be correct now.\r\n\r\nNice.  Suppose we could add an IT that verifies each file type has the expected prefix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589207729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589764359","html_url":"https://github.com/apache/accumulo/issues/3487#issuecomment-1589764359","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3487","id":1589764359,"node_id":"IC_kwDOACaFSM5eweEH","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T17:45:09Z","updated_at":"2023-06-13T17:45:09Z","author_association":"MEMBER","body":"I'd really love to change the behavior of flush to be synchronous, and have a separate flushAsync method.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589764359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589926984","html_url":"https://github.com/apache/accumulo/issues/3489#issuecomment-1589926984","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3489","id":1589926984,"node_id":"IC_kwDOACaFSM5exFxI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T19:52:34Z","updated_at":"2023-06-13T19:52:34Z","author_association":"MEMBER","body":"> I briefly considered memorizing the mapping of table name to table id but ultimately decided against it.\r\n\r\n:rofl: ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1589926984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590000168","html_url":"https://github.com/apache/accumulo/issues/3491#issuecomment-1590000168","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3491","id":1590000168,"node_id":"IC_kwDOACaFSM5exXoo","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T20:44:10Z","updated_at":"2023-06-13T20:44:10Z","author_association":"MEMBER","body":"For now, I'll mark this for 2.1.2, but if the vote for 2.1.1-RC1 fails because a fix for this is ready, then I'll change it back to 2.1.1 and include it in RC2.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590000168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590010243","html_url":"https://github.com/apache/accumulo/issues/3489#issuecomment-1590010243","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3489","id":1590010243,"node_id":"IC_kwDOACaFSM5exaGD","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T20:53:01Z","updated_at":"2023-06-13T20:53:01Z","author_association":"MEMBER","body":"![Screenshot from 2023-06-13 16-49-29](https://github.com/apache/accumulo/assets/1280725/376275ff-85d5-47a3-9af2-09e00112f20d)\r\n\r\nThe table name is already shown. See screenshot. However, I do think the font could be improved so it's not using using a \"small caps\" font that makes it harder to see the case-sensitive name.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590010243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590135992","html_url":"https://github.com/apache/accumulo/issues/3489#issuecomment-1590135992","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3489","id":1590135992,"node_id":"IC_kwDOACaFSM5ex4y4","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T22:26:01Z","updated_at":"2023-06-13T22:26:01Z","author_association":"MEMBER","body":"Closing this as already complete. If there's another place where this needs to be shown, but isn't, please re-open with additional details or an attached screenshot.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590135992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590144709","html_url":"https://github.com/apache/accumulo/pull/3492#issuecomment-1590144709","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3492","id":1590144709,"node_id":"IC_kwDOACaFSM5ex67F","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T22:37:11Z","updated_at":"2023-06-13T22:37:11Z","author_association":"CONTRIBUTOR","body":"I was able to successfully run all ITs matching the pattern `*Split*IT`.\r\n\r\n```\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.apache.accumulo.test.compaction.SplitCancelsMajCIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 77.543 s - in org.apache.accumulo.test.compaction.SplitCancelsMajCIT\r\n[INFO] Running org.apache.accumulo.test.LargeSplitRowIT\r\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 66.316 s - in org.apache.accumulo.test.LargeSplitRowIT\r\n[INFO] Running org.apache.accumulo.test.functional.DeleteRowsSplitIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 68.978 s - in org.apache.accumulo.test.functional.DeleteRowsSplitIT\r\n[INFO] Running org.apache.accumulo.test.functional.MetadataSplitIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 26.458 s - in org.apache.accumulo.test.functional.MetadataSplitIT\r\n[INFO] Running org.apache.accumulo.test.functional.CreateInitialSplitsIT\r\n[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 132.613 s - in org.apache.accumulo.test.functional.CreateInitialSplitsIT\r\n[INFO] Running org.apache.accumulo.test.functional.BatchScanSplitIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 17.911 s - in org.apache.accumulo.test.functional.BatchScanSplitIT\r\n[INFO] Running org.apache.accumulo.test.functional.BulkSplitOptimizationIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 23.603 s - in org.apache.accumulo.test.functional.BulkSplitOptimizationIT\r\n[INFO] Running org.apache.accumulo.test.functional.AddSplitIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.658 s - in org.apache.accumulo.test.functional.AddSplitIT\r\n[INFO] Running org.apache.accumulo.test.functional.SplitIT\r\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 118.041 s - in org.apache.accumulo.test.functional.SplitIT\r\n[INFO] Running org.apache.accumulo.test.functional.SplitRecoveryIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.653 s - in org.apache.accumulo.test.functional.SplitRecoveryIT\r\n[INFO] Running org.apache.accumulo.test.SplitRecoveryIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.224 s - in org.apache.accumulo.test.SplitRecoveryIT\r\n[INFO] Running org.apache.accumulo.test.MetaSplitIT\r\n[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 49.704 s - in org.apache.accumulo.test.MetaSplitIT\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 27, Failures: 0, Errors: 0, Skipped: 0\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590144709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590146364","html_url":"https://github.com/apache/accumulo/issues/3488#issuecomment-1590146364","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3488","id":1590146364,"node_id":"IC_kwDOACaFSM5ex7U8","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T22:39:24Z","updated_at":"2023-06-13T22:39:24Z","author_association":"MEMBER","body":"This seems like it affects the `/manager` and `/tservers` pages in addition to `/tables/<tid>`. It would also apply to compactions. Scans, Minor Compactions, and Major Compactions on each of these pages use a custom `running(queued)` format that does not lend itself to numerical sorting by datatables natively. We'll need to create and use something custom to try to sort these by running first, then by queued second.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590146364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590148625","html_url":"https://github.com/apache/accumulo/pull/3492#issuecomment-1590148625","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3492","id":1590148625,"node_id":"IC_kwDOACaFSM5ex74R","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T22:42:08Z","updated_at":"2023-06-13T22:42:08Z","author_association":"MEMBER","body":"Spotbugs catches:\r\n\r\n```\r\n[ERROR] High: Random object created and used only once in org.apache.accumulo.test.functional.SplitIT.bulkImportThatCantSplitHangsCompaction() [org.apache.accumulo.test.functional.SplitIT] At SplitIT.java:[line 255] DMI_RANDOM_USED_ONLY_ONCE\r\n[ERROR] Medium: This random generator (java.util.Random) is predictable [org.apache.accumulo.test.functional.SplitIT] At SplitIT.java:[line 243] PREDICTABLE_RANDOM\r\n```\r\n\r\nWhen fixed, should be able to verify locally with `mvn clean verify -DskipTests -Psec-bugs`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590148625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590161294","html_url":"https://github.com/apache/accumulo/pull/3492#issuecomment-1590161294","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3492","id":1590161294,"node_id":"IC_kwDOACaFSM5ex--O","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T22:56:56Z","updated_at":"2023-06-13T22:56:56Z","author_association":"CONTRIBUTOR","body":"> When fixed, should be able to verify locally with mvn clean verify -DskipTests -Psec-bugs\r\n\r\nI saw that build error and created a fix and ran `mvn clean verify -DskipTests` locally. I suppose without the `-Psec-bugs` I was not really testing my fix. I'll wait for GH actions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1590161294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591119510","html_url":"https://github.com/apache/accumulo/issues/3494#issuecomment-1591119510","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3494","id":1591119510,"node_id":"IC_kwDOACaFSM5e1o6W","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-14T12:42:41Z","updated_at":"2023-06-14T12:42:41Z","author_association":"CONTRIBUTOR","body":"I believe the code should change to:\r\n\r\nrecoverLease:\r\n```\r\nPath path;\r\nFileSystem fs;\r\n\r\nif (fs.hasPathCapability(path, CommonPathCapabilities.LEASE_RECOVERABLE)) {\r\n  ((LeaseRecoverable) fs).recoverLease(path);\r\n}\r\n```\r\n\r\nsetSafeMode:\r\n```\r\nFileSystem fs;\r\n\r\nif (fs instanceof SafeMode) {\r\n  ((SafeMode) fs).setSafeMode(SafeModeAction.GET);\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591119510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591123451","html_url":"https://github.com/apache/accumulo/pull/3445#issuecomment-1591123451","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3445","id":1591123451,"node_id":"IC_kwDOACaFSM5e1p37","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-14T12:45:29Z","updated_at":"2023-06-14T12:45:29Z","author_association":"CONTRIBUTOR","body":"I choose to leave the set / delete commands silent on success, think that may be more friendly if the actions were scripted.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591123451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591605275","html_url":"https://github.com/apache/accumulo/issues/3340#issuecomment-1591605275","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3340","id":1591605275,"node_id":"IC_kwDOACaFSM5e3fgb","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-14T16:26:45Z","updated_at":"2023-06-14T16:26:45Z","author_association":"CONTRIBUTOR","body":"@jmark99  those test look good to me. I think the test covers the case of splitting a table where all of the goals are the same.  Could add a test to cover the case of splits in a table with mixed goals. Something like the following. \r\n\r\n 1. create table\r\n 2. add split `m`\r\n 3. set goal ALWAYS on last tablet\r\n 4. add splits `d` and `s`\r\n 5. verify two tablets have ONDEMAND and two have ALWAYS goal\r\n \r\nOr modify an existing test for this case.  I don't think this has to be done before closing this issue, I think the coverage is good in the test you already added.  The above was just something I thought of when looking at the test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591605275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591610502","html_url":"https://github.com/apache/accumulo/pull/3445#issuecomment-1591610502","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3445","id":1591610502,"node_id":"IC_kwDOACaFSM5e3gyG","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-14T16:30:43Z","updated_at":"2023-06-14T16:30:43Z","author_association":"MEMBER","body":"> I choose to leave the set / delete commands silent on success, think that may be more friendly if the actions were scripted.\r\n\r\nThe main use case I was thinking was if a user ran a set or delete operation, but wanted to revert it, they wouldn't have any info about what the old value was. They also don't get any feedback from the process exit code on whether it was successful or not, unless there's an exception thrown (which should cause a non-zero exit code).\r\n\r\nI was thinking just add DEBUG logging, which can easily be sent to STDERR if the user wants to ignore it.\r\n\r\nIt's not critical, though. The tool is an emergency tool, and is not expected to be used carelessly. These would be minor improvements... if we get around to it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591610502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591885973","html_url":"https://github.com/apache/accumulo/issues/3495#issuecomment-1591885973","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3495","id":1591885973,"node_id":"IC_kwDOACaFSM5e4kCV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-14T19:54:25Z","updated_at":"2023-06-14T19:54:25Z","author_association":"CONTRIBUTOR","body":"I wonder if the endless loop was due to the password being wrong vs not being set\r\nI wonder if this issue exists in 2.1.0 with an incorrect password set and authTimeout occurring","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591885973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591924677","html_url":"https://github.com/apache/accumulo/pull/3496#issuecomment-1591924677","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3496","id":1591924677,"node_id":"IC_kwDOACaFSM5e4tfF","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-14T20:22:38Z","updated_at":"2023-06-14T20:22:38Z","author_association":"CONTRIBUTOR","body":"This replaces PR #3482 . It does not put the tserver group name into the metadata. There is likely more work to be done here w/r/t the balancers and tests. Putting up for early feedback on approach.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1591924677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593374550","html_url":"https://github.com/apache/accumulo/pull/3498#issuecomment-1593374550","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3498","id":1593374550,"node_id":"IC_kwDOACaFSM5e-PdW","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T16:24:38Z","updated_at":"2023-06-15T16:24:38Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593374550/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593377593","html_url":"https://github.com/apache/accumulo/pull/3498#issuecomment-1593377593","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3498","id":1593377593,"node_id":"IC_kwDOACaFSM5e-QM5","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T16:27:02Z","updated_at":"2023-06-15T16:27:02Z","author_association":"CONTRIBUTOR","body":"Do you merge or start from a different branch than you intended?  Seems like a lot of file changes for a version bump.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593377593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593380281","html_url":"https://github.com/apache/accumulo/pull/3498#issuecomment-1593380281","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3498","id":1593380281,"node_id":"IC_kwDOACaFSM5e-Q25","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T16:28:52Z","updated_at":"2023-06-15T16:28:52Z","author_association":"MEMBER","body":"@EdColeman I was trying to get dependabot to cherry-pick this to 2.1. I changed the base branch to 2.1 and told it to rebase. I'm hoping it drops the rest of the commits when it processes the rebase command. Otherwise, will need to bump it manually and ignore dependabot's attempt, since dependabot might only work well on the main branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593380281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593388061","html_url":"https://github.com/apache/accumulo/pull/3498#issuecomment-1593388061","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3498","id":1593388061,"node_id":"IC_kwDOACaFSM5e-Swd","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T16:34:57Z","updated_at":"2023-06-15T16:34:57Z","author_association":"MEMBER","body":"2.1 is using a different version. I think just bumping main is fine. If we need, we can backport the version to 2.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593388061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593664246","html_url":"https://github.com/apache/accumulo/issues/3470#issuecomment-1593664246","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3470","id":1593664246,"node_id":"IC_kwDOACaFSM5e_WL2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T20:09:04Z","updated_at":"2023-06-15T20:09:04Z","author_association":"MEMBER","body":"Is this causing harm? It seems like unnecessary churn. What's the risk of leaving it the way it is?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593664246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593692093","html_url":"https://github.com/apache/accumulo/issues/3470#issuecomment-1593692093","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3470","id":1593692093,"node_id":"IC_kwDOACaFSM5e_c-9","user":{"login":"AlbertWhitlock","id":40367659,"node_id":"MDQ6VXNlcjQwMzY3NjU5","avatar_url":"https://avatars.githubusercontent.com/u/40367659?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbertWhitlock","html_url":"https://github.com/AlbertWhitlock","followers_url":"https://api.github.com/users/AlbertWhitlock/followers","following_url":"https://api.github.com/users/AlbertWhitlock/following{/other_user}","gists_url":"https://api.github.com/users/AlbertWhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbertWhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbertWhitlock/subscriptions","organizations_url":"https://api.github.com/users/AlbertWhitlock/orgs","repos_url":"https://api.github.com/users/AlbertWhitlock/repos","events_url":"https://api.github.com/users/AlbertWhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/AlbertWhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T20:35:25Z","updated_at":"2023-06-15T20:35:25Z","author_association":"CONTRIBUTOR","body":"I have worked with the cluster.yaml file before. I can do this ticket (if it is deemed necessary). Could someone assign to me?\nIf this change is completed it looks like a test, the ClusterConfigParserTest, will need to be updated as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593692093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593692932","html_url":"https://github.com/apache/accumulo/issues/3488#issuecomment-1593692932","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3488","id":1593692932,"node_id":"IC_kwDOACaFSM5e_dME","user":{"login":"AlbertWhitlock","id":40367659,"node_id":"MDQ6VXNlcjQwMzY3NjU5","avatar_url":"https://avatars.githubusercontent.com/u/40367659?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbertWhitlock","html_url":"https://github.com/AlbertWhitlock","followers_url":"https://api.github.com/users/AlbertWhitlock/followers","following_url":"https://api.github.com/users/AlbertWhitlock/following{/other_user}","gists_url":"https://api.github.com/users/AlbertWhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbertWhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbertWhitlock/subscriptions","organizations_url":"https://api.github.com/users/AlbertWhitlock/orgs","repos_url":"https://api.github.com/users/AlbertWhitlock/repos","events_url":"https://api.github.com/users/AlbertWhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/AlbertWhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T20:36:17Z","updated_at":"2023-06-15T20:36:17Z","author_association":"CONTRIBUTOR","body":"I have done a good amount of work in the monitor code in the past. I will tackle this. Could someone assign it to me please? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593692932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593717571","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1593717571","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1593717571,"node_id":"IC_kwDOACaFSM5e_jND","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T21:00:31Z","updated_at":"2023-06-15T21:03:28Z","author_association":"CONTRIBUTOR","body":"Tried running the test mentioned on #3500 [accumulo-jmh-test](https://github.com/dtspence/accumulo-jmh-test) with these changes.  Seeing a noticeable difference. Against 2.1.0 saw the following for the benchmark.\r\n\r\n```\r\nBenchmark                                          Mode  Cnt  Score   Error  Units\r\nGarbageCollectorPerformanceIT.benchmarkCandidates  avgt    3  0.012  0.005  ms/op\r\n```\r\n\r\nWith these changes and running the test against a locally installed 2.1.1-SNAPSHOT saw the following.\r\n\r\n```\r\nBenchmark                                          Mode  Cnt  Score   Error  Units\r\nGarbageCollectorPerformanceIT.benchmarkCandidates  avgt    3  0.003  0.003  ms/op\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593717571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593724812","html_url":"https://github.com/apache/accumulo/issues/3499#issuecomment-1593724812","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3499","id":1593724812,"node_id":"IC_kwDOACaFSM5e_k-M","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T21:06:52Z","updated_at":"2023-06-15T21:06:52Z","author_association":"MEMBER","body":"> When candidate batching occurs GC cycle times increase by X more times (where X is the number of batches) (For example: when we perform 4 batches, the GC cycles were about 12x longer than they were in 1.10)\r\n\r\nI think that part is expected... and would have occurred with batching in 1.10 using a JVM with less memory. In 2.1, batch sizes are determined explicitly through configuration. We found this to be much more reliable (and a substantially simpler implementation) than the auto-batching based on available memory, which did not always work well if the JVM was resizing or during some Java GC cycles. The configurable batch sizes should allow more control over the size of the batches you want to process, and you can tune your JVM memory accordingly. This issue and the user's requirement to choose their own batch size was specifically called out [with its own paragraph in the 2.1.0 release notes](https://accumulo.apache.org/release/accumulo-2.1.0/#better-accumulo-gc-memory-usage).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593724812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593731225","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1593731225","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1593731225,"node_id":"IC_kwDOACaFSM5e_miZ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T21:13:05Z","updated_at":"2023-06-15T21:14:07Z","author_association":"CONTRIBUTOR","body":"> The StoredTabletFile is still a somewhat nicer API than going back to using String again (especially when it's a collection of pairs of strings, which gets quite confusing). If the problem is that StoredTabletFile is doing unnecessary validation, can we have a specific kind of TabletFile that is lighter weight, but still more expressive than strings?\r\n\r\nI looked into refactoring StoredTabletFile first and decided against that as I could not see an easy way to do it.  I think the changes @cshannon  has made in 3.0 branch would be a prereq for doing this refactoring.\r\n\r\nWe could open a follow on issue about making StoredTabletFile do lazy validation for 3.0.  When those changes are made in 3.0 these changes could be removed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593731225/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593775729","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1593775729","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1593775729,"node_id":"IC_kwDOACaFSM5e_xZx","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-15T22:02:28Z","updated_at":"2023-06-15T22:02:28Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I can do a follow on issue to do lazy validation because I agree with @ctubbsii that keeping the new API is a lot nicer than strings so being able to revert these changes in 3.0 would be nice.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1593775729/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594193810","html_url":"https://github.com/apache/accumulo/issues/3446#issuecomment-1594193810","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3446","id":1594193810,"node_id":"IC_kwDOACaFSM5fBXeS","user":{"login":"oneonestar","id":2330687,"node_id":"MDQ6VXNlcjIzMzA2ODc=","avatar_url":"https://avatars.githubusercontent.com/u/2330687?v=4","gravatar_id":"","url":"https://api.github.com/users/oneonestar","html_url":"https://github.com/oneonestar","followers_url":"https://api.github.com/users/oneonestar/followers","following_url":"https://api.github.com/users/oneonestar/following{/other_user}","gists_url":"https://api.github.com/users/oneonestar/gists{/gist_id}","starred_url":"https://api.github.com/users/oneonestar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oneonestar/subscriptions","organizations_url":"https://api.github.com/users/oneonestar/orgs","repos_url":"https://api.github.com/users/oneonestar/repos","events_url":"https://api.github.com/users/oneonestar/events{/privacy}","received_events_url":"https://api.github.com/users/oneonestar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T06:51:16Z","updated_at":"2023-06-16T08:34:17Z","author_association":"NONE","body":"![image](https://github.com/trinodb/trino/assets/2330687/786a1c1e-3fa9-41f7-a853-e46d02b5b40a)\r\nhttps://github.com/jline/jline3/blob/ccfb8c54fd9658b85a3d659f3abe85b8b4dcea83/terminal/src/main/java/org/jline/terminal/TerminalBuilder.java#L562\r\nhttps://github.com/jline/jline3/blob/43c601471e53cca7532674867f826f830465126b/terminal/src/main/java/org/jline/terminal/TerminalBuilder.java#L448\r\nhttps://github.com/jline/jline3/pull/788/files#diff-8f75c2bcaf44443b94e6a2a293331a90047529aabbc2d0e2bae5811ce22ad692L448\r\nFacing the same issue in another project.\r\nWhen both output and error are not tty, `console` becomes null. `OutputStream` will point to `FileDescriptor.err`.\r\nThe default behavior in the previous version was `FileDescriptor.out`. I think they might made an unintended incompatible change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594193810/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594516801","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1594516801","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1594516801,"node_id":"IC_kwDOACaFSM5fCmVB","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T11:15:48Z","updated_at":"2023-06-16T11:15:48Z","author_association":"CONTRIBUTOR","body":"I added a PR [accumulo-jmh-test](https://github.com/dtspence/accumulo-jmh-test/pull/1) so it can now run on the command line.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594516801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594591301","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1594591301","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1594591301,"node_id":"IC_kwDOACaFSM5fC4hF","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T12:20:29Z","updated_at":"2023-06-16T12:20:29Z","author_association":"CONTRIBUTOR","body":"At it's core, Path is a URI. The Path constructors perform validation on the input, then create and set the URI. Except, when you use the constructor Path(URI), that does not occur and does not incur the cost of the validation. If we used the Path constructors (and the validation) when writing to the metadata table, but used Path(URI) when reading from the metadata table, then we could still keep the Path object vs going back to String.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594591301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594595272","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1594595272","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1594595272,"node_id":"IC_kwDOACaFSM5fC5fI","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T12:23:57Z","updated_at":"2023-06-16T12:23:57Z","author_association":"CONTRIBUTOR","body":"> At it's core, Path is a URI. The Path constructors perform validation on the input, then create and set the URI. Except, when you use the constructor Path(URI), that does not occur and does not incur the cost of the validation. If we used the Path constructors (and the validation) when writing to the metadata table, but used Path(URI) when reading from the metadata table, then we could still keep the Path object vs going back to String.\r\n\r\nThe primary bottleneck does not appear to be he actual creation of the Path(). It turns out it's the call to Path.getParent() that is the main problem which is only done in our validation logic.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594595272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594615296","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1594615296","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1594615296,"node_id":"IC_kwDOACaFSM5fC-YA","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T12:40:53Z","updated_at":"2023-06-16T12:40:53Z","author_association":"CONTRIBUTOR","body":"PR to fix this in main is up: https://github.com/apache/accumulo/pull/3502","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594615296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594619115","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1594619115","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1594619115,"node_id":"IC_kwDOACaFSM5fC_Tr","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T12:43:56Z","updated_at":"2023-06-16T12:43:56Z","author_association":"CONTRIBUTOR","body":"> > At it's core, Path is a URI. The Path constructors perform validation on the input, then create and set the URI. Except, when you use the constructor Path(URI), that does not occur and does not incur the cost of the validation. If we used the Path constructors (and the validation) when writing to the metadata table, but used Path(URI) when reading from the metadata table, then we could still keep the Path object vs going back to String.\r\n> \r\n> The primary bottleneck does not appear to be he actual creation of the Path(). It turns out it's the call to Path.getParent() that is the main problem which is only done in our validation logic.\r\n\r\nRight, so we call Path.getParent(), with calls new Path(String, String, String). Here's Path.getParent:\r\n\r\n```\r\n  /**\r\n   * Returns the parent of a path or null if at root.\r\n   * @return the parent of a path or null if at root\r\n   */\r\n  public Path getParent() {\r\n    String path = uri.getPath();\r\n    int lastSlash = path.lastIndexOf('/');\r\n    int start = startPositionWithoutWindowsDrive(path);\r\n    if ((path.length() == start) ||               // empty path\r\n        (lastSlash == start && path.length() == start+1)) { // at root\r\n      return null;\r\n    }\r\n    String parent;\r\n    if (lastSlash==-1) {\r\n      parent = CUR_DIR;\r\n    } else {\r\n      parent = path.substring(0, lastSlash==start?start+1:lastSlash);\r\n    }\r\n    return new Path(uri.getScheme(), uri.getAuthority(), parent);\r\n  }\r\n```\r\n\r\nThe issue is the last line of the method, right? Could we not create a URI from (String, String, String) and then call Path(URI)?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594619115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594627039","html_url":"https://github.com/apache/accumulo/issues/3499#issuecomment-1594627039","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3499","id":1594627039,"node_id":"IC_kwDOACaFSM5fDBPf","user":{"login":"awrigh11","id":136737490,"node_id":"U_kgDOCCZy0g","avatar_url":"https://avatars.githubusercontent.com/u/136737490?v=4","gravatar_id":"","url":"https://api.github.com/users/awrigh11","html_url":"https://github.com/awrigh11","followers_url":"https://api.github.com/users/awrigh11/followers","following_url":"https://api.github.com/users/awrigh11/following{/other_user}","gists_url":"https://api.github.com/users/awrigh11/gists{/gist_id}","starred_url":"https://api.github.com/users/awrigh11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awrigh11/subscriptions","organizations_url":"https://api.github.com/users/awrigh11/orgs","repos_url":"https://api.github.com/users/awrigh11/repos","events_url":"https://api.github.com/users/awrigh11/events{/privacy}","received_events_url":"https://api.github.com/users/awrigh11/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T12:50:38Z","updated_at":"2023-06-16T12:50:38Z","author_association":"NONE","body":"> I think that part is expected... and would have occurred with batching in 1.10 using a JVM with less memory. In 2.1, batch sizes are determined explicitly through configuration. We found this to be much more reliable (and a substantially simpler implementation) than the auto-batching based on available memory, which did not always work well if the JVM was resizing or during some Java GC cycles. The configurable batch sizes should allow more control over the size of the batches you want to process, and you can tune your JVM memory accordingly. This issue and the user's requirement to choose their own batch size was specifically called out [with its own paragraph in the 2.1.0 release notes](https://accumulo.apache.org/release/accumulo-2.1.0/#better-accumulo-gc-memory-usage).\r\n\r\nYeah I would agree. I just wanted to be clear that our 3x slow down was not related to batching.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594627039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594642012","html_url":"https://github.com/apache/accumulo/pull/3502#issuecomment-1594642012","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3502","id":1594642012,"node_id":"IC_kwDOACaFSM5fDE5c","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T13:01:53Z","updated_at":"2023-06-16T13:01:53Z","author_association":"CONTRIBUTOR","body":"Something else too is that even if the performance when creating a `ReferencedTabletFile` is improved in some other way, this change to lazy load is probably still a good one as we can reduce memory by not having to create the `ReferencedTabletFile` unless it is needed as it looks like in a lot of cases in the code when creating a `StoredTabletFile` we won't actually need the `ReferencedTabletFile`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594642012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594676679","html_url":"https://github.com/apache/accumulo/issues/3470#issuecomment-1594676679","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3470","id":1594676679,"node_id":"IC_kwDOACaFSM5fDNXH","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T13:27:14Z","updated_at":"2023-06-16T13:27:14Z","author_association":"CONTRIBUTOR","body":"> Is this causing harm? It seems like unnecessary churn. What's the risk of leaving it the way it is?\r\n\r\nWe could easily support both, as long as only one is specified. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594676679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594713706","html_url":"https://github.com/apache/accumulo/pull/3502#issuecomment-1594713706","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3502","id":1594713706,"node_id":"IC_kwDOACaFSM5fDWZq","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T13:53:28Z","updated_at":"2023-06-16T13:53:28Z","author_association":"CONTRIBUTOR","body":"> LGTM. It does not seem to be needed, but the changes in #3417 would also make it pretty simple to lazily create the path object.\r\n\r\nI considered that but since the performance is much improved without it and because the Path object is used more often anyways it would probably get created at some point in many cases so I left it alone. It is something we could change later if needed though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594713706/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594967951","html_url":"https://github.com/apache/accumulo/issues/3503#issuecomment-1594967951","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3503","id":1594967951,"node_id":"IC_kwDOACaFSM5fEUeP","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T16:44:51Z","updated_at":"2023-06-16T16:44:51Z","author_association":"CONTRIBUTOR","body":"@keith-turner I assigned myself to this task as I had already started working on this and was planning to create a PR when completed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594967951/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594972789","html_url":"https://github.com/apache/accumulo/pull/3496#issuecomment-1594972789","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3496","id":1594972789,"node_id":"IC_kwDOACaFSM5fEVp1","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T16:49:44Z","updated_at":"2023-06-23T20:03:34Z","author_association":"CONTRIBUTOR","body":"Follow-on tasks include:\r\n\r\nRename `compactor.queue` to `compactor.group`\r\nUpdate scripts for `compactor.queue` name change, addition of tserver.group\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1594972789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595113147","html_url":"https://github.com/apache/accumulo/pull/3480#issuecomment-1595113147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3480","id":1595113147,"node_id":"IC_kwDOACaFSM5fE367","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T18:24:57Z","updated_at":"2023-06-16T18:24:57Z","author_association":"CONTRIBUTOR","body":"The sunny IT build is finally passing, I kicked off a full build to see what else is broken.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595113147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595157815","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1595157815","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1595157815,"node_id":"IC_kwDOACaFSM5fFC03","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T19:05:59Z","updated_at":"2023-06-16T19:05:59Z","author_association":"MEMBER","body":"Is the plan to merge this to 2.1, and omit this change when merging to 3.0 (`-s ours`), in favor of #3502 fixing it there? Or is there something from this that would still be desirable to keep when going forward?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595157815/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595187294","html_url":"https://github.com/apache/accumulo/issues/3499#issuecomment-1595187294","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3499","id":1595187294,"node_id":"IC_kwDOACaFSM5fFKBe","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T19:27:49Z","updated_at":"2023-06-16T19:27:49Z","author_association":"MEMBER","body":"@awrigh11 I wonder if #3501 / #3502 will completely address your issue, or if we'll need to try to do something else as well with the stream iterating.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595187294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595190704","html_url":"https://github.com/apache/accumulo/issues/3470#issuecomment-1595190704","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3470","id":1595190704,"node_id":"IC_kwDOACaFSM5fFK2w","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T19:31:20Z","updated_at":"2023-06-16T19:31:20Z","author_association":"MEMBER","body":"> > Is this causing harm? It seems like unnecessary churn. What's the risk of leaving it the way it is?\r\n> \r\n> We could easily support both, as long as only one is specified.\r\n\r\nOnly if it's not much code to support both. accumulo-cluster is supposed to be a very lightweight tool that serves as a reference for how one might manage a cluster. It really shouldn't be getting too complex. It'd be easy for this tool to start accruing technical debt through these kinds of choices. It might be simpler to just leave the existing hierarchy... it's  just one extra element, and it might not be causing any harm.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595190704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595196400","html_url":"https://github.com/apache/accumulo/issues/3499#issuecomment-1595196400","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3499","id":1595196400,"node_id":"IC_kwDOACaFSM5fFMPw","user":{"login":"awrigh11","id":136737490,"node_id":"U_kgDOCCZy0g","avatar_url":"https://avatars.githubusercontent.com/u/136737490?v=4","gravatar_id":"","url":"https://api.github.com/users/awrigh11","html_url":"https://github.com/awrigh11","followers_url":"https://api.github.com/users/awrigh11/followers","following_url":"https://api.github.com/users/awrigh11/following{/other_user}","gists_url":"https://api.github.com/users/awrigh11/gists{/gist_id}","starred_url":"https://api.github.com/users/awrigh11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awrigh11/subscriptions","organizations_url":"https://api.github.com/users/awrigh11/orgs","repos_url":"https://api.github.com/users/awrigh11/repos","events_url":"https://api.github.com/users/awrigh11/events{/privacy}","received_events_url":"https://api.github.com/users/awrigh11/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T19:36:33Z","updated_at":"2023-06-16T19:36:33Z","author_association":"NONE","body":"> @awrigh11 I wonder if #3501 / #3502 will completely address your issue, or if we'll need to try to do something else as well with the stream iterating.\r\n\r\nI wonder the same thing as well. The timing metrics referenced in those PRs do look promising.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595196400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595201163","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1595201163","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1595201163,"node_id":"IC_kwDOACaFSM5fFNaL","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T19:41:34Z","updated_at":"2023-06-16T19:41:34Z","author_association":"CONTRIBUTOR","body":"> Is the plan to merge this to 2.1, and omit this change when merging to 3.0 (`-s ours`), in favor of #3502 fixing it there? Or is there something from this that would still be desirable to keep when going forward?\r\n\r\nThe only thing to merge forward would be the change to `Pair` so maybe that should be a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595201163/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595216844","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1595216844","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1595216844,"node_id":"IC_kwDOACaFSM5fFRPM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T19:56:17Z","updated_at":"2023-06-16T19:56:17Z","author_association":"MEMBER","body":"> > Is the plan to merge this to 2.1, and omit this change when merging to 3.0 (`-s ours`), in favor of #3502 fixing it there? Or is there something from this that would still be desirable to keep when going forward?\r\n> \r\n> The only thing to merge forward would be the change to `Pair` so maybe that should be a separate PR.\r\n\r\nOr just commit the change to Pair, because it's so trivial. If you want it \"reviewed\", consider this comment my +1 for the Pair changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595216844/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595256028","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1595256028","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1595256028,"node_id":"IC_kwDOACaFSM5fFazc","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T20:12:26Z","updated_at":"2023-06-16T20:12:26Z","author_association":"CONTRIBUTOR","body":"I think I will pull the pair changes out as their own commit push merge them and as @ctubbsii mentioned they are reviewed so I will not do another PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595256028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595403553","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1595403553","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1595403553,"node_id":"IC_kwDOACaFSM5fF-0h","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T22:34:22Z","updated_at":"2023-06-16T22:34:22Z","author_association":"CONTRIBUTOR","body":"> The issue is the last line of the method, right? Could we not create a URI from (String, String, String) and then call Path(URI)?\r\n\r\n@dlmarion  do you think we might be able to optimize the validation instead of avoid it?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595403553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595410192","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1595410192","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1595410192,"node_id":"IC_kwDOACaFSM5fGAcQ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T22:43:17Z","updated_at":"2023-06-16T22:43:17Z","author_association":"CONTRIBUTOR","body":"Pushed the pair changes to 2.1 and main in fbb54c371e9d76f87bc10a4dfa5d3cc28b4519dd","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595410192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595441417","html_url":"https://github.com/apache/accumulo/pull/3480#issuecomment-1595441417","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3480","id":1595441417,"node_id":"IC_kwDOACaFSM5fGIEJ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T23:12:12Z","updated_at":"2023-06-16T23:12:12Z","author_association":"CONTRIBUTOR","body":"I stopped the full IT build as I saw several test failures and it was slowing down the build. I went ahead and fixed the ones that popped up so far and re-kicked off another build.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595441417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595482052","html_url":"https://github.com/apache/accumulo/pull/3502#issuecomment-1595482052","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3502","id":1595482052,"node_id":"IC_kwDOACaFSM5fGR_E","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-16T23:33:02Z","updated_at":"2023-06-16T23:33:02Z","author_association":"CONTRIBUTOR","body":"I created a follow on issue #3504 to make sure we still do validation in MetadataConstraints now that we lazy load the object that does the path validation","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595482052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595820361","html_url":"https://github.com/apache/accumulo/issues/3505#issuecomment-1595820361","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3505","id":1595820361,"node_id":"IC_kwDOACaFSM5fHklJ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-17T18:04:58Z","updated_at":"2023-06-17T18:04:58Z","author_association":"CONTRIBUTOR","body":"Realized [MetadataConstraints](https://github.com/apache/accumulo/blob/main/server/base/src/main/java/org/apache/accumulo/server/constraints/MetadataConstraints.java) does no validation for non tablet updates.   As part of this reorganization effort, could open up follow on issues for areas lacking validation after reorganizing the existing code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595820361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595824254","html_url":"https://github.com/apache/accumulo/issues/3504#issuecomment-1595824254","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3504","id":1595824254,"node_id":"IC_kwDOACaFSM5fHlh-","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-17T18:21:29Z","updated_at":"2023-06-17T18:21:29Z","author_association":"CONTRIBUTOR","body":"@cshannon  I was just updating the metadata constraint in the elasticity branch to add validation for a new selected file column for compactions.  I opened #3505 after doing that work and seeing this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595824254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595838687","html_url":"https://github.com/apache/accumulo/issues/3504#issuecomment-1595838687","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3504","id":1595838687,"node_id":"IC_kwDOACaFSM5fHpDf","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-17T19:15:58Z","updated_at":"2023-06-17T19:15:58Z","author_association":"CONTRIBUTOR","body":"@keith-turner - Do you think we should just do everything in one PR or just do #3505 as a follow on to this issue? I guess it makes sense to keep them separate as there are different things.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595838687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595846237","html_url":"https://github.com/apache/accumulo/pull/3480#issuecomment-1595846237","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3480","id":1595846237,"node_id":"IC_kwDOACaFSM5fHq5d","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-17T19:54:29Z","updated_at":"2023-06-17T19:54:29Z","author_association":"CONTRIBUTOR","body":"Test run showed 8 failures, I fixed them and kicked off another full build, hopefully everything passes now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595846237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595868313","html_url":"https://github.com/apache/accumulo/issues/3504#issuecomment-1595868313","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3504","id":1595868313,"node_id":"IC_kwDOACaFSM5fHwSZ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-17T21:42:26Z","updated_at":"2023-06-17T21:53:16Z","author_association":"CONTRIBUTOR","body":"@keith-turner - Nevermind, I started working on a PR for this and I'm almost done (will finish it up tomorrow) so #3505 can be a follow on.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1595868313/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1596233097","html_url":"https://github.com/apache/accumulo/pull/3480#issuecomment-1596233097","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3480","id":1596233097,"node_id":"IC_kwDOACaFSM5fJJWJ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-18T18:35:53Z","updated_at":"2023-06-18T18:35:53Z","author_association":"CONTRIBUTOR","body":"@keith-turner - The full ITs all passed so this is ready for a review from you to see what you think. I'll leave it as a draft PR for now but can switch it if you think it looks ok but I'm sure there are some things that need fixing. The next step would be to write an IT to test out adding ranges to the metadata table and reading them with the iterator.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1596233097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1598880557","html_url":"https://github.com/apache/accumulo/pull/3384#issuecomment-1598880557","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3384","id":1598880557,"node_id":"IC_kwDOACaFSM5fTPst","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T14:14:53Z","updated_at":"2023-06-20T14:14:53Z","author_association":"CONTRIBUTOR","body":"Superseded with #3508.  The test reveled an issue with the low memory detector not necessarily the test code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1598880557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1598944945","html_url":"https://github.com/apache/accumulo/issues/3499#issuecomment-1598944945","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3499","id":1598944945,"node_id":"IC_kwDOACaFSM5fTfax","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T14:51:04Z","updated_at":"2023-06-20T14:51:04Z","author_association":"CONTRIBUTOR","body":"I asked @dtspence to update https://github.com/dtspence/accumulo-jmh-test with the following:\r\n\r\n  1.  you are creating 3 tablet servers, one test table, and 10,000 files. However, you are not adding splits to the test table, so it's very possible that there is only one metadata table tablet. You may want to consider setting the metadata table split size to something low so that it splits and adding splits to the test table. Maybe 100 splits with 100 files each?\r\n  2. if you make the number of files configurable, then you can run several times with different inputs (e.g. 100, 1000, 10000) to see what the curve looks like.\r\n  3. I created a non-streaming implementation of the getReferences() method (below). Can you also add a test for this method?\r\n  \r\n  ```\r\n    public Iterator<Reference> getReferenceIter() {\r\n\r\n    final IteratorChain<Reference> iterChain = new IteratorChain<>();\r\n    \r\n    Iterable<TabletMetadata> tmIter = null;\r\n    if (level == Ample.DataLevel.ROOT) {\r\n      tmIter = Collections.singleton(context.getAmple().readTablet(RootTable.EXTENT, DIR, FILES, SCANS));\r\n    } else {\r\n      tmIter = TabletsMetadata.builder(context).scanTable(level.metaTable())\r\n          .checkConsistency().fetch(DIR, FILES, SCANS).build();\r\n    }\r\n\r\n    tmIter.forEach(tabletMetadata -> {\r\n      int fileCount = tabletMetadata.getFiles().size() + tabletMetadata.getScans().size() + ((tabletMetadata.getDirName() == null) ? 0 : 1);\r\n      List<Reference> referencedFiles = new ArrayList<>(fileCount);\r\n      tabletMetadata.getFiles().forEach(stf -> \r\n        referencedFiles.add(new ReferenceFile(tabletMetadata.getTableId(), stf.getMetaUpdateDelete())));\r\n      tabletMetadata.getScans().forEach(stf -> \r\n        referencedFiles.add(new ReferenceFile(tabletMetadata.getTableId(), stf.getMetaUpdateDelete())));\r\n      if (tabletMetadata.getDirName() != null) {\r\n        referencedFiles.add(new ReferenceDirectory(tabletMetadata.getTableId(), tabletMetadata.getDirName()));\r\n      }\r\n      iterChain.addIterator(referencedFiles.iterator());\r\n    });\r\n    \r\n    List<ReferenceFile> ssrefs = context.getAmple().getScanServerFileReferences()\r\n        .map(sfr -> new ReferenceFile(sfr.getTableId(), sfr.getPathStr())).collect(Collectors.toList());\r\n    iterChain.addIterator(ssrefs.iterator());\r\n    \r\n    return iterChain;\r\n    \r\n  }\r\n\r\n  ```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1598944945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599341280","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1599341280","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1599341280,"node_id":"IC_kwDOACaFSM5fVALg","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T18:52:55Z","updated_at":"2023-06-20T18:52:55Z","author_association":"CONTRIBUTOR","body":"> > The issue is the last line of the method, right? Could we not create a URI from (String, String, String) and then call Path(URI)?\r\n> \r\n> @dlmarion do you think we might be able to optimize the validation instead of avoid it?\r\n\r\nYou mean like override `getParent()` in a subclass, copy the method contents and change the last line to use Path(URI) ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599341280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599376837","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1599376837","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1599376837,"node_id":"IC_kwDOACaFSM5fVI3F","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T19:22:10Z","updated_at":"2023-06-20T19:22:10Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/accumulo/blob/b759a14912b13bade86660c8ba266aec192ab82d/core/src/main/java/org/apache/accumulo/core/metadata/TabletFile.java#L61-L78\r\n\r\n\r\nSeems like we could just change the validation code to operate on the `metaPath` constructor argument differently. Maybe instead of calling `Path.getParent()`, just use `metaPath.toURI()` and parse the path?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599376837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599430935","html_url":"https://github.com/apache/accumulo/issues/3499#issuecomment-1599430935","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3499","id":1599430935,"node_id":"IC_kwDOACaFSM5fVWEX","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T20:08:43Z","updated_at":"2023-06-20T20:08:57Z","author_association":"CONTRIBUTOR","body":"> I created a non-streaming implementation of the getReferences() method (below). Can you also add a test for this method?\r\n\r\nThat implementation may buffer all of the references in memory which we would like to avoid.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599430935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599440144","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1599440144","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1599440144,"node_id":"IC_kwDOACaFSM5fVYUQ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T20:17:04Z","updated_at":"2023-06-20T20:17:04Z","author_association":"CONTRIBUTOR","body":"> You mean like override getParent() in a subclass, copy the method contents and change the last line to use Path(URI) ?\r\n\r\nI am not sure, I have not looked into optimizing what is there.  When I made this PR I was working under the assumption that it was the path object in general that was causing problems.  However after making this PR it was discovered it was the way Accumulo  using the path object.  So I was wondering if we should pursue optimizing the validation instead of avoiding it.  If we are going to avoid validating on read in 2.1.2, then I am wondering if we should validate on write in 2.1.2 as proposed in #3504.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599440144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599448641","html_url":"https://github.com/apache/accumulo/issues/3504#issuecomment-1599448641","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3504","id":1599448641,"node_id":"IC_kwDOACaFSM5fVaZB","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T20:25:22Z","updated_at":"2023-06-20T20:25:22Z","author_association":"CONTRIBUTOR","body":"@cshannon I see this issue as a specific validation that is needed.  For #3505, its a more general improvement about making the code more efficient and easier to analyze.  After making it easier to analyze we can look for other missing validations like this one that should be added.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599448641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599470194","html_url":"https://github.com/apache/accumulo/issues/3472#issuecomment-1599470194","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3472","id":1599470194,"node_id":"IC_kwDOACaFSM5fVfpy","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T20:45:26Z","updated_at":"2023-06-20T20:45:26Z","author_association":"CONTRIBUTOR","body":"As part of this work, the configuration of the default planner will need to be updated as mentioned in a comment on #3460","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599470194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599475764","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1599475764","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1599475764,"node_id":"IC_kwDOACaFSM5fVhA0","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T20:50:18Z","updated_at":"2023-06-20T20:50:18Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - see #3509 \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599475764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599480813","html_url":"https://github.com/apache/accumulo/pull/3460#issuecomment-1599480813","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3460","id":1599480813,"node_id":"IC_kwDOACaFSM5fViPt","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T20:55:08Z","updated_at":"2023-06-20T20:55:08Z","author_association":"CONTRIBUTOR","body":"I merged this changes as I will soon be making a PR to move user compactions to the manager that builds on these changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599480813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599592120","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1599592120","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1599592120,"node_id":"IC_kwDOACaFSM5fV9a4","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T21:32:01Z","updated_at":"2023-06-20T21:32:53Z","author_association":"CONTRIBUTOR","body":"@dlmarion - Have you tried running before and after benchmarks with this change using https://github.com/dtspence/accumulo-jmh-test ? I'm curious what the difference is and whether we still need to actually avoid the validation entirely or if we can bring it back if this is fast enough.\r\n\r\nAlso (only applies to 3.0 and above), even though my change in #3502 changes things to avoid the validation entirely when not needed by not loading the ReferencedTabletFile, we still need to validate in MetadataConstraints (#3505 and #3506) so any optimization would be still worthwhile.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599592120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599595239","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1599595239","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1599595239,"node_id":"IC_kwDOACaFSM5fV-Ln","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T21:35:36Z","updated_at":"2023-06-20T21:35:36Z","author_association":"CONTRIBUTOR","body":"> @dlmarion - Have you tried running before and after benchmarks with this change using https://github.com/dtspence/accumulo-jmh-test ? \r\n\r\nNot yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599595239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599600137","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1599600137","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1599600137,"node_id":"IC_kwDOACaFSM5fV_YJ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T21:40:17Z","updated_at":"2023-06-20T21:40:17Z","author_association":"CONTRIBUTOR","body":"> > @dlmarion - Have you tried running before and after benchmarks with this change using https://github.com/dtspence/accumulo-jmh-test ?\r\n> \r\n> Not yet.\r\n\r\nAlright, I have some time and can re-run the benchmarks on this a little later tonight. I already have everything set up from when I was working on lazy loading so it will be quick and I can post the results.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599600137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599677302","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1599677302","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1599677302,"node_id":"IC_kwDOACaFSM5fWSN2","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T22:47:38Z","updated_at":"2023-06-20T22:47:38Z","author_association":"CONTRIBUTOR","body":"\r\n#### Benchmark _before_ this change running against the current 2.1 branch:\r\n\r\n```\r\nWarmup Iteration  0.015 ms/op\r\nIteration   1: 0.011 ms/op\r\nIteration   2: 0.010 ms/op\r\nIteration   3: 0.010 ms/op\r\n\r\n0.011 (99.9%) 0.003 ms/op [Average]\r\n(min, avg, max) = (0.010, 0.011, 0.011), stdev = 0.001\r\nCI (99.9%): [0.007, 0.014] (assumes normal distribution)\r\n```\r\n\r\n#### Benchmark _after_ this change running against the current 2.1 branch:\r\n\r\n```\r\nWarmup Iteration  0.009 ms/op\r\nIteration   1: 0.006 ms/op\r\nIteration   2: 0.006 ms/op\r\nIteration   3: 0.006 ms/op\r\n\r\n0.006 (99.9%) 0.003 ms/op [Average]\r\n(min, avg, max) = (0.006, 0.006, 0.006), stdev = 0.001\r\nCI (99.9%): [0.003, 0.009] (assumes normal distribution)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599677302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599685364","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1599685364","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1599685364,"node_id":"IC_kwDOACaFSM5fWUL0","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-20T22:56:42Z","updated_at":"2023-06-20T22:56:42Z","author_association":"CONTRIBUTOR","body":"No surprise that the change here is not quite as fast as not doing validation altogether as shown in #3501 and #3502 but it's still a very nice improvement. I haven't had a chance yet to actually go through the validation changes itself to verify it's correct but assuming the updated validation logic looks good we could incorporate a combination of both. \r\n\r\nI think the following might be a good combination to do:\r\n\r\n1. Make sure we validate file metadata on insertion/updates in MetadataConstraints. This is the work that is being done with #3504 and #3505. The validation done here could still be switched to using a more optimized version in the constructor (the change in this PR) to make it faster when we do need to validate and we need to eagerly load the TabletFile.\r\n2. Avoid validating when we don't need to. This would mostly be the case when we have existing files already in metadata so when reading it should have been validated when it was inserted/updated (assuming we do number 1). This is the work that is part of #3502 and #3501.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1599685364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1600834009","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1600834009","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1600834009,"node_id":"IC_kwDOACaFSM5fasnZ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T13:26:16Z","updated_at":"2023-06-21T13:26:16Z","author_association":"CONTRIBUTOR","body":"> The primary bottleneck does not appear to be he actual creation of the Path(). It turns out it's the call to Path.getParent() that is the main problem which is only done in our validation logic.\r\n\r\nI removed the calls to `Path.getParent()` in #3509 . Given the comment above, do we still need the changes in this and #3502?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1600834009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1600864085","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1600864085","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1600864085,"node_id":"IC_kwDOACaFSM5faz9V","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T13:44:46Z","updated_at":"2023-06-21T13:44:46Z","author_association":"CONTRIBUTOR","body":"If we merged in #3509 then I would not be opposed to reverting #3502, but I could see an argument either way. Lazy loading and lazy validation helps performance if you don't need to validate but there is always the issue of a mistake being made and you do lose the immediate check on creation so you may cause a runtime exception later. Adding validation to MetadataContraints would help prevent that in #3504 and #3506 but no guarantee future changes wouldn't invalid metadata be passed and not caught until later . It would make the changes in #3504 simpler if we reverted the lazy load as I had to do some extra work to specifically not lazy load to ensure validation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1600864085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601134294","html_url":"https://github.com/apache/accumulo/pull/3502#issuecomment-1601134294","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3502","id":1601134294,"node_id":"IC_kwDOACaFSM5fb17W","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:11:16Z","updated_at":"2023-06-21T16:11:16Z","author_association":"CONTRIBUTOR","body":"I am going to revert this change as the changes in #3509 will increase performance quite a bit and be nearly as fast as the change here but is safer as we can still validate on object creation and not potentially run into problems later. See https://github.com/apache/accumulo/pull/3509#issuecomment-1599677302 for performance numbers.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601134294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601136394","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1601136394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1601136394,"node_id":"IC_kwDOACaFSM5fb2cK","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:12:48Z","updated_at":"2023-06-21T16:12:48Z","author_association":"CONTRIBUTOR","body":"Would be good to rerun the perf test on the latest version of this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601136394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601137972","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1601137972","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1601137972,"node_id":"IC_kwDOACaFSM5fb200","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:13:59Z","updated_at":"2023-06-21T16:13:59Z","author_association":"CONTRIBUTOR","body":"> Would be good to rerun the perf test on the latest version of this.\r\n\r\nyou have any more changes? Good with this implementation?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601137972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601142557","html_url":"https://github.com/apache/accumulo/pull/3502#issuecomment-1601142557","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3502","id":1601142557,"node_id":"IC_kwDOACaFSM5fb38d","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:17:23Z","updated_at":"2023-06-21T16:17:23Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - is there anything else to do here since this has been reverted other than remove it from the 3.0.0 project which I did? I don't see a good way to mark this as no longer merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601142557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601143974","html_url":"https://github.com/apache/accumulo/issues/3394#issuecomment-1601143974","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3394","id":1601143974,"node_id":"IC_kwDOACaFSM5fb4Sm","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:18:25Z","updated_at":"2023-06-21T16:18:42Z","author_association":"MEMBER","body":"Closing this issue for now, since there are two documented workarounds (1. stop using deprecated props, and 2. use regex filter for logging), and no response from reporter since last comment a month ago. Please re-open if there's more to be done here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601143974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601152384","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1601152384","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1601152384,"node_id":"IC_kwDOACaFSM5fb6WA","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:24:27Z","updated_at":"2023-06-21T16:24:27Z","author_association":"CONTRIBUTOR","body":"> you have any more changes? Good with this implementation?\r\n\r\nYeah I took a quick look and I think it looks good.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601152384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601163139","html_url":"https://github.com/apache/accumulo/pull/3506#issuecomment-1601163139","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3506","id":1601163139,"node_id":"IC_kwDOACaFSM5fb8-D","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:32:00Z","updated_at":"2023-06-21T16:32:00Z","author_association":"CONTRIBUTOR","body":"I have updated this PR after reverting the changes from #3502 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601163139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601167112","html_url":"https://github.com/apache/accumulo/pull/3501#issuecomment-1601167112","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3501","id":1601167112,"node_id":"IC_kwDOACaFSM5fb98I","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:34:39Z","updated_at":"2023-06-21T16:34:39Z","author_association":"CONTRIBUTOR","body":"> Given the comment above, do we still need the changes in this and https://github.com/apache/accumulo/pull/3502?\r\n\r\nI am hoping we do not. I do not plan on merging this and hope to close it w/o merging if the perf of #3509 is sufficient.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601167112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601224624","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1601224624","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1601224624,"node_id":"IC_kwDOACaFSM5fcL-w","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T16:56:14Z","updated_at":"2023-06-21T16:56:14Z","author_association":"CONTRIBUTOR","body":"This seems ok to me but will require a lot of refactoring to merge into main. AbstractTabletFile contains the file name now so I am wondering if the FileParts class will need to get moved there. Also things were renamed but the merge won't work since TabletFile still exists but is now an interface so git won't be able to figure out the old version got renamed.\r\n\r\nSo when this is merged I can take a look at fixing main, probably through some manual fixing to make this patch work with the refactoring.\r\n\r\nI can re-run performance tests if everyone is good with the implementation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601224624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601248217","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1601248217","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1601248217,"node_id":"IC_kwDOACaFSM5fcRvZ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T17:08:28Z","updated_at":"2023-06-21T17:08:28Z","author_association":"CONTRIBUTOR","body":"Benchmark update after the latest changes is below. Looks to be almost the same, maybe just slightly faster.\r\n\r\n```\r\nWarmup Iteration  0.009 ms/op\r\nIteration   1: 0.006 ms/op\r\nIteration   2: 0.005 ms/op\r\nIteration   3: 0.006 ms/op\r\n\r\n0.006 (99.9%) 0.001 ms/op [Average]\r\n(min, avg, max) = (0.005, 0.006, 0.006), stdev = 0.001\r\nCI (99.9%): [0.004, 0.007] (assumes normal distribution)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601248217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601322659","html_url":"https://github.com/apache/accumulo/issues/3368#issuecomment-1601322659","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3368","id":1601322659,"node_id":"IC_kwDOACaFSM5fcj6j","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T17:55:45Z","updated_at":"2023-06-21T18:41:34Z","author_association":"CONTRIBUTOR","body":"We have seen this issue again.  Don't know if it is the same reason.\r\nThese are tservers that are exclusively handling accumulo.metadata tablets.  They were stuck spamming the following messages:\r\n```\r\nSessionManager INFO : Closing idle session from user=!SYSTEM, client=<manager node>\r\nTablet DEBUG: Waiting to completeClose for ..., 0 writes 1 scans\r\n```\r\nThis was with ACCUMULO 2.1.1-RC2","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601322659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601325445","html_url":"https://github.com/apache/accumulo/issues/3368#issuecomment-1601325445","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3368","id":1601325445,"node_id":"IC_kwDOACaFSM5fckmF","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T17:58:08Z","updated_at":"2023-06-21T18:29:22Z","author_association":"CONTRIBUTOR","body":"We have jstacks and logs captured for anybody that wants to come by and look (test system, manager node)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601325445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601553478","html_url":"https://github.com/apache/accumulo/pull/3509#issuecomment-1601553478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3509","id":1601553478,"node_id":"IC_kwDOACaFSM5fdcRG","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T19:28:05Z","updated_at":"2023-06-21T19:28:05Z","author_association":"CONTRIBUTOR","body":"There are significant conflicts because of the TabletFile refactoring done in main so I went ahead and did the work to merge 2.1 forward with this change and to rework the patch to be compatible with main here: https://github.com/apache/accumulo/pull/3510\r\n\r\nSince there were some significant differences I did a PR to get another set of eyes on it","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601553478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601579562","html_url":"https://github.com/apache/accumulo/pull/3510#issuecomment-1601579562","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3510","id":1601579562,"node_id":"IC_kwDOACaFSM5fdioq","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T19:50:46Z","updated_at":"2023-06-21T19:50:46Z","author_association":"CONTRIBUTOR","body":"I'll make sure all the checks are good and then I can merge into main","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601579562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601591341","html_url":"https://github.com/apache/accumulo/pull/3510#issuecomment-1601591341","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3510","id":1601591341,"node_id":"IC_kwDOACaFSM5fdlgt","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:00:50Z","updated_at":"2023-06-21T20:00:50Z","author_association":"MEMBER","body":"Looks like there are test failures anyway. Not sure if those are merge artifacts or implementation issues. In any case, in future scenarios like this, I recommend just merging forward the other commit with `-s ours`, and then creating a new PR to reimplement the equivalent changes in the new branch that requires re-review. That way, it can just be squash-merged directly when it's ready.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601591341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601596262","html_url":"https://github.com/apache/accumulo/pull/3510#issuecomment-1601596262","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3510","id":1601596262,"node_id":"IC_kwDOACaFSM5fdmtm","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:04:13Z","updated_at":"2023-06-21T20:04:13Z","author_association":"CONTRIBUTOR","body":"> Looks like there are test failures anyway. Not sure if those are merge artifacts or implementation issues. In any case, in future scenarios like this, I recommend just merging forward the other commit with `-s ours`, and then creating a new PR to reimplement the equivalent changes in the new branch that requires re-review. That way, it can just be squash-merged directly when it's ready.\r\n\r\nYeah it was from the extra validation commit. I actually realized when you were posting that merging this would break things with the extra merge commit. I mostly had just wanted Dave to take a look at it to make sure it was good.\r\n\r\nIn this case I did merge using -X ours and I ended up fixing things in the merge but next time I'll just do the fix in another PR after the merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601596262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601613172","html_url":"https://github.com/apache/accumulo/pull/3510#issuecomment-1601613172","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3510","id":1601613172,"node_id":"IC_kwDOACaFSM5fdq10","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:17:20Z","updated_at":"2023-06-21T20:21:17Z","author_association":"MEMBER","body":"> In this case I did merge using -X ours and I ended up fixing things in the merge but next time I'll just do the fix in another PR after the merge.\r\n\r\n`-X ours` [is not the same as](https://git-scm.com/docs/merge-strategies#Documentation/merge-strategies.txt-ours-1)  `-s ours`, and `-X ours` should be done very carefully, because it can still make changes to the destination branch. The `-X` version is a merge strategy **option** to the default merge strategy (which can vary from one git version to another). Typically, `-X` option says `merge using the default strategy, but select 'ours' when there's a conflict`. That's not usually what we want. The `-s` changes the entire merge strategy. Typically when we're merging this way, we want the destination branch we are merging *into* to be untouched by the merge... we want to connect the history only, but we want to keep the current code. That's when you should select the `-s ours` merge *strategy*, rather than the *option* on the default strategy. Usually, you should avoid `-X`, because otherwise, you'll have to try to figure out what it changed and what it kept... and it's not always obvious how to fix the conflicts it creates (and it's easy to overlook them). I find `-X` to result in far more merge bugs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601613172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601621283","html_url":"https://github.com/apache/accumulo/pull/3502#issuecomment-1601621283","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3502","id":1601621283,"node_id":"IC_kwDOACaFSM5fds0j","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:24:41Z","updated_at":"2023-06-21T20:24:41Z","author_association":"MEMBER","body":"> I don't see a good way to mark this as no longer merged.\r\n\r\nThere isn't one. It's fine. Your comment and removing the 3.0.0 project should suffice.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601621283/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601625547","html_url":"https://github.com/apache/accumulo/pull/3510#issuecomment-1601625547","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3510","id":1601625547,"node_id":"IC_kwDOACaFSM5fdt3L","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:28:20Z","updated_at":"2023-06-21T20:28:20Z","author_association":"CONTRIBUTOR","body":"> > In this case I did merge using -X ours and I ended up fixing things in the merge but next time I'll just do the fix in another PR after the merge.\r\n> \r\n> `-X ours` is not the same as `-s ours`, and `-X ours` should be done very carefully, because it can still make changes to the destination branch. The `-X` version is a merge strategy **option** to the default merge strategy (which can vary from one git version to another). Typically, `-X` option says `merge using the default strategy, but select 'ours' when there's a conflict`. That's not usually what we want. The `-s` changes the entire merge strategy. Typically when we're merging this way, we want the destination branch we are merging _into_ to be untouched by the merge... we want to connect the history only, but we want to keep the current code. That's when you should select the `-s ours` merge _strategy_, rather than the _option_ on the default strategy. Usually, you should avoid `-X`, because otherwise, you'll have to try to figure out what it changed and what it kept... and it's not always obvious how to fix the conflicts it creates (and it's easy to overlook them). I find `-X` to result in far more merge bugs.\r\n\r\nMakes sense, in this case I wanted a couple of changes except for the TabletFile changes so using -X brought that over but it was annoying going through and fixing everything. Next time I definitely plan to just use `-s ours `and just skip and re-implement the commit entirely as it would be easier. I'm used to using -X as a force of habit for merging forward things that just have version conflicts as it is handy for that.\r\n\r\nOne thing I thought of is if you use `git merge -s ours` does it only skip conflicting commits or will it not bring in any commits? Would it sill merge in commits from the source branch that merge cleanly?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601625547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601646574","html_url":"https://github.com/apache/accumulo/pull/3511#issuecomment-1601646574","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3511","id":1601646574,"node_id":"IC_kwDOACaFSM5fdy_u","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:43:27Z","updated_at":"2023-06-21T20:43:27Z","author_association":"MEMBER","body":"Need to be sure this validation method only checks prefixes for filenames that we've stored... and this code path doesn't get executed when a user provides their own file names as in put (rfile-info or as a file that is being bulk imported, for example), because users can name their RFiles anything they like.\r\n\r\nI'm also concerned generally about doing this... for a long time, when HDFS or another issue caused an RFile to be corrupt or missing, we have recommended users perform metadata surgery to place an RFile directly. I can imagine other scenarios where a user has done that for surgical/maintenance reasons (like maybe manually compacting some files that is inconvenient for them to compact using our built-in compactors), and may have their own naming convention for the file they place (and for which they add an entry to the metadata table).\r\n\r\nThis validation could break that situation where users have done that.... and not for any great reason. These file names are just conventions... they aren't a strict requirement. By default, Accumulo should work regardless of the file name, and these names would only matter for custom compaction strategies, trash policies, etc. that the user chose to deploy.\r\n\r\nMaybe a warning could be logged for unexpected name prefixes instead of a hard failure?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601646574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601662759","html_url":"https://github.com/apache/accumulo/pull/3511#issuecomment-1601662759","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3511","id":1601662759,"node_id":"IC_kwDOACaFSM5fd28n","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:55:14Z","updated_at":"2023-06-21T20:55:14Z","author_association":"CONTRIBUTOR","body":"The reference in the documentation for creating \"empty\" files is under the Advanced Troubleshooting section - Data Corruption (https://accumulo.apache.org/docs/2.x/troubleshooting/advanced).  (It was easiest to have an `empty.rf` file lying around and just use that)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601662759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601669775","html_url":"https://github.com/apache/accumulo/pull/3510#issuecomment-1601669775","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3510","id":1601669775,"node_id":"IC_kwDOACaFSM5fd4qP","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T20:59:38Z","updated_at":"2023-06-21T20:59:38Z","author_association":"MEMBER","body":"> I'm used to using -X as a force of habit for merging forward things that just have version conflicts as it is handy for that.\r\n\r\nOh yeah... great example. I should have used that after the 2.1.1 release. Instead, I just manually resolved the conflicts (using vim, one file at a time, from an SSH terminal on my phone, in the waiting room while my vehicle was getting an oil change and tire rotation). That would have **really** saved me the effort!!! :face_exhaling:\r\n\r\n> One thing I thought of is if you use `git merge -s ours` does it only skip conflicting commits or will it not bring in any commits? Would it sill merge in commits from the source branch that merge cleanly?\r\n\r\nIt brings in references to any number of HEADs being merged in, but does not change anything in the destination branch. So, if there were more than one commit in the history that you're merging in this way, you should merge that forward the regular way first. I always check that the parent is merged first, before merging anything with `-sours`.\r\n\r\nFor example:\r\n\r\n```bash\r\n$ git remote update upstream\r\n$ git checkout main && git merge upstream/main --ff-only # make sure working branch is up-to-date\r\n$ git merge upstream/2.1~1 # clean merge of 2.1's HEAD's parent commit with changes, adds one merge commit to main branch\r\n$ git merge upstream/2.1 -sours # include 2.1's HEAD without changes, adds second merge commit to main branch\r\n$ doSomeEditing # reimplement 2.1's HEAD in main branch\r\n$ git commit -a # adds a third commit to main branch for the reimplementation\r\n$ git push upstream main\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1601669775/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]