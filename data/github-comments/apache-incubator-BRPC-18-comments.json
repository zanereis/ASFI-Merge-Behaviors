[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456646479","html_url":"https://github.com/apache/brpc/issues/617#issuecomment-456646479","issue_url":"https://api.github.com/repos/apache/brpc/issues/617","id":456646479,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjY0NjQ3OQ==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T02:37:22Z","updated_at":"2019-01-23T02:37:22Z","author_association":"NONE","body":"> butex_wait 并没有自定义的回调，只是等待mutex直到有信号或者超时。\r\n> 目前，设计了一个测试场景。\r\n> \r\n> 1. bthread A中调用 butex_wait() 设置1s超时。\r\n> 2. 修改butex_wait源代码 ：在g->set_remained(wait_for_butex, &&bbw)；之前添加一句：std::this_thread:::sleep_for(2s);如此构造的原因是确保erase_from_butex_and_wakeup在Timer线程中被先执行。\r\n> 3. A 这个bthread将永远都不会被唤醒。\r\n> \r\n> 这个测试中修改源码当然是不合理的，但是我比较疑惑的是，只要erase_from_butex_and_wakeup这个超时函数在wait_for_butex之前被执行，这个场景就会出现。那么框架是如何保证erase_from_butex_and_wakeup永远不会早于wait_for_butex被执行呢？从可构造测试场景来看，这并不是一个强保证。\r\n\r\n如果不考虑2个点：\r\n1.butex_wait总是预期有butex_wake去唤醒\r\n2.butex_wait的abstime一般不会传一个精度这么小的超时（如果有，其实定时器本身也不一定能支持这么高的精度）。换句话说，如果不是故意在源码里sleep,或者remain有卡顿，你的erase_from_butex_and_wakeup比wait_for_butex先执行的情况不会发生。\r\n\r\n正确性来说，我觉得你说的是对的，只要erase_from_butex_and_wakeup先执行且没有butex_wake，该bthread就是无法唤醒的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456646479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456650194","html_url":"https://github.com/apache/brpc/issues/627#issuecomment-456650194","issue_url":"https://api.github.com/repos/apache/brpc/issues/627","id":456650194,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjY1MDE5NA==","user":{"login":"ymjing","id":1444316,"node_id":"MDQ6VXNlcjE0NDQzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1444316?v=4","gravatar_id":"","url":"https://api.github.com/users/ymjing","html_url":"https://github.com/ymjing","followers_url":"https://api.github.com/users/ymjing/followers","following_url":"https://api.github.com/users/ymjing/following{/other_user}","gists_url":"https://api.github.com/users/ymjing/gists{/gist_id}","starred_url":"https://api.github.com/users/ymjing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ymjing/subscriptions","organizations_url":"https://api.github.com/users/ymjing/orgs","repos_url":"https://api.github.com/users/ymjing/repos","events_url":"https://api.github.com/users/ymjing/events{/privacy}","received_events_url":"https://api.github.com/users/ymjing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T02:56:54Z","updated_at":"2019-01-23T02:56:54Z","author_association":"NONE","body":"搞定了，是MesaLink SSL线程不安全的bug，多谢！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456650194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456650427","html_url":"https://github.com/apache/brpc/issues/617#issuecomment-456650427","issue_url":"https://api.github.com/repos/apache/brpc/issues/617","id":456650427,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjY1MDQyNw==","user":{"login":"hexssh","id":19182427,"node_id":"MDQ6VXNlcjE5MTgyNDI3","avatar_url":"https://avatars.githubusercontent.com/u/19182427?v=4","gravatar_id":"","url":"https://api.github.com/users/hexssh","html_url":"https://github.com/hexssh","followers_url":"https://api.github.com/users/hexssh/followers","following_url":"https://api.github.com/users/hexssh/following{/other_user}","gists_url":"https://api.github.com/users/hexssh/gists{/gist_id}","starred_url":"https://api.github.com/users/hexssh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexssh/subscriptions","organizations_url":"https://api.github.com/users/hexssh/orgs","repos_url":"https://api.github.com/users/hexssh/repos","events_url":"https://api.github.com/users/hexssh/events{/privacy}","received_events_url":"https://api.github.com/users/hexssh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T02:58:11Z","updated_at":"2019-01-23T02:58:11Z","author_association":"NONE","body":"> > butex_wait 并没有自定义的回调，只是等待mutex直到有信号或者超时。\r\n> > 目前，设计了一个测试场景。\r\n> > \r\n> > 1. bthread A中调用 butex_wait() 设置1s超时。\r\n> > 2. 修改butex_wait源代码 ：在g->set_remained(wait_for_butex, &&bbw)；之前添加一句：std::this_thread:::sleep_for(2s);如此构造的原因是确保erase_from_butex_and_wakeup在Timer线程中被先执行。\r\n> > 3. A 这个bthread将永远都不会被唤醒。\r\n> > \r\n> > 这个测试中修改源码当然是不合理的，但是我比较疑惑的是，只要erase_from_butex_and_wakeup这个超时函数在wait_for_butex之前被执行，这个场景就会出现。那么框架是如何保证erase_from_butex_and_wakeup永远不会早于wait_for_butex被执行呢？从可构造测试场景来看，这并不是一个强保证。\r\n> \r\n> 如果不考虑2个点：\r\n> 1.butex_wait总是预期有butex_wake去唤醒\r\n> 2.butex_wait的abstime一般不会传一个精度这么小的超时（如果有，其实定时器本身也不一定能支持这么高的精度）。换句话说，如果不是故意在源码里sleep,或者remain有卡顿，你的erase_from_butex_and_wakeup比wait_for_butex先执行的情况不会发生。\r\n> \r\n> 正确性来说，我觉得你说的是对的，只要erase_from_butex_and_wakeup先执行且没有butex_wake，该bthread就是无法唤醒的\r\n\r\n如果不是故意在源码里sleep,或者remain有卡顿，你的erase_from_butex_and_wakeup比wait_for_butex先执行的情况不会发生。\r\n上面这个条件正常情况下确实是这样的，但是，线程是有时间片的，假如A这个线程在调用g->set_remained(wait_for_butex, &&bbw)之前由于时间片到期，而发生切换，又由于系统中存在大量的线程，那么A这个线程再次轮到时间片的时候是否就可能是毫秒级了，毫秒级的话就已经可以触发超时了。\r\n当然，这是非常极限和极端的情况，但是不排除这种可能把。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456650427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456661386","html_url":"https://github.com/apache/brpc/issues/617#issuecomment-456661386","issue_url":"https://api.github.com/repos/apache/brpc/issues/617","id":456661386,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjY2MTM4Ng==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T03:59:13Z","updated_at":"2019-01-23T03:59:13Z","author_association":"NONE","body":"> > > butex_wait 并没有自定义的回调，只是等待mutex直到有信号或者超时。\r\n> > > 目前，设计了一个测试场景。\r\n> > > \r\n> > > 1. bthread A中调用 butex_wait() 设置1s超时。\r\n> > > 2. 修改butex_wait源代码 ：在g->set_remained(wait_for_butex, &&bbw)；之前添加一句：std::this_thread:::sleep_for(2s);如此构造的原因是确保erase_from_butex_and_wakeup在Timer线程中被先执行。\r\n> > > 3. A 这个bthread将永远都不会被唤醒。\r\n> > > \r\n> > > 这个测试中修改源码当然是不合理的，但是我比较疑惑的是，只要erase_from_butex_and_wakeup这个超时函数在wait_for_butex之前被执行，这个场景就会出现。那么框架是如何保证erase_from_butex_and_wakeup永远不会早于wait_for_butex被执行呢？从可构造测试场景来看，这并不是一个强保证。\r\n> > \r\n> > \r\n> > 如果不考虑2个点：\r\n> > 1.butex_wait总是预期有butex_wake去唤醒\r\n> > 2.butex_wait的abstime一般不会传一个精度这么小的超时（如果有，其实定时器本身也不一定能支持这么高的精度）。换句话说，如果不是故意在源码里sleep,或者remain有卡顿，你的erase_from_butex_and_wakeup比wait_for_butex先执行的情况不会发生。\r\n> > 正确性来说，我觉得你说的是对的，只要erase_from_butex_and_wakeup先执行且没有butex_wake，该bthread就是无法唤醒的\r\n> \r\n> 如果不是故意在源码里sleep,或者remain有卡顿，你的erase_from_butex_and_wakeup比wait_for_butex先执行的情况不会发生。\r\n> 上面这个条件正常情况下确实是这样的，但是，线程是有时间片的，假如A这个线程在调用g->set_remained(wait_for_butex, &&bbw)之前由于时间片到期，而发生切换，又由于系统中存在大量的线程，那么A这个线程再次轮到时间片的时候是否就可能是毫秒级了，毫秒级的话就已经可以触发超时了。\r\n> 当然，这是非常极限和极端的情况，但是不排除这种可能把。\r\n\r\n是的，我觉得有可能","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456661386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456691512","html_url":"https://github.com/apache/brpc/issues/628#issuecomment-456691512","issue_url":"https://api.github.com/repos/apache/brpc/issues/628","id":456691512,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjY5MTUxMg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T06:55:29Z","updated_at":"2019-01-23T06:55:29Z","author_association":"NONE","body":"popen 堵塞了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456691512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456699497","html_url":"https://github.com/apache/brpc/issues/617#issuecomment-456699497","issue_url":"https://api.github.com/repos/apache/brpc/issues/617","id":456699497,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjY5OTQ5Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T07:33:53Z","updated_at":"2019-01-23T07:33:53Z","author_association":"CONTRIBUTOR","body":"这个问题在我本地复现了，原因是bthread在被queue进butex前，是没有container字段的，从而导致erase_from_butex_and_wakeup并没有修改waiter_state。但container这套逻辑和butex_requeue混合在一起还是相当复杂的，目前没有看到特别可信简单的改法。考虑到这个问题在实际场景中发生的可能性很低，这个问题暂时就不修复了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/456699497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457972678","html_url":"https://github.com/apache/brpc/issues/368#issuecomment-457972678","issue_url":"https://api.github.com/repos/apache/brpc/issues/368","id":457972678,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzk3MjY3OA==","user":{"login":"lip23","id":38047050,"node_id":"MDQ6VXNlcjM4MDQ3MDUw","avatar_url":"https://avatars.githubusercontent.com/u/38047050?v=4","gravatar_id":"","url":"https://api.github.com/users/lip23","html_url":"https://github.com/lip23","followers_url":"https://api.github.com/users/lip23/followers","following_url":"https://api.github.com/users/lip23/following{/other_user}","gists_url":"https://api.github.com/users/lip23/gists{/gist_id}","starred_url":"https://api.github.com/users/lip23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lip23/subscriptions","organizations_url":"https://api.github.com/users/lip23/orgs","repos_url":"https://api.github.com/users/lip23/repos","events_url":"https://api.github.com/users/lip23/events{/privacy}","received_events_url":"https://api.github.com/users/lip23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T01:19:35Z","updated_at":"2019-01-28T01:19:35Z","author_association":"NONE","body":"请问你这个问题最后怎么解决的，我也遇到了相同的问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457972678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457976095","html_url":"https://github.com/apache/brpc/issues/368#issuecomment-457976095","issue_url":"https://api.github.com/repos/apache/brpc/issues/368","id":457976095,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzk3NjA5NQ==","user":{"login":"eddie74748","id":10557665,"node_id":"MDQ6VXNlcjEwNTU3NjY1","avatar_url":"https://avatars.githubusercontent.com/u/10557665?v=4","gravatar_id":"","url":"https://api.github.com/users/eddie74748","html_url":"https://github.com/eddie74748","followers_url":"https://api.github.com/users/eddie74748/followers","following_url":"https://api.github.com/users/eddie74748/following{/other_user}","gists_url":"https://api.github.com/users/eddie74748/gists{/gist_id}","starred_url":"https://api.github.com/users/eddie74748/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eddie74748/subscriptions","organizations_url":"https://api.github.com/users/eddie74748/orgs","repos_url":"https://api.github.com/users/eddie74748/repos","events_url":"https://api.github.com/users/eddie74748/events{/privacy}","received_events_url":"https://api.github.com/users/eddie74748/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T01:50:31Z","updated_at":"2019-01-28T01:50:31Z","author_association":"NONE","body":"我这边最后发现是依赖了一个没有用c++11编译的外部库\n\n\n\n\n| |\n刘涛\n邮箱：liutao74748@163.com\n|\n\n签名由 网易邮箱大师 定制\n\n在2019年01月28日 09:19，lipcat 写道：\n\n请问你这个问题最后怎么解决的，我也遇到了相同的问题。\n\n—\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457976095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457991216","html_url":"https://github.com/apache/brpc/issues/368#issuecomment-457991216","issue_url":"https://api.github.com/repos/apache/brpc/issues/368","id":457991216,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzk5MTIxNg==","user":{"login":"lip23","id":38047050,"node_id":"MDQ6VXNlcjM4MDQ3MDUw","avatar_url":"https://avatars.githubusercontent.com/u/38047050?v=4","gravatar_id":"","url":"https://api.github.com/users/lip23","html_url":"https://github.com/lip23","followers_url":"https://api.github.com/users/lip23/followers","following_url":"https://api.github.com/users/lip23/following{/other_user}","gists_url":"https://api.github.com/users/lip23/gists{/gist_id}","starred_url":"https://api.github.com/users/lip23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lip23/subscriptions","organizations_url":"https://api.github.com/users/lip23/orgs","repos_url":"https://api.github.com/users/lip23/repos","events_url":"https://api.github.com/users/lip23/events{/privacy}","received_events_url":"https://api.github.com/users/lip23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T03:48:42Z","updated_at":"2019-01-28T03:48:42Z","author_association":"NONE","body":"非常感谢您的回复。再请问下当时怎么确定是有外部库引起的问题，我现在也在排查类似问题，但不知道怎么排查。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457991216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457991713","html_url":"https://github.com/apache/brpc/issues/626#issuecomment-457991713","issue_url":"https://api.github.com/repos/apache/brpc/issues/626","id":457991713,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzk5MTcxMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T03:52:55Z","updated_at":"2019-01-28T03:52:55Z","author_association":"CONTRIBUTOR","body":"有用master head跑过么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457991713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457991852","html_url":"https://github.com/apache/brpc/issues/630#issuecomment-457991852","issue_url":"https://api.github.com/repos/apache/brpc/issues/630","id":457991852,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzk5MTg1Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T03:54:07Z","updated_at":"2019-01-28T03:54:07Z","author_association":"CONTRIBUTOR","body":"上述代码中直接把server的done递给了client？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457991852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457993202","html_url":"https://github.com/apache/brpc/issues/630#issuecomment-457993202","issue_url":"https://api.github.com/repos/apache/brpc/issues/630","id":457993202,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzk5MzIwMg==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T04:06:06Z","updated_at":"2019-01-28T05:23:05Z","author_association":"CONTRIBUTOR","body":"> 上述代码中直接把server的done递给了client？\r\n\r\n没有，是另外一个done，已经将Server的完整实现更新贴上来了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457993202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457993206","html_url":"https://github.com/apache/brpc/pull/536#issuecomment-457993206","issue_url":"https://api.github.com/repos/apache/brpc/issues/536","id":457993206,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzk5MzIwNg==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T04:06:09Z","updated_at":"2019-01-28T04:06:09Z","author_association":"CONTRIBUTOR","body":"keep alive","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/457993206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458018530","html_url":"https://github.com/apache/brpc/issues/582#issuecomment-458018530","issue_url":"https://api.github.com/repos/apache/brpc/issues/582","id":458018530,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODAxODUzMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T07:03:22Z","updated_at":"2019-01-28T07:03:22Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458018530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458018533","html_url":"https://github.com/apache/brpc/issues/609#issuecomment-458018533","issue_url":"https://api.github.com/repos/apache/brpc/issues/609","id":458018533,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODAxODUzMw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T07:03:23Z","updated_at":"2019-01-28T07:03:23Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458018533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458019999","html_url":"https://github.com/apache/brpc/issues/636#issuecomment-458019999","issue_url":"https://api.github.com/repos/apache/brpc/issues/636","id":458019999,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODAxOTk5OQ==","user":{"login":"LittlePigIsKid","id":14962625,"node_id":"MDQ6VXNlcjE0OTYyNjI1","avatar_url":"https://avatars.githubusercontent.com/u/14962625?v=4","gravatar_id":"","url":"https://api.github.com/users/LittlePigIsKid","html_url":"https://github.com/LittlePigIsKid","followers_url":"https://api.github.com/users/LittlePigIsKid/followers","following_url":"https://api.github.com/users/LittlePigIsKid/following{/other_user}","gists_url":"https://api.github.com/users/LittlePigIsKid/gists{/gist_id}","starred_url":"https://api.github.com/users/LittlePigIsKid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LittlePigIsKid/subscriptions","organizations_url":"https://api.github.com/users/LittlePigIsKid/orgs","repos_url":"https://api.github.com/users/LittlePigIsKid/repos","events_url":"https://api.github.com/users/LittlePigIsKid/events{/privacy}","received_events_url":"https://api.github.com/users/LittlePigIsKid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-28T07:11:02Z","updated_at":"2019-01-28T07:11:02Z","author_association":"NONE","body":"打扰各位，已经找到了。controller中的一个接口","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458019999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458434474","html_url":"https://github.com/apache/brpc/pull/637#issuecomment-458434474","issue_url":"https://api.github.com/repos/apache/brpc/issues/637","id":458434474,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODQzNDQ3NA==","user":{"login":"eric-buaa-cn","id":40321036,"node_id":"MDQ6VXNlcjQwMzIxMDM2","avatar_url":"https://avatars.githubusercontent.com/u/40321036?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-buaa-cn","html_url":"https://github.com/eric-buaa-cn","followers_url":"https://api.github.com/users/eric-buaa-cn/followers","following_url":"https://api.github.com/users/eric-buaa-cn/following{/other_user}","gists_url":"https://api.github.com/users/eric-buaa-cn/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-buaa-cn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-buaa-cn/subscriptions","organizations_url":"https://api.github.com/users/eric-buaa-cn/orgs","repos_url":"https://api.github.com/users/eric-buaa-cn/repos","events_url":"https://api.github.com/users/eric-buaa-cn/events{/privacy}","received_events_url":"https://api.github.com/users/eric-buaa-cn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-29T07:25:16Z","updated_at":"2019-01-29T07:25:16Z","author_association":"CONTRIBUTOR","body":"call_once implementation is slower than double checked implementation on singleton.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458434474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458887249","html_url":"https://github.com/apache/brpc/issues/640#issuecomment-458887249","issue_url":"https://api.github.com/repos/apache/brpc/issues/640","id":458887249,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODg4NzI0OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-30T10:10:49Z","updated_at":"2019-01-30T10:10:49Z","author_association":"CONTRIBUTOR","body":"1. 先尝试用master head来确保不受 #632 的影响\r\n2. 在怀疑有问题的server上打开/connections，找到有嫌疑的h2连接，点击最右侧的SocketId链接，复制下其中的信息。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458887249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458887960","html_url":"https://github.com/apache/brpc/issues/634#issuecomment-458887960","issue_url":"https://api.github.com/repos/apache/brpc/issues/634","id":458887960,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODg4Nzk2MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-30T10:13:12Z","updated_at":"2019-01-30T10:13:12Z","author_association":"CONTRIBUTOR","body":"master head是有这个文件的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/458887960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459197669","html_url":"https://github.com/apache/brpc/issues/626#issuecomment-459197669","issue_url":"https://api.github.com/repos/apache/brpc/issues/626","id":459197669,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTE5NzY2OQ==","user":{"login":"kenshinxf","id":7056720,"node_id":"MDQ6VXNlcjcwNTY3MjA=","avatar_url":"https://avatars.githubusercontent.com/u/7056720?v=4","gravatar_id":"","url":"https://api.github.com/users/kenshinxf","html_url":"https://github.com/kenshinxf","followers_url":"https://api.github.com/users/kenshinxf/followers","following_url":"https://api.github.com/users/kenshinxf/following{/other_user}","gists_url":"https://api.github.com/users/kenshinxf/gists{/gist_id}","starred_url":"https://api.github.com/users/kenshinxf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kenshinxf/subscriptions","organizations_url":"https://api.github.com/users/kenshinxf/orgs","repos_url":"https://api.github.com/users/kenshinxf/repos","events_url":"https://api.github.com/users/kenshinxf/events{/privacy}","received_events_url":"https://api.github.com/users/kenshinxf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-31T03:06:11Z","updated_at":"2019-01-31T03:06:11Z","author_association":"NONE","body":"我记得较早版本中有些异常处理有问题，master head应该后面有修复过， 但是看上面的core不太像异常","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459197669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459223471","html_url":"https://github.com/apache/brpc/issues/641#issuecomment-459223471","issue_url":"https://api.github.com/repos/apache/brpc/issues/641","id":459223471,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTIyMzQ3MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-31T05:44:12Z","updated_at":"2019-01-31T05:44:12Z","author_association":"CONTRIBUTOR","body":"符合预期，lalb追求的就是最小化平均延时，所以每个节点的负载可能相差很大。lalb不是默认的负载均衡算法，rr才是。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459223471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459227520","html_url":"https://github.com/apache/brpc/issues/641#issuecomment-459227520","issue_url":"https://api.github.com/repos/apache/brpc/issues/641","id":459227520,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTIyNzUyMA==","user":{"login":"marvv","id":11213167,"node_id":"MDQ6VXNlcjExMjEzMTY3","avatar_url":"https://avatars.githubusercontent.com/u/11213167?v=4","gravatar_id":"","url":"https://api.github.com/users/marvv","html_url":"https://github.com/marvv","followers_url":"https://api.github.com/users/marvv/followers","following_url":"https://api.github.com/users/marvv/following{/other_user}","gists_url":"https://api.github.com/users/marvv/gists{/gist_id}","starred_url":"https://api.github.com/users/marvv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marvv/subscriptions","organizations_url":"https://api.github.com/users/marvv/orgs","repos_url":"https://api.github.com/users/marvv/repos","events_url":"https://api.github.com/users/marvv/events{/privacy}","received_events_url":"https://api.github.com/users/marvv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-31T06:07:04Z","updated_at":"2019-01-31T06:07:04Z","author_association":"NONE","body":"谢谢解答","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459227520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459652521","html_url":"https://github.com/apache/brpc/issues/634#issuecomment-459652521","issue_url":"https://api.github.com/repos/apache/brpc/issues/634","id":459652521,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTY1MjUyMQ==","user":{"login":"cswxin","id":9425725,"node_id":"MDQ6VXNlcjk0MjU3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/9425725?v=4","gravatar_id":"","url":"https://api.github.com/users/cswxin","html_url":"https://github.com/cswxin","followers_url":"https://api.github.com/users/cswxin/followers","following_url":"https://api.github.com/users/cswxin/following{/other_user}","gists_url":"https://api.github.com/users/cswxin/gists{/gist_id}","starred_url":"https://api.github.com/users/cswxin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cswxin/subscriptions","organizations_url":"https://api.github.com/users/cswxin/orgs","repos_url":"https://api.github.com/users/cswxin/repos","events_url":"https://api.github.com/users/cswxin/events{/privacy}","received_events_url":"https://api.github.com/users/cswxin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-01T08:58:56Z","updated_at":"2019-02-01T08:58:56Z","author_association":"NONE","body":"unit-dmkit的deps.sh脚本checkout了2ae7f04ce513c6aee27545df49d5439a98ae3a3f版本","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459652521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459736900","html_url":"https://github.com/apache/brpc/issues/642#issuecomment-459736900","issue_url":"https://api.github.com/repos/apache/brpc/issues/642","id":459736900,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTczNjkwMA==","user":{"login":"niukuo","id":6831097,"node_id":"MDQ6VXNlcjY4MzEwOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6831097?v=4","gravatar_id":"","url":"https://api.github.com/users/niukuo","html_url":"https://github.com/niukuo","followers_url":"https://api.github.com/users/niukuo/followers","following_url":"https://api.github.com/users/niukuo/following{/other_user}","gists_url":"https://api.github.com/users/niukuo/gists{/gist_id}","starred_url":"https://api.github.com/users/niukuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niukuo/subscriptions","organizations_url":"https://api.github.com/users/niukuo/orgs","repos_url":"https://api.github.com/users/niukuo/repos","events_url":"https://api.github.com/users/niukuo/events{/privacy}","received_events_url":"https://api.github.com/users/niukuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-01T14:18:32Z","updated_at":"2019-02-01T14:18:32Z","author_association":"CONTRIBUTOR","body":"主要的需求是client端是golang，业务使用streaming比较容易实现，有没有什么建议？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459736900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459827436","html_url":"https://github.com/apache/brpc/issues/612#issuecomment-459827436","issue_url":"https://api.github.com/repos/apache/brpc/issues/612","id":459827436,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTgyNzQzNg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-01T18:49:37Z","updated_at":"2019-02-01T18:49:37Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459827436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459947078","html_url":"https://github.com/apache/brpc/issues/643#issuecomment-459947078","issue_url":"https://api.github.com/repos/apache/brpc/issues/643","id":459947078,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTk0NzA3OA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-02T08:34:04Z","updated_at":"2019-02-02T08:34:04Z","author_association":"CONTRIBUTOR","body":"@jamesge  帮忙看下这个问题。\r\n目前想到的解决方案有两个：\r\n1. socket::setfailed()里清空所有pending的WriteRequest\r\n2. SocketMap::Remove()前确保相关socket的healthcheck()已经停止。 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459947078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459950178","html_url":"https://github.com/apache/brpc/issues/644#issuecomment-459950178","issue_url":"https://api.github.com/repos/apache/brpc/issues/644","id":459950178,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTk1MDE3OA==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-02T09:23:56Z","updated_at":"2019-02-02T09:23:56Z","author_association":"NONE","body":"说下我的理解，可能有误差，请指正：\r\n主要问题是https://github.com/brpc/brpc/blob/master/src/bthread/task_group.cpp\r\n![image](https://user-images.githubusercontent.com/7167017/52162388-52948000-270e-11e9-8824-7a4db4d7df5c.png)\r\n\r\n在分配内存失败之后，会把bthread的butex_wait切到线程模式，这样看似苟活了一段时间，但是如果QPS高的时候，瞬时相同的butex_wait操作大于总线程数的时候，由于bthread_id_join->butex_wait里面会阻塞在wait_pthread，导致全部可用线程都阻塞了，则没有工作线程可以把callmthod异步回包任务调度回来了，从而导致死锁。\r\n\r\n我的观点，如果发现因为内存不足导致的问题，最好可以直接assert,避免这种苟活下死锁引起更复杂问题的查问题成本。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/459950178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/460101089","html_url":"https://github.com/apache/brpc/issues/611#issuecomment-460101089","issue_url":"https://api.github.com/repos/apache/brpc/issues/611","id":460101089,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDEwMTA4OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-03T23:57:48Z","updated_at":"2019-02-03T23:57:48Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/460101089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/460101090","html_url":"https://github.com/apache/brpc/issues/613#issuecomment-460101090","issue_url":"https://api.github.com/repos/apache/brpc/issues/613","id":460101090,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDEwMTA5MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-03T23:57:49Z","updated_at":"2019-02-03T23:57:49Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/460101090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462018005","html_url":"https://github.com/apache/brpc/issues/616#issuecomment-462018005","issue_url":"https://api.github.com/repos/apache/brpc/issues/616","id":462018005,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjAxODAwNQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-09T06:17:00Z","updated_at":"2019-02-09T06:17:00Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462018005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462212971","html_url":"https://github.com/apache/brpc/issues/646#issuecomment-462212971","issue_url":"https://api.github.com/repos/apache/brpc/issues/646","id":462212971,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjIxMjk3MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-11T03:46:40Z","updated_at":"2019-02-11T03:46:40Z","author_association":"CONTRIBUTOR","body":"一次只需要唤醒一个，额外醒的线程也会由于锁的互斥性又陷入睡眠，这种无用的醒来和睡眠叫惊群。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462212971/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462213625","html_url":"https://github.com/apache/brpc/issues/645#issuecomment-462213625","issue_url":"https://api.github.com/repos/apache/brpc/issues/645","id":462213625,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjIxMzYyNQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-11T03:53:45Z","updated_at":"2019-02-11T03:53:45Z","author_association":"CONTRIBUTOR","body":"这里可以考虑抛出std::system_error和std::mutex行为对齐。另外也可以先检查下为什么butex分配失败，是不是某些对象的数量不符合预期了，另外也可以考虑打开[-crash_on_fatal_log](https://github.com/brpc/brpc/blob/19f3e87409af789cb17b8ef004b5a5aff7540263/src/butil/logging.cc#L115)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462213625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462605089","html_url":"https://github.com/apache/brpc/issues/647#issuecomment-462605089","issue_url":"https://api.github.com/repos/apache/brpc/issues/647","id":462605089,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjYwNTA4OQ==","user":{"login":"choleraehyq","id":8923413,"node_id":"MDQ6VXNlcjg5MjM0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/8923413?v=4","gravatar_id":"","url":"https://api.github.com/users/choleraehyq","html_url":"https://github.com/choleraehyq","followers_url":"https://api.github.com/users/choleraehyq/followers","following_url":"https://api.github.com/users/choleraehyq/following{/other_user}","gists_url":"https://api.github.com/users/choleraehyq/gists{/gist_id}","starred_url":"https://api.github.com/users/choleraehyq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/choleraehyq/subscriptions","organizations_url":"https://api.github.com/users/choleraehyq/orgs","repos_url":"https://api.github.com/users/choleraehyq/repos","events_url":"https://api.github.com/users/choleraehyq/events{/privacy}","received_events_url":"https://api.github.com/users/choleraehyq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-12T03:52:13Z","updated_at":"2019-02-12T03:52:13Z","author_association":"CONTRIBUTOR","body":"补充一下，使用的协议是 thrift，这个不知道有没有关系","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462605089/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462605540","html_url":"https://github.com/apache/brpc/issues/644#issuecomment-462605540","issue_url":"https://api.github.com/repos/apache/brpc/issues/644","id":462605540,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjYwNTU0MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-12T03:55:01Z","updated_at":"2019-02-12T03:55:01Z","author_association":"CONTRIBUTOR","body":"这个问题治本比较复杂，治标的话可以加条FATAL日志。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462605540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462700916","html_url":"https://github.com/apache/brpc/issues/644#issuecomment-462700916","issue_url":"https://api.github.com/repos/apache/brpc/issues/644","id":462700916,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjcwMDkxNg==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-12T10:17:06Z","updated_at":"2019-02-12T10:17:06Z","author_association":"NONE","body":"> 这个问题治本比较复杂，治标的话可以加条FATAL日志。\r\n\r\n话说如果我们自己的brpc版本，考虑在非pthread 做stack alloc失败，直接 assert，会有啥风险么，请大佬帮忙评估一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462700916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462729094","html_url":"https://github.com/apache/brpc/issues/644#issuecomment-462729094","issue_url":"https://api.github.com/repos/apache/brpc/issues/644","id":462729094,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjcyOTA5NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-12T11:46:02Z","updated_at":"2019-02-12T11:46:02Z","author_association":"CONTRIBUTOR","body":"assert程序直接挂掉了，我理解没什么其他风险。加上-crash_on_fatal_log选项的话，碰到FATAL日志也会挂。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/462729094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463095881","html_url":"https://github.com/apache/brpc/issues/644#issuecomment-463095881","issue_url":"https://api.github.com/repos/apache/brpc/issues/644","id":463095881,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzA5NTg4MQ==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T07:54:57Z","updated_at":"2019-02-13T07:54:57Z","author_association":"NONE","body":"> assert程序直接挂掉了，我理解没什么其他风险。加上-crash_on_fatal_log选项的话，碰到FATAL日志也会挂。\r\n\r\n好的，多谢解答","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463095881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463181213","html_url":"https://github.com/apache/brpc/pull/625#issuecomment-463181213","issue_url":"https://api.github.com/repos/apache/brpc/issues/625","id":463181213,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzE4MTIxMw==","user":{"login":"choleraehyq","id":8923413,"node_id":"MDQ6VXNlcjg5MjM0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/8923413?v=4","gravatar_id":"","url":"https://api.github.com/users/choleraehyq","html_url":"https://github.com/choleraehyq","followers_url":"https://api.github.com/users/choleraehyq/followers","following_url":"https://api.github.com/users/choleraehyq/following{/other_user}","gists_url":"https://api.github.com/users/choleraehyq/gists{/gist_id}","starred_url":"https://api.github.com/users/choleraehyq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/choleraehyq/subscriptions","organizations_url":"https://api.github.com/users/choleraehyq/orgs","repos_url":"https://api.github.com/users/choleraehyq/repos","events_url":"https://api.github.com/users/choleraehyq/events{/privacy}","received_events_url":"https://api.github.com/users/choleraehyq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T12:27:37Z","updated_at":"2019-02-13T12:27:37Z","author_association":"CONTRIBUTOR","body":"这个好像 brpc 里并没有用到？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463181213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463182274","html_url":"https://github.com/apache/brpc/issues/647#issuecomment-463182274","issue_url":"https://api.github.com/repos/apache/brpc/issues/647","id":463182274,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzE4MjI3NA==","user":{"login":"lorinlee","id":16054841,"node_id":"MDQ6VXNlcjE2MDU0ODQx","avatar_url":"https://avatars.githubusercontent.com/u/16054841?v=4","gravatar_id":"","url":"https://api.github.com/users/lorinlee","html_url":"https://github.com/lorinlee","followers_url":"https://api.github.com/users/lorinlee/followers","following_url":"https://api.github.com/users/lorinlee/following{/other_user}","gists_url":"https://api.github.com/users/lorinlee/gists{/gist_id}","starred_url":"https://api.github.com/users/lorinlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lorinlee/subscriptions","organizations_url":"https://api.github.com/users/lorinlee/orgs","repos_url":"https://api.github.com/users/lorinlee/repos","events_url":"https://api.github.com/users/lorinlee/events{/privacy}","received_events_url":"https://api.github.com/users/lorinlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T12:31:26Z","updated_at":"2019-02-13T12:31:26Z","author_association":"CONTRIBUTOR","body":"#648 猜测了一种可能性并尝试了fix，在acquire tls block的时候可能会拿到一个full的block，比如使用IOBuf::append将当前tls的头部block写满了，然后有bthread release了一个block，后面append再次将这个block写满，tls会有两个full的block，按当前的实现acquire的时候会拿到一个full的block，在release的时候会abort，辛苦review @jamesge ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463182274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463507452","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-463507452","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":463507452,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzUwNzQ1Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T06:27:26Z","updated_at":"2019-02-14T06:27:26Z","author_association":"CONTRIBUTOR","body":"一致性哈希的虚拟节点不能防止“打到集中的几个server上”这个情况么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463507452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463508365","html_url":"https://github.com/apache/brpc/pull/625#issuecomment-463508365","issue_url":"https://api.github.com/repos/apache/brpc/issues/625","id":463508365,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzUwODM2NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T06:31:46Z","updated_at":"2019-02-14T06:31:46Z","author_association":"CONTRIBUTOR","body":"有多线程环境下的性能测试结果么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463508365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463511328","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-463511328","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":463511328,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzUxMTMyOA==","user":{"login":"THCloud","id":13058247,"node_id":"MDQ6VXNlcjEzMDU4MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/13058247?v=4","gravatar_id":"","url":"https://api.github.com/users/THCloud","html_url":"https://github.com/THCloud","followers_url":"https://api.github.com/users/THCloud/followers","following_url":"https://api.github.com/users/THCloud/following{/other_user}","gists_url":"https://api.github.com/users/THCloud/gists{/gist_id}","starred_url":"https://api.github.com/users/THCloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/THCloud/subscriptions","organizations_url":"https://api.github.com/users/THCloud/orgs","repos_url":"https://api.github.com/users/THCloud/repos","events_url":"https://api.github.com/users/THCloud/events{/privacy}","received_events_url":"https://api.github.com/users/THCloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T06:44:38Z","updated_at":"2019-02-14T06:44:38Z","author_association":"NONE","body":"是希望热点区间能够分配到足够多的虚拟节点","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463511328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463512990","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-463512990","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":463512990,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzUxMjk5MA==","user":{"login":"THCloud","id":13058247,"node_id":"MDQ6VXNlcjEzMDU4MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/13058247?v=4","gravatar_id":"","url":"https://api.github.com/users/THCloud","html_url":"https://github.com/THCloud","followers_url":"https://api.github.com/users/THCloud/followers","following_url":"https://api.github.com/users/THCloud/following{/other_user}","gists_url":"https://api.github.com/users/THCloud/gists{/gist_id}","starred_url":"https://api.github.com/users/THCloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/THCloud/subscriptions","organizations_url":"https://api.github.com/users/THCloud/orgs","repos_url":"https://api.github.com/users/THCloud/repos","events_url":"https://api.github.com/users/THCloud/events{/privacy}","received_events_url":"https://api.github.com/users/THCloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T06:51:53Z","updated_at":"2019-02-14T06:51:53Z","author_association":"NONE","body":"因为没有看到类似相关的资料。所以在想能不能把权重的元素带到一致性hash中。核心的诉求是当有热点range的时候能有更多的server去分摊流量压力。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463512990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463514822","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-463514822","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":463514822,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzUxNDgyMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T06:59:35Z","updated_at":"2019-02-14T06:59:35Z","author_association":"CONTRIBUTOR","body":"正文中“我们为每个server计算m个hash值”中的m就是虚拟节点的个数。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463514822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463515665","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-463515665","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":463515665,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzUxNTY2NQ==","user":{"login":"THCloud","id":13058247,"node_id":"MDQ6VXNlcjEzMDU4MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/13058247?v=4","gravatar_id":"","url":"https://api.github.com/users/THCloud","html_url":"https://github.com/THCloud","followers_url":"https://api.github.com/users/THCloud/followers","following_url":"https://api.github.com/users/THCloud/following{/other_user}","gists_url":"https://api.github.com/users/THCloud/gists{/gist_id}","starred_url":"https://api.github.com/users/THCloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/THCloud/subscriptions","organizations_url":"https://api.github.com/users/THCloud/orgs","repos_url":"https://api.github.com/users/THCloud/repos","events_url":"https://api.github.com/users/THCloud/events{/privacy}","received_events_url":"https://api.github.com/users/THCloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T07:03:17Z","updated_at":"2019-02-14T07:04:03Z","author_association":"NONE","body":"我试试重新描述一下这个问题：\r\n比如我的range是 0到1000的整数。  现在发现流量爆发在50到60这个小range内了。\r\nn个server，每个server有m个hash值。总共有n*m个虚拟节点，去划分0到1000这个range。\r\n诉求是50~60这个小range内能分配到尽可能多的server（就是server不同的虚拟节点。）\r\n\r\n没有看到相关的资料，一致性hash如何做这个保证。还望戈神解惑。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463515665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463517072","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-463517072","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":463517072,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzUxNzA3Mg==","user":{"login":"THCloud","id":13058247,"node_id":"MDQ6VXNlcjEzMDU4MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/13058247?v=4","gravatar_id":"","url":"https://api.github.com/users/THCloud","html_url":"https://github.com/THCloud","followers_url":"https://api.github.com/users/THCloud/followers","following_url":"https://api.github.com/users/THCloud/following{/other_user}","gists_url":"https://api.github.com/users/THCloud/gists{/gist_id}","starred_url":"https://api.github.com/users/THCloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/THCloud/subscriptions","organizations_url":"https://api.github.com/users/THCloud/orgs","repos_url":"https://api.github.com/users/THCloud/repos","events_url":"https://api.github.com/users/THCloud/events{/privacy}","received_events_url":"https://api.github.com/users/THCloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T07:09:08Z","updated_at":"2019-02-14T07:41:28Z","author_association":"NONE","body":"emm还有个点就是，可能考虑到在hash的背景下，50到60这个range应该被hash到整个ring。然后结合虚拟节点，热点被均摊到所有server。但是这样可能带来另一个问题是：后端存储如果50到60这个区间挂掉了，会影响整个集群所有server。\r\n\r\n所以考虑hash仍旧使用原始的key，这样50到60的range仍旧还是在原区间内。n个server每个server仍旧分配m个虚拟节点，用于遍布全range。但是当我们发现了50到60这个range热点的时候，需要一个措施使得对应处理的range的server尽量多一些（包括这些server可能只保留一个虚拟节点，不再处理其他的range）。\r\n\r\n\r\n不知道表述明白了没有。。。总之就是当服务有明显sharding特征的时候，如何结合存储和一致性hash，解决热点问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463517072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463570518","html_url":"https://github.com/apache/brpc/pull/534#issuecomment-463570518","issue_url":"https://api.github.com/repos/apache/brpc/issues/534","id":463570518,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzU3MDUxOA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T10:11:46Z","updated_at":"2019-02-14T10:11:46Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463570518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463612028","html_url":"https://github.com/apache/brpc/pull/592#issuecomment-463612028","issue_url":"https://api.github.com/repos/apache/brpc/issues/592","id":463612028,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzYxMjAyOA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-14T12:37:50Z","updated_at":"2019-02-14T12:37:50Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463612028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463876859","html_url":"https://github.com/apache/brpc/pull/592#issuecomment-463876859","issue_url":"https://api.github.com/repos/apache/brpc/issues/592","id":463876859,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mzg3Njg1OQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T01:56:48Z","updated_at":"2019-02-15T01:56:48Z","author_association":"CONTRIBUTOR","body":"keep alive","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463876859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463898209","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-463898209","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":463898209,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mzg5ODIwOQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T04:03:23Z","updated_at":"2019-02-15T04:19:35Z","author_association":"MEMBER","body":"当你用cryptographic hash functions的时候，比如SHA1、md5，结果本来就是均匀分布的，不会出现热点在50到60这个区间的现象。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463898209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463916644","html_url":"https://github.com/apache/brpc/issues/653#issuecomment-463916644","issue_url":"https://api.github.com/repos/apache/brpc/issues/653","id":463916644,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzkxNjY0NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T05:52:41Z","updated_at":"2019-02-15T05:52:41Z","author_association":"CONTRIBUTOR","body":"相关的parse函数确实可以考虑返回ParseError","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/463916644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464146600","html_url":"https://github.com/apache/brpc/issues/653#issuecomment-464146600","issue_url":"https://api.github.com/repos/apache/brpc/issues/653","id":464146600,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDE0NjYwMA==","user":{"login":"lorinlee","id":16054841,"node_id":"MDQ6VXNlcjE2MDU0ODQx","avatar_url":"https://avatars.githubusercontent.com/u/16054841?v=4","gravatar_id":"","url":"https://api.github.com/users/lorinlee","html_url":"https://github.com/lorinlee","followers_url":"https://api.github.com/users/lorinlee/followers","following_url":"https://api.github.com/users/lorinlee/following{/other_user}","gists_url":"https://api.github.com/users/lorinlee/gists{/gist_id}","starred_url":"https://api.github.com/users/lorinlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lorinlee/subscriptions","organizations_url":"https://api.github.com/users/lorinlee/orgs","repos_url":"https://api.github.com/users/lorinlee/repos","events_url":"https://api.github.com/users/lorinlee/events{/privacy}","received_events_url":"https://api.github.com/users/lorinlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-15T18:13:47Z","updated_at":"2019-02-15T18:13:47Z","author_association":"CONTRIBUTOR","body":"#654 尝试修复这个问题，辛苦review @jamesge @cdjingit ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464146600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464299576","html_url":"https://github.com/apache/brpc/pull/625#issuecomment-464299576","issue_url":"https://api.github.com/repos/apache/brpc/issues/625","id":464299576,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDI5OTU3Ng==","user":{"login":"Aleda","id":9194433,"node_id":"MDQ6VXNlcjkxOTQ0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/9194433?v=4","gravatar_id":"","url":"https://api.github.com/users/Aleda","html_url":"https://github.com/Aleda","followers_url":"https://api.github.com/users/Aleda/followers","following_url":"https://api.github.com/users/Aleda/following{/other_user}","gists_url":"https://api.github.com/users/Aleda/gists{/gist_id}","starred_url":"https://api.github.com/users/Aleda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aleda/subscriptions","organizations_url":"https://api.github.com/users/Aleda/orgs","repos_url":"https://api.github.com/users/Aleda/repos","events_url":"https://api.github.com/users/Aleda/events{/privacy}","received_events_url":"https://api.github.com/users/Aleda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-16T06:19:44Z","updated_at":"2019-02-16T06:19:44Z","author_association":"NONE","body":"是的，这个并不涉及brpc本身，只是作为一个单独数据结构提到butils作为借鉴与后续出现类似场景的使用。\r\n多线程环境以及和其他类似实现的性能对比，我这边有一些数据，不过并没有细致的整理。\r\n后面我提交一下相应的bench mark和性能数据。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464299576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464395143","html_url":"https://github.com/apache/brpc/issues/657#issuecomment-464395143","issue_url":"https://api.github.com/repos/apache/brpc/issues/657","id":464395143,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDM5NTE0Mw==","user":{"login":"photoszzt","id":1476795,"node_id":"MDQ6VXNlcjE0NzY3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1476795?v=4","gravatar_id":"","url":"https://api.github.com/users/photoszzt","html_url":"https://github.com/photoszzt","followers_url":"https://api.github.com/users/photoszzt/followers","following_url":"https://api.github.com/users/photoszzt/following{/other_user}","gists_url":"https://api.github.com/users/photoszzt/gists{/gist_id}","starred_url":"https://api.github.com/users/photoszzt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/photoszzt/subscriptions","organizations_url":"https://api.github.com/users/photoszzt/orgs","repos_url":"https://api.github.com/users/photoszzt/repos","events_url":"https://api.github.com/users/photoszzt/events{/privacy}","received_events_url":"https://api.github.com/users/photoszzt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-16T22:42:17Z","updated_at":"2019-02-16T22:42:17Z","author_association":"CONTRIBUTOR","body":"I can make it run by commenting out <glog/logging.h> and google::InitGoogleLogging. I'm not quiet understand why the example includes two logging methods. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464395143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464429284","html_url":"https://github.com/apache/brpc/issues/656#issuecomment-464429284","issue_url":"https://api.github.com/repos/apache/brpc/issues/656","id":464429284,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDQyOTI4NA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-17T08:37:45Z","updated_at":"2019-02-17T08:37:45Z","author_association":"MEMBER","body":"你的protobuf应该是3.7，其中把GOOGLE_PROTOBUF_DECLARE_ONCE和GoogleOnceInit都删掉了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464429284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464483657","html_url":"https://github.com/apache/brpc/issues/624#issuecomment-464483657","issue_url":"https://api.github.com/repos/apache/brpc/issues/624","id":464483657,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDQ4MzY1Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-17T17:20:02Z","updated_at":"2019-02-17T17:20:02Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464483657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464573681","html_url":"https://github.com/apache/brpc/issues/643#issuecomment-464573681","issue_url":"https://api.github.com/repos/apache/brpc/issues/643","id":464573681,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDU3MzY4MQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-18T03:53:05Z","updated_at":"2019-02-18T03:53:05Z","author_association":"CONTRIBUTOR","body":"ping @jamesge ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464573681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464579002","html_url":"https://github.com/apache/brpc/issues/658#issuecomment-464579002","issue_url":"https://api.github.com/repos/apache/brpc/issues/658","id":464579002,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDU3OTAwMg==","user":{"login":"GardianT","id":38547380,"node_id":"MDQ6VXNlcjM4NTQ3Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/38547380?v=4","gravatar_id":"","url":"https://api.github.com/users/GardianT","html_url":"https://github.com/GardianT","followers_url":"https://api.github.com/users/GardianT/followers","following_url":"https://api.github.com/users/GardianT/following{/other_user}","gists_url":"https://api.github.com/users/GardianT/gists{/gist_id}","starred_url":"https://api.github.com/users/GardianT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GardianT/subscriptions","organizations_url":"https://api.github.com/users/GardianT/orgs","repos_url":"https://api.github.com/users/GardianT/repos","events_url":"https://api.github.com/users/GardianT/events{/privacy}","received_events_url":"https://api.github.com/users/GardianT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-18T04:25:34Z","updated_at":"2019-02-18T04:25:34Z","author_association":"NONE","body":"大约对应这里。\r\n\r\n\r\n```\r\n    CHECK_EQ(SSL_CONNECTED, ssl_state());\r\n    if (_conn) {\r\n        // TODO: Separate SSL stuff from SocketConnection\r\n        return _conn->CutMessageIntoSSLChannel(_ssl_session, data_list, ndata);\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464579002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464581573","html_url":"https://github.com/apache/brpc/issues/643#issuecomment-464581573","issue_url":"https://api.github.com/repos/apache/brpc/issues/643","id":464581573,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDU4MTU3Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-18T04:40:09Z","updated_at":"2019-02-18T04:40:28Z","author_association":"CONTRIBUTOR","body":"这个check可能是不必要的，除了这个fatal之外并没有其他问题吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464581573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464585172","html_url":"https://github.com/apache/brpc/issues/643#issuecomment-464585172","issue_url":"https://api.github.com/repos/apache/brpc/issues/643","id":464585172,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDU4NTE3Mg==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-18T05:00:51Z","updated_at":"2019-02-18T05:00:51Z","author_association":"CONTRIBUTOR","body":"没有发现其他问题，那就去掉这个check吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464585172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464648969","html_url":"https://github.com/apache/brpc/issues/659#issuecomment-464648969","issue_url":"https://api.github.com/repos/apache/brpc/issues/659","id":464648969,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDY0ODk2OQ==","user":{"login":"CalvinNeo","id":5670241,"node_id":"MDQ6VXNlcjU2NzAyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5670241?v=4","gravatar_id":"","url":"https://api.github.com/users/CalvinNeo","html_url":"https://github.com/CalvinNeo","followers_url":"https://api.github.com/users/CalvinNeo/followers","following_url":"https://api.github.com/users/CalvinNeo/following{/other_user}","gists_url":"https://api.github.com/users/CalvinNeo/gists{/gist_id}","starred_url":"https://api.github.com/users/CalvinNeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CalvinNeo/subscriptions","organizations_url":"https://api.github.com/users/CalvinNeo/orgs","repos_url":"https://api.github.com/users/CalvinNeo/repos","events_url":"https://api.github.com/users/CalvinNeo/events{/privacy}","received_events_url":"https://api.github.com/users/CalvinNeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-18T09:13:16Z","updated_at":"2019-02-18T09:13:16Z","author_association":"NONE","body":"请参考 https://github.com/brpc/brpc/issues/656","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464648969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464649545","html_url":"https://github.com/apache/brpc/issues/656#issuecomment-464649545","issue_url":"https://api.github.com/repos/apache/brpc/issues/656","id":464649545,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDY0OTU0NQ==","user":{"login":"CalvinNeo","id":5670241,"node_id":"MDQ6VXNlcjU2NzAyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5670241?v=4","gravatar_id":"","url":"https://api.github.com/users/CalvinNeo","html_url":"https://github.com/CalvinNeo","followers_url":"https://api.github.com/users/CalvinNeo/followers","following_url":"https://api.github.com/users/CalvinNeo/following{/other_user}","gists_url":"https://api.github.com/users/CalvinNeo/gists{/gist_id}","starred_url":"https://api.github.com/users/CalvinNeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CalvinNeo/subscriptions","organizations_url":"https://api.github.com/users/CalvinNeo/orgs","repos_url":"https://api.github.com/users/CalvinNeo/repos","events_url":"https://api.github.com/users/CalvinNeo/events{/privacy}","received_events_url":"https://api.github.com/users/CalvinNeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-18T09:14:55Z","updated_at":"2019-02-18T09:16:50Z","author_association":"NONE","body":"这个一般怎么解决，是换到某个较低版本的protobuf？因为我本地还有gRPC，它好像对protobuf的版本也有要求的，想问问有没有什么比较简便的办法修改一下brpc源码？例如将GoogleOnceInit改成基于`std::call_once`的实现？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464649545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464673112","html_url":"https://github.com/apache/brpc/issues/623#issuecomment-464673112","issue_url":"https://api.github.com/repos/apache/brpc/issues/623","id":464673112,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDY3MzExMg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-18T10:20:02Z","updated_at":"2019-02-18T10:20:02Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464673112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464973747","html_url":"https://github.com/apache/brpc/issues/661#issuecomment-464973747","issue_url":"https://api.github.com/repos/apache/brpc/issues/661","id":464973747,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDk3Mzc0Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T04:06:10Z","updated_at":"2019-02-19T04:06:10Z","author_association":"CONTRIBUTOR","body":"protoc和libprotobuf可能是两个包，protoc也可能被用户自定义path中的同名bin覆盖。排查掉一些基本的因素，再用包管理工具检查它们的版本是否一致，是否要更新到最新。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/464973747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465003444","html_url":"https://github.com/apache/brpc/issues/661#issuecomment-465003444","issue_url":"https://api.github.com/repos/apache/brpc/issues/661","id":465003444,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTAwMzQ0NA==","user":{"login":"XufengXufengXufeng","id":31204817,"node_id":"MDQ6VXNlcjMxMjA0ODE3","avatar_url":"https://avatars.githubusercontent.com/u/31204817?v=4","gravatar_id":"","url":"https://api.github.com/users/XufengXufengXufeng","html_url":"https://github.com/XufengXufengXufeng","followers_url":"https://api.github.com/users/XufengXufengXufeng/followers","following_url":"https://api.github.com/users/XufengXufengXufeng/following{/other_user}","gists_url":"https://api.github.com/users/XufengXufengXufeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XufengXufengXufeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XufengXufengXufeng/subscriptions","organizations_url":"https://api.github.com/users/XufengXufengXufeng/orgs","repos_url":"https://api.github.com/users/XufengXufengXufeng/repos","events_url":"https://api.github.com/users/XufengXufengXufeng/events{/privacy}","received_events_url":"https://api.github.com/users/XufengXufengXufeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T06:33:23Z","updated_at":"2019-02-19T06:33:23Z","author_association":"NONE","body":"不好意思，我找不到libprotobuf，find 和which都用了。protoc用which找到了，在我的anaconda bin里，不知道是不是我应该找的。没有了解过protobuf也对ubuntu文件管理系统不了解，只是想把这个brpc编译好，做其它事情。求讲的再具体些，@jamesge . ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465003444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465005564","html_url":"https://github.com/apache/brpc/issues/656#issuecomment-465005564","issue_url":"https://api.github.com/repos/apache/brpc/issues/656","id":465005564,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTAwNTU2NA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T06:41:52Z","updated_at":"2019-02-19T06:41:52Z","author_association":"MEMBER","body":"3.7现在是pre-release状态，3.6里还是有这个函数的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465005564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465106729","html_url":"https://github.com/apache/brpc/issues/656#issuecomment-465106729","issue_url":"https://api.github.com/repos/apache/brpc/issues/656","id":465106729,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTEwNjcyOQ==","user":{"login":"CalvinNeo","id":5670241,"node_id":"MDQ6VXNlcjU2NzAyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5670241?v=4","gravatar_id":"","url":"https://api.github.com/users/CalvinNeo","html_url":"https://github.com/CalvinNeo","followers_url":"https://api.github.com/users/CalvinNeo/followers","following_url":"https://api.github.com/users/CalvinNeo/following{/other_user}","gists_url":"https://api.github.com/users/CalvinNeo/gists{/gist_id}","starred_url":"https://api.github.com/users/CalvinNeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CalvinNeo/subscriptions","organizations_url":"https://api.github.com/users/CalvinNeo/orgs","repos_url":"https://api.github.com/users/CalvinNeo/repos","events_url":"https://api.github.com/users/CalvinNeo/events{/privacy}","received_events_url":"https://api.github.com/users/CalvinNeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T12:16:16Z","updated_at":"2019-02-19T12:16:16Z","author_association":"NONE","body":"我在https://github.com/protocolbuffers/protobuf 上拉取了[3.6.0的release](https://github.com/protocolbuffers/protobuf/releases/tag/v3.6.0)，再编译brpc时时发现缺少头文件google/protobuf/port_def.inc，如下图所示\r\n![image](https://user-images.githubusercontent.com/5670241/53014208-c3fc5e80-3482-11e9-98a1-81d94875d31d.png)\r\n\r\n我检查了下，这个头文件最早出现在[v3.7.0rc1](https://github.com/protocolbuffers/protobuf/releases/tag/v3.7.0rc1)的release版本中。想问问这个怎么解决呢？十分感谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465106729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465132325","html_url":"https://github.com/apache/brpc/issues/656#issuecomment-465132325","issue_url":"https://api.github.com/repos/apache/brpc/issues/656","id":465132325,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTEzMjMyNQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T13:42:58Z","updated_at":"2019-02-19T13:42:58Z","author_association":"CONTRIBUTOR","body":"pb.cc要重新生成，make clean一下。\r\n\r\n关于pb 3.7.x：其生成的pb.cc有比较大的变化，GoogleOnce相关的代码被call_once代替了，但这个比较容易适配；另一个是注册Descriptor的接口变化很大，这个目前没看到简洁的适配方法。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465132325/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465133085","html_url":"https://github.com/apache/brpc/pull/654#issuecomment-465133085","issue_url":"https://api.github.com/repos/apache/brpc/issues/654","id":465133085,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTEzMzA4NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-19T13:45:21Z","updated_at":"2019-02-19T13:45:21Z","author_association":"CONTRIBUTOR","body":"感谢修复~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465133085/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465382428","html_url":"https://github.com/apache/brpc/issues/658#issuecomment-465382428","issue_url":"https://api.github.com/repos/apache/brpc/issues/658","id":465382428,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTM4MjQyOA==","user":{"login":"GardianT","id":38547380,"node_id":"MDQ6VXNlcjM4NTQ3Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/38547380?v=4","gravatar_id":"","url":"https://api.github.com/users/GardianT","html_url":"https://github.com/GardianT","followers_url":"https://api.github.com/users/GardianT/followers","following_url":"https://api.github.com/users/GardianT/following{/other_user}","gists_url":"https://api.github.com/users/GardianT/gists{/gist_id}","starred_url":"https://api.github.com/users/GardianT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GardianT/subscriptions","organizations_url":"https://api.github.com/users/GardianT/orgs","repos_url":"https://api.github.com/users/GardianT/repos","events_url":"https://api.github.com/users/GardianT/events{/privacy}","received_events_url":"https://api.github.com/users/GardianT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T01:32:22Z","updated_at":"2019-02-20T01:32:22Z","author_association":"NONE","body":"没进展么。。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465382428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465398753","html_url":"https://github.com/apache/brpc/issues/661#issuecomment-465398753","issue_url":"https://api.github.com/repos/apache/brpc/issues/661","id":465398753,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTM5ODc1Mw==","user":{"login":"XufengXufengXufeng","id":31204817,"node_id":"MDQ6VXNlcjMxMjA0ODE3","avatar_url":"https://avatars.githubusercontent.com/u/31204817?v=4","gravatar_id":"","url":"https://api.github.com/users/XufengXufengXufeng","html_url":"https://github.com/XufengXufengXufeng","followers_url":"https://api.github.com/users/XufengXufengXufeng/followers","following_url":"https://api.github.com/users/XufengXufengXufeng/following{/other_user}","gists_url":"https://api.github.com/users/XufengXufengXufeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XufengXufengXufeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XufengXufengXufeng/subscriptions","organizations_url":"https://api.github.com/users/XufengXufengXufeng/orgs","repos_url":"https://api.github.com/users/XufengXufengXufeng/repos","events_url":"https://api.github.com/users/XufengXufengXufeng/events{/privacy}","received_events_url":"https://api.github.com/users/XufengXufengXufeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-20T02:48:27Z","updated_at":"2019-02-20T03:16:52Z","author_association":"NONE","body":"这个错误我通过了，不知道是不是解决了，但是不再报了。\r\n\r\n首先我使用：protoc --version 检查了我的protoc版本是3.5.1，然后我在[protobuf下载地址]( https://github.com/protocolbuffers/protobuf/releases)下载了c_++版protobuf。并按照[c++安装方法](https://github.com/protocolbuffers/protobuf/blob/master/src/README.md)安装来protobuf3.5.1，然后选择了系统内的protoc作为编译软件？输入`./configure --with-protoc=protoc`。 \r\n\r\n然后我在做getting_started.md中的’Compile brpc with config_brpc.sh‘，就不会报’newer version of protoc‘错误了。后来又报Linking protoc-gen-mcpack过程中一大堆未定义的引用错误。然后我改用cmake来编译brpc，就不报这个错了。具体地`mkdir bld && cd bld && cmake .. && make`。\r\n\r\n然后后边测试没报错。希望后边其它软件调用这个brpc平台时不会报错。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465398753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465836660","html_url":"https://github.com/apache/brpc/issues/550#issuecomment-465836660","issue_url":"https://api.github.com/repos/apache/brpc/issues/550","id":465836660,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTgzNjY2MA==","user":{"login":"mengrenfeixiang","id":31334693,"node_id":"MDQ6VXNlcjMxMzM0Njkz","avatar_url":"https://avatars.githubusercontent.com/u/31334693?v=4","gravatar_id":"","url":"https://api.github.com/users/mengrenfeixiang","html_url":"https://github.com/mengrenfeixiang","followers_url":"https://api.github.com/users/mengrenfeixiang/followers","following_url":"https://api.github.com/users/mengrenfeixiang/following{/other_user}","gists_url":"https://api.github.com/users/mengrenfeixiang/gists{/gist_id}","starred_url":"https://api.github.com/users/mengrenfeixiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mengrenfeixiang/subscriptions","organizations_url":"https://api.github.com/users/mengrenfeixiang/orgs","repos_url":"https://api.github.com/users/mengrenfeixiang/repos","events_url":"https://api.github.com/users/mengrenfeixiang/events{/privacy}","received_events_url":"https://api.github.com/users/mengrenfeixiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-21T02:27:44Z","updated_at":"2019-02-21T02:27:44Z","author_association":"NONE","body":"**执行make时，报如下错误。**\r\n<命令行>:0:11: 错误：‘gflags’未声明\r\nsrc/butil/logging.cc:1387:50: 附注：in expansion of macro ‘GFLAGS_NS’\r\n const bool ALLOW_UNUSED validate_vmodule_dummy = GFLAGS_NS::RegisterFlagValidator(\r\n                                                  ^\r\n<命令行>:0:11: 错误：‘gflags’未声明\r\nsrc/butil/logging.cc:1417:44: 附注：in expansion of macro ‘GFLAGS_NS’\r\n const bool ALLOW_UNUSED validate_v_dummy = GFLAGS_NS::RegisterFlagValidator(\r\n                                            ^\r\n<命令行>:0:11: 错误：‘gflags’未声明\r\nsrc/butil/logging.cc:1425:5: 附注：in expansion of macro ‘GFLAGS_NS’\r\n     GFLAGS_NS::RegisterFlagValidator(&FLAGS_crash_on_fatal_log, PassValidate);\r\n     ^\r\n<命令行>:0:11: 错误：‘gflags’未声明\r\nsrc/butil/logging.cc:1428:5: 附注：in expansion of macro ‘GFLAGS_NS’\r\n     GFLAGS_NS::RegisterFlagValidator(&FLAGS_print_stack_on_check, PassValidate);\r\n     ^\r\n<命令行>:0:11: 错误：‘gflags’未声明\r\nsrc/butil/logging.cc:1434:50: 附注：in expansion of macro ‘GFLAGS_NS’\r\n const bool ALLOW_UNUSED validate_min_log_level = GFLAGS_NS::RegisterFlagValidator(\r\n                                                  ^\r\nmake: *** [src/butil/logging.o] 错误 1\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/465836660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466020521","html_url":"https://github.com/apache/brpc/issues/641#issuecomment-466020521","issue_url":"https://api.github.com/repos/apache/brpc/issues/641","id":466020521,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjAyMDUyMQ==","user":{"login":"marvv","id":11213167,"node_id":"MDQ6VXNlcjExMjEzMTY3","avatar_url":"https://avatars.githubusercontent.com/u/11213167?v=4","gravatar_id":"","url":"https://api.github.com/users/marvv","html_url":"https://github.com/marvv","followers_url":"https://api.github.com/users/marvv/followers","following_url":"https://api.github.com/users/marvv/following{/other_user}","gists_url":"https://api.github.com/users/marvv/gists{/gist_id}","starred_url":"https://api.github.com/users/marvv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marvv/subscriptions","organizations_url":"https://api.github.com/users/marvv/orgs","repos_url":"https://api.github.com/users/marvv/repos","events_url":"https://api.github.com/users/marvv/events{/privacy}","received_events_url":"https://api.github.com/users/marvv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-21T14:31:43Z","updated_at":"2019-02-21T14:31:43Z","author_association":"NONE","body":"请问生产环境lalb用得多吗，与wrr的大致比例是如何的呢？\r\n假设后端节点服务性能一致的情况下，lalb比wrr性能会差一些？\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466020521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466262461","html_url":"https://github.com/apache/brpc/issues/641#issuecomment-466262461","issue_url":"https://api.github.com/repos/apache/brpc/issues/641","id":466262461,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjI2MjQ2MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-22T03:41:01Z","updated_at":"2019-02-22T03:41:01Z","author_association":"CONTRIBUTOR","body":"lalb可类比为wrr+一种weight调节机制，没法横向比较。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466262461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466268054","html_url":"https://github.com/apache/brpc/pull/465#issuecomment-466268054","issue_url":"https://api.github.com/repos/apache/brpc/issues/465","id":466268054,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjI2ODA1NA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-22T04:19:00Z","updated_at":"2019-02-22T04:19:00Z","author_association":"CONTRIBUTOR","body":"request to re-open","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466268054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466299813","html_url":"https://github.com/apache/brpc/issues/658#issuecomment-466299813","issue_url":"https://api.github.com/repos/apache/brpc/issues/658","id":466299813,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjI5OTgxMw==","user":{"login":"old-bear","id":1525532,"node_id":"MDQ6VXNlcjE1MjU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1525532?v=4","gravatar_id":"","url":"https://api.github.com/users/old-bear","html_url":"https://github.com/old-bear","followers_url":"https://api.github.com/users/old-bear/followers","following_url":"https://api.github.com/users/old-bear/following{/other_user}","gists_url":"https://api.github.com/users/old-bear/gists{/gist_id}","starred_url":"https://api.github.com/users/old-bear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/old-bear/subscriptions","organizations_url":"https://api.github.com/users/old-bear/orgs","repos_url":"https://api.github.com/users/old-bear/repos","events_url":"https://api.github.com/users/old-bear/events{/privacy}","received_events_url":"https://api.github.com/users/old-bear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-22T07:22:15Z","updated_at":"2019-02-22T07:22:15Z","author_association":"CONTRIBUTOR","body":"不好意思，前两天有点忙。\r\n麻烦进入第三层栈，把Socket对象里的数据都打出来看看。\r\n另外，client是长链接还是短连接方式？core之前日志里有没有和server断开的信息","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466299813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466308157","html_url":"https://github.com/apache/brpc/issues/617#issuecomment-466308157","issue_url":"https://api.github.com/repos/apache/brpc/issues/617","id":466308157,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjMwODE1Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-22T07:58:40Z","updated_at":"2019-02-22T07:58:40Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466308157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466311188","html_url":"https://github.com/apache/brpc/issues/665#issuecomment-466311188","issue_url":"https://api.github.com/repos/apache/brpc/issues/665","id":466311188,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjMxMTE4OA==","user":{"login":"cswxin","id":9425725,"node_id":"MDQ6VXNlcjk0MjU3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/9425725?v=4","gravatar_id":"","url":"https://api.github.com/users/cswxin","html_url":"https://github.com/cswxin","followers_url":"https://api.github.com/users/cswxin/followers","following_url":"https://api.github.com/users/cswxin/following{/other_user}","gists_url":"https://api.github.com/users/cswxin/gists{/gist_id}","starred_url":"https://api.github.com/users/cswxin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cswxin/subscriptions","organizations_url":"https://api.github.com/users/cswxin/orgs","repos_url":"https://api.github.com/users/cswxin/repos","events_url":"https://api.github.com/users/cswxin/events{/privacy}","received_events_url":"https://api.github.com/users/cswxin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-22T08:11:40Z","updated_at":"2019-02-22T08:11:40Z","author_association":"NONE","body":"重装gflags2.0，protobuf3.5.1，leveldb后就好了。。。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466311188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466725820","html_url":"https://github.com/apache/brpc/issues/658#issuecomment-466725820","issue_url":"https://api.github.com/repos/apache/brpc/issues/658","id":466725820,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjcyNTgyMA==","user":{"login":"GardianT","id":38547380,"node_id":"MDQ6VXNlcjM4NTQ3Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/38547380?v=4","gravatar_id":"","url":"https://api.github.com/users/GardianT","html_url":"https://github.com/GardianT","followers_url":"https://api.github.com/users/GardianT/followers","following_url":"https://api.github.com/users/GardianT/following{/other_user}","gists_url":"https://api.github.com/users/GardianT/gists{/gist_id}","starred_url":"https://api.github.com/users/GardianT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GardianT/subscriptions","organizations_url":"https://api.github.com/users/GardianT/orgs","repos_url":"https://api.github.com/users/GardianT/repos","events_url":"https://api.github.com/users/GardianT/events{/privacy}","received_events_url":"https://api.github.com/users/GardianT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-24T01:58:39Z","updated_at":"2019-02-24T01:58:39Z","author_association":"NONE","body":"$1 = {static STREAM_FAKE_FD = 2147483647, static PROGRESS_INIT = 1, _versioned_ref = {<boost::atomics::atomic<unsigned long>> = {<boost::atomics::detail::base_atomic<unsigned long, int>> = {m_storage = 21474836482}, <No data fields>}, <No data fields>},\r\n  _shared_part = {<boost::atomics::atomic<baidu::rpc::Socket::SharedPart*>> = {<boost::atomics::detail::base_atomic<baidu::rpc::Socket::SharedPart*, void*>> = {m_storage = 139838969303664}, <No data fields>}, <No data fields>},\r\n  _nevent = {<boost::atomics::atomic<int>> = {<boost::atomics::detail::base_atomic<int, int>> = {m_storage = 0}, <No data fields>}, <No data fields>}, _keytable_pool = 0x0, _fd = {<boost::atomics::atomic<int>> = {<boost::atomics::detail::base_atomic<int, int>> = {\r\n        m_storage = -1}, <No data fields>}, <No data fields>}, _tos = 0, _reset_fd_real_us = 1550196902116673, _remote_side = {ip = {s_addr = 355817738}, port = 9992}, _local_side = {ip = {s_addr = 0}, port = 0}, _on_edge_triggered_events = 0x5f6dc0\r\n     <baidu::rpc::InputMessenger::OnNewMessages(baidu::rpc::Socket*)>, _options = {fd = -1, remote_side = {ip = {s_addr = 355817738}, port = 9992}, user = 0x2ac7ae0, on_edge_triggered_events = 0x5f6dc0 <baidu::rpc::InputMessenger::OnNewMessages(baidu::rpc::Socket*)>,\r\n    health_check_interval_s = 3, owns_ssl_ctx = true, ssl_ctx = 0x0, sni_name = {static npos = <optimized out>, _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>},\r\n        _M_p = 0x17e1fb8 <std::string::_Rep::_S_empty_rep_storage@@GLIBCXX_3.4+24> \"\"}}, keytable_pool = 0x0, conn = 0x0, app_connect = 0x0, initial_parsing_context = 0x0}, _user = 0x2ac7ae0, _conn = 0x0, _app_connect = 0x0, _this_id = 17179872856,\r\n  _preferred_index = 1, _hc_count = 0, _last_msg_size = 0, _avg_msg_size = 63, _read_buf = {<base::IOBuf> = {static DEFAULT_BLOCK_SIZE = 8192, static INITIAL_CAP = 32, static BLOCK_SIZE = 8192, static DEFAULT_PAYLOAD = 8160, static MAX_BLOCK_SIZE = 65536,\r\n      static MAX_PAYLOAD = 65504, static INVALID_AREA = 0, {_bv = {magic = 0, start = 0, refs = 0x0, nref = 0, cap_mask = 0, nbytes = 0}, _sv = {refs = {{offset = 0, length = 0, block = 0x0}, {offset = 0, length = 0, block = 0x0}}}}}, _block = 0x0},\r\n  _read_control_buf = {<base::IOBuf> = {static DEFAULT_BLOCK_SIZE = 8192, static INITIAL_CAP = 32, static BLOCK_SIZE = 8192, static DEFAULT_PAYLOAD = 8160, static MAX_BLOCK_SIZE = 65536, static MAX_PAYLOAD = 65504, static INVALID_AREA = 0, {_bv = {magic = 0,\r\n          start = 0, refs = 0x0, nref = 0, cap_mask = 0, nbytes = 0}, _sv = {refs = {{offset = 0, length = 0, block = 0x0}, {offset = 0, length = 0, block = 0x0}}}}}, _block = 0x0},\r\n  _last_readtime_us = {<boost::atomics::atomic<long>> = {<boost::atomics::detail::base_atomic<long, int>> = {m_storage = 24016361002002}, <No data fields>}, <No data fields>},\r\n  _parsing_context = {<boost::atomics::atomic<baidu::rpc::Destroyable*>> = {<boost::atomics::detail::base_atomic<baidu::rpc::Destroyable*, void*>> = {m_storage = 0}, <No data fields>}, <No data fields>}, _correlation_id = 0, _health_check_interval_s = 3,\r\n  _ninprocess = {<boost::atomics::atomic<unsigned int>> = {<boost::atomics::detail::base_atomic<unsigned int, int>> = {m_storage = 1}, <No data fields>}, <No data fields>},\r\n  _auth_flag_error = {<boost::atomics::atomic<unsigned long>> = {<boost::atomics::detail::base_atomic<unsigned long, int>> = {m_storage = 0}, <No data fields>}, <No data fields>}, _auth_id = {value = 63595583885171}, _auth_context = 0x0,\r\n  _ssl_state = baidu::rpc::SSL_UNKNOWN, _ssl_session = 0x0, _connection_type_for_progressive_read = baidu::rpc::CONNECTION_TYPE_UNKNOWN, _controller_released_socket = {<boost::atomics::atomic<bool>> = {<boost::atomics::detail::base_atomic<bool, int>> = {\r\n        m_storage = 0 '\\000'}, <No data fields>}, <No data fields>}, _overcrowded = true, _fail_me_at_server_stop = false, _logoff_flag = {<boost::atomics::atomic<bool>> = {<boost::atomics::detail::base_atomic<bool, int>> = {\r\n        m_storage = 0 '\\000'}, <No data fields>}, <No data fields>}, _recycle_flag = {<boost::atomics::atomic<bool>> = {<boost::atomics::detail::base_atomic<bool, int>> = {m_storage = 1 '\\001'}, <No data fields>}, <No data fields>}, _error_code = 104, _error_text = {\r\n    static npos = <optimized out>, _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>},\r\n      _M_p = 0x7f2ed162f4d8 \"Fail to read from fd=2797 SocketId=17179872856@10.89.53.21:9992@27623: Connection reset by peer\"}}, _pipeline_mutex = {_native_handle = {__data = {__lock = 0, __count = 0, __owner = 0, __nusers = 0, __kind = 0, __spins = 0, __elision = 0,\r\n        __list = {__prev = 0x0, __next = 0x0}}, __size = '\\000' <repeats 39 times>, __align = 0}}, _pipeline_q = 0x0, _id_wait_list_mutex = {__data = {__lock = 0, __count = 0, __owner = 0, __nusers = 0, __kind = 0, __spins = 0, __elision = 0, __list = {__prev = 0x0,\r\n        __next = 0x0}}, __size = '\\000' <repeats 39 times>, __align = 0}, _id_wait_list = {impl = 0x0, head = 0, size = 0, conflict_head = 0, conflict_size = 0},\r\n  _last_writetime_us = {<boost::atomics::atomic<long>> = {<boost::atomics::detail::base_atomic<long, int>> = {m_storage = 24016361002002}, <No data fields>}, <No data fields>},\r\n  _unwritten_bytes = {<boost::atomics::atomic<long>> = {<boost::atomics::detail::base_atomic<long, int>> = {m_storage = 67270261}, <No data fields>}, <No data fields>}, _epollout_butex = 0x7f2c3517c550,\r\n  _write_head = {<boost::atomics::atomic<baidu::rpc::Socket::WriteRequest*>> = {<boost::atomics::detail::base_atomic<baidu::rpc::Socket::WriteRequest*, void*>> = {m_storage = 139837280143696}, <No data fields>}, <No data fields>}, _stream_mutex = {_native_handle = {\r\n      __data = {__lock = 0, __count = 0, __owner = 0, __nusers = 0, __kind = 0, __spins = 0, __elision = 0, __list = {__prev = 0x0, __next = 0x0}}, __size = '\\000' <repeats 39 times>, __align = 0}}, _stream_set = 0x0, _rdma_ep = 0x0, _enable_rdma = false,\r\n  _can_set_enable_rdma = {<boost::atomics::atomic<bool>> = {<boost::atomics::detail::base_atomic<bool, int>> = {m_storage = 1 '\\001'}, <No data fields>}, <No data fields>}, _enable_rdma_lock = {_native_handle = {__data = {__lock = 0, __count = 0, __owner = 0,\r\n        __nusers = 0, __kind = 0, __spins = 0, __elision = 0, __list = {__prev = 0x0, __next = 0x0}}, __size = '\\000' <repeats 39 times>, __align = 0}}}","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466725820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466725889","html_url":"https://github.com/apache/brpc/issues/658#issuecomment-466725889","issue_url":"https://api.github.com/repos/apache/brpc/issues/658","id":466725889,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjcyNTg4OQ==","user":{"login":"GardianT","id":38547380,"node_id":"MDQ6VXNlcjM4NTQ3Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/38547380?v=4","gravatar_id":"","url":"https://api.github.com/users/GardianT","html_url":"https://github.com/GardianT","followers_url":"https://api.github.com/users/GardianT/followers","following_url":"https://api.github.com/users/GardianT/following{/other_user}","gists_url":"https://api.github.com/users/GardianT/gists{/gist_id}","starred_url":"https://api.github.com/users/GardianT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GardianT/subscriptions","organizations_url":"https://api.github.com/users/GardianT/orgs","repos_url":"https://api.github.com/users/GardianT/repos","events_url":"https://api.github.com/users/GardianT/events{/privacy}","received_events_url":"https://api.github.com/users/GardianT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-24T02:00:01Z","updated_at":"2019-02-24T02:00:01Z","author_association":"NONE","body":"链接方式是默认。日志因为已经被清理了，看不到了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466725889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466863057","html_url":"https://github.com/apache/brpc/issues/670#issuecomment-466863057","issue_url":"https://api.github.com/repos/apache/brpc/issues/670","id":466863057,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Njg2MzA1Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T03:53:45Z","updated_at":"2019-02-25T03:53:45Z","author_association":"CONTRIBUTOR","body":"单纯地阻塞在wait_task没有太大的问题，比如服务并不很忙用不到所有的线程，要看有没有相关的一些症状。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466863057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466864275","html_url":"https://github.com/apache/brpc/issues/668#issuecomment-466864275","issue_url":"https://api.github.com/repos/apache/brpc/issues/668","id":466864275,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Njg2NDI3NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T04:01:06Z","updated_at":"2019-02-25T04:01:06Z","author_association":"CONTRIBUTOR","body":"起多个进程就行了。多进程共享数据是很麻烦的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466864275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466883704","html_url":"https://github.com/apache/brpc/issues/479#issuecomment-466883704","issue_url":"https://api.github.com/repos/apache/brpc/issues/479","id":466883704,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Njg4MzcwNA==","user":{"login":"eric-buaa-cn","id":40321036,"node_id":"MDQ6VXNlcjQwMzIxMDM2","avatar_url":"https://avatars.githubusercontent.com/u/40321036?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-buaa-cn","html_url":"https://github.com/eric-buaa-cn","followers_url":"https://api.github.com/users/eric-buaa-cn/followers","following_url":"https://api.github.com/users/eric-buaa-cn/following{/other_user}","gists_url":"https://api.github.com/users/eric-buaa-cn/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-buaa-cn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-buaa-cn/subscriptions","organizations_url":"https://api.github.com/users/eric-buaa-cn/orgs","repos_url":"https://api.github.com/users/eric-buaa-cn/repos","events_url":"https://api.github.com/users/eric-buaa-cn/events{/privacy}","received_events_url":"https://api.github.com/users/eric-buaa-cn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T06:07:19Z","updated_at":"2019-02-25T06:07:19Z","author_association":"CONTRIBUTOR","body":"Does \"Unknown error 1014\"  and \"got eof\" have the same meaning?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/466883704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467038969","html_url":"https://github.com/apache/brpc/issues/669#issuecomment-467038969","issue_url":"https://api.github.com/repos/apache/brpc/issues/669","id":467038969,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzAzODk2OQ==","user":{"login":"ehds","id":17853449,"node_id":"MDQ6VXNlcjE3ODUzNDQ5","avatar_url":"https://avatars.githubusercontent.com/u/17853449?v=4","gravatar_id":"","url":"https://api.github.com/users/ehds","html_url":"https://github.com/ehds","followers_url":"https://api.github.com/users/ehds/followers","following_url":"https://api.github.com/users/ehds/following{/other_user}","gists_url":"https://api.github.com/users/ehds/gists{/gist_id}","starred_url":"https://api.github.com/users/ehds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehds/subscriptions","organizations_url":"https://api.github.com/users/ehds/orgs","repos_url":"https://api.github.com/users/ehds/repos","events_url":"https://api.github.com/users/ehds/events{/privacy}","received_events_url":"https://api.github.com/users/ehds/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T14:49:39Z","updated_at":"2019-02-25T14:49:39Z","author_association":"CONTRIBUTOR","body":"换了一下gflag的版本又重新编译了一下，可以通过了，braft也跑通了！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467038969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467263296","html_url":"https://github.com/apache/brpc/issues/668#issuecomment-467263296","issue_url":"https://api.github.com/repos/apache/brpc/issues/668","id":467263296,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzI2MzI5Ng==","user":{"login":"leihuxi","id":10073010,"node_id":"MDQ6VXNlcjEwMDczMDEw","avatar_url":"https://avatars.githubusercontent.com/u/10073010?v=4","gravatar_id":"","url":"https://api.github.com/users/leihuxi","html_url":"https://github.com/leihuxi","followers_url":"https://api.github.com/users/leihuxi/followers","following_url":"https://api.github.com/users/leihuxi/following{/other_user}","gists_url":"https://api.github.com/users/leihuxi/gists{/gist_id}","starred_url":"https://api.github.com/users/leihuxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leihuxi/subscriptions","organizations_url":"https://api.github.com/users/leihuxi/orgs","repos_url":"https://api.github.com/users/leihuxi/repos","events_url":"https://api.github.com/users/leihuxi/events{/privacy}","received_events_url":"https://api.github.com/users/leihuxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T02:06:53Z","updated_at":"2019-02-26T02:06:53Z","author_association":"NONE","body":"多进程可以大大降低业务的开发成本, 多线程对业务开发人员还是有些要求的, 比如不小心使用了全局变量,\r\n而且调用库很多都不是线程安全的, 多进程更不容易崩溃掉整个服务.\r\n如果能支持可选是最好的.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467263296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467296195","html_url":"https://github.com/apache/brpc/issues/658#issuecomment-467296195","issue_url":"https://api.github.com/repos/apache/brpc/issues/658","id":467296195,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzI5NjE5NQ==","user":{"login":"old-bear","id":1525532,"node_id":"MDQ6VXNlcjE1MjU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1525532?v=4","gravatar_id":"","url":"https://api.github.com/users/old-bear","html_url":"https://github.com/old-bear","followers_url":"https://api.github.com/users/old-bear/followers","following_url":"https://api.github.com/users/old-bear/following{/other_user}","gists_url":"https://api.github.com/users/old-bear/gists{/gist_id}","starred_url":"https://api.github.com/users/old-bear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/old-bear/subscriptions","organizations_url":"https://api.github.com/users/old-bear/orgs","repos_url":"https://api.github.com/users/old-bear/repos","events_url":"https://api.github.com/users/old-bear/events{/privacy}","received_events_url":"https://api.github.com/users/old-bear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T05:01:37Z","updated_at":"2019-02-26T05:01:37Z","author_association":"CONTRIBUTOR","body":"fd=-1，Fail to read from fd=2797 SocketId=17179872856@10.89.53.21:9992@27623: Connection reset by peer\"\r\n应该是链接被关闭后，不知道怎么又触发write了，我内部看下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467296195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467394205","html_url":"https://github.com/apache/brpc/issues/671#issuecomment-467394205","issue_url":"https://api.github.com/repos/apache/brpc/issues/671","id":467394205,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzM5NDIwNQ==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T10:57:54Z","updated_at":"2019-02-26T10:57:54Z","author_association":"MEMBER","body":"如果你们有机器监控的话，可以看下那段时间是不是机器的tcp重传丢包比较严重. 或者机器本身load是不是很高","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467394205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467703334","html_url":"https://github.com/apache/brpc/issues/671#issuecomment-467703334","issue_url":"https://api.github.com/repos/apache/brpc/issues/671","id":467703334,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzcwMzMzNA==","user":{"login":"liangjianqun","id":9302958,"node_id":"MDQ6VXNlcjkzMDI5NTg=","avatar_url":"https://avatars.githubusercontent.com/u/9302958?v=4","gravatar_id":"","url":"https://api.github.com/users/liangjianqun","html_url":"https://github.com/liangjianqun","followers_url":"https://api.github.com/users/liangjianqun/followers","following_url":"https://api.github.com/users/liangjianqun/following{/other_user}","gists_url":"https://api.github.com/users/liangjianqun/gists{/gist_id}","starred_url":"https://api.github.com/users/liangjianqun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liangjianqun/subscriptions","organizations_url":"https://api.github.com/users/liangjianqun/orgs","repos_url":"https://api.github.com/users/liangjianqun/repos","events_url":"https://api.github.com/users/liangjianqun/events{/privacy}","received_events_url":"https://api.github.com/users/liangjianqun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T02:53:49Z","updated_at":"2019-02-27T02:53:49Z","author_association":"NONE","body":"@chenzhangyi Load没什么变化，昨天出现了多次25秒的连接不上，\r\n每次出现的时候都和TcpExt.TCPTimeouts  (Server端/Client端)，TcpExt.TCPAbortOnTimeout（Client端）这两个监控项对应上，具体的表现是（Server端的机器）TcpExt.TCPTimeouts在25秒连接不上时飙高，（Client端的机器）TcpExt.TCPAbortOnTimeout和TcpExt.TCPTimeouts飙高。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467703334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467724387","html_url":"https://github.com/apache/brpc/pull/536#issuecomment-467724387","issue_url":"https://api.github.com/repos/apache/brpc/issues/536","id":467724387,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzcyNDM4Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T04:57:15Z","updated_at":"2019-02-27T04:57:15Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467724387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467730269","html_url":"https://github.com/apache/brpc/issues/649#issuecomment-467730269","issue_url":"https://api.github.com/repos/apache/brpc/issues/649","id":467730269,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzczMDI2OQ==","user":{"login":"account-login","id":9835862,"node_id":"MDQ6VXNlcjk4MzU4NjI=","avatar_url":"https://avatars.githubusercontent.com/u/9835862?v=4","gravatar_id":"","url":"https://api.github.com/users/account-login","html_url":"https://github.com/account-login","followers_url":"https://api.github.com/users/account-login/followers","following_url":"https://api.github.com/users/account-login/following{/other_user}","gists_url":"https://api.github.com/users/account-login/gists{/gist_id}","starred_url":"https://api.github.com/users/account-login/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/account-login/subscriptions","organizations_url":"https://api.github.com/users/account-login/orgs","repos_url":"https://api.github.com/users/account-login/repos","events_url":"https://api.github.com/users/account-login/events{/privacy}","received_events_url":"https://api.github.com/users/account-login/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T05:33:12Z","updated_at":"2019-02-27T05:33:12Z","author_association":"NONE","body":"楼主的意思应该是带权重的一致性哈希。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467730269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467734753","html_url":"https://github.com/apache/brpc/issues/630#issuecomment-467734753","issue_url":"https://api.github.com/repos/apache/brpc/issues/630","id":467734753,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzczNDc1Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T05:57:18Z","updated_at":"2019-02-27T05:57:18Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467734753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467734980","html_url":"https://github.com/apache/brpc/pull/536#issuecomment-467734980","issue_url":"https://api.github.com/repos/apache/brpc/issues/536","id":467734980,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzczNDk4MA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T05:58:36Z","updated_at":"2019-02-27T05:58:36Z","author_association":"CONTRIBUTOR","body":"keep alive","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467734980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467875224","html_url":"https://github.com/apache/brpc/issues/673#issuecomment-467875224","issue_url":"https://api.github.com/repos/apache/brpc/issues/673","id":467875224,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzg3NTIyNA==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T14:10:03Z","updated_at":"2019-02-27T14:10:03Z","author_association":"MEMBER","body":"这个是为了拿到server的endpoint","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/467875224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468112999","html_url":"https://github.com/apache/brpc/issues/673#issuecomment-468112999","issue_url":"https://api.github.com/repos/apache/brpc/issues/673","id":468112999,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODExMjk5OQ==","user":{"login":"MR-workaholic","id":12267045,"node_id":"MDQ6VXNlcjEyMjY3MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/12267045?v=4","gravatar_id":"","url":"https://api.github.com/users/MR-workaholic","html_url":"https://github.com/MR-workaholic","followers_url":"https://api.github.com/users/MR-workaholic/followers","following_url":"https://api.github.com/users/MR-workaholic/following{/other_user}","gists_url":"https://api.github.com/users/MR-workaholic/gists{/gist_id}","starred_url":"https://api.github.com/users/MR-workaholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MR-workaholic/subscriptions","organizations_url":"https://api.github.com/users/MR-workaholic/orgs","repos_url":"https://api.github.com/users/MR-workaholic/repos","events_url":"https://api.github.com/users/MR-workaholic/events{/privacy}","received_events_url":"https://api.github.com/users/MR-workaholic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T02:34:52Z","updated_at":"2019-02-28T02:34:52Z","author_association":"NONE","body":"@chenzhangyi 那会出现我说的那种特殊情况吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468112999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468129796","html_url":"https://github.com/apache/brpc/issues/670#issuecomment-468129796","issue_url":"https://api.github.com/repos/apache/brpc/issues/670","id":468129796,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODEyOTc5Ng==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T04:08:10Z","updated_at":"2019-02-28T04:08:10Z","author_association":"NONE","body":"但是一直卡在（小时级别）\r\nfutex_wait_private，不会有其他调用了。类似死锁的感觉。。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468129796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468179899","html_url":"https://github.com/apache/brpc/issues/306#issuecomment-468179899","issue_url":"https://api.github.com/repos/apache/brpc/issues/306","id":468179899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODE3OTg5OQ==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T08:18:45Z","updated_at":"2019-02-28T08:18:45Z","author_association":"NONE","body":"mark,，陆续遇到和解决了不少死锁相关","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468179899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468266736","html_url":"https://github.com/apache/brpc/issues/639#issuecomment-468266736","issue_url":"https://api.github.com/repos/apache/brpc/issues/639","id":468266736,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODI2NjczNg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T13:10:25Z","updated_at":"2019-02-28T13:10:25Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468266736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468538154","html_url":"https://github.com/apache/brpc/issues/676#issuecomment-468538154","issue_url":"https://api.github.com/repos/apache/brpc/issues/676","id":468538154,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODUzODE1NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T04:27:09Z","updated_at":"2019-03-01T04:27:09Z","author_association":"CONTRIBUTOR","body":"通过controller.remote_side()取到endpoint，然后新建一个channel做rpc，发完rpc那个channel就可以析构，只要连接方式是单链接或连接池，背后的连接是复用的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468538154/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468547903","html_url":"https://github.com/apache/brpc/issues/676#issuecomment-468547903","issue_url":"https://api.github.com/repos/apache/brpc/issues/676","id":468547903,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODU0NzkwMw==","user":{"login":"yujun777","id":8347843,"node_id":"MDQ6VXNlcjgzNDc4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/8347843?v=4","gravatar_id":"","url":"https://api.github.com/users/yujun777","html_url":"https://github.com/yujun777","followers_url":"https://api.github.com/users/yujun777/followers","following_url":"https://api.github.com/users/yujun777/following{/other_user}","gists_url":"https://api.github.com/users/yujun777/gists{/gist_id}","starred_url":"https://api.github.com/users/yujun777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yujun777/subscriptions","organizations_url":"https://api.github.com/users/yujun777/orgs","repos_url":"https://api.github.com/users/yujun777/repos","events_url":"https://api.github.com/users/yujun777/events{/privacy}","received_events_url":"https://api.github.com/users/yujun777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T05:30:28Z","updated_at":"2019-03-01T05:30:28Z","author_association":"NONE","body":"好的， 谢谢戈大！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468547903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468562155","html_url":"https://github.com/apache/brpc/issues/677#issuecomment-468562155","issue_url":"https://api.github.com/repos/apache/brpc/issues/677","id":468562155,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODU2MjE1NQ==","user":{"login":"MR-workaholic","id":12267045,"node_id":"MDQ6VXNlcjEyMjY3MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/12267045?v=4","gravatar_id":"","url":"https://api.github.com/users/MR-workaholic","html_url":"https://github.com/MR-workaholic","followers_url":"https://api.github.com/users/MR-workaholic/followers","following_url":"https://api.github.com/users/MR-workaholic/following{/other_user}","gists_url":"https://api.github.com/users/MR-workaholic/gists{/gist_id}","starred_url":"https://api.github.com/users/MR-workaholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MR-workaholic/subscriptions","organizations_url":"https://api.github.com/users/MR-workaholic/orgs","repos_url":"https://api.github.com/users/MR-workaholic/repos","events_url":"https://api.github.com/users/MR-workaholic/events{/privacy}","received_events_url":"https://api.github.com/users/MR-workaholic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T06:46:14Z","updated_at":"2019-03-01T06:46:14Z","author_association":"NONE","body":"在\r\n![image](https://user-images.githubusercontent.com/12267045/53620893-8db3a180-3c2f-11e9-821a-f2e34fa9d39d.png)\r\n中`AddServer()`会调用了一致性hash的`AddServer`：\r\n![image](https://user-images.githubusercontent.com/12267045/53620944-ce131f80-3c2f-11e9-9793-6d6593996264.png)\r\n然后在此，生成hash值仅仅通过`ip+port`来生成。而第一幅图中调用`Socket::Create(options, &sock_id)`传入的是默认的`options`值导致生成出来的`sock_id`对应的`ip+port`一样。\r\n于是乎，只有第一次`AddChannel`可以成功执行`AddServer`中，之后的都不能成功执行。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/468562155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]