[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311477748","html_url":"https://github.com/apache/hudi/pull/3391#issuecomment-1311477748","issue_url":"https://api.github.com/repos/apache/hudi/issues/3391","id":1311477748,"node_id":"IC_kwDOBI7nWM5OK4_0","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T09:54:34Z","updated_at":"2022-11-11T09:54:34Z","author_association":"CONTRIBUTOR","body":"@cdmikechen   \r\nhave you test this pr on presto\r\nonce test passï¼Œ i think we can lanch this pr.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311477748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311510238","html_url":"https://github.com/apache/hudi/pull/7182#issuecomment-1311510238","issue_url":"https://api.github.com/repos/apache/hudi/issues/7182","id":1311510238,"node_id":"IC_kwDOBI7nWM5OLA7e","user":{"login":"scxwhite","id":23207189,"node_id":"MDQ6VXNlcjIzMjA3MTg5","avatar_url":"https://avatars.githubusercontent.com/u/23207189?v=4","gravatar_id":"","url":"https://api.github.com/users/scxwhite","html_url":"https://github.com/scxwhite","followers_url":"https://api.github.com/users/scxwhite/followers","following_url":"https://api.github.com/users/scxwhite/following{/other_user}","gists_url":"https://api.github.com/users/scxwhite/gists{/gist_id}","starred_url":"https://api.github.com/users/scxwhite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scxwhite/subscriptions","organizations_url":"https://api.github.com/users/scxwhite/orgs","repos_url":"https://api.github.com/users/scxwhite/repos","events_url":"https://api.github.com/users/scxwhite/events{/privacy}","received_events_url":"https://api.github.com/users/scxwhite/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T10:23:45Z","updated_at":"2022-11-11T10:23:45Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311510238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311592312","html_url":"https://github.com/apache/hudi/pull/6838#issuecomment-1311592312","issue_url":"https://api.github.com/repos/apache/hudi/issues/6838","id":1311592312,"node_id":"IC_kwDOBI7nWM5OLU94","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T11:41:36Z","updated_at":"2022-11-11T11:41:36Z","author_association":"MEMBER","body":"> CI seems to fail due to having non-java8 in the env, though it's configured java 8 for each job. Not sure what is the gap there with azure pipelines configs.\r\n\r\nReverted ubuntu version upgrade. just balance CI jobs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311592312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311673883","html_url":"https://github.com/apache/hudi/pull/7148#issuecomment-1311673883","issue_url":"https://api.github.com/repos/apache/hudi/issues/7148","id":1311673883,"node_id":"IC_kwDOBI7nWM5OLo4b","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T13:03:28Z","updated_at":"2022-11-11T13:03:28Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"64baece970173e949f8e1b64c385bde08e312833\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12835\",\n    \"triggerID\" : \"64baece970173e949f8e1b64c385bde08e312833\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"64baece970173e949f8e1b64c385bde08e312833\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12839\",\n    \"triggerID\" : \"1305216072\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"64baece970173e949f8e1b64c385bde08e312833\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12839\",\n    \"triggerID\" : \"1304805689\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0000\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1304805689\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311673883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311694545","html_url":"https://github.com/apache/hudi/pull/7178#issuecomment-1311694545","issue_url":"https://api.github.com/repos/apache/hudi/issues/7178","id":1311694545,"node_id":"IC_kwDOBI7nWM5OLt7R","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T13:25:53Z","updated_at":"2022-11-11T13:25:53Z","author_association":"MEMBER","body":"Proceed to land as CI is irrelevant here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311694545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311753305","html_url":"https://github.com/apache/hudi/pull/6838#issuecomment-1311753305","issue_url":"https://api.github.com/repos/apache/hudi/issues/6838","id":1311753305,"node_id":"IC_kwDOBI7nWM5OL8RZ","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T14:19:53Z","updated_at":"2022-11-11T14:19:53Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"b4875afb16a2a8bdd0bce03f518af4fee9ada2a7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11948\",\n    \"triggerID\" : \"b4875afb16a2a8bdd0bce03f518af4fee9ada2a7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3b01f5fd8a8be1d5b7dfca7adc882771f7fa787d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11970\",\n    \"triggerID\" : \"3b01f5fd8a8be1d5b7dfca7adc882771f7fa787d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bd645e17df7242db9d5caca7b558b4928125fd8a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12365\",\n    \"triggerID\" : \"bd645e17df7242db9d5caca7b558b4928125fd8a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bd645e17df7242db9d5caca7b558b4928125fd8a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12542\",\n    \"triggerID\" : \"1289787381\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"b2f98871f331682fa28c6537d86713d343471493\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12559\",\n    \"triggerID\" : \"b2f98871f331682fa28c6537d86713d343471493\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"617b6bb805c0d013f1888d2f0ab25389304d28a9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12876\",\n    \"triggerID\" : \"617b6bb805c0d013f1888d2f0ab25389304d28a9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cb0d3a60736adeac074af479eabdc844793ea067\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12903\",\n    \"triggerID\" : \"cb0d3a60736adeac074af479eabdc844793ea067\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a02ab0a5a56726e595dd0e7551c3a5be1a1b2aa0\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12952\",\n    \"triggerID\" : \"a02ab0a5a56726e595dd0e7551c3a5be1a1b2aa0\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* a02ab0a5a56726e595dd0e7551c3a5be1a1b2aa0 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12952) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311753305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311775435","html_url":"https://github.com/apache/hudi/issues/5822#issuecomment-1311775435","issue_url":"https://api.github.com/repos/apache/hudi/issues/5822","id":1311775435,"node_id":"IC_kwDOBI7nWM5OMBrL","user":{"login":"bcolas","id":8590669,"node_id":"MDQ6VXNlcjg1OTA2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8590669?v=4","gravatar_id":"","url":"https://api.github.com/users/bcolas","html_url":"https://github.com/bcolas","followers_url":"https://api.github.com/users/bcolas/followers","following_url":"https://api.github.com/users/bcolas/following{/other_user}","gists_url":"https://api.github.com/users/bcolas/gists{/gist_id}","starred_url":"https://api.github.com/users/bcolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcolas/subscriptions","organizations_url":"https://api.github.com/users/bcolas/orgs","repos_url":"https://api.github.com/users/bcolas/repos","events_url":"https://api.github.com/users/bcolas/events{/privacy}","received_events_url":"https://api.github.com/users/bcolas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T14:41:33Z","updated_at":"2022-11-11T14:41:33Z","author_association":"NONE","body":"Also interested by the way you solve ! I'm stuck with this problem on 0.10.1 version integrated with AWS Glue","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311775435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311822706","html_url":"https://github.com/apache/hudi/pull/7180#issuecomment-1311822706","issue_url":"https://api.github.com/repos/apache/hudi/issues/7180","id":1311822706,"node_id":"IC_kwDOBI7nWM5OMNNy","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T15:26:18Z","updated_at":"2022-11-11T15:26:18Z","author_association":"MEMBER","body":"@the-other-tim-brown let's also file a jira under https://issues.apache.org/jira/browse/HUDI-3303? normally need jira for +/- 50 LOC ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311822706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311914513","html_url":"https://github.com/apache/hudi/pull/7168#issuecomment-1311914513","issue_url":"https://api.github.com/repos/apache/hudi/issues/7168","id":1311914513,"node_id":"IC_kwDOBI7nWM5OMjoR","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T16:23:28Z","updated_at":"2022-11-11T16:23:28Z","author_association":"MEMBER","body":"thanks for the fix","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311914513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311994074","html_url":"https://github.com/apache/hudi/pull/6843#issuecomment-1311994074","issue_url":"https://api.github.com/repos/apache/hudi/issues/6843","id":1311994074,"node_id":"IC_kwDOBI7nWM5OM3Da","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T17:51:56Z","updated_at":"2022-11-12T02:27:19Z","author_association":"CONTRIBUTOR","body":"BIMQ (baseline): ~5120s\r\nDisruptor: ~5030s (2% improvement from baseline)\r\n**No Queue: ~3800s (~26% improvement from baseline)**\r\n\r\n```\r\n#\r\n# BoundedInMemoryQueue (baseline, master)\r\n#\r\n\r\n==================================================\r\nTotal time taken by all rounds (hudi): 5119338\r\nPer round: List(204855, 504984, 585545, 646676, 516914, 554007, 510029, 533198, 554438, 508692)\r\n==================================================\r\n\r\n\r\n#\r\n# Disruptor (master)\r\n# Performance Improvement (from baseline): ~2%\r\n#\r\n\r\n===================================================\r\nTotal time taken by all rounds (hudi): 5027185\r\nPer round: List(142641, 450997, 544476, 576815, 552873, 585657, 526764, 552790, 563460, 530712)\r\n==================================================\r\n\r\n#\r\n# No queue\r\n# Performance Improvement (from baseline): ~26%\r\n#\r\n\r\n==================================================\r\nTotal time taken by all rounds (hudi): 3798022\r\nPer round: List(189704, 467253, 512628, 468869, 363557, 361869, 351934, 357554, 364299, 360355)\r\n==================================================\r\n```\r\n\r\n----\r\n\r\nAfter chatting w/ @vinothchandar on this, i went to double check how Spark actually iterates over the output of ShuffleTasks, and apparently it does already implement similar queuing pattern at that level -- see [ShuffleBlockFetcherIterator](https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/storage/ShuffleBlockFetcherIterator.scala#L133): \r\n\r\n1. `ShuffledRDD` will produce a `BlockStoreShuffleReader`, which in turn\r\n2. Will instantiate `ShuffleBlockFetcherIterator`, which in turn\r\n3. Will be fetching blocks async (sending out `FetchRequest`s) and collecting blocks w/in `results` up-to predefined threshold\r\n\r\nAs such, there's no point for us to implement the same queueing mechanism at our level provided that Hudi will already by iterating over the records which are cached in memory.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1311994074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312044953","html_url":"https://github.com/apache/hudi/pull/7183#issuecomment-1312044953","issue_url":"https://api.github.com/repos/apache/hudi/issues/7183","id":1312044953,"node_id":"IC_kwDOBI7nWM5ONDeZ","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T18:23:47Z","updated_at":"2022-11-11T18:23:47Z","author_association":"CONTRIBUTOR","body":"Thanks for putting up a fix @xiarixiaoyao!\r\n\r\nLet's sequence this one w/ https://github.com/apache/hudi/pull/6358, which tackles some of our longstanding issues w/ schema handling (slightly overlapping w/ your PR)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312044953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312140991","html_url":"https://github.com/apache/hudi/pull/7187#issuecomment-1312140991","issue_url":"https://api.github.com/repos/apache/hudi/issues/7187","id":1312140991,"node_id":"IC_kwDOBI7nWM5ONa6_","user":{"login":"shangwen","id":4383034,"node_id":"MDQ6VXNlcjQzODMwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4383034?v=4","gravatar_id":"","url":"https://api.github.com/users/shangwen","html_url":"https://github.com/shangwen","followers_url":"https://api.github.com/users/shangwen/followers","following_url":"https://api.github.com/users/shangwen/following{/other_user}","gists_url":"https://api.github.com/users/shangwen/gists{/gist_id}","starred_url":"https://api.github.com/users/shangwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangwen/subscriptions","organizations_url":"https://api.github.com/users/shangwen/orgs","repos_url":"https://api.github.com/users/shangwen/repos","events_url":"https://api.github.com/users/shangwen/events{/privacy}","received_events_url":"https://api.github.com/users/shangwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T19:51:05Z","updated_at":"2022-11-11T19:51:05Z","author_association":"NONE","body":"cc @xiarixiaoyao\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312140991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312144703","html_url":"https://github.com/apache/hudi/pull/7188#issuecomment-1312144703","issue_url":"https://api.github.com/repos/apache/hudi/issues/7188","id":1312144703,"node_id":"IC_kwDOBI7nWM5ONb0_","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T19:56:28Z","updated_at":"2022-11-11T19:56:28Z","author_association":"CONTRIBUTOR","body":"@xushiyan PTAL","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312144703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312247033","html_url":"https://github.com/apache/hudi/pull/7182#issuecomment-1312247033","issue_url":"https://api.github.com/repos/apache/hudi/issues/7182","id":1312247033,"node_id":"IC_kwDOBI7nWM5ON0z5","user":{"login":"scxwhite","id":23207189,"node_id":"MDQ6VXNlcjIzMjA3MTg5","avatar_url":"https://avatars.githubusercontent.com/u/23207189?v=4","gravatar_id":"","url":"https://api.github.com/users/scxwhite","html_url":"https://github.com/scxwhite","followers_url":"https://api.github.com/users/scxwhite/followers","following_url":"https://api.github.com/users/scxwhite/following{/other_user}","gists_url":"https://api.github.com/users/scxwhite/gists{/gist_id}","starred_url":"https://api.github.com/users/scxwhite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scxwhite/subscriptions","organizations_url":"https://api.github.com/users/scxwhite/orgs","repos_url":"https://api.github.com/users/scxwhite/repos","events_url":"https://api.github.com/users/scxwhite/events{/privacy}","received_events_url":"https://api.github.com/users/scxwhite/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T22:48:02Z","updated_at":"2022-11-11T22:48:02Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312247033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312321252","html_url":"https://github.com/apache/hudi/pull/6227#issuecomment-1312321252","issue_url":"https://api.github.com/repos/apache/hudi/issues/6227","id":1312321252,"node_id":"IC_kwDOBI7nWM5OOG7k","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T02:19:57Z","updated_at":"2022-11-12T02:19:57Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"897aac606d8f112dab9e01e59b2271c5ecb5f9a4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12605\",\n    \"triggerID\" : \"897aac606d8f112dab9e01e59b2271c5ecb5f9a4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5e0784bd73612d73d100152d6a5aeec7ddddc11c\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12965\",\n    \"triggerID\" : \"5e0784bd73612d73d100152d6a5aeec7ddddc11c\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 5e0784bd73612d73d100152d6a5aeec7ddddc11c Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12965) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312321252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312344681","html_url":"https://github.com/apache/hudi/pull/6843#issuecomment-1312344681","issue_url":"https://api.github.com/repos/apache/hudi/issues/6843","id":1312344681,"node_id":"IC_kwDOBI7nWM5OOMpp","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T03:31:32Z","updated_at":"2022-11-12T03:31:32Z","author_association":"CONTRIBUTOR","body":"Turned out that my previous run was actually not using Disruptor at all: had to put up a #7188 to make sure Disruptor could be used when going t/h merging as well.\r\n\r\nAfter fixing, and actually using Disruptor performance become even worse:\r\n\r\n```\r\n#\r\n# Disruptor (master)\r\n# Performance Improvement (from baseline): -2%\r\n#\r\n\r\n==================================================\r\nTotal time taken by all rounds (hudi): 5154329\r\nPer round: List(182233, 493908, 582993, 569302, 560117, 583116, 530124, 552918, 583238, 516380)\r\n==================================================\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312344681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312345919","html_url":"https://github.com/apache/hudi/pull/7175#issuecomment-1312345919","issue_url":"https://api.github.com/repos/apache/hudi/issues/7175","id":1312345919,"node_id":"IC_kwDOBI7nWM5OOM8_","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T03:35:56Z","updated_at":"2022-11-12T03:35:56Z","author_association":"CONTRIBUTOR","body":"> would be great to cover these in CI. can you add a section in .github/workflows/bot.yml before Spark SQL Test ? we should run `mvn test -Punit-tests -pl hudi-common` for these changes\r\n\r\n@xushiyan done","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312345919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312348565","html_url":"https://github.com/apache/hudi/pull/7182#issuecomment-1312348565","issue_url":"https://api.github.com/repos/apache/hudi/issues/7182","id":1312348565,"node_id":"IC_kwDOBI7nWM5OONmV","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T03:45:24Z","updated_at":"2022-11-12T03:45:24Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"583e43a881ea68814e10961a881c5d645981aee1\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12946\",\n    \"triggerID\" : \"583e43a881ea68814e10961a881c5d645981aee1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"583e43a881ea68814e10961a881c5d645981aee1\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12951\",\n    \"triggerID\" : \"1311510238\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"583e43a881ea68814e10961a881c5d645981aee1\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12967\",\n    \"triggerID\" : \"1312247033\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 583e43a881ea68814e10961a881c5d645981aee1 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12946) Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12951) Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12967) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312348565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312368937","html_url":"https://github.com/apache/hudi/pull/7188#issuecomment-1312368937","issue_url":"https://api.github.com/repos/apache/hudi/issues/7188","id":1312368937,"node_id":"IC_kwDOBI7nWM5OOSkp","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T05:14:47Z","updated_at":"2022-11-12T05:14:47Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"945048b15e2653ba30ad5b28be4887253a9af645\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12961\",\n    \"triggerID\" : \"945048b15e2653ba30ad5b28be4887253a9af645\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"481e7afc763486f6fcc0efe8ebd4bff2c6025873\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12968\",\n    \"triggerID\" : \"481e7afc763486f6fcc0efe8ebd4bff2c6025873\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9edd3b329d9ac18154ef67a928f594a73ce4efd2\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12970\",\n    \"triggerID\" : \"9edd3b329d9ac18154ef67a928f594a73ce4efd2\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9edd3b329d9ac18154ef67a928f594a73ce4efd2 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12970) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312368937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312400324","html_url":"https://github.com/apache/hudi/pull/7175#issuecomment-1312400324","issue_url":"https://api.github.com/repos/apache/hudi/issues/7175","id":1312400324,"node_id":"IC_kwDOBI7nWM5OOaPE","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T07:40:44Z","updated_at":"2022-11-12T07:40:44Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"700eaef0003fab1ef86fa93e730426e2d4880aaa\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12969\",\n    \"triggerID\" : \"700eaef0003fab1ef86fa93e730426e2d4880aaa\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 700eaef0003fab1ef86fa93e730426e2d4880aaa Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12969) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312400324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312403078","html_url":"https://github.com/apache/hudi/pull/7180#issuecomment-1312403078","issue_url":"https://api.github.com/repos/apache/hudi/issues/7180","id":1312403078,"node_id":"IC_kwDOBI7nWM5OOa6G","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T07:56:13Z","updated_at":"2022-11-12T07:56:13Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"45efd407b41cce25bca92f7970bae34c4e23f4ca\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12958\",\n    \"triggerID\" : \"45efd407b41cce25bca92f7970bae34c4e23f4ca\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 45efd407b41cce25bca92f7970bae34c4e23f4ca Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12958) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312403078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312423485","html_url":"https://github.com/apache/hudi/pull/6843#issuecomment-1312423485","issue_url":"https://api.github.com/repos/apache/hudi/issues/6843","id":1312423485,"node_id":"IC_kwDOBI7nWM5OOf49","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T09:26:56Z","updated_at":"2022-11-12T10:44:19Z","author_association":"CONTRIBUTOR","body":"Hey @alexeykudinkin Thanks a lot for this PR! \r\n\r\nI'd like to discuss some details if u don't mind :)\r\n\r\nBased on our experience, the performance is different between disruptor, BIMQ, and no queue at all in different scenarios.\r\nFor example, schema is pretty simple, and the bottleneck is lock so disruptor can be helpful.\r\n\r\nFor example in this PR https://github.com/apache/hudi/pull/7174 test(Although it is only a local benchmark, it can also be a reproducible evidence) different queue do has different advantages.\r\n\r\nSo would u think we can just remove the design of Executor **OR** we can implement different executor including this `no inner message queue`. Reasons I think we can keep this `executor design` is that \r\n1. We can both support multi-writers ex `RealtimeUnmergedRecordReader` and single-writer/single-reader model.\r\n2. This ability to unified writing-core-logic can be much easier to leverage to flink side and other engine in the future.\r\n3. Other writing pipeline such as writing hudi using Java API directly may still need this producer/consumer model.\r\n4. We can do more like monitor or rate limit based on this `Executor`\r\n\r\nAlso this no inner queue is my favor, because it need no extra memory and cpu resources and quite simple.\r\nAlthough can not support multi-writers, maybe we can use it as default one instead of `BoundedInMemoryQueue ` as next step.\r\n\r\nLooking forward your replay. Thanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312423485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312472305","html_url":"https://github.com/apache/hudi/pull/6133#issuecomment-1312472305","issue_url":"https://api.github.com/repos/apache/hudi/issues/6133","id":1312472305,"node_id":"IC_kwDOBI7nWM5OOrzx","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T12:50:44Z","updated_at":"2022-11-12T12:50:44Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312472305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312505616","html_url":"https://github.com/apache/hudi/pull/7175#issuecomment-1312505616","issue_url":"https://api.github.com/repos/apache/hudi/issues/7175","id":1312505616,"node_id":"IC_kwDOBI7nWM5OOz8Q","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T15:25:20Z","updated_at":"2022-11-12T15:25:20Z","author_association":"CONTRIBUTOR","body":"LGTM. Let's land this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312505616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312551175","html_url":"https://github.com/apache/hudi/pull/6227#issuecomment-1312551175","issue_url":"https://api.github.com/repos/apache/hudi/issues/6227","id":1312551175,"node_id":"IC_kwDOBI7nWM5OO_EH","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T18:59:40Z","updated_at":"2022-11-12T18:59:40Z","author_association":"MEMBER","body":"@danny0405 let's have some follow-up discussion and change if needed:\r\n\r\nin flink bundle\r\n\r\n- the whole parquet dependency is included while other bundles we only include parquet-avro as the convention\r\n- avro is shaded but not for parquet and orc\r\n\r\nWe need to make some decisions and address these discrepancies ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312551175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312608938","html_url":"https://github.com/apache/hudi/pull/7183#issuecomment-1312608938","issue_url":"https://api.github.com/repos/apache/hudi/issues/7183","id":1312608938,"node_id":"IC_kwDOBI7nWM5OPNKq","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T01:08:25Z","updated_at":"2022-11-13T01:08:25Z","author_association":"CONTRIBUTOR","body":"> Thanks for putting up a fix @xiarixiaoyao!\r\n> \r\n> Let's sequence this one w/ #6358, which tackles some of our longstanding issues w/ schema handling (slightly overlapping w/ your PR)\r\n\r\nok, will until 6358 is merged and then update this pr.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312608938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312609945","html_url":"https://github.com/apache/hudi/pull/7187#issuecomment-1312609945","issue_url":"https://api.github.com/repos/apache/hudi/issues/7187","id":1312609945,"node_id":"IC_kwDOBI7nWM5OPNaZ","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T01:14:15Z","updated_at":"2022-11-13T01:14:15Z","author_association":"CONTRIBUTOR","body":"@shangwen \r\nthanks for the fix\r\nLooks good,\r\nPls add some UT to case this fixï¼Œ thanks\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312609945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312641064","html_url":"https://github.com/apache/hudi/pull/7167#issuecomment-1312641064","issue_url":"https://api.github.com/repos/apache/hudi/issues/7167","id":1312641064,"node_id":"IC_kwDOBI7nWM5OPVAo","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T05:08:14Z","updated_at":"2022-11-13T05:08:14Z","author_association":"MEMBER","body":"cc @alexeykudinkin @minihippo @wzx140 any consideration on this PR's scenario for RFC 46?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312641064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312641319","html_url":"https://github.com/apache/hudi/pull/7181#issuecomment-1312641319","issue_url":"https://api.github.com/repos/apache/hudi/issues/7181","id":1312641319,"node_id":"IC_kwDOBI7nWM5OPVEn","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T05:10:43Z","updated_at":"2022-11-13T05:10:43Z","author_association":"MEMBER","body":"@hussein-awala would you file a jira and fix the PR title with jira id pls?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312641319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312683128","html_url":"https://github.com/apache/hudi/issues/7115#issuecomment-1312683128","issue_url":"https://api.github.com/repos/apache/hudi/issues/7115","id":1312683128,"node_id":"IC_kwDOBI7nWM5OPfR4","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T09:21:25Z","updated_at":"2022-11-13T09:21:25Z","author_association":"MEMBER","body":"> query hive table hudi_cow. The result is null\r\n\r\n@chinaboyll do you mean return 0 records? do you see any issue from the logs of the hive sync process?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312683128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312685767","html_url":"https://github.com/apache/hudi/issues/7147#issuecomment-1312685767","issue_url":"https://api.github.com/repos/apache/hudi/issues/7147","id":1312685767,"node_id":"IC_kwDOBI7nWM5OPf7H","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T09:34:57Z","updated_at":"2022-11-13T09:34:57Z","author_association":"MEMBER","body":"@GoodJeek how did you build the project? have you been following commands from the README.md ? our CI keeps building against different spark profiles so there is no issue","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312685767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312694595","html_url":"https://github.com/apache/hudi/issues/7176#issuecomment-1312694595","issue_url":"https://api.github.com/repos/apache/hudi/issues/7176","id":1312694595,"node_id":"IC_kwDOBI7nWM5OPiFD","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T10:17:49Z","updated_at":"2022-11-13T10:17:49Z","author_association":"MEMBER","body":"@bram2000 are the hudi versions (0.7 -> 0.11.0 ) both using hudi from amazon? as in the pre-installed hudi jars in EMR? \r\n\r\nHave you ingested any new data into the table using hudi 0.11.0 ? if not, the table version is old and you probably need to perform a table upgrade using hudi-cli. see https://hudi.apache.org/docs/cli/\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312694595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312725698","html_url":"https://github.com/apache/hudi/pull/7190#issuecomment-1312725698","issue_url":"https://api.github.com/repos/apache/hudi/issues/7190","id":1312725698,"node_id":"IC_kwDOBI7nWM5OPprC","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T13:02:08Z","updated_at":"2022-11-13T13:02:08Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312725698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312734398","html_url":"https://github.com/apache/hudi/issues/6984#issuecomment-1312734398","issue_url":"https://api.github.com/repos/apache/hudi/issues/6984","id":1312734398,"node_id":"IC_kwDOBI7nWM5OPry-","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T13:45:45Z","updated_at":"2022-11-13T13:45:45Z","author_association":"MEMBER","body":"i found HUDI-2141 for flink and there is already a WIP PR https://github.com/apache/hudi/pull/3235 by @yuzhaojing \r\n\r\nwe can align the efforts there with what we're proposing here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312734398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312742953","html_url":"https://github.com/apache/hudi/issues/7158#issuecomment-1312742953","issue_url":"https://api.github.com/repos/apache/hudi/issues/7158","id":1312742953,"node_id":"IC_kwDOBI7nWM5OPt4p","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T14:22:29Z","updated_at":"2022-11-13T14:22:29Z","author_association":"MEMBER","body":"@rtdt99 i've filed this https://issues.apache.org/jira/browse/HUDI-5202\r\n\r\nThis kind of feature is mostly community-driven so there is no specific timeline. Anyone interested can pick it up and submit a PR for review. cc @kywe665","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312742953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312747135","html_url":"https://github.com/apache/hudi/issues/7135#issuecomment-1312747135","issue_url":"https://api.github.com/repos/apache/hudi/issues/7135","id":1312747135,"node_id":"IC_kwDOBI7nWM5OPu5_","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T14:43:04Z","updated_at":"2022-11-13T14:43:04Z","author_association":"MEMBER","body":"@devanshguptatrepp i checked your dependencies. You only need to put `hudi-spark3.3-bundle_2.12` on your classpath to supply hudi dependencies. Users are not supposed to use hudi module dependencies directly; hudi bundle jars are the only user-facing artifacts. Please fix the dependencies accordingly.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312747135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312747901","html_url":"https://github.com/apache/hudi/pull/7190#issuecomment-1312747901","issue_url":"https://api.github.com/repos/apache/hudi/issues/7190","id":1312747901,"node_id":"IC_kwDOBI7nWM5OPvF9","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T14:46:51Z","updated_at":"2022-11-13T14:46:51Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0333ad2bc56ab62c8847447f93a91c4c5df0788d\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12982\",\n    \"triggerID\" : \"0333ad2bc56ab62c8847447f93a91c4c5df0788d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0333ad2bc56ab62c8847447f93a91c4c5df0788d\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12984\",\n    \"triggerID\" : \"1312725698\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 0333ad2bc56ab62c8847447f93a91c4c5df0788d Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12982) Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12984) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312747901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312751387","html_url":"https://github.com/apache/hudi/issues/7154#issuecomment-1312751387","issue_url":"https://api.github.com/repos/apache/hudi/issues/7154","id":1312751387,"node_id":"IC_kwDOBI7nWM5OPv8b","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T15:03:14Z","updated_at":"2022-11-13T15:03:14Z","author_association":"MEMBER","body":"@fengjian428 thanks for verifying. how about the downgrading 5->4?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312751387/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312755250","html_url":"https://github.com/apache/hudi/issues/6679#issuecomment-1312755250","issue_url":"https://api.github.com/repos/apache/hudi/issues/6679","id":1312755250,"node_id":"IC_kwDOBI7nWM5OPw4y","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T15:21:23Z","updated_at":"2022-11-13T15:21:23Z","author_association":"CONTRIBUTOR","body":"@KnightChess Hi, the problem has been fixed, but the test is missing, can you provide a way to reproduce the problem, then I can add it to the UT","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312755250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312759419","html_url":"https://github.com/apache/hudi/issues/7152#issuecomment-1312759419","issue_url":"https://api.github.com/repos/apache/hudi/issues/7152","id":1312759419,"node_id":"IC_kwDOBI7nWM5OPx57","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T15:40:27Z","updated_at":"2022-11-13T15:40:27Z","author_association":"MEMBER","body":"@hoanpvzz in your error stacktrace, it says `\"_event_seq\": null` that's the reason for NPE raising from `org.apache.hudi.common.model.debezium.MySqlDebeziumAvroPayload#extractSeq`\r\n\r\nThis looks like a bug in mysql debezium payload, where the existing records after bootstrap do not have the debezium fields. I'll file a patch for this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312759419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312792057","html_url":"https://github.com/apache/hudi/pull/7181#issuecomment-1312792057","issue_url":"https://api.github.com/repos/apache/hudi/issues/7181","id":1312792057,"node_id":"IC_kwDOBI7nWM5OP535","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T18:26:05Z","updated_at":"2022-11-13T18:26:05Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0567b98c5823b062b85442f1baa7cadba278fec4\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12983\",\n    \"triggerID\" : \"0567b98c5823b062b85442f1baa7cadba278fec4\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0567b98c5823b062b85442f1baa7cadba278fec4 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12983) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312792057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312839240","html_url":"https://github.com/apache/hudi/issues/7185#issuecomment-1312839240","issue_url":"https://api.github.com/repos/apache/hudi/issues/7185","id":1312839240,"node_id":"IC_kwDOBI7nWM5OQFZI","user":{"login":"hussein-awala","id":21311487,"node_id":"MDQ6VXNlcjIxMzExNDg3","avatar_url":"https://avatars.githubusercontent.com/u/21311487?v=4","gravatar_id":"","url":"https://api.github.com/users/hussein-awala","html_url":"https://github.com/hussein-awala","followers_url":"https://api.github.com/users/hussein-awala/followers","following_url":"https://api.github.com/users/hussein-awala/following{/other_user}","gists_url":"https://api.github.com/users/hussein-awala/gists{/gist_id}","starred_url":"https://api.github.com/users/hussein-awala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hussein-awala/subscriptions","organizations_url":"https://api.github.com/users/hussein-awala/orgs","repos_url":"https://api.github.com/users/hussein-awala/repos","events_url":"https://api.github.com/users/hussein-awala/events{/privacy}","received_events_url":"https://api.github.com/users/hussein-awala/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T22:31:35Z","updated_at":"2022-11-13T22:31:35Z","author_association":"MEMBER","body":"I had a similar issue with Spark despite having Hadoop AWS sdk added (equivalent to `flink-s3-fs-hadoop-1.15.0.jar` you are using), and I solved it by downloading [hudi-aws](https://repo1.maven.org/maven2/org/apache/hudi/hudi-aws/0.12.0/hudi-aws-0.12.0.jar) jar.\r\nCan you try adding it to your docker image?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312839240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312868102","html_url":"https://github.com/apache/hudi/pull/3391#issuecomment-1312868102","issue_url":"https://api.github.com/repos/apache/hudi/issues/3391","id":1312868102,"node_id":"IC_kwDOBI7nWM5OQMcG","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T00:15:00Z","updated_at":"2022-11-14T00:18:28Z","author_association":"CONTRIBUTOR","body":"@xiarixiaoyao \r\nThis PR has been delayed for almost a year or so, and has been put on hold by review after each change of the code. Since I use presto less, my initial thought was to wait for the Hive issue to be dealt with before resubmitting a PR for processing, otherwise there would be too much code to change each time.\r\n\r\nIf I need to verify presto, where do I add the test cases? Maybe in `hudi-integ-test` ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312868102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312919011","html_url":"https://github.com/apache/hudi/pull/3391#issuecomment-1312919011","issue_url":"https://api.github.com/repos/apache/hudi/issues/3391","id":1312919011,"node_id":"IC_kwDOBI7nWM5OQY3j","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T01:14:18Z","updated_at":"2022-11-14T01:14:18Z","author_association":"CONTRIBUTOR","body":"> @xiarixiaoyao This PR has been delayed for almost a year or so, and has been put on hold by review after each change of the code. Since I use presto less, my initial thought was to wait for the Hive issue to be dealt with before resubmitting a PR for processing, otherwise there would be too much code to change each time.\r\n> \r\n> If I need to verify presto, where do I add the test cases? Maybe in `hudi-integ-test` ?\r\n\r\nPls rebase the codeï¼Œ thanks\r\ni can help you test this pr on presto","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312919011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312931950","html_url":"https://github.com/apache/hudi/issues/7154#issuecomment-1312931950","issue_url":"https://api.github.com/repos/apache/hudi/issues/7154","id":1312931950,"node_id":"IC_kwDOBI7nWM5OQcBu","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T01:45:52Z","updated_at":"2022-11-14T01:45:52Z","author_association":"CONTRIBUTOR","body":"> @fengjian428 thanks for verifying. how about the downgrading 5->4?\r\nalso works fine on my side\r\n![image](https://user-images.githubusercontent.com/4403474/201558263-ab66c071-ed07-4458-9f9d-c67820fa96fb.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1312931950/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313059588","html_url":"https://github.com/apache/hudi/issues/7192#issuecomment-1313059588","issue_url":"https://api.github.com/repos/apache/hudi/issues/7192","id":1313059588,"node_id":"IC_kwDOBI7nWM5OQ7ME","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T03:57:41Z","updated_at":"2022-11-14T04:20:31Z","author_association":"MEMBER","body":"what are the job params, jar dependencies used, code snippet to run and hudi/spark configs? and what is the data schema? processing from where to where?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313059588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313084953","html_url":"https://github.com/apache/hudi/issues/7191#issuecomment-1313084953","issue_url":"https://api.github.com/repos/apache/hudi/issues/7191","id":1313084953,"node_id":"IC_kwDOBI7nWM5ORBYZ","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T04:32:31Z","updated_at":"2022-11-14T04:32:31Z","author_association":"MEMBER","body":"@aniketnanna these are all aws managed services involved. have you filed aws support case?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313084953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313092900","html_url":"https://github.com/apache/hudi/issues/7126#issuecomment-1313092900","issue_url":"https://api.github.com/repos/apache/hudi/issues/7126","id":1313092900,"node_id":"IC_kwDOBI7nWM5ORDUk","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T04:50:05Z","updated_at":"2022-11-14T04:50:05Z","author_association":"MEMBER","body":"filed https://issues.apache.org/jira/browse/HUDI-5205","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313092900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313097158","html_url":"https://github.com/apache/hudi/issues/6283#issuecomment-1313097158","issue_url":"https://api.github.com/repos/apache/hudi/issues/6283","id":1313097158,"node_id":"IC_kwDOBI7nWM5OREXG","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T04:59:43Z","updated_at":"2022-11-14T04:59:43Z","author_association":"MEMBER","body":"@eshu how should we reproduce it? can you zip and share a problematic sample dataset so we can debug it?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313097158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313110216","html_url":"https://github.com/apache/hudi/issues/7192#issuecomment-1313110216","issue_url":"https://api.github.com/repos/apache/hudi/issues/7192","id":1313110216,"node_id":"IC_kwDOBI7nWM5ORHjI","user":{"login":"eshu","id":3531759,"node_id":"MDQ6VXNlcjM1MzE3NTk=","avatar_url":"https://avatars.githubusercontent.com/u/3531759?v=4","gravatar_id":"","url":"https://api.github.com/users/eshu","html_url":"https://github.com/eshu","followers_url":"https://api.github.com/users/eshu/followers","following_url":"https://api.github.com/users/eshu/following{/other_user}","gists_url":"https://api.github.com/users/eshu/gists{/gist_id}","starred_url":"https://api.github.com/users/eshu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eshu/subscriptions","organizations_url":"https://api.github.com/users/eshu/orgs","repos_url":"https://api.github.com/users/eshu/repos","events_url":"https://api.github.com/users/eshu/events{/privacy}","received_events_url":"https://api.github.com/users/eshu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T05:13:58Z","updated_at":"2022-11-14T05:13:58Z","author_association":"NONE","body":"@xushiyan \r\nJust take a look on code:\r\nhttps://github.com/apache/hudi/blob/release-0.11.1/hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala#L688-L704\r\n```\r\n    } else {\r\n      log.error(s\"${tableInstantInfo.operation} failed with errors\")\r\n      if (log.isTraceEnabled) {\r\n        log.trace(\"Printing out the top 100 errors\")\r\n        writeResult.getWriteStatuses.rdd.filter(ws => ws.hasErrors)\r\n          .take(100)\r\n          .foreach(ws => {\r\n            log.trace(\"Global error :\", ws.getGlobalError)\r\n            if (ws.getErrors.size() > 0) {\r\n              ws.getErrors.foreach(kt =>\r\n                log.trace(s\"Error for key: ${kt._1}\", kt._2))\r\n            }\r\n          })\r\n      }\r\n      (false, common.util.Option.empty(), common.util.Option.empty())\r\n    }\r\n```\r\nHere is a writing an error message without any details and real errors appeared only when I set trace level of logs. \r\nI found that problem was null values in an array field. But job was finished successfully without any error. The problem is **again** in the hudi code, there is no reason to look for it in dependencies, setup or environment.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313110216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313119111","html_url":"https://github.com/apache/hudi/issues/7192#issuecomment-1313119111","issue_url":"https://api.github.com/repos/apache/hudi/issues/7192","id":1313119111,"node_id":"IC_kwDOBI7nWM5ORJuH","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T05:29:42Z","updated_at":"2022-11-14T05:29:42Z","author_association":"MEMBER","body":">  checkpoints are moved forward, but data was not processed), but data was not processed. It created a small piece of data, and finished without any meaningful information.\r\n\r\n@eshu this is the problem we need the info to reproduce. or are you simply suggesting code level improvement?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313119111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313136378","html_url":"https://github.com/apache/hudi/pull/5659#issuecomment-1313136378","issue_url":"https://api.github.com/repos/apache/hudi/issues/5659","id":1313136378,"node_id":"IC_kwDOBI7nWM5ORN76","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T06:01:20Z","updated_at":"2022-11-14T06:01:20Z","author_association":"CONTRIBUTOR","body":"Hey everyone. How is this amazing work going?\r\n\r\nWe are planing to migrate our all historical data into Lakehouse using Hudi. \r\nAt the same time, we are also investigating whether our client can access these hudi data through snowflake.\r\n\r\nLooking forward for your replay! Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313136378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313141902","html_url":"https://github.com/apache/hudi/issues/7126#issuecomment-1313141902","issue_url":"https://api.github.com/repos/apache/hudi/issues/7126","id":1313141902,"node_id":"IC_kwDOBI7nWM5ORPSO","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T06:07:06Z","updated_at":"2022-11-14T06:07:06Z","author_association":"CONTRIBUTOR","body":"Cool, would support that if the 1.16.1 released.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313141902/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313166445","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1313166445","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1313166445,"node_id":"IC_kwDOBI7nWM5ORVRt","user":{"login":"trushev","id":42293632,"node_id":"MDQ6VXNlcjQyMjkzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/42293632?v=4","gravatar_id":"","url":"https://api.github.com/users/trushev","html_url":"https://github.com/trushev","followers_url":"https://api.github.com/users/trushev/followers","following_url":"https://api.github.com/users/trushev/following{/other_user}","gists_url":"https://api.github.com/users/trushev/gists{/gist_id}","starred_url":"https://api.github.com/users/trushev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trushev/subscriptions","organizations_url":"https://api.github.com/users/trushev/orgs","repos_url":"https://api.github.com/users/trushev/repos","events_url":"https://api.github.com/users/trushev/events{/privacy}","received_events_url":"https://api.github.com/users/trushev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T06:38:55Z","updated_at":"2022-11-14T06:38:55Z","author_association":"CONTRIBUTOR","body":"> [3981.patch.zip](https://github.com/apache/hudi/files/9977268/3981.patch.zip) Thanks for the contribution, have reviewed some of the part, and left a local patch here and some comments ~\r\n\r\nWhy we use writerSchema instead of readerSchema when schema evolution disabled?\r\n3981.patch:\r\n```java\r\npublic Schema getAvroSchema() {\r\n  if (isEmptySchema()) {\r\n    return null;\r\n  }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313166445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313192391","html_url":"https://github.com/apache/hudi/pull/7124#issuecomment-1313192391","issue_url":"https://api.github.com/repos/apache/hudi/issues/7124","id":1313192391,"node_id":"IC_kwDOBI7nWM5ORbnH","user":{"login":"trushev","id":42293632,"node_id":"MDQ6VXNlcjQyMjkzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/42293632?v=4","gravatar_id":"","url":"https://api.github.com/users/trushev","html_url":"https://github.com/trushev","followers_url":"https://api.github.com/users/trushev/followers","following_url":"https://api.github.com/users/trushev/following{/other_user}","gists_url":"https://api.github.com/users/trushev/gists{/gist_id}","starred_url":"https://api.github.com/users/trushev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trushev/subscriptions","organizations_url":"https://api.github.com/users/trushev/orgs","repos_url":"https://api.github.com/users/trushev/repos","events_url":"https://api.github.com/users/trushev/events{/privacy}","received_events_url":"https://api.github.com/users/trushev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T07:09:39Z","updated_at":"2022-11-14T07:09:39Z","author_association":"CONTRIBUTOR","body":"Pls merge this fix","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313192391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313229426","html_url":"https://github.com/apache/hudi/pull/7193#issuecomment-1313229426","issue_url":"https://api.github.com/repos/apache/hudi/issues/7193","id":1313229426,"node_id":"IC_kwDOBI7nWM5ORkpy","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T07:52:04Z","updated_at":"2022-11-14T07:52:04Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2c2d59181be075453bd97f26d6f81c2880a1cff9\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12995\",\n    \"triggerID\" : \"2c2d59181be075453bd97f26d6f81c2880a1cff9\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2c2d59181be075453bd97f26d6f81c2880a1cff9 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12995) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313229426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313229523","html_url":"https://github.com/apache/hudi/issues/7154#issuecomment-1313229523","issue_url":"https://api.github.com/repos/apache/hudi/issues/7154","id":1313229523,"node_id":"IC_kwDOBI7nWM5ORkrT","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T07:52:10Z","updated_at":"2022-11-14T07:52:10Z","author_association":"CONTRIBUTOR","body":"> @fengjian428 thanks for verifying. how about the downgrading 5->4?\r\n\r\nit also works fine.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313229523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313294770","html_url":"https://github.com/apache/hudi/issues/7185#issuecomment-1313294770","issue_url":"https://api.github.com/repos/apache/hudi/issues/7185","id":1313294770,"node_id":"IC_kwDOBI7nWM5OR0my","user":{"login":"lucasberlang","id":28829164,"node_id":"MDQ6VXNlcjI4ODI5MTY0","avatar_url":"https://avatars.githubusercontent.com/u/28829164?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasberlang","html_url":"https://github.com/lucasberlang","followers_url":"https://api.github.com/users/lucasberlang/followers","following_url":"https://api.github.com/users/lucasberlang/following{/other_user}","gists_url":"https://api.github.com/users/lucasberlang/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasberlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasberlang/subscriptions","organizations_url":"https://api.github.com/users/lucasberlang/orgs","repos_url":"https://api.github.com/users/lucasberlang/repos","events_url":"https://api.github.com/users/lucasberlang/events{/privacy}","received_events_url":"https://api.github.com/users/lucasberlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T08:46:04Z","updated_at":"2022-11-14T08:46:04Z","author_association":"NONE","body":"Hi @hussein-awala,\r\n\r\nFirst of all thank you for your answer.\r\nI have added the dependency to the dockerfile and the error has now changed, it seems that I am not getting the access keys to aws correctly, although I have them in the properties and in the configmap.\r\n```Dockerfile\r\nARG FLINK_VERSION\r\nARG SCALA_VERSION\r\nFROM flink:${FLINK_VERSION}-scala_${SCALA_VERSION}\r\nARG FLINK_HADOOP_VERSION\r\nARG GCS_CONNECTOR_VERSION\r\n\r\nRUN test -n \"$FLINK_HADOOP_VERSION\"\r\nRUN test -n \"$GCS_CONNECTOR_VERSION\"\r\n\r\nARG HUDI_HADOOP_JAR_NAME=hudi-flink1.15-bundle-0.12.0.jar\r\nARG HUDI_HADOOP_JAR_URI=https://repo.maven.apache.org/maven2/org/apache/hudi/hudi-flink1.15-bundle/0.12.0/hudi-flink1.15-bundle-0.12.0.jar\r\n\r\nRUN echo \"Downloading ${HUDI_HADOOP_JAR_URI}\" && \\\r\n  wget -q -O /opt/flink/lib/${HUDI_HADOOP_JAR_NAME} ${HUDI_HADOOP_JAR_URI}\r\nRUN echo \"Downloading https://repo1.maven.org/maven2/org/apache/hudi/hudi-aws/0.12.0/hudi-aws-0.12.0.jar\" && \\\r\n  wget -q -O /opt/flink/lib/hudi-aws-0.12.0.jar https://repo1.maven.org/maven2/org/apache/hudi/hudi-aws/0.12.0/hudi-aws-0.12.0.jar\r\n\r\nRUN mkdir -p /opt/flink/plugins/flink-s3-fs-hadoop/ && cp /opt/flink/opt/flink-s3-fs-hadoop-1.15.0.jar /opt/flink/plugins/flink-s3-fs-hadoop/ && cp /opt/flink/opt/flink-s3-fs-hadoop-1.15.0.jar /opt/flink/lib/\r\n```\r\n**Stacktrace**\r\n\r\n```\r\norg.apache.flink.runtime.rpc.akka.exceptions.AkkaRpcException: Could not start RpcEndpoint jobmanager_2.\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.start(AkkaRpcActor.java:617) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleControlMessage(AkkaRpcActor.java:185) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat scala.PartialFunction.applyOrElse(PartialFunction.scala:123) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat scala.PartialFunction.applyOrElse$(PartialFunction.scala:122) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.actor.Actor.aroundReceive(Actor.scala:537) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.actor.Actor.aroundReceive$(Actor.scala:535) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.actor.ActorCell.invoke(ActorCell.scala:548) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270) [flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.dispatch.Mailbox.run(Mailbox.scala:231) [flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat akka.dispatch.Mailbox.exec(Mailbox.scala:243) [flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.scan(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source) [?:?]\r\nCaused by: org.apache.flink.runtime.jobmaster.JobMasterException: Could not start the JobMaster.\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.onStart(JobMaster.java:390) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:181) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.lambda$start$0(AkkaRpcActor.java:612) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.start(AkkaRpcActor.java:611) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\t... 21 more\r\nCaused by: org.apache.flink.util.FlinkRuntimeException: Failed to start the operator coordinators\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:169) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startAllOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:82) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.SchedulerBase.startScheduling(SchedulerBase.java:624) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startScheduling(JobMaster.java:1010) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startJobExecution(JobMaster.java:927) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.onStart(JobMaster.java:388) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:181) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.lambda$start$0(AkkaRpcActor.java:612) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.start(AkkaRpcActor.java:611) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\t... 21 more\r\nCaused by: org.apache.hudi.exception.HoodieIOException: Failed to get instance of org.apache.hadoop.fs.FileSystem\r\n\tat org.apache.hudi.common.fs.FSUtils.getFs(FSUtils.java:109) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.common.fs.FSUtils.getFs(FSUtils.java:100) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.tableExists(StreamerUtil.java:338) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.initTableIfNotExists(StreamerUtil.java:307) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.initTableIfNotExists(StreamerUtil.java:294) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.sink.StreamWriteOperatorCoordinator.start(StreamWriteOperatorCoordinator.java:179) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.flink.runtime.operators.coordination.OperatorCoordinatorHolder.start(OperatorCoordinatorHolder.java:194) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:164) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startAllOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:82) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.SchedulerBase.startScheduling(SchedulerBase.java:624) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startScheduling(JobMaster.java:1010) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startJobExecution(JobMaster.java:927) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.onStart(JobMaster.java:388) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:181) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.lambda$start$0(AkkaRpcActor.java:612) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.start(AkkaRpcActor.java:611) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\t... 21 more\r\nCaused by: java.nio.file.AccessDeniedException: euw1-bluetab-general-data-pro: org.apache.hadoop.fs.s3a.auth.NoAuthWithAWSException: No AWS Credentials provided by SimpleAWSCredentialsProvider EnvironmentVariableCredentialsProvider InstanceProfileCredentialsProvider : com.amazonaws.SdkClientException: The requested metadata is not found at http://169.254.169.254/latest/meta-data/iam/security-credentials/\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:187) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:111) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.lambda$retry$3(Invoker.java:265) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retryUntranslated(Invoker.java:322) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retry(Invoker.java:261) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retry(Invoker.java:236) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.verifyBucketExists(S3AFileSystem.java:391) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:322) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3375) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:125) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3424) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3392) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:485) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:365) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hudi.common.fs.FSUtils.getFs(FSUtils.java:107) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.common.fs.FSUtils.getFs(FSUtils.java:100) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.tableExists(StreamerUtil.java:338) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.initTableIfNotExists(StreamerUtil.java:307) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.initTableIfNotExists(StreamerUtil.java:294) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.sink.StreamWriteOperatorCoordinator.start(StreamWriteOperatorCoordinator.java:179) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.flink.runtime.operators.coordination.OperatorCoordinatorHolder.start(OperatorCoordinatorHolder.java:194) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:164) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startAllOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:82) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.SchedulerBase.startScheduling(SchedulerBase.java:624) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startScheduling(JobMaster.java:1010) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startJobExecution(JobMaster.java:927) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.onStart(JobMaster.java:388) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:181) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.lambda$start$0(AkkaRpcActor.java:612) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.start(AkkaRpcActor.java:611) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\t... 21 more\r\nCaused by: org.apache.hadoop.fs.s3a.auth.NoAuthWithAWSException: No AWS Credentials provided by SimpleAWSCredentialsProvider EnvironmentVariableCredentialsProvider InstanceProfileCredentialsProvider : com.amazonaws.SdkClientException: The requested metadata is not found at http://169.254.169.254/latest/meta-data/iam/security-credentials/\r\n\tat org.apache.hadoop.fs.s3a.AWSCredentialProviderList.getCredentials(AWSCredentialProviderList.java:159) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1257) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:833) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:783) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5259) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.getBucketRegionViaHeadRequest(AmazonS3Client.java:6220) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.fetchRegionFromCache(AmazonS3Client.java:6193) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5244) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5206) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.headBucket(AmazonS3Client.java:1438) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.doesBucketExist(AmazonS3Client.java:1374) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.lambda$verifyBucketExists$1(S3AFileSystem.java:392) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:109) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.lambda$retry$3(Invoker.java:265) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retryUntranslated(Invoker.java:322) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retry(Invoker.java:261) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.Invoker.retry(Invoker.java:236) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.verifyBucketExists(S3AFileSystem.java:391) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:322) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3375) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:125) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3424) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3392) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:485) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:365) ~[flink-s3-fs-hadoop-1.15.0.jar:1.15.0]\r\n\tat org.apache.hudi.common.fs.FSUtils.getFs(FSUtils.java:107) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.common.fs.FSUtils.getFs(FSUtils.java:100) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.tableExists(StreamerUtil.java:338) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.initTableIfNotExists(StreamerUtil.java:307) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.util.StreamerUtil.initTableIfNotExists(StreamerUtil.java:294) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.hudi.sink.StreamWriteOperatorCoordinator.start(StreamWriteOperatorCoordinator.java:179) ~[hudi-flink1.15-bundle-0.12.0.jar:0.12.0]\r\n\tat org.apache.flink.runtime.operators.coordination.OperatorCoordinatorHolder.start(OperatorCoordinatorHolder.java:194) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:164) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.DefaultOperatorCoordinatorHandler.startAllOperatorCoordinators(DefaultOperatorCoordinatorHandler.java:82) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.scheduler.SchedulerBase.startScheduling(SchedulerBase.java:624) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startScheduling(JobMaster.java:1010) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.startJobExecution(JobMaster.java:927) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.onStart(JobMaster.java:388) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:181) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.lambda$start$0(AkkaRpcActor.java:612) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.start(AkkaRpcActor.java:611) ~[flink-rpc-akka_d357944d-1e58-45e1-a223-4f7011ceaa4f.jar:1.15.0]\r\n\t... 21 more\r\n```\r\nAny idea why it could be?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313294770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313313934","html_url":"https://github.com/apache/hudi/issues/6942#issuecomment-1313313934","issue_url":"https://api.github.com/repos/apache/hudi/issues/6942","id":1313313934,"node_id":"IC_kwDOBI7nWM5OR5SO","user":{"login":"idrismike","id":12491651,"node_id":"MDQ6VXNlcjEyNDkxNjUx","avatar_url":"https://avatars.githubusercontent.com/u/12491651?v=4","gravatar_id":"","url":"https://api.github.com/users/idrismike","html_url":"https://github.com/idrismike","followers_url":"https://api.github.com/users/idrismike/followers","following_url":"https://api.github.com/users/idrismike/following{/other_user}","gists_url":"https://api.github.com/users/idrismike/gists{/gist_id}","starred_url":"https://api.github.com/users/idrismike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idrismike/subscriptions","organizations_url":"https://api.github.com/users/idrismike/orgs","repos_url":"https://api.github.com/users/idrismike/repos","events_url":"https://api.github.com/users/idrismike/events{/privacy}","received_events_url":"https://api.github.com/users/idrismike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T08:57:12Z","updated_at":"2022-11-14T08:57:12Z","author_association":"NONE","body":"@nsivabalan Indeed the jars were conflicting. the issue is resolved. A single jar was enough. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313313934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313341507","html_url":"https://github.com/apache/hudi/pull/7167#issuecomment-1313341507","issue_url":"https://api.github.com/repos/apache/hudi/issues/7167","id":1313341507,"node_id":"IC_kwDOBI7nWM5OSABD","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T09:10:34Z","updated_at":"2022-11-14T09:10:34Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"eff6224be5ca3b205470ae473ea7ac54ed1012bc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12897\",\n    \"triggerID\" : \"eff6224be5ca3b205470ae473ea7ac54ed1012bc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8881615927848e76214065870119e910e41e9c35\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12904\",\n    \"triggerID\" : \"8881615927848e76214065870119e910e41e9c35\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6b165aec634812ba8d6f4a55d0dfb8578031d25c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12916\",\n    \"triggerID\" : \"6b165aec634812ba8d6f4a55d0dfb8578031d25c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e2d3283ae4e47220fa13fdf86d880f27ad5ff524\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12945\",\n    \"triggerID\" : \"e2d3283ae4e47220fa13fdf86d880f27ad5ff524\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"82fcd037fe81678d19594378d08a53cf6308c5a3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12948\",\n    \"triggerID\" : \"82fcd037fe81678d19594378d08a53cf6308c5a3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b6078d75271edd5c9a4af7e13f087a043fa7869e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12991\",\n    \"triggerID\" : \"b6078d75271edd5c9a4af7e13f087a043fa7869e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4598dc15c7b9f5092f90d3c3c889329e52bf9ae5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12993\",\n    \"triggerID\" : \"4598dc15c7b9f5092f90d3c3c889329e52bf9ae5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6885e2e5aab82b65a7cb1da2a72bdfc089eb42b4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12996\",\n    \"triggerID\" : \"6885e2e5aab82b65a7cb1da2a72bdfc089eb42b4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"66c385e2fe84b8c6e7527df7c4d994816ed6209d\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12997\",\n    \"triggerID\" : \"66c385e2fe84b8c6e7527df7c4d994816ed6209d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 66c385e2fe84b8c6e7527df7c4d994816ed6209d Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12997) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313341507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313356491","html_url":"https://github.com/apache/hudi/issues/7192#issuecomment-1313356491","issue_url":"https://api.github.com/repos/apache/hudi/issues/7192","id":1313356491,"node_id":"IC_kwDOBI7nWM5OSDrL","user":{"login":"eshu","id":3531759,"node_id":"MDQ6VXNlcjM1MzE3NTk=","avatar_url":"https://avatars.githubusercontent.com/u/3531759?v=4","gravatar_id":"","url":"https://api.github.com/users/eshu","html_url":"https://github.com/eshu","followers_url":"https://api.github.com/users/eshu/followers","following_url":"https://api.github.com/users/eshu/following{/other_user}","gists_url":"https://api.github.com/users/eshu/gists{/gist_id}","starred_url":"https://api.github.com/users/eshu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eshu/subscriptions","organizations_url":"https://api.github.com/users/eshu/orgs","repos_url":"https://api.github.com/users/eshu/repos","events_url":"https://api.github.com/users/eshu/events{/privacy}","received_events_url":"https://api.github.com/users/eshu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T09:20:32Z","updated_at":"2022-11-14T09:20:32Z","author_association":"NONE","body":"@xushiyan I suggest to write the error to the log instead of \"operation is failed\" and stop the job with error instead of ignore the issue. The first thing could be easily fixed. I do not why Hudi code does not throw an error in this case and consider the  execution as successful.\r\n\r\nI read data from ES and write to Hudi. I use Glue 3 environment. But I believe you do not need this details to fix this bug. Anyway I do not have a simple script and data to reproduce it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313356491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313432686","html_url":"https://github.com/apache/hudi/pull/7173#issuecomment-1313432686","issue_url":"https://api.github.com/repos/apache/hudi/issues/7173","id":1313432686,"node_id":"IC_kwDOBI7nWM5OSWRu","user":{"login":"xicm","id":36392121,"node_id":"MDQ6VXNlcjM2MzkyMTIx","avatar_url":"https://avatars.githubusercontent.com/u/36392121?v=4","gravatar_id":"","url":"https://api.github.com/users/xicm","html_url":"https://github.com/xicm","followers_url":"https://api.github.com/users/xicm/followers","following_url":"https://api.github.com/users/xicm/following{/other_user}","gists_url":"https://api.github.com/users/xicm/gists{/gist_id}","starred_url":"https://api.github.com/users/xicm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xicm/subscriptions","organizations_url":"https://api.github.com/users/xicm/orgs","repos_url":"https://api.github.com/users/xicm/repos","events_url":"https://api.github.com/users/xicm/events{/privacy}","received_events_url":"https://api.github.com/users/xicm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T10:19:13Z","updated_at":"2022-11-14T10:19:13Z","author_association":"CONTRIBUTOR","body":"@xiarixiaoyao @cdmikechen \r\n#3391 should be resolved, if we want to support hive3.\r\n @cdmikechen Could you fix the conflict in #3391? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313432686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313451100","html_url":"https://github.com/apache/hudi/pull/7194#issuecomment-1313451100","issue_url":"https://api.github.com/repos/apache/hudi/issues/7194","id":1313451100,"node_id":"IC_kwDOBI7nWM5OSaxc","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T10:34:27Z","updated_at":"2022-11-14T10:34:27Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"6253ae4e6ea771a8e9fe1cb0c407913347f28bcf\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12998\",\n    \"triggerID\" : \"6253ae4e6ea771a8e9fe1cb0c407913347f28bcf\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"382427482a2d7e0444ec8132445448a70a51b910\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12999\",\n    \"triggerID\" : \"382427482a2d7e0444ec8132445448a70a51b910\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 382427482a2d7e0444ec8132445448a70a51b910 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12999) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313451100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313453089","html_url":"https://github.com/apache/hudi/issues/7191#issuecomment-1313453089","issue_url":"https://api.github.com/repos/apache/hudi/issues/7191","id":1313453089,"node_id":"IC_kwDOBI7nWM5OSbQh","user":{"login":"aniketnanna","id":99634382,"node_id":"U_kgDOBfBMzg","avatar_url":"https://avatars.githubusercontent.com/u/99634382?v=4","gravatar_id":"","url":"https://api.github.com/users/aniketnanna","html_url":"https://github.com/aniketnanna","followers_url":"https://api.github.com/users/aniketnanna/followers","following_url":"https://api.github.com/users/aniketnanna/following{/other_user}","gists_url":"https://api.github.com/users/aniketnanna/gists{/gist_id}","starred_url":"https://api.github.com/users/aniketnanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aniketnanna/subscriptions","organizations_url":"https://api.github.com/users/aniketnanna/orgs","repos_url":"https://api.github.com/users/aniketnanna/repos","events_url":"https://api.github.com/users/aniketnanna/events{/privacy}","received_events_url":"https://api.github.com/users/aniketnanna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T10:35:54Z","updated_at":"2022-11-14T10:55:01Z","author_association":"NONE","body":"@xushiyan\r\nWe have 3 issues to solve as mentioned above:\r\n1.  Missing data\r\n2.  DDL Change\r\n3.  Upgrade New version\r\n\r\n- 1st issue is more specific to AWS with Hudi.\r\n- 2nd and 3rd issues are more specific to Hudi.\r\n\r\n### 1. Missing data:\r\n    a.  This issue is related to Athena. Connected with support for the same.\r\n    b.  Support Engineer found an error ---> \"can not create year partitions from string\".\r\n        This error was found only for a few records and a few tables.\r\n    c.  Used the following parameter from Hudi Document into the glue job:\r\n        --sync-tool-classes org.apache.hudi.aws.sync.AwsGlueCatalogSyncTool\r\n        (reference- https://hudi.apache.org/docs/syncing_aws_glue_data_catalog/)\r\n    d.  Current Status: \r\n        Even using the parameter mentioned in (c), Athena-Glue partitions are not getting added to the table even though data is written in S3 within their respective partitions.\r\n\r\n### 2. DDL Change:\r\n        a.  Hudi version: 0.11.0 explicitly mentions that we can run DDL, such as ALTER TABLE   starting with Hudi 0.11.0 using Spark SQL query.\r\n        b.  Though DDL changes are allowed to be handled using Pyspark code, it is not explicitly mentioned in Hudi 0.10.1 documentation that we can run DDL like executing ALTER TABLE using Spark SQL query.\r\n            But, it provides a 'How To' documentation page to run DDL with ALTER TABLE with Spark SQL queries.\r\n        c.  It is confusing to understand, whether Hudi 0.10.1 can perform ALTER TABLE DDL Queries with Spark SQL.\r\n        d.  It threw an error when I tried adding a column from Spark SQL. Attached error screenshot in the case above.\r\n        e.  Need your guidance to perform mainly 2 DDL changes: Add Column and Drop Column.\r\n\r\n### 3. Upgrade New version:\r\n        a.  If want to upgrade to the newer version, it's not feasible to reprocess all data.\r\n        b.  Need your help to upgrade the Hudi version without affecting the existing Hudi table data, if only the Hudi version upgrade can solve some of the issues and AWS is compatible with new Hudi versions above 0.10.1","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313453089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313550383","html_url":"https://github.com/apache/hudi/issues/7192#issuecomment-1313550383","issue_url":"https://api.github.com/repos/apache/hudi/issues/7192","id":1313550383,"node_id":"IC_kwDOBI7nWM5OSzAv","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T11:42:07Z","updated_at":"2022-11-14T11:42:07Z","author_association":"MEMBER","body":"> @xushiyan I suggest to write the error to the log instead of \"operation is failed\" and stop the job with error instead of ignore the issue. The first thing could be easily fixed. I do not why Hudi code does not throw an error in this case and consider the execution as successful.\r\n\r\nok so you're suggesting code level improvement. filed https://issues.apache.org/jira/browse/HUDI-5207\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313550383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313577663","html_url":"https://github.com/apache/hudi/issues/5211#issuecomment-1313577663","issue_url":"https://api.github.com/repos/apache/hudi/issues/5211","id":1313577663,"node_id":"IC_kwDOBI7nWM5OS5q_","user":{"login":"jonashartwig","id":8947747,"node_id":"MDQ6VXNlcjg5NDc3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/8947747?v=4","gravatar_id":"","url":"https://api.github.com/users/jonashartwig","html_url":"https://github.com/jonashartwig","followers_url":"https://api.github.com/users/jonashartwig/followers","following_url":"https://api.github.com/users/jonashartwig/following{/other_user}","gists_url":"https://api.github.com/users/jonashartwig/gists{/gist_id}","starred_url":"https://api.github.com/users/jonashartwig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonashartwig/subscriptions","organizations_url":"https://api.github.com/users/jonashartwig/orgs","repos_url":"https://api.github.com/users/jonashartwig/repos","events_url":"https://api.github.com/users/jonashartwig/events{/privacy}","received_events_url":"https://api.github.com/users/jonashartwig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T12:05:02Z","updated_at":"2022-11-18T10:09:37Z","author_association":"NONE","body":"Hi, I have a similar issue. We also partition our data by year, month, day and hour. That becomes quite some structure for few years. So we implemented a parameter based partition filter that pre-selects the time based partitions off of some config. So our partition pattern we then use to load hudi is something like this: `/data/path/col1=*/year=2022/month=11/day=14/hour=13/col2=*/col3=*`. Hudi then `org.apache.hudi.util.PathUtils#globPath` function to parse it. That function gets the base path of the input above `/data/path/col1=*/year=2022/month=11/day=14/hour=13/col2=*/` and iterates the contents until it finds the base dir, but the base dir is never found as =* then never actually becomes a folder. So the while loop continues until it gets the basePath null of leafPath / and then null pointer. We use hive like partition configuration.\r\n\r\nWe use Hudi 0.8 before and are just updating to 0.12.\r\n\r\nAny advice?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313577663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313616275","html_url":"https://github.com/apache/hudi/pull/7099#issuecomment-1313616275","issue_url":"https://api.github.com/repos/apache/hudi/issues/7099","id":1313616275,"node_id":"IC_kwDOBI7nWM5OTDGT","user":{"login":"JerryYue-M","id":10253313,"node_id":"MDQ6VXNlcjEwMjUzMzEz","avatar_url":"https://avatars.githubusercontent.com/u/10253313?v=4","gravatar_id":"","url":"https://api.github.com/users/JerryYue-M","html_url":"https://github.com/JerryYue-M","followers_url":"https://api.github.com/users/JerryYue-M/followers","following_url":"https://api.github.com/users/JerryYue-M/following{/other_user}","gists_url":"https://api.github.com/users/JerryYue-M/gists{/gist_id}","starred_url":"https://api.github.com/users/JerryYue-M/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JerryYue-M/subscriptions","organizations_url":"https://api.github.com/users/JerryYue-M/orgs","repos_url":"https://api.github.com/users/JerryYue-M/repos","events_url":"https://api.github.com/users/JerryYue-M/events{/privacy}","received_events_url":"https://api.github.com/users/JerryYue-M/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T12:27:10Z","updated_at":"2022-11-14T12:27:10Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars  what do you think about this way to describe the progress of the streaming writer","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313616275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313735056","html_url":"https://github.com/apache/hudi/pull/7099#issuecomment-1313735056","issue_url":"https://api.github.com/repos/apache/hudi/issues/7099","id":1313735056,"node_id":"IC_kwDOBI7nWM5OTgGQ","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:45:35Z","updated_at":"2022-11-14T13:45:35Z","author_association":"CONTRIBUTOR","body":"> @XuQianJin-Stars what do you think about this way to describe the progress of the streaming writer\r\n\r\n+1ï¼Œ This is also the implementation method used in our internal production.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313735056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313776115","html_url":"https://github.com/apache/hudi/issues/7185#issuecomment-1313776115","issue_url":"https://api.github.com/repos/apache/hudi/issues/7185","id":1313776115,"node_id":"IC_kwDOBI7nWM5OTqHz","user":{"login":"hussein-awala","id":21311487,"node_id":"MDQ6VXNlcjIxMzExNDg3","avatar_url":"https://avatars.githubusercontent.com/u/21311487?v=4","gravatar_id":"","url":"https://api.github.com/users/hussein-awala","html_url":"https://github.com/hussein-awala","followers_url":"https://api.github.com/users/hussein-awala/followers","following_url":"https://api.github.com/users/hussein-awala/following{/other_user}","gists_url":"https://api.github.com/users/hussein-awala/gists{/gist_id}","starred_url":"https://api.github.com/users/hussein-awala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hussein-awala/subscriptions","organizations_url":"https://api.github.com/users/hussein-awala/orgs","repos_url":"https://api.github.com/users/hussein-awala/repos","events_url":"https://api.github.com/users/hussein-awala/events{/privacy}","received_events_url":"https://api.github.com/users/hussein-awala/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T14:13:58Z","updated_at":"2022-11-14T14:13:58Z","author_association":"MEMBER","body":"Great! For the new error, did you add the config map to all the executors?\r\n\r\nIf you are using AWS EKS, I recommend creating a new IAM role with S3 access, and creating a K8S service account to assume this role, then you can use this service account for your spark pods (driver and executors) and let EKS mounting the role secret and configure your AWS creds. ([doc](https://docs.aws.amazon.com/eks/latest/userguide/associate-service-account-role.html))","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313776115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313984212","html_url":"https://github.com/apache/hudi/pull/7197#issuecomment-1313984212","issue_url":"https://api.github.com/repos/apache/hudi/issues/7197","id":1313984212,"node_id":"IC_kwDOBI7nWM5OUc7U","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T16:01:17Z","updated_at":"2022-11-14T16:01:17Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fcd6747388bdef4379895a9c77283e0b410ccbb5\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13005\",\n    \"triggerID\" : \"fcd6747388bdef4379895a9c77283e0b410ccbb5\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* fcd6747388bdef4379895a9c77283e0b410ccbb5 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13005) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1313984212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314319731","html_url":"https://github.com/apache/hudi/pull/6843#issuecomment-1314319731","issue_url":"https://api.github.com/repos/apache/hudi/issues/6843","id":1314319731,"node_id":"IC_kwDOBI7nWM5OVu1z","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T20:14:27Z","updated_at":"2022-11-14T20:14:27Z","author_association":"CONTRIBUTOR","body":"Hey, @zhangyue19921010!\r\n\r\nYeah, this PR was put up purely for experimental purposes even before we finalized previous PR landing disruptor which (considerably improved the API!), so i was primarily looking into putting up quick solution i can quickly benchmark against and validate.\r\n\r\nIn terms of taking this forward, i have following thoughts: \r\n - We should try to preserve existing queue implementations, so that users could experiment in their environment and always  pick what works best for them. \r\n - This variability of course should not be coming at the expense of performance. \r\n - We should maybe take another holistic look on the executor APIs and try to see if we can simplify them even further (by, say, eliminating what we don't really need)\r\n\r\n Our goal would be to fit in such `SimpleExecutor` into existing framework in a way that would allow all of the aforementioned ones to hold true.\r\n\r\nP.S. What surprised me actually was that i was NOT able to reproduce 20% increase in performance for Disruptor on our benchmarks that you folks were seeing in your environment. First issue was due to #7188, but even after addressing it i still don't see an improvement.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314319731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314386314","html_url":"https://github.com/apache/hudi/pull/6680#issuecomment-1314386314","issue_url":"https://api.github.com/repos/apache/hudi/issues/6680","id":1314386314,"node_id":"IC_kwDOBI7nWM5OV_GK","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T21:12:16Z","updated_at":"2022-11-14T21:12:16Z","author_association":"CONTRIBUTOR","body":"CI is green:\r\n<img width=\"1634\" alt=\"Screenshot 2022-11-14 at 1 09 01 PM\" src=\"https://user-images.githubusercontent.com/428277/201766442-14a24ee8-10ab-401c-9664-86c72f7d5a35.png\">\r\n\r\nhttps://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=12964&view=results","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314386314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314574904","html_url":"https://github.com/apache/hudi/pull/7052#issuecomment-1314574904","issue_url":"https://api.github.com/repos/apache/hudi/issues/7052","id":1314574904,"node_id":"IC_kwDOBI7nWM5OWtI4","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T00:09:25Z","updated_at":"2022-11-15T00:09:25Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2e5cc087542cd1ae853b3fb477cc9358e7bde36a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12545\",\n    \"triggerID\" : \"2e5cc087542cd1ae853b3fb477cc9358e7bde36a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d2baaf100be34462690451554c4687053510f0e0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12609\",\n    \"triggerID\" : \"d2baaf100be34462690451554c4687053510f0e0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"357b799343ac222159a248327fe637a0a3bd024a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12966\",\n    \"triggerID\" : \"357b799343ac222159a248327fe637a0a3bd024a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c082143b4c9dcc9a0df9dcb5dc54db33e42112ce\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13010\",\n    \"triggerID\" : \"c082143b4c9dcc9a0df9dcb5dc54db33e42112ce\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b8dec43e53b0714c3459ba887ffbee272694d0a1\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13013\",\n    \"triggerID\" : \"b8dec43e53b0714c3459ba887ffbee272694d0a1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c082143b4c9dcc9a0df9dcb5dc54db33e42112ce Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13010) \n* b8dec43e53b0714c3459ba887ffbee272694d0a1 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13013) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314574904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314652571","html_url":"https://github.com/apache/hudi/pull/7194#issuecomment-1314652571","issue_url":"https://api.github.com/repos/apache/hudi/issues/7194","id":1314652571,"node_id":"IC_kwDOBI7nWM5OXAGb","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T01:59:59Z","updated_at":"2022-11-15T01:59:59Z","author_association":"CONTRIBUTOR","body":"The added test has passed, would merge it soon ~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314652571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314657150","html_url":"https://github.com/apache/hudi/pull/7196#issuecomment-1314657150","issue_url":"https://api.github.com/repos/apache/hudi/issues/7196","id":1314657150,"node_id":"IC_kwDOBI7nWM5OXBN-","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:05:24Z","updated_at":"2022-11-15T02:05:24Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314657150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314663017","html_url":"https://github.com/apache/hudi/pull/7052#issuecomment-1314663017","issue_url":"https://api.github.com/repos/apache/hudi/issues/7052","id":1314663017,"node_id":"IC_kwDOBI7nWM5OXCpp","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:11:54Z","updated_at":"2022-11-15T02:12:42Z","author_association":"CONTRIBUTOR","body":"CI is green:\r\n\r\n<img width=\"1611\" alt=\"Screenshot 2022-11-14 at 6 11 42 PM\" src=\"https://user-images.githubusercontent.com/428277/201809488-731aa0b4-3b0f-4222-aedb-47f65cb387fa.png\">\r\n\r\nhttps://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=13013&view=results","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314663017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314681685","html_url":"https://github.com/apache/hudi/pull/7021#issuecomment-1314681685","issue_url":"https://api.github.com/repos/apache/hudi/issues/7021","id":1314681685,"node_id":"IC_kwDOBI7nWM5OXHNV","user":{"login":"wzx140","id":25837418,"node_id":"MDQ6VXNlcjI1ODM3NDE4","avatar_url":"https://avatars.githubusercontent.com/u/25837418?v=4","gravatar_id":"","url":"https://api.github.com/users/wzx140","html_url":"https://github.com/wzx140","followers_url":"https://api.github.com/users/wzx140/followers","following_url":"https://api.github.com/users/wzx140/following{/other_user}","gists_url":"https://api.github.com/users/wzx140/gists{/gist_id}","starred_url":"https://api.github.com/users/wzx140/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzx140/subscriptions","organizations_url":"https://api.github.com/users/wzx140/orgs","repos_url":"https://api.github.com/users/wzx140/repos","events_url":"https://api.github.com/users/wzx140/events{/privacy}","received_events_url":"https://api.github.com/users/wzx140/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:38:36Z","updated_at":"2022-11-15T02:38:36Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314681685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314686649","html_url":"https://github.com/apache/hudi/pull/5377#issuecomment-1314686649","issue_url":"https://api.github.com/repos/apache/hudi/issues/5377","id":1314686649,"node_id":"IC_kwDOBI7nWM5OXIa5","user":{"login":"TengHuo","id":7539060,"node_id":"MDQ6VXNlcjc1MzkwNjA=","avatar_url":"https://avatars.githubusercontent.com/u/7539060?v=4","gravatar_id":"","url":"https://api.github.com/users/TengHuo","html_url":"https://github.com/TengHuo","followers_url":"https://api.github.com/users/TengHuo/followers","following_url":"https://api.github.com/users/TengHuo/following{/other_user}","gists_url":"https://api.github.com/users/TengHuo/gists{/gist_id}","starred_url":"https://api.github.com/users/TengHuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TengHuo/subscriptions","organizations_url":"https://api.github.com/users/TengHuo/orgs","repos_url":"https://api.github.com/users/TengHuo/repos","events_url":"https://api.github.com/users/TengHuo/events{/privacy}","received_events_url":"https://api.github.com/users/TengHuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:47:19Z","updated_at":"2022-11-15T02:47:19Z","author_association":"CONTRIBUTOR","body":"Hi @alexeykudinkin \r\nAs I understand, when this config `hoodie.datasource.read.extract.partition.values.from.path` is `false`, it preserves the same behaviour as previous version (version < 0.11.0). Am I right?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314686649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314705169","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314705169","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314705169,"node_id":"IC_kwDOBI7nWM5OXM8R","user":{"login":"trushev","id":42293632,"node_id":"MDQ6VXNlcjQyMjkzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/42293632?v=4","gravatar_id":"","url":"https://api.github.com/users/trushev","html_url":"https://github.com/trushev","followers_url":"https://api.github.com/users/trushev/followers","following_url":"https://api.github.com/users/trushev/following{/other_user}","gists_url":"https://api.github.com/users/trushev/gists{/gist_id}","starred_url":"https://api.github.com/users/trushev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trushev/subscriptions","organizations_url":"https://api.github.com/users/trushev/orgs","repos_url":"https://api.github.com/users/trushev/repos","events_url":"https://api.github.com/users/trushev/events{/privacy}","received_events_url":"https://api.github.com/users/trushev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T03:15:44Z","updated_at":"2022-11-15T03:15:44Z","author_association":"CONTRIBUTOR","body":"@danny0405 In fact, I'd prefer not to replace two schema approach with  one scheme approach, as it does not look like part of flink schema evolution feature\r\nMoreover, two schema approach still keeps coming in PRs\r\nhttps://github.com/apache/hudi/pull/7187/files\r\nI think it's reasonable to go back to my original idea of adding `withInternalSchema(InternalSchemainternalSchema)` to `HoodieUnMergedLogRecordScanner` https://github.com/apache/hudi/pull/5830#discussion_r925340228\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314705169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314705991","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314705991","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314705991,"node_id":"IC_kwDOBI7nWM5OXNJH","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T03:17:10Z","updated_at":"2022-11-15T03:17:10Z","author_association":"CONTRIBUTOR","body":"> withInternalSchema(\r\n\r\nAgree","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314705991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314709284","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314709284","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314709284,"node_id":"IC_kwDOBI7nWM5OXN8k","user":{"login":"trushev","id":42293632,"node_id":"MDQ6VXNlcjQyMjkzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/42293632?v=4","gravatar_id":"","url":"https://api.github.com/users/trushev","html_url":"https://github.com/trushev","followers_url":"https://api.github.com/users/trushev/followers","following_url":"https://api.github.com/users/trushev/following{/other_user}","gists_url":"https://api.github.com/users/trushev/gists{/gist_id}","starred_url":"https://api.github.com/users/trushev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trushev/subscriptions","organizations_url":"https://api.github.com/users/trushev/orgs","repos_url":"https://api.github.com/users/trushev/repos","events_url":"https://api.github.com/users/trushev/events{/privacy}","received_events_url":"https://api.github.com/users/trushev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T03:23:34Z","updated_at":"2022-11-15T03:23:34Z","author_association":"CONTRIBUTOR","body":"> > withInternalSchema(\r\n> \r\n> Agree\r\n\r\nSo as I understand, you don't mind if I revert all changes not related to flink, which means adding `withInternalSchema` to `HoodieUnMergedLogRecordScanner`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314709284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314746120","html_url":"https://github.com/apache/hudi/pull/7202#issuecomment-1314746120","issue_url":"https://api.github.com/repos/apache/hudi/issues/7202","id":1314746120,"node_id":"IC_kwDOBI7nWM5OXW8I","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T04:11:00Z","updated_at":"2022-11-15T04:11:00Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"a3d24f8f4c3f6182dd94551fb16387412e4ee019\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13019\",\n    \"triggerID\" : \"a3d24f8f4c3f6182dd94551fb16387412e4ee019\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* a3d24f8f4c3f6182dd94551fb16387412e4ee019 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13019) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314746120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314771363","html_url":"https://github.com/apache/hudi/issues/7191#issuecomment-1314771363","issue_url":"https://api.github.com/repos/apache/hudi/issues/7191","id":1314771363,"node_id":"IC_kwDOBI7nWM5OXdGj","user":{"login":"aniketnanna","id":99634382,"node_id":"U_kgDOBfBMzg","avatar_url":"https://avatars.githubusercontent.com/u/99634382?v=4","gravatar_id":"","url":"https://api.github.com/users/aniketnanna","html_url":"https://github.com/aniketnanna","followers_url":"https://api.github.com/users/aniketnanna/followers","following_url":"https://api.github.com/users/aniketnanna/following{/other_user}","gists_url":"https://api.github.com/users/aniketnanna/gists{/gist_id}","starred_url":"https://api.github.com/users/aniketnanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aniketnanna/subscriptions","organizations_url":"https://api.github.com/users/aniketnanna/orgs","repos_url":"https://api.github.com/users/aniketnanna/repos","events_url":"https://api.github.com/users/aniketnanna/events{/privacy}","received_events_url":"https://api.github.com/users/aniketnanna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T04:56:05Z","updated_at":"2022-11-15T04:56:05Z","author_association":"NONE","body":"## 1. Missing Data Issue\r\n\r\n    a.  Regarding missing data in some of the tables where data is present in the processed bucket but Athena is not able to read\r\n    b.  Found the following errors in error logs Glue job:\r\n![Screenshot from 2022-11-15 09-44-04](https://user-images.githubusercontent.com/99634382/201828275-5a17cef2-1baf-48ec-a4af-ca65ac8f6f38.png)\r\n    c.  The above issue is solved by adding missing partitions using ALTER TABLE ADD PARTITION in Athena.\r\n    d.  Not able to find the root cause of the issue where Glue and Hudi Scripts missed a few partitions randomly.\r\n    e.  The exact same setup is followed for other tables where it worked fine and added all partitions but with respect to this table found an anomaly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314771363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314802891","html_url":"https://github.com/apache/hudi/issues/7135#issuecomment-1314802891","issue_url":"https://api.github.com/repos/apache/hudi/issues/7135","id":1314802891,"node_id":"IC_kwDOBI7nWM5OXkzL","user":{"login":"devanshguptatrepp","id":105621609,"node_id":"U_kgDOBkuoaQ","avatar_url":"https://avatars.githubusercontent.com/u/105621609?v=4","gravatar_id":"","url":"https://api.github.com/users/devanshguptatrepp","html_url":"https://github.com/devanshguptatrepp","followers_url":"https://api.github.com/users/devanshguptatrepp/followers","following_url":"https://api.github.com/users/devanshguptatrepp/following{/other_user}","gists_url":"https://api.github.com/users/devanshguptatrepp/gists{/gist_id}","starred_url":"https://api.github.com/users/devanshguptatrepp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devanshguptatrepp/subscriptions","organizations_url":"https://api.github.com/users/devanshguptatrepp/orgs","repos_url":"https://api.github.com/users/devanshguptatrepp/repos","events_url":"https://api.github.com/users/devanshguptatrepp/events{/privacy}","received_events_url":"https://api.github.com/users/devanshguptatrepp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T05:42:19Z","updated_at":"2022-11-15T05:42:19Z","author_association":"NONE","body":"Thanks @xushiyan, that solved the problem.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314802891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314818826","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314818826","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314818826,"node_id":"IC_kwDOBI7nWM5OXosK","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T06:06:23Z","updated_at":"2022-11-15T06:06:23Z","author_association":"CONTRIBUTOR","body":"> > [3981.patch.zip](https://github.com/apache/hudi/files/9977268/3981.patch.zip) Thanks for the contribution, have reviewed some of the part, and left a local patch here and some comments ~\r\n> \r\n> Why we use writerSchema instead of readerSchema when schema evolution disabled? 3981.patch:\r\n> \r\n> ```java\r\n> public Schema getAvroSchema() {\r\n>   if (isEmptySchema()) {\r\n>     return null;\r\n>   }\r\n> ```\r\n\r\nActually i'm confused totally by these schema use cases, can we list a summary here, in which case we use writer /reader schema, for schema evolution enabled/disabled ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314818826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314822778","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314822778","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314822778,"node_id":"IC_kwDOBI7nWM5OXpp6","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T06:10:23Z","updated_at":"2022-11-15T06:10:23Z","author_association":"CONTRIBUTOR","body":"> Moreover, two schema approach still keeps coming in PRs\r\n> https://github.com/apache/hudi/pull/7187/files\r\n\r\nIsn't this is a prove that two schema may case bug in corner cases ? Personally, i prefer we keep only one reader schema interface here. Either we have some tool for fetching the right avro schema in evolution use cases or we keep only the internal schema that is compatible for evolution.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314822778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314845112","html_url":"https://github.com/apache/hudi/pull/7099#issuecomment-1314845112","issue_url":"https://api.github.com/repos/apache/hudi/issues/7099","id":1314845112,"node_id":"IC_kwDOBI7nWM5OXvG4","user":{"login":"yuzhaojing","id":32435329,"node_id":"MDQ6VXNlcjMyNDM1MzI5","avatar_url":"https://avatars.githubusercontent.com/u/32435329?v=4","gravatar_id":"","url":"https://api.github.com/users/yuzhaojing","html_url":"https://github.com/yuzhaojing","followers_url":"https://api.github.com/users/yuzhaojing/followers","following_url":"https://api.github.com/users/yuzhaojing/following{/other_user}","gists_url":"https://api.github.com/users/yuzhaojing/gists{/gist_id}","starred_url":"https://api.github.com/users/yuzhaojing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuzhaojing/subscriptions","organizations_url":"https://api.github.com/users/yuzhaojing/orgs","repos_url":"https://api.github.com/users/yuzhaojing/repos","events_url":"https://api.github.com/users/yuzhaojing/events{/privacy}","received_events_url":"https://api.github.com/users/yuzhaojing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T06:41:17Z","updated_at":"2022-11-15T06:41:17Z","author_association":"CONTRIBUTOR","body":"Please fix checkstyle to pass ci.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314845112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314868671","html_url":"https://github.com/apache/hudi/issues/7058#issuecomment-1314868671","issue_url":"https://api.github.com/repos/apache/hudi/issues/7058","id":1314868671,"node_id":"IC_kwDOBI7nWM5OX02_","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:07:40Z","updated_at":"2022-11-15T07:08:08Z","author_association":"CONTRIBUTOR","body":"We need to persist the ALLOW_OPERATION_METADATA_FIELD configuration item to the file in Flink and Spark to make Spark and Spark unified. I have submitted the pr on the Spark sideï¼š[https://github.com/apache/hudi/pull/7203](https://github.com/apache/hudi/pull/7203)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314868671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314873310","html_url":"https://github.com/apache/hudi/pull/7189#issuecomment-1314873310","issue_url":"https://api.github.com/repos/apache/hudi/issues/7189","id":1314873310,"node_id":"IC_kwDOBI7nWM5OX1_e","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:12:55Z","updated_at":"2022-11-15T07:12:55Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @KevinyhZou , somehow i feel the PR is valuable and we can generalize it to all the writer cases: append mode, upsert, and we can move the partition check done file writing logic into the coordinator. The watermark timestamp can be reported through the `WriteMetadataEvent`.\r\n\r\nAnd another concern is: the watermark is already a timestamp and do we have a need for different kind of timestamp formatter ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314873310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314878225","html_url":"https://github.com/apache/hudi/issues/7058#issuecomment-1314878225","issue_url":"https://api.github.com/repos/apache/hudi/issues/7058","id":1314878225,"node_id":"IC_kwDOBI7nWM5OX3MR","user":{"login":"adward32135","id":91334918,"node_id":"MDQ6VXNlcjkxMzM0OTE4","avatar_url":"https://avatars.githubusercontent.com/u/91334918?v=4","gravatar_id":"","url":"https://api.github.com/users/adward32135","html_url":"https://github.com/adward32135","followers_url":"https://api.github.com/users/adward32135/followers","following_url":"https://api.github.com/users/adward32135/following{/other_user}","gists_url":"https://api.github.com/users/adward32135/gists{/gist_id}","starred_url":"https://api.github.com/users/adward32135/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adward32135/subscriptions","organizations_url":"https://api.github.com/users/adward32135/orgs","repos_url":"https://api.github.com/users/adward32135/repos","events_url":"https://api.github.com/users/adward32135/events{/privacy}","received_events_url":"https://api.github.com/users/adward32135/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:18:06Z","updated_at":"2022-11-15T07:18:06Z","author_association":"NONE","body":"\r\nok, the problem has been solved, thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314878225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314898583","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314898583","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314898583,"node_id":"IC_kwDOBI7nWM5OX8KX","user":{"login":"trushev","id":42293632,"node_id":"MDQ6VXNlcjQyMjkzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/42293632?v=4","gravatar_id":"","url":"https://api.github.com/users/trushev","html_url":"https://github.com/trushev","followers_url":"https://api.github.com/users/trushev/followers","following_url":"https://api.github.com/users/trushev/following{/other_user}","gists_url":"https://api.github.com/users/trushev/gists{/gist_id}","starred_url":"https://api.github.com/users/trushev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trushev/subscriptions","organizations_url":"https://api.github.com/users/trushev/orgs","repos_url":"https://api.github.com/users/trushev/repos","events_url":"https://api.github.com/users/trushev/events{/privacy}","received_events_url":"https://api.github.com/users/trushev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:30:35Z","updated_at":"2022-11-15T07:37:22Z","author_association":"CONTRIBUTOR","body":"> Actually i'm confused totally by these schema use cases, can we list a summary here, in which case we use writer /reader schema, for schema evolution enabled/disabled ?\r\n\r\nSchema evolution **disabled**:\r\nReader schema example [FormatUtils](https://github.com/apache/hudi/blob/6b0b03b12b5b35efd16eb976d48edba876803ca0/hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java#L173-L189)\r\nWriter schema example [HoodieLogCompactionPlanGenerator](https://github.com/apache/hudi/blob/6b0b03b12b5b35efd16eb976d48edba876803ca0/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/plan/generators/HoodieLogCompactionPlanGenerator.java#L85-L95)\r\n\r\nSchema evolution **enabled**:\r\nWriter schema is used in all previous cases(as schema evolution disabled), as well as we can find appropriate `internalSchema`. For example, [HoodieCompactor](https://github.com/apache/hudi/blob/6b0b03b12b5b35efd16eb976d48edba876803ca0/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java#L163-L204). **Why we use writer schema here?** The main idea is to read log block as is. Then we \"cast\" log block using `HoodieAvroUtils.rewriteRecordWithNewSchema` here [AbstractHoodieLogRecordReader](https://github.com/apache/hudi/blob/6b0b03b12b5b35efd16eb976d48edba876803ca0/hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java#L634)\r\n\r\nReader schema: the rest cases\r\n\r\n\r\n> Isn't this is a prove that two schema may case bug in corner cases ?\r\n\r\nAgree. Mb we should create another `AbstractHoodieEvolveLogReader` with `InternalSchema` only.\r\nIt looks like a lot of changes not related to flink but the core of schema evolution and the other engines in hudi. Changes are still being made to the core by commiters, which makes it difficult to keep this PR up to date. Therefore, I want to leave here the changes only concerning flink","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314898583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314911375","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314911375","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314911375,"node_id":"IC_kwDOBI7nWM5OX_SP","user":{"login":"trushev","id":42293632,"node_id":"MDQ6VXNlcjQyMjkzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/42293632?v=4","gravatar_id":"","url":"https://api.github.com/users/trushev","html_url":"https://github.com/trushev","followers_url":"https://api.github.com/users/trushev/followers","following_url":"https://api.github.com/users/trushev/following{/other_user}","gists_url":"https://api.github.com/users/trushev/gists{/gist_id}","starred_url":"https://api.github.com/users/trushev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trushev/subscriptions","organizations_url":"https://api.github.com/users/trushev/orgs","repos_url":"https://api.github.com/users/trushev/repos","events_url":"https://api.github.com/users/trushev/events{/privacy}","received_events_url":"https://api.github.com/users/trushev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:45:01Z","updated_at":"2022-11-15T07:48:59Z","author_association":"CONTRIBUTOR","body":"> Either we have some tool for fetching the right avro schema in evolution use cases\r\n\r\n`avroSchema` does not support custom ids. We use them to build mergedInternalSchema to map old type(name) to new type (name)\r\n\r\n > or we keep only the internal schema that is compatible for evolution.\r\n\r\nI tried but it didn't work. There were differences between the origin `avroSchema` and  converted `internalSchema` to avro schema. Mb it was a bug with converter. So I just kept the origin `avroSchema` inside `internalSchema`. I don't like this approach and want to revert it. \"Leave here the changes only concerning flink\"\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314911375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314919173","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314919173","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314919173,"node_id":"IC_kwDOBI7nWM5OYBMF","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:52:50Z","updated_at":"2022-11-15T07:52:50Z","author_association":"CONTRIBUTOR","body":"> Reader schema: the rest cases\r\n\r\nWhat do you mean for the rest cases ? Isn't either schema evolution enabled or disabled ?\r\n\r\n> I don't like this approach and want to revert it\r\n\r\nI agree, and let's make the refactoring in a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314919173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314934901","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1314934901","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1314934901,"node_id":"IC_kwDOBI7nWM5OYFB1","user":{"login":"trushev","id":42293632,"node_id":"MDQ6VXNlcjQyMjkzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/42293632?v=4","gravatar_id":"","url":"https://api.github.com/users/trushev","html_url":"https://github.com/trushev","followers_url":"https://api.github.com/users/trushev/followers","following_url":"https://api.github.com/users/trushev/following{/other_user}","gists_url":"https://api.github.com/users/trushev/gists{/gist_id}","starred_url":"https://api.github.com/users/trushev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trushev/subscriptions","organizations_url":"https://api.github.com/users/trushev/orgs","repos_url":"https://api.github.com/users/trushev/repos","events_url":"https://api.github.com/users/trushev/events{/privacy}","received_events_url":"https://api.github.com/users/trushev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T08:06:12Z","updated_at":"2022-11-15T08:06:12Z","author_association":"CONTRIBUTOR","body":"> What do you mean for the rest cases ? Isn't either schema evolution enabled or disabled ?\r\n\r\nEven though schema evolution enabled there is might not an `internalSchema`. So we use reader schema instead of writer schema. Example in spark [LogFileIterator.scala](https://github.com/apache/hudi/blob/6b0b03b12b5b35efd16eb976d48edba876803ca0/hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/LogFileIterator.scala#L87)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314934901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314962293","html_url":"https://github.com/apache/hudi/issues/7185#issuecomment-1314962293","issue_url":"https://api.github.com/repos/apache/hudi/issues/7185","id":1314962293,"node_id":"IC_kwDOBI7nWM5OYLt1","user":{"login":"lucasberlang","id":28829164,"node_id":"MDQ6VXNlcjI4ODI5MTY0","avatar_url":"https://avatars.githubusercontent.com/u/28829164?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasberlang","html_url":"https://github.com/lucasberlang","followers_url":"https://api.github.com/users/lucasberlang/followers","following_url":"https://api.github.com/users/lucasberlang/following{/other_user}","gists_url":"https://api.github.com/users/lucasberlang/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasberlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasberlang/subscriptions","organizations_url":"https://api.github.com/users/lucasberlang/orgs","repos_url":"https://api.github.com/users/lucasberlang/repos","events_url":"https://api.github.com/users/lucasberlang/events{/privacy}","received_events_url":"https://api.github.com/users/lucasberlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T08:30:23Z","updated_at":"2022-11-15T08:30:23Z","author_association":"NONE","body":"Yes, I have the s3 credentials in the core-site.xml and in the flink-conf.yaml in the jobmanager and the tasmanager:\r\n```xml\r\n  <property>\r\n    <name>fs.s3.awsAccessKeyId</name>\r\n    <value>xxxxxxxx</value>\r\n  </property>\r\n  <property>\r\n    <name>fs.s3.awsSecretAccessKey</name>\r\n    <value>xxxxxxxx</value>\r\n  </property>\r\n  <property>\r\n    <name>fs.s3.impl</name>\r\n    <value>org.apache.hadoop.fs.s3a.S3AFileSystem</value>\r\n  </property>\r\n```\r\n\r\n```yaml\r\n  flink-conf.yaml: |+\r\n    jobmanager.rpc.address: flink-jobmanager-session\r\n    taskmanager.numberOfTaskSlots: 2\r\n    blob.server.port: 6124\r\n    jobmanager.rpc.port: 6123\r\n    taskmanager.rpc.port: 6122\r\n    queryable-state.proxy.ports: 6125\r\n    jobmanager.memory.process.size: 1600m\r\n    taskmanager.memory.process.size: 1728m\r\n    parallelism.default: 2\r\n    execution.checkpointing.interval: 60s   \r\n    metrics.reporter.prom.class: org.apache.flink.metrics.prometheus.PrometheusReporter\r\n    metrics.reporters: prom\r\n    metrics.reporter.prom.port: 9249\r\n    s3.access-key: xxxxxxxx\r\n    s3.secret-key: xxxxxxxx\r\n```\r\n\r\nI don't think that is the problem since I can write in json format in the s3 without problem. \r\nAny other idea?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1314962293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315020080","html_url":"https://github.com/apache/hudi/pull/5830#issuecomment-1315020080","issue_url":"https://api.github.com/repos/apache/hudi/issues/5830","id":1315020080,"node_id":"IC_kwDOBI7nWM5OYZ0w","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T09:18:59Z","updated_at":"2022-11-15T09:18:59Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\n> > Either we have some tool for fetching the right avro schema in evolution use cases\r\n> \r\n> `avroSchema` does not support custom ids. We use them to build mergedInternalSchema to map old type(name) to new type (name)\r\n> \r\n> > or we keep only the internal schema that is compatible for evolution.\r\n> \r\n> I tried but it didn't work. There were differences between the origin `avroSchema` and converted `internalSchema` to avro schema. Mb it was a bug with converter. So I just kept the origin `avroSchema` inside `internalSchema`. I don't like this approach and want to revert it. \"Leave here the changes only concerning flink\"\r\n\r\nI disagree with putting avro Schema into internal Schema.\r\ninternalSchema is an independent schema abstraction, should not be bound to avroschemaã€‚ \r\n\r\n**There were differences between the origin `avroSchema` and converted `internalSchema` to avro schema. Mb it was a bug with converter**\r\nthis is not a bug,  The implementation of avroSchemaConvert is different between spark and flinkï¼Œ\r\n\r\n\r\n\r\n\r\n> > Either we have some tool for fetching the right avro schema in evolution use cases\r\n> \r\n> `avroSchema` does not support custom ids. We use them to build mergedInternalSchema to map old type(name) to new type (name)\r\n> \r\n> > or we keep only the internal schema that is compatible for evolution.\r\n> \r\n> I tried but it didn't work. There were differences between the origin `avroSchema` and converted `internalSchema` to avro schema. Mb it was a bug with converter. So I just kept the origin `avroSchema` inside `internalSchema`. I don't like this approach and want to revert it. \"Leave here the changes only concerning flink\"\r\n\r\nnot a bug, Both flink and spark have their own schema convertersï¼› And the avro schema converted by these two converters are different.  This is a gap, we need unity in the futureï¼Œ  https://github.com/apache/hudi/pull/6358 do the unify of spark but flink is not included\r\nfor flink, maybe we can create a new convert function   AvroInternalSchemaConverter.buildAvroSchemaFromInternalSchema to convert internalSchema to avro just like flink AvroSchemaConverter.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315020080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315099007","html_url":"https://github.com/apache/hudi/pull/6890#issuecomment-1315099007","issue_url":"https://api.github.com/repos/apache/hudi/issues/6890","id":1315099007,"node_id":"IC_kwDOBI7nWM5OYtF_","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:21:11Z","updated_at":"2022-11-15T10:21:11Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @alexeykudinkin we tested the approach (mapPartition VS map) on a large table and sadly it does not speed up things. We still merge log file for each partition for each lookup. Sorry for that.\r\n\r\nThat being said, we improved a bit the cleaning speed with MDT by tuning:\r\n- `hoodie.metadata.compact.max.delta.commits`: turn to 1 before cleaning decrease by 50% time\r\n- `hoodie.metadata.enable.full.scan.log.files`: keep to default = `true` otherwise time increase by 300%","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315099007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315108738","html_url":"https://github.com/apache/hudi/issues/6787#issuecomment-1315108738","issue_url":"https://api.github.com/repos/apache/hudi/issues/6787","id":1315108738,"node_id":"IC_kwDOBI7nWM5OYveC","user":{"login":"idrismike","id":12491651,"node_id":"MDQ6VXNlcjEyNDkxNjUx","avatar_url":"https://avatars.githubusercontent.com/u/12491651?v=4","gravatar_id":"","url":"https://api.github.com/users/idrismike","html_url":"https://github.com/idrismike","followers_url":"https://api.github.com/users/idrismike/followers","following_url":"https://api.github.com/users/idrismike/following{/other_user}","gists_url":"https://api.github.com/users/idrismike/gists{/gist_id}","starred_url":"https://api.github.com/users/idrismike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idrismike/subscriptions","organizations_url":"https://api.github.com/users/idrismike/orgs","repos_url":"https://api.github.com/users/idrismike/repos","events_url":"https://api.github.com/users/idrismike/events{/privacy}","received_events_url":"https://api.github.com/users/idrismike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:29:01Z","updated_at":"2022-11-15T10:29:15Z","author_association":"NONE","body":"Interesting but at the same time curious to know that from `hudi 0.11` hive metastore is not used anymore for getting partition. If I understand correctly, since metastore does not do any partition pruning etc., then we don't necessarily need `hive metastore`? is that correct? @parisni ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315108738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315140013","html_url":"https://github.com/apache/hudi/pull/6843#issuecomment-1315140013","issue_url":"https://api.github.com/repos/apache/hudi/issues/6843","id":1315140013,"node_id":"IC_kwDOBI7nWM5OY3Gt","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:56:43Z","updated_at":"2022-11-15T11:01:41Z","author_association":"CONTRIBUTOR","body":"Hey @alexeykudinkin ! Thanks for your response!\r\n> Yeah, this PR was put up purely for experimental purposes even before we finalized previous PR landing disruptor which (considerably improved the API!), so i was primarily looking into putting up quick solution i can quickly benchmark against and validate.\r\n> \r\n> In terms of taking this forward, i have following thoughts:\r\n> \r\n> * We should try to preserve existing queue implementations, so that users could experiment in their environment and always  pick what works best for them.\r\n> * This variability of course should not be coming at the expense of performance.\r\n> * We should maybe take another holistic look on the executor APIs and try to see if we can simplify them even further (by, say, eliminating what we don't really need)\r\n> \r\n> Our goal would be to fit in such `SimpleExecutor` into existing framework in a way that would allow all of the aforementioned ones to hold true.\r\n\r\nTotally agree with u! Let's make it happen. And I will tune https://github.com/apache/hudi/pull/7174 this simpleExecutor pr to simplify APIs even further and remove what we don' t need.\r\n\r\n\r\n> P.S. What surprised me actually was that i was NOT able to reproduce 20% increase in performance for Disruptor on our benchmarks that you folks were seeing in your environment. First issue was due to https://github.com/apache/hudi/pull/7188, but even after addressing it i still don't see an improvement.\r\n\r\nWould u mind to share more test infos about your test? for example records number, cpu/memory resources and schema maybe if u want.\r\n\r\nFrom our experience, we have two kinds of **spark-streaming** ingestion job.\r\n1. For aggregated table which has no unique hoodie keys, so that we use insert or bulkinsert+clustering to do this hudi ingestion. **And our performance test is based on this case.**\r\n2. For raw data, use upsert operation. Still on going using disruptor.\r\n\r\nMore details for our performance test :\r\nHudi version: 0.10.1\r\nSpark Version: 3.0.2 spark streaming\r\nRecords number per batch(max): 754932000\r\nSchema:  18 columns\r\n```\r\n{\r\n  \"type\": \"record\",\r\n  \"name\": \"f_order_sa_xxx_hourly_hudi\",\r\n  \"namespace\": \"tv.xxxx.schemas\",\r\n  \"fields\": [\r\n    {\"name\": \"timestamp\", \"type\": \"long\", \"doc\": \"category=timestamp\"},\r\n    {\"name\": \"network_id\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xx_id\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xx_id\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_id\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_id\", \"type\": [\"null\", \"int\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_id\", \"type\": [\"null\", \"int\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxxx_visibility\", \"type\": [\"null\", \"string\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_owner_id\", \"type\": [\"null\", \"int\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"sxxx_endpoint_id\", \"type\": [\"null\", \"int\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxxx_order_id\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_source\", \"type\": [\"null\", \"int\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_type\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"content_xxx_id\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_publisher_id\", \"type\": [\"null\", \"string\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_order_id\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=dimension\"},\r\n    {\"name\": \"xxx_ad_views\", \"type\": [\"null\", \"long\"], \"default\": null, \"doc\": \"category=metric\"},\r\n    {\"name\": \"revenue\", \"type\": [\"null\", \"double\"], \"default\": null, \"doc\": \"category=metric\"}\r\n  ]\r\n}\r\n```\r\n\r\nInsert/bulk_insert performance Benchmark between BIMQ (baseline) and Disruptor with same kafka input, resources and configs.\r\n\r\n**BIMQ: used 7.9 min to finish writing parquets.**\r\n![image](https://user-images.githubusercontent.com/69956021/201899574-3fbc0f28-6f42-4ec0-9590-39913ed6af98.png)\r\n\r\n**Disruptor used 5.6 min to finish writing parquets**\r\n![image](https://user-images.githubusercontent.com/69956021/201899789-4eb4e221-89fe-4bb3-b3af-9d9b78e0eed5.png)\r\n\r\n\r\nIn terms of **Case 1** write performance, Disruptor **improved about 29%** from 7.9min to 5.6min \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315140013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315408702","html_url":"https://github.com/apache/hudi/pull/7207#issuecomment-1315408702","issue_url":"https://api.github.com/repos/apache/hudi/issues/7207","id":1315408702,"node_id":"IC_kwDOBI7nWM5OZ4s-","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T14:42:26Z","updated_at":"2022-11-15T14:42:26Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"eea7e731fc3d7b4f9b5b9440be10ca7a6fafa27d\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13028\",\n    \"triggerID\" : \"eea7e731fc3d7b4f9b5b9440be10ca7a6fafa27d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* eea7e731fc3d7b4f9b5b9440be10ca7a6fafa27d Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=13028) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1315408702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]