[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730527801","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-730527801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":730527801,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUyNzgwMQ==","user":{"login":"omalley","id":206536,"node_id":"MDQ6VXNlcjIwNjUzNg==","avatar_url":"https://avatars.githubusercontent.com/u/206536?v=4","gravatar_id":"","url":"https://api.github.com/users/omalley","html_url":"https://github.com/omalley","followers_url":"https://api.github.com/users/omalley/followers","following_url":"https://api.github.com/users/omalley/following{/other_user}","gists_url":"https://api.github.com/users/omalley/gists{/gist_id}","starred_url":"https://api.github.com/users/omalley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omalley/subscriptions","organizations_url":"https://api.github.com/users/omalley/orgs","repos_url":"https://api.github.com/users/omalley/repos","events_url":"https://api.github.com/users/omalley/events{/privacy}","received_events_url":"https://api.github.com/users/omalley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:34:28Z","updated_at":"2020-11-19T17:48:28Z","author_association":"CONTRIBUTOR","body":"Relative paths would help us too.\r\n\r\nWe certainly need to have support for a federated namespace with a virtual file system. We're moving to HDFS federation and moving our tables to be located in a virtual filesystem (eg: gridfs://cluster1/table ) so that we can move the data around without changing all of the metadata. The challenge here is that we need to make sure that the manifests don't contain the physical hdfs path, which is likely to break.\r\n\r\nFor data access control, it seems like a really good invariant that all data is under the table's path.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730527801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730530692","html_url":"https://github.com/apache/iceberg/pull/1789#issuecomment-730530692","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1789","id":730530692,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUzMDY5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:39:20Z","updated_at":"2020-11-19T17:39:20Z","author_association":"CONTRIBUTOR","body":"Looks like the log is too long with this enabled:\r\n\r\n```\r\nThis file has been truncated. View the full logs in the ... menu once the check is completed.\r\n```\r\n\r\nMaybe we can output logs to files for each module and fetch them when we need them? We can look into getting the files produced.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730530692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730539247","html_url":"https://github.com/apache/iceberg/pull/1525#issuecomment-730539247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1525","id":730539247,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUzOTI0Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:54:51Z","updated_at":"2020-11-19T17:54:51Z","author_association":"CONTRIBUTOR","body":"There is `V1Table` in Spark that wraps `CatalogTable`. It already provides us partition transforms and schema. We may access `CatalogTable` from `V1Table` if we need to get the provider or more information in general.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730539247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730554709","html_url":"https://github.com/apache/iceberg/pull/1633#issuecomment-730554709","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1633","id":730554709,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDU1NDcwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T18:24:05Z","updated_at":"2020-11-19T18:24:05Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730554709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730567389","html_url":"https://github.com/apache/iceberg/pull/1767#issuecomment-730567389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1767","id":730567389,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDU2NzM4OQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T18:48:22Z","updated_at":"2020-11-19T18:48:22Z","author_association":"CONTRIBUTOR","body":"The ACL support #1788  should not be a big issue, it is only a single additional method call `acl(...)` and only affects `PutObjectRequest` and `CreateMultipartUploadRequest`. \r\n\r\nI was thinking there is still a way to use reflection, using a similar logic as #1786 . We need to check if the method exists or not when setting the value. The biggest concern I have with reflection is that I don't know how much it affects the performance since it is in the critical path for upload. Let me run some tests and come back with some data for that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730567389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730594067","html_url":"https://github.com/apache/iceberg/pull/1788#issuecomment-730594067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1788","id":730594067,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDU5NDA2Nw==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T19:40:26Z","updated_at":"2020-11-19T19:40:26Z","author_association":"NONE","body":"lgtm!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730594067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730679823","html_url":"https://github.com/apache/iceberg/pull/1786#issuecomment-730679823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1786","id":730679823,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDY3OTgyMw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T22:35:03Z","updated_at":"2020-11-19T22:35:03Z","author_association":"CONTRIBUTOR","body":"@danielcweeks I ran some tests and here is the result:\r\n1M average with reflection: 14.720822923822924 us\r\n1M average with function: 2.183976667976668 us\r\n1M average with base: 2.0982427002427 us\r\n\r\nSo the current function-based approach should provide a balance between clean interface and performance. Please let me know what you think.\r\n\r\nP.S. for reflection approach, I use `DynMethods.UnboundMethod` to find the methods, and cache the method after creation for repeated invocation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730679823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730680906","html_url":"https://github.com/apache/iceberg/pull/1787#issuecomment-730680906","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1787","id":730680906,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDY4MDkwNg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T22:37:49Z","updated_at":"2020-11-19T22:37:49Z","author_association":"CONTRIBUTOR","body":"@danielcweeks could you take a look of this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730680906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730755423","html_url":"https://github.com/apache/iceberg/pull/1748#issuecomment-730755423","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1748","id":730755423,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDc1NTQyMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T01:10:47Z","updated_at":"2020-11-20T01:10:47Z","author_association":"CONTRIBUTOR","body":"Thanks @massdosage! Great to have this documented.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730755423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730821785","html_url":"https://github.com/apache/iceberg/pull/1782#issuecomment-730821785","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1782","id":730821785,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDgyMTc4NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T03:27:49Z","updated_at":"2020-11-20T03:27:49Z","author_association":"CONTRIBUTOR","body":"@rdblue this one is next for DELETE.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730821785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730823718","html_url":"https://github.com/apache/iceberg/pull/1784#issuecomment-730823718","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1784","id":730823718,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDgyMzcxOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T03:34:35Z","updated_at":"2020-11-20T03:34:35Z","author_association":"CONTRIBUTOR","body":"This looks better compared to what we started with. LGTM.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/730823718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731046455","html_url":"https://github.com/apache/iceberg/pull/1748#issuecomment-731046455","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1748","id":731046455,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTA0NjQ1NQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T09:14:07Z","updated_at":"2020-11-20T09:14:07Z","author_association":"CONTRIBUTOR","body":"> Thanks @massdosage! Great to have this documented.\r\n\r\nSure, I'll hopefully have time in the next week or so to document the HadoopCataog and CustomCatalog paths.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731046455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731137385","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-731137385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":731137385,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTEzNzM4NQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T12:18:33Z","updated_at":"2020-11-20T12:18:33Z","author_association":"CONTRIBUTOR","body":"@jackye1995 I think I misunderstood your original comment. When you said:\r\n\r\n```\r\ndf.write.format(\"iceberg\")\r\n  .mode(\"append\")\r\n  .option(\"catalog-impl\", \"com.my.own.CatalogImpl\")\r\n  .save(\"testing.foo\")\r\n```\r\n\r\nDid you mean then use `catalog-impl` parameter to look up an existing iceberg catalog by type? Which (hopefully) would have been constructed previously, so we wouldn't have to set extra options like I mentioned above. Does that sound right? While much simpler I think its important that the user doesn't have to set options in the `read`/`write` spark commands, rather set them once in `SparkConf`.\r\n\r\nI wonder if we could set a default catalog in `SparkConf`` (eg `spark.iceberg.default_catalog=com.my.own.CatalogImpl`)? If set the readers/writers will use that unless an `option` is passed. If neither is passed it would default to the current Hive/HDFS impl.\r\n\r\nI believe that this still causes an issue in Spark2 as it doesn't have the same (spark) catalog support. \r\n\r\nThoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731137385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731148555","html_url":"https://github.com/apache/iceberg/issues/1791#issuecomment-731148555","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1791","id":731148555,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE0ODU1NQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T12:42:48Z","updated_at":"2020-11-20T12:42:48Z","author_association":"MEMBER","body":"Sounds good to me, we might need to implement those methods in `FlinkCatalog`: \r\n\r\n```java\r\n  @Override\r\n  public List<CatalogPartitionSpec> listPartitions(ObjectPath tablePath)\r\n      throws CatalogException {\r\n    throw new UnsupportedOperationException();\r\n  }\r\n\r\n  @Override\r\n  public List<CatalogPartitionSpec> listPartitions(ObjectPath tablePath, CatalogPartitionSpec partitionSpec)\r\n      throws CatalogException {\r\n    throw new UnsupportedOperationException();\r\n  }\r\n\r\n  @Override\r\n  public List<CatalogPartitionSpec> listPartitionsByFilter(ObjectPath tablePath, List<Expression> filters)\r\n      throws CatalogException {\r\n    throw new UnsupportedOperationException();\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731148555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731214967","html_url":"https://github.com/apache/iceberg/pull/1789#issuecomment-731214967","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1789","id":731214967,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTIxNDk2Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T14:51:39Z","updated_at":"2020-11-20T14:54:48Z","author_association":"CONTRIBUTOR","body":"> Looks like the log is too long with this enabled:\r\n> \r\n> ```\r\n> This file has been truncated. View the full logs in the ... menu once the check is completed.\r\n> ```\r\n\r\nIt is still possible to see the logs by downloading them starting from the `...` from the top right corner of the Details screen.\r\nBut I absolutely agree that this is not ideal since we might need to download the full logs to find the failures. That is why I followed up on your suggestion below.\r\n\r\n> Maybe we can output logs to files for each module and fetch them when we need them? We can look into getting the files produced.\r\n\r\nI was able to come up with a solution where I put the output of the tests for subproject specific files, and added them as an artifacts for the builds in case of a failure. This archive is accessible under the `Artifacts` button. See: https://github.com/apache/iceberg/runs/1431325389 (intentionally created some test failures)\r\n\r\nSample output (build/testlogs/iceberg-parquet.log):\r\n```\r\n--------\r\n- Test log for: Test testRowGroupSizeConfigurableWithWriter(org.apache.iceberg.parquet.TestParquet)\r\n--------\r\nStdErr log4j:WARN No appenders could be found for logger (org.apache.hadoop.util.NativeCodeLoader).\r\nStdErr log4j:WARN Please initialize the log4j system properly.\r\nStdErr log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n--------\r\n- Test log for: Test testListProjection(org.apache.iceberg.avro.TestParquetReadProjection)\r\n--------\r\nStdErr [Test worker] INFO org.apache.parquet.hadoop.InternalParquetRecordReader - RecordReader initialized will read a total of 1 records.\r\nStdErr [Test worker] INFO org.apache.parquet.hadoop.InternalParquetRecordReader - at row 0. reading next block\r\nStdErr [Test worker] INFO org.apache.parquet.hadoop.InternalParquetRecordReader - block read in memory in 1 ms. row count = 1\r\n```\r\n\r\nSince I think this could be useful for every time we run the tests I have configured this logging not only for CI runs but for general test runs as well - some might disagree so please check this.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731214967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731271434","html_url":"https://github.com/apache/iceberg/pull/1778#issuecomment-731271434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1778","id":731271434,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI3MTQzNA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T16:32:28Z","updated_at":"2020-11-20T16:32:28Z","author_association":"CONTRIBUTOR","body":"You are right `SessionConfigSupport` is for data sources only.\r\n\r\nOne more question: we have other sessions configs like \"spark.sql.iceberg.check-nullability\" under `sql` namespace. Do we want to match?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731271434/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731275600","html_url":"https://github.com/apache/iceberg/pull/1795#issuecomment-731275600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1795","id":731275600,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI3NTYwMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T16:40:46Z","updated_at":"2020-11-20T16:40:46Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer @rdblue this is the snapshot flag we talked about. \r\n\r\nIt is an open question whether we want to allow users to set/modify this property. Since we consider adding an import procedure to support partial migration/snapshot, we may allow setting this property by hand.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731275600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731288071","html_url":"https://github.com/apache/iceberg/pull/1795#issuecomment-731288071","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1795","id":731288071,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI4ODA3MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:03:40Z","updated_at":"2020-11-20T17:03:40Z","author_association":"CONTRIBUTOR","body":"If we make the property as something generic, we should probably allow users to set/modify this. There may be valid use cases when the expiry of snapshots should be prohibited beyond SNAPSHOT operations.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731288071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731292403","html_url":"https://github.com/apache/iceberg/pull/1795#issuecomment-731292403","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1795","id":731292403,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI5MjQwMw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:11:54Z","updated_at":"2020-11-20T17:11:54Z","author_association":"MEMBER","body":"I am +1 on more generic and modifiable, I think if someone really wants to do something we should let them. For example say you snapshot a table, but then stop using the original table. It's valid then to unmark the \"snapshot\" status and expire the old data away","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731292403/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731304831","html_url":"https://github.com/apache/iceberg/pull/1795#issuecomment-731304831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1795","id":731304831,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTMwNDgzMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:36:06Z","updated_at":"2020-11-20T17:36:06Z","author_association":"CONTRIBUTOR","body":"I am going to close this one as I pushed to the wrong remote here. See #1796 instead.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731304831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731306943","html_url":"https://github.com/apache/iceberg/pull/1796#issuecomment-731306943","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1796","id":731306943,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTMwNjk0Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:40:34Z","updated_at":"2020-11-20T17:40:34Z","author_association":"CONTRIBUTOR","body":"@jacques-n @rdblue @RussellSpitzer what about removing orphan files? Seems like we should respect this property there too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731306943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731316431","html_url":"https://github.com/apache/iceberg/pull/1796#issuecomment-731316431","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1796","id":731316431,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTMxNjQzMQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T17:52:52Z","updated_at":"2020-11-20T17:52:52Z","author_association":"MEMBER","body":"Remove orphan files makes sense as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731316431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731342416","html_url":"https://github.com/apache/iceberg/pull/1789#issuecomment-731342416","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1789","id":731342416,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM0MjQxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T18:39:35Z","updated_at":"2020-11-20T18:39:35Z","author_association":"CONTRIBUTOR","body":"@pvary, looks great! Thanks for looking into the archive options. I think we may be able to do this more simply by archiving reports instead of creating new log files. The reports I've used have had stderr/stdout.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731342416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731352161","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-731352161","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":731352161,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM1MjE2MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T19:00:30Z","updated_at":"2020-11-20T19:00:30Z","author_association":"CONTRIBUTOR","body":"I agree that we will need to mimic the behavior of `LookupCatalog` and use the catalog manager. I think we can fix some of the problems with this by using the current catalog from the catalog manager if there is no catalog identifier in the table name.\r\n\r\nHere's what I think is the _correct_ thing to do for table identifiers in Spark 3:\r\n1. Parse the identifier into parts\r\n2. Follow the logic in `LookupCatalog`: if there is only one part, use the current catalog and current namespace. If there are multiple parts, check whether the first one is a catalog and use it if it is. After this, we have a catalog and a table identifier.\r\n3. Check that the catalog is an Iceberg catalog. If not, throw an exception. _Not entirely sure about this one._\r\n4. Return the catalog and identifier through [`SupportsCatalogOptions`](https://github.com/apache/spark/blob/master/sql/catalyst/src/main/java/org/apache/spark/sql/connector/catalog/SupportsCatalogOptions.java).\r\n\r\nThat way, we're just using the source to translate back to catalogs.\r\n\r\nThe problem with this is the behavior when there is no catalog specified in the identifier. The current behavior is to use a `HiveCatalog` that connects to the URI from `hive-site.xml` like the built-in Spark session catalog. That conflicts with the SQL behavior of using the current catalog, but may be reasonable to keep compatibility. But then the problem is that we may not have a registered Iceberg catalog that uses that URI. If not, then there is no catalog for the source to delegate to and we need to create one because a catalog is required if the source implements `SupportsCatalogOptions`.\r\n\r\nAnother option is to change the current behavior slightly and go with the \"correct\" logic for Spark 3 and delegate to the current catalog. That would mean we always have a catalog to delegate to without creating one. But the trade-off is that when the current catalog has changed, the table loaded by `IcebergSource` would change, too. I'd be open to this option.\r\n\r\nLast, how to handle path URIs: I talked with Anton and Russell about this yesterday and we think that we should make it so that every Spark catalog can load special path identifiers, just like we do today in `IcebergSource`. To do this, we would need to have a way to pass an identifier that signals this behavior back from `SupportsCatalogOptions`, like `iceberg.hdfs://nn:8020/path/to/table`. Then detect those and return Hadoop tables for them.\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731352161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731360511","html_url":"https://github.com/apache/iceberg/pull/1587#issuecomment-731360511","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1587","id":731360511,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM2MDUxMQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T19:18:44Z","updated_at":"2020-11-20T19:18:44Z","author_association":"CONTRIBUTOR","body":"Thanks again for the thorough review @rdblue I have updated w/ your suggestions and rebased. hope I didn't miss anything!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731360511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731365732","html_url":"https://github.com/apache/iceberg/pull/1789#issuecomment-731365732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1789","id":731365732,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM2NTczMg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T19:30:33Z","updated_at":"2020-11-20T19:30:33Z","author_association":"CONTRIBUTOR","body":"> @pvary, looks great! Thanks for looking into the archive options. I think we may be able to do this more simply by archiving reports instead of creating new log files. The reports I've used have had stderr/stdout.\r\n\r\nThanks for reviewing @rdblue!\r\nI have tried archiving reports as a first option. You can see the results here in the artifact: https://github.com/apache/iceberg/runs/1429922302\r\n\r\nI found them lacking because of 2 reasons:\r\n1. Hive often does not propagate the exception to the client (the theory is that infra errors should not be handled by the users), so Hive based tests produce the following exceptions without enough details to investigate (INFO logs contain the real Exception):\r\n```\r\norg.apache.iceberg.mr.hive.TestHiveIcebergStorageHandlerWithCustomCatalog > testScanTable[fileFormat=PARQUET, engine=tez] FAILED\r\n    java.lang.IllegalArgumentException: Failed to execute Hive query 'SELECT * FROM default.customers ORDER BY customer_id DESC': Error while processing statement: FAILED\r\n: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask\r\n        Caused by:\r\n        org.apache.hive.service.cli.HiveSQLException: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask\r\n```\r\n2. Having separate directories for listing the tests for every subproject does not help in identifying the failing test at glance\r\n\r\nFor the 2nd option I have tried the [official](https://github.com/gradle/gradle/blob/v5.4.1/subprojects/docs/src/samples/testing/testReport/groovy/build.gradle) solution for aggregating the results, but it only does the aggregation if there is no test failure which is less than ideal \r\n\r\nSo that is why I have decided to backtrack to the \"have a file for a subproject output and keep the original test output\" solution.\r\n\r\nAfter my trip to the test output aggregation I feel that if we want to have aggregate test results then it should be done in a different PR and here we should concentrate on the archiving the logs","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731365732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731375657","html_url":"https://github.com/apache/iceberg/pull/1796#issuecomment-731375657","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1796","id":731375657,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM3NTY1Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T19:51:40Z","updated_at":"2020-11-20T19:51:40Z","author_association":"CONTRIBUTOR","body":"Let me update this one to handle orphan files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731375657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731377811","html_url":"https://github.com/apache/iceberg/pull/1789#issuecomment-731377811","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1789","id":731377811,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM3NzgxMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T19:56:23Z","updated_at":"2020-11-20T19:56:23Z","author_association":"CONTRIBUTOR","body":"I thought that logs printed to stderr and stdout were available in the test reports. Maybe I'm wrong though.\r\n\r\nFor the second problem, I thought that you'd usually know which test had failed and go looking for its results.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731377811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731378018","html_url":"https://github.com/apache/iceberg/pull/1789#issuecomment-731378018","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1789","id":731378018,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM3ODAxOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T19:56:48Z","updated_at":"2020-11-20T19:56:48Z","author_association":"CONTRIBUTOR","body":"I'll merge this so that we have something working to debug these cases. We can always improve on it later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731378018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731386092","html_url":"https://github.com/apache/iceberg/pull/1796#issuecomment-731386092","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1796","id":731386092,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM4NjA5Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T20:15:34Z","updated_at":"2020-11-20T20:15:34Z","author_association":"CONTRIBUTOR","body":"Alright, this one is ready for final review round.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731386092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731410240","html_url":"https://github.com/apache/iceberg/pull/1796#issuecomment-731410240","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1796","id":731410240,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQxMDI0MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T21:13:45Z","updated_at":"2020-11-20T21:14:18Z","author_association":"CONTRIBUTOR","body":"I've merged this to unblock other PRs since there seems to be a consensus. Thanks everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731410240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731424902","html_url":"https://github.com/apache/iceberg/pull/1799#issuecomment-731424902","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1799","id":731424902,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQyNDkwMg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T21:49:15Z","updated_at":"2020-11-20T21:49:30Z","author_association":"CONTRIBUTOR","body":"These interfaced are added to the iceberg module too to avoid future conflicts.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731424902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731448840","html_url":"https://github.com/apache/iceberg/pull/1798#issuecomment-731448840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1798","id":731448840,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ0ODg0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T22:56:07Z","updated_at":"2020-11-20T22:56:07Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @samarthjain!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731448840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731455078","html_url":"https://github.com/apache/iceberg/pull/1792#issuecomment-731455078","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1792","id":731455078,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ1NTA3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T23:14:55Z","updated_at":"2020-11-20T23:14:55Z","author_association":"CONTRIBUTOR","body":"> It does not provide several common methods, such as toString(), equals, hashCode etc. It's useful for testing. So I make it extend the AbstractSet.\r\n\r\nStructLikeSet does implement [equals](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/util/StructLikeSet.java#L155) and [hashCode](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/util/StructLikeSet.java#L177). And `toString` isn't implemented by `AbstractSet` so I don't see much value in adding the superclass. Is there anything that we gain from this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731455078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731455835","html_url":"https://github.com/apache/iceberg/pull/1784#issuecomment-731455835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1784","id":731455835,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ1NTgzNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T23:17:09Z","updated_at":"2020-11-20T23:17:09Z","author_association":"MEMBER","body":"Thanks everybody!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731455835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731457199","html_url":"https://github.com/apache/iceberg/pull/1787#issuecomment-731457199","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1787","id":731457199,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ1NzE5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T23:21:30Z","updated_at":"2020-11-20T23:21:30Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995! Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731457199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731458486","html_url":"https://github.com/apache/iceberg/pull/1665#issuecomment-731458486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1665","id":731458486,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ1ODQ4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T23:26:20Z","updated_at":"2020-11-20T23:26:20Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, any update? Do we want to get this into 0.11.0?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731458486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731484521","html_url":"https://github.com/apache/iceberg/pull/1801#issuecomment-731484521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1801","id":731484521,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ4NDUyMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T01:27:56Z","updated_at":"2020-11-21T01:27:56Z","author_association":"CONTRIBUTOR","body":"@liukun4515 could you submit the remaining ones after this one is in?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731484521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731575154","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-731575154","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":731575154,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTU3NTE1NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T12:53:19Z","updated_at":"2020-11-21T12:53:19Z","author_association":"MEMBER","body":"Join my Slack workspace!\nhttps://join.slack.com/t/the-asf/shared_invite/zt-ei391t4y-47FbOeNfu8SVA8BmSrtm8A\n\nThere is an ASF slack channel above, and of course if you have any specific\nproblems with the docs or ideas for improvement please submit an issue or\npull request.\n\nOn Sat, Nov 21, 2020, 6:03 AM STTianXiang <notifications@github.com> wrote:\n\n> Does Iceberg have a slack community?\n> Because for China, there is almost no information on iceberg. For how to\n> install and use, and use cases, almost all depends on guessing.\n> Although I am very sorry to say that, iceberg's official website\n> http://iceberg.apache.org/ is really bad.\n>\n> \n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/1804>, or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YMHFGM7UVGJMOJMLVDSQ6UC3ANCNFSM4T5XYMBQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731575154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731614819","html_url":"https://github.com/apache/iceberg/pull/1786#issuecomment-731614819","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1786","id":731614819,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTYxNDgxOQ==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T18:08:27Z","updated_at":"2020-11-21T18:08:27Z","author_association":"CONTRIBUTOR","body":"@jackye1995 I just pushed #1767 in order to get the progressive upload in (it was already a pretty large PR).  We can use this issue to revisit how to handle the encryption.\r\n\r\nI'd prefer not to use the reflection approach (not necessarily due to the performance impact since the number of S3 calls is relatively small), but rather that doesn't allow for compile time checks and will be harder to reason about and maintain.\r\n\r\nI'm open to either the function or base approaches, but maybe once this is rebased and we add the multipart versions of this it will be more clear which approach makes the most sense.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731614819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731615384","html_url":"https://github.com/apache/iceberg/pull/1788#issuecomment-731615384","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1788","id":731615384,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTYxNTM4NA==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T18:12:34Z","updated_at":"2020-11-21T18:12:34Z","author_association":"CONTRIBUTOR","body":"@jackye1995 and @johnclara we should probably figure out #1786 and make the ACL configuration follow a similar pattern.  It looks like we need to rebase on top of #1767 and add the configuration to the `CreateMultipartUploadRequest` as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731615384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731642674","html_url":"https://github.com/apache/iceberg/issues/1805#issuecomment-731642674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1805","id":731642674,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY0MjY3NA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T21:57:01Z","updated_at":"2020-11-21T21:57:01Z","author_association":"CONTRIBUTOR","body":"I remember based on the last discussion, the conclusion is to stick with the v2 client and not split out another v1 client to have a clean dependency, please let me know if we would like the v1 client discussion to be back on the table.\r\n\r\nI briefly considered client side encryption when starting the aws module, and the existing Iceberg encryption interface looks good enough for implementing the features in the encryption libraries. There can be a `S3EncryptionManager`, and the data can be read and written by extending the current `S3InputFile` and `S3OutputFile`. \r\n\r\nThe MAC calculation is sometimes used by plain S3 IO as well, so I think it can be a separated discussion.\r\n\r\nAnd let me also ask about this directly with the team and come back with a reply for their v2 client support.\r\n\r\nI have 2 question for you:\r\n\r\n1. there are two S3 client side encryption libraries, the [AmazonS3EncryptionV2](https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingClientSideEncryption.html) and [the AWS Encryption SDK](https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/introduction.html). They are also not compatible with each other. Just to make sure, which library (or both?) would you like to support?\r\n\r\n2. You mentioned \"user seems to be implementing the AES GCM and then switching to unauthenticated CTR on seeks on their own\", could you elaborate more on this so I fully understand the context of your use case?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731642674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731642851","html_url":"https://github.com/apache/iceberg/pull/1786#issuecomment-731642851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1786","id":731642851,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY0Mjg1MQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T21:58:46Z","updated_at":"2020-11-21T21:58:46Z","author_association":"CONTRIBUTOR","body":"> @jackye1995 I just pushed #1767 in order to get the progressive upload in (it was already a pretty large PR). We can use this issue to revisit how to handle the encryption.\r\n> \r\n> I'd prefer not to use the reflection approach (not necessarily due to the performance impact since the number of S3 calls is relatively small), but rather that doesn't allow for compile time checks and will be harder to reason about and maintain.\r\n> \r\n> I'm open to either the function or base approaches, but maybe once this is rebased and we add the multipart versions of this it will be more clear which approach makes the most sense.\r\n\r\nSure, let me rebase it and see","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731642851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731647404","html_url":"https://github.com/apache/iceberg/issues/1805#issuecomment-731647404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1805","id":731647404,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY0NzQwNA==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T22:40:22Z","updated_at":"2020-11-21T22:41:36Z","author_association":"NONE","body":"@jackye1995 I think our usecase is still in flux so I was more wondering what the current plan was. I think we were planning on using the AmazonS3EncryptionV2 in certain areas. I'll ping you on slack with specifics.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731647404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731668610","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-731668610","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":731668610,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY2ODYxMA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T02:03:56Z","updated_at":"2020-11-22T02:03:56Z","author_association":"CONTRIBUTOR","body":"Do we have any plan to have an independent slack workspace outside ASF? I think ASF blocks using non-apache email to join, so it is hard for people to join through the website link without an invite.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731668610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731694822","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-731694822","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":731694822,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY5NDgyMg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T03:57:32Z","updated_at":"2020-11-22T03:57:32Z","author_association":"MEMBER","body":"It does not block you without an apache email address. I can confirm this\nbecause I do not have an Apache email and I joined :)\n\nOn Sat, Nov 21, 2020 at 8:04 PM Jack Ye <notifications@github.com> wrote:\n\n> Do we have any plan to have an independent slack workspace outside ASF? I\n> think ASF blocks using non-apache email to join, so it is hard for people\n> to join through the website link without an invite.\n>\n> \n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/1804#issuecomment-731668610>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YPTDI42AGFEAAK3MOLSRBWRRANCNFSM4T5XYMBQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731694822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731696737","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-731696737","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":731696737,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY5NjczNw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T04:28:35Z","updated_at":"2020-11-22T04:28:35Z","author_association":"CONTRIBUTOR","body":"> It does not block you without an apache email address. I can confirm this because I do not have an Apache email and I joined :)\r\n> [](#)\r\n> On Sat, Nov 21, 2020 at 8:04 PM Jack Ye ***@***.***> wrote: Do we have any plan to have an independent slack workspace outside ASF? I think ASF blocks using non-apache email to join, so it is hard for people to join through the website link without an invite.  You are receiving this because you commented. Reply to this email directly, view it on GitHub <[#1804 (comment)](https://github.com/apache/iceberg/issues/1804#issuecomment-731668610)>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/AADE2YPTDI42AGFEAAK3MOLSRBWRRANCNFSM4T5XYMBQ> .\r\n\r\nI don't know if it's a bug of ASF or something else, but I have multiple colleagues tried and some people can join and some cannot and must be invited. I just tried with another email and cannot join or create account, see the screenshots attached.\r\n\r\n![Snip20201121_1](https://user-images.githubusercontent.com/29823233/99894324-f464c400-2c37-11eb-9ee4-994dde9c58e8.png)\r\n\r\n![Snip20201121_2](https://user-images.githubusercontent.com/29823233/99894320-f29b0080-2c37-11eb-9504-c620157081d0.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731696737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731697447","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-731697447","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":731697447,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTY5NzQ0Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T04:40:05Z","updated_at":"2020-11-22T04:40:05Z","author_association":"MEMBER","body":"They must have locked it down recently, I've had several folks join without\nexplicitly inviting them, just sharing the link (as well as me joining\nwithout an email).\n\nOn Sat, Nov 21, 2020 at 10:28 PM Jack Ye <notifications@github.com> wrote:\n\n> It does not block you without an apache email address. I can confirm this\n> because I do not have an Apache email and I joined :)\n>  <#m_5736263915463650742_>\n> On Sat, Nov 21, 2020 at 8:04 PM Jack Ye *@*.***> wrote: Do we have any\n> plan to have an independent slack workspace outside ASF? I think ASF blocks\n> using non-apache email to join, so it is hard for people to join through\n> the website link without an invite.  You are receiving this because you\n> commented. Reply to this email directly, view it on GitHub <#1804\n> (comment)\n> <https://github.com/apache/iceberg/issues/1804#issuecomment-731668610>>,\n> or unsubscribe\n> https://github.com/notifications/unsubscribe-auth/AADE2YPTDI42AGFEAAK3MOLSRBWRRANCNFSM4T5XYMBQ\n> .\n>\n> I don't know if it's a bug of ASF or something else, but I have multiple\n> colleagues tried and some people can join and some cannot and must be\n> invited. I just tried with another email and cannot join or create account,\n> see the screenshots attached.\n>\n> [image: Snip20201121_1]\n> <https://user-images.githubusercontent.com/29823233/99894324-f464c400-2c37-11eb-9ee4-994dde9c58e8.png>\n>\n> [image: Snip20201121_2]\n> <https://user-images.githubusercontent.com/29823233/99894320-f29b0080-2c37-11eb-9504-c620157081d0.png>\n>\n> \n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/1804#issuecomment-731696737>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YNSUDEWZ4FTG7X6WVLSRCHP5ANCNFSM4T5XYMBQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731697447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731706627","html_url":"https://github.com/apache/iceberg/pull/1792#issuecomment-731706627","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1792","id":731706627,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTcwNjYyNw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-22T06:42:40Z","updated_at":"2020-11-22T06:42:40Z","author_association":"MEMBER","body":"> And toString isn't implemented by AbstractSet so I don't see much value in adding the superclass. \r\n\r\nThe `AbstractSet` extends `AbstractCollection`, and the `toString` is implemented in `AbstractCollection`.  I want the `toString`  because when the test cases from `DeleteReadTests` are broken, I will need to see what are values in the collection,  there're many places where we use the `StructLikeSet` to assert, for example: \r\n\r\n```java\r\n  @Test\r\n  public void testPositionDeletes() throws IOException {\r\n    List<Pair<CharSequence, Long>> deletes = Lists.newArrayList(\r\n        Pair.of(dataFile.path(), 0L), // id = 29\r\n        Pair.of(dataFile.path(), 3L), // id = 89\r\n        Pair.of(dataFile.path(), 6L) // id = 122\r\n    );\r\n\r\n    Pair<DeleteFile, Set<CharSequence>> posDeletes = FileHelpers.writeDeleteFile(\r\n        table, Files.localOutput(temp.newFile()), Row.of(0), deletes);\r\n\r\n    table.newRowDelta()\r\n        .addDeletes(posDeletes.first())\r\n        .validateDataFilesExist(posDeletes.second())\r\n        .commit();\r\n\r\n    StructLikeSet expected = rowSetWithoutIds(29, 89, 122);\r\n    StructLikeSet actual = rowSet(tableName, table, \"*\");\r\n\r\n    Assert.assertEquals(\"Table should contain expected rows\", expected, actual);\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/731706627/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732071813","html_url":"https://github.com/apache/iceberg/pull/1607#issuecomment-732071813","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1607","id":732071813,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjA3MTgxMw==","user":{"login":"lcspinter","id":47777102,"node_id":"MDQ6VXNlcjQ3Nzc3MTAy","avatar_url":"https://avatars.githubusercontent.com/u/47777102?v=4","gravatar_id":"","url":"https://api.github.com/users/lcspinter","html_url":"https://github.com/lcspinter","followers_url":"https://api.github.com/users/lcspinter/followers","following_url":"https://api.github.com/users/lcspinter/following{/other_user}","gists_url":"https://api.github.com/users/lcspinter/gists{/gist_id}","starred_url":"https://api.github.com/users/lcspinter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcspinter/subscriptions","organizations_url":"https://api.github.com/users/lcspinter/orgs","repos_url":"https://api.github.com/users/lcspinter/repos","events_url":"https://api.github.com/users/lcspinter/events{/privacy}","received_events_url":"https://api.github.com/users/lcspinter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T10:31:55Z","updated_at":"2020-11-23T10:31:55Z","author_association":"CONTRIBUTOR","body":"@rdblue @shardulm94 @pvary Could you please review/merge my PR? Thanks ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732071813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732137410","html_url":"https://github.com/apache/iceberg/pull/1794#issuecomment-732137410","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1794","id":732137410,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjEzNzQxMA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T12:39:56Z","updated_at":"2020-11-23T12:39:56Z","author_association":"CONTRIBUTOR","body":"This is not guaranteed to work in future versions of Hive but definitely will not hurt and helps the performance with the current versions.\r\nSo +1 (non-binding)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732137410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732171323","html_url":"https://github.com/apache/iceberg/pull/1807#issuecomment-732171323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1807","id":732171323,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjE3MTMyMw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T13:45:46Z","updated_at":"2020-11-23T13:45:46Z","author_association":"MEMBER","body":"Get this merged, Thanks @jshmchenxi  for contributing. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732171323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732206161","html_url":"https://github.com/apache/iceberg/pull/1417#issuecomment-732206161","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1417","id":732206161,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjIwNjE2MQ==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T14:44:16Z","updated_at":"2020-11-23T14:44:31Z","author_association":"COLLABORATOR","body":"Any comments/insights? :)\r\ncc @shardulm94 \r\nThanks!!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732206161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732207999","html_url":"https://github.com/apache/iceberg/pull/1607#issuecomment-732207999","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1607","id":732207999,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjIwNzk5OQ==","user":{"login":"lcspinter","id":47777102,"node_id":"MDQ6VXNlcjQ3Nzc3MTAy","avatar_url":"https://avatars.githubusercontent.com/u/47777102?v=4","gravatar_id":"","url":"https://api.github.com/users/lcspinter","html_url":"https://github.com/lcspinter","followers_url":"https://api.github.com/users/lcspinter/followers","following_url":"https://api.github.com/users/lcspinter/following{/other_user}","gists_url":"https://api.github.com/users/lcspinter/gists{/gist_id}","starred_url":"https://api.github.com/users/lcspinter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcspinter/subscriptions","organizations_url":"https://api.github.com/users/lcspinter/orgs","repos_url":"https://api.github.com/users/lcspinter/repos","events_url":"https://api.github.com/users/lcspinter/events{/privacy}","received_events_url":"https://api.github.com/users/lcspinter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T14:47:17Z","updated_at":"2020-11-23T14:47:17Z","author_association":"CONTRIBUTOR","body":"@pvary Thanks for the review. I created a new commit with the review fixes. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732207999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732228795","html_url":"https://github.com/apache/iceberg/pull/1417#issuecomment-732228795","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1417","id":732228795,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjIyODc5NQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T15:21:31Z","updated_at":"2020-11-23T15:21:31Z","author_association":"CONTRIBUTOR","body":"@rdsr if you have time to look at this too that would be much appreciated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732228795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732304310","html_url":"https://github.com/apache/iceberg/pull/1417#issuecomment-732304310","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1417","id":732304310,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjMwNDMxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T17:20:07Z","updated_at":"2020-11-23T17:20:07Z","author_association":"CONTRIBUTOR","body":"I'll take a look this week, thanks for the update! Glad to hear it is working.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732304310/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732350207","html_url":"https://github.com/apache/iceberg/pull/1587#issuecomment-732350207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1587","id":732350207,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM1MDIwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T18:38:39Z","updated_at":"2020-11-23T18:38:39Z","author_association":"CONTRIBUTOR","body":"@rymurr, thanks for all of the test changes, it is now much easier to understand! I don't see any blockers, although it looks like you may have intended to change the `nessie.ref` config to just `ref`. I'm going to go ahead and merge this since it is ready and we can clean that up later if you want to change it.\r\n\r\nThanks for all your hard work getting this ready! I actually quite like the way the Nessie reference works and simplifies assumptions in the catalog and table operations.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732350207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732371385","html_url":"https://github.com/apache/iceberg/pull/1587#issuecomment-732371385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1587","id":732371385,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM3MTM4NQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T19:19:28Z","updated_at":"2020-11-23T19:19:28Z","author_association":"CONTRIBUTOR","body":"Thanks for the merge @rdblue!! Super pumped to have this merged. I have the last round of changes ready and will post them with the PR to support timestamps in the table name asap.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732371385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732384116","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-732384116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":732384116,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM4NDExNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T19:41:38Z","updated_at":"2020-11-23T19:41:38Z","author_association":"CONTRIBUTOR","body":"A couple of questions before we try to come up with a solution.\r\n\r\n1. How important or even valid is it to load non-path based tables through our source in Spark 3? We decided to interpret `path` option as a table identifier in 2.4 to avoid limitations of the DS V2 API at that point. Since we have proper catalog API in Spark 3, shall we assume all catalog-based tables should be loaded through it and not through source? We've replicated the `LookupCatalog` logic in Spark3Util but I am not sure it is a good idea to use that in the source.\r\n\r\n2. It is a bit unclear to me how we are going to produce the catalog name from `SupportsCatalogOptions`. The catalog manager does not provide a list of catalogs that were registered. Will we require a catalog name in options?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732384116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732396674","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-732396674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":732396674,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM5NjY3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:06:08Z","updated_at":"2020-11-23T20:06:08Z","author_association":"CONTRIBUTOR","body":"> How important or even valid is it to load non-path based tables through our source in Spark 3?\r\n\r\nThe purpose is to maintain compatibility with 2.4. If you have a working job that used IcebergSource to load a table from the Hive catalog, then that should continue to work.\r\n\r\n> It is a bit unclear to me how we are going to produce the catalog name from SupportsCatalogOptions.\r\n\r\nThe same way that we lookup catalogs in Spark: If the first part is a catalog, return it. Otherwise, use a default.\r\n\r\nThe problem with this is how we want to maintain compatibility with Spark 2.4. In 2.4, the behavior is that the default catalog is the Hive session catalog and that can't be changed. In 3, I think there is a good argument that since the session catalog is the default unless you configure a different one (spark.sql.defaultCatalog) then we can respect the default catalog.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732396674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732407535","html_url":"https://github.com/apache/iceberg/pull/1788#issuecomment-732407535","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1788","id":732407535,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQwNzUzNQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:27:41Z","updated_at":"2020-11-23T20:27:41Z","author_association":"CONTRIBUTOR","body":"> @jackye1995 and @johnclara we should probably figure out #1786 and make the ACL configuration follow a similar pattern. It looks like we need to rebase on top of #1767 and add the configuration to the `CreateMultipartUploadRequest` as well.\r\n\r\nupdated, following the same pattern as #1786 . I am intentionally separating them into `configureEncryption` and `configurePermission` to be explicit about the intention of the methods.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732407535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732410497","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-732410497","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":732410497,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQxMDQ5Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:33:18Z","updated_at":"2020-11-23T20:33:18Z","author_association":"CONTRIBUTOR","body":"> Last, how to handle path URIs: I talked with Anton and Russell about this yesterday and we think that we should make it so that every Spark catalog can load special path identifiers, just like we do today in IcebergSource. To do this, we would need to have a way to pass an identifier that signals this behavior back from SupportsCatalogOptions, like iceberg.hdfs://nn:8020/path/to/table. Then detect those and return Hadoop tables for them.\r\n\r\n+1 to that. I think we have enough info to get #1306 done. While it definitely makes sense to accept `iceberg.path` in the session catalog, shall we also allow just `path` alone in non-session catalogs? Otherwise, it is going to be weird if the catalog name is iceberg too. The identifier will be `iceberg.iceberg.path` then.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732410497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732412386","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-732412386","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":732412386,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQxMjM4Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:37:03Z","updated_at":"2020-11-23T20:37:03Z","author_association":"CONTRIBUTOR","body":"> The same way that we lookup catalogs in Spark: If the first part is a catalog, return it. Otherwise, use a default.\r\n\r\nI like this approach but will it be backward compatible if the user does not set the session catalog as Iceberg session catalog?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732412386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732414991","html_url":"https://github.com/apache/iceberg/issues/1306#issuecomment-732414991","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1306","id":732414991,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQxNDk5MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:42:24Z","updated_at":"2020-11-23T20:42:33Z","author_association":"CONTRIBUTOR","body":"I think the current plan is to support loading path-based tables in all Spark catalogs by using `HadoopTables`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732414991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732419973","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-732419973","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":732419973,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQxOTk3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:53:26Z","updated_at":"2020-11-23T20:53:26Z","author_association":"CONTRIBUTOR","body":"> I like this approach but will it be backward compatible if the user does not set the session catalog as Iceberg session catalog?\r\n\r\nIt's hard to define because we would be respecting a setting that wasn't present in 2.4. I think it's a reasonable thing to do as long as no catalog setting changes maintain compatibility with 2.4. Otherwise, the user is opting for different behavior by changing the default catalog.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732419973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732448175","html_url":"https://github.com/apache/iceberg/pull/1788#issuecomment-732448175","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1788","id":732448175,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ0ODE3NQ==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T21:53:48Z","updated_at":"2020-11-23T21:53:48Z","author_association":"CONTRIBUTOR","body":"@jackye1995 One very minor nit, but other than that, this looks good to me.  If you could just update the message, I'll push it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732448175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732463617","html_url":"https://github.com/apache/iceberg/pull/1809#issuecomment-732463617","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1809","id":732463617,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ2MzYxNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T22:31:02Z","updated_at":"2020-11-23T22:31:02Z","author_association":"CONTRIBUTOR","body":"@rdblue this is a separate PR for the optional param fix. Tests will be added in subsequent PRs. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732463617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732470871","html_url":"https://github.com/apache/iceberg/pull/1810#issuecomment-732470871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1810","id":732470871,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ3MDg3MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T22:47:45Z","updated_at":"2020-11-23T22:47:45Z","author_association":"CONTRIBUTOR","body":"@rdblue this is the PR to unify how we construct `InternalRow`s in procedures.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732470871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732488174","html_url":"https://github.com/apache/iceberg/pull/1788#issuecomment-732488174","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1788","id":732488174,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ4ODE3NA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T23:37:02Z","updated_at":"2020-11-23T23:37:02Z","author_association":"CONTRIBUTOR","body":"> @jackye1995 One very minor nit, but other than that, this looks good to me. If you could just update the message, I'll push it.\r\n\r\nThank you! Just fixed #1786 , I think there will be some merge conflicts with this one, if you can first merge that PR, I can rebase this one with the fix to the error message.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732488174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732488337","html_url":"https://github.com/apache/iceberg/pull/1810#issuecomment-732488337","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1810","id":732488337,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ4ODMzNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T23:37:34Z","updated_at":"2020-11-23T23:37:34Z","author_association":"CONTRIBUTOR","body":"I am merging this since JDK11 tests have passed and this PR touches only Spark 3. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732488337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732492923","html_url":"https://github.com/apache/iceberg/pull/1801#issuecomment-732492923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1801","id":732492923,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ5MjkyMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T23:53:12Z","updated_at":"2020-11-23T23:53:12Z","author_association":"CONTRIBUTOR","body":"This PR is ready for another review round.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732492923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732495442","html_url":"https://github.com/apache/iceberg/pull/1788#issuecomment-732495442","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1788","id":732495442,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ5NTQ0Mg==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T00:01:46Z","updated_at":"2020-11-24T00:01:46Z","author_association":"CONTRIBUTOR","body":"> > @jackye1995 One very minor nit, but other than that, this looks good to me. If you could just update the message, I'll push it.\r\n> \r\n> Thank you! Just fixed #1786 , I think there will be some merge conflicts with this one, if you can first merge that PR, I can rebase this one with the fix to the error message.\r\n\r\nBoth look good.  Just waiting on checks for #1786 and I'll push that one.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732495442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732505347","html_url":"https://github.com/apache/iceberg/pull/1801#issuecomment-732505347","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1801","id":732505347,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjUwNTM0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T00:29:30Z","updated_at":"2020-11-24T00:29:30Z","author_association":"CONTRIBUTOR","body":"The test failure in Java 8 is a flaky Hive 3 test. I'm going to merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732505347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732505517","html_url":"https://github.com/apache/iceberg/pull/1801#issuecomment-732505517","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1801","id":732505517,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjUwNTUxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T00:30:04Z","updated_at":"2020-11-24T00:30:04Z","author_association":"CONTRIBUTOR","body":"FYI @pvary. This had a Hive test failure.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732505517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732509103","html_url":"https://github.com/apache/iceberg/pull/1786#issuecomment-732509103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1786","id":732509103,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjUwOTEwMw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T00:41:45Z","updated_at":"2020-11-24T00:41:45Z","author_association":"CONTRIBUTOR","body":"@danielcweeks checks passed","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732509103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732532056","html_url":"https://github.com/apache/iceberg/pull/1786#issuecomment-732532056","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1786","id":732532056,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjUzMjA1Ng==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T01:42:03Z","updated_at":"2020-11-24T01:42:03Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732532056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732550885","html_url":"https://github.com/apache/iceberg/pull/1788#issuecomment-732550885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1788","id":732550885,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjU1MDg4NQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T02:37:41Z","updated_at":"2020-11-24T02:37:41Z","author_association":"CONTRIBUTOR","body":"> > > @jackye1995 One very minor nit, but other than that, this looks good to me. If you could just update the message, I'll push it.\r\n> > \r\n> > \r\n> > Thank you! Just fixed #1786 , I think there will be some merge conflicts with this one, if you can first merge that PR, I can rebase this one with the fix to the error message.\r\n> \r\n> Both look good. Just waiting on checks for #1786 and I'll push that one.\r\n\r\nfixed","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732550885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732741938","html_url":"https://github.com/apache/iceberg/issues/1780#issuecomment-732741938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1780","id":732741938,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjc0MTkzOA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T08:34:53Z","updated_at":"2020-11-24T08:45:16Z","author_association":"CONTRIBUTOR","body":"The environment:\r\n```\r\nhive-2.3.7\r\niceberg-0.10.0\r\nspark-3.0.0\r\n```\r\n\r\n1. Spark Conf\r\n```scala\r\n    val spark = SparkSession\r\n      .builder()\r\n      .master(\"local[2]\")\r\n      .appName(\"IcebergAPI\")\r\n      .config(\"spark.sql.catalog.hadoop_prod\", \"org.apache.iceberg.spark.SparkCatalog\")\r\n      .config(\"spark.sql.catalog.hadoop_prod.type\", \"hadoop\")\r\n      .config(\"spark.sql.catalog.hadoop_prod.warehouse\", \"file:///Users/dovezhang/iceberg/warehouse\")\r\n      .getOrCreate()\r\n    val conf: Configuration = new Configuration()\r\n    val catalog: HadoopCatalog = new HadoopCatalog(conf, \"file:///Users/dovezhang/iceberg/warehouse\")\r\n    val nameSpace = Namespace.of(schemaName)\r\n    val tableIdentifier: TableIdentifier = TableIdentifier.of(nameSpace, tableName)\r\n```\r\n2. Spark Create Table:\r\n```scala\r\n  def createPartitionTable(catalog: HadoopCatalog, tableIdentifier: TableIdentifier): Unit = {\r\n    val columns: List[Types.NestedField] = new ArrayList[Types.NestedField]\r\n    columns.add(Types.NestedField.of(1, true, \"id\", Types.IntegerType.get, \"id doc\"))\r\n    columns.add(Types.NestedField.of(2, true, \"name\", Types.StringType.get, \"name doc\"))\r\n    columns.add(Types.NestedField.of(3, true, \"time\", Types.TimestampType.withZone(), \"create time doc\"))\r\n\r\n    val schema: Schema = new Schema(columns)\r\n    val partition = PartitionSpec.unpartitioned()\r\n\r\n    val table = catalog.createTable(tableIdentifier, schema, partition)\r\n  }\r\n```\r\n3. Spark write data\r\n```scala\r\n  case class DbTb(id: Int, name: String, time: Timestamp)\r\n\r\n  def writeDataToIcebergHdfs(spark: SparkSession): Unit = {\r\n    val seq = Seq(DbTb(1, \"doveHDFS\", Timestamp.valueOf(\"2020-07-06 13:40:00\")),\r\n      DbTb(2, \"IcebergNameDoveHDFS\", Timestamp.valueOf(\"2020-07-06 14:30:00\")),\r\n      DbTb(3, \"SparkHDFS\", Timestamp.valueOf(\"2020-07-06 15:20:00\")))\r\n    val structedTbDf = spark.createDataFrame(seq).toDF(\"id\", \"name\", \"time\")\r\n\r\n    import org.apache.spark.sql.functions\r\n    structedTbDf.writeTo(s\"hadoop_prod.${schemaName}.${tableName}\").overwrite(functions.lit(true))\r\n  }\r\n```\r\n\r\n4. Hive Client Query:\r\n```SQL\r\n0: jdbc:hive2://localhost:10000> add jar /Users/dovezhang/software/idea/github/iceberg/hive-runtime/build/libs/iceberg-hive-runtime-0.10.0.jar;\r\n0: jdbc:hive2://localhost:10000> create database testDb;\r\n0: jdbc:hive2://localhost:10000> use testDb;\r\n0: jdbc:hive2://localhost:10000> CREATE EXTERNAL TABLE testTb\r\n. . . . . . . . . . . . . . . .> STORED BY 'org.apache.iceberg.mr.hive.HiveIcebergStorageHandler'\r\n. . . . . . . . . . . . . . . .> LOCATION 'file:///Users/dovezhang/iceberg/warehouse/testDb/testTb';\r\n0: jdbc:hive2://localhost:10000> select * from testDb.testTb;\r\n+------------+----------------------+------------------------+\r\n| testtb.id  |     testtb.name      |      testtb.time       |\r\n+------------+----------------------+------------------------+\r\n| 1          | doveHDFS             | 2020-07-06 05:40:00.0  |\r\n| 2          | IcebergNameDoveHDFS  | 2020-07-06 06:30:00.0  |\r\n| 3          | SparkHDFS            | 2020-07-06 07:20:00.0  |\r\n+------------+----------------------+------------------------+\r\n0: jdbc:hive2://localhost:10000> select count(*) from testDb.testTb;\r\n+------+\r\n| _c0  |\r\n+------+\r\n| 3    |\r\n+------+\r\n1 row selected (27.854 seconds)\r\n```\r\n\r\nI have done a test here, and there is no problem. Is your TimestampData customized? Perhaps you can provide more detailed operation?\r\n\r\nGood Luck!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732741938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732762830","html_url":"https://github.com/apache/iceberg/issues/1791#issuecomment-732762830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1791","id":732762830,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjc2MjgzMA==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T09:13:25Z","updated_at":"2020-11-24T09:13:25Z","author_association":"CONTRIBUTOR","body":"In the first PR, I currently only implement the first method `listPartitions(ObjectPath tablePath)`.\r\n\r\n the `listPartitions(ObjectPath tablePath, CatalogPartitionSpec partitionSpec)` method requires a CatalogPartitionSpec parameter, and the type of the `CatalogPartitionSpec#partitionSpec `  is Map<String, String>. I tested it, the filter in iceberg needs to match the value and type.\r\nFor example, if the partition type is int, we need to pass  `123`. pass `\"123\"` is wrong, so I think we may need to improve the CatalogPartitionSpec#partitionSpec of flink to Map<String, Object> so that  more  compatibility \r\n\r\n  The `listPartitionsByFilter(ObjectPath tablePath, List<Expression> filters)` method need to transform the expression of flink to the expression of iceberg. I think it will also need a lot of work.\r\n\r\n  So I think we can implement the first method first, and then implement the other two methods in sub-PR later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732762830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732798161","html_url":"https://github.com/apache/iceberg/issues/1764#issuecomment-732798161","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1764","id":732798161,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjc5ODE2MQ==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T10:13:45Z","updated_at":"2020-11-24T10:13:45Z","author_association":"CONTRIBUTOR","body":"Can you share your Iceberg version and how it works? I have tested locally that using `Spark.sql (\" drop table hadoop_prod.db.tb \")` can delete table directories.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732798161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732825486","html_url":"https://github.com/apache/iceberg/pull/1801#issuecomment-732825486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1801","id":732825486,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjgyNTQ4Ng==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T11:01:11Z","updated_at":"2020-11-24T11:01:11Z","author_association":"CONTRIBUTOR","body":"> FYI @pvary. This had a Hive test failure.\r\n\r\nThanks for the heads-up @rdblue. Created #1817 based on the logs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732825486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732855802","html_url":"https://github.com/apache/iceberg/issues/1655#issuecomment-732855802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1655","id":732855802,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjg1NTgwMg==","user":{"login":"gallushi","id":45040041,"node_id":"MDQ6VXNlcjQ1MDQwMDQx","avatar_url":"https://avatars.githubusercontent.com/u/45040041?v=4","gravatar_id":"","url":"https://api.github.com/users/gallushi","html_url":"https://github.com/gallushi","followers_url":"https://api.github.com/users/gallushi/followers","following_url":"https://api.github.com/users/gallushi/following{/other_user}","gists_url":"https://api.github.com/users/gallushi/gists{/gist_id}","starred_url":"https://api.github.com/users/gallushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gallushi/subscriptions","organizations_url":"https://api.github.com/users/gallushi/orgs","repos_url":"https://api.github.com/users/gallushi/repos","events_url":"https://api.github.com/users/gallushi/events{/privacy}","received_events_url":"https://api.github.com/users/gallushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T11:22:19Z","updated_at":"2020-11-24T11:23:25Z","author_association":"NONE","body":"Hi @rdblue \r\n>  can you describe what you're suggesting in a bit more detail? How would you use atomic write instead? \r\n\r\nCurrently, when using hadoop tables, `HadoopTableOperations` assumes atomic rename guarantees, and (when committing) proceeds to rename the temp snapshot object from its temp name to the snapshot object name.\r\nHowever - atomic write can also be used - instead of using the temp object, we can directly (and atomically) write the snapshot object. the write will succeed iff the object did not exist.\r\n\r\n> And how would you detect whether to use atomic write or atomic rename?\r\n\r\nI think using a config on a scheme level makes sense (this way one can control on which FS to use atomic write and on which ones to stay with atomic rename) since atomic write/ atomic rename are FS level guarantees.\r\n\r\n> In general, I would not recommend using a file system for this guarantee. It's better to use a database transaction for the atomic update operation. That's why we want to have support for a variety of catalog plugins in addition to Hive, like JDBC, Nessie, and Glue.\r\n\r\nYes; however (also keeping in mind that this is all in the context of hadoop tables, which in any case rely on file system guarantees) - adding support for atomic write is a relatively low-hanging fruit, and storage systems such as IBM Cloud Object Storage can then be used even without an external catalog.\r\n\r\nwhile we discuss this, i'll open a PR with the changes i have in mind.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732855802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732978124","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-732978124","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":732978124,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjk3ODEyNA==","user":{"login":"STTianXiang","id":50575666,"node_id":"MDQ6VXNlcjUwNTc1NjY2","avatar_url":"https://avatars.githubusercontent.com/u/50575666?v=4","gravatar_id":"","url":"https://api.github.com/users/STTianXiang","html_url":"https://github.com/STTianXiang","followers_url":"https://api.github.com/users/STTianXiang/followers","following_url":"https://api.github.com/users/STTianXiang/following{/other_user}","gists_url":"https://api.github.com/users/STTianXiang/gists{/gist_id}","starred_url":"https://api.github.com/users/STTianXiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/STTianXiang/subscriptions","organizations_url":"https://api.github.com/users/STTianXiang/orgs","repos_url":"https://api.github.com/users/STTianXiang/repos","events_url":"https://api.github.com/users/STTianXiang/events{/privacy}","received_events_url":"https://api.github.com/users/STTianXiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T13:38:02Z","updated_at":"2020-11-24T13:38:02Z","author_association":"NONE","body":"![Uploading image.png]()\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/732978124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733089037","html_url":"https://github.com/apache/iceberg/issues/1804#issuecomment-733089037","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1804","id":733089037,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzA4OTAzNw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T16:24:46Z","updated_at":"2021-07-07T19:22:23Z","author_association":"MEMBER","body":"~@STTianXiang if you are having trouble just shoot me an email, Russell.spitzer@gmail.com with the email you want invited and I'll add you manually~ ~","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733089037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733131946","html_url":"https://github.com/apache/iceberg/pull/1819#issuecomment-733131946","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1819","id":733131946,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzEzMTk0Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T17:39:26Z","updated_at":"2020-11-24T17:39:26Z","author_association":"CONTRIBUTOR","body":"@liukun4515, could you rebase this one? There were a few changes since the draft PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733131946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733142448","html_url":"https://github.com/apache/iceberg/issues/1812#issuecomment-733142448","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1812","id":733142448,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE0MjQ0OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T17:58:48Z","updated_at":"2020-11-24T17:58:48Z","author_association":"CONTRIBUTOR","body":"Those two code sections aren't very related. The write is using an array because the manifests are processed in parallel. That happens to ensure that each manifest has metadata. If the `ManifestFile` that will be written doesn't already have metadata about its contents, then it will be scanned to generate that metadata.\r\n\r\nOn the read side, all of the `ManifestFile` instances in the manifest list are read into memory for later use in scan planning and other operations. I don't see a strong need for those to be in a linked list, but I don't think it would be a problem either.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733142448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733143605","html_url":"https://github.com/apache/iceberg/issues/1655#issuecomment-733143605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1655","id":733143605,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE0MzYwNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T18:00:59Z","updated_at":"2020-11-24T18:00:59Z","author_association":"CONTRIBUTOR","body":"@gallushi, that sounds good to me. As long as the file commit is atomic, I think we can work with it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733143605/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733155551","html_url":"https://github.com/apache/iceberg/pull/1819#issuecomment-733155551","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1819","id":733155551,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE1NTU1MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T18:25:23Z","updated_at":"2020-11-24T18:25:23Z","author_association":"CONTRIBUTOR","body":"Also, per design doc, `older_than` is optional and should be defaulted to `System.currentTimeMillis()` if not set.\r\n\r\nThen we can keep only a given number of snapshots:\r\n```\r\nCALL catalog.schema.expire_snapshots(\r\n  namespace => 'namespace_name',\r\n  table => 'table_name',\r\n  retain_last => 100\r\n)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733155551/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733177270","html_url":"https://github.com/apache/iceberg/issues/1812#issuecomment-733177270","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1812","id":733177270,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE3NzI3MA==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T19:10:03Z","updated_at":"2020-11-24T19:10:03Z","author_association":"NONE","body":"Not worth changing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733177270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733177472","html_url":"https://github.com/apache/iceberg/pull/1814#issuecomment-733177472","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1814","id":733177472,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE3NzQ3Mg==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T19:10:29Z","updated_at":"2020-11-24T19:10:29Z","author_association":"NONE","body":"not worth changing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733177472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733180094","html_url":"https://github.com/apache/iceberg/issues/1812#issuecomment-733180094","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1812","id":733180094,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE4MDA5NA==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T19:16:04Z","updated_at":"2020-11-24T19:16:04Z","author_association":"NONE","body":"`manifests.get(index)` this section of line 180 in the snapshot producer was the indexing part in the linked list, not the filling of the array.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733180094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733183981","html_url":"https://github.com/apache/iceberg/issues/1812#issuecomment-733183981","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1812","id":733183981,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE4Mzk4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T19:24:13Z","updated_at":"2020-11-24T19:24:13Z","author_association":"CONTRIBUTOR","body":"Oh, I see. We could change that to an `ArrayList`. Maybe that would be faster?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733183981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733283880","html_url":"https://github.com/apache/iceberg/pull/1793#issuecomment-733283880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1793","id":733283880,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzI4Mzg4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T23:05:56Z","updated_at":"2020-11-24T23:05:56Z","author_association":"CONTRIBUTOR","body":"Looking pretty good to me, at least for the Iceberg concerns. It would be great to have @JingsongLi and @stevenzwu review as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733283880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733380672","html_url":"https://github.com/apache/iceberg/pull/1818#issuecomment-733380672","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1818","id":733380672,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzM4MDY3Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T00:43:25Z","updated_at":"2020-11-25T00:43:25Z","author_association":"CONTRIBUTOR","body":"@openinx, this looks great to me!\r\n\r\nI found a few issues to address, but I think the general design and structure is good. Should we start breaking it into smaller commits to get the changes into master?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733380672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733383097","html_url":"https://github.com/apache/iceberg/pull/1663#issuecomment-733383097","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1663","id":733383097,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzM4MzA5Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T00:45:16Z","updated_at":"2020-11-25T00:45:16Z","author_association":"CONTRIBUTOR","body":"@openinx, should we close this one in favor of #1818?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733383097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733383966","html_url":"https://github.com/apache/iceberg/pull/1802#issuecomment-733383966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1802","id":733383966,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzM4Mzk2Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T00:45:55Z","updated_at":"2020-11-25T00:45:55Z","author_association":"CONTRIBUTOR","body":"Closing this because it is incorporated in #1818, which is a full working implementation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733383966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733397824","html_url":"https://github.com/apache/iceberg/pull/1803#issuecomment-733397824","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1803","id":733397824,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzM5NzgyNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T01:06:40Z","updated_at":"2020-11-25T01:06:40Z","author_association":"CONTRIBUTOR","body":"Nice work. Thanks @yyanyy!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733397824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733398313","html_url":"https://github.com/apache/iceberg/pull/1757#issuecomment-733398313","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1757","id":733398313,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzM5ODMxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T01:08:23Z","updated_at":"2020-11-25T01:08:23Z","author_association":"CONTRIBUTOR","body":"@pvary, what's the status here? I took a quick look at the changes and I see some timestamp changes mixed in?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733398313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733400613","html_url":"https://github.com/apache/iceberg/pull/1790#issuecomment-733400613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1790","id":733400613,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzQwMDYxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T01:16:16Z","updated_at":"2020-11-25T01:16:16Z","author_association":"CONTRIBUTOR","body":"This touches a lot of files. Can we separate the refactoring out into a separate PR and focus on just ORC implementations here?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733400613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733401155","html_url":"https://github.com/apache/iceberg/pull/1774#issuecomment-733401155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1774","id":733401155,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzQwMTE1NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T01:17:49Z","updated_at":"2020-11-25T01:17:49Z","author_association":"CONTRIBUTOR","body":"@openinx, looks like there is need for a Spark fanout writer as well. I that affects your work in #1818, where you've removed this class. Could you take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/733401155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]