[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328356142","html_url":"https://github.com/apache/iceberg/pull/6134#issuecomment-1328356142","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6134","id":1328356142,"node_id":"IC_kwDOCW7NX85PLRsu","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-27T22:31:36Z","updated_at":"2022-11-27T22:31:36Z","author_association":"CONTRIBUTOR","body":"I don't think that query column names are the right way to go. I think that the schema referenced by ID should be the pre-alias schema. That supports getting the pre-alias column names as well as more validation on data types and nested fields.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328356142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328356702","html_url":"https://github.com/apache/iceberg/pull/6214#issuecomment-1328356702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6214","id":1328356702,"node_id":"IC_kwDOCW7NX85PLR1e","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-27T22:34:49Z","updated_at":"2022-11-27T22:34:49Z","author_association":"CONTRIBUTOR","body":"Thanks, @ajantha-bhat!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328356702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328357822","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1328357822","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1328357822,"node_id":"IC_kwDOCW7NX85PLSG-","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-27T22:41:10Z","updated_at":"2022-11-27T22:41:10Z","author_association":"CONTRIBUTOR","body":"I think that all of the session references are to the cloned Spark session now. +1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328357822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328357865","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1328357865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1328357865,"node_id":"IC_kwDOCW7NX85PLSHp","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-27T22:41:28Z","updated_at":"2022-11-27T22:41:28Z","author_association":"CONTRIBUTOR","body":"Thanks, @manuzhang!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328357865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328358261","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1328358261","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1328358261,"node_id":"IC_kwDOCW7NX85PLSN1","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-27T22:43:31Z","updated_at":"2022-11-27T22:43:31Z","author_association":"CONTRIBUTOR","body":"@jzhuge, this looks good to go. Can you rebase and fix tests?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328358261/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328378546","html_url":"https://github.com/apache/iceberg/issues/3704#issuecomment-1328378546","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3704","id":1328378546,"node_id":"IC_kwDOCW7NX85PLXKy","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T00:12:09Z","updated_at":"2022-11-28T00:12:09Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328378546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328378555","html_url":"https://github.com/apache/iceberg/issues/3703#issuecomment-1328378555","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3703","id":1328378555,"node_id":"IC_kwDOCW7NX85PLXK7","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T00:12:11Z","updated_at":"2022-11-28T00:12:11Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328378555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328378564","html_url":"https://github.com/apache/iceberg/issues/3695#issuecomment-1328378564","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3695","id":1328378564,"node_id":"IC_kwDOCW7NX85PLXLE","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T00:12:12Z","updated_at":"2022-11-28T00:12:12Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328378564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328489707","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1328489707","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1328489707,"node_id":"IC_kwDOCW7NX85PLyTr","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T03:31:47Z","updated_at":"2022-11-28T03:31:47Z","author_association":"COLLABORATOR","body":"Thanks @rdblue @ajantha-bhat @RussellSpitzer @kbendick @hililiwei for your review.\r\nI opened #6284 and #6285 to back-port the PR to Spark 3.2 and 3.1 respectively. Please help review those PRs as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328489707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328493407","html_url":"https://github.com/apache/iceberg/pull/3681#issuecomment-1328493407","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3681","id":1328493407,"node_id":"IC_kwDOCW7NX85PLzNf","user":{"login":"yeezychao","id":18387619,"node_id":"MDQ6VXNlcjE4Mzg3NjE5","avatar_url":"https://avatars.githubusercontent.com/u/18387619?v=4","gravatar_id":"","url":"https://api.github.com/users/yeezychao","html_url":"https://github.com/yeezychao","followers_url":"https://api.github.com/users/yeezychao/followers","following_url":"https://api.github.com/users/yeezychao/following{/other_user}","gists_url":"https://api.github.com/users/yeezychao/gists{/gist_id}","starred_url":"https://api.github.com/users/yeezychao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yeezychao/subscriptions","organizations_url":"https://api.github.com/users/yeezychao/orgs","repos_url":"https://api.github.com/users/yeezychao/repos","events_url":"https://api.github.com/users/yeezychao/events{/privacy}","received_events_url":"https://api.github.com/users/yeezychao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T03:40:44Z","updated_at":"2022-11-28T03:40:44Z","author_association":"NONE","body":"> Hello everyOne, I think May be we can just use iceberg connector to solve this , no need to modify code. @hameizi @yittg\r\n> \r\n> first of all, use flink to create a iceberg table without `Computed columns` or watermark, like this:\r\n> \r\n> ```java\r\n>     tenv.executeSql(\"CREATE CATALOG iceberg_catalog WITH (\\n\" +\r\n>         \"  'type'='iceberg',\\n\" +\r\n>         \"  'catalog-type'='hive',\" +\r\n>         \"  'uri'='thrift://host:9083',\" +\r\n>         \"  'warehouse'='hdfs://host:9009/user/hive/warehouse/'\" +\r\n>         \")\");\r\n> \r\n>     tenv.useCatalog(\"iceberg_catalog\");\r\n>     tenv.useDatabase(\"iceberg_db\");\r\n> \r\n>     String tableName = \"iceberg_origin\";\r\n> \r\n>     tenv.executeSql(\"create table if not exists  \" + tableName + \"(\\n\" +\r\n>         \" order_id    STRING,\\n\" +\r\n>         \" price       DECIMAL(32,2),\\n\" +\r\n>         \" currency    STRING,\\n\" +\r\n>         \" origin_order_time TIMESTAMP(6)\\n\" +\r\n>         \") WITH (\\n\" +\r\n>         \" 'format.version' = '2'\\n\" +\r\n>         \")\"\r\n>     );\r\n> ```\r\n> \r\n> then use iceberg connector to create a Table source with `Computed columns` and watermark support,like this @stevenzwu\r\n> \r\n> ```java\r\n>     tenv.executeSql(\"create table if not exists  default_catalog.default_database.iceberg_table (\\n\" +\r\n>         \" order_id    STRING,\\n\" +\r\n>         \" price       DECIMAL(32,2),\\n\" +\r\n>         \" currency    STRING,\\n\" +\r\n>         \" origin_order_time TIMESTAMP(6),\\n\" +\r\n>         \" order_time as cast(origin_order_time as TIMESTAMP(3)),\\n\" +\r\n>         \" WATERMARK FOR order_time AS order_time - INTERVAL '5' MINUTE\\n\" +\r\n>         \") WITH (\\n\" +\r\n>         \" 'connector' = 'iceberg',\\n\" +\r\n>         \" 'catalog-name' = 'iceberg_catalog',\\n\" +\r\n>         \" 'catalog-database' = 'iceberg_db',\\n\" +\r\n>         \" 'catalog-table' = 'iceberg_origin',\\n\" +\r\n>         \"  'uri'='thrift://host:9083',\" +\r\n>         \"  'warehouse'='hdfs://host:9009/user/hive/warehouse/'\" +\r\n>         \")\"\r\n>     );\r\n> ```\r\n> \r\n> if different watermark strategy is needed, we just need create another table source . for example, 10 MINUTES watermark\r\n> \r\n> ```java\r\n>     tenv.executeSql(\"create table if not exists  default_catalog.default_database.iceberg_table (\\n\" +\r\n>         \" order_id    STRING,\\n\" +\r\n>         \" price       DECIMAL(32,2),\\n\" +\r\n>         \" currency    STRING,\\n\" +\r\n>         \" origin_order_time TIMESTAMP(6),\\n\" +\r\n>         \" order_time as cast(origin_order_time as TIMESTAMP(3)),\\n\" +\r\n>         \" WATERMARK FOR order_time AS order_time - INTERVAL '10' MINUTE\\n\" +\r\n>         \") WITH (\\n\" +\r\n>         \" 'connector' = 'iceberg',\\n\" +\r\n>         \" 'catalog-name' = 'iceberg_catalog',\\n\" +\r\n>         \" 'catalog-database' = 'iceberg_db',\\n\" +\r\n>         \" 'catalog-table' = 'iceberg_origin',\\n\" +\r\n>         \"  'uri'='thrift://host:9083',\" +\r\n>         \"  'warehouse'='hdfs://host:9009/user/hive/warehouse/'\" +\r\n>         \")\"\r\n>     );\r\n> ```\r\n\r\nI tried to use this way , But when query table like: \r\n```\r\nselect * from default_catalog.default_database.iceberg_table where dt = '2021-08-01' and hour = '08'\r\n```\r\nThe where condition `dt = '2021-08-01' and hour = '08'` are not effective, Still read full data, Why? @kingeasternsun @yittg ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328493407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328579748","html_url":"https://github.com/apache/iceberg/pull/6223#issuecomment-1328579748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6223","id":1328579748,"node_id":"IC_kwDOCW7NX85PMISk","user":{"login":"grbinho","id":1301092,"node_id":"MDQ6VXNlcjEzMDEwOTI=","avatar_url":"https://avatars.githubusercontent.com/u/1301092?v=4","gravatar_id":"","url":"https://api.github.com/users/grbinho","html_url":"https://github.com/grbinho","followers_url":"https://api.github.com/users/grbinho/followers","following_url":"https://api.github.com/users/grbinho/following{/other_user}","gists_url":"https://api.github.com/users/grbinho/gists{/gist_id}","starred_url":"https://api.github.com/users/grbinho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grbinho/subscriptions","organizations_url":"https://api.github.com/users/grbinho/orgs","repos_url":"https://api.github.com/users/grbinho/repos","events_url":"https://api.github.com/users/grbinho/events{/privacy}","received_events_url":"https://api.github.com/users/grbinho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T05:59:47Z","updated_at":"2022-11-28T05:59:47Z","author_association":"CONTRIBUTOR","body":"> I wonder if we shall also add catalogId to these two requests (may be in another PR)\r\n\r\nFor `createGlueTempTableIfNecessary` I'm not sure that is necessary since it's talking about Lake Formation.  \r\nUsually with Lake Formation cross account access is handled by Lake Formation (and resource shares).\r\nIn normal deployments tables would always be created in your \"local\" catalog and then shared with others and/or central catalog.\r\n\r\nThat said, I'm not that familiar with the code base enough to be sure it's unnecessary.  \r\n\r\nMaybe @amogh-jahagirdar knows?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328579748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328649739","html_url":"https://github.com/apache/iceberg/pull/6282#issuecomment-1328649739","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6282","id":1328649739,"node_id":"IC_kwDOCW7NX85PMZYL","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T07:22:26Z","updated_at":"2022-11-28T07:22:26Z","author_association":"CONTRIBUTOR","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328649739/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328652496","html_url":"https://github.com/apache/iceberg/pull/6254#issuecomment-1328652496","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6254","id":1328652496,"node_id":"IC_kwDOCW7NX85PMaDQ","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T07:26:16Z","updated_at":"2022-11-28T07:26:16Z","author_association":"CONTRIBUTOR","body":"@rdblue I don't see much harm as the dependencies are optional. I'd also like end-to-end tests in the future so we don't break any integrations without us knowing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328652496/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328726613","html_url":"https://github.com/apache/iceberg/issues/6273#issuecomment-1328726613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6273","id":1328726613,"node_id":"IC_kwDOCW7NX85PMsJV","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T08:46:06Z","updated_at":"2022-11-28T08:46:06Z","author_association":"CONTRIBUTOR","body":"+1 on @nastra's comment. This seems like an issue with the Hive Metastore trying to write data into the backend mysql.\r\nHow are you using Hive? Are you using HiveCli? Are you able to write to a non-Iceberg table? Is using the Hive 4.0.0-alpha-2 release an option for you? It has more throughout and tested Iceberg integration OOB","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328726613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328743734","html_url":"https://github.com/apache/iceberg/pull/6286#issuecomment-1328743734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6286","id":1328743734,"node_id":"IC_kwDOCW7NX85PMwU2","user":{"login":"slfan1989","id":55643692,"node_id":"MDQ6VXNlcjU1NjQzNjky","avatar_url":"https://avatars.githubusercontent.com/u/55643692?v=4","gravatar_id":"","url":"https://api.github.com/users/slfan1989","html_url":"https://github.com/slfan1989","followers_url":"https://api.github.com/users/slfan1989/followers","following_url":"https://api.github.com/users/slfan1989/following{/other_user}","gists_url":"https://api.github.com/users/slfan1989/gists{/gist_id}","starred_url":"https://api.github.com/users/slfan1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slfan1989/subscriptions","organizations_url":"https://api.github.com/users/slfan1989/orgs","repos_url":"https://api.github.com/users/slfan1989/repos","events_url":"https://api.github.com/users/slfan1989/events{/privacy}","received_events_url":"https://api.github.com/users/slfan1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T09:02:25Z","updated_at":"2022-11-28T09:02:25Z","author_association":"CONTRIBUTOR","body":"> Thanks @slfan1989 for raising the pull request, much appreciated 👍🏻\r\n\r\nThank you very much for your help in reviewing the code!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328743734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328830020","html_url":"https://github.com/apache/iceberg/pull/6287#issuecomment-1328830020","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6287","id":1328830020,"node_id":"IC_kwDOCW7NX85PNFZE","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T10:12:17Z","updated_at":"2022-11-28T10:12:17Z","author_association":"MEMBER","body":"cc: @Fokko ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328830020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328892886","html_url":"https://github.com/apache/iceberg/issues/6273#issuecomment-1328892886","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6273","id":1328892886,"node_id":"IC_kwDOCW7NX85PNUvW","user":{"login":"Kirito-Aus","id":54315770,"node_id":"MDQ6VXNlcjU0MzE1Nzcw","avatar_url":"https://avatars.githubusercontent.com/u/54315770?v=4","gravatar_id":"","url":"https://api.github.com/users/Kirito-Aus","html_url":"https://github.com/Kirito-Aus","followers_url":"https://api.github.com/users/Kirito-Aus/followers","following_url":"https://api.github.com/users/Kirito-Aus/following{/other_user}","gists_url":"https://api.github.com/users/Kirito-Aus/gists{/gist_id}","starred_url":"https://api.github.com/users/Kirito-Aus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kirito-Aus/subscriptions","organizations_url":"https://api.github.com/users/Kirito-Aus/orgs","repos_url":"https://api.github.com/users/Kirito-Aus/repos","events_url":"https://api.github.com/users/Kirito-Aus/events{/privacy}","received_events_url":"https://api.github.com/users/Kirito-Aus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T11:05:37Z","updated_at":"2022-11-28T11:05:37Z","author_association":"NONE","body":"@nastra @pvary I use the HiveCli to operate Hive. Hive can run normally independently, and can perform operations such as adding, deleting, modifying, querying, and creating tables to a non-Iceberg table.  And once I open the local Hive mode, I can operate the Iceberg table without any problem.  I will try the Hive 4.0.0-alpha-2 release and see whether it is applicable.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328892886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328934746","html_url":"https://github.com/apache/iceberg/pull/6253#issuecomment-1328934746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6253","id":1328934746,"node_id":"IC_kwDOCW7NX85PNe9a","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T11:40:02Z","updated_at":"2022-11-28T11:46:50Z","author_association":"CONTRIBUTOR","body":"hi @rdblue,  thank you so much for your feedback.\r\nBefore I answer your question, I'd like to say something else around this.\r\n\r\nActually, I want to solve a problem that is common in streaming scenarios: how does the downstream application know that all of the specified period data has been written if the application is not reading incremental data in real time, but is microbatching? Watermarking is an easy solution to think of. When downstream applications get the watermark, they can know whether the event time or process time of the data has reached a critical value. But it's not enough. \r\n\r\nIf our community accepts this PR solution, I would like to do one more thing, which is to support time-based partition commit. In some scenarios, when a new partition is written, it is usually necessary to notify the downstream application. For example, When all the data for this partition is written, commit this partition to iceberg, just as flink does for [hive\\filesystem](https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/connectors/table/filesystem/#partition-commit).  I once participated in the development of this part of Flink, and I hope to introduce it to iceberg sink. Because of iceberg's snapshot management feature, we may be able to do better than hive\\filesystem. \r\n\r\nThe current iceberg flink sink can only commit based on checkpoint. When the time-based commit is complete, it will provides a partition commit feature that allows configuring custom policies. Commit actions are based on a combination of triggers and policies.\r\n\r\nBack to your question.\r\n1. In PR, the commiter caches the watemark of the current data stream and writes it to the summary when the snapshot is committed. Strictly speaking, it doesn't represent the watermark of the iceberg table, if other applications are writing in at the same time, it just represents the watermark of the application it's in. If there's only one application, and we can think of it as, as shown in the second figure.\r\n\r\n![image](https://user-images.githubusercontent.com/59213263/204259097-55623449-9a38-4d85-b93c-b380154eb8f0.png)\r\n\r\n2. Where does the water level come from?\r\nFlink provides an interface method for us to catch it. Its value depends on the low-watermark of upstream data. \r\n\r\n![image](https://user-images.githubusercontent.com/59213263/204259514-b257455b-67ee-4f2e-9b7d-3d979ac4d72b.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1328934746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329015959","html_url":"https://github.com/apache/iceberg/issues/6269#issuecomment-1329015959","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6269","id":1329015959,"node_id":"IC_kwDOCW7NX85PNyyX","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T12:43:21Z","updated_at":"2022-11-28T12:43:21Z","author_association":"CONTRIBUTOR","body":"Should we close this issue and track support for HDFS in a separate issue? Alternatively we could rename this issue to indicate that we're adding support for HDFS","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329015959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329058112","html_url":"https://github.com/apache/iceberg/issues/2996#issuecomment-1329058112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2996","id":1329058112,"node_id":"IC_kwDOCW7NX85PN9FA","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:05:55Z","updated_at":"2022-11-28T13:05:55Z","author_association":"CONTRIBUTOR","body":"This is in https://github.com/apache/iceberg/pull/6034","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329058112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329058961","html_url":"https://github.com/apache/iceberg/issues/3222#issuecomment-1329058961","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3222","id":1329058961,"node_id":"IC_kwDOCW7NX85PN9SR","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:06:27Z","updated_at":"2022-11-28T13:06:27Z","author_association":"CONTRIBUTOR","body":"This is in: https://github.com/apache/iceberg/pull/6034 🥳 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329058961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329062073","html_url":"https://github.com/apache/iceberg/issues/5811#issuecomment-1329062073","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5811","id":1329062073,"node_id":"IC_kwDOCW7NX85PN-C5","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:07:41Z","updated_at":"2022-11-28T13:07:41Z","author_association":"CONTRIBUTOR","body":"This is in: https://github.com/apache/iceberg/pull/5845","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329062073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329063982","html_url":"https://github.com/apache/iceberg/issues/3229#issuecomment-1329063982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3229","id":1329063982,"node_id":"IC_kwDOCW7NX85PN-gu","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:08:38Z","updated_at":"2022-11-28T13:08:38Z","author_association":"CONTRIBUTOR","body":"This is in: https://github.com/apache/iceberg/pull/6233","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329063982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329067464","html_url":"https://github.com/apache/iceberg/issues/5801#issuecomment-1329067464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5801","id":1329067464,"node_id":"IC_kwDOCW7NX85PN_XI","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:11:01Z","updated_at":"2022-11-28T13:11:01Z","author_association":"CONTRIBUTOR","body":"Since this is in, I'm going to close this to clean up the milestone for the next release. This way we can see what needs to be done before creating the Release Candidate.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329067464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329075739","html_url":"https://github.com/apache/iceberg/issues/6156#issuecomment-1329075739","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6156","id":1329075739,"node_id":"IC_kwDOCW7NX85POBYb","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:16:42Z","updated_at":"2022-11-28T13:16:42Z","author_association":"CONTRIBUTOR","body":"This has been done, I'll close this issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329075739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329119528","html_url":"https://github.com/apache/iceberg/issues/6290#issuecomment-1329119528","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6290","id":1329119528,"node_id":"IC_kwDOCW7NX85POMEo","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:44:16Z","updated_at":"2022-11-28T13:45:34Z","author_association":"MEMBER","body":"This is probably not necessary unless I am missing something. Unlike systems like Hive, individual partitions are implicit metadata constructs and don't have to be explicitly created or modified through DDL. \n\nThe \"spec\" is the description of how fields are transformed to generate that metadata. So for example something like identity(column a) which allows files to state they have only values for a specific value of column a. Modifying this spec is allowed via our custom alter table commands. Because this can change a file can actually have be partitioned on any spec the table has seen in the past as well.\n\nCommands like drop partition x=5 just become delete statements in Iceberg where the engine determines whether the delete can be a metadata delete or not by analyzing all files in the table and their respective partition values as well as the spec used to write them.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329119528/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329172799","html_url":"https://github.com/apache/iceberg/issues/5782#issuecomment-1329172799","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5782","id":1329172799,"node_id":"IC_kwDOCW7NX85POZE_","user":{"login":"cccs-jc","id":56140112,"node_id":"MDQ6VXNlcjU2MTQwMTEy","avatar_url":"https://avatars.githubusercontent.com/u/56140112?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-jc","html_url":"https://github.com/cccs-jc","followers_url":"https://api.github.com/users/cccs-jc/followers","following_url":"https://api.github.com/users/cccs-jc/following{/other_user}","gists_url":"https://api.github.com/users/cccs-jc/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-jc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-jc/subscriptions","organizations_url":"https://api.github.com/users/cccs-jc/orgs","repos_url":"https://api.github.com/users/cccs-jc/repos","events_url":"https://api.github.com/users/cccs-jc/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-jc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T14:08:40Z","updated_at":"2022-11-28T14:08:40Z","author_association":"CONTRIBUTOR","body":"We are working on support for Iceberg in dbt-spark. Since Iceberg does not support `show tables extended` we fall back to `show table` and many `describe table` to determine if a given table is an iceberg table or not.\r\n\r\nNormally (for Hudi and Delta) dbt-spark uses the `show tables extended` and parses the information from the `information` column to determine if it's dealing with a Hudi or Delta table.\r\n\r\nIterating the tables and running `describe table` can get quite slow when there are hundreds of tables in a schema.\r\n\r\nIt would be much better if Iceberg also supported `show tables extended`\r\n\r\nTagging @Fokko who is also working on this\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329172799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329184317","html_url":"https://github.com/apache/iceberg/issues/5782#issuecomment-1329184317","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5782","id":1329184317,"node_id":"IC_kwDOCW7NX85POb49","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T14:14:26Z","updated_at":"2022-11-28T14:14:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the background @cccs-jc. To add to that, this is the [original issue](https://issues.apache.org/jira/browse/SPARK-33393) in Spark, and a PR is ready: https://github.com/apache/spark/pull/37588. It is not directly related to Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329184317/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329211805","html_url":"https://github.com/apache/iceberg/issues/96#issuecomment-1329211805","issue_url":"https://api.github.com/repos/apache/iceberg/issues/96","id":1329211805,"node_id":"IC_kwDOCW7NX85POimd","user":{"login":"pavibhai","id":7353275,"node_id":"MDQ6VXNlcjczNTMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/7353275?v=4","gravatar_id":"","url":"https://api.github.com/users/pavibhai","html_url":"https://github.com/pavibhai","followers_url":"https://api.github.com/users/pavibhai/followers","following_url":"https://api.github.com/users/pavibhai/following{/other_user}","gists_url":"https://api.github.com/users/pavibhai/gists{/gist_id}","starred_url":"https://api.github.com/users/pavibhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavibhai/subscriptions","organizations_url":"https://api.github.com/users/pavibhai/orgs","repos_url":"https://api.github.com/users/pavibhai/repos","events_url":"https://api.github.com/users/pavibhai/events{/privacy}","received_events_url":"https://api.github.com/users/pavibhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T14:31:12Z","updated_at":"2022-11-28T14:31:12Z","author_association":"CONTRIBUTOR","body":"I agree that a no hadoop shim is the right answer. In the meantime I have raised the following PR that offers FileIO support on ORC with the existing abstraction around Hadoop FS.\r\n\r\nhttps://github.com/apache/iceberg/pull/6293","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329211805/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329241014","html_url":"https://github.com/apache/iceberg/pull/6045#issuecomment-1329241014","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6045","id":1329241014,"node_id":"IC_kwDOCW7NX85POpu2","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T14:52:14Z","updated_at":"2022-11-28T14:52:14Z","author_association":"COLLABORATOR","body":"Merged, thanks @haizhou-zhao .  Thanks @gaborkaszab and @danielcweeks for extended review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329241014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329273966","html_url":"https://github.com/apache/iceberg/pull/6168#issuecomment-1329273966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6168","id":1329273966,"node_id":"IC_kwDOCW7NX85POxxu","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T15:13:17Z","updated_at":"2022-11-28T15:13:17Z","author_association":"CONTRIBUTOR","body":"After we enabled RevAPI on `iceberg-core`, we've seen the following\r\nRevAPI failures on all JSON Deserializer classes:\r\n\r\n```\r\n * Just this break:\r\n        ./gradlew :iceberg-core:revapiAcceptBreak --justification \"{why this break is ok}\" \\\r\n          --code \"java.method.exception.checkedAdded\" \\\r\n          --old \"method java.lang.Object com.fasterxml.jackson.databind.JsonDeserializer<T>::deserializeWithType(com.fasterxml.jackson.core.JsonParser, com.fasterxml.jackson.databind.DeserializationContext, com.fasterxml.jackson.databind.jsontype.TypeDeserializer, T) throws java.io.IOException @ org.apache.iceberg.rest.RESTSerializers.UnboundPartitionSpecDeserializer\" \\\r\n          --new \"method java.lang.Object com.fasterxml.jackson.databind.JsonDeserializer<T>::deserializeWithType(com.fasterxml.jackson.core.JsonParser, com.fasterxml.jackson.databind.DeserializationContext, com.fasterxml.jackson.databind.jsontype.TypeDeserializer, T) throws java.io.IOException, com.fasterxml.jackson.core.JacksonException @ org.apache.iceberg.rest.RESTSerializers.UnboundPartitionSpecDeserializer\"\r\n    * All breaks in this project:\r\n        ./gradlew :iceberg-core:revapiAcceptAllBreaks --justification \"{why this break is ok}\"\r\n    * All breaks in all projects:\r\n        ./gradlew revapiAcceptAllBreaks --justification \"{why this break is ok}\"\r\n  ----------------------------------------------------------------------------------------------------\r\n  java.method.exception.checkedAdded: Method newly throws checked exceptions: com.fasterxml.jackson.core.JacksonException.\r\n\r\n  old: method T com.fasterxml.jackson.databind.JsonDeserializer<T>::deserialize(com.fasterxml.jackson.core.JsonParser, com.fasterxml.jackson.databind.DeserializationContext, T) throws java.io.IOException @ org.apache.iceberg.rest.RESTSerializers.UnboundSortOrderDeserializer\r\n  new: method T com.fasterxml.jackson.databind.JsonDeserializer<T>::deserialize(com.fasterxml.jackson.core.JsonParser, com.fasterxml.jackson.databind.DeserializationContext, T) throws java.io.IOException, com.fasterxml.jackson.core.JacksonException @ org.apache.iceberg.rest.RESTSerializers.UnboundSortOrderDeserializer\r\n\r\n  SOURCE: BREAKING, BINARY: NON_BREAKING\r\n\r\n  From old archive: iceberg-core-1.0.0.jar\r\n  From new archive: iceberg-core-dd5164b.jar\r\n\r\n```\r\n\r\nI've introduced `IcebergJsonDeserializer` with the old throws-signature\r\nfor all of our JSON Deserializers to resolve that.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329273966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329331585","html_url":"https://github.com/apache/iceberg/pull/5331#issuecomment-1329331585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5331","id":1329331585,"node_id":"IC_kwDOCW7NX85PO_2B","user":{"login":"ericlgoodman","id":6923972,"node_id":"MDQ6VXNlcjY5MjM5NzI=","avatar_url":"https://avatars.githubusercontent.com/u/6923972?v=4","gravatar_id":"","url":"https://api.github.com/users/ericlgoodman","html_url":"https://github.com/ericlgoodman","followers_url":"https://api.github.com/users/ericlgoodman/followers","following_url":"https://api.github.com/users/ericlgoodman/following{/other_user}","gists_url":"https://api.github.com/users/ericlgoodman/gists{/gist_id}","starred_url":"https://api.github.com/users/ericlgoodman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericlgoodman/subscriptions","organizations_url":"https://api.github.com/users/ericlgoodman/orgs","repos_url":"https://api.github.com/users/ericlgoodman/repos","events_url":"https://api.github.com/users/ericlgoodman/events{/privacy}","received_events_url":"https://api.github.com/users/ericlgoodman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T15:50:38Z","updated_at":"2022-11-28T15:50:38Z","author_association":"CONTRIBUTOR","body":"> Hi @ericlgoodman. My name is Rushan Jiang, a CS undergrad at CMU. I am interested in learning and contributing to this migration support. I saw you did not update this PR for some time. Would you mind allowing me to continue your work?\r\n> \r\n> I appreciate your time and consideration.\r\n\r\nFollowed up with you on the Iceberg Slack.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329331585/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329342005","html_url":"https://github.com/apache/iceberg/issues/5625#issuecomment-1329342005","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5625","id":1329342005,"node_id":"IC_kwDOCW7NX85PPCY1","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T15:58:58Z","updated_at":"2022-11-28T15:58:58Z","author_association":"NONE","body":"Re-tested with Iceberg 1.1.0, the problem does persist","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329342005/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329361253","html_url":"https://github.com/apache/iceberg/pull/6271#issuecomment-1329361253","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6271","id":1329361253,"node_id":"IC_kwDOCW7NX85PPHFl","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T16:11:30Z","updated_at":"2022-11-28T16:11:30Z","author_association":"CONTRIBUTOR","body":"thanks @lvyanquan for the contribution","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329361253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329366120","html_url":"https://github.com/apache/iceberg/pull/6296#issuecomment-1329366120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6296","id":1329366120,"node_id":"IC_kwDOCW7NX85PPIRo","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T16:15:00Z","updated_at":"2022-11-28T16:15:00Z","author_association":"MEMBER","body":"This issue has been reported by two of the users in iceberg-slack. \r\nHere is the full background: https://apache-iceberg.slack.com/archives/C025PH0G1D4/p1661239255706969\r\n\r\ncc: @RussellSpitzer, @Fokko  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329366120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329407033","html_url":"https://github.com/apache/iceberg/issues/6266#issuecomment-1329407033","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6266","id":1329407033,"node_id":"IC_kwDOCW7NX85PPSQ5","user":{"login":"HannesDS","id":17456875,"node_id":"MDQ6VXNlcjE3NDU2ODc1","avatar_url":"https://avatars.githubusercontent.com/u/17456875?v=4","gravatar_id":"","url":"https://api.github.com/users/HannesDS","html_url":"https://github.com/HannesDS","followers_url":"https://api.github.com/users/HannesDS/followers","following_url":"https://api.github.com/users/HannesDS/following{/other_user}","gists_url":"https://api.github.com/users/HannesDS/gists{/gist_id}","starred_url":"https://api.github.com/users/HannesDS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HannesDS/subscriptions","organizations_url":"https://api.github.com/users/HannesDS/orgs","repos_url":"https://api.github.com/users/HannesDS/repos","events_url":"https://api.github.com/users/HannesDS/events{/privacy}","received_events_url":"https://api.github.com/users/HannesDS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T16:41:18Z","updated_at":"2022-11-28T16:58:11Z","author_association":"NONE","body":"Yes, they are for sure there. If I use the following code to print the extra jars included:\r\n`self.logger.info(f\"Spark Jars: {spark.sparkContext._jsc.sc().listJars()}\")`\r\nIt logs the following: \r\n```\r\n22/11/28 16:29:50 INFO SparkContext: Added JAR /opt/spark/jars/iceberg-spark-runtime-3.2_2.12-1.0.0.jar at spark://streaming-c7066896-a115-4017-b47d-5-7d9dff84bf12a7e0-driver-svc.dev.svc:7078/jars/iceberg-spark-runtime-3.2_2.12-1.0.0.jar with timestamp 1669652989004\r\n22/11/28 16:29:50 INFO SparkContext: Added JAR /opt/spark/jars/bundle-2.17.257.jar at spark://streaming-c7066896-a115-4017-b47d-5-7d9dff84bf12a7e0-driver-svc.dev.svc:7078/jars/bundle-2.17.257.jar with timestamp 1669652989004\r\n22/11/28 16:29:50 INFO SparkContext: Added JAR /opt/spark/jars/url-connection-client-2.17.257.jar at spark://streaming-c7066896-a115-4017-b47d-5-7d9dff84bf12a7e0-driver-svc.dev.svc:7078/jars/url-connection-client-2.17.257.jar with timestamp 1669652989004\r\n22/11/28 16:30:09 INFO CurrentSystemImbalanceProducer: Spark Jars : Vector(spark://streaming-c7066896-a115-4017-b47d-5-7d9dff84bf12a7e0-driver-svc.dev.svc:7078/jars/iceberg-spark-runtime-3.2_2.12-1.0.0.jar, spark://streaming-c7066896-a115-4017-b47d-5-7d9dff84bf12a7e0-driver-svc.dev.svc:7078/jars/url-connection-client-2.17.257.jar, spark://streaming-c7066896-a115-4017-b47d-5-7d9dff84bf12a7e0-driver-svc.dev.svc:7078/jars/bundle-2.17.257.jar)\r\n22/11/28 16:30:11 \r\n```\r\n\r\nNow I added this config:\r\n```\r\n        \"spark.jars.packages\": \"org.apache.iceberg:iceberg-spark-runtime-3.2_2.12:1.0.0,\"\r\n                               \"software.amazon.awssdk:bundle:2.17.257,\"\r\n                               \"software.amazon.awssdk:url-connection-client:2.17.257,\",\r\n        \"spark.jars\": \"/opt/spark/jars/iceberg-spark-runtime-3.2_2.12-1.0.0.jar,\"\r\n                      \"/opt/spark/jars/bundle-2.17.257.jar,\"\r\n                      \"/opt/spark/jars/url-connection-client-2.17.257.jar,\",\r\n        f\"spark.sql.catalog.{REMOTE_CATALOG_NAME}\": \"org.apache.iceberg.spark.SparkCatalog\",\r\n        f\"spark.sql.catalog.{REMOTE_CATALOG_NAME}.warehouse\": f\"{bucket_root_path}/{purpose_name}/\",\r\n        f\"spark.sql.catalog.{REMOTE_CATALOG_NAME}.catalog-impl\": \"org.apache.iceberg.aws.glue.GlueCatalog\",\r\n        f\"spark.sql.catalog.{REMOTE_CATALOG_NAME}.io-impl\": \"org.apache.iceberg.aws.s3.S3FileIO\",\r\n        \"spark.sql.extensions\": \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\",\r\n        \"spark.sql.defaultCatalog\": REMOTE_CATALOG_NAME,\r\n\r\n```\r\n\r\nEdit: Removed the extensions jars, it was a legacy thing for debugging which is not actually added in the code that was shown. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329407033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329418892","html_url":"https://github.com/apache/iceberg/pull/6253#issuecomment-1329418892","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6253","id":1329418892,"node_id":"IC_kwDOCW7NX85PPVKM","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T16:47:56Z","updated_at":"2022-11-28T18:21:32Z","author_association":"CONTRIBUTOR","body":"there is a previous attempt on writing the watermark (data completeness) to the Iceberg table: https://github.com/apache/iceberg/pull/2109/files.\r\n\r\nLet me summarize the questions/points. Would be great to gather some inputs. @rdblue @pvary @dixingxing0 @zhangjun0x01 @liubo1022126 \r\n\r\n1. should we write the Flink watermark or use the min value of some timestamp column (typically associated with the time partitioned table)? it is easier to just write Flink watermark. but it might be more meaningful to use the timestamp column value as it is used for table partition. Is Flink watermark always based on the same timestamp column used for Iceberg table partition?\r\n2. should we write the metadata as snapshot summary or table properties? It is minimal change to write as snapshot summary as shown in this PR or PR #2109. It is a little bigger change (like using transaction) to write as a table property, but it will be easier for consumer to extract the info.\r\n3. we need to be able to support multiple Flink jobs (e.g. from multiple regions) writing to the same Iceberg table. \r\n4. it might be good to add an extra config to pull back the watermark by some threshold (e.g. -30 minutes) to give some extra buffer for indicating data completeness.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329418892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329422397","html_url":"https://github.com/apache/iceberg/issues/6266#issuecomment-1329422397","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6266","id":1329422397,"node_id":"IC_kwDOCW7NX85PPWA9","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T16:50:42Z","updated_at":"2022-11-28T16:50:42Z","author_association":"MEMBER","body":"In your config above it has the wrong runtime jar version, did you update this? That said the jar is most likely not on the classpath or possibly the jar with the correct name was not properly copied. Also do not include iceberg-spark-extensions, it should be already included and shaded in the runtime jar.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329422397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329430785","html_url":"https://github.com/apache/iceberg/pull/6253#issuecomment-1329430785","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6253","id":1329430785,"node_id":"IC_kwDOCW7NX85PPYEB","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T16:55:57Z","updated_at":"2022-11-28T16:55:57Z","author_association":"CONTRIBUTOR","body":"> If our community accepts this PR solution, I would like to do one more thing, which is to support time-based partition commit. In some scenarios, when a new partition is written, it is usually necessary to notify the downstream application. For example, When all the data for this partition is written, commit this partition to iceberg, just as flink does for [hive\\filesystem](https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/connectors/table/filesystem/#partition-commit). I once participated in the development of this part of Flink, and I hope to introduce it to iceberg sink. Because of iceberg's snapshot management feature, we may be able to do better than hive\\filesystem.\r\n\r\n> The current iceberg flink sink can only commit based on checkpoint. When the time-based commit is complete, it will provides a partition commit feature that allows configuring custom policies. Commit actions are based on a combination of triggers and policies.\r\n\r\n@hililiwei time-based partition commit seems quite complicated. trying to understand its value. With watermark info to mark the data completeness, downstream can decide which partition (hourly or daily) has the complete data and it is ok to trigger the processing of the completed hour or day. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329430785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329434903","html_url":"https://github.com/apache/iceberg/issues/6266#issuecomment-1329434903","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6266","id":1329434903,"node_id":"IC_kwDOCW7NX85PPZEX","user":{"login":"HannesDS","id":17456875,"node_id":"MDQ6VXNlcjE3NDU2ODc1","avatar_url":"https://avatars.githubusercontent.com/u/17456875?v=4","gravatar_id":"","url":"https://api.github.com/users/HannesDS","html_url":"https://github.com/HannesDS","followers_url":"https://api.github.com/users/HannesDS/followers","following_url":"https://api.github.com/users/HannesDS/following{/other_user}","gists_url":"https://api.github.com/users/HannesDS/gists{/gist_id}","starred_url":"https://api.github.com/users/HannesDS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HannesDS/subscriptions","organizations_url":"https://api.github.com/users/HannesDS/orgs","repos_url":"https://api.github.com/users/HannesDS/repos","events_url":"https://api.github.com/users/HannesDS/events{/privacy}","received_events_url":"https://api.github.com/users/HannesDS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T16:59:29Z","updated_at":"2022-11-28T17:05:07Z","author_association":"NONE","body":"Yes, so I updated back to the latest version. So I currently still have the same error and I am using: \r\n- Spark: 3.2.0\r\n- Iceberg: 1.0.0\r\nI also added the following lines to the spark config just to make sure I have the classpaths:\r\n```\r\n        \"spark.driver.extraClassPath\": \"/opt/spark/jars/*.jar\",\r\n        \"spark.executor.extraClassPath\": \"/opt/spark/jars/*.jar\",\r\n```\r\nBut this also didn't solve anything. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329434903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329517382","html_url":"https://github.com/apache/iceberg/pull/6175#issuecomment-1329517382","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6175","id":1329517382,"node_id":"IC_kwDOCW7NX85PPtNG","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T17:58:57Z","updated_at":"2022-11-28T17:59:15Z","author_association":"CONTRIBUTOR","body":"Sorry for the late reply. Thanks for the insights from @pvary @lirui-apache. Removing the cache isn't a solution since catalog  object is consistently created and thrown away. We can keep the catalog objects, which is a big change as @pvary mentioned. I'm OK with making the client pool cache pluggable. But the most important thing now is to have a reliable cache. We keep hitting the issues like cache keys are not distinguishable and other weird concurrent issue. \r\nWith that, +1 for this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329517382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329587833","html_url":"https://github.com/apache/iceberg/pull/6282#issuecomment-1329587833","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6282","id":1329587833,"node_id":"IC_kwDOCW7NX85PP-Z5","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T18:52:16Z","updated_at":"2022-11-28T18:52:16Z","author_association":"CONTRIBUTOR","body":"Something is off with the build, it seems that it also pulls in another dependency that breaks the build. Bumped PyArrow in: https://github.com/apache/iceberg/pull/6295","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329587833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329587885","html_url":"https://github.com/apache/iceberg/pull/6282#issuecomment-1329587885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6282","id":1329587885,"node_id":"IC_kwDOCW7NX85PP-at","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T18:52:19Z","updated_at":"2022-11-28T18:52:19Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329587885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329676627","html_url":"https://github.com/apache/iceberg/issues/5782#issuecomment-1329676627","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5782","id":1329676627,"node_id":"IC_kwDOCW7NX85PQUFT","user":{"login":"cccs-jc","id":56140112,"node_id":"MDQ6VXNlcjU2MTQwMTEy","avatar_url":"https://avatars.githubusercontent.com/u/56140112?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-jc","html_url":"https://github.com/cccs-jc","followers_url":"https://api.github.com/users/cccs-jc/followers","following_url":"https://api.github.com/users/cccs-jc/following{/other_user}","gists_url":"https://api.github.com/users/cccs-jc/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-jc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-jc/subscriptions","organizations_url":"https://api.github.com/users/cccs-jc/orgs","repos_url":"https://api.github.com/users/cccs-jc/repos","events_url":"https://api.github.com/users/cccs-jc/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-jc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T19:54:44Z","updated_at":"2022-11-28T19:54:44Z","author_association":"CONTRIBUTOR","body":"Ha I see. Thanks for looking into this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329676627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329680977","html_url":"https://github.com/apache/iceberg/pull/6300#issuecomment-1329680977","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6300","id":1329680977,"node_id":"IC_kwDOCW7NX85PQVJR","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T19:58:52Z","updated_at":"2022-11-28T19:58:52Z","author_association":"CONTRIBUTOR","body":"cc @kbendick @rdblue @RussellSpitzer @szehon-ho @flyrain @gaborkaszab @nastra","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329680977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329744323","html_url":"https://github.com/apache/iceberg/pull/6079#issuecomment-1329744323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6079","id":1329744323,"node_id":"IC_kwDOCW7NX85PQknD","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T20:48:09Z","updated_at":"2022-11-28T20:48:09Z","author_association":"CONTRIBUTOR","body":"Looks like fastavro is up-to-date now, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329744323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329759677","html_url":"https://github.com/apache/iceberg/pull/6301#issuecomment-1329759677","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6301","id":1329759677,"node_id":"IC_kwDOCW7NX85PQoW9","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T21:04:43Z","updated_at":"2022-11-28T21:04:43Z","author_association":"CONTRIBUTOR","body":"@abmo-x, the behavior you're describing doesn't sound correct. If you union two schemas together, any field not in both schemas should be optional. The only case where a field in a union result would not be optional is if both schemas have it as required, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329759677/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329760486","html_url":"https://github.com/apache/iceberg/pull/6259#issuecomment-1329760486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6259","id":1329760486,"node_id":"IC_kwDOCW7NX85PQojm","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T21:05:18Z","updated_at":"2022-11-28T21:05:18Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for reviewing, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329760486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329783777","html_url":"https://github.com/apache/iceberg/pull/6301#issuecomment-1329783777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6301","id":1329783777,"node_id":"IC_kwDOCW7NX85PQuPh","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T21:28:12Z","updated_at":"2022-11-28T21:29:35Z","author_association":"CONTRIBUTOR","body":"> The only case where a field in a union result would not be optional is if both schemas have it as required, right?\r\n\r\nIf that's the case (I think I kind of agree), looks like \"required\" new field cannot be added as required later in update-schema call given prior schema will always missing new filed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329783777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329806402","html_url":"https://github.com/apache/iceberg/issues/6198#issuecomment-1329806402","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6198","id":1329806402,"node_id":"IC_kwDOCW7NX85PQzxC","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T21:55:40Z","updated_at":"2022-11-28T21:55:40Z","author_association":"NONE","body":"@RussellSpitzer Its my mistake ... For some reason It appeared to me that lower/upper bounds data was either missing from manifest file for non partition cols and that manifest file was not filtering based on that..\r\nBut I was wrong.. I can see that bounds data is present in manifest files for non partition cols & InclusiveMetricsEvaluator is using that stats of manifest file to trim data files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329806402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329863109","html_url":"https://github.com/apache/iceberg/pull/6304#issuecomment-1329863109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6304","id":1329863109,"node_id":"IC_kwDOCW7NX85PRBnF","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T22:59:55Z","updated_at":"2022-11-28T22:59:55Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @szehon-ho @flyrain @stevenzwu @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329863109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329866356","html_url":"https://github.com/apache/iceberg/issues/6303#issuecomment-1329866356","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6303","id":1329866356,"node_id":"IC_kwDOCW7NX85PRCZ0","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T23:03:42Z","updated_at":"2022-11-28T23:03:42Z","author_association":"CONTRIBUTOR","body":"Created a new project as this is a relatively large scope overall: https://github.com/apache/iceberg/projects/27","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329866356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329908817","html_url":"https://github.com/apache/iceberg/issues/3650#issuecomment-1329908817","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3650","id":1329908817,"node_id":"IC_kwDOCW7NX85PRMxR","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T00:13:10Z","updated_at":"2022-11-29T00:13:10Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329908817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329933005","html_url":"https://github.com/apache/iceberg/issues/6302#issuecomment-1329933005","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6302","id":1329933005,"node_id":"IC_kwDOCW7NX85PRSrN","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T00:49:27Z","updated_at":"2022-11-29T00:49:27Z","author_association":"CONTRIBUTOR","body":"you can use register table functionality which basically just registers / add's your metadata.json pointer to your hive metastore.\r\n\r\nHere is a sample code (a UT) for migrating Hadoop Catalog to metastore backed tables \r\nhttps://github.com/apache/iceberg/blob/66fd615cd4cdab2ff76915dc5929d5c93705063e/hive-metastore/src/test/java/org/apache/iceberg/hive/HiveTableTest.java#L449-L500","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329933005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329935940","html_url":"https://github.com/apache/iceberg/pull/6301#issuecomment-1329935940","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6301","id":1329935940,"node_id":"IC_kwDOCW7NX85PRTZE","user":{"login":"abmo-x","id":69539469,"node_id":"MDQ6VXNlcjY5NTM5NDY5","avatar_url":"https://avatars.githubusercontent.com/u/69539469?v=4","gravatar_id":"","url":"https://api.github.com/users/abmo-x","html_url":"https://github.com/abmo-x","followers_url":"https://api.github.com/users/abmo-x/followers","following_url":"https://api.github.com/users/abmo-x/following{/other_user}","gists_url":"https://api.github.com/users/abmo-x/gists{/gist_id}","starred_url":"https://api.github.com/users/abmo-x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abmo-x/subscriptions","organizations_url":"https://api.github.com/users/abmo-x/orgs","repos_url":"https://api.github.com/users/abmo-x/repos","events_url":"https://api.github.com/users/abmo-x/events{/privacy}","received_events_url":"https://api.github.com/users/abmo-x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T00:54:15Z","updated_at":"2022-11-29T18:28:44Z","author_association":"CONTRIBUTOR","body":"> @abmo-x, the behavior you're describing doesn't sound correct. If you union two schemas together, any field not in both schemas should be optional. The only case where a field in a union result would not be optional is if both schemas have it as required, right?\r\n\r\nI agree that any field not in both should be optional. what's your suggestion when a user makes a incompatible change to their Avro schema `v2` by adding a required field and uses `table.updateSchema().unionByNameWith(v2)` to updated the table schema. In this case the field gets added as optional to the table where as the Avro schema has it as required. \r\n\r\n- should the update fail instead of adding the new required field as optional? \r\n- should `unionByNameWith` not be used by user and instead user should directly call `table.updateSchema().allowIncompatibleChanges().addRequiredColumn` by diffing the v1 vs v2 schema? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329935940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329940172","html_url":"https://github.com/apache/iceberg/issues/6269#issuecomment-1329940172","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6269","id":1329940172,"node_id":"IC_kwDOCW7NX85PRUbM","user":{"login":"MrDannyWu","id":19458048,"node_id":"MDQ6VXNlcjE5NDU4MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/19458048?v=4","gravatar_id":"","url":"https://api.github.com/users/MrDannyWu","html_url":"https://github.com/MrDannyWu","followers_url":"https://api.github.com/users/MrDannyWu/followers","following_url":"https://api.github.com/users/MrDannyWu/following{/other_user}","gists_url":"https://api.github.com/users/MrDannyWu/gists{/gist_id}","starred_url":"https://api.github.com/users/MrDannyWu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrDannyWu/subscriptions","organizations_url":"https://api.github.com/users/MrDannyWu/orgs","repos_url":"https://api.github.com/users/MrDannyWu/repos","events_url":"https://api.github.com/users/MrDannyWu/events{/privacy}","received_events_url":"https://api.github.com/users/MrDannyWu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T01:01:38Z","updated_at":"2022-11-29T01:01:38Z","author_association":"NONE","body":"Okay，thanks！\n\nOn Monday, November 28, 2022, Eduard Tudenhöfner ***@***.***>\nwrote:\n\n> Should we close this issue and track support for HDFS in a separate issue?\n> Alternatively we could rename this issue to indicate that we're adding\n> support for HDFS\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/6269#issuecomment-1329015959>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AEUOQAGCCDJJ7KNIQMPLINTWKSSHHANCNFSM6AAAAAASK7EQ2Q>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329940172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329965091","html_url":"https://github.com/apache/iceberg/issues/6269#issuecomment-1329965091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6269","id":1329965091,"node_id":"IC_kwDOCW7NX85PRagj","user":{"login":"MrDannyWu","id":19458048,"node_id":"MDQ6VXNlcjE5NDU4MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/19458048?v=4","gravatar_id":"","url":"https://api.github.com/users/MrDannyWu","html_url":"https://github.com/MrDannyWu","followers_url":"https://api.github.com/users/MrDannyWu/followers","following_url":"https://api.github.com/users/MrDannyWu/following{/other_user}","gists_url":"https://api.github.com/users/MrDannyWu/gists{/gist_id}","starred_url":"https://api.github.com/users/MrDannyWu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrDannyWu/subscriptions","organizations_url":"https://api.github.com/users/MrDannyWu/orgs","repos_url":"https://api.github.com/users/MrDannyWu/repos","events_url":"https://api.github.com/users/MrDannyWu/events{/privacy}","received_events_url":"https://api.github.com/users/MrDannyWu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T01:41:11Z","updated_at":"2022-11-29T01:41:11Z","author_association":"NONE","body":"Okay，thanks！Sent from my phone-------- Original message --------From: Eduard Tudenhöfner ***@***.***>Date: Mon, Nov 28, 2022, 20:43To: apache/iceberg ***@***.***>Cc: DannyWu ***@***.***>, Mention ***@***.***>Subject: Re: [apache/iceberg] I use pyiceberg to read the iceberg table based on the hdfs file system and an exception is thrown (Issue #6269)\r\nShould we close this issue and track support for HDFS in a separate issue? Alternatively we could rename this issue to indicate that we're adding support for HDFS\r\n\r\n—Reply to this email directly, view it on GitHub, or unsubscribe.You are receiving this because you were mentioned.Message ID: ***@***.***>","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1329965091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330000575","html_url":"https://github.com/apache/iceberg/pull/6253#issuecomment-1330000575","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6253","id":1330000575,"node_id":"IC_kwDOCW7NX85PRjK_","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T02:41:32Z","updated_at":"2022-11-29T02:41:32Z","author_association":"CONTRIBUTOR","body":"> @hililiwei time-based partition commit seems quite complicated. trying to understand its value. With watermark info to mark the data completeness, downstream can decide which partition (hourly or daily) has the complete data and it is ok to trigger the processing of the completed hour or day.\r\n\r\nHi @stevenzwu \r\n1. If time-based commit is supported, as long as the partition is visible, its data is ready. downstream applications can directly use incremental reads instead of round robin.\r\n2. In some scenarios, when the partition data is not completely written, we hope that downstream applications cannot see it. Watermarks alone are not friendly enough.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330000575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330005531","html_url":"https://github.com/apache/iceberg/issues/6194#issuecomment-1330005531","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6194","id":1330005531,"node_id":"IC_kwDOCW7NX85PRkYb","user":{"login":"0xffmeta","id":98149057,"node_id":"U_kgDOBdmiwQ","avatar_url":"https://avatars.githubusercontent.com/u/98149057?v=4","gravatar_id":"","url":"https://api.github.com/users/0xffmeta","html_url":"https://github.com/0xffmeta","followers_url":"https://api.github.com/users/0xffmeta/followers","following_url":"https://api.github.com/users/0xffmeta/following{/other_user}","gists_url":"https://api.github.com/users/0xffmeta/gists{/gist_id}","starred_url":"https://api.github.com/users/0xffmeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xffmeta/subscriptions","organizations_url":"https://api.github.com/users/0xffmeta/orgs","repos_url":"https://api.github.com/users/0xffmeta/repos","events_url":"https://api.github.com/users/0xffmeta/events{/privacy}","received_events_url":"https://api.github.com/users/0xffmeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T02:51:00Z","updated_at":"2022-11-29T02:51:00Z","author_association":"CONTRIBUTOR","body":"Many thanks @gaborkaszab for the information. So I think right now the proper way to check for the table's `format-version` is by checking the `.metadata.json` file?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330005531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330006258","html_url":"https://github.com/apache/iceberg/pull/6253#issuecomment-1330006258","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6253","id":1330006258,"node_id":"IC_kwDOCW7NX85PRkjy","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T02:52:34Z","updated_at":"2022-11-29T02:53:17Z","author_association":"CONTRIBUTOR","body":"> downstream applications can directly use incremental reads instead of round robin.\r\n\r\nWhat do you mean round robin?\r\n\r\n> as long as the partition is visible, its data is ready.\r\n\r\nHow could downstream consumers know when a new partition show up? \r\n\r\n> Watermarks alone are not friendly enough.\r\n\r\ncan you elaborate the differences btw watermark and new complete partition for downstream consumers?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330006258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330024532","html_url":"https://github.com/apache/iceberg/pull/6253#issuecomment-1330024532","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6253","id":1330024532,"node_id":"IC_kwDOCW7NX85PRpBU","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T03:22:20Z","updated_at":"2022-11-29T03:22:20Z","author_association":"CONTRIBUTOR","body":"Hi @stevenzwu \r\n\r\n> What do you mean round robin?\r\n\r\nI mean, downstream applications need to get the watermark of the table at intervals to determine whether to start processing. For example, get the latest watermark every five minutes.\r\n\r\n> How could downstream consumers know when a new partition show up?\r\n\r\nThe writer determines whether to commit new partitions to the table based on a combination of triggers and policies. Once a new partition is committed, it means that the writer considers the new partition's data ready. For details： \r\n https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/connectors/table/filesystem/#partition-commit.\r\n\r\nDownstream applications read tables using incremental read scan. When a new snapshot (including a new partition and data) is commited by the upstream, the downstream can get it.\r\n\r\n> can you elaborate the differences btw watermark and new complete partition for downstream consumers?\r\n\r\nTake a scenario in our current production as an example. When my table is partitioned by hour, if the data in [12:00,13:00) is not completely written, I do not want consumers to see it when querying the table. The query action may be an ad hoc query or a statistics task. I want to commit the snapshot after all the data in [12:00, 13:00) is written instead of commting the snapshot at each checkpoint.\r\n\r\nThx\r\nLiwei","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330024532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330119227","html_url":"https://github.com/apache/iceberg/pull/6296#issuecomment-1330119227","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6296","id":1330119227,"node_id":"IC_kwDOCW7NX85PSAI7","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T05:56:00Z","updated_at":"2022-11-29T05:56:12Z","author_association":"MEMBER","body":"> Minor suggestion on the branching structure, but this looks good to me\r\n\r\nFixed it. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330119227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330333600","html_url":"https://github.com/apache/iceberg/issues/6249#issuecomment-1330333600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6249","id":1330333600,"node_id":"IC_kwDOCW7NX85PS0eg","user":{"login":"InvisibleProgrammer","id":1486749,"node_id":"MDQ6VXNlcjE0ODY3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1486749?v=4","gravatar_id":"","url":"https://api.github.com/users/InvisibleProgrammer","html_url":"https://github.com/InvisibleProgrammer","followers_url":"https://api.github.com/users/InvisibleProgrammer/followers","following_url":"https://api.github.com/users/InvisibleProgrammer/following{/other_user}","gists_url":"https://api.github.com/users/InvisibleProgrammer/gists{/gist_id}","starred_url":"https://api.github.com/users/InvisibleProgrammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InvisibleProgrammer/subscriptions","organizations_url":"https://api.github.com/users/InvisibleProgrammer/orgs","repos_url":"https://api.github.com/users/InvisibleProgrammer/repos","events_url":"https://api.github.com/users/InvisibleProgrammer/events{/privacy}","received_events_url":"https://api.github.com/users/InvisibleProgrammer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T09:27:54Z","updated_at":"2022-11-29T09:27:54Z","author_association":"CONTRIBUTOR","body":"https://issues.apache.org/jira/browse/HIVE-26077 - Implement CTAS for Iceberg tables with partition spec - it is already docummented in the following commit: https://github.com/InvisibleProgrammer/iceberg/commit/6e0a952e6dd059e1b9273b3e7dc36ae00cea9671","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330333600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330360184","html_url":"https://github.com/apache/iceberg/issues/6290#issuecomment-1330360184","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6290","id":1330360184,"node_id":"IC_kwDOCW7NX85PS694","user":{"login":"brysd","id":43271703,"node_id":"MDQ6VXNlcjQzMjcxNzAz","avatar_url":"https://avatars.githubusercontent.com/u/43271703?v=4","gravatar_id":"","url":"https://api.github.com/users/brysd","html_url":"https://github.com/brysd","followers_url":"https://api.github.com/users/brysd/followers","following_url":"https://api.github.com/users/brysd/following{/other_user}","gists_url":"https://api.github.com/users/brysd/gists{/gist_id}","starred_url":"https://api.github.com/users/brysd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brysd/subscriptions","organizations_url":"https://api.github.com/users/brysd/orgs","repos_url":"https://api.github.com/users/brysd/repos","events_url":"https://api.github.com/users/brysd/events{/privacy}","received_events_url":"https://api.github.com/users/brysd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T09:49:39Z","updated_at":"2022-11-29T09:49:39Z","author_association":"NONE","body":"Hi, thanks for your feedback.\r\n\r\nmaybe I'm getting the use case wrong but the intention we have is to create iceberg tables dynamically where the 'user' of the application can configure the partition columns. But this could change of course and we'd like to change the partition columns. Maybe the 'user' also removes the partition columns from the configuration and hence the partition field needs to be dropped. \r\n\r\nSo we would use the `alter table ... replace partition field ... with ...`, `alter table ... drop partition field ... `, `alter table ... add partition field ...` spark sql statements for sure. However, to be able to dynamically generate these spark SQL statements in the code we need to know what the current partition columns actually are.\r\n\r\nSo e.g. suppose we have a table A with a column ts and we originally set the partition on months(ts). Someone changes the configuration to days(ts). We then want to generate a spark sql statement like 'alter table A replace partition field months(ts) with days(ts)'. This implies we know that the current partition field = months(ts) before we execute the alter statement. We don't know this anymore in our configuration since this has been overwritten. \r\nSo can we retrieve somehow the current partition field(s) definitions through Spark SQL or the python API? \r\n\r\nWe know we can use `select * from table A.partitions` to get the partition instances but it is not clear how we can 'derive' the actual partition fields. We can retrieve the spec_id through this table (partitions) but how can we then find the potential transform and table field on which partitioning was done so we can dynamically create the spark SQL alter statement?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330360184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330471975","html_url":"https://github.com/apache/iceberg/pull/6221#issuecomment-1330471975","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6221","id":1330471975,"node_id":"IC_kwDOCW7NX85PTWQn","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T11:18:24Z","updated_at":"2022-11-29T11:18:24Z","author_association":"MEMBER","body":"I just bumped into the same issue when I rebased my fork to 1.1.0 release tag. \r\nThis issue can be reproduced by changing these https://github.com/apache/iceberg/blob/master/build.gradle#L153-L154 to `11` instead of `1.8`\r\n\r\ncc: @rdblue, @Fokko, @nastra , @gaborkaszab \r\nI am not sure whether we need a new release just for this fix (1.1.1). I don't need a release immediately as I can cherry-pick this fix. \r\n\r\nBut we do need to merge this. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330471975/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330494784","html_url":"https://github.com/apache/iceberg/pull/6160#issuecomment-1330494784","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6160","id":1330494784,"node_id":"IC_kwDOCW7NX85PTb1A","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T11:38:39Z","updated_at":"2022-11-29T11:38:39Z","author_association":"CONTRIBUTOR","body":"@stevenzwu @openinx @rdblue @Fokko could you please take a look at it when you get a chance? thx.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330494784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330562655","html_url":"https://github.com/apache/iceberg/pull/6222#issuecomment-1330562655","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6222","id":1330562655,"node_id":"IC_kwDOCW7NX85PTsZf","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T12:31:27Z","updated_at":"2022-11-29T12:31:27Z","author_association":"CONTRIBUTOR","body":"also cc @pvary, thx.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330562655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330570824","html_url":"https://github.com/apache/iceberg/pull/6074#issuecomment-1330570824","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6074","id":1330570824,"node_id":"IC_kwDOCW7NX85PTuZI","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T12:34:58Z","updated_at":"2022-11-29T12:34:58Z","author_association":"COLLABORATOR","body":"@rdblue I saw you have touched this area a few times. Could you please take a look?\r\nThe motivation here was that in Impala we'd like to use SnapshotManager.rollback() in the same transaction with UpdateProperties (the reason is described in https://issues.apache.org/jira/browse/IMPALA-11508) but currently SnapshotManager hides the BaseTransaction it uses.\r\nI also thought that once SnapshotManager could be created through an external Transaction then the support for the internal one should be dropped but I guess that would break backward compatibility. Should we mark then that behavior deprecated and drop later?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330570824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330599222","html_url":"https://github.com/apache/iceberg/pull/6221#issuecomment-1330599222","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6221","id":1330599222,"node_id":"IC_kwDOCW7NX85PT1U2","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T12:45:05Z","updated_at":"2022-11-29T12:45:17Z","author_association":"MEMBER","body":"Surprisingly I didn't modify source and target compatibility in my code. (using default 1.8). But I still get this error only from my jenkins build (not from local builds). Might have to do with java version used in my jenkins build environment or a bug in new versions of error-prone (unlikely). I need to dig further on this. The same stuff was working with previous iceberg releases. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330599222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330830688","html_url":"https://github.com/apache/iceberg/issues/6290#issuecomment-1330830688","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6290","id":1330830688,"node_id":"IC_kwDOCW7NX85PUt1g","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T15:30:53Z","updated_at":"2022-11-29T15:30:53Z","author_association":"MEMBER","body":"Via sql you can see the current partitioning with \"describe table\", again this is really just the description of how new files will be added to the table, old partitioning still works even when the current spec changes.\r\n\r\n```scala\r\nscala> spark.sql(\"describe table parttruncate\").show\r\n+--------------+--------------+-------+\r\n|      col_name|     data_type|comment|\r\n+--------------+--------------+-------+\r\n|             x|           int|       |\r\n|             y|           int|       |\r\n|              |              |       |\r\n|# Partitioning|              |       |\r\n|        Part 0|truncate(x, 5)|       |\r\n+--------------+--------------+-------+\r\n```\r\n\r\nBut if I was doing something programattically I would probably use\r\n```scala\r\n\r\nscala> import org.apache.iceberg.spark.Spark3Util\r\nimport org.apache.iceberg.spark.Spark3Util\r\nscala> Spark3Util.loadIcebergTable(spark, \"parttruncate\").spec\r\nres17: org.apache.iceberg.PartitionSpec =\r\n[\r\n  1000: x_trunc: truncate[5](1)\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330830688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330841257","html_url":"https://github.com/apache/iceberg/issues/6194#issuecomment-1330841257","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6194","id":1330841257,"node_id":"IC_kwDOCW7NX85PUwap","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T15:38:27Z","updated_at":"2022-11-29T15:38:27Z","author_association":"COLLABORATOR","body":"This might depend on the client you use. Spark and Impala for sure gets the format-version from Iceberg metadata files (actually by using loadTable() API and the result holds this info) while until Hive fixes the ticket I attached they take this info from Hive Metastore.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330841257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330907397","html_url":"https://github.com/apache/iceberg/issues/6290#issuecomment-1330907397","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6290","id":1330907397,"node_id":"IC_kwDOCW7NX85PVAkF","user":{"login":"brysd","id":43271703,"node_id":"MDQ6VXNlcjQzMjcxNzAz","avatar_url":"https://avatars.githubusercontent.com/u/43271703?v=4","gravatar_id":"","url":"https://api.github.com/users/brysd","html_url":"https://github.com/brysd","followers_url":"https://api.github.com/users/brysd/followers","following_url":"https://api.github.com/users/brysd/following{/other_user}","gists_url":"https://api.github.com/users/brysd/gists{/gist_id}","starred_url":"https://api.github.com/users/brysd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brysd/subscriptions","organizations_url":"https://api.github.com/users/brysd/orgs","repos_url":"https://api.github.com/users/brysd/repos","events_url":"https://api.github.com/users/brysd/events{/privacy}","received_events_url":"https://api.github.com/users/brysd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T16:23:21Z","updated_at":"2022-11-29T16:23:21Z","author_association":"NONE","body":"@RussellSpitzer thanks for the suggestion. Describe will also fit for pyspark so will give it a try. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330907397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330958787","html_url":"https://github.com/apache/iceberg/pull/6300#issuecomment-1330958787","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6300","id":1330958787,"node_id":"IC_kwDOCW7NX85PVNHD","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T16:54:40Z","updated_at":"2022-11-29T16:54:40Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @nastra @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330958787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330988871","html_url":"https://github.com/apache/iceberg/pull/6309#issuecomment-1330988871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6309","id":1330988871,"node_id":"IC_kwDOCW7NX85PVUdH","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T17:08:35Z","updated_at":"2022-11-29T17:08:35Z","author_association":"CONTRIBUTOR","body":"cc @flyrain @RussellSpitzer @szehon-ho @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1330988871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331235100","html_url":"https://github.com/apache/iceberg/issues/4996#issuecomment-1331235100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4996","id":1331235100,"node_id":"IC_kwDOCW7NX85PWQkc","user":{"login":"humengyu2012","id":45056332,"node_id":"MDQ6VXNlcjQ1MDU2MzMy","avatar_url":"https://avatars.githubusercontent.com/u/45056332?v=4","gravatar_id":"","url":"https://api.github.com/users/humengyu2012","html_url":"https://github.com/humengyu2012","followers_url":"https://api.github.com/users/humengyu2012/followers","following_url":"https://api.github.com/users/humengyu2012/following{/other_user}","gists_url":"https://api.github.com/users/humengyu2012/gists{/gist_id}","starred_url":"https://api.github.com/users/humengyu2012/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/humengyu2012/subscriptions","organizations_url":"https://api.github.com/users/humengyu2012/orgs","repos_url":"https://api.github.com/users/humengyu2012/repos","events_url":"https://api.github.com/users/humengyu2012/events{/privacy}","received_events_url":"https://api.github.com/users/humengyu2012/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T20:07:44Z","updated_at":"2022-11-29T20:07:44Z","author_association":"NONE","body":"My iceberg version is 1.0.0, but the same problem occurs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331235100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331269677","html_url":"https://github.com/apache/iceberg/issues/6266#issuecomment-1331269677","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6266","id":1331269677,"node_id":"IC_kwDOCW7NX85PWZAt","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T20:38:37Z","updated_at":"2022-11-29T20:38:37Z","author_association":"MEMBER","body":"You should just check on the Spark UI, and see if the jars are actually listed in the Environment tab","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331269677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331469441","html_url":"https://github.com/apache/iceberg/pull/6304#issuecomment-1331469441","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6304","id":1331469441,"node_id":"IC_kwDOCW7NX85PXJyB","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T23:54:50Z","updated_at":"2022-11-29T23:54:50Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for reviewing, @stevenzwu @nastra @flyrain @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331469441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331475275","html_url":"https://github.com/apache/iceberg/issues/6312#issuecomment-1331475275","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6312","id":1331475275,"node_id":"IC_kwDOCW7NX85PXLNL","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:03:15Z","updated_at":"2022-11-30T00:03:15Z","author_association":"CONTRIBUTOR","body":"I work with @mas-chen on the same team. @pvary @rdblue @szehon-ho what do you think about adding Kerberos/auth support to Hive Catalog?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331475275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331482346","html_url":"https://github.com/apache/iceberg/issues/4948#issuecomment-1331482346","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4948","id":1331482346,"node_id":"IC_kwDOCW7NX85PXM7q","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:13:12Z","updated_at":"2022-11-30T00:13:12Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331482346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331482404","html_url":"https://github.com/apache/iceberg/issues/3747#issuecomment-1331482404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3747","id":1331482404,"node_id":"IC_kwDOCW7NX85PXM8k","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:13:17Z","updated_at":"2022-11-30T00:13:17Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331482404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331482421","html_url":"https://github.com/apache/iceberg/issues/3707#issuecomment-1331482421","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3707","id":1331482421,"node_id":"IC_kwDOCW7NX85PXM81","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:13:19Z","updated_at":"2022-11-30T00:13:19Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331482421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331485071","html_url":"https://github.com/apache/iceberg/pull/6305#issuecomment-1331485071","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6305","id":1331485071,"node_id":"IC_kwDOCW7NX85PXNmP","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:17:21Z","updated_at":"2022-11-30T00:17:21Z","author_association":"CONTRIBUTOR","body":"this looks good to me. but let's wait for more reviews","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331485071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331505054","html_url":"https://github.com/apache/iceberg/pull/6168#issuecomment-1331505054","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6168","id":1331505054,"node_id":"IC_kwDOCW7NX85PXSee","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:51:16Z","updated_at":"2022-11-30T00:51:16Z","author_association":"CONTRIBUTOR","body":"Overall this looks fine. I just wanted a quick clarification on the `JacksonException` changes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331505054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331507498","html_url":"https://github.com/apache/iceberg/pull/6217#issuecomment-1331507498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6217","id":1331507498,"node_id":"IC_kwDOCW7NX85PXTEq","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:55:59Z","updated_at":"2022-11-30T00:55:59Z","author_association":"CONTRIBUTOR","body":"Thanks @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331507498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331526303","html_url":"https://github.com/apache/iceberg/pull/5967#issuecomment-1331526303","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5967","id":1331526303,"node_id":"IC_kwDOCW7NX85PXXqf","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T01:22:53Z","updated_at":"2022-11-30T01:26:24Z","author_association":"CONTRIBUTOR","body":"@hililiwei I understand the motivation of this change. I have two questions. It will be great to get inputs from @rdblue and @chenjunjiedada on these two questions too.\r\n\r\n1.  When `streaming=true` is set in the SQL hint options per Iceberg source, there is no ambiguity. But if `streaming=true` is set in Flink Configuration via table environment, it can be ambiguous due to the lack of prefix. if there is a naming collision with other Flink configuration, does it mean the Flink job execution mode (streaming vs  batch) or the Iceberg source config (streaming vs batch)?  This is already a problem with `FlinkWriteConf`. I wish we have enforced prefix(like `connector.iceberg.`) for configs coming from Flink environment. For configs coming from table properties or Iceberg source hint options, there are no worry about collision and ambiguity and hence prefixes are not required.\r\n\r\n2. some of the read configs don't make sense to set in table environment configs, as they are tied to a specific source/table. How should handle this situation?\r\n\r\n```\r\npublic static final ConfigOption<Long> SNAPSHOT_ID =\r\n      ConfigOptions.key(\"snapshot-id\").longType().defaultValue(null);\r\n\r\n  public static final ConfigOption<Long> START_SNAPSHOT_ID =\r\n      ConfigOptions.key(\"start-snapshot-id\").longType().defaultValue(null);\r\n\r\n  public static final ConfigOption<Long> END_SNAPSHOT_ID =\r\n      ConfigOptions.key(\"end-snapshot-id\").longType().defaultValue(null);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331526303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331528398","html_url":"https://github.com/apache/iceberg/issues/6194#issuecomment-1331528398","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6194","id":1331528398,"node_id":"IC_kwDOCW7NX85PXYLO","user":{"login":"0xffmeta","id":98149057,"node_id":"U_kgDOBdmiwQ","avatar_url":"https://avatars.githubusercontent.com/u/98149057?v=4","gravatar_id":"","url":"https://api.github.com/users/0xffmeta","html_url":"https://github.com/0xffmeta","followers_url":"https://api.github.com/users/0xffmeta/followers","following_url":"https://api.github.com/users/0xffmeta/following{/other_user}","gists_url":"https://api.github.com/users/0xffmeta/gists{/gist_id}","starred_url":"https://api.github.com/users/0xffmeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xffmeta/subscriptions","organizations_url":"https://api.github.com/users/0xffmeta/orgs","repos_url":"https://api.github.com/users/0xffmeta/repos","events_url":"https://api.github.com/users/0xffmeta/events{/privacy}","received_events_url":"https://api.github.com/users/0xffmeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T01:25:54Z","updated_at":"2022-11-30T01:25:54Z","author_association":"CONTRIBUTOR","body":"Understood. Thanks for the explanation. @gaborkaszab ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331528398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331533750","html_url":"https://github.com/apache/iceberg/pull/6296#issuecomment-1331533750","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6296","id":1331533750,"node_id":"IC_kwDOCW7NX85PXZe2","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T01:34:43Z","updated_at":"2022-11-30T01:34:43Z","author_association":"MEMBER","body":"@RussellSpitzer: Can you please take a look at it again and help in merging the PR? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331533750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331557731","html_url":"https://github.com/apache/iceberg/issues/6307#issuecomment-1331557731","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6307","id":1331557731,"node_id":"IC_kwDOCW7NX85PXfVj","user":{"login":"luoyuxia","id":20389154,"node_id":"MDQ6VXNlcjIwMzg5MTU0","avatar_url":"https://avatars.githubusercontent.com/u/20389154?v=4","gravatar_id":"","url":"https://api.github.com/users/luoyuxia","html_url":"https://github.com/luoyuxia","followers_url":"https://api.github.com/users/luoyuxia/followers","following_url":"https://api.github.com/users/luoyuxia/following{/other_user}","gists_url":"https://api.github.com/users/luoyuxia/gists{/gist_id}","starred_url":"https://api.github.com/users/luoyuxia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luoyuxia/subscriptions","organizations_url":"https://api.github.com/users/luoyuxia/orgs","repos_url":"https://api.github.com/users/luoyuxia/repos","events_url":"https://api.github.com/users/luoyuxia/events{/privacy}","received_events_url":"https://api.github.com/users/luoyuxia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T02:12:59Z","updated_at":"2022-11-30T02:12:59Z","author_association":"NONE","body":"IIUC, for v2, if it contains delte files, it will read the records to memory to apply the deleta data, which may well OOM.\r\nFould #2680 which try to keep them in disk.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331557731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331564600","html_url":"https://github.com/apache/iceberg/pull/6313#issuecomment-1331564600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6313","id":1331564600,"node_id":"IC_kwDOCW7NX85PXhA4","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T02:25:27Z","updated_at":"2022-11-30T02:25:27Z","author_association":"COLLABORATOR","body":"@stevenzwu @hililiwei You guys may have an interest in this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331564600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331571458","html_url":"https://github.com/apache/iceberg/issues/6307#issuecomment-1331571458","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6307","id":1331571458,"node_id":"IC_kwDOCW7NX85PXisC","user":{"login":"SHuixo","id":20868410,"node_id":"MDQ6VXNlcjIwODY4NDEw","avatar_url":"https://avatars.githubusercontent.com/u/20868410?v=4","gravatar_id":"","url":"https://api.github.com/users/SHuixo","html_url":"https://github.com/SHuixo","followers_url":"https://api.github.com/users/SHuixo/followers","following_url":"https://api.github.com/users/SHuixo/following{/other_user}","gists_url":"https://api.github.com/users/SHuixo/gists{/gist_id}","starred_url":"https://api.github.com/users/SHuixo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SHuixo/subscriptions","organizations_url":"https://api.github.com/users/SHuixo/orgs","repos_url":"https://api.github.com/users/SHuixo/repos","events_url":"https://api.github.com/users/SHuixo/events{/privacy}","received_events_url":"https://api.github.com/users/SHuixo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T02:38:22Z","updated_at":"2022-11-30T02:38:22Z","author_association":"NONE","body":"Think you @luoyuxia for your reply.\r\n\r\nThe root cause of this problem is the same as the **data compression** in v2 table, and I began to speculate that it was caused by other reasons. \r\n\r\n> Fould #2680 which try to keep them in disk.\r\n\r\nIn that case, I'll wait until the new features are merged before testing.\r\n\r\nthanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331571458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331577709","html_url":"https://github.com/apache/iceberg/pull/5824#issuecomment-1331577709","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5824","id":1331577709,"node_id":"IC_kwDOCW7NX85PXkNt","user":{"login":"linfey90","id":12129761,"node_id":"MDQ6VXNlcjEyMTI5NzYx","avatar_url":"https://avatars.githubusercontent.com/u/12129761?v=4","gravatar_id":"","url":"https://api.github.com/users/linfey90","html_url":"https://github.com/linfey90","followers_url":"https://api.github.com/users/linfey90/followers","following_url":"https://api.github.com/users/linfey90/following{/other_user}","gists_url":"https://api.github.com/users/linfey90/gists{/gist_id}","starred_url":"https://api.github.com/users/linfey90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linfey90/subscriptions","organizations_url":"https://api.github.com/users/linfey90/orgs","repos_url":"https://api.github.com/users/linfey90/repos","events_url":"https://api.github.com/users/linfey90/events{/privacy}","received_events_url":"https://api.github.com/users/linfey90/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T02:49:42Z","updated_at":"2022-11-30T02:49:42Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nyes,that's right.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331577709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331642092","html_url":"https://github.com/apache/iceberg/issues/5625#issuecomment-1331642092","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5625","id":1331642092,"node_id":"IC_kwDOCW7NX85PXz7s","user":{"login":"tvamsikalyan","id":3232184,"node_id":"MDQ6VXNlcjMyMzIxODQ=","avatar_url":"https://avatars.githubusercontent.com/u/3232184?v=4","gravatar_id":"","url":"https://api.github.com/users/tvamsikalyan","html_url":"https://github.com/tvamsikalyan","followers_url":"https://api.github.com/users/tvamsikalyan/followers","following_url":"https://api.github.com/users/tvamsikalyan/following{/other_user}","gists_url":"https://api.github.com/users/tvamsikalyan/gists{/gist_id}","starred_url":"https://api.github.com/users/tvamsikalyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvamsikalyan/subscriptions","organizations_url":"https://api.github.com/users/tvamsikalyan/orgs","repos_url":"https://api.github.com/users/tvamsikalyan/repos","events_url":"https://api.github.com/users/tvamsikalyan/events{/privacy}","received_events_url":"https://api.github.com/users/tvamsikalyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T04:54:10Z","updated_at":"2022-11-30T04:54:38Z","author_association":"NONE","body":"one workaround to avoid the problematic code is to set option **use-table-distribution-and-ordering** to **false**.\r\nFor example following worked with above repro steps:\r\n\r\ndf.writeStream \\\r\n.format(\"iceberg\") \\\r\n.outputMode(\"append\") \\\r\n.trigger(processingTime='5 seconds') \\\r\n.option(\"path\", \"local.db.table\") \\\r\n.option(\"checkpointLocation\", \"/tmp/warehouse/checkpoints\") \\\r\n.option(\"use-table-distribution-and-ordering\", \"false\") \\\r\n.start()","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331642092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331642485","html_url":"https://github.com/apache/iceberg/pull/6309#issuecomment-1331642485","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6309","id":1331642485,"node_id":"IC_kwDOCW7NX85PX0B1","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T04:54:58Z","updated_at":"2022-11-30T04:54:58Z","author_association":"CONTRIBUTOR","body":"Let me actually take a step back and see if we can have some reasonable type boundaries.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331642485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331699444","html_url":"https://github.com/apache/iceberg/issues/2825#issuecomment-1331699444","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2825","id":1331699444,"node_id":"IC_kwDOCW7NX85PYB70","user":{"login":"luxl6","id":101870212,"node_id":"U_kgDOBhJqhA","avatar_url":"https://avatars.githubusercontent.com/u/101870212?v=4","gravatar_id":"","url":"https://api.github.com/users/luxl6","html_url":"https://github.com/luxl6","followers_url":"https://api.github.com/users/luxl6/followers","following_url":"https://api.github.com/users/luxl6/following{/other_user}","gists_url":"https://api.github.com/users/luxl6/gists{/gist_id}","starred_url":"https://api.github.com/users/luxl6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luxl6/subscriptions","organizations_url":"https://api.github.com/users/luxl6/orgs","repos_url":"https://api.github.com/users/luxl6/repos","events_url":"https://api.github.com/users/luxl6/events{/privacy}","received_events_url":"https://api.github.com/users/luxl6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T06:27:42Z","updated_at":"2022-11-30T06:27:42Z","author_association":"NONE","body":"[ERROR] Could not execute SQL statement. Reason:\r\njava.lang.UnsupportedOperationException: Cannot create namespace icebergcat_flink: createNamespace is not supported\r\n我也遇到了这个错\r\nCREATE CATALOG my_catalog_2 WITH (\r\n> 'type'='iceberg',\r\n> 'catalog-impl'='org.apache.iceberg.jdbc.JdbcCatalog',\r\n> 'default-database'='icebergcat_flink',\r\n> 'uri'='jdbc:postgresql://ip:5432/icebergcat_flink',\r\n> 'user'='postgres',\r\n> 'password'='postgres',\r\n> 'warehouse'='s3://iceberg/',\r\n> 's3.endpoint'='http://ip:9000',\r\n> 's3.access.key'='minioadmin',\r\n> 's3.secret.key'='minioadmin',\r\n> 'io-impl'='org.apache.iceberg.aws.s3.S3FileIO',\r\n> 'property-version'='1'\r\n> );\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331699444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331727558","html_url":"https://github.com/apache/iceberg/issues/5977#issuecomment-1331727558","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5977","id":1331727558,"node_id":"IC_kwDOCW7NX85PYIzG","user":{"login":"Neuw84","id":5920770,"node_id":"MDQ6VXNlcjU5MjA3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/5920770?v=4","gravatar_id":"","url":"https://api.github.com/users/Neuw84","html_url":"https://github.com/Neuw84","followers_url":"https://api.github.com/users/Neuw84/followers","following_url":"https://api.github.com/users/Neuw84/following{/other_user}","gists_url":"https://api.github.com/users/Neuw84/gists{/gist_id}","starred_url":"https://api.github.com/users/Neuw84/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Neuw84/subscriptions","organizations_url":"https://api.github.com/users/Neuw84/orgs","repos_url":"https://api.github.com/users/Neuw84/repos","events_url":"https://api.github.com/users/Neuw84/events{/privacy}","received_events_url":"https://api.github.com/users/Neuw84/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T07:08:24Z","updated_at":"2022-11-30T07:08:24Z","author_association":"CONTRIBUTOR","body":"Hi, \r\n\r\nAny hints of this? Stuck on same problem! \r\n\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331727558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331740356","html_url":"https://github.com/apache/iceberg/issues/6266#issuecomment-1331740356","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6266","id":1331740356,"node_id":"IC_kwDOCW7NX85PYL7E","user":{"login":"HannesDS","id":17456875,"node_id":"MDQ6VXNlcjE3NDU2ODc1","avatar_url":"https://avatars.githubusercontent.com/u/17456875?v=4","gravatar_id":"","url":"https://api.github.com/users/HannesDS","html_url":"https://github.com/HannesDS","followers_url":"https://api.github.com/users/HannesDS/followers","following_url":"https://api.github.com/users/HannesDS/following{/other_user}","gists_url":"https://api.github.com/users/HannesDS/gists{/gist_id}","starred_url":"https://api.github.com/users/HannesDS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HannesDS/subscriptions","organizations_url":"https://api.github.com/users/HannesDS/orgs","repos_url":"https://api.github.com/users/HannesDS/repos","events_url":"https://api.github.com/users/HannesDS/events{/privacy}","received_events_url":"https://api.github.com/users/HannesDS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T07:22:27Z","updated_at":"2022-11-30T07:22:27Z","author_association":"NONE","body":"@RussellSpitzer  I did, and I saw they were there, only once, and thus no different versions. I did use the same docker and envirnment for a batch job, and it is not working either. So I must be doing something wrong or different. When I find something I will update. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331740356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331756830","html_url":"https://github.com/apache/iceberg/issues/6312#issuecomment-1331756830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6312","id":1331756830,"node_id":"IC_kwDOCW7NX85PYP8e","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T07:43:45Z","updated_at":"2022-11-30T07:51:40Z","author_association":"CONTRIBUTOR","body":"RetryingMetaStoreClient should take care of refreshing, or `reloginExpiringKeytabUser`. See: https://github.com/apache/hive/blob/master/standalone-metastore/metastore-common/src/main/java/org/apache/hadoop/hive/metastore/RetryingMetaStoreClient.java#L180\r\n\r\nAlso there is an ongoing effort to use `DelegationToken`-s for Flink which would affect Hive as well in the long run. @gaborgsomogyi knows more about this effort.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331756830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331761768","html_url":"https://github.com/apache/iceberg/issues/6312#issuecomment-1331761768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6312","id":1331761768,"node_id":"IC_kwDOCW7NX85PYRJo","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T07:49:43Z","updated_at":"2022-11-30T07:49:43Z","author_association":"NONE","body":"One just needs to implement a [delegation token provider](https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/security/token/HadoopDelegationTokenProvider.java) for Hive and all done. This popped up already in the Flink community so sooner or later it will happen. There is already such provider in Spark...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331761768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331776759","html_url":"https://github.com/apache/iceberg/issues/6312#issuecomment-1331776759","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6312","id":1331776759,"node_id":"IC_kwDOCW7NX85PYUz3","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T08:05:53Z","updated_at":"2022-11-30T08:05:53Z","author_association":"NONE","body":"Just to be crystal clear I see no reason to solve Kerberos authentication in Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331776759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331815434","html_url":"https://github.com/apache/iceberg/pull/6314#issuecomment-1331815434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6314","id":1331815434,"node_id":"IC_kwDOCW7NX85PYeQK","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T08:43:30Z","updated_at":"2022-11-30T08:43:30Z","author_association":"COLLABORATOR","body":"LGTM, makes sense!\r\n\r\nI tried to create a milestone for 1.3 to include deprecating TableProperties.HMS_TABLE_OWNER so that we won't forget, but I haven't found a way to create that milestone (I guess I lack permissions). I created the issue though, to drop this field. @Fokko could you please take a look if you can create that milestone?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1331815434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]