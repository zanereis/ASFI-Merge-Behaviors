[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649068099","html_url":"https://github.com/apache/pinot/pull/5573#issuecomment-649068099","issue_url":"https://api.github.com/repos/apache/pinot/issues/5573","id":649068099,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTA2ODA5OQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T20:58:54Z","updated_at":"2020-06-24T20:58:54Z","author_association":"CONTRIBUTOR","body":"Can we take the conversation to the Issue instead of this PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649068099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649084769","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-649084769","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":649084769,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTA4NDc2OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T21:33:21Z","updated_at":"2020-06-24T21:33:21Z","author_association":"CONTRIBUTOR","body":"Replace BrokerRequest in functions: #5613 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649084769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649096775","html_url":"https://github.com/apache/pinot/pull/5613#issuecomment-649096775","issue_url":"https://api.github.com/repos/apache/pinot/issues/5613","id":649096775,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTA5Njc3NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T22:02:46Z","updated_at":"2020-06-24T22:02:46Z","author_association":"CONTRIBUTOR","body":"@mayankshriv Can you please review the change in `DistinctCountThetaSketchAggregationFunction`?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649096775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649098852","html_url":"https://github.com/apache/pinot/issues/5588#issuecomment-649098852","issue_url":"https://api.github.com/repos/apache/pinot/issues/5588","id":649098852,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTA5ODg1Mg==","user":{"login":"jgutmann","id":2274588,"node_id":"MDQ6VXNlcjIyNzQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/2274588?v=4","gravatar_id":"","url":"https://api.github.com/users/jgutmann","html_url":"https://github.com/jgutmann","followers_url":"https://api.github.com/users/jgutmann/followers","following_url":"https://api.github.com/users/jgutmann/following{/other_user}","gists_url":"https://api.github.com/users/jgutmann/gists{/gist_id}","starred_url":"https://api.github.com/users/jgutmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgutmann/subscriptions","organizations_url":"https://api.github.com/users/jgutmann/orgs","repos_url":"https://api.github.com/users/jgutmann/repos","events_url":"https://api.github.com/users/jgutmann/events{/privacy}","received_events_url":"https://api.github.com/users/jgutmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T22:08:07Z","updated_at":"2020-06-24T22:08:07Z","author_association":"CONTRIBUTOR","body":"+1 On what @mcvsubbu stated above, after going through and using the tool myself, here's some additional thoughts\r\n\r\n\r\n\r\n1. It might be interesting if we could point the tool at a stream and the tool could consume its own segment from the stream. \r\n\r\nIf the table config contains the stream configs then it should be able to use these to start up a pinot-server instance and consume. (Perhaps this is harder than I estimate though) \r\n\r\nOne caveat here is that it traffic on the stream might vary, so consuming starting from the highest offset might not give reliable results (ie - consuming only as it become available). What happens if we are running the tool with this \"live consumption\" feature during a period where the event stream has abnormally low traffic, the estimation wouldn't be representative. \r\n\r\nIf we could consume from the smallest offset (ie - consume historical data), we could see how it would perform over a longer sample period and gather more data. Additionally, this method would allow the tool to be run now and process the historical data rather than having it consume for a few hours to get enough \"new\" events (as in consuming from largest)\r\n\r\n\r\n\r\n2. What if we could build some kind of recommendation engine into pinot-server itself? \r\n\r\nWe could create the table in pinot-server using \"off-the-shelf\" default options. Every so often (few hours, at segment close, etc) pinot-server could analyze itself and then output a matrix similar to what this tool outputs, in the current logs, create a new log, something. Operationally, this would allow us to create a table, then come back after a day or two to check the logs and have a recommendation waiting for us. \r\n\r\nThis could open up potentially expanding the auto-tuning functionality. Pinot would be able to know how many instances are present and auto tune for that instance count. If we could output a metric to act on if we are not in an \"optimal zone\" for that number of segments, we could act on this metric with auto-scaling the number of instances up or down. By scaling instances up or down the segment sizing could auto-tune to adapt to the new instance count (perhaps this is a cluster level config to enable this feature)\r\n\r\n\r\n\r\n3. Give better command line options for making the tool more intuitive. \r\n\r\nWhen using an offline segment for estimation, this was kind of clunky - Specify the segment, then figure out the number of rows in the segment, divide by the event rate, specify the result of this division as the time period for the segment. \r\n\r\nWe could potentially specify we are passing an offline segment, also allowing the \"Average Event Rate\" to be passed as an argument might simplify manual steps for the user. (Reduces the level of understanding needed and misc math to be done when figuring out what the arguments should be) \r\n\r\nIdeally I should be able to not know much about how the tool works, and just pass some trivial arguments (IE, here's a segment and X) then it can interpolate needed data from there. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649098852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649135641","html_url":"https://github.com/apache/pinot/pull/5573#issuecomment-649135641","issue_url":"https://api.github.com/repos/apache/pinot/issues/5573","id":649135641,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTEzNTY0MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T23:59:42Z","updated_at":"2020-06-24T23:59:42Z","author_association":"CONTRIBUTOR","body":"@kishoreg  we cannot invoke validation manager unless we get to the lead controller for that particular table. With controller separation using helix controller management, all controllers take part in valdation. etc.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649135641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649160749","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-649160749","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":649160749,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTE2MDc0OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T01:32:57Z","updated_at":"2020-06-25T01:32:57Z","author_association":"CONTRIBUTOR","body":"I would recommend putting this under the `SegmentsValidationAndRetentionConfig` instead of creating another top level config.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649160749/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649170270","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-649170270","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":649170270,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTE3MDI3MA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T02:07:29Z","updated_at":"2020-06-25T02:07:29Z","author_association":"MEMBER","body":"@mcvsubbu Pinot admin commands are simply wrappers on pinot controller admin API's right. \r\n\r\nWe can disable a table first and then truncate it. This is a useful command and let's not worry too much about all the corner cases. when someone is doing a truncate, they don't really care about the data. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649170270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649297961","html_url":"https://github.com/apache/pinot/pull/5619#issuecomment-649297961","issue_url":"https://api.github.com/repos/apache/pinot/issues/5619","id":649297961,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTI5Nzk2MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T07:18:07Z","updated_at":"2020-06-25T07:18:07Z","author_association":"MEMBER","body":"Amazing work!\r\n\r\nWe definitely need a backward compatibility test for segments.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649297961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649298700","html_url":"https://github.com/apache/pinot/pull/5619#issuecomment-649298700","issue_url":"https://api.github.com/repos/apache/pinot/issues/5619","id":649298700,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTI5ODcwMA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T07:18:53Z","updated_at":"2020-06-25T07:18:53Z","author_association":"MEMBER","body":"can you check in a small segment file from 0.3.0 and add a test case on top of that?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649298700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649302759","html_url":"https://github.com/apache/pinot/pull/5619#issuecomment-649302759","issue_url":"https://api.github.com/repos/apache/pinot/issues/5619","id":649302759,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTMwMjc1OQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T07:23:09Z","updated_at":"2020-06-25T07:23:09Z","author_association":"CONTRIBUTOR","body":"> Amazing work!\r\n> \r\n> We definitely need a backward compatibility test for segments.\r\n\r\n@kishoreg , there is no backward incompatibility here. The PR  https://github.com/apache/incubator-pinot/pull/5510 actually results in double memory allocation (as explained above in the description)\r\n\r\nW.r.t tests for backward compatibility of raw index reader writer, we already have them. There are files checked in from prior versions to ensure current readers can read old versions. We have them for both compressed and uncompressed. I recently added more tests too. See VarByteChunkSingleValueWriterTest.java","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649302759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649634794","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-649634794","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":649634794,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTYzNDc5NA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T15:44:02Z","updated_at":"2020-06-25T15:44:02Z","author_association":"CONTRIBUTOR","body":"@kishoreg Maybe you forget, :) but I know how hard it was to detect (let alone debug) the phenomena of two consuming segments for the same partition in the same replica. \r\n\r\nYes, this is a corner case, but when an issue is reported, we need to debug it. If it was hard when we had all the machines and logs at hand and could look at zookpeer logs at will, imagine doing it remotely when some open source user reports a problem when we can't even GUESS that there are parallel consuming segments.\r\n\r\nWe added plenty of comments and put the logic in one class so that we don't stumble on such things again.\r\n\r\nhttps://github.com/apache/incubator-pinot/blob/master/pinot-controller/src/main/java/org/apache/pinot/controller/helix/core/realtime/PinotLLCRealtimeSegmentManager.java#L665\r\n\r\nhttps://github.com/apache/incubator-pinot/blob/master/pinot-controller/src/main/java/org/apache/pinot/controller/helix/core/realtime/PinotLLCRealtimeSegmentManager.java#L715\r\n\r\nhttps://github.com/apache/incubator-pinot/blob/master/pinot-controller/src/main/java/org/apache/pinot/controller/helix/core/realtime/PinotLLCRealtimeSegmentManager.java#L754\r\n\r\nWe make a strong assumption here that there are only two threads in the entire cluster that create segments. By starting a new validation manager, we violate that assumption.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649634794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649646334","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-649646334","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":649646334,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTY0NjMzNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T15:58:54Z","updated_at":"2020-06-25T15:58:54Z","author_association":"MEMBER","body":"whats the fix?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649646334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649648808","html_url":"https://github.com/apache/pinot/issues/5616#issuecomment-649648808","issue_url":"https://api.github.com/repos/apache/pinot/issues/5616","id":649648808,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTY0ODgwOA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T16:00:50Z","updated_at":"2020-06-25T16:00:50Z","author_association":"MEMBER","body":"@KKcorps can you please take this up.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649648808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649658904","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-649658904","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":649658904,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTY1ODkwNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T16:06:36Z","updated_at":"2020-06-25T16:06:36Z","author_association":"MEMBER","body":"@fx19880617 any changes to the way we start k8s containers?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649658904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649672637","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-649672637","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":649672637,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTY3MjYzNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T16:23:54Z","updated_at":"2020-06-25T16:23:54Z","author_association":"CONTRIBUTOR","body":"> whats the fix?\r\n\r\nGood question. I don't have an answer at the moment.  As a reviewer, the best I can do (and sometimes it is not possible either) to look at problems it may bring about. \r\n\r\nKeeping the truncate facility as a command line argument will help, because we will NOT be running validation manager, etc. We can check things all we want, report error to the user, user can run it again, etc. Why can't we do that ? \r\n\r\nProviding primitive APIs, and command lines on top of that is a good practice for most things, especially this one.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649672637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649709062","html_url":"https://github.com/apache/pinot/pull/5608#issuecomment-649709062","issue_url":"https://api.github.com/repos/apache/pinot/issues/5608","id":649709062,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTcwOTA2Mg==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T17:11:31Z","updated_at":"2020-06-25T17:11:31Z","author_association":"CONTRIBUTOR","body":"I might actually include a Property builder to offer a fluid DSL to define base properties injected in `PinotConfiguration`.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649709062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649730750","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-649730750","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":649730750,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTczMDc1MA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T17:54:59Z","updated_at":"2020-06-25T17:55:55Z","author_association":"CONTRIBUTOR","body":"> @npawar should the new crypter class name go into ingestion config (because this is related to ingestion)? Or, as @Jackie-Jiang recommends, in the segment validation and retention?\r\n\r\nI think SegmentSConfig is a better place than ingestionConfig. This is more like a segment property than a \"how to ingest\" property.\r\nIt definitely shouldn't be a top level property","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649730750/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649732673","html_url":"https://github.com/apache/pinot/pull/5619#issuecomment-649732673","issue_url":"https://api.github.com/repos/apache/pinot/issues/5619","id":649732673,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTczMjY3Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T17:59:21Z","updated_at":"2020-06-25T17:59:21Z","author_association":"MEMBER","body":"> > Amazing work!\r\n> > We definitely need a backward compatibility test for segments.\r\n> \r\n> @kishoreg , there is no backward incompatibility here. The PR #5510 actually results in double memory allocation (as explained above in the description)\r\n> \r\n> W.r.t tests for backward compatibility of raw index reader writer, we already have them. There are files checked in from prior versions to ensure current readers can read old versions. We have them for both compressed and uncompressed. I recently added more tests too. See VarByteChunkSingleValueWriterTest.java\r\n\r\nGot it. I thought there was something wrong with the metadata in the segment header.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649732673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649736123","html_url":"https://github.com/apache/pinot/pull/5619#issuecomment-649736123","issue_url":"https://api.github.com/repos/apache/pinot/issues/5619","id":649736123,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTczNjEyMw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T18:06:57Z","updated_at":"2020-06-25T18:06:57Z","author_association":"CONTRIBUTOR","body":"Good finding!\r\nIn order to fix this, I would recommend replacing `_dataBlockMap` with `Map<String, DataSourceMetadata>` or Map<String, FieldSpec>`. Setting blocks in operator constructor is not correct.\r\n\r\nBesides, the real root cause of this issue is allocating direct memory within reader context without freeing it explicitly. There is no guarantee when the direct memory can be released. We need to figure out a way to free the memory explicitly.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649736123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649749099","html_url":"https://github.com/apache/pinot/issues/5620#issuecomment-649749099","issue_url":"https://api.github.com/repos/apache/pinot/issues/5620","id":649749099,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTc0OTA5OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T18:35:08Z","updated_at":"2020-06-25T18:35:08Z","author_association":"MEMBER","body":"why is this needed?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649749099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649756211","html_url":"https://github.com/apache/pinot/issues/5620#issuecomment-649756211","issue_url":"https://api.github.com/repos/apache/pinot/issues/5620","id":649756211,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTc1NjIxMQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T18:49:59Z","updated_at":"2020-06-25T18:49:59Z","author_association":"CONTRIBUTOR","body":"> why is this needed?\r\n\r\nSuperSet Filterbox requires this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649756211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649762218","html_url":"https://github.com/apache/pinot/pull/5608#issuecomment-649762218","issue_url":"https://api.github.com/repos/apache/pinot/issues/5608","id":649762218,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTc2MjIxOA==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T19:03:18Z","updated_at":"2020-06-25T19:03:18Z","author_association":"CONTRIBUTOR","body":"> what's the reasoning behind PinotConfiguration not extending Configuration class?\r\n\r\nThis is quite a big bang and I am certainly open to re-evaluate the overall approach. My motivation to wrap ` Configuration` and not extend it is to purposely decouple the code base from Configuration. Commons Configuration is getting old and an upgrade to 2.x is a breaking change where the package of `Configuration` is not the same.\r\n\r\nWrapping Configuration in PinotConfiguration and not expose it is mainly justified by the fact that is will reduce the impact of a potential migration to 2.x (or even bring support to other configuration framework if needed).\r\n\r\nI'll document the Javadoc extensively once I reach on consensus on the overall approach :)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649762218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649777045","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-649777045","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":649777045,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTc3NzA0NQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T19:36:15Z","updated_at":"2020-06-25T19:36:21Z","author_association":"CONTRIBUTOR","body":"Is it possible to check the directory permission between two images for the mounted directory inside the container?\r\nYou can run `kubectl exec -it pod/pinot-controller-0 -n pinot-quickstart bash` to get into the container's bash","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649777045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649800701","html_url":"https://github.com/apache/pinot/issues/5616#issuecomment-649800701","issue_url":"https://api.github.com/repos/apache/pinot/issues/5616","id":649800701,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTgwMDcwMQ==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T20:28:36Z","updated_at":"2020-06-25T20:28:36Z","author_association":"CONTRIBUTOR","body":"Sure. Should I remove parent from this module and then shade the dependency as per our discussion?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649800701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649890692","html_url":"https://github.com/apache/pinot/pull/5618#issuecomment-649890692","issue_url":"https://api.github.com/repos/apache/pinot/issues/5618","id":649890692,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTg5MDY5Mg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T01:00:49Z","updated_at":"2020-06-26T01:01:01Z","author_association":"CONTRIBUTOR","body":"What is the action item for the failing release? I see all TE PRs are failing with similar reason? Anything to be done there @akshayrai  ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649890692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650048355","html_url":"https://github.com/apache/pinot/issues/5554#issuecomment-650048355","issue_url":"https://api.github.com/repos/apache/pinot/issues/5554","id":650048355,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDA0ODM1NQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T08:14:37Z","updated_at":"2020-06-26T08:14:37Z","author_association":"CONTRIBUTOR","body":"This would be a good addition.\r\n\r\nWe can potentially build a storage hierarchy as DRAM -> SSD/HDD -> Remote store (Deep Store). \r\n\r\n- Segments are adaptively (based on the query pattern) brought onto the compute nodes (servers) and stored on local storage (SSD or HDD). \r\n- Furthermore, heavily queried (and based on size) segments can be cached completely in DRAM on the servers. This would be helpful for systems that don't have SSD and thus paging overhead for memory mapped segments is non-trivial as compared to SSD. \r\n\r\nAzure Kusto implements this hierarchy.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650048355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650222277","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-650222277","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":650222277,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDIyMjI3Nw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T14:53:01Z","updated_at":"2020-06-26T14:53:01Z","author_association":"MEMBER","body":"> I would recommend putting this under the `SegmentsValidationAndRetentionConfig` instead of creating another top-level config.\r\n\r\ncan we rename 'SegmentsValidationAndRetentionConfig' to segmentConfig?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650222277/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650423821","html_url":"https://github.com/apache/pinot/pull/5628#issuecomment-650423821","issue_url":"https://api.github.com/repos/apache/pinot/issues/5628","id":650423821,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDQyMzgyMQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T22:04:19Z","updated_at":"2020-06-26T22:04:19Z","author_association":"MEMBER","body":"Discussed with @mcvsubbu offline. The method `updateExistedSegment` is a legacy code. We'll remove that part of code in the next release. Thus, there is no need to fix it. Closing this PR now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650423821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650448322","html_url":"https://github.com/apache/pinot/issues/5627#issuecomment-650448322","issue_url":"https://api.github.com/repos/apache/pinot/issues/5627","id":650448322,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDQ0ODMyMg==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T23:26:28Z","updated_at":"2020-06-26T23:26:28Z","author_association":"CONTRIBUTOR","body":"One quick hack: If we query Pinot via Presto then we can leverage Presto's resource groups (which is more of an admission control mechanism rather than a Yarn-queue like mechanism). Doing up front costing of the query shouldn't be too hard either if we can get apriori stats from Pinot, again leveraging Presto's pre existing CBO. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650448322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650470613","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-650470613","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":650470613,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDQ3MDYxMw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-27T01:35:05Z","updated_at":"2020-06-27T01:35:05Z","author_association":"CONTRIBUTOR","body":"> > whats the fix?\r\n> \r\n> Good question. I don't have an answer at the moment. As a reviewer, the best I can do (and sometimes it is not possible either) to look at problems it may bring about.\r\n> \r\n> Keeping the truncate facility as a command line argument will help, because we will NOT be running validation manager, etc. We can check things all we want, report error to the user, user can run it again, etc. Why can't we do that ?\r\n> \r\n> Providing primitive APIs, and command lines on top of that is a good practice for most things, especially this one.\r\n\r\nOne way to alleviate such a problem will be to scan the ideal state for duplicate segments in the same partition/sequence pair. If there is an attempt to add this, then throw a permanent exception and not allow addition of the segment. This will, at least help us a bit in debugging, if we get controller logs and see this exception.\r\n\r\nThis self-checking code will appear to be a patch against a bug that we don't know about. I don't like it, but this is an alternative if we are having multiple threads (across controller hosts) update the idealstate like it is being suggested here. It is also not clear what the ideal state updater should do when this exception is encountered. Ideally, I would like some corrective action taken instead of just moving on, but we can think about it. At the minimum, set a metric and we can alert on the metric.\r\n\r\nAnother solution is to approach this the right (but complex) way of going through a znode that allows exactly one thread on any one machine to update the idealstate of a table. Then we can freely start validation manager whenever we feel like it, on whichever controller receives some complex request like this.\r\n\r\nBut I go back to my original question. Why provide more than primitives as API, and let the administrative comands (or GUI or whatever) do multiple operations to achieve what the end user wants? Advantages:\r\n1. There is a clean channel to return the error to the user, and have the user retry the operation or abort it, or whatever. \r\n2. We don't have to worry about controller restarting between the three sub-operations we are trying to perform.\r\nIMO that is a sound working architecture.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650470613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650479318","html_url":"https://github.com/apache/pinot/pull/5608#issuecomment-650479318","issue_url":"https://api.github.com/repos/apache/pinot/issues/5608","id":650479318,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDQ3OTMxOA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-27T03:08:15Z","updated_at":"2020-06-27T03:08:15Z","author_association":"MEMBER","body":"I guessed that but wanted to see if there is anything beyond that. I like it.\r\n\r\n@mayank @sidd any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650479318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650499099","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-650499099","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":650499099,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDQ5OTA5OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-27T05:41:10Z","updated_at":"2020-06-27T05:41:10Z","author_association":"MEMBER","body":"@SudhaGarimella can you provide more info","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650499099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650633398","html_url":"https://github.com/apache/pinot/pull/5633#issuecomment-650633398","issue_url":"https://api.github.com/repos/apache/pinot/issues/5633","id":650633398,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDYzMzM5OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-27T21:37:08Z","updated_at":"2020-06-27T21:37:08Z","author_association":"MEMBER","body":"we need to protect other methods if underlying connection is closed. maintain a state and assert it in executeQuery method","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650633398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650641242","html_url":"https://github.com/apache/pinot/pull/5633#issuecomment-650641242","issue_url":"https://api.github.com/repos/apache/pinot/issues/5633","id":650641242,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDY0MTI0Mg==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-27T22:31:05Z","updated_at":"2020-06-27T22:40:46Z","author_association":"CONTRIBUTOR","body":"@kishoreg I deliberately didn't add that since we are already catching  all the exceptions. I am assuming after validation, if the connection is found closed, we will raise an exception which is already happening in current scenario.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650641242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650685889","html_url":"https://github.com/apache/pinot/pull/5587#issuecomment-650685889","issue_url":"https://api.github.com/repos/apache/pinot/issues/5587","id":650685889,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDY4NTg4OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T03:39:26Z","updated_at":"2020-06-28T03:39:26Z","author_association":"MEMBER","body":"@snleee how can user configure this task? will it be part of tableconfig","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650685889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650794514","html_url":"https://github.com/apache/pinot/pull/5633#issuecomment-650794514","issue_url":"https://api.github.com/repos/apache/pinot/issues/5633","id":650794514,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc5NDUxNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T17:05:28Z","updated_at":"2020-06-28T17:05:28Z","author_association":"MEMBER","body":"LGTM!\r\n\r\nCan you add sample code to the PR and also add docs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650794514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650796559","html_url":"https://github.com/apache/pinot/pull/5608#issuecomment-650796559","issue_url":"https://api.github.com/repos/apache/pinot/issues/5608","id":650796559,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc5NjU1OQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T17:22:38Z","updated_at":"2020-06-28T17:25:45Z","author_association":"CONTRIBUTOR","body":"> I guessed that but wanted to see if there is anything beyond that. I like it.\r\n> \r\n> @mayank @sidd any thoughts?\r\n\r\nYes, this will require changes to LinkedIn wrappers that instantiate the Pinot components via configurations.\r\n@daniellavoie Will this be feature compatible with Apache commons configuration? For example, getting configuration object for `pinot.server`. will return another configuration object with all propoerties under `pinot.server`. If not. that would be a much bigger cause for concern. Another concern is validation for this change. I don't believe there are tests in place to cover all possible usage of existing configurations.\r\n@siddharthteotia would you be able to help assess the impact on LinkedIn side?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650796559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650810235","html_url":"https://github.com/apache/pinot/pull/5635#issuecomment-650810235","issue_url":"https://api.github.com/repos/apache/pinot/issues/5635","id":650810235,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDgxMDIzNQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T19:24:07Z","updated_at":"2020-06-28T19:24:07Z","author_association":"CONTRIBUTOR","body":"Can we add some query for integration tests?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650810235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650823710","html_url":"https://github.com/apache/pinot/pull/5608#issuecomment-650823710","issue_url":"https://api.github.com/repos/apache/pinot/issues/5608","id":650823710,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDgyMzcxMA==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T21:23:17Z","updated_at":"2020-06-28T21:23:17Z","author_association":"CONTRIBUTOR","body":"> Will this be feature compatible with Apache commons configuration? For example, getting configuration object for `pinot.server`. will return another configuration object with all propoerties under `pinot.server`. \r\n\r\nIsn't that achieved with the `subset` function? If so, it is already supported by the new `PinotConfiguration`. If you are referring to a return object coming from a `getProperty` call on commons `Configuration`, that can behaviour can be replicated. \r\n\r\n@mayankshriv, if possible, it would be helpful for me to sync with you this week to fully understand how LinkedIn implements and wraps Pinot. That will give me better context to bring forward a refactoring that doesn't break existing large scale deployments. I'm trying to understand how Commons Configuration is used for Pinot by LinkedIn in ways that wasn't already adapted by the changes in this commit. My guess is that you use core pinot and not the service / tool wrappers provided by the OSS extensions? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650823710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650836012","html_url":"https://github.com/apache/pinot/issues/5616#issuecomment-650836012","issue_url":"https://api.github.com/repos/apache/pinot/issues/5616","id":650836012,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDgzNjAxMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T23:20:24Z","updated_at":"2020-06-28T23:20:24Z","author_association":"MEMBER","body":"or shade this jar explicitly and use the version we need.  ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650836012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650837183","html_url":"https://github.com/apache/pinot/issues/5609#issuecomment-650837183","issue_url":"https://api.github.com/repos/apache/pinot/issues/5609","id":650837183,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDgzNzE4Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T23:30:14Z","updated_at":"2020-06-28T23:30:14Z","author_association":"MEMBER","body":"we would love to do this.  one problem is a segment can span across days. What should we do in that case?\r\n\r\nMost segments will have data for a single date but during day boundaries, its possible to span across two days. There is another case of late-arriving events that might have data spanning across many dates.\r\n\r\nWe are working on segment split and merge tasks where we can plan to re-organize the segments according to the day/hour etc.\r\n\r\nWould love to hear your thoughts","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650837183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650837899","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-650837899","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":650837899,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDgzNzg5OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T23:36:53Z","updated_at":"2020-06-28T23:36:53Z","author_association":"MEMBER","body":"How is this truncate different from drop table.\r\n\r\nmy proposal is\r\n\r\n1. - disable the table\r\n2. - wait for all segments to go to offline state\r\n3. - delete all the segments\r\n4. - enable the table \r\n5. - call the setup table method\r\n\r\nWe already do the first 3 steps for delete/drop table.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650837899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650842056","html_url":"https://github.com/apache/pinot/pull/5635#issuecomment-650842056","issue_url":"https://api.github.com/repos/apache/pinot/issues/5635","id":650842056,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg0MjA1Ng==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T00:09:31Z","updated_at":"2020-06-29T00:09:31Z","author_association":"CONTRIBUTOR","body":"> Can we add some query for integration tests?\r\n\r\nAdded some tests in CalciteSQlCompilertest. Our integration tests are still calling pql endpoint, so these cannot be added there","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650842056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650845889","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-650845889","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":650845889,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg0NTg4OQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T00:35:50Z","updated_at":"2020-06-29T00:35:50Z","author_association":"CONTRIBUTOR","body":"@kishoreg what happens if the controller fails over to another one in between any of these steps?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650845889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650850284","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-650850284","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":650850284,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg1MDI4NA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T01:01:32Z","updated_at":"2020-06-29T01:01:32Z","author_association":"MEMBER","body":"Client gets an error response and tries it again. All the steps are idempotent.\r\n\r\nThis is same as any other call that involves multiple steps right?\r\n\r\nFor e.g addTable can fail before setting up real-time table consumption.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650850284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650900570","html_url":"https://github.com/apache/pinot/pull/5587#issuecomment-650900570","issue_url":"https://api.github.com/repos/apache/pinot/issues/5587","id":650900570,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDkwMDU3MA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T04:40:24Z","updated_at":"2020-06-29T04:40:24Z","author_association":"MEMBER","body":"@snleee @Jackie-Jiang can we merge this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650900570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650900742","html_url":"https://github.com/apache/pinot/pull/5438#issuecomment-650900742","issue_url":"https://api.github.com/repos/apache/pinot/issues/5438","id":650900742,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDkwMDc0Mg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T04:41:13Z","updated_at":"2020-06-29T04:41:13Z","author_association":"MEMBER","body":"@reallocf can we resolve conflicts and merge this","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/650900742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651223914","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-651223914","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":651223914,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTIyMzkxNA==","user":{"login":"sudha-garimella","id":67598402,"node_id":"MDQ6VXNlcjY3NTk4NDAy","avatar_url":"https://avatars.githubusercontent.com/u/67598402?v=4","gravatar_id":"","url":"https://api.github.com/users/sudha-garimella","html_url":"https://github.com/sudha-garimella","followers_url":"https://api.github.com/users/sudha-garimella/followers","following_url":"https://api.github.com/users/sudha-garimella/following{/other_user}","gists_url":"https://api.github.com/users/sudha-garimella/gists{/gist_id}","starred_url":"https://api.github.com/users/sudha-garimella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudha-garimella/subscriptions","organizations_url":"https://api.github.com/users/sudha-garimella/orgs","repos_url":"https://api.github.com/users/sudha-garimella/repos","events_url":"https://api.github.com/users/sudha-garimella/events{/privacy}","received_events_url":"https://api.github.com/users/sudha-garimella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T16:21:03Z","updated_at":"2020-06-29T16:21:03Z","author_association":"NONE","body":"I checked the folder permissions for 0.4 they have read write and execute. But i cant check for previous release since those folders are already deleted.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651223914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651229560","html_url":"https://github.com/apache/pinot/pull/5625#issuecomment-651229560","issue_url":"https://api.github.com/repos/apache/pinot/issues/5625","id":651229560,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTIyOTU2MA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T16:31:57Z","updated_at":"2020-06-29T16:31:57Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang , It would make the review easy if you can update the PR with the new inheritance hierarchy for the new readers and writers and give some insight into why some of the reader writers have been deleted.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651229560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651230521","html_url":"https://github.com/apache/pinot/pull/5599#issuecomment-651230521","issue_url":"https://api.github.com/repos/apache/pinot/issues/5599","id":651230521,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTIzMDUyMQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T16:33:51Z","updated_at":"2020-06-29T16:33:51Z","author_association":"MEMBER","body":"> Right now, we can add logic to the exist broker to accept responses from some of the servers (but not all), and return something to the user with a partial response indication.\r\n> \r\n> Will that still be possible with this mechanism ?\r\n> \r\n> Does each server request have to be sent in its own thread on the broker?\r\n\r\nThis PR is adding an endpoint to the pinot server. it up to the client (brokers/presto workers) to handle the partial response etc. It will get error/timeout callback. The clients can also cancel the request if it's taking too long.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651230521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651236303","html_url":"https://github.com/apache/pinot/pull/5635#issuecomment-651236303","issue_url":"https://api.github.com/repos/apache/pinot/issues/5635","id":651236303,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTIzNjMwMw==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T16:45:04Z","updated_at":"2020-06-29T16:45:04Z","author_association":"CONTRIBUTOR","body":"@npawar , Can we please add end-to-end query execution tests? I don't mean integration tests but tests in one of the files that extend BaseSingleValueQueriesTest and BaseMultiValueQueriesTest. All e2e query exec tests that test out the entire path from broker are there. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651236303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651256548","html_url":"https://github.com/apache/pinot/pull/5635#issuecomment-651256548","issue_url":"https://api.github.com/repos/apache/pinot/issues/5635","id":651256548,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTI1NjU0OA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T17:25:45Z","updated_at":"2020-06-29T17:25:45Z","author_association":"CONTRIBUTOR","body":"> @npawar , Can we please add end-to-end query execution tests? I don't mean integration tests but tests in one of the files that extend BaseSingleValueQueriesTest and BaseMultiValueQueriesTest. All e2e query exec tests that test out the entire path from broker are there.\r\n\r\nAdded @siddharthteotia ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651256548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651262222","html_url":"https://github.com/apache/pinot/issues/5609#issuecomment-651262222","issue_url":"https://api.github.com/repos/apache/pinot/issues/5609","id":651262222,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTI2MjIyMg==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T17:37:31Z","updated_at":"2020-06-29T17:37:31Z","author_association":"CONTRIBUTOR","body":"thanks, yeah that makes sense, better organizing will only be possible if segments are created in a time window respecting manger. One alternative is to organize by max(timestamp) in a window.\r\n\r\nThis might be better when segment split/merge tasks are available (not sure how exactly this would look like), maybe better to tackle this then.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651262222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651268815","html_url":"https://github.com/apache/pinot/pull/5635#issuecomment-651268815","issue_url":"https://api.github.com/repos/apache/pinot/issues/5635","id":651268815,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTI2ODgxNQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T17:51:01Z","updated_at":"2020-06-29T17:51:01Z","author_association":"CONTRIBUTOR","body":"Are we planning to support this for SQL only? In that case, we should rewrite the query (add all the order-by expressions to the selection list) for PinotQuery instead of in the converter and only have the rewrite in BrokerRequest. This will cause inconsistency between PinotQuery and BrokerRequest, which will make BrokerRequest deprecation harder.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651268815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651394740","html_url":"https://github.com/apache/pinot/pull/5635#issuecomment-651394740","issue_url":"https://api.github.com/repos/apache/pinot/issues/5635","id":651394740,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTM5NDc0MA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T22:06:24Z","updated_at":"2020-06-29T22:06:24Z","author_association":"CONTRIBUTOR","body":"closed this PR since @Jackie-Jiang fixed this in https://github.com/apache/incubator-pinot/pull/5637 and the tests have been moved to that PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651394740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651453842","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-651453842","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":651453842,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ1Mzg0Mg==","user":{"login":"sajjad-moradi","id":8548220,"node_id":"MDQ6VXNlcjg1NDgyMjA=","avatar_url":"https://avatars.githubusercontent.com/u/8548220?v=4","gravatar_id":"","url":"https://api.github.com/users/sajjad-moradi","html_url":"https://github.com/sajjad-moradi","followers_url":"https://api.github.com/users/sajjad-moradi/followers","following_url":"https://api.github.com/users/sajjad-moradi/following{/other_user}","gists_url":"https://api.github.com/users/sajjad-moradi/gists{/gist_id}","starred_url":"https://api.github.com/users/sajjad-moradi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajjad-moradi/subscriptions","organizations_url":"https://api.github.com/users/sajjad-moradi/orgs","repos_url":"https://api.github.com/users/sajjad-moradi/repos","events_url":"https://api.github.com/users/sajjad-moradi/events{/privacy}","received_events_url":"https://api.github.com/users/sajjad-moradi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:03:38Z","updated_at":"2020-06-30T01:03:38Z","author_association":"CONTRIBUTOR","body":"> > I would recommend putting this under the `SegmentsValidationAndRetentionConfig` instead of creating another top-level config.\r\n> \r\n> can we rename 'SegmentsValidationAndRetentionConfig' to segmentConfig?\r\n\r\nI tried to do that, but it added a lot of noise to the PR, so I decided to leave the renaming to another PR.  I'll create a separate PR for it after this one goes in.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651453842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651459825","html_url":"https://github.com/apache/pinot/pull/5638#issuecomment-651459825","issue_url":"https://api.github.com/repos/apache/pinot/issues/5638","id":651459825,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ1OTgyNQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:18:56Z","updated_at":"2020-06-30T01:18:56Z","author_association":"CONTRIBUTOR","body":"Generally for the query execution tests (which exercise the entire broker to server path), we test schema as well to verify column names and types. It would be nice to add similar tests for theta sketch as well.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651459825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651546466","html_url":"https://github.com/apache/pinot/pull/5638#issuecomment-651546466","issue_url":"https://api.github.com/repos/apache/pinot/issues/5638","id":651546466,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTU0NjQ2Ng==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T05:25:37Z","updated_at":"2020-06-30T05:25:37Z","author_association":"CONTRIBUTOR","body":"> Generally for the query execution tests (which exercise the entire broker to server path), we test schema as well to verify column names and types. It would be nice to add similar tests for theta sketch as well.\r\n\r\nIt seemed that the existing PR was treating return type as Double. Will address in next PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651546466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651585940","html_url":"https://github.com/apache/pinot/pull/5632#issuecomment-651585940","issue_url":"https://api.github.com/repos/apache/pinot/issues/5632","id":651585940,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTU4NTk0MA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T06:55:45Z","updated_at":"2020-06-30T06:55:45Z","author_association":"MEMBER","body":" @chenboat, is there a PR associated here. I thought the PR you were working on was making deep store optional for some cases.\r\n\r\n@mcvsubbu, there are two solutions\r\n1. Let the real-time servers push the segments to controllers but the controller puts the deep store uri in zk segment metadata\r\n2. real-time server commits segment directly to deep store and invoke the commit API with URI?\r\n\r\nI thought this PR was achieving 1 and we can get to 2 in the next iteration.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651585940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651890902","html_url":"https://github.com/apache/pinot/pull/5632#issuecomment-651890902","issue_url":"https://api.github.com/repos/apache/pinot/issues/5632","id":651890902,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTg5MDkwMg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T16:04:07Z","updated_at":"2020-06-30T16:04:07Z","author_association":"CONTRIBUTOR","body":"> @chenboat, is there a PR associated here. I thought the PR you were working on was making deep store optional for some cases.\r\n> \r\n> @mcvsubbu, there are two solutions\r\n> \r\n> 1. Let the real-time servers push the segments to controllers but the controller puts the deep store uri in zk segment metadata\r\n> 2. real-time server commits segment directly to deep store and invoke the commit API with URI?\r\n> \r\n> I thought this PR was achieving 1 and we can get to 2 in the next iteration.\r\n\r\nWe should go with 2. All things are in place for 2, so I am not sure why we are not doing that","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651890902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651892127","html_url":"https://github.com/apache/pinot/pull/5632#issuecomment-651892127","issue_url":"https://api.github.com/repos/apache/pinot/issues/5632","id":651892127,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTg5MjEyNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T16:06:06Z","updated_at":"2020-06-30T16:06:06Z","author_association":"CONTRIBUTOR","body":"> > @chenboat, is there a PR associated here. I thought the PR you were working on was making deep store optional for some cases.\r\n> > @mcvsubbu, there are two solutions\r\n> > \r\n> > 1. Let the real-time servers push the segments to controllers but the controller puts the deep store uri in zk segment metadata\r\n> > 2. real-time server commits segment directly to deep store and invoke the commit API with URI?\r\n> > \r\n> > I thought this PR was achieving 1 and we can get to 2 in the next iteration.\r\n> \r\n> We should go with 2. All things are in place for 2, so I am not sure why we are not doing that\r\n\r\nOh wait. No, I think we will have to wait for Ting's work to be done. But he is almost done, so i am not sure about the rush to make this change.\r\n\r\nAlso, the change basically is incomplete like I point out int the review. I am off call today, so let me take another look.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651892127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651908627","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-651908627","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":651908627,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTkwODYyNw==","user":{"login":"SudhaGarimella","id":26456419,"node_id":"MDQ6VXNlcjI2NDU2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/26456419?v=4","gravatar_id":"","url":"https://api.github.com/users/SudhaGarimella","html_url":"https://github.com/SudhaGarimella","followers_url":"https://api.github.com/users/SudhaGarimella/followers","following_url":"https://api.github.com/users/SudhaGarimella/following{/other_user}","gists_url":"https://api.github.com/users/SudhaGarimella/gists{/gist_id}","starred_url":"https://api.github.com/users/SudhaGarimella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SudhaGarimella/subscriptions","organizations_url":"https://api.github.com/users/SudhaGarimella/orgs","repos_url":"https://api.github.com/users/SudhaGarimella/repos","events_url":"https://api.github.com/users/SudhaGarimella/events{/privacy}","received_events_url":"https://api.github.com/users/SudhaGarimella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T16:35:37Z","updated_at":"2020-06-30T16:35:37Z","author_association":"NONE","body":"![linux-folder-perm1](https://user-images.githubusercontent.com/26456419/86152423-c2828200-bb1d-11ea-8723-056026999bab.jpg)\r\n![linux-folder-perm2](https://user-images.githubusercontent.com/26456419/86152431-c4e4dc00-bb1d-11ea-9f93-5a134b9711a0.jpg) \r\n\r\n\r\nBoth of these are for 0.4 release\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651908627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651936698","html_url":"https://github.com/apache/pinot/pull/5632#issuecomment-651936698","issue_url":"https://api.github.com/repos/apache/pinot/issues/5632","id":651936698,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTkzNjY5OA==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T17:29:12Z","updated_at":"2020-06-30T17:29:12Z","author_association":"CONTRIBUTOR","body":"> @chenboat, is there a PR associated here. I thought the PR you were working on was making deep store optional for some cases.\r\n> \r\n> @mcvsubbu, there are two solutions\r\n> \r\n> 1. Let the real-time servers push the segments to controllers but the controller puts the deep store uri in zk segment metadata\r\n> 2. real-time server commits segment directly to deep store and invoke the commit API with URI?\r\n> \r\n> I thought this PR was achieving 1 and we can get to 2 in the next iteration.\r\n\r\nMy PR https://github.com/apache/incubator-pinot/pull/5639 on Pinot controller side change for segment donwload url persisting is just submitted. It is part of the deep store by-pass project. I do agree with @elonazoulay's point that the hardcoded vip url should be fixed. My PR solves this issue as well by using controller's configured data dir instead of the hardcoded VIP.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651936698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651943355","html_url":"https://github.com/apache/pinot/pull/5632#issuecomment-651943355","issue_url":"https://api.github.com/repos/apache/pinot/issues/5632","id":651943355,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTk0MzM1NQ==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T17:42:12Z","updated_at":"2020-06-30T17:42:12Z","author_association":"CONTRIBUTOR","body":"> > > @chenboat, is there a PR associated here. I thought the PR you were working on was making deep store optional for some cases.\r\n> > > @mcvsubbu, there are two solutions\r\n> > > \r\n> > > 1. Let the real-time servers push the segments to controllers but the controller puts the deep store uri in zk segment metadata\r\n> > > 2. real-time server commits segment directly to deep store and invoke the commit API with URI?\r\n> > > \r\n> > > I thought this PR was achieving 1 and we can get to 2 in the next iteration.\r\n> > \r\n> > \r\n> > We should go with 2. All things are in place for 2, so I am not sure why we are not doing that\r\n> \r\n> Oh wait. No, I think we will have to wait for Ting's work to be done. But he is almost done, so i am not sure about the rush to make this change.\r\n> \r\n> Also, the change basically is incomplete like I point out int the review. I am off call today, so let me take another look.\r\n\r\n@mcvsubbu My controller change  https://github.com/apache/incubator-pinot/pull/5639 includes a fix to this hardcoded vip issue as well by using the segment location from the passed in CommittingSegmentDescriptor. Because the controller change is independent, one does not need wait for other changes of my project to be merged.  ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651943355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651946475","html_url":"https://github.com/apache/pinot/pull/5632#issuecomment-651946475","issue_url":"https://api.github.com/repos/apache/pinot/issues/5632","id":651946475,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTk0NjQ3NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T17:48:23Z","updated_at":"2020-06-30T17:48:23Z","author_association":"MEMBER","body":"@chenboat can you review this PR and let us know if we can go ahead with this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651946475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651991905","html_url":"https://github.com/apache/pinot/pull/5631#issuecomment-651991905","issue_url":"https://api.github.com/repos/apache/pinot/issues/5631","id":651991905,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTk5MTkwNQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T19:17:43Z","updated_at":"2020-06-30T19:17:43Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a look.\r\n\r\nWe also have hosts with more than 100k segments. In fact, this addition of throttling is to protect the servers with large number of segments. The more segments a host has, the more transition messages will be generated during events like restart, and therefore the higher risk the server/controller run out of zookeeper buffer.\r\n\r\nThe default value of 100k is set corresponding to the default value of `jute.maxbuffer` which is 1MB, but I'm okay with a much higher value like 100MB, if that is a concern.\r\n\r\n> This wont work for us since we have more than 100k elements per host. We have not enabled batching yet due to other constraints.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/651991905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652005534","html_url":"https://github.com/apache/pinot/issues/5627#issuecomment-652005534","issue_url":"https://api.github.com/repos/apache/pinot/issues/5627","id":652005534,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjAwNTUzNA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T19:46:10Z","updated_at":"2020-06-30T19:46:10Z","author_association":"CONTRIBUTOR","body":"Thanks for sharing the thoughts. I think it's a promising direction for users who query Pinot through Presto, as we can leverage the resource management layer in Presto. \r\n\r\nAt the minimum, we could add policies to control the queue size, if we could add a policy for the ad-hoc users, which might solve the challenge #2. To further utilize the constraints on CPU and memory, I think we need an integration with Pinot server/broker for the statistics collection?\r\n\r\nI was also thinking of another direction like Query gateway to detect and block bad queries with some heuristics, e.g. SELECT with large time range scanning too many segments.\r\n\r\n> One quick hack: If we query Pinot via Presto then we can leverage Presto's resource groups (which is more of an admission control mechanism rather than a Yarn-queue like mechanism). Doing up front costing of the query shouldn't be too hard either if we can get apriori stats from Pinot, again leveraging Presto's pre existing CBO.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652005534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652015621","html_url":"https://github.com/apache/pinot/pull/5631#issuecomment-652015621","issue_url":"https://api.github.com/repos/apache/pinot/issues/5631","id":652015621,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjAxNTYyMQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T20:07:12Z","updated_at":"2020-06-30T20:07:12Z","author_association":"CONTRIBUTOR","body":"We use custom ideal state in pinot, and afaik helix does not support throttling for custom ideal state. I will have someone from helix team comment on the change","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652015621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652017600","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-652017600","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":652017600,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjAxNzYwMA==","user":{"login":"SudhaGarimella","id":26456419,"node_id":"MDQ6VXNlcjI2NDU2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/26456419?v=4","gravatar_id":"","url":"https://api.github.com/users/SudhaGarimella","html_url":"https://github.com/SudhaGarimella","followers_url":"https://api.github.com/users/SudhaGarimella/followers","following_url":"https://api.github.com/users/SudhaGarimella/following{/other_user}","gists_url":"https://api.github.com/users/SudhaGarimella/gists{/gist_id}","starred_url":"https://api.github.com/users/SudhaGarimella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SudhaGarimella/subscriptions","organizations_url":"https://api.github.com/users/SudhaGarimella/orgs","repos_url":"https://api.github.com/users/SudhaGarimella/repos","events_url":"https://api.github.com/users/SudhaGarimella/events{/privacy}","received_events_url":"https://api.github.com/users/SudhaGarimella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T20:11:43Z","updated_at":"2020-06-30T20:11:43Z","author_association":"NONE","body":"As suggested by @fx19880617 , I updated the storage class for server to default (previous value was azurefile) and then segments are getting created now without any exception.\r\nAs per recommended approach, storage class for server has to be azuredisk which is the default and not azurefile.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652017600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652022180","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-652022180","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":652022180,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjAyMjE4MA==","user":{"login":"SudhaGarimella","id":26456419,"node_id":"MDQ6VXNlcjI2NDU2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/26456419?v=4","gravatar_id":"","url":"https://api.github.com/users/SudhaGarimella","html_url":"https://github.com/SudhaGarimella","followers_url":"https://api.github.com/users/SudhaGarimella/followers","following_url":"https://api.github.com/users/SudhaGarimella/following{/other_user}","gists_url":"https://api.github.com/users/SudhaGarimella/gists{/gist_id}","starred_url":"https://api.github.com/users/SudhaGarimella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SudhaGarimella/subscriptions","organizations_url":"https://api.github.com/users/SudhaGarimella/orgs","repos_url":"https://api.github.com/users/SudhaGarimella/repos","events_url":"https://api.github.com/users/SudhaGarimella/events{/privacy}","received_events_url":"https://api.github.com/users/SudhaGarimella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T20:21:42Z","updated_at":"2020-06-30T20:21:42Z","author_association":"NONE","body":"![pvc-snap](https://user-images.githubusercontent.com/26456419/86173282-5e6fb600-bb3d-11ea-85d8-5ad660a1fae3.jpg)\r\nThis image is post change ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652022180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652050007","html_url":"https://github.com/apache/pinot/pull/5631#issuecomment-652050007","issue_url":"https://api.github.com/repos/apache/pinot/issues/5631","id":652050007,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjA1MDAwNw==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T21:19:15Z","updated_at":"2020-06-30T21:19:15Z","author_association":"CONTRIBUTOR","body":"> We use custom ideal state in pinot, and afaik helix does not support throttling for custom ideal state. I will have someone from helix team comment on the change\r\n\r\nI think you are referring to `STATE_TRANSITION_THROTTLE_CONFIGS`, which is a cluster config used in `StateTransitionThrottleController `. This uses a cluster constraint, which applies to `MessageThrottleStage` in the pipeline.\r\n\r\nI believe @kishoreg can further explain the differences.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652050007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652090201","html_url":"https://github.com/apache/pinot/pull/5625#issuecomment-652090201","issue_url":"https://api.github.com/repos/apache/pinot/issues/5625","id":652090201,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjA5MDIwMQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T23:00:43Z","updated_at":"2020-06-30T23:00:43Z","author_association":"CONTRIBUTOR","body":"> @Jackie-Jiang , It would make the review easy if you can update the PR with the new inheritance hierarchy for the new readers and writers and give some insight into why some of the reader writers have been deleted.\r\n\r\n@Jackie-Jiang, it will be useful to add the above info","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652090201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652099233","html_url":"https://github.com/apache/pinot/pull/5625#issuecomment-652099233","issue_url":"https://api.github.com/repos/apache/pinot/issues/5625","id":652099233,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjA5OTIzMw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T23:26:04Z","updated_at":"2020-06-30T23:26:04Z","author_association":"CONTRIBUTOR","body":"@mayankshriv @siddharthteotia Addressed the comments and added the inheritance hierarchy","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652099233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652108614","html_url":"https://github.com/apache/pinot/pull/5632#issuecomment-652108614","issue_url":"https://api.github.com/repos/apache/pinot/issues/5632","id":652108614,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjEwODYxNA==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T23:59:37Z","updated_at":"2020-06-30T23:59:51Z","author_association":"CONTRIBUTOR","body":"> @chenboat can you review this PR and let us know if we can go ahead with this?\r\n\r\n@kishoreg I left my review on this PR. This PR has a big overlap with my standalone PR #5639 which is ready for review now. My suggestion (which could be biased) is to focus on PR #5639 which also includes a fix for the same problem. Otherwise we are wasting the review efforts. I would invite both @elonazoulay and @mcvsubbu to review that PR. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652108614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652180997","html_url":"https://github.com/apache/pinot/issues/5598#issuecomment-652180997","issue_url":"https://api.github.com/repos/apache/pinot/issues/5598","id":652180997,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE4MDk5Nw==","user":{"login":"karthikkakolu","id":24441000,"node_id":"MDQ6VXNlcjI0NDQxMDAw","avatar_url":"https://avatars.githubusercontent.com/u/24441000?v=4","gravatar_id":"","url":"https://api.github.com/users/karthikkakolu","html_url":"https://github.com/karthikkakolu","followers_url":"https://api.github.com/users/karthikkakolu/followers","following_url":"https://api.github.com/users/karthikkakolu/following{/other_user}","gists_url":"https://api.github.com/users/karthikkakolu/gists{/gist_id}","starred_url":"https://api.github.com/users/karthikkakolu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthikkakolu/subscriptions","organizations_url":"https://api.github.com/users/karthikkakolu/orgs","repos_url":"https://api.github.com/users/karthikkakolu/repos","events_url":"https://api.github.com/users/karthikkakolu/events{/privacy}","received_events_url":"https://api.github.com/users/karthikkakolu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T04:21:59Z","updated_at":"2020-07-01T04:21:59Z","author_association":"NONE","body":"UseCase :\r\n\r\nWrite data to custom datastore/stream (Cassandra, Kafka, Postgre) where I can write data in flat or relational way after some data post-processing.\r\nThis helps me in overcome some shortcoming in pinot related to pagination, joins  and prune data further.\r\nAlso it helps me further in leveraging some  datastore technologies which comes OOTB.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652180997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652419549","html_url":"https://github.com/apache/pinot/pull/5608#issuecomment-652419549","issue_url":"https://api.github.com/repos/apache/pinot/issues/5608","id":652419549,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQxOTU0OQ==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T13:30:31Z","updated_at":"2020-07-01T13:30:31Z","author_association":"CONTRIBUTOR","body":"@jackjlli I will add an extensive description about how configuration key sanitization works with examples. This PR was designed to involve no property key change. In only introduces more flexibility in how a key can be defined and extracted.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652419549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652536385","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-652536385","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":652536385,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjUzNjM4NQ==","user":{"login":"Sreemanth","id":2398992,"node_id":"MDQ6VXNlcjIzOTg5OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2398992?v=4","gravatar_id":"","url":"https://api.github.com/users/Sreemanth","html_url":"https://github.com/Sreemanth","followers_url":"https://api.github.com/users/Sreemanth/followers","following_url":"https://api.github.com/users/Sreemanth/following{/other_user}","gists_url":"https://api.github.com/users/Sreemanth/gists{/gist_id}","starred_url":"https://api.github.com/users/Sreemanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sreemanth/subscriptions","organizations_url":"https://api.github.com/users/Sreemanth/orgs","repos_url":"https://api.github.com/users/Sreemanth/repos","events_url":"https://api.github.com/users/Sreemanth/events{/privacy}","received_events_url":"https://api.github.com/users/Sreemanth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T16:58:20Z","updated_at":"2020-07-01T16:58:20Z","author_association":"CONTRIBUTOR","body":"@kishoreg \r\nStep 4 - Enable the table\r\n>> Done\r\n\r\nStep 5- call the setup table method\r\n >> Can you give some idea or share some resource about this step?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652536385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652537334","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-652537334","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":652537334,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjUzNzMzNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T17:00:14Z","updated_at":"2020-07-01T17:00:14Z","author_association":"MEMBER","body":"@npawar can you point him to setup table code or the validation manager.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652537334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652626786","html_url":"https://github.com/apache/pinot/pull/5631#issuecomment-652626786","issue_url":"https://api.github.com/repos/apache/pinot/issues/5631","id":652626786,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjYyNjc4Ng==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T20:20:31Z","updated_at":"2020-07-01T20:20:31Z","author_association":"CONTRIBUTOR","body":"> Great work digging this out from the Helix code (I'm not able to find this from Helix documentation).\r\n> \r\n> LGTM in general. I suggest renaming all `maxMessages` to `maxStateTransitions` because we are not actually limiting the messages.\r\n\r\nThanks for the code review. Addressed some of the comments","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652626786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652693651","html_url":"https://github.com/apache/pinot/issues/5647#issuecomment-652693651","issue_url":"https://api.github.com/repos/apache/pinot/issues/5647","id":652693651,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjY5MzY1MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T23:27:02Z","updated_at":"2020-07-01T23:27:02Z","author_association":"CONTRIBUTOR","body":"Please add a design doc addressing some general ideas on this feature:\r\n1. Do multiple topics consumed have the same schema or different schemas?\r\n2. Are they expected to have same number of partitions or different number of partitions? Or, are we considering this for HLC only?\r\n3. If LLC, how will segment completion work?\r\n\r\nof course, a description of a use case will help a lot.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652693651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652694430","html_url":"https://github.com/apache/pinot/issues/5648#issuecomment-652694430","issue_url":"https://api.github.com/repos/apache/pinot/issues/5648","id":652694430,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjY5NDQzMA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T23:29:35Z","updated_at":"2020-07-01T23:29:35Z","author_association":"CONTRIBUTOR","body":"@KKcorps is working on this, right?\r\nFor discussion, please join the channel #kinesis-integration\r\n\r\nOne outstanding question here is how to tackle kinesis increase/reduction of partitions. I could not discern from their documentation as to how this happens in kinesis, so we may have to pull out some more source code as plugin for this purpose.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652694430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652725239","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-652725239","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":652725239,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyNTIzOQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:23:23Z","updated_at":"2020-07-02T01:23:23Z","author_association":"MEMBER","body":"is Crypter part of the pinot-spi? Should we treat this similar to other plugins?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652725239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652727702","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-652727702","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":652727702,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyNzcwMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:33:03Z","updated_at":"2020-07-02T01:33:03Z","author_association":"MEMBER","body":"> I would recommend putting this under the `SegmentsValidationAndRetentionConfig` instead of creating another top level config.\r\n\r\nWhy is this the right place for this config. IMO, SegmentsValidationAndRetentionConfig should be broken into multiple sections.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652727702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652789093","html_url":"https://github.com/apache/pinot/pull/5394#issuecomment-652789093","issue_url":"https://api.github.com/repos/apache/pinot/issues/5394","id":652789093,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mjc4OTA5Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T05:22:12Z","updated_at":"2020-07-02T05:22:12Z","author_association":"MEMBER","body":"@jamesyfshao is there anything pending here. Let's get this in.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652789093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652836506","html_url":"https://github.com/apache/pinot/pull/5394#issuecomment-652836506","issue_url":"https://api.github.com/repos/apache/pinot/issues/5394","id":652836506,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjgzNjUwNg==","user":{"login":"jamesyfshao","id":1062786,"node_id":"MDQ6VXNlcjEwNjI3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/1062786?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesyfshao","html_url":"https://github.com/jamesyfshao","followers_url":"https://api.github.com/users/jamesyfshao/followers","following_url":"https://api.github.com/users/jamesyfshao/following{/other_user}","gists_url":"https://api.github.com/users/jamesyfshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesyfshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesyfshao/subscriptions","organizations_url":"https://api.github.com/users/jamesyfshao/orgs","repos_url":"https://api.github.com/users/jamesyfshao/repos","events_url":"https://api.github.com/users/jamesyfshao/events{/privacy}","received_events_url":"https://api.github.com/users/jamesyfshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T07:29:34Z","updated_at":"2020-07-02T07:29:34Z","author_association":"CONTRIBUTOR","body":"> @jamesyfshao is there anything pending here. Let's get this in.\r\n\r\nwaiting for @mcvsubbu to give the diff another pass to see if my update has addressed the concerns","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/652836506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653032525","html_url":"https://github.com/apache/pinot/pull/5641#issuecomment-653032525","issue_url":"https://api.github.com/repos/apache/pinot/issues/5641","id":653032525,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzAzMjUyNQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T14:16:52Z","updated_at":"2020-07-02T14:16:52Z","author_association":"CONTRIBUTOR","body":"Would be good to include the `default` value of this config (hopefully it is false). Also, as a user, if I think StarTree will help, what is the guideline for me to choose building it outside Pinot vs at load time (how do I know whether my production servers won't die if I enable this feature)?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653032525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653040032","html_url":"https://github.com/apache/pinot/pull/5608#issuecomment-653040032","issue_url":"https://api.github.com/repos/apache/pinot/issues/5608","id":653040032,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzA0MDAzMg==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T14:29:59Z","updated_at":"2020-07-02T14:29:59Z","author_association":"CONTRIBUTOR","body":"> > Will this be feature compatible with Apache commons configuration? For example, getting configuration object for `pinot.server`. will return another configuration object with all propoerties under `pinot.server`.\r\n> \r\n> Isn't that achieved with the `subset` function? If so, it is already supported by the new `PinotConfiguration`. If you are referring to a return object coming from a `getProperty` call on commons `Configuration`, that can behaviour can be replicated.\r\n> \r\n> @mayankshriv, if possible, it would be helpful for me to sync with you this week to fully understand how LinkedIn implements and wraps Pinot. That will give me better context to bring forward a refactoring that doesn't break existing large scale deployments. I'm trying to understand how Commons Configuration is used for Pinot by LinkedIn in ways that wasn't already adapted by the changes in this commit. My guess is that you use core pinot and not the service / tool wrappers provided by the OSS extensions? Thanks!\r\n\r\n@daniellavoie Sorry, I missed it earlier. I had requested @jackjlli to help review this doc. If you would still like to understand how LinkedIn is using this, I am happy to chat (would be good include @jackjlli in the conversation as well).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653040032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653077668","html_url":"https://github.com/apache/pinot/issues/5648#issuecomment-653077668","issue_url":"https://api.github.com/repos/apache/pinot/issues/5648","id":653077668,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzA3NzY2OA==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T15:35:03Z","updated_at":"2020-07-02T15:35:03Z","author_association":"CONTRIBUTOR","body":"Hi @mcvsubbu @npawar Yes, I am already working on this. It has been on pause for a while since I picked up JDBC driver.\r\nThe driver will need changes in SQL Parser so I am planning to  pick this up again and drive it to conclusion.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653077668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653110469","html_url":"https://github.com/apache/pinot/pull/5639#issuecomment-653110469","issue_url":"https://api.github.com/repos/apache/pinot/issues/5639","id":653110469,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzExMDQ2OQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T16:36:44Z","updated_at":"2020-07-02T16:36:44Z","author_association":"CONTRIBUTOR","body":"@chenboat  I marged this PR, you will need to change PR#5336 ro avoid conflict?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653110469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653118580","html_url":"https://github.com/apache/pinot/issues/5648#issuecomment-653118580","issue_url":"https://api.github.com/repos/apache/pinot/issues/5648","id":653118580,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzExODU4MA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T16:55:02Z","updated_at":"2020-07-02T16:55:02Z","author_association":"CONTRIBUTOR","body":"Created an issue because there wasn't one already","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653118580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653154374","html_url":"https://github.com/apache/pinot/pull/5641#issuecomment-653154374","issue_url":"https://api.github.com/repos/apache/pinot/issues/5641","id":653154374,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzE1NDM3NA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T18:18:13Z","updated_at":"2020-07-02T18:18:13Z","author_association":"CONTRIBUTOR","body":"@mayankshriv \r\n- Boolean member variable is always default to `false` (e.g. we don't have an explicit default value for `aggregateMetrics`, `createInvertedIndexDuringSegmentGeneration` etc.)\r\n- Star-tree is always created on the builder side. This feature is for users to add star-tree to the existing segments without star-tree. Added more descriptions in the PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653154374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653168392","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-653168392","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":653168392,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzE2ODM5Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T18:51:00Z","updated_at":"2020-07-02T18:51:00Z","author_association":"CONTRIBUTOR","body":"> > I would recommend putting this under the `SegmentsValidationAndRetentionConfig` instead of creating another top level config.\r\n> \r\n> Why is this the right place for this config. IMO, SegmentsValidationAndRetentionConfig should be broken into multiple sections.\r\n\r\nThat's why I added a TODO in this config: `TODO: Consider break this config into multiple configs`\r\nAt least we can rename it to `SegmentsConfig`.\r\nBut I don't think this is in the scope of this PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653168392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653231550","html_url":"https://github.com/apache/pinot/pull/5617#issuecomment-653231550","issue_url":"https://api.github.com/repos/apache/pinot/issues/5617","id":653231550,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzIzMTU1MA==","user":{"login":"sajjad-moradi","id":8548220,"node_id":"MDQ6VXNlcjg1NDgyMjA=","avatar_url":"https://avatars.githubusercontent.com/u/8548220?v=4","gravatar_id":"","url":"https://api.github.com/users/sajjad-moradi","html_url":"https://github.com/sajjad-moradi","followers_url":"https://api.github.com/users/sajjad-moradi/followers","following_url":"https://api.github.com/users/sajjad-moradi/following{/other_user}","gists_url":"https://api.github.com/users/sajjad-moradi/gists{/gist_id}","starred_url":"https://api.github.com/users/sajjad-moradi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajjad-moradi/subscriptions","organizations_url":"https://api.github.com/users/sajjad-moradi/orgs","repos_url":"https://api.github.com/users/sajjad-moradi/repos","events_url":"https://api.github.com/users/sajjad-moradi/events{/privacy}","received_events_url":"https://api.github.com/users/sajjad-moradi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T21:39:08Z","updated_at":"2020-07-02T21:39:08Z","author_association":"CONTRIBUTOR","body":"> is Crypter part of the pinot-spi? \r\n\r\nIt is part of pinot-spi.\r\n\r\n> Should we treat this similar to other plugins?\r\n\r\nI'm not sure. I'll let more experienced ppl to chime in.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653231550/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653287549","html_url":"https://github.com/apache/pinot/pull/5631#issuecomment-653287549","issue_url":"https://api.github.com/repos/apache/pinot/issues/5631","id":653287549,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzI4NzU0OQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T01:41:23Z","updated_at":"2020-07-03T01:41:23Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu Also increased the default value, let me know if you have additional comments","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653287549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653326881","html_url":"https://github.com/apache/pinot/pull/5631#issuecomment-653326881","issue_url":"https://api.github.com/repos/apache/pinot/issues/5631","id":653326881,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzMyNjg4MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T03:46:11Z","updated_at":"2020-07-03T03:46:11Z","author_association":"MEMBER","body":"This is amazing. Thanks for digging through the code and making this ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653326881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653804777","html_url":"https://github.com/apache/pinot/pull/5654#issuecomment-653804777","issue_url":"https://api.github.com/repos/apache/pinot/issues/5654","id":653804777,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzgwNDc3Nw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T19:53:01Z","updated_at":"2020-07-04T19:53:01Z","author_association":"MEMBER","body":"Add sample queries to the description and also update the java docs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653804777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653810389","html_url":"https://github.com/apache/pinot/issues/5651#issuecomment-653810389","issue_url":"https://api.github.com/repos/apache/pinot/issues/5651","id":653810389,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzgxMDM4OQ==","user":{"login":"prm-dan","id":49970746,"node_id":"MDQ6VXNlcjQ5OTcwNzQ2","avatar_url":"https://avatars.githubusercontent.com/u/49970746?v=4","gravatar_id":"","url":"https://api.github.com/users/prm-dan","html_url":"https://github.com/prm-dan","followers_url":"https://api.github.com/users/prm-dan/followers","following_url":"https://api.github.com/users/prm-dan/following{/other_user}","gists_url":"https://api.github.com/users/prm-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/prm-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prm-dan/subscriptions","organizations_url":"https://api.github.com/users/prm-dan/orgs","repos_url":"https://api.github.com/users/prm-dan/repos","events_url":"https://api.github.com/users/prm-dan/events{/privacy}","received_events_url":"https://api.github.com/users/prm-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T20:47:08Z","updated_at":"2020-07-04T20:47:08Z","author_association":"CONTRIBUTOR","body":"I looked at poll.ly and found this.  Whats this?  Like integration with Spark, Flink, etc?\r\n\r\nhttps://poll.ly/#/2YeaKQ5o","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653810389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653814223","html_url":"https://github.com/apache/pinot/issues/5627#issuecomment-653814223","issue_url":"https://api.github.com/repos/apache/pinot/issues/5627","id":653814223,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzgxNDIyMw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T21:22:40Z","updated_at":"2020-07-04T21:22:40Z","author_association":"MEMBER","body":"There is a per query quota and there is an overall quota. \r\n\r\nlets start with protecting pinot against bad/poison queries. @Jackie-Jiang, @mayankshriv, @mcvsubbu do you have any thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653814223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653820177","html_url":"https://github.com/apache/pinot/issues/5651#issuecomment-653820177","issue_url":"https://api.github.com/repos/apache/pinot/issues/5651","id":653820177,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzgyMDE3Nw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T22:47:04Z","updated_at":"2020-07-04T22:47:04Z","author_association":"MEMBER","body":"Yes, Presto, spark, hive, Flink etc \r\n\r\nRelated issues\r\n- https://github.com/apache/incubator-pinot/issues/4809\r\n- https://github.com/mangrrua/spark-pinot-connector\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653820177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653821600","html_url":"https://github.com/apache/pinot/issues/5627#issuecomment-653821600","issue_url":"https://api.github.com/repos/apache/pinot/issues/5627","id":653821600,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzgyMTYwMA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T23:08:56Z","updated_at":"2020-07-04T23:08:56Z","author_association":"CONTRIBUTOR","body":"At the minimum, we should leverage the per table level query timeout config (part of table config). Jackie had added this. Server can use this to kill long running queries or the queries that have waited long enough in the scheduler queue and thus are likely to overrun their time limit. Through query options, we can also pass per query time out. \r\n\r\nIn general, and a potential long term solution is to implement something called as workload management in Pinot to overall  improve the multi-tenancy and isolation. I feel we should also revisit the priority token bucket scheduler since FCFS isn't suitable for multitenant deployments.\r\n\r\nWe can also consider forking a JVM (running in a separate process) so that an extremely bad query (high cpu high gc with the potential to cause OOM) doesn't crash the server. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/653821600/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]