[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334477865","html_url":"https://github.com/apache/pulsar/issues/813#issuecomment-334477865","issue_url":"https://api.github.com/repos/apache/pulsar/issues/813","id":334477865,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDQ3Nzg2NQ==","user":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T14:14:24Z","updated_at":"2017-10-05T14:14:24Z","author_association":"CONTRIBUTOR","body":"Moreover, setting this define is a pain. You need to dig into bin/pulsar to figure out the environment variable. I expected it'd be PULSAR_EXTRA_OPTS, but pulsar-env stomps on this. You can't change pulsar-env because global and local both use this. You have to set it in OPTS.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334477865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334519182","html_url":"https://github.com/apache/pulsar/pull/802#issuecomment-334519182","issue_url":"https://api.github.com/repos/apache/pulsar/issues/802","id":334519182,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDUxOTE4Mg==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T16:27:51Z","updated_at":"2017-10-05T16:27:51Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334519182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334544430","html_url":"https://github.com/apache/pulsar/pull/802#issuecomment-334544430","issue_url":"https://api.github.com/repos/apache/pulsar/issues/802","id":334544430,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU0NDQzMA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T18:00:48Z","updated_at":"2017-10-05T18:00:48Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334544430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334605514","html_url":"https://github.com/apache/pulsar/pull/802#issuecomment-334605514","issue_url":"https://api.github.com/repos/apache/pulsar/issues/802","id":334605514,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDYwNTUxNA==","user":{"login":"hrsakai","id":22829228,"node_id":"MDQ6VXNlcjIyODI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/22829228?v=4","gravatar_id":"","url":"https://api.github.com/users/hrsakai","html_url":"https://github.com/hrsakai","followers_url":"https://api.github.com/users/hrsakai/followers","following_url":"https://api.github.com/users/hrsakai/following{/other_user}","gists_url":"https://api.github.com/users/hrsakai/gists{/gist_id}","starred_url":"https://api.github.com/users/hrsakai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrsakai/subscriptions","organizations_url":"https://api.github.com/users/hrsakai/orgs","repos_url":"https://api.github.com/users/hrsakai/repos","events_url":"https://api.github.com/users/hrsakai/events{/privacy}","received_events_url":"https://api.github.com/users/hrsakai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T22:06:26Z","updated_at":"2017-10-05T22:06:26Z","author_association":"CONTRIBUTOR","body":"ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334605514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334693637","html_url":"https://github.com/apache/pulsar/pull/812#issuecomment-334693637","issue_url":"https://api.github.com/repos/apache/pulsar/issues/812","id":334693637,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDY5MzYzNw==","user":{"login":"kyontan","id":802339,"node_id":"MDQ6VXNlcjgwMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/802339?v=4","gravatar_id":"","url":"https://api.github.com/users/kyontan","html_url":"https://github.com/kyontan","followers_url":"https://api.github.com/users/kyontan/followers","following_url":"https://api.github.com/users/kyontan/following{/other_user}","gists_url":"https://api.github.com/users/kyontan/gists{/gist_id}","starred_url":"https://api.github.com/users/kyontan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyontan/subscriptions","organizations_url":"https://api.github.com/users/kyontan/orgs","repos_url":"https://api.github.com/users/kyontan/repos","events_url":"https://api.github.com/users/kyontan/events{/privacy}","received_events_url":"https://api.github.com/users/kyontan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T08:34:58Z","updated_at":"2017-10-06T09:23:51Z","author_association":"CONTRIBUTOR","body":"@merlimat I renamed `date_bytes` to `data` and fixed document, test.  Can you check it?\r\n(CI seems to failed due to timeout, should I fix something?)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334693637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334756080","html_url":"https://github.com/apache/pulsar/pull/802#issuecomment-334756080","issue_url":"https://api.github.com/repos/apache/pulsar/issues/802","id":334756080,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc1NjA4MA==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T13:33:14Z","updated_at":"2017-10-06T13:33:14Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334756080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334823109","html_url":"https://github.com/apache/pulsar/pull/812#issuecomment-334823109","issue_url":"https://api.github.com/repos/apache/pulsar/issues/812","id":334823109,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgyMzEwOQ==","user":{"login":"kyontan","id":802339,"node_id":"MDQ6VXNlcjgwMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/802339?v=4","gravatar_id":"","url":"https://api.github.com/users/kyontan","html_url":"https://github.com/kyontan","followers_url":"https://api.github.com/users/kyontan/followers","following_url":"https://api.github.com/users/kyontan/following{/other_user}","gists_url":"https://api.github.com/users/kyontan/gists{/gist_id}","starred_url":"https://api.github.com/users/kyontan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyontan/subscriptions","organizations_url":"https://api.github.com/users/kyontan/orgs","repos_url":"https://api.github.com/users/kyontan/repos","events_url":"https://api.github.com/users/kyontan/events{/privacy}","received_events_url":"https://api.github.com/users/kyontan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T17:41:05Z","updated_at":"2017-10-06T17:41:21Z","author_association":"CONTRIBUTOR","body":"Thanks! (It's ok to add commit by someone if needed to fix something, I'm not accurate to develop C++/Python codes :bow: )","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334823109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334946725","html_url":"https://github.com/apache/pulsar/pull/807#issuecomment-334946725","issue_url":"https://api.github.com/repos/apache/pulsar/issues/807","id":334946725,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk0NjcyNQ==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T16:17:11Z","updated_at":"2017-10-07T16:17:11Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334946725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334950944","html_url":"https://github.com/apache/pulsar/pull/807#issuecomment-334950944","issue_url":"https://api.github.com/repos/apache/pulsar/issues/807","id":334950944,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk1MDk0NA==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T17:09:55Z","updated_at":"2017-10-07T17:09:55Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334950944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334968100","html_url":"https://github.com/apache/pulsar/pull/807#issuecomment-334968100","issue_url":"https://api.github.com/repos/apache/pulsar/issues/807","id":334968100,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2ODEwMA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T21:51:17Z","updated_at":"2017-10-07T21:51:17Z","author_association":"CONTRIBUTOR","body":"Some failures seem to be related with this PR:\r\n\r\n```\r\njava.lang.AssertionError: expected [100] but found [0]\r\n\tat org.apache.pulsar.broker.service.PersistentFailoverE2ETest.testActiveConsumerFailoverWithDelay(PersistentFailoverE2ETest.java:505)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334968100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334996262","html_url":"https://github.com/apache/pulsar/pull/807#issuecomment-334996262","issue_url":"https://api.github.com/repos/apache/pulsar/issues/807","id":334996262,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk5NjI2Mg==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T10:10:52Z","updated_at":"2017-10-08T10:10:52Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/334996262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335009313","html_url":"https://github.com/apache/pulsar/pull/807#issuecomment-335009313","issue_url":"https://api.github.com/repos/apache/pulsar/issues/807","id":335009313,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAwOTMxMw==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T14:12:01Z","updated_at":"2017-10-08T15:52:59Z","author_association":"CONTRIBUTOR","body":"I have fixed some tests.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335009313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335230986","html_url":"https://github.com/apache/pulsar/pull/739#issuecomment-335230986","issue_url":"https://api.github.com/repos/apache/pulsar/issues/739","id":335230986,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTIzMDk4Ng==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T17:45:16Z","updated_at":"2017-10-09T17:45:16Z","author_association":"CONTRIBUTOR","body":"closing in favor of #781 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335230986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335240373","html_url":"https://github.com/apache/pulsar/pull/785#issuecomment-335240373","issue_url":"https://api.github.com/repos/apache/pulsar/issues/785","id":335240373,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTI0MDM3Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T18:08:02Z","updated_at":"2017-10-09T18:08:02Z","author_association":"CONTRIBUTOR","body":"@merlimat @massakam addressed the comments.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335240373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335424774","html_url":"https://github.com/apache/pulsar/issues/472#issuecomment-335424774","issue_url":"https://api.github.com/repos/apache/pulsar/issues/472","id":335424774,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQyNDc3NA==","user":{"login":"dmitris","id":31205,"node_id":"MDQ6VXNlcjMxMjA1","avatar_url":"https://avatars.githubusercontent.com/u/31205?v=4","gravatar_id":"","url":"https://api.github.com/users/dmitris","html_url":"https://github.com/dmitris","followers_url":"https://api.github.com/users/dmitris/followers","following_url":"https://api.github.com/users/dmitris/following{/other_user}","gists_url":"https://api.github.com/users/dmitris/gists{/gist_id}","starred_url":"https://api.github.com/users/dmitris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmitris/subscriptions","organizations_url":"https://api.github.com/users/dmitris/orgs","repos_url":"https://api.github.com/users/dmitris/repos","events_url":"https://api.github.com/users/dmitris/events{/privacy}","received_events_url":"https://api.github.com/users/dmitris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T10:04:20Z","updated_at":"2017-10-10T10:04:20Z","author_association":"NONE","body":"NB - the binary protocol specification is now at https://github.com/apache/incubator-pulsar/blob/master/site/docs/latest/project/BinaryProtocol.md (or https://github.com/apache/incubator-pulsar/blob/master/site/ja/project/BinaryProtocol.md for Japanese)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/335424774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336336230","html_url":"https://github.com/apache/pulsar/issues/818#issuecomment-336336230","issue_url":"https://api.github.com/repos/apache/pulsar/issues/818","id":336336230,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjMzNjIzMA==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T02:54:19Z","updated_at":"2017-10-13T02:54:19Z","author_association":"CONTRIBUTOR","body":"If no one has worked on this task yet, I will undertake it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336336230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336590236","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-336590236","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":336590236,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5MDIzNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T23:31:17Z","updated_at":"2017-10-13T23:31:17Z","author_association":"CONTRIBUTOR","body":"My suggestion is that we should fix this ASAP, before anyone starts using Python client library for consuming from partitioned topics.\r\n\r\n@yush1ga @nkurihar @massakam Can you check whether you have any use case depending on this subscription namings? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336590236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336593043","html_url":"https://github.com/apache/pulsar/pull/488#issuecomment-336593043","issue_url":"https://api.github.com/repos/apache/pulsar/issues/488","id":336593043,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5MzA0Mw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T23:58:38Z","updated_at":"2017-10-13T23:58:38Z","author_association":"CONTRIBUTOR","body":"Already changed in #769 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336593043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595121","html_url":"https://github.com/apache/pulsar/pull/826#issuecomment-336595121","issue_url":"https://api.github.com/repos/apache/pulsar/issues/826","id":336595121,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5NTEyMQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T00:18:53Z","updated_at":"2017-10-14T00:18:53Z","author_association":"CONTRIBUTOR","body":"@rdhabalia was it closed on purpose? Are you working on a different fix?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595514","html_url":"https://github.com/apache/pulsar/pull/820#issuecomment-336595514","issue_url":"https://api.github.com/repos/apache/pulsar/issues/820","id":336595514,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5NTUxNA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T00:23:37Z","updated_at":"2017-10-14T00:23:37Z","author_association":"CONTRIBUTOR","body":"I would rather step back a think a bit more about the mode in which we're running with authentication disabled. \r\n\r\nToday we have 2 flags in Pulsar broker that control: \r\n * `authenticationEnabled` --> Do not require a valid authentication token if this is false\r\n * `authorizationEnabled` --> If false, does not enforce the permission policies on a given namespace. Even more, it doesn't require for the namespace to exist at all.\r\n\r\nIn a way these are a bit confusing and we should try to rethink a little bit the configuration and how to slice in the `anounymousUserRole`. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595672","html_url":"https://github.com/apache/pulsar/pull/820#issuecomment-336595672","issue_url":"https://api.github.com/repos/apache/pulsar/issues/820","id":336595672,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5NTY3Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T00:25:34Z","updated_at":"2017-10-14T00:25:34Z","author_association":"CONTRIBUTOR","body":"For example, if we say that a non-authenticated user always get some predefined role (eg: we could use some reserved tag like `<anonymous>`), then we don't need the `authenticationEnabled` flag in broker.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595999","html_url":"https://github.com/apache/pulsar/pull/826#issuecomment-336595999","issue_url":"https://api.github.com/repos/apache/pulsar/issues/826","id":336595999,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5NTk5OQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T00:29:51Z","updated_at":"2017-10-14T00:29:51Z","author_association":"CONTRIBUTOR","body":"I closed it to make sure we won't merge it before I finish the testing. I missed to add one more change which I figured out while testing it. I have tested it and we don't see this issue so, reopening it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336595999/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336598336","html_url":"https://github.com/apache/pulsar/pull/792#issuecomment-336598336","issue_url":"https://api.github.com/repos/apache/pulsar/issues/792","id":336598336,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5ODMzNg==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T01:00:24Z","updated_at":"2017-10-14T01:00:24Z","author_association":"CONTRIBUTOR","body":"LGTM - will give it one more look on Monday before +1","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336598336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336598524","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-336598524","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":336598524,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5ODUyNA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T01:02:56Z","updated_at":"2017-10-17T18:42:41Z","author_association":"CONTRIBUTOR","body":"few options to handle clients which are already using existing CPP client lib for partitioned topics which is sending invalid sub-name:\r\n\r\n1. Broker rejects requests for the client which are using old cpp-client when it tries to create consumer for partitioned topic\r\n\r\n2. Pass legacy sub-name In CPP client: while creating consumer: For partitioned-topic: \r\n**Client change:** \r\nlet client passes the invalid subscription-name (sub-name + index: eg: `my-sub0`) as a legacy-subscription name and additional send actual subscription-name (sub-name: eg: `my-sub`). \r\n**Broker change:**\r\nbroker will receive two subs-names including legacy sub-id, it means it's a partitioned-topic and coming from new cpp-lib. Now, broker will check if new sub-name (`my-sub`) present : if it's not present then broker will create a new cursor with sub-name (`my-sub`)  by copying from provided legacy sub-name (`my-sub0`)  and delete legacy cursor (`my-sub-0`) \r\n\r\n3. New CPP client will pass correct sub-name. But now, broker will find out if this topic is a partitioned-topic ? If it is then is there any old-invalid-cursor present? If yes, then copy from old-invalid to new cursor and delete old-invalid cursor.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336598524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336599085","html_url":"https://github.com/apache/pulsar/pull/828#issuecomment-336599085","issue_url":"https://api.github.com/repos/apache/pulsar/issues/828","id":336599085,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5OTA4NQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T01:10:26Z","updated_at":"2017-10-14T01:10:26Z","author_association":"CONTRIBUTOR","body":"I haven't looked #385 entirely but with #822 I think both load-manager can split-bundle and unload without any issue. But I will review both.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336599085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336599430","html_url":"https://github.com/apache/pulsar/pull/828#issuecomment-336599430","issue_url":"https://api.github.com/repos/apache/pulsar/issues/828","id":336599430,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5OTQzMA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T01:15:00Z","updated_at":"2017-10-14T01:15:00Z","author_association":"CONTRIBUTOR","body":"I think the modular load manager is not doing auto-split.\r\nI think we should make the modular load manager the default and make sure the auto-splitting is working and gets enabled by default as well.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336599430/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336600001","html_url":"https://github.com/apache/pulsar/pull/828#issuecomment-336600001","issue_url":"https://api.github.com/repos/apache/pulsar/issues/828","id":336600001,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjYwMDAwMQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T01:23:00Z","updated_at":"2017-10-14T01:23:00Z","author_association":"CONTRIBUTOR","body":"> I think we should make the modular load manager the default and make sure the auto-splitting is working and gets enabled by default as well.\r\n\r\nyes, that's what I was thinking and looking into it. We have been running ModularLoadManager since last release and don't see any issue so, we can make it default so, don't have to make change into `SimpleLoadManagerImpl`.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336600001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336625798","html_url":"https://github.com/apache/pulsar/pull/823#issuecomment-336625798","issue_url":"https://api.github.com/repos/apache/pulsar/issues/823","id":336625798,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjYyNTc5OA==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T10:24:16Z","updated_at":"2017-10-14T15:02:52Z","author_association":"CONTRIBUTOR","body":"@merlimat I have fixed pom.xml and added ASF headers to some site files.\r\nCould you please check?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336625798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336768242","html_url":"https://github.com/apache/pulsar/pull/820#issuecomment-336768242","issue_url":"https://api.github.com/repos/apache/pulsar/issues/820","id":336768242,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjc2ODI0Mg==","user":{"login":"yush1ga","id":22343413,"node_id":"MDQ6VXNlcjIyMzQzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/22343413?v=4","gravatar_id":"","url":"https://api.github.com/users/yush1ga","html_url":"https://github.com/yush1ga","followers_url":"https://api.github.com/users/yush1ga/followers","following_url":"https://api.github.com/users/yush1ga/following{/other_user}","gists_url":"https://api.github.com/users/yush1ga/gists{/gist_id}","starred_url":"https://api.github.com/users/yush1ga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yush1ga/subscriptions","organizations_url":"https://api.github.com/users/yush1ga/orgs","repos_url":"https://api.github.com/users/yush1ga/repos","events_url":"https://api.github.com/users/yush1ga/events{/privacy}","received_events_url":"https://api.github.com/users/yush1ga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T03:00:57Z","updated_at":"2017-10-16T03:00:57Z","author_association":"CONTRIBUTOR","body":"@merlimat \r\nI also think `authenticationEnabled` can be removed.\r\nHowever, `anonymousUserRole` should be configurable just in case.\r\n\r\nI think PR to add `anonymousUserRole` and PR to remove `authenticationEnabled` should be separated because removing `authenticationEnabled` will break conf file compatibility. \r\nI am going to make PR to remove `authenticationEnabled` after this PR is merged.\r\nWhat do you think ?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336768242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336807405","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-336807405","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":336807405,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjgwNzQwNQ==","user":{"login":"yush1ga","id":22343413,"node_id":"MDQ6VXNlcjIyMzQzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/22343413?v=4","gravatar_id":"","url":"https://api.github.com/users/yush1ga","html_url":"https://github.com/yush1ga","followers_url":"https://api.github.com/users/yush1ga/followers","following_url":"https://api.github.com/users/yush1ga/following{/other_user}","gists_url":"https://api.github.com/users/yush1ga/gists{/gist_id}","starred_url":"https://api.github.com/users/yush1ga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yush1ga/subscriptions","organizations_url":"https://api.github.com/users/yush1ga/orgs","repos_url":"https://api.github.com/users/yush1ga/repos","events_url":"https://api.github.com/users/yush1ga/events{/privacy}","received_events_url":"https://api.github.com/users/yush1ga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T07:49:50Z","updated_at":"2017-10-16T07:49:50Z","author_association":"CONTRIBUTOR","body":"@merlimat \r\nOur users have not started to use C++ client yet.\r\nTherefore, our users will not be affected by that changing.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/336807405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337102108","html_url":"https://github.com/apache/pulsar/pull/830#issuecomment-337102108","issue_url":"https://api.github.com/repos/apache/pulsar/issues/830","id":337102108,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzEwMjEwOA==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T02:50:12Z","updated_at":"2017-10-17T02:50:12Z","author_association":"CONTRIBUTOR","body":"restest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337102108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337128991","html_url":"https://github.com/apache/pulsar/pull/831#issuecomment-337128991","issue_url":"https://api.github.com/repos/apache/pulsar/issues/831","id":337128991,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzEyODk5MQ==","user":{"login":"nkurihar","id":22067228,"node_id":"MDQ6VXNlcjIyMDY3MjI4","avatar_url":"https://avatars.githubusercontent.com/u/22067228?v=4","gravatar_id":"","url":"https://api.github.com/users/nkurihar","html_url":"https://github.com/nkurihar","followers_url":"https://api.github.com/users/nkurihar/followers","following_url":"https://api.github.com/users/nkurihar/following{/other_user}","gists_url":"https://api.github.com/users/nkurihar/gists{/gist_id}","starred_url":"https://api.github.com/users/nkurihar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkurihar/subscriptions","organizations_url":"https://api.github.com/users/nkurihar/orgs","repos_url":"https://api.github.com/users/nkurihar/repos","events_url":"https://api.github.com/users/nkurihar/events{/privacy}","received_events_url":"https://api.github.com/users/nkurihar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T06:16:15Z","updated_at":"2017-10-17T06:16:15Z","author_association":"CONTRIBUTOR","body":"ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337128991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337316934","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-337316934","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":337316934,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzMxNjkzNA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T18:04:00Z","updated_at":"2017-10-17T18:04:00Z","author_association":"CONTRIBUTOR","body":"Option 3 seems to be better if we can also address cases where old and\nnewer version of cpp clients are connected to the broker.\n\nOn Mon, Oct 16, 2017 at 12:50 AM, Yuki Shiga <notifications@github.com>\nwrote:\n\n> @merlimat <https://github.com/merlimat>\n> Our users have not started to use C++ client yet.\n> Therefore, our users will not be affected by that changing.\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-pulsar/issues/827#issuecomment-336807405>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ATk4LLOKDpGq855GKnLN6oyJmaS7jCKEks5sswqpgaJpZM4P5KK4>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337316934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337321633","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-337321633","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":337321633,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzMyMTYzMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T18:19:01Z","updated_at":"2017-10-17T18:19:13Z","author_association":"CONTRIBUTOR","body":"> 3. New CPP client will pass correct sub-name. But now, broker will find out if this topic is a partitioned-topic ? If it is then is there any old-invalid-cursor present? If yes, then copy from old-invalid to new cursor and delete old-invalid cursor.\r\n\r\n> Option 3 seems to be better if we can also address cases where old and newer version of cpp clients are connected to the broker.\r\n\r\nI think it would be very tricky to pull it right and a bit confusing in any case. \r\n\r\nI'd prefer to just fix the name (since it appears that no one is using C++ partitioned consumers in prod) and do a fix release for this and other bug fixes for 1.20.0","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337321633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337333040","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-337333040","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":337333040,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzMzMzA0MA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T18:55:36Z","updated_at":"2017-10-17T18:55:36Z","author_association":"CONTRIBUTOR","body":"ok with me.\n\nOn Tue, Oct 17, 2017 at 11:25 AM, Matteo Merli <notifications@github.com>\nwrote:\n\n>\n>    1. New CPP client will pass correct sub-name. But now, broker will\n>    find out if this topic is a partitioned-topic ? If it is then is there any\n>    old-invalid-cursor present? If yes, then copy from old-invalid to new\n>    cursor and delete old-invalid cursor.\n>\n> Option 3 seems to be better if we can also address cases where old and\n> newer version of cpp clients are connected to the broker.\n>\n> I think it would be trick to pull it right and a bit confusing in any case.\n>\n> I'd prefer to just fix the name (since it appears that no one is using C++\n> partitioned consumers in prod) and do a fix release for this and other bug\n> fixes for 1.20.0\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-pulsar/issues/827#issuecomment-337321633>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ATk4LBi1ghIzkYl4FXCXT7sAEr3ftBFlks5stO_DgaJpZM4P5KK4>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337333040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337367324","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-337367324","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":337367324,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzM2NzMyNA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T20:52:30Z","updated_at":"2017-10-17T20:52:30Z","author_association":"CONTRIBUTOR","body":"> I'd prefer to just fix the name\r\n\r\nBut then what if someone uses old client version and then upgrade to new client version? client will lose the data. So, it's better to add some handling so, client won't lose the data. \r\n\r\nyes, option-2/3 will be tricky for broker to figure out partitioned-topic. \r\nbecause in these options new cpp-client sends legacy sub-name (sub-name + partitioned-index) so, broker can copy old cursor to new cursor and delete old one. But if someone is still using old client then there will be conflict and it will be tricky to find out if it's genuine or legacy sub-name.\r\n\r\nThen should we add at least add option-1 where we won't allow client to connect with old cpp-client version if client wants to use partitioned-topic (partitioned-metadata-lookup)?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337367324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337397434","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-337397434","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":337397434,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzM5NzQzNA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T22:42:38Z","updated_at":"2017-10-17T22:42:38Z","author_association":"CONTRIBUTOR","body":"> Then should we add at least add option-1 where we won't allow client to connect with old cpp-client version if client wants to use partitioned-topic (partitioned-metadata-lookup)?\r\n\r\n> Broker rejects requests for the client which are using old cpp-client when it tries to create consumer for partitioned topic\r\n\r\nBut the problem is not upgrading the broker, rather upgrading the client. I don't see how this could help here.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337397434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337403426","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-337403426","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":337403426,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQwMzQyNg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T23:08:33Z","updated_at":"2017-10-17T23:08:33Z","author_association":"CONTRIBUTOR","body":"> But the problem is not upgrading the broker, rather upgrading the client.\r\n\r\nwe have already published cpp-client lib with old versions and they are being used by clients for non-partitioned topics right now. But there is no guarantee that client will not use old-client library for partitioned topics. \r\nSo, even if we introduce new cpp-version and if first client uses old version and then upgrade to new version then it will create two separate cursors which will cause the data lose. \r\n\r\n> I don't see how this could help here.\r\n\r\nSo, if broker rejects old-cpp client request for for partitioned-topic-subscription then client won't be able to use old cpp-client and they have to upgrade to new version if client wants to subscribe on partitioned-topic. So, it can prevent client to use old-cpp version.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337403426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337403866","html_url":"https://github.com/apache/pulsar/pull/836#issuecomment-337403866","issue_url":"https://api.github.com/repos/apache/pulsar/issues/836","id":337403866,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQwMzg2Ng==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T23:10:41Z","updated_at":"2017-10-17T23:10:41Z","author_association":"CONTRIBUTOR","body":"LGTM, but will cause the ppl using the old client to lose messages on the incorrect subscription name.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337403866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337405226","html_url":"https://github.com/apache/pulsar/pull/836#issuecomment-337405226","issue_url":"https://api.github.com/repos/apache/pulsar/issues/836","id":337405226,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQwNTIyNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T23:16:38Z","updated_at":"2017-10-17T23:16:38Z","author_association":"CONTRIBUTOR","body":"> LGTM, but will cause the ppl using the old client to lose messages on the incorrect subscription name.\r\n\r\nThat's correct, though the idea is to fix it before anyone starts using it","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337405226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337422113","html_url":"https://github.com/apache/pulsar/issues/821#issuecomment-337422113","issue_url":"https://api.github.com/repos/apache/pulsar/issues/821","id":337422113,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQyMjExMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T00:34:52Z","updated_at":"2017-10-18T00:34:52Z","author_association":"CONTRIBUTOR","body":"The 2 fixes have been merged","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337422113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337422420","html_url":"https://github.com/apache/pulsar/issues/827#issuecomment-337422420","issue_url":"https://api.github.com/repos/apache/pulsar/issues/827","id":337422420,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQyMjQyMA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T00:36:06Z","updated_at":"2017-10-18T00:36:06Z","author_association":"CONTRIBUTOR","body":"Good point, we can certainly do that","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337422420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337458780","html_url":"https://github.com/apache/pulsar/pull/833#issuecomment-337458780","issue_url":"https://api.github.com/repos/apache/pulsar/issues/833","id":337458780,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQ1ODc4MA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T04:42:30Z","updated_at":"2017-10-18T04:42:30Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337458780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337666563","html_url":"https://github.com/apache/pulsar/pull/836#issuecomment-337666563","issue_url":"https://api.github.com/repos/apache/pulsar/issues/836","id":337666563,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzY2NjU2Mw==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T17:30:22Z","updated_at":"2017-10-18T17:30:22Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337666563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337825815","html_url":"https://github.com/apache/pulsar/pull/839#issuecomment-337825815","issue_url":"https://api.github.com/repos/apache/pulsar/issues/839","id":337825815,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzgyNTgxNQ==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T07:42:06Z","updated_at":"2017-10-19T07:42:06Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337825815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337975444","html_url":"https://github.com/apache/pulsar/pull/839#issuecomment-337975444","issue_url":"https://api.github.com/repos/apache/pulsar/issues/839","id":337975444,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzk3NTQ0NA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T17:13:46Z","updated_at":"2017-10-19T17:13:46Z","author_association":"CONTRIBUTOR","body":"@saandrews There are 3 tests failing in Jenkins: \r\n\r\n```\r\nTest Result (3 failures / +3)\r\n\r\n    org.apache.pulsar.client.api.SimpleProducerConsumerTest.testECDSAEncryption\r\n    org.apache.pulsar.client.api.SimpleProducerConsumerTest.testEncryptionFailure\r\n    org.apache.pulsar.client.api.SimpleProducerConsumerTest.testRSAEncryption\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337975444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337990856","html_url":"https://github.com/apache/pulsar/pull/839#issuecomment-337990856","issue_url":"https://api.github.com/repos/apache/pulsar/issues/839","id":337990856,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzk5MDg1Ng==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T18:08:57Z","updated_at":"2017-10-19T18:08:57Z","author_association":"CONTRIBUTOR","body":"This is because our build env does not have the JCE Unlimited Strength Jurisdiction Policy files. http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html. I'll dig further to see if we can install them in our environment.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337990856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337991632","html_url":"https://github.com/apache/pulsar/pull/839#issuecomment-337991632","issue_url":"https://api.github.com/repos/apache/pulsar/issues/839","id":337991632,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzk5MTYzMg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T18:11:47Z","updated_at":"2017-10-19T18:11:47Z","author_association":"CONTRIBUTOR","body":"> This is because our build env does not have the JCE Unlimited Strength Jurisdiction Policy files. http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html. I'll dig further to see if we can install them in our environment. \r\n\r\nWe should have it working out of the box with standard JDK and allow the better encryption if available. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/337991632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338003748","html_url":"https://github.com/apache/pulsar/pull/839#issuecomment-338003748","issue_url":"https://api.github.com/repos/apache/pulsar/issues/839","id":338003748,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAwMzc0OA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T18:55:40Z","updated_at":"2017-10-19T19:03:21Z","author_association":"CONTRIBUTOR","body":"I see your point. But, if we do not enforce, a producer produced using 256 bit AES key and if consumer host does not have the unlimited policy files installed, it will fail to decrypt. This is true for RSA/ECDSA keys as well. I'm considering the following change to address this:\r\n```\r\nint aesKeyLength = javax.crypto.Cipher.getMaxAllowedKeyLength(\"AES\");\r\nif (aesKeyLength <= 128) {\r\n    log.warn(\r\n             \"{} JCE Cryptographic strength is limited to {}. Consider installing JCE Unlimited Strength Jurisdiction Policy Files.\",\r\n             logCtx, aesKeyLength);\r\n        keyGenerator.init(aesKeyLength, secureRandom);\r\n    } else {\r\n        keyGenerator.init(256, secureRandom);\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338003748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338050464","html_url":"https://github.com/apache/pulsar/issues/813#issuecomment-338050464","issue_url":"https://api.github.com/repos/apache/pulsar/issues/813","id":338050464,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODA1MDQ2NA==","user":{"login":"awilliams","id":645192,"node_id":"MDQ6VXNlcjY0NTE5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/645192?v=4","gravatar_id":"","url":"https://api.github.com/users/awilliams","html_url":"https://github.com/awilliams","followers_url":"https://api.github.com/users/awilliams/followers","following_url":"https://api.github.com/users/awilliams/following{/other_user}","gists_url":"https://api.github.com/users/awilliams/gists{/gist_id}","starred_url":"https://api.github.com/users/awilliams/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awilliams/subscriptions","organizations_url":"https://api.github.com/users/awilliams/orgs","repos_url":"https://api.github.com/users/awilliams/repos","events_url":"https://api.github.com/users/awilliams/events{/privacy}","received_events_url":"https://api.github.com/users/awilliams/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T22:01:19Z","updated_at":"2017-10-19T22:01:19Z","author_association":"CONTRIBUTOR","body":"I worked around this by updating `conf/pulsar_env.sh`, changing where `PULSAR_EXTRA_OPTS` is overwritten. I then launch global zookeeper with the following env variable set:\r\n\r\n```shell\r\nPULSAR_EXTRA_OPTS=\"-Dstats_server_port=8081\"\r\n```\r\n\r\nModified line ([original](https://github.com/apache/incubator-pulsar/blob/539c8182037fe540433eeb4e7072e4bf2b3eae04/conf/pulsar_env.sh#L51)):\r\n\r\n```\r\nPULSAR_EXTRA_OPTS=\"${PULSAR_EXTRA_OPTS} ${PULSAR_MEM} ${PULSAR_GC} -Dio.netty.leakDetectionLevel=disabled -Dio.netty.recycler.linkCapacity=1024\"\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338050464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338057631","html_url":"https://github.com/apache/pulsar/pull/839#issuecomment-338057631","issue_url":"https://api.github.com/repos/apache/pulsar/issues/839","id":338057631,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODA1NzYzMQ==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T22:39:13Z","updated_at":"2017-10-19T22:39:13Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338057631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338085648","html_url":"https://github.com/apache/pulsar/pull/839#issuecomment-338085648","issue_url":"https://api.github.com/repos/apache/pulsar/issues/839","id":338085648,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODA4NTY0OA==","user":{"login":"saandrews","id":20527148,"node_id":"MDQ6VXNlcjIwNTI3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/20527148?v=4","gravatar_id":"","url":"https://api.github.com/users/saandrews","html_url":"https://github.com/saandrews","followers_url":"https://api.github.com/users/saandrews/followers","following_url":"https://api.github.com/users/saandrews/following{/other_user}","gists_url":"https://api.github.com/users/saandrews/gists{/gist_id}","starred_url":"https://api.github.com/users/saandrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saandrews/subscriptions","organizations_url":"https://api.github.com/users/saandrews/orgs","repos_url":"https://api.github.com/users/saandrews/repos","events_url":"https://api.github.com/users/saandrews/events{/privacy}","received_events_url":"https://api.github.com/users/saandrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T02:03:27Z","updated_at":"2017-10-20T02:03:27Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338085648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338122579","html_url":"https://github.com/apache/pulsar/pull/843#issuecomment-338122579","issue_url":"https://api.github.com/repos/apache/pulsar/issues/843","id":338122579,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODEyMjU3OQ==","user":{"login":"hrsakai","id":22829228,"node_id":"MDQ6VXNlcjIyODI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/22829228?v=4","gravatar_id":"","url":"https://api.github.com/users/hrsakai","html_url":"https://github.com/hrsakai","followers_url":"https://api.github.com/users/hrsakai/followers","following_url":"https://api.github.com/users/hrsakai/following{/other_user}","gists_url":"https://api.github.com/users/hrsakai/gists{/gist_id}","starred_url":"https://api.github.com/users/hrsakai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrsakai/subscriptions","organizations_url":"https://api.github.com/users/hrsakai/orgs","repos_url":"https://api.github.com/users/hrsakai/repos","events_url":"https://api.github.com/users/hrsakai/events{/privacy}","received_events_url":"https://api.github.com/users/hrsakai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T06:58:58Z","updated_at":"2017-10-20T06:58:58Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338122579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338145834","html_url":"https://github.com/apache/pulsar/pull/792#issuecomment-338145834","issue_url":"https://api.github.com/repos/apache/pulsar/issues/792","id":338145834,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODE0NTgzNA==","user":{"login":"nkurihar","id":22067228,"node_id":"MDQ6VXNlcjIyMDY3MjI4","avatar_url":"https://avatars.githubusercontent.com/u/22067228?v=4","gravatar_id":"","url":"https://api.github.com/users/nkurihar","html_url":"https://github.com/nkurihar","followers_url":"https://api.github.com/users/nkurihar/followers","following_url":"https://api.github.com/users/nkurihar/following{/other_user}","gists_url":"https://api.github.com/users/nkurihar/gists{/gist_id}","starred_url":"https://api.github.com/users/nkurihar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkurihar/subscriptions","organizations_url":"https://api.github.com/users/nkurihar/orgs","repos_url":"https://api.github.com/users/nkurihar/repos","events_url":"https://api.github.com/users/nkurihar/events{/privacy}","received_events_url":"https://api.github.com/users/nkurihar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T08:46:19Z","updated_at":"2017-10-20T08:46:19Z","author_association":"CONTRIBUTOR","body":"LGTM\r\n\r\n@jai1 \r\nCould you give a final check?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338145834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338280126","html_url":"https://github.com/apache/pulsar/pull/845#issuecomment-338280126","issue_url":"https://api.github.com/repos/apache/pulsar/issues/845","id":338280126,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODI4MDEyNg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T18:00:59Z","updated_at":"2017-10-20T18:00:59Z","author_association":"CONTRIBUTOR","body":"`org.bouncycastle:*` jars contains `BCKEY.*` files which may have reference of package `org.bouncycastle.*` .  I am not sure but if it has package name reference in that file then shading with different package name will create an issue? we faced similar one with async-http-client before.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338280126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338288380","html_url":"https://github.com/apache/pulsar/pull/845#issuecomment-338288380","issue_url":"https://api.github.com/repos/apache/pulsar/issues/845","id":338288380,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODI4ODM4MA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T18:34:15Z","updated_at":"2017-10-20T18:34:15Z","author_association":"CONTRIBUTOR","body":"> if encryption tests are working fine with shaded jar then we should be good.\r\n\r\nI'll verify that before merging\r\n ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338288380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338293923","html_url":"https://github.com/apache/pulsar/pull/845#issuecomment-338293923","issue_url":"https://api.github.com/repos/apache/pulsar/issues/845","id":338293923,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODI5MzkyMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T18:56:29Z","updated_at":"2017-10-20T18:56:29Z","author_association":"CONTRIBUTOR","body":"Ok, I think it's a bit complicated: \r\n\r\n```\r\n$ head BCKEY.SF\r\nSignature-Version: 1.0\r\nSHA-256-Digest-Manifest-Main-Attributes: 41/F8KQN2II/2stdAnu5LBlYp66Eg\r\n a7Ngkor+G6WMHA=\r\nSHA-256-Digest-Manifest: m3V7LcA/0RcgZmzAGfy8sc+v1/bbr/g7+tC8SF/z+MI=\r\nCreated-By: 1.8.0_101 (Oracle Corporation)\r\n\r\nName: org/bouncycastle/cert/dane/DANEEntrySelectorFactory.class\r\nSHA-256-Digest: GNFvLC5yp3O3FZ7XT0nPeSsaw6eMsoMHXt+1uilmn4U=\r\n```\r\n\r\nThe names here are not updated by the shading plugin. I'll close this PR for now","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338293923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338350372","html_url":"https://github.com/apache/pulsar/pull/846#issuecomment-338350372","issue_url":"https://api.github.com/repos/apache/pulsar/issues/846","id":338350372,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODM1MDM3Mg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-21T00:25:18Z","updated_at":"2017-10-21T00:25:18Z","author_association":"CONTRIBUTOR","body":"seems like some test-setups are failing.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338350372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338531753","html_url":"https://github.com/apache/pulsar/pull/836#issuecomment-338531753","issue_url":"https://api.github.com/repos/apache/pulsar/issues/836","id":338531753,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODUzMTc1Mw==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T02:27:49Z","updated_at":"2017-10-23T02:27:49Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338531753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338538606","html_url":"https://github.com/apache/pulsar/pull/836#issuecomment-338538606","issue_url":"https://api.github.com/repos/apache/pulsar/issues/836","id":338538606,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODUzODYwNg==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T03:26:36Z","updated_at":"2017-10-23T04:53:12Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338538606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338730045","html_url":"https://github.com/apache/pulsar/pull/847#issuecomment-338730045","issue_url":"https://api.github.com/repos/apache/pulsar/issues/847","id":338730045,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODczMDA0NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T17:12:09Z","updated_at":"2017-10-23T17:12:09Z","author_association":"CONTRIBUTOR","body":"There is a test failure possibly related to the change: \r\n```\r\n[0;32m[ RUN      ] ^[[mAuthPluginTest.testAthenz\r\nlog4cxx: No appender could be found for logger (pulsar./pulsar/pulsar-client-cpp/lib/auth/athenz/ZTSClient.cc).\r\nlog4cxx: Please initialize the log4cxx system properly.\r\n/pulsar/pulsar-client-cpp/tests/AuthPluginTest.cc:165: Failure\r\nValue of: \"Athenz-Role-Auth: mockToken\"\r\nExpected: data->getHttpHeaders()\r\nWhich is: \": \"\r\n^[[0;31m[  FAILED  ] ^[[mAuthPluginTest.testAthenz (2 ms)\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338730045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338775878","html_url":"https://github.com/apache/pulsar/pull/846#issuecomment-338775878","issue_url":"https://api.github.com/repos/apache/pulsar/issues/846","id":338775878,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODc3NTg3OA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T19:49:21Z","updated_at":"2017-10-23T19:49:21Z","author_association":"CONTRIBUTOR","body":"> I just tried this commit it creates pulsar-client.jar(shaded jar) and pulsar-client-original.jar (actual jar without dep). So, should we avoid creating this pom file.\r\n\r\nThe problem is how to fetch the \"unshaded\" jar from other modules (eg: `pulsar-broker`). I don't think that is possible with a single maven module. Just setting the shaded jar file name won't change that.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338775878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338799394","html_url":"https://github.com/apache/pulsar/pull/846#issuecomment-338799394","issue_url":"https://api.github.com/repos/apache/pulsar/issues/846","id":338799394,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODc5OTM5NA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T21:17:14Z","updated_at":"2017-10-23T21:17:14Z","author_association":"CONTRIBUTOR","body":"> The problem is how to fetch the \"unshaded\" jar from other modules (eg: pulsar-broker).\r\n\r\nPlease correct me if I understood it wrong. we are changing name of \"unshaded\" to `pulsar-client-original` and we want other modules to use the `pulsar-client-original` dependency only. \r\n\r\n\r\nSo, with [commit](https://github.com/rdhabalia/pulsar/commit/e0429c2f21f8ab341e58f4257adfa38a8aa222ae) when I tried `mvn clean install -DskipTests` I see following output:\r\n\r\n```\r\n[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ pulsar-client ---\r\n[INFO] Installing /yh/git/july/pulsar/pulsar-client/target/pulsar-client-original.jar to /Users/rdhabalia/.m2/repository/org/apache/pulsar/pulsar-client/1.21.0-incubating-SNAPSHOT/pulsar-client-1.21.0-incubating-SNAPSHOT.jar\r\n[INFO] Installing /yh/git/july/pulsar/pulsar-client/pom.xml to /Users/rdhabalia/.m2/repository/org/apache/pulsar/pulsar-client/1.21.0-incubating-SNAPSHOT/pulsar-client-1.21.0-incubating-SNAPSHOT.pom\r\n[INFO] Installing /yh/git/july/pulsar/pulsar-client/target/pulsar-client.jar to /Users/rdhabalia/.m2/repository/org/apache/pulsar/pulsar-client/1.21.0-incubating-SNAPSHOT/pulsar-client-1.21.0-incubating-SNAPSHOT-shaded.jar\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n```\r\n\r\n```\r\nls -lh target/\r\ntotal 15744\r\ndrwxr-xr-x  6  wheel   204B Oct 23 14:04 classes\r\n-rw-r--r--  1  wheel   3.7K Oct 23 14:04 classpath.txt\r\ndrwxr-xr-x  4  wheel   136B Oct 23 14:04 generated-sources\r\ndrwxr-xr-x  3  wheel   102B Oct 23 14:04 maven-archiver\r\ndrwxr-xr-x  3  wheel   102B Oct 23 14:04 maven-shared-archive-resources\r\n-rw-r--r--  1  wheel   213K Oct 23 14:04 pulsar-client-original.jar\r\n-rw-r--r--  1  wheel   7.5M Oct 23 14:04 pulsar-client.jar\r\ndrwxr-xr-x  5  wheel   170B Oct 23 14:04 test-classes\r\n```\r\n\r\n```\r\nls -lh  ~/.m2/repository/org/apache/pulsar/pulsar-client/1.21.0-incubating-SNAPSHOT/\r\ntotal 15792\r\n-rw-r--r--  1  staff   281B Oct 23 14:04 _remote.repositories\r\n-rw-r--r--  1  staff   968B Oct 23 14:04 maven-metadata-local.xml\r\n-rw-r--r--  1  staff   7.5M Oct 23 14:04 pulsar-client-1.21.0-incubating-SNAPSHOT-shaded.jar\r\n-rw-r--r--  1  staff   213K Oct 23 14:04 pulsar-client-1.21.0-incubating-SNAPSHOT.jar\r\n-rw-r--r--  1  staff   634B Oct 13 14:45 pulsar-client-1.21.0-incubating-SNAPSHOT.jar.lastUpdated\r\n-rw-r--r--  1  staff   7.5K Oct 23 14:03 pulsar-client-1.21.0-incubating-SNAPSHOT.pom\r\n\r\n```\r\n\r\nSo, `mvn install` creates two separate jars in target `pulsar-client-original`(unshaded) and `pulsar-client.jar`(shaded). and maven-loca-repo contains separate `pulsar-client-1.21.0-incubating-SNAPSHOT.jar`(unshaded) and `pulsar-client-1.21.0-incubating-SNAPSHOT-shaded.jar`(shaded). \r\n\r\nSo, other modules can still use `pulsar-client` artifactId which pulls unshaded jar only and `mvn deploy` can push shaded-jar as `pulsar-client`.\r\nIsn't that work?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338799394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338801668","html_url":"https://github.com/apache/pulsar/pull/846#issuecomment-338801668","issue_url":"https://api.github.com/repos/apache/pulsar/issues/846","id":338801668,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODgwMTY2OA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T21:26:15Z","updated_at":"2017-10-23T21:26:15Z","author_association":"CONTRIBUTOR","body":"> So, mvn install creates two separate jars in target pulsar-client-original(unshaded) and pulsar-client.jar(shaded). and maven-loca-repo contains separate pulsar-client-1.21.0-incubating-SNAPSHOT.jar(unshaded) and pulsar-client-1.21.0-incubating-SNAPSHOT-shaded.jar(shaded).\r\n\r\n\r\nCorrect, but that is the current behavior in master, right? It doesn't change the fact that the \"shaded\" jar is not the default, nor that the dependency-reduced pom is not being published.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338801668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338874766","html_url":"https://github.com/apache/pulsar/pull/847#issuecomment-338874766","issue_url":"https://api.github.com/repos/apache/pulsar/issues/847","id":338874766,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODg3NDc2Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-24T05:04:05Z","updated_at":"2017-10-24T05:04:05Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338874766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338875446","html_url":"https://github.com/apache/pulsar/pull/849#issuecomment-338875446","issue_url":"https://api.github.com/repos/apache/pulsar/issues/849","id":338875446,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODg3NTQ0Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-24T05:08:52Z","updated_at":"2017-10-24T05:08:52Z","author_association":"CONTRIBUTOR","body":"Rebased on master after merging #848 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338875446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338875818","html_url":"https://github.com/apache/pulsar/pull/841#issuecomment-338875818","issue_url":"https://api.github.com/repos/apache/pulsar/issues/841","id":338875818,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODg3NTgxOA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-24T05:11:36Z","updated_at":"2017-10-24T05:11:36Z","author_association":"CONTRIBUTOR","body":"@massakam Is the other log4j configuration already using local timezone as well?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338875818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338884052","html_url":"https://github.com/apache/pulsar/pull/841#issuecomment-338884052","issue_url":"https://api.github.com/repos/apache/pulsar/issues/841","id":338884052,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODg4NDA1Mg==","user":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-24T06:08:09Z","updated_at":"2017-10-24T06:08:09Z","author_association":"CONTRIBUTOR","body":"@merlimat \r\nYes, since timezone is not specified in log4j configuration files, user's local timezone is used by default.\r\nhttps://github.com/apache/incubator-pulsar/blob/0dda90475d996c7c520debf9bfa9af9399989480/conf/log4j.properties#L44\r\n\r\nWe can specify the timezone explicitly by modifying log4j configuration files as follows:\r\n```diff\r\n-log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\r\n-log4j.appender.CONSOLE.layout.ConversionPattern=%d{ISO8601} - %-5p - [%t:%C{1}@%L] - %m%n\r\n+log4j.appender.CONSOLE.layout=org.apache.log4j.EnhancedPatternLayout\r\n+log4j.appender.CONSOLE.layout.ConversionPattern=%d{ISO8601}{America/New_York} - %-5p - [%t:%C{1}@%L] - %m%n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/338884052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339055676","html_url":"https://github.com/apache/pulsar/pull/846#issuecomment-339055676","issue_url":"https://api.github.com/repos/apache/pulsar/issues/846","id":339055676,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTA1NTY3Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-24T16:46:16Z","updated_at":"2017-10-24T16:46:16Z","author_association":"CONTRIBUTOR","body":"> I think we if we are able to generate separate jars and separate pom.xml with correct name and if we can publish specific jar with pom using deploy:deploy-file then it could be a better approach rather introducing additional pom.\r\n\r\n@rdhabalia I agree that it would be nicer if done with a single maven module, though I don't see a way to do it right now. Using `deploy:deploy-file` will need to have an ad-hoc step in the release process as well. If that's ok, I'd rather merge this and later we can improve on the maven config.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339055676/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339172713","html_url":"https://github.com/apache/pulsar/issues/855#issuecomment-339172713","issue_url":"https://api.github.com/repos/apache/pulsar/issues/855","id":339172713,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTE3MjcxMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T00:05:56Z","updated_at":"2017-10-25T00:05:56Z","author_association":"CONTRIBUTOR","body":"Hi @rstout610, I'm not familiar with sbt. Is it fetching all the dependencies from `pulsar-client`? \r\n\r\nCan you show the classpath is using?\r\n\r\nAnother option is to use the `shaded` jar for the pulsar client dependency. That will include all the required dependencies (also shaded to avoid conflicts). \r\nIn next release, this shaded jar will be the default, in the meantime you can use the Maven classifier to use it. \r\n\r\nFor example, change the dependency as: \r\n\r\n```\r\n\"org.apache.pulsar\" % \"pulsar-client\" % \"1.20.0-incubating\" classifier \"shaded\"\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339172713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339173496","html_url":"https://github.com/apache/pulsar/issues/855#issuecomment-339173496","issue_url":"https://api.github.com/repos/apache/pulsar/issues/855","id":339173496,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTE3MzQ5Ng==","user":{"login":"rstout610","id":32314766,"node_id":"MDQ6VXNlcjMyMzE0NzY2","avatar_url":"https://avatars.githubusercontent.com/u/32314766?v=4","gravatar_id":"","url":"https://api.github.com/users/rstout610","html_url":"https://github.com/rstout610","followers_url":"https://api.github.com/users/rstout610/followers","following_url":"https://api.github.com/users/rstout610/following{/other_user}","gists_url":"https://api.github.com/users/rstout610/gists{/gist_id}","starred_url":"https://api.github.com/users/rstout610/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rstout610/subscriptions","organizations_url":"https://api.github.com/users/rstout610/orgs","repos_url":"https://api.github.com/users/rstout610/repos","events_url":"https://api.github.com/users/rstout610/events{/privacy}","received_events_url":"https://api.github.com/users/rstout610/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T00:11:11Z","updated_at":"2017-10-25T00:11:11Z","author_association":"CONTRIBUTOR","body":"Thanks @merlimat, the \"shaded\" classifier worked! ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339173496/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339188349","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339188349","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339188349,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTE4ODM0OQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T01:50:06Z","updated_at":"2017-10-25T01:50:06Z","author_association":"CONTRIBUTOR","body":"Nice! I will take a look and test it soon.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339188349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339419856","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339419856","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339419856,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTQxOTg1Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T18:08:50Z","updated_at":"2017-10-25T18:08:50Z","author_association":"CONTRIBUTOR","body":"@rdhabalia I'm getting one exception reported even though the split itself suceeds: \r\n\r\n```\r\n2017-10-25 11:07:25,192 - INFO  - [pulsar-load-manager-27-1:ModularLoadManagerImpl@415] - Writing local data to ZooKeeper because maximum change Infinity% exceeded threshold 10%; time since last report written is 35.002 seconds\r\n2017-10-25 11:07:25,195 - INFO  - [main-EventThread:ZooKeeperDataCache@145] - [State:CONNECTED Timeout:30000 sessionid:0x15f54b6a93d0003 local:/127.0.0.1:53217 remoteserver:127.0.0.1/127.0.0.1:2181 lastZxid:3374 xid:807 sent:807 recv:809 queuedpkts:0 pendingresp:0 queuedevents:0] Received ZooKeeper watch event: WatchedEvent state:SyncConnected type:NodeDataChanged path:/loadbalance/brokers/localhost:8080\r\n2017-10-25 11:07:25,198 - INFO  - [pulsar-modular-load-manager-76-1:ModularLoadManagerImpl@604] - Load-manager splitting budnle sample/standalone/test-2/0x00000000_0xffffffff and unloading false\r\n2017-10-25 11:07:25,200 - INFO  - [pulsar-modular-load-manager-76-1:PulsarService@586] - Admin api url: http://localhost:8080\r\n2017-10-25 11:07:25,231 - INFO  - [pulsar-web-77-19:Namespaces@843] - [null] Split namespace bundle sample/standalone/test-2/0x00000000_0xffffffff\r\n2017-10-25 11:07:25,235 - INFO  - [pulsar-web-77-19:PulsarWebResource@221] - Successfully validated clusters on property [sample]\r\n2017-10-25 11:07:25,237 - INFO  - [pulsar-web-77-19:OwnershipCache@208] - Trying to acquire ownership of sample/standalone/test-2/0x00000000_0x7fffffff\r\n2017-10-25 11:07:25,237 - INFO  - [pulsar-web-77-19:OwnershipCache@208] - Trying to acquire ownership of sample/standalone/test-2/0x7fffffff_0xffffffff\r\n2017-10-25 11:07:25,238 - INFO  - [main-EventThread:OwnershipCache@213] - Successfully acquired ownership of /namespace/sample/standalone/test-2/0x00000000_0x7fffffff\r\n2017-10-25 11:07:25,238 - INFO  - [main-EventThread:OwnershipCache@213] - Successfully acquired ownership of /namespace/sample/standalone/test-2/0x7fffffff_0xffffffff\r\n2017-10-25 11:07:25,242 - INFO  - [main-EventThread:ZooKeeperDataCache@145] - [State:CONNECTED Timeout:30000 sessionid:0x15f54b6a93d0003 local:/127.0.0.1:53217 remoteserver:127.0.0.1/127.0.0.1:2181 lastZxid:3377 xid:811 sent:811 recv:814 queuedpkts:0 pendingresp:0 queuedevents:1] Received ZooKeeper watch event: WatchedEvent state:SyncConnected type:NodeDataChanged path:/admin/local-policies/sample/standalone/test-2\r\n2017-10-25 11:07:25,245 - INFO  - [pulsar-ordered-21-1:NamespaceBundleFactory@113] - Policy updated for namespace sample/standalone/test-2, refreshing the bundle cache.\r\n2017-10-25 11:07:25,256 - INFO  - [pulsar-web-77-19:Namespaces@860] - [null] Successfully split namespace bundle sample/standalone/test-2/0x00000000_0xffffffff\r\n2017-10-25 11:07:25,258 - INFO  - [pulsar-web-77-19:Slf4jRequestLog@60] - 127.0.0.1 - - [25/Oct/2017:18:07:25 +0000] \"PUT //localhost:8080/admin/namespaces/sample/standalone/test-2/0x00000000_0xffffffff/split?unload=false HTTP/1.1\" 204 0 \"-\" \"Jersey/2.23.2 (HttpUrlConnection 1.8.0_121)\" 32\r\n2017-10-25 11:07:25,259 - INFO  - [ProcessThread(sid:0 cport:2181)::PrepRequestProcessor@648] - Got user-level KeeperException when processing sessionid:0x15f54b6a93d0003 type:delete cxid:0x32c zxid:0xd32 txntype:-1 reqpath:n/a Error Path:/loadbalance/bundle-data/sample/standalone/test-2 Error:KeeperErrorCode = NoNode for /loadbalance/bundle-data/sample/standalone/test-2\r\n2017-10-25 11:07:25,261 - WARN  - [pulsar-modular-load-manager-76-1:ModularLoadManagerImpl@832] - Failed to delete bundle-data sample/standalone/test-2/0x00000000_0xffffffff from zookeeper\r\norg.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /loadbalance/bundle-data/sample/standalone/test-2/0x00000000_0xffffffff\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:111)\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:51)\r\n\tat org.apache.zookeeper.ZooKeeper.delete(ZooKeeper.java:873)\r\n\tat org.apache.bookkeeper.zookeeper.ZooKeeperClient.access$1501(ZooKeeperClient.java:60)\r\n\tat org.apache.bookkeeper.zookeeper.ZooKeeperClient$10.call(ZooKeeperClient.java:555)\r\n\tat org.apache.bookkeeper.zookeeper.ZooKeeperClient$10.call(ZooKeeperClient.java:549)\r\n\tat org.apache.bookkeeper.zookeeper.ZooWorker.syncCallWithRetries(ZooWorker.java:122)\r\n\tat org.apache.bookkeeper.zookeeper.ZooKeeperClient.delete(ZooKeeperClient.java:549)\r\n\tat org.apache.pulsar.broker.loadbalance.impl.ModularLoadManagerImpl.deleteBundleDataFromZookeeper(ModularLoadManagerImpl.java:830)\r\n\tat org.apache.pulsar.broker.loadbalance.impl.ModularLoadManagerImpl.checkNamespaceBundleSplit(ModularLoadManagerImpl.java:614)\r\n\tat org.apache.pulsar.broker.loadbalance.impl.ModularLoadManagerImpl.updateAll(ModularLoadManagerImpl.java:428)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n2017-10-25 11:07:25,264 - INFO  - [pulsar-modular-load-manager-76-1:ModularLoadManagerImpl@615] - Successfully split namespace bundle sample/standalone/test-2/0x00000000_0xffffffff\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339419856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339427165","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339427165","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339427165,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTQyNzE2NQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T18:32:08Z","updated_at":"2017-10-25T18:32:08Z","author_association":"CONTRIBUTOR","body":"```\r\n2017-10-25 11:07:25,261 - WARN  - [pulsar-modular-load-manager-76-1:ModularLoadManagerImpl@832] - Failed to delete bundle-data sample/standalone/test-2/0x00000000_0xffffffff from zookeeper\r\norg.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /loadbalance/bundle-data/sample/standalone/test-2/0x00000000_0xffffffff\r\n```\r\nafter splitting bundle we delete old bundle-data.It seems this exception happens while deleting the old-bundle-znode. I have added this logic in the end after testing this PR change. let me a take look of it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339427165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339428030","html_url":"https://github.com/apache/pulsar/pull/854#issuecomment-339428030","issue_url":"https://api.github.com/repos/apache/pulsar/issues/854","id":339428030,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTQyODAzMA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T18:34:51Z","updated_at":"2017-10-25T18:34:51Z","author_association":"CONTRIBUTOR","body":"creating more bundles will increase shutdowntime of broker because broker unloads topic in parallel  but unloading bundle happens sequentially. Using load-balancer we can always split eligible bundle but we can't merge bundle once we split. So, should we keep this number lower than 16.??","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339428030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339433929","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339433929","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339433929,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTQzMzkyOQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T18:53:48Z","updated_at":"2017-10-25T18:53:48Z","author_association":"CONTRIBUTOR","body":">  delete BundleData only if it exists (initially it may not be present)\r\n\r\nUhm, I'm still seeing that being present eg: \r\n\r\n```\r\n[zk: localhost:2181(CONNECTED) 18] ls /loadbalance/bundle-data/sample/standalone/test-3\r\n[0x6fffffff_0x7fffffff, 0x3fffffff_0x4fffffff, 0xbfffffff_0xcfffffff, 0x0fffffff_0x1fffffff, \r\n0x5fffffff_0x6fffffff, 0x2fffffff_0x3fffffff, 0xdfffffff_0xffffffff, 0xafffffff_0xbfffffff, \r\n0x7fffffff_0x9fffffff, 0xcfffffff_0xdfffffff, 0x9fffffff_0xafffffff, 0x4fffffff_0x5fffffff, \r\n0x1fffffff_0x2fffffff, 0x00000000_0x0fffffff]\r\n```\r\nAll the bundles data is still in ZK some time after the splits (In this case I've started with 1 bundle and let the auto-split take over).\r\n\r\nSame thing about the bundles list : \r\n\r\n```json\r\n$ bin/pulsar-admin brokers namespaces --url localhost:8080 standalone\r\n{\r\n  \"sample/standalone/test-3/0x1fffffff_0x2fffffff\" : {\r\n    \"broker_assignment\" : \"shared\",\r\n    \"is_controlled\" : false,\r\n    \"is_active\" : true\r\n  },\r\n  \"sample/standalone/test-3/0xcfffffff_0xdfffffff\" : {\r\n    \"broker_assignment\" : \"shared\",\r\n    \"is_controlled\" : false,\r\n    \"is_active\" : true\r\n  },\r\n  \"sample/standalone/test-3/0x1fffffff_0x3fffffff\" : {\r\n    \"broker_assignment\" : \"shared\",\r\n    \"is_controlled\" : false,\r\n    \"is_active\" : false\r\n  },\r\n  \"pulsar/standalone/localhost:8080/0x00000000_0xffffffff\" : {\r\n    \"broker_assignment\" : \"shared\",\r\n    \"is_controlled\" : false,\r\n    \"is_active\" : true\r\n  },\r\n  \"sample/standalone/test-3/0x7fffffff_0xffffffff\" : {\r\n    \"broker_assignment\" : \"shared\",\r\n    \"is_controlled\" : false,\r\n    \"is_active\" : false\r\n  },\r\n  \"sample/standalone/test-3/0x00000000_0x0fffffff\" : {\r\n    \"broker_assignment\" : \"shared\",\r\n    \"is_controlled\" : false,\r\n    \"is_active\" : true\r\n  },\r\n...\r\n```\r\n\r\nThis I think is not related to this PR, though something we might want to think about. \r\n\r\nAt the same time, the locks for the pre-split bundles are still there, but I think that is ok.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339433929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339443880","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339443880","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339443880,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTQ0Mzg4MA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T19:28:24Z","updated_at":"2017-10-25T19:28:24Z","author_association":"CONTRIBUTOR","body":"> This I think is not related to this PR, though something we might want to think about\r\n\r\nsorry, I couldn't understand it. This exception was related to this PR only. \r\nIf bundle-data is not present then we create a bundle-data when [leader updates resource Quota from load-report](https://github.com/apache/incubator-pulsar/blob/master/pulsar-broker/src/main/java/org/apache/pulsar/broker/loadbalance/impl/ModularLoadManagerImpl.java#L770).\r\n\r\nNow, if bundle split happens even before leader-resource-quota created s bundle-data  then bundle-data-znode will not be present. So, leader should not try to delete znode which doesn't exist.\r\n\r\n> Uhm, I'm still seeing that being present eg:\r\n\r\nAfter this fix I have tested again with 3 brokers and started with 1 bundle in namespace, I don't see exception in broker-log and also don't see bundle-data into zookeeper. \r\n```\r\n[zk: localhost:2181(CONNECTED) 14] ls /loadbalance/bundle-data/sample/standalone/a1                     \r\n[]\r\n[zk: localhost:2181(CONNECTED) 15] ls /namespace/sample/standalone/a1              \r\n[0x07ffffff_0x0fffffff, 0x082fffff_0x083fffff, 0x082fffff_0x0837ffff, 0x081fffff_0x083fffff, 0x07ffffff_0x08ffffff, 0x07ffffff_0x087fffff, 0x00000000_0xffffffff, 0x07ffffff_0x09ffffff, 0x00000000_0x1fffffff, 0x07ffffff_0x083fffff, 0x07ffffff_0x0bffffff, 0x00000000_0x7fffffff, 0x00000000_0x3fffffff, 0x00000000_0x0fffffff]\r\n```\r\nAre you still able to see bundle-data with clean bundle-split by load-balancer?\r\n\r\n> Same thing about the bundles list :\r\n$ bin/pulsar-admin brokers namespaces --url localhost:8080 standalone\r\n{\r\n  \"sample/standalone/test-3/0x1fffffff_0x2fffffff\" : {\r\n    \"broker_assignment\" : \"shared\",\r\n    \"is_controlled\" : false,\r\n    \"is_active\" : true\r\n  },\r\n\r\nI didn't understand it fully. But what happens here:\r\n1. Broker-1 owns bundle `b1` and leader splits it to `b2` and `b3` then broker-1 still owns `b1` with in memory-state=disabled and zk-state=enabled.\r\n2. So, if Broker-2 still doesn't know about split  (because it might not receive watch) then broker-2 redirects topic request to broker-1\r\n3. Broker-1 knows correct bundle for the lookup topic (either `b2` or `b3`) and redirects the request to appropriate broker.\r\n\r\nSo, all old split-bundles will be disappeared once that broker will restart. We can't remove it from broker immediately because in step-2 if broker-2 may not receive watch and in that case we want broker-2 to redirect request to broker-1 by thinking that old-split-bundle still owned by broker-1.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339443880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339492445","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339492445","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339492445,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTQ5MjQ0NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T22:26:05Z","updated_at":"2017-10-25T22:26:05Z","author_association":"CONTRIBUTOR","body":"What about restricting which namespaces the proxy can use?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339492445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339493884","html_url":"https://github.com/apache/pulsar/pull/854#issuecomment-339493884","issue_url":"https://api.github.com/repos/apache/pulsar/issues/854","id":339493884,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTQ5Mzg4NA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T22:31:09Z","updated_at":"2017-10-25T22:31:09Z","author_association":"CONTRIBUTOR","body":"> creating more bundles will increase shutdowntime of broker because broker unloads topic in parallel but unloading bundle happens sequentially. Using load-balancer we can always split eligible bundle but we can't merge bundle once we split. So, should we keep this number lower than 16.??\r\n\r\nThat's a good point, though I suspect it won't make any difference outside Yahoo ðŸ˜„ \r\n\r\nWe could lower the default to something like 4, if 16 poses concerns. The goal here is to have the traffic on partitioned topics to be immediately distributed to at least few machines.\r\n\r\nIn any case, for the shutdown time, probably a better option could be to throttle based on number of topics per bundle. \r\n\r\nInstead of shutting down bundles 1 by 1, we could keep shutting down bundles in parallel until a certain threshold of topics is reached. (eg: a semaphore with max 1K topics)\r\n\r\nThat would remove any disadvantage in having more bundles with fewer topics.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339493884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339500153","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339500153","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339500153,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUwMDE1Mw==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T23:01:51Z","updated_at":"2017-10-25T23:01:51Z","author_association":"CONTRIBUTOR","body":"Are you suggesting to have a list of allowed namespaces (in zk or config file)?\r\n\r\nIn production, roles are closely mapped to a namespace - though not necessarily","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339500153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339500630","html_url":"https://github.com/apache/pulsar/pull/854#issuecomment-339500630","issue_url":"https://api.github.com/repos/apache/pulsar/issues/854","id":339500630,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUwMDYzMA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T23:04:34Z","updated_at":"2017-10-25T23:04:34Z","author_association":"CONTRIBUTOR","body":"> We could lower the default to something like 4, if 16 poses concerns. \r\n\r\nSure, initially we can start with 4 bundles so, topics can be distributed in multiple brokers and then let load-balancer take care further splitting.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339500630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339502226","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339502226","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339502226,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUwMjIyNg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T23:14:13Z","updated_at":"2017-10-25T23:14:13Z","author_association":"CONTRIBUTOR","body":"> What about restricting which namespaces the proxy can use?\r\n\r\nI think here idea is to make proxy available for specific tenants and each tenant can have many namespaces. So, if we add restriction on namespace bases then it will require to configure many/all namespaces for that tenant. \r\nSo, probably if proxy can authorized based on tenant-role then only certain tenants will only pass through proxy which may save admin-efforts to configure each namespace of that tenant?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339502226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339503366","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339503366","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339503366,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUwMzM2Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T23:21:11Z","updated_at":"2017-10-25T23:21:11Z","author_association":"CONTRIBUTOR","body":"> So, all old split-bundles will be disappeared once that broker will restart. We can't remove it from broker immediately because in step-2 if broker-2 may not receive watch and in that case we want broker-2 to redirect request to broker-1 by thinking that old-split-bundle still owned by broker-1.\r\n\r\nCorrect, though we could clean them up after a certain time. We should at least be guaranteed that the other broker will have received the notification within a `zkSessionTimeout` period. So let say we could schedule a task to clean it up after ~1min to avoid the stale state in the broker reports. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339503366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339505599","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339505599","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339505599,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUwNTU5OQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T23:33:38Z","updated_at":"2017-10-25T23:33:38Z","author_association":"CONTRIBUTOR","body":"@rdhabalia Anyway, I was meaning that this last part (cleaning up the bundles ownership) is unreleated to this PR.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339505599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339509893","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339509893","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339509893,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUwOTg5Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T00:01:50Z","updated_at":"2017-10-26T00:01:50Z","author_association":"CONTRIBUTOR","body":">  though we could clean them up after a certain time. We should at least be guaranteed that the other broker will have received the notification within a zkSessionTimeout period. \r\n\r\nYes, but many times, we have seen (eg: replication-cluster change) that broker doesn't get watch. I will make this change and test this scenario in separate PR then.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339509893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339510722","html_url":"https://github.com/apache/pulsar/pull/859#issuecomment-339510722","issue_url":"https://api.github.com/repos/apache/pulsar/issues/859","id":339510722,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUxMDcyMg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T00:07:22Z","updated_at":"2017-10-26T00:07:22Z","author_association":"CONTRIBUTOR","body":"seems build is stuck.. I will push the same commit again.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339510722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339515997","html_url":"https://github.com/apache/pulsar/pull/861#issuecomment-339515997","issue_url":"https://api.github.com/repos/apache/pulsar/issues/861","id":339515997,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUxNTk5Nw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T00:44:42Z","updated_at":"2017-10-26T00:44:42Z","author_association":"CONTRIBUTOR","body":"closing PR as all the builds are stuck.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339515997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339516468","html_url":"https://github.com/apache/pulsar/pull/861#issuecomment-339516468","issue_url":"https://api.github.com/repos/apache/pulsar/issues/861","id":339516468,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTUxNjQ2OA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T00:48:01Z","updated_at":"2017-10-26T00:48:01Z","author_association":"CONTRIBUTOR","body":"@rdhabalia No need to close the PRs. Jenkins is having troubles: https://issues.apache.org/jira/browse/INFRA-15373 \r\n\r\nOnce they fix it, we should be able to continue with original PRs.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339516468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339742735","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339742735","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339742735,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc0MjczNQ==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T17:39:30Z","updated_at":"2017-10-26T17:39:30Z","author_association":"CONTRIBUTOR","body":"We can configure both mechanisms and let the user choose which one to use. Will create a PR soon for this.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339742735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339743824","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339743824","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339743824,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc0MzgyNA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T17:43:17Z","updated_at":"2017-10-26T17:43:17Z","author_association":"CONTRIBUTOR","body":"@rdhabalia there's one test failure, probably intermittent, but maybe related to PR. https://builds.apache.org/job/pulsar-pull-request/org.apache.pulsar$pulsar-broker/630/testReport/junit/org.apache.pulsar.client.api/BrokerServiceLookupTest/testSplitUnloadLookupTest/","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339743824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339744689","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339744689","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339744689,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc0NDY4OQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T17:46:14Z","updated_at":"2017-10-26T17:46:14Z","author_association":"CONTRIBUTOR","body":"what about adding another permission category, `proxy`, in addition to `produce` and `consume`? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339744689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339747743","html_url":"https://github.com/apache/pulsar/pull/857#issuecomment-339747743","issue_url":"https://api.github.com/repos/apache/pulsar/issues/857","id":339747743,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc0Nzc0Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T17:56:58Z","updated_at":"2017-10-26T17:56:58Z","author_association":"CONTRIBUTOR","body":"yes, checking it..","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339747743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339748851","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339748851","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339748851,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc0ODg1MQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T18:01:01Z","updated_at":"2017-10-26T18:01:01Z","author_association":"CONTRIBUTOR","body":"I don't really like having to put all the roles in the proxy configuration. If we can leverage the existing tools to update the permissions, it would be better","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339748851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339788475","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339788475","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339788475,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc4ODQ3NQ==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T20:18:22Z","updated_at":"2017-10-26T20:18:22Z","author_association":"CONTRIBUTOR","body":"> I don't really like having to put all the roles in the proxy configuration. If we can leverage the existing tools to update the permissions, it would be better\r\n\r\nAgreed\r\n\r\nWe are still contemplating on how and where to deploy the proxy\r\n\r\nThere are two problems that we want to address:-\r\n1. *Restricting a particular proxy machines access to certain namespaces only:*\r\nAs suggested by @merlimat we can add a proxies role to auth_policies - namespace_auth and broker authorizes the proxy role (extracted from proxies certificate).\r\n \r\n2. *Proxy impersonating any client - by extracting and sending the originalAppID*\r\nAs suggested by @msb-at-yahoo we forward the client certificate data (Athens token) along with the Proxy certificate data to the broker and the broker authenticates both, extracts the client's role and authorizes it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339788475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339790005","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339790005","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339790005,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc5MDAwNQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T20:24:18Z","updated_at":"2017-10-26T20:24:18Z","author_association":"CONTRIBUTOR","body":"> 2. Proxy impersonating any client - by extracting and sending the originalAppID\r\n\r\nThat's exactly how it works right now. \r\n\r\n> orward the client certificate data (Athens token) along with the Proxy certificate data to the broker and the broker authenticates both, extracts the client's role and authorizes it. \r\n\r\nIf I can use the token from the client, wouldn't that mean that by intercepting the TCP traffic I can impersonate a specific client with Athens? \r\n\r\nIn any case that won't work in many auth schemes (eg: TLS). \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339790005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339809653","html_url":"https://github.com/apache/pulsar/issues/858#issuecomment-339809653","issue_url":"https://api.github.com/repos/apache/pulsar/issues/858","id":339809653,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTgwOTY1Mw==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-26T21:42:58Z","updated_at":"2017-10-26T21:44:40Z","author_association":"CONTRIBUTOR","body":"> That's exactly how it works right now.\r\n\r\nYes and we are debating if this is a correct thing to do\r\n\r\n> If I can use the token from the client, wouldn't that mean that by intercepting the TCP traffic I can impersonate a specific client with Athens?\r\n\r\nYes, but the impersonation will be a bit more difficult since now need a valid client certificate with an authorizable role to impersonate the client instead of just the originalAppId.\r\n\r\n> In any case that won't work in many auth schemes (eg: TLS).\r\n\r\nAgreed, it will not work for all schemes - will work only for Athens, which is not good from open source point of view. \r\n\r\n=========\r\nWe are still evaluating all the approaches to make the proxy more secure. We will also have an internal meeting with the security team to discuss what is the most secure approach.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/339809653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340035513","html_url":"https://github.com/apache/pulsar/pull/828#issuecomment-340035513","issue_url":"https://api.github.com/repos/apache/pulsar/issues/828","id":340035513,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDAzNTUxMw==","user":{"login":"jai1","id":8659452,"node_id":"MDQ6VXNlcjg2NTk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8659452?v=4","gravatar_id":"","url":"https://api.github.com/users/jai1","html_url":"https://github.com/jai1","followers_url":"https://api.github.com/users/jai1/followers","following_url":"https://api.github.com/users/jai1/following{/other_user}","gists_url":"https://api.github.com/users/jai1/gists{/gist_id}","starred_url":"https://api.github.com/users/jai1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jai1/subscriptions","organizations_url":"https://api.github.com/users/jai1/orgs","repos_url":"https://api.github.com/users/jai1/repos","events_url":"https://api.github.com/users/jai1/events{/privacy}","received_events_url":"https://api.github.com/users/jai1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-27T17:32:31Z","updated_at":"2017-10-27T17:32:31Z","author_association":"CONTRIBUTOR","body":"retest this please","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340035513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340036280","html_url":"https://github.com/apache/pulsar/pull/385#issuecomment-340036280","issue_url":"https://api.github.com/repos/apache/pulsar/issues/385","id":340036280,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDAzNjI4MA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-27T17:35:39Z","updated_at":"2017-10-27T17:35:39Z","author_association":"CONTRIBUTOR","body":"should we close this PR in favor of #857 ?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340036280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340036733","html_url":"https://github.com/apache/pulsar/pull/385#issuecomment-340036733","issue_url":"https://api.github.com/repos/apache/pulsar/issues/385","id":340036733,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDAzNjczMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-27T17:37:28Z","updated_at":"2017-10-27T17:37:28Z","author_association":"CONTRIBUTOR","body":"Yes closing for #857 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340036733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340058993","html_url":"https://github.com/apache/pulsar/issues/867#issuecomment-340058993","issue_url":"https://api.github.com/repos/apache/pulsar/issues/867","id":340058993,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDA1ODk5Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-27T19:05:23Z","updated_at":"2017-10-27T19:05:23Z","author_association":"CONTRIBUTOR","body":"will look into it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/340058993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]