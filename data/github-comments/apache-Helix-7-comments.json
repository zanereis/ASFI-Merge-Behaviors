[{"url":"https://api.github.com/repos/apache/helix/issues/comments/544700768","html_url":"https://github.com/apache/helix/pull/514#issuecomment-544700768","issue_url":"https://api.github.com/repos/apache/helix/issues/514","id":544700768,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDcwMDc2OA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T20:46:57Z","updated_at":"2019-10-21T20:46:57Z","author_association":"CONTRIBUTOR","body":"// doesn’t allow auto line wrapping. If you need auto format for long line\nor multi line comments, I think /* .... */ would help.\n\nOn Mon, Oct 21, 2019 at 11:31 AM Jiajun Wang <notifications@github.com>\nwrote:\n\n> *@jiajunwang* commented on this pull request.\n> ------------------------------\n>\n> In\n> helix-core/src/main/java/org/apache/helix/monitoring/metrics/WagedRebalancerMetricCollector.java\n> <https://github.com/apache/helix/pull/514#discussion_r337173051>:\n>\n> > @@ -38,7 +41,11 @@\n>\n>      // The following latency metrics are related to AssignmentMetadataStore\n>      StateReadLatencyGauge,\n> -    StateWriteLatencyGauge\n> +    StateWriteLatencyGauge,\n> +\n> +    // Count of any rebalance failure.\n> +    // Note the rebalancer may still be able to return an assignment based on the previous record on an error.\n>\n> The format file does not care about the comments, I guess. Is it\n> configurable?\n> I will fix it manually this time.\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/514?email_source=notifications&email_token=ABHSRCOABKU4W7PRYMK5IADQPXYP5A5CNFSM4JBRDCOKYY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCIVFHXY#discussion_r337173051>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCKI5CUKD36XZYZ7CDDQPXYP5ANCNFSM4JBRDCOA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/544700768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/544727536","html_url":"https://github.com/apache/helix/issues/512#issuecomment-544727536","issue_url":"https://api.github.com/repos/apache/helix/issues/512","id":544727536,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDcyNzUzNg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T22:04:06Z","updated_at":"2019-10-21T22:04:06Z","author_association":"CONTRIBUTOR","body":"PR: https://github.com/apache/helix/pull/513","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/544727536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545093828","html_url":"https://github.com/apache/helix/pull/523#issuecomment-545093828","issue_url":"https://api.github.com/repos/apache/helix/issues/523","id":545093828,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTA5MzgyOA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T18:29:22Z","updated_at":"2019-10-22T18:29:22Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545093828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545176981","html_url":"https://github.com/apache/helix/pull/514#issuecomment-545176981","issue_url":"https://api.github.com/repos/apache/helix/issues/514","id":545176981,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTE3Njk4MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T22:07:38Z","updated_at":"2019-10-22T22:07:38Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545176981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545210575","html_url":"https://github.com/apache/helix/pull/517#issuecomment-545210575","issue_url":"https://api.github.com/repos/apache/helix/issues/517","id":545210575,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTIxMDU3NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T00:24:38Z","updated_at":"2019-10-23T00:24:38Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly \r\n\r\nFinal commit comment:\r\nIf we remove the typoed name DataPropagationLatencyGuage, current metrics graph may not see the metric and historical DataPropagationLatencyGuage data may be lost. To support backward compatibility, add back DataPropagationLatencyGuage and set it as deprecated.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545210575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545239413","html_url":"https://github.com/apache/helix/pull/520#issuecomment-545239413","issue_url":"https://api.github.com/repos/apache/helix/issues/520","id":545239413,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTIzOTQxMw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T02:44:12Z","updated_at":"2019-10-23T02:44:12Z","author_association":"CONTRIBUTOR","body":"@jiajunwang Also from now on, please try to keep PRs separate. Structural changes could go in one PR, and logic change could go in another. I know it's just tempting and feels faster to do everything in one, but this PR clearly has gotten too big. I'll discuss with you offline to clear up some confusion.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545239413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545284553","html_url":"https://github.com/apache/helix/issues/526#issuecomment-545284553","issue_url":"https://api.github.com/repos/apache/helix/issues/526","id":545284553,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTI4NDU1Mw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T06:11:41Z","updated_at":"2019-10-23T06:11:41Z","author_association":"CONTRIBUTOR","body":"+1. Thanks for creating an issue for this.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545284553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545285793","html_url":"https://github.com/apache/helix/pull/520#issuecomment-545285793","issue_url":"https://api.github.com/repos/apache/helix/issues/520","id":545285793,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTI4NTc5Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T06:15:53Z","updated_at":"2019-10-23T06:15:53Z","author_association":"CONTRIBUTOR","body":"> @jiajunwang Also from now on, please try to keep PRs separate. Structural changes could go in one PR, and logic change could go in another. I know it's just tempting and feels faster to do everything in one, but this PR clearly has gotten too big. I'll discuss with you offline to clear up some confusion.\r\n\r\nI agree with that in principle. But it is not always true in real life. If you notice, all my changes focusing on the same component. And they are highly related. If I split the change, there would be 2 problems.\r\n1. I need to make some intermediate test changes for each split PR. Not only wasting of the dev time but also wasting of the reviewing time.\r\n2. The reviewer could be confused about why a change is necessary when they are separate.\r\n\r\nLast but not least, the algorithm is complicated. I don't think I can split the PR without breaking things in a reasonable time. So I think for this case, separating is not worthwhile.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545285793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545286320","html_url":"https://github.com/apache/helix/issues/527#issuecomment-545286320","issue_url":"https://api.github.com/repos/apache/helix/issues/527","id":545286320,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTI4NjMyMA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T06:17:44Z","updated_at":"2019-10-23T06:17:44Z","author_association":"CONTRIBUTOR","body":"In WagedRebalaner.java.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545286320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545289039","html_url":"https://github.com/apache/helix/pull/520#issuecomment-545289039","issue_url":"https://api.github.com/repos/apache/helix/issues/520","id":545289039,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTI4OTAzOQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T06:27:22Z","updated_at":"2019-10-23T06:27:22Z","author_association":"CONTRIBUTOR","body":"@jiajunwang Okay. I understand the difficulty around separating things.\r\n\r\nLet's sync up offline. I really want to help with making this better, and I think I could review this better if I had a deeper understanding of the motivation behind some changes 👍 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545289039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545289868","html_url":"https://github.com/apache/helix/pull/484#issuecomment-545289868","issue_url":"https://api.github.com/repos/apache/helix/issues/484","id":545289868,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTI4OTg2OA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T06:30:08Z","updated_at":"2019-10-23T06:30:08Z","author_association":"CONTRIBUTOR","body":"@pkuwm Any update on this PR? :)","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545289868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545294973","html_url":"https://github.com/apache/helix/pull/484#issuecomment-545294973","issue_url":"https://api.github.com/repos/apache/helix/issues/484","id":545294973,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTI5NDk3Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T06:46:45Z","updated_at":"2019-10-23T06:46:45Z","author_association":"CONTRIBUTOR","body":"> @pkuwm Any update on this PR? :)\r\n\r\nI am on track. Will complete a unit test for this after metrics work is done. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545294973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545335649","html_url":"https://github.com/apache/helix/pull/519#issuecomment-545335649","issue_url":"https://api.github.com/repos/apache/helix/issues/519","id":545335649,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTMzNTY0OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T08:39:46Z","updated_at":"2019-10-23T08:39:46Z","author_association":"CONTRIBUTOR","body":"> I know this is nitpicky, but it really helps if I know what's going on clearly :)\r\n\r\n@narendly No worry, nitpicky is totally fine.\r\nHowever, I do wish that we can focus more on code logic. For example, in the \"trimmedIdealState\" part, it was problematic that I only trimmed for FULL_AUTO mode only, but not SEMI_AUTO. When you said this should be generic, it reminded me. But it would be even better if you, as the reviewer, can find these problems. There could be more, you know : )\r\nAgain, I think your comments are good ones. And thanks for reviewing in detail.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545335649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545672243","html_url":"https://github.com/apache/helix/pull/519#issuecomment-545672243","issue_url":"https://api.github.com/repos/apache/helix/issues/519","id":545672243,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTY3MjI0Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T23:05:24Z","updated_at":"2019-10-23T23:05:24Z","author_association":"CONTRIBUTOR","body":"Discussed with @narendly offline, it would be a good idea to add an option to the change detector for genericity. The user can choose if the detector should detect for Helix source change or not.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545672243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/545763346","html_url":"https://github.com/apache/helix/pull/531#issuecomment-545763346","issue_url":"https://api.github.com/repos/apache/helix/issues/531","id":545763346,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTc2MzM0Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T06:19:03Z","updated_at":"2019-10-24T06:19:03Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\nCommit message:\r\n`Make log message clearer for completing calculating an assignment.`","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/545763346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/546422685","html_url":"https://github.com/apache/helix/pull/525#issuecomment-546422685","issue_url":"https://api.github.com/repos/apache/helix/issues/525","id":546422685,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjQyMjY4NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T16:30:34Z","updated_at":"2019-10-25T16:30:34Z","author_association":"CONTRIBUTOR","body":"@narendly I've made the necessary changes and updated the PR. \r\nRegarding moving `increaseCount()` to CountMetric, my thought is: https://github.com/apache/helix/pull/525#discussion_r339134095\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/546422685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/546440006","html_url":"https://github.com/apache/helix/pull/537#issuecomment-546440006","issue_url":"https://api.github.com/repos/apache/helix/issues/537","id":546440006,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjQ0MDAwNg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T17:23:54Z","updated_at":"2019-10-25T17:23:54Z","author_association":"CONTRIBUTOR","body":"Will rebase this PR once https://github.com/apache/helix/pull/525 is merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/546440006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/546442133","html_url":"https://github.com/apache/helix/pull/525#issuecomment-546442133","issue_url":"https://api.github.com/repos/apache/helix/issues/525","id":546442133,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjQ0MjEzMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T17:30:18Z","updated_at":"2019-10-25T17:30:18Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly \r\n\r\nCommit message:\r\n```\r\nImplement monitoring mbeans for the WAGED rebalancer.\r\nChange list:\r\n1. GlobalBaselineCalcCounter: Counter of the global rebalance.\r\n2. PartialRebalanceCounter: Counter of the partial rebalance done.\r\n3. BaselineDivergenceGauge: Gauge of the difference at replica level between the Baseline and the Best Possible assignments.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/546442133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/546480103","html_url":"https://github.com/apache/helix/pull/519#issuecomment-546480103","issue_url":"https://api.github.com/repos/apache/helix/issues/519","id":546480103,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjQ4MDEwMw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T19:20:18Z","updated_at":"2019-10-25T19:20:18Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/546480103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/546515114","html_url":"https://github.com/apache/helix/pull/537#issuecomment-546515114","issue_url":"https://api.github.com/repos/apache/helix/issues/537","id":546515114,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjUxNTExNA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T21:12:07Z","updated_at":"2019-10-25T21:12:07Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\nCommit message:\r\n```\r\nAbstract method increaseCount() in CountMetric is a generic method used in inherited classes. We should implement this method in CountMetric to reduce duplicate code in inherited classes.\r\nChange list:\r\n1. Move increaseCount() to CountMetric.\r\n2. Change the name to increment() and implement the method.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/546515114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/546547777","html_url":"https://github.com/apache/helix/pull/540#issuecomment-546547777","issue_url":"https://api.github.com/repos/apache/helix/issues/540","id":546547777,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjU0Nzc3Nw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-26T00:00:52Z","updated_at":"2019-10-26T00:00:52Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/546547777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/546569171","html_url":"https://github.com/apache/helix/pull/520#issuecomment-546569171","issue_url":"https://api.github.com/repos/apache/helix/issues/520","id":546569171,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjU2OTE3MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-26T04:55:53Z","updated_at":"2019-10-26T04:55:53Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @i3wangyi \r\n\r\n@narendly If you are still reviewing, feel free to comment on this PR, I will check back next week.\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/546569171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/547112937","html_url":"https://github.com/apache/helix/pull/535#issuecomment-547112937","issue_url":"https://api.github.com/repos/apache/helix/issues/535","id":547112937,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzExMjkzNw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T19:40:37Z","updated_at":"2019-10-28T19:40:37Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/547112937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/547189188","html_url":"https://github.com/apache/helix/pull/546#issuecomment-547189188","issue_url":"https://api.github.com/repos/apache/helix/issues/546","id":547189188,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE4OTE4OA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T23:25:56Z","updated_at":"2019-10-28T23:25:56Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/547189188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/547208803","html_url":"https://github.com/apache/helix/pull/547#issuecomment-547208803","issue_url":"https://api.github.com/repos/apache/helix/issues/547","id":547208803,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzIwODgwMw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T00:53:34Z","updated_at":"2019-10-29T00:53:34Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/547208803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/547278791","html_url":"https://github.com/apache/helix/pull/542#issuecomment-547278791","issue_url":"https://api.github.com/repos/apache/helix/issues/542","id":547278791,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzI3ODc5MQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T06:38:53Z","updated_at":"2019-10-29T06:38:53Z","author_association":"CONTRIBUTOR","body":"Rebased and updated the PR. @jiajunwang @narendly ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/547278791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/547582088","html_url":"https://github.com/apache/helix/pull/550#issuecomment-547582088","issue_url":"https://api.github.com/repos/apache/helix/issues/550","id":547582088,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzU4MjA4OA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T19:05:36Z","updated_at":"2019-10-29T19:05:36Z","author_association":"CONTRIBUTOR","body":"LGTM. +1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/547582088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/547613204","html_url":"https://github.com/apache/helix/pull/550#issuecomment-547613204","issue_url":"https://api.github.com/repos/apache/helix/issues/550","id":547613204,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYxMzIwNA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T20:24:58Z","updated_at":"2019-10-29T20:24:58Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/547613204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548085629","html_url":"https://github.com/apache/helix/issues/556#issuecomment-548085629","issue_url":"https://api.github.com/repos/apache/helix/issues/556","id":548085629,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA4NTYyOQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T19:56:13Z","updated_at":"2019-10-30T19:57:26Z","author_association":"CONTRIBUTOR","body":"Do we still want to call it \"helix-zk\"? I thought the idea was **to have a module fully decoupled from Helix's logic**. In that case, names like \"zookeeper-core\" or \"zk-api\" might be more appropriate?\r\n\r\nAlso when you create an issue, please state the \"why\" in your description.\r\n\r\n@lei-xia ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548085629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548105534","html_url":"https://github.com/apache/helix/issues/556#issuecomment-548105534","issue_url":"https://api.github.com/repos/apache/helix/issues/556","id":548105534,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODEwNTUzNA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T20:47:28Z","updated_at":"2019-10-30T20:47:28Z","author_association":"CONTRIBUTOR","body":"Will share the diff soon. Feel free to comment on the naming there.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548105534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548118776","html_url":"https://github.com/apache/helix/pull/557#issuecomment-548118776","issue_url":"https://api.github.com/repos/apache/helix/issues/557","id":548118776,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODExODc3Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T21:24:44Z","updated_at":"2019-10-30T21:24:44Z","author_association":"CONTRIBUTOR","body":"Will rebase the PR once #548 is merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548118776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548140992","html_url":"https://github.com/apache/helix/pull/534#issuecomment-548140992","issue_url":"https://api.github.com/repos/apache/helix/issues/534","id":548140992,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODE0MDk5Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T22:33:52Z","updated_at":"2019-10-30T22:34:04Z","author_association":"CONTRIBUTOR","body":"@i3wangyi Let us use ZkSerializer for this. That should cover all cases.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548140992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548230608","html_url":"https://github.com/apache/helix/pull/552#issuecomment-548230608","issue_url":"https://api.github.com/repos/apache/helix/issues/552","id":548230608,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODIzMDYwOA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T06:11:59Z","updated_at":"2019-10-31T06:11:59Z","author_association":"CONTRIBUTOR","body":"Tests are all passed in helix-core.\r\nThis PR is ready to be merged, approved by @narendly \r\n\r\ncommit message:\r\n```\r\nDeep copy for mapFields and listFields in ZNRecord's copy constructor.\r\nChange list:\r\n1. deep copy for mapFields and listFields in ZNRecord's copy constructor.\r\n2. add unit test for the deep copy constructor.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548230608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548471189","html_url":"https://github.com/apache/helix/pull/542#issuecomment-548471189","issue_url":"https://api.github.com/repos/apache/helix/issues/542","id":548471189,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODQ3MTE4OQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T16:58:32Z","updated_at":"2019-10-31T16:58:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly \r\nCommit message:\r\n```\r\nThe new assignment is really critical in waged rebalancer. If there is any potential changes in measure baseline divergence, waged rebalancer may not work correctly.\r\nTo avoid changes of the new assignment and make it safe when being used to measure baseline divergence, use a deep copy of the new assignment.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548471189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548599486","html_url":"https://github.com/apache/helix/pull/548#issuecomment-548599486","issue_url":"https://api.github.com/repos/apache/helix/issues/548","id":548599486,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODU5OTQ4Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T22:49:26Z","updated_at":"2019-10-31T22:49:26Z","author_association":"CONTRIBUTOR","body":"Comments are addressed. PR is updated. Thanks for the review. @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548599486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548680497","html_url":"https://github.com/apache/helix/issues/562#issuecomment-548680497","issue_url":"https://api.github.com/repos/apache/helix/issues/562","id":548680497,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODY4MDQ5Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T06:20:49Z","updated_at":"2019-11-01T06:20:49Z","author_association":"CONTRIBUTOR","body":"@narendly Could you please help with this issue? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548680497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548687590","html_url":"https://github.com/apache/helix/issues/563#issuecomment-548687590","issue_url":"https://api.github.com/repos/apache/helix/issues/563","id":548687590,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODY4NzU5MA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T06:57:33Z","updated_at":"2019-11-01T06:57:33Z","author_association":"CONTRIBUTOR","body":"1. Potential algorithm inefficiency because of the max utilization calculating.\r\n2. The rebalancer should skip all calculations while nothing has been changed.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548687590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548896856","html_url":"https://github.com/apache/helix/issues/562#issuecomment-548896856","issue_url":"https://api.github.com/repos/apache/helix/issues/562","id":548896856,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODg5Njg1Ng==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T18:19:29Z","updated_at":"2019-11-01T18:19:29Z","author_association":"CONTRIBUTOR","body":"Ack.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548896856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548913131","html_url":"https://github.com/apache/helix/pull/559#issuecomment-548913131","issue_url":"https://api.github.com/repos/apache/helix/issues/559","id":548913131,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODkxMzEzMQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T19:04:27Z","updated_at":"2019-11-01T19:04:27Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\nCommit message:\r\n```\r\nFix incorrect formula in the comment for measuring baseline divergence.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548913131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548932224","html_url":"https://github.com/apache/helix/pull/534#issuecomment-548932224","issue_url":"https://api.github.com/repos/apache/helix/issues/534","id":548932224,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODkzMjIyNA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T20:05:39Z","updated_at":"2019-11-01T20:06:28Z","author_association":"CONTRIBUTOR","body":"@i3wangyi Also, let's create a branch off the tip of master and work against that branch since this PR itself is not complete :)\r\n\r\nYou could have multiple PRs and get those merged into the branch. Then when this feature is complete, we'll merge the entire branch back, just like how we are doing with wagedRebalancer.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548932224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548968334","html_url":"https://github.com/apache/helix/pull/548#issuecomment-548968334","issue_url":"https://api.github.com/repos/apache/helix/issues/548","id":548968334,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODk2ODMzNA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T22:12:47Z","updated_at":"2019-11-01T22:12:47Z","author_association":"CONTRIBUTOR","body":"Resolved all comments. Thanks again @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548968334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/548992171","html_url":"https://github.com/apache/helix/pull/548#issuecomment-548992171","issue_url":"https://api.github.com/repos/apache/helix/issues/548","id":548992171,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODk5MjE3MQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-02T00:33:15Z","updated_at":"2019-11-02T00:53:10Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n```\r\nWe need to monitor instance's max utilization in purpose of understanding what the max capacity usage is and knowing the status of the instance.\r\n\r\nChange list:\r\n1. Change instance monitor to extend dynamic metric, and change code logic in ClusterStatusMonitor to adapt the InstanceMonitor changes.\r\n2. Add APIs for get/update MaxCapacityUsage.\r\n3. Add an API in cluster status monitor to update max capacity usage.\r\n4. Add unit tests for instance monitor and updateing max capacity usage.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/548992171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/549577040","html_url":"https://github.com/apache/helix/issues/566#issuecomment-549577040","issue_url":"https://api.github.com/repos/apache/helix/issues/566","id":549577040,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTU3NzA0MA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-04T22:29:17Z","updated_at":"2019-11-04T22:29:17Z","author_association":"CONTRIBUTOR","body":"@pkuwm Did you not run the tests before marking the commit as ready?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/549577040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/549630507","html_url":"https://github.com/apache/helix/pull/564#issuecomment-549630507","issue_url":"https://api.github.com/repos/apache/helix/issues/564","id":549630507,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTYzMDUwNw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T02:04:23Z","updated_at":"2019-11-05T02:04:23Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/549630507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/549634564","html_url":"https://github.com/apache/helix/pull/567#issuecomment-549634564","issue_url":"https://api.github.com/repos/apache/helix/issues/567","id":549634564,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTYzNDU2NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T02:23:24Z","updated_at":"2019-11-05T02:23:24Z","author_association":"CONTRIBUTOR","body":"Tests are all passed.\r\n\r\nThis PR is ready to be merged, approved by @dasahcc \r\ncommit message:\r\n```\r\nRevert \"Deep copy for mapFields and listFields in ZNRecord's copy constructor.\"\r\nThis reverts commit 2a335cf.\r\nThe copy constructor in ZNRecord is critical. It may cause potential concurrency problems like race condition in other methods. To be safe, we don't want deep copy.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/549634564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/549635627","html_url":"https://github.com/apache/helix/issues/566#issuecomment-549635627","issue_url":"https://api.github.com/repos/apache/helix/issues/566","id":549635627,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTYzNTYyNw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T02:28:24Z","updated_at":"2019-11-05T02:28:24Z","author_association":"CONTRIBUTOR","body":"@narendly The tests were run before PR and also before merging the code. But the NPE did not fail the tests and so the tests were all passed. I did not check all the logs for NPE that time.\r\nCurrently we still have NPE for other tests and the tests all pass. I will create an issue for recording the NPE in other tests.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/549635627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/549636639","html_url":"https://github.com/apache/helix/issues/565#issuecomment-549636639","issue_url":"https://api.github.com/repos/apache/helix/issues/565","id":549636639,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTYzNjYzOQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T02:32:55Z","updated_at":"2019-11-05T02:32:55Z","author_association":"CONTRIBUTOR","body":"I am working on this. Thanks for reporting @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/549636639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/549639587","html_url":"https://github.com/apache/helix/issues/565#issuecomment-549639587","issue_url":"https://api.github.com/repos/apache/helix/issues/565","id":549639587,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTYzOTU4Nw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T02:46:59Z","updated_at":"2019-11-05T02:46:59Z","author_association":"CONTRIBUTOR","body":"Log sample:\r\n\r\n```\r\nSTART testZoneIsolationWithInstanceTag at Mon Nov 04 18:45:51 PST 2019\r\n129010 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolationWithInstanceTag1\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n129154 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolationWithInstanceTag1\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n129193 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolationWithInstanceTag1\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n129296 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolationWithInstanceTag1\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n129329 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolationWithInstanceTag1\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nEND testZoneIsolationWithInstanceTag at Mon Nov 04 18:45:53 PST 2019, took: 1841ms.\r\nSTART testZoneIsolation at Mon Nov 04 18:45:53 PST 2019\r\n130691 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolation0\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n130866 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolation0\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n130893 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolation0\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n131085 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolation1\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n131143 [HelixController-async_tasks-CLUSTER_TestWagedRebalanceFaultZone] ERROR org.apache.helix.controller.stages.CurrentStateComputationStage  - Failed to report instance capacity metrics.\r\norg.apache.helix.HelixException: Cannot find the resource ideal state for resource: Test-DB-testZoneIsolation1\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.parseAllReplicas(ClusterModelProvider.java:237)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:73)\r\n        at org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelFromCurrentState(ClusterModelProvider.java:109)\r\n        at org.apache.helix.controller.stages.CurrentStateComputationStage.lambda$reportInstanceCapacityMetrics$0(CurrentStateComputationStage.java:242)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nEND testZoneIsolation at Mon Nov 04 18:45:55 PST 2019, took: 1702ms.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/549639587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/550070759","html_url":"https://github.com/apache/helix/issues/541#issuecomment-550070759","issue_url":"https://api.github.com/repos/apache/helix/issues/541","id":550070759,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDA3MDc1OQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T23:29:39Z","updated_at":"2019-11-05T23:29:39Z","author_association":"CONTRIBUTOR","body":"Since deep copy of ZNRecord is reverted, we need to do deep copy for resource assignments manually.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/550070759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/550096672","html_url":"https://github.com/apache/helix/pull/574#issuecomment-550096672","issue_url":"https://api.github.com/repos/apache/helix/issues/574","id":550096672,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDA5NjY3Mg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T01:16:32Z","updated_at":"2019-11-06T01:16:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\nCommit message:\r\n```\r\nResourceToReblance map also has resources from current states. And this causes null pointer exceptions at parsing all replicas stage when the resource is not in ideal states. This diff fixes the issue by only using the resources in ideal states to parse all replicas.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/550096672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/550480984","html_url":"https://github.com/apache/helix/pull/557#issuecomment-550480984","issue_url":"https://api.github.com/repos/apache/helix/issues/557","id":550480984,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDQ4MDk4NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T20:12:17Z","updated_at":"2019-11-06T20:12:17Z","author_association":"CONTRIBUTOR","body":"@jiajunwang PR updated. Thanks for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/550480984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/550498384","html_url":"https://github.com/apache/helix/pull/528#issuecomment-550498384","issue_url":"https://api.github.com/repos/apache/helix/issues/528","id":550498384,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDQ5ODM4NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T21:00:58Z","updated_at":"2019-11-06T21:00:58Z","author_association":"CONTRIBUTOR","body":"Also please be advised that you might want to use a production-grade linux environment to run the mvn test suite.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/550498384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/550510291","html_url":"https://github.com/apache/helix/pull/569#issuecomment-550510291","issue_url":"https://api.github.com/repos/apache/helix/issues/569","id":550510291,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDUxMDI5MQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T21:33:58Z","updated_at":"2019-11-06T21:33:58Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @i3wangyi @narendly @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/550510291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551180084","html_url":"https://github.com/apache/helix/pull/577#issuecomment-551180084","issue_url":"https://api.github.com/repos/apache/helix/issues/577","id":551180084,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTE4MDA4NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T17:24:45Z","updated_at":"2019-11-07T17:24:45Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly \r\ncommit:\r\n```\r\nWe have new helix style in Intellij. Most of the files are not following the style for imports. So this PR optimizes all imports for all files in helix project.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551180084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551203724","html_url":"https://github.com/apache/helix/pull/484#issuecomment-551203724","issue_url":"https://api.github.com/repos/apache/helix/issues/484","id":551203724,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTIwMzcyNA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T18:25:39Z","updated_at":"2019-11-07T18:25:39Z","author_association":"CONTRIBUTOR","body":"@dasahcc @jiajunwang @narendly Unit test is ready for review. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551203724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551227755","html_url":"https://github.com/apache/helix/pull/573#issuecomment-551227755","issue_url":"https://api.github.com/repos/apache/helix/issues/573","id":551227755,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTIyNzc1NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T19:28:00Z","updated_at":"2019-11-07T19:28:00Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551227755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551341317","html_url":"https://github.com/apache/helix/pull/484#issuecomment-551341317","issue_url":"https://api.github.com/repos/apache/helix/issues/484","id":551341317,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTM0MTMxNw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-08T01:21:37Z","updated_at":"2019-11-08T01:21:37Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc @jiajunwang \r\n\r\ncommit message:\r\n```\r\nFix #483  RoutingDataCache always does full refresh for current state.\r\nIf a current state changes, propertyDataMap doesn't mark current state type not to do refresh. \r\nThis causes current state cache to always refresh. And this increases snapshot read latency. \r\nSo we need to mark propertyDataMap's current state type to false, NOT requiring full refresh next time.\r\n\r\nAnd for live instance changes, we need to mark propertyDataMap's current state to true, requiring current state cache refresh next time.\r\n\r\nChange list:\r\n1. mark current state cache to also refresh when live instance change happens.\r\n2. if current state cache is already refreshed, no need to refresh next time if no live instance change.\r\n3. add unit test TestRoutingDataCache.testCurrentStatesSelectiveUpdate\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551341317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551347603","html_url":"https://github.com/apache/helix/pull/534#issuecomment-551347603","issue_url":"https://api.github.com/repos/apache/helix/issues/534","id":551347603,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTM0NzYwMw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-08T01:49:33Z","updated_at":"2019-11-08T01:49:33Z","author_association":"CONTRIBUTOR","body":"Also @dasahcc had an idea of pushing this change to the ZkClient level. Let's discuss again offline.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551347603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551358283","html_url":"https://github.com/apache/helix/pull/534#issuecomment-551358283","issue_url":"https://api.github.com/repos/apache/helix/issues/534","id":551358283,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTM1ODI4Mw==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-08T02:35:46Z","updated_at":"2019-11-08T02:35:46Z","author_association":"CONTRIBUTOR","body":"> Also @dasahcc had an idea of pushing this change to the ZkClient level. Let's discuss again offline.\r\n\r\nDon't come back saying pushing the change into the lower layer in ZKClient because it was one of my previous implementations last week (while you said it's not a design we agreed on). For the sake of minimal changes inside ZkClient we have this 2nd non-znRecord zkClient idea","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551358283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551366956","html_url":"https://github.com/apache/helix/pull/576#issuecomment-551366956","issue_url":"https://api.github.com/repos/apache/helix/issues/576","id":551366956,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTM2Njk1Ng==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-08T03:17:59Z","updated_at":"2019-11-08T03:17:59Z","author_association":"CONTRIBUTOR","body":"> I don't have a strong preference here. But we tend to be conservative on adding new logs. This has been complained about by our customers before.\r\n> So,\r\n> \r\n> 1. If this is for debug, will log.debug be enough?\r\n> 2. If the concerning part is listener reset, shall we directly log the latency of the reset inside that method?\r\n\r\nI added 1 line at the (leader -> standby) relinquish stage.\r\nThe other log changes are just either 1. move the log position 2. add the time duration. I don't think overall it will make the current log situation worse. \r\n\r\nThe purpose of the changes will help us quickly figure out the latency issue while searching the logs; Compared with the current approach: grep through logs and connecting dots here and there. Right?\r\n\r\nToo many logs is a problem in Helix controller; As a side project to this, I hope I will have some time to analyze the current logs and find things that can be discarded.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551366956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/551417517","html_url":"https://github.com/apache/helix/pull/534#issuecomment-551417517","issue_url":"https://api.github.com/repos/apache/helix/issues/534","id":551417517,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTQxNzUxNw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-08T07:28:16Z","updated_at":"2019-11-08T07:28:16Z","author_association":"CONTRIBUTOR","body":"> > Also @dasahcc had an idea of pushing this change to the ZkClient level. Let's discuss again offline.\r\n> \r\n> Don't come back saying pushing the change into the lower layer in ZKClient because it was one of my previous implementations last week (while you said it's not a design we agreed on). For the sake of minimal changes inside ZkClient we have this 2nd non-znRecord zkClient idea\r\n\r\nI will explain. @dasahcc 's idea is a little different from what you had here before, which was to have a ZkClient take in a serializer, and do a setSerializer() for each operation with a custom serializer. His idea involves creating an overloaded serialize() and deserialize() method in the ZkClient so you don't have to change the serializer every time.\r\n\r\nEither way works, but we could discuss pros and cons of each method.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/551417517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/552361418","html_url":"https://github.com/apache/helix/pull/528#issuecomment-552361418","issue_url":"https://api.github.com/repos/apache/helix/issues/528","id":552361418,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjM2MTQxOA==","user":{"login":"openrefactory","id":56681071,"node_id":"MDQ6VXNlcjU2NjgxMDcx","avatar_url":"https://avatars.githubusercontent.com/u/56681071?v=4","gravatar_id":"","url":"https://api.github.com/users/openrefactory","html_url":"https://github.com/openrefactory","followers_url":"https://api.github.com/users/openrefactory/followers","following_url":"https://api.github.com/users/openrefactory/following{/other_user}","gists_url":"https://api.github.com/users/openrefactory/gists{/gist_id}","starred_url":"https://api.github.com/users/openrefactory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openrefactory/subscriptions","organizations_url":"https://api.github.com/users/openrefactory/orgs","repos_url":"https://api.github.com/users/openrefactory/repos","events_url":"https://api.github.com/users/openrefactory/events{/privacy}","received_events_url":"https://api.github.com/users/openrefactory/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T09:25:43Z","updated_at":"2019-11-11T09:25:43Z","author_association":"CONTRIBUTOR","body":"@jiajunwang we are getting this failure while running the command \"mvn test\" on helix's master branch. Would you mind suggesting something to solve this issue? \r\n\r\nAn image has been attached below.\r\n\r\n![mvn-build](https://user-images.githubusercontent.com/56681071/68576027-7ce24d80-0497-11ea-9da3-3c09accf8d32.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/552361418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/552538713","html_url":"https://github.com/apache/helix/issues/582#issuecomment-552538713","issue_url":"https://api.github.com/repos/apache/helix/issues/582","id":552538713,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjUzODcxMw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T17:31:59Z","updated_at":"2019-11-11T17:31:59Z","author_association":"CONTRIBUTOR","body":"Could we spell out IS (IdealState)?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/552538713/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/552561109","html_url":"https://github.com/apache/helix/issues/582#issuecomment-552561109","issue_url":"https://api.github.com/repos/apache/helix/issues/582","id":552561109,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjU2MTEwOQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T18:35:34Z","updated_at":"2019-11-11T18:35:34Z","author_association":"NONE","body":"> Could we spell out IS (IdealState)?\r\n\r\nDone.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/552561109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/552657730","html_url":"https://github.com/apache/helix/pull/576#issuecomment-552657730","issue_url":"https://api.github.com/repos/apache/helix/issues/576","id":552657730,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjY1NzczMA==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T23:06:21Z","updated_at":"2019-11-11T23:06:21Z","author_association":"CONTRIBUTOR","body":"The PR is ready to merge into master, approved by @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/552657730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/552676900","html_url":"https://github.com/apache/helix/issues/584#issuecomment-552676900","issue_url":"https://api.github.com/repos/apache/helix/issues/584","id":552676900,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjY3NjkwMA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T00:18:15Z","updated_at":"2019-11-12T00:18:15Z","author_association":"CONTRIBUTOR","body":"The reason is thread sleeps too long. If all the jobs are completed, no new metrics are updated. so last verification would fail because last metric value won't change.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/552676900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553074501","html_url":"https://github.com/apache/helix/pull/534#issuecomment-553074501","issue_url":"https://api.github.com/repos/apache/helix/issues/534","id":553074501,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzA3NDUwMQ==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T19:24:24Z","updated_at":"2019-11-12T20:50:49Z","author_association":"CONTRIBUTOR","body":"@narendly mvn test founds out some issues (after adding the close method), I've addressed them (very minor). Please take a look. \r\n\r\nThe PR is ready to be merged into Master, approved by @narendly \r\n\r\ncommit message:\r\nUpdate zkBaseDataAccessor with custom serializer support\r\n- new constructor with an additional custom serializer as the parameter\r\n- default constructor with ZnRecord Serializer\r\n- added cross-validated unit tests to verify the custom/default serializer works fine","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553074501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553112830","html_url":"https://github.com/apache/helix/pull/581#issuecomment-553112830","issue_url":"https://api.github.com/repos/apache/helix/issues/581","id":553112830,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzExMjgzMA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T21:02:33Z","updated_at":"2019-11-12T21:02:33Z","author_association":"CONTRIBUTOR","body":"The new live instance doesn't its instance config. -> fix description please.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553112830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553114935","html_url":"https://github.com/apache/helix/pull/585#issuecomment-553114935","issue_url":"https://api.github.com/repos/apache/helix/issues/585","id":553114935,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzExNDkzNQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T21:08:04Z","updated_at":"2019-11-12T21:08:04Z","author_association":"CONTRIBUTOR","body":"@pkuwm Just to double check, could you do manual testing as well (by using print statements) and verify that the number are changing?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553114935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553147454","html_url":"https://github.com/apache/helix/pull/585#issuecomment-553147454","issue_url":"https://api.github.com/repos/apache/helix/issues/585","id":553147454,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzE0NzQ1NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T22:31:19Z","updated_at":"2019-11-12T22:31:19Z","author_association":"CONTRIBUTOR","body":"Have done that to troubleshoot the issue. The numbers are increasing.\n\nOn Tue, Nov 12, 2019 at 1:08 PM Hunter Lee <notifications@github.com> wrote:\n\n> @pkuwm <https://github.com/pkuwm> Just to double check, could you do\n> manual testing as well (by using print statements) and verify that the\n> number are changing?\n>\n> —\n> You are receiving this because you were mentioned.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/585?email_source=notifications&email_token=ABHSRCPQMRSINE35KLFSX3DQTMLLPA5CNFSM4JL4QB32YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOED352NY#issuecomment-553114935>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCOONDUBTEGAI2E2RW3QTMLLPANCNFSM4JL4QB3Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553147454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553186517","html_url":"https://github.com/apache/helix/pull/590#issuecomment-553186517","issue_url":"https://api.github.com/repos/apache/helix/issues/590","id":553186517,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzE4NjUxNw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T00:51:59Z","updated_at":"2019-11-13T00:51:59Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553186517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553186772","html_url":"https://github.com/apache/helix/pull/585#issuecomment-553186772","issue_url":"https://api.github.com/repos/apache/helix/issues/585","id":553186772,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzE4Njc3Mg==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T00:53:04Z","updated_at":"2019-11-13T00:53:04Z","author_association":"NONE","body":"Cool. Thanks for fixing this @pkuwm.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553186772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553275344","html_url":"https://github.com/apache/helix/pull/585#issuecomment-553275344","issue_url":"https://api.github.com/repos/apache/helix/issues/585","id":553275344,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzI3NTM0NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T07:28:24Z","updated_at":"2019-11-13T07:28:24Z","author_association":"CONTRIBUTOR","body":"After my fix in testTaskPerformanceMetrics, the single test runs well without a problem. But if I run all tests in helix-core, the test fails. It is very surprising to see that.\r\nIt took me a whole night to troubleshoot and find out the root cause: https://github.com/apache/helix/blob/0893044af5943e72bda721e53190d32c4a7d5dd1/helix-core/src/test/java/org/apache/helix/monitoring/mbeans/TestZkClientMonitor.java#L162 \r\n\r\nThe above setting code is a bug. After that test, the property should be clear. Otherwise, the ResetInterval would be set to 1 ms and make all the later histogram metrics reset (cause TestTaskPerformanceMetrics to fail!)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553275344/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553499168","html_url":"https://github.com/apache/helix/pull/583#issuecomment-553499168","issue_url":"https://api.github.com/repos/apache/helix/issues/583","id":553499168,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzQ5OTE2OA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T17:11:12Z","updated_at":"2019-11-13T17:11:12Z","author_association":"NONE","body":"> Looks good, but in your tests I see a lot of duplicate code. We'll perhaps let this one slide, but if you ever need to write a similar test, consider refactoring so that we aren't copying and pasting the boilerplate code over and over.\r\n\r\nThanks Hunter. Sure.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553499168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553500792","html_url":"https://github.com/apache/helix/pull/583#issuecomment-553500792","issue_url":"https://api.github.com/repos/apache/helix/issues/583","id":553500792,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzUwMDc5Mg==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T17:15:00Z","updated_at":"2019-11-13T17:15:00Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @narendly.\r\n\r\nFinal commit message:\r\nTitle: \r\nFix the context creation without config\r\n\r\nBody:\r\nCreate context only if config is existed.\r\nAn if statement is added in the getOrInitializeWorkflowContext function:\r\nIt checks whether config is null or not.\r\nIf config is null, this function will not initialize the context.\r\n\r\nA test has been added to check this functionality.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553500792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553517950","html_url":"https://github.com/apache/helix/pull/589#issuecomment-553517950","issue_url":"https://api.github.com/repos/apache/helix/issues/589","id":553517950,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzUxNzk1MA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T17:37:14Z","updated_at":"2019-11-13T17:37:47Z","author_association":"NONE","body":"@dasahcc When you get a chance, could you please review this PR based on our discussions?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553517950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553533001","html_url":"https://github.com/apache/helix/pull/585#issuecomment-553533001","issue_url":"https://api.github.com/repos/apache/helix/issues/585","id":553533001,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzUzMzAwMQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T18:15:26Z","updated_at":"2019-11-13T18:15:26Z","author_association":"CONTRIBUTOR","body":"@narendly @alirezazamani This PR is ready for a final review.  As I pushed new commits, can you take a 2nd review? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553533001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553533936","html_url":"https://github.com/apache/helix/issues/594#issuecomment-553533936","issue_url":"https://api.github.com/repos/apache/helix/issues/594","id":553533936,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzUzMzkzNg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T18:17:44Z","updated_at":"2019-11-13T18:17:44Z","author_association":"CONTRIBUTOR","body":"Update: this is not necessary.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553533936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553557024","html_url":"https://github.com/apache/helix/pull/570#issuecomment-553557024","issue_url":"https://api.github.com/repos/apache/helix/issues/570","id":553557024,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU1NzAyNA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T19:17:18Z","updated_at":"2019-11-13T19:17:18Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\nAdd Java API for adding and validating resources for WAGED rebalancer\r\n\r\nAdd Java API methods for adding and validating resources for WAGED rebalancer. This is a set of convenience APIs provided through HelixAdmin the user could use to more easily add resources and validate them for WAGED rebalance usage.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553557024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553560523","html_url":"https://github.com/apache/helix/pull/601#issuecomment-553560523","issue_url":"https://api.github.com/repos/apache/helix/issues/601","id":553560523,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU2MDUyMw==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T19:26:30Z","updated_at":"2019-11-13T19:26:30Z","author_association":"CONTRIBUTOR","body":"The strange flag `usedExternalZkClient` will need to be added to each and every accessor that wraps the ZkClient by your proposal, right? \r\nMy idea is to leave a clean implementation for all the `close` method in those accessors, create a boolean field inside ZkClient `isShared` something. As long as it's created by SharedZkClientFactory it will be true, and the close method will respect the boolean to perform the actual close action. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553560523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553561810","html_url":"https://github.com/apache/helix/pull/601#issuecomment-553561810","issue_url":"https://api.github.com/repos/apache/helix/issues/601","id":553561810,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU2MTgxMA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T19:29:52Z","updated_at":"2019-11-13T19:29:52Z","author_association":"CONTRIBUTOR","body":"> The strange flag `usedExternalZkClient` will need to be added to each and every accessor that wraps the ZkClient by your proposal, right?\r\n> My idea is to leave a clean implementation for all the `close` method in those accessors, create a boolean field inside ZkClient `isShared` something. As long as it's created by SharedZkClientFactory it will be true, and the close method will respect the boolean to perform the actual close action.\r\n\r\nIt's more about whether ZkClient we're using is external or not. Whether it's a SharedZkClient or not has little to do with this. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553561810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553582895","html_url":"https://github.com/apache/helix/pull/586#issuecomment-553582895","issue_url":"https://api.github.com/repos/apache/helix/issues/586","id":553582895,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU4Mjg5NQ==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T20:16:20Z","updated_at":"2019-11-13T20:20:50Z","author_association":"CONTRIBUTOR","body":"The fact of time complexity doesn't change: O(# of replicas * # nodes) and we're assigning each replica one by one. However, it may not be true (2 replicas assigned to 2 different nodes don't conflict with each other and change the cluster context). The time complexity can be improved to \r\nO( # of replicas / avg batch assign size  * # nodes)\r\n\r\nAnother idea to boost the performance:\r\n```\r\nwhile unassignedReplicas > 0:\r\n    # parallel\r\n    list of [node, replica] proposed assginments =  parallelComputeSoftConstraints(nodes, unassignedReplicas) \r\n   list of [node, replica] unconfliced assignments = filter(proposed assignments)\r\n   apply(unconfliced assignments)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553582895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553584431","html_url":"https://github.com/apache/helix/pull/601#issuecomment-553584431","issue_url":"https://api.github.com/repos/apache/helix/issues/601","id":553584431,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU4NDQzMQ==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T20:20:20Z","updated_at":"2019-11-13T20:20:20Z","author_association":"CONTRIBUTOR","body":"> > The strange flag `usedExternalZkClient` will need to be added to each and every accessor that wraps the ZkClient by your proposal, right?\r\n> > My idea is to leave a clean implementation for all the `close` method in those accessors, create a boolean field inside ZkClient `isShared` something. As long as it's created by SharedZkClientFactory it will be true, and the close method will respect the boolean to perform the actual close action.\r\n> \r\n> It's more about whether ZkClient we're using is external or not. Whether it's a SharedZkClient or not has little to do with this.\r\n\r\nThen the scope of PR is to remove zkConnection leak by avoiding clients maintain their own external zkClients cause we force them to use the raw ZkAddress constructor.\r\nCould you aggregate all the possible \"leakable\" constructors and mark them as @Deprecated at once and add the boolean flag for all of them? \r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553584431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553585032","html_url":"https://github.com/apache/helix/pull/586#issuecomment-553585032","issue_url":"https://api.github.com/repos/apache/helix/issues/586","id":553585032,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU4NTAzMg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T20:21:52Z","updated_at":"2019-11-13T20:21:52Z","author_association":"CONTRIBUTOR","body":"> The fact of time complexity doesn't change: O(# of replicas * # nodes) and we're assigning each replica one by one. However, it may not be true (2 replicas assigned to 2 different nodes don't conflict with each other and change the cluster context). The time complexity can be improved to\r\n> O( # of replicas / avg batch assign size * # nodes)\r\n> \r\n> Another idea to boost the performance:\r\n> \r\n> ```\r\n> while unassignedReplicas > 0:\r\n>     # parallel\r\n>     list of [node, replica] proposed assginments =  parallelComputeSoftConstraints(nodes, unassignedReplicas) \r\n>    list of [node, replica] unconfliced assignments = filter(proposed assignments)\r\n>    applu(unconfliced assignments)\r\n> ```\r\n\r\nI tied. But to my surprise, the time spent was not reduced obviously. It would be a little bit faster, but the logic would be much more complicated. So I think better to postpone this change since the other plan will have a larger return.\r\nFor this PR, I don't want to change the logic.\r\nI will have another PR for the improvement that does change the logic.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553585032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553606464","html_url":"https://github.com/apache/helix/pull/601#issuecomment-553606464","issue_url":"https://api.github.com/repos/apache/helix/issues/601","id":553606464,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzYwNjQ2NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T21:17:13Z","updated_at":"2019-11-13T21:17:13Z","author_association":"CONTRIBUTOR","body":"> > > The strange flag `usedExternalZkClient` will need to be added to each and every accessor that wraps the ZkClient by your proposal, right?\r\n> > > My idea is to leave a clean implementation for all the `close` method in those accessors, create a boolean field inside ZkClient `isShared` something. As long as it's created by SharedZkClientFactory it will be true, and the close method will respect the boolean to perform the actual close action.\r\n> > \r\n> > \r\n> > It's more about whether ZkClient we're using is external or not. Whether it's a SharedZkClient or not has little to do with this.\r\n> \r\n> Then the scope of PR is to remove zkConnection leak by avoiding clients maintain their own external zkClients cause we force them to use the raw ZkAddress constructor.\r\n> Could you aggregate all the possible \"leakable\" constructors and mark them as @deprecated at once and add the boolean flag for all of them?\r\n\r\nOK.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553606464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553610149","html_url":"https://github.com/apache/helix/pull/586#issuecomment-553610149","issue_url":"https://api.github.com/repos/apache/helix/issues/586","id":553610149,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzYxMDE0OQ==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T21:24:42Z","updated_at":"2019-11-13T21:24:42Z","author_association":"CONTRIBUTOR","body":"> > The fact of time complexity doesn't change: O(# of replicas * # nodes) and we're assigning each replica one by one. However, it may not be true (2 replicas assigned to 2 different nodes don't conflict with each other and change the cluster context). The time complexity can be improved to\r\n> > O( # of replicas / avg batch assign size * # nodes)\r\n> > Another idea to boost the performance:\r\n> > ```\r\n> > while unassignedReplicas > 0:\r\n> >     # parallel\r\n> >     list of [node, replica] proposed assginments =  parallelComputeSoftConstraints(nodes, unassignedReplicas) \r\n> >    list of [node, replica] unconfliced assignments = filter(proposed assignments)\r\n> >    applu(unconfliced assignments)\r\n> > ```\r\n> \r\n> I tied. But to my surprise, the time spent was not reduced obviously. It would be a little bit faster, but the logic would be much more complicated. So I think better to postpone this change since the other plan will have a larger return.\r\n> For this PR, I don't want to change the logic.\r\n> I will have another PR for the improvement that does change the logic.\r\n\r\nSounds good. I agree the code change of the plan will be a lot given the current structure. I guess the reason it doesn't improve much is that many assignments are overlapped (many replicas want to assign to the same node based on the greedy properties). ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553610149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553611093","html_url":"https://github.com/apache/helix/pull/598#issuecomment-553611093","issue_url":"https://api.github.com/repos/apache/helix/issues/598","id":553611093,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzYxMTA5Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T21:27:05Z","updated_at":"2019-11-13T21:27:05Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\ncommit message:\r\n```\r\nChange the calculation for baseline divergence: 0.0 means no difference, 1.0 means all are different.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553611093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553631467","html_url":"https://github.com/apache/helix/pull/585#issuecomment-553631467","issue_url":"https://api.github.com/repos/apache/helix/issues/585","id":553631467,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzYzMTQ2Nw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T22:20:57Z","updated_at":"2019-11-13T22:20:57Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly @alirezazamani \r\ncommit:\r\n```\r\nTestTaskPerformanceMetrics fails because the thread sleeps too long and reset time window is set to 1 ms in another unit test.\r\nThe commit fixes this failure by removing the hard coded sleep time, verifying new metric values are updated and reseting time window in testCustomizedResetInterval.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553631467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553632798","html_url":"https://github.com/apache/helix/pull/601#issuecomment-553632798","issue_url":"https://api.github.com/repos/apache/helix/issues/601","id":553632798,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzYzMjc5OA==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T22:24:54Z","updated_at":"2019-11-13T22:24:54Z","author_association":"CONTRIBUTOR","body":"> > > > The strange flag `usedExternalZkClient` will need to be added to each and every accessor that wraps the ZkClient by your proposal, right?\r\n> > > > My idea is to leave a clean implementation for all the `close` method in those accessors, create a boolean field inside ZkClient `isShared` something. As long as it's created by SharedZkClientFactory it will be true, and the close method will respect the boolean to perform the actual close action.\r\n> > > \r\n> > > \r\n> > > It's more about whether ZkClient we're using is external or not. Whether it's a SharedZkClient or not has little to do with this.\r\n> > \r\n> > \r\n> > Then the scope of PR is to remove zkConnection leak by avoiding clients maintain their own external zkClients cause we force them to use the raw ZkAddress constructor.\r\n> > Could you aggregate all the possible \"leakable\" constructors and mark them as @deprecated at once and add the boolean flag for all of them?\r\n> \r\n> OK.\r\n\r\nNotice a lot of codes are duplicated, what do you think of adding an `AbstractAccessor` or `CloseableAccessor` class for DRY? I feel even it's safe to do even with the current implementation.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553632798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553642264","html_url":"https://github.com/apache/helix/pull/601#issuecomment-553642264","issue_url":"https://api.github.com/repos/apache/helix/issues/601","id":553642264,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzY0MjI2NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T22:55:15Z","updated_at":"2019-11-13T22:55:15Z","author_association":"CONTRIBUTOR","body":"> > > > > The strange flag `usedExternalZkClient` will need to be added to each and every accessor that wraps the ZkClient by your proposal, right?\r\n> > > > > My idea is to leave a clean implementation for all the `close` method in those accessors, create a boolean field inside ZkClient `isShared` something. As long as it's created by SharedZkClientFactory it will be true, and the close method will respect the boolean to perform the actual close action.\r\n> > > > \r\n> > > > \r\n> > > > It's more about whether ZkClient we're using is external or not. Whether it's a SharedZkClient or not has little to do with this.\r\n> > > \r\n> > > \r\n> > > Then the scope of PR is to remove zkConnection leak by avoiding clients maintain their own external zkClients cause we force them to use the raw ZkAddress constructor.\r\n> > > Could you aggregate all the possible \"leakable\" constructors and mark them as @deprecated at once and add the boolean flag for all of them?\r\n> > \r\n> > \r\n> > OK.\r\n> \r\n> Notice a lot of codes are duplicated, what do you think of adding an `AbstractAccessor` or `CloseableAccessor` class for DRY? I feel even it's safe to do even with the current implementation.\r\n\r\nI appreciate the idea, but each accessor class has a different implementation/logic for initialization and close() method, so if we do add something like that, it would be for the sake of adding a superclass, not to reduce the amount of duplicate code. If we want to do a larger-scale redesign, then we need to think about this more carefully because these are public APIs that are already being used in production. So let's hold that thought since it's not a must-have.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553642264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553658336","html_url":"https://github.com/apache/helix/pull/586#issuecomment-553658336","issue_url":"https://api.github.com/repos/apache/helix/issues/586","id":553658336,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzY1ODMzNg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T23:49:48Z","updated_at":"2019-11-13T23:49:48Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @i3wangyi and @narendly \r\n\r\nDescription:\r\n\r\nThis change improves the rebalance's speed by 2x to 5x depends on the host capacity.\r\n1. Parallelism the loop processing whenever possible and help to improve the performance. This does not change the logic.\r\n2. Avoid some duplicate logic in the loop. Put the calculation outside the loop and only do it once..","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553658336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/553695148","html_url":"https://github.com/apache/helix/pull/604#issuecomment-553695148","issue_url":"https://api.github.com/repos/apache/helix/issues/604","id":553695148,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzY5NTE0OA==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T02:28:19Z","updated_at":"2019-11-14T02:28:19Z","author_association":"CONTRIBUTOR","body":"The PR is ready to merge into master, approved by @narendly \r\n\r\ncommit message: \r\n\r\nRevert closing gZkClient after TestZkBaseDataAccessor afterclass method\r\n- The introduced close gzkClient in the afterclass method in zkBaseDataAccessor will lead to the mvn test failing cause the gzkClient is in zkTestBase","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/553695148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554064815","html_url":"https://github.com/apache/helix/pull/603#issuecomment-554064815","issue_url":"https://api.github.com/repos/apache/helix/issues/603","id":554064815,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDA2NDgxNQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T20:27:14Z","updated_at":"2019-11-14T20:27:14Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554064815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554477982","html_url":"https://github.com/apache/helix/pull/581#issuecomment-554477982","issue_url":"https://api.github.com/repos/apache/helix/issues/581","id":554477982,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDQ3Nzk4Mg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T18:36:05Z","updated_at":"2019-11-15T18:36:05Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang  @narendly\r\nCommit:\r\n```\r\nThe new live instance doesn't have its instance config. This causes NullPointerException when monitor is trying to get the instance config. \r\nChangelist:\r\nAdd instance config for the new live instance.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554477982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554478876","html_url":"https://github.com/apache/helix/pull/580#issuecomment-554478876","issue_url":"https://api.github.com/repos/apache/helix/issues/580","id":554478876,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDQ3ODg3Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T18:38:50Z","updated_at":"2019-11-15T18:38:50Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang @narendly\r\nCommit:\r\n```\r\nNullPointerException in TestBatchMessage when currentChildren is null and currentChildren.size() is called.\r\nChangelist:\r\nAdd a null check in handleChildChange().\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554478876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554548381","html_url":"https://github.com/apache/helix/pull/608#issuecomment-554548381","issue_url":"https://api.github.com/repos/apache/helix/issues/608","id":554548381,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDU0ODM4MQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T22:08:36Z","updated_at":"2019-11-15T22:08:36Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @jiajunwang.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554548381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554690483","html_url":"https://github.com/apache/helix/pull/577#issuecomment-554690483","issue_url":"https://api.github.com/repos/apache/helix/issues/577","id":554690483,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDY5MDQ4Mw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-17T01:05:03Z","updated_at":"2019-11-17T01:05:03Z","author_association":"CONTRIBUTOR","body":"@pkuwm Could you please rebase this change so that it could be merged?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554690483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554690555","html_url":"https://github.com/apache/helix/pull/528#issuecomment-554690555","issue_url":"https://api.github.com/repos/apache/helix/issues/528","id":554690555,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDY5MDU1NQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-17T01:06:12Z","updated_at":"2019-11-17T01:06:12Z","author_association":"CONTRIBUTOR","body":"@openrefactory That is a known unstable test. If that is the only failure, this PR should be ready to be merged","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554690555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554774735","html_url":"https://github.com/apache/helix/pull/577#issuecomment-554774735","issue_url":"https://api.github.com/repos/apache/helix/issues/577","id":554774735,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDc3NDczNQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-17T18:52:34Z","updated_at":"2019-11-17T18:52:34Z","author_association":"CONTRIBUTOR","body":"@pkuwm One last thing: don't forget to run mvn test  and check the box :) Thanks!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554774735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/554779103","html_url":"https://github.com/apache/helix/issues/609#issuecomment-554779103","issue_url":"https://api.github.com/repos/apache/helix/issues/609","id":554779103,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDc3OTEwMw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-17T19:44:32Z","updated_at":"2019-11-17T19:44:32Z","author_association":"MEMBER","body":"Can you share the controller logs? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/554779103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]