[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647233331","html_url":"https://github.com/apache/rocketmq/issues/2113#issuecomment-647233331","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2113","id":647233331,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzIzMzMzMQ==","user":{"login":"zongtanghu","id":5010883,"node_id":"MDQ6VXNlcjUwMTA4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/5010883?v=4","gravatar_id":"","url":"https://api.github.com/users/zongtanghu","html_url":"https://github.com/zongtanghu","followers_url":"https://api.github.com/users/zongtanghu/followers","following_url":"https://api.github.com/users/zongtanghu/following{/other_user}","gists_url":"https://api.github.com/users/zongtanghu/gists{/gist_id}","starred_url":"https://api.github.com/users/zongtanghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zongtanghu/subscriptions","organizations_url":"https://api.github.com/users/zongtanghu/orgs","repos_url":"https://api.github.com/users/zongtanghu/repos","events_url":"https://api.github.com/users/zongtanghu/events{/privacy}","received_events_url":"https://api.github.com/users/zongtanghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T02:31:43Z","updated_at":"2020-06-22T02:31:43Z","author_association":"CONTRIBUTOR","body":"I think supporting protobuf and GPRC is much more important.We can discuss together. @vongosling @duhenglucky @RongtongJin @xujianhai666 @wenfengwang @zhouxinyu @xiangwangcheng ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647233331/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647326889","html_url":"https://github.com/apache/rocketmq/pull/2103#issuecomment-647326889","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2103","id":647326889,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzMyNjg4OQ==","user":{"login":"Jaskey","id":5210351,"node_id":"MDQ6VXNlcjUyMTAzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/5210351?v=4","gravatar_id":"","url":"https://api.github.com/users/Jaskey","html_url":"https://github.com/Jaskey","followers_url":"https://api.github.com/users/Jaskey/followers","following_url":"https://api.github.com/users/Jaskey/following{/other_user}","gists_url":"https://api.github.com/users/Jaskey/gists{/gist_id}","starred_url":"https://api.github.com/users/Jaskey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jaskey/subscriptions","organizations_url":"https://api.github.com/users/Jaskey/orgs","repos_url":"https://api.github.com/users/Jaskey/repos","events_url":"https://api.github.com/users/Jaskey/events{/privacy}","received_events_url":"https://api.github.com/users/Jaskey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T07:00:36Z","updated_at":"2020-06-22T07:00:36Z","author_association":"CONTRIBUTOR","body":"@imaffe thank you . ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647326889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647397793","html_url":"https://github.com/apache/rocketmq/pull/2104#issuecomment-647397793","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2104","id":647397793,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzM5Nzc5Mw==","user":{"login":"Jaskey","id":5210351,"node_id":"MDQ6VXNlcjUyMTAzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/5210351?v=4","gravatar_id":"","url":"https://api.github.com/users/Jaskey","html_url":"https://github.com/Jaskey","followers_url":"https://api.github.com/users/Jaskey/followers","following_url":"https://api.github.com/users/Jaskey/following{/other_user}","gists_url":"https://api.github.com/users/Jaskey/gists{/gist_id}","starred_url":"https://api.github.com/users/Jaskey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jaskey/subscriptions","organizations_url":"https://api.github.com/users/Jaskey/orgs","repos_url":"https://api.github.com/users/Jaskey/repos","events_url":"https://api.github.com/users/Jaskey/events{/privacy}","received_events_url":"https://api.github.com/users/Jaskey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T09:25:28Z","updated_at":"2020-06-22T09:25:28Z","author_association":"CONTRIBUTOR","body":"@zongtanghu better than nothing. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647397793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647443358","html_url":"https://github.com/apache/rocketmq/issues/2114#issuecomment-647443358","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2114","id":647443358,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzQ0MzM1OA==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T10:56:37Z","updated_at":"2020-06-22T10:56:37Z","author_association":"CONTRIBUTOR","body":"in master-slave cluster model，master/slave will not automatically，you can refer https://github.com/apache/rocketmq/blob/master/docs/cn/operation.md\r\n\r\nin Dledger cluster model，you can ref\r\nhttps://github.com/apache/rocketmq/blob/master/docs/cn/dledger/deploy_guide.md","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647443358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647503113","html_url":"https://github.com/apache/rocketmq/issues/2080#issuecomment-647503113","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2080","id":647503113,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzUwMzExMw==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T12:58:50Z","updated_at":"2020-06-22T12:58:50Z","author_association":"CONTRIBUTOR","body":"> source code class\r\n> https://github.com/apache/rocketmq/blob/master/client/src/main/java/org/apache/rocketmq/client/latency/LatencyFaultToleranceImpl.java\r\n> \r\n> **BUG REPORT**\r\n> \r\n> source code :\r\n> \r\n> ` @override\r\n> public String pickOneAtLeast() {\r\n> final Enumeration elements = this.faultItemTable.elements();\r\n> List tmpList = new LinkedList();\r\n> while (elements.hasMoreElements()) {\r\n> final FaultItem faultItem = elements.nextElement();\r\n> tmpList.add(faultItem);\r\n> }\r\n> \r\n> ```\r\n>     if (!tmpList.isEmpty()) {\r\n>         Collections.shuffle(tmpList);\r\n> \r\n>         Collections.sort(tmpList);\r\n> \r\n>         final int half = tmpList.size() / 2;\r\n>         if (half <= 0) {\r\n>             return tmpList.get(0).getName();\r\n>         } else {\r\n>             final int i = this.whichItemWorst.getAndIncrement() % half;\r\n>             return tmpList.get(i).getName();\r\n>         }\r\n>     }\r\n> \r\n>     return null;\r\n> }\r\n> ```\r\n> \r\n> `\r\n> \r\n> **FEATURE REQUEST**\r\n> \r\n> 在 pickOneAtLeast 方法里面，有代码片段如下：\r\n> \r\n> Collections.shuffle(tmpList);\r\n> \r\n> Collections.sort(tmpList);\r\n> \r\n> 对broker列表先打散，再排序，认为就失去了打散的作用，导致总是一个固有顺序，而出现压力都到了一个broker上\r\n> \r\n> 认为改为\r\n> \r\n> Collections.sort(tmpList);\r\n> \r\n> 去掉\r\n> \r\n> Collections.shuffle(tmpList); 这行没起作用\r\n\r\nI think it's a code mistake, it's no meaning call shuffle before sort. Can u submit a PR to fix it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647503113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647877363","html_url":"https://github.com/apache/rocketmq/issues/2091#issuecomment-647877363","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2091","id":647877363,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Nzg3NzM2Mw==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T02:59:20Z","updated_at":"2020-06-23T03:01:05Z","author_association":"CONTRIBUTOR","body":"@heshengjun811 you can try add this to your logback.xml\r\n```\r\n    <appender name=\"mqAsyncAppender1\" class=\"ch.qos.logback.classic.AsyncAppender\">\r\n        <queueSize>1024</queueSize>\r\n        <discardingThreshold>80</discardingThreshold>\r\n        <maxFlushTime>2000</maxFlushTime>\r\n        <neverBlock>true</neverBlock>\r\n        <appender-ref ref=\"mqAppender1\"/>\r\n    </appender>\r\n``` \r\naccording to [logback example](https://rocketmq.apache.org/docs/logappender-example/)\r\n\r\nThe whole logback.xml looks like \r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<configuration>\r\n    <appender name=\"mqAppender1\" class=\"org.apache.rocketmq.logappender.logback.RocketmqLogbackAppender\">\r\n        <tag>TagA</tag>\r\n        <topic>01_test</topic>\r\n        <producerGroup>group1</producerGroup>\r\n        <nameServerAddress>127.0.0.1:9876</nameServerAddress>\r\n        <layout>\r\n            <pattern>%date %p %t - %m%n</pattern>\r\n        </layout>\r\n    </appender>\r\n    <appender name=\"mqAsyncAppender1\" class=\"ch.qos.logback.classic.AsyncAppender\">\r\n        <queueSize>1024</queueSize>\r\n        <discardingThreshold>80</discardingThreshold>\r\n        <maxFlushTime>2000</maxFlushTime>\r\n        <neverBlock>true</neverBlock>\r\n        <appender-ref ref=\"mqAppender1\"/>\r\n    </appender>\r\n    <root>\r\n        <level value=\"debug\"/>\r\n        <appender-ref ref=\"mqAppender1\"/>\r\n    </root>\r\n    <logger name=\"testLogger\" level=\"debug\" additivity=\"true\">\r\n        <appender-ref ref=\"mqAppender1\"/>\r\n    </logger>\r\n</configuration>\r\n```\r\n\r\nOnce I added this, it will work properly. The reason for NoClassDefFoundError was because we missed some configuration entries, the static initialization process of some class (I don't know which exact class it is) failed, and throws NoClassDefFoundError.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647877363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647880828","html_url":"https://github.com/apache/rocketmq/pull/2116#issuecomment-647880828","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2116","id":647880828,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Nzg4MDgyOA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T03:10:52Z","updated_at":"2020-06-24T05:13:43Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/31650236/badge)](https://coveralls.io/builds/31650236)\n\nCoverage increased (+0.07%) to 50.92% when pulling **c3e29587eec1424ebf1ba7919b7c063fd93773c1 on imaffe:affe-0623-#2067-addlogs-disk-usage** into **e923a35393a6dfa83677335e96fdb4b063f10d32 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647880828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647901172","html_url":"https://github.com/apache/rocketmq/issues/2117#issuecomment-647901172","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2117","id":647901172,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzkwMTE3Mg==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T04:33:14Z","updated_at":"2020-06-23T04:33:14Z","author_association":"CONTRIBUTOR","body":"> **BUG REPORT**\r\n> \r\n> 1. Please describe the issue you observed:\r\n> \r\n> * What did you do (The steps to reproduce)?\r\n>   the broker is restarted;\r\n> * What did you expect to see?\r\n>   the transactional message has been dealt with should not  checked again in general。but，after the broker restarted ，the transactional message checked again。\r\n> * What did you see instead?\r\n>   the transactional message has been dealt with should not  checked again in general。but，after the broker restarted ，the transactional message checked again。\r\n> \r\n> 1. Please tell us about your environment:\r\n>    jdk8\r\n> 2. Other information (e.g. detailed explanation, logs, related issues, suggestions how to fix, etc):\r\n> \r\n> ]\r\n\r\ncan you describe the exact code with line number, or list the log print in details?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647901172/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647902923","html_url":"https://github.com/apache/rocketmq/issues/2117#issuecomment-647902923","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2117","id":647902923,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzkwMjkyMw==","user":{"login":"lstarby","id":1026575,"node_id":"MDQ6VXNlcjEwMjY1NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1026575?v=4","gravatar_id":"","url":"https://api.github.com/users/lstarby","html_url":"https://github.com/lstarby","followers_url":"https://api.github.com/users/lstarby/followers","following_url":"https://api.github.com/users/lstarby/following{/other_user}","gists_url":"https://api.github.com/users/lstarby/gists{/gist_id}","starred_url":"https://api.github.com/users/lstarby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lstarby/subscriptions","organizations_url":"https://api.github.com/users/lstarby/orgs","repos_url":"https://api.github.com/users/lstarby/repos","events_url":"https://api.github.com/users/lstarby/events{/privacy}","received_events_url":"https://api.github.com/users/lstarby/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T04:39:49Z","updated_at":"2020-06-23T04:39:49Z","author_association":"NONE","body":"After the Broker is restarted, it always checks back the transaction messages that have been processed (calling the checkLocalTransaction implemented by the application)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647902923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647941273","html_url":"https://github.com/apache/rocketmq/pull/2115#issuecomment-647941273","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2115","id":647941273,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Nzk0MTI3Mw==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T06:39:09Z","updated_at":"2020-06-23T07:04:48Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/31624187/badge)](https://coveralls.io/builds/31624187)\n\nCoverage increased (+0.1%) to 51.344% when pulling **0ffb4bbf89c87c66b381d247554a4f02afaab8f6 on coder-zzzz:apache_features/#2095_ACL_MULTIP_FILES** into **2fa51fc1bd3be4d31156f40854eaddcf2b790a6f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647941273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647954642","html_url":"https://github.com/apache/rocketmq/pull/2115#issuecomment-647954642","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2115","id":647954642,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Nzk1NDY0Mg==","user":{"login":"coder-zzzz","id":62043001,"node_id":"MDQ6VXNlcjYyMDQzMDAx","avatar_url":"https://avatars.githubusercontent.com/u/62043001?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-zzzz","html_url":"https://github.com/coder-zzzz","followers_url":"https://api.github.com/users/coder-zzzz/followers","following_url":"https://api.github.com/users/coder-zzzz/following{/other_user}","gists_url":"https://api.github.com/users/coder-zzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-zzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-zzzz/subscriptions","organizations_url":"https://api.github.com/users/coder-zzzz/orgs","repos_url":"https://api.github.com/users/coder-zzzz/repos","events_url":"https://api.github.com/users/coder-zzzz/events{/privacy}","received_events_url":"https://api.github.com/users/coder-zzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T07:11:05Z","updated_at":"2020-06-23T07:11:05Z","author_association":"CONTRIBUTOR","body":"@zongtanghu @ShannonDing please help to review the pr","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647954642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647956752","html_url":"https://github.com/apache/rocketmq/pull/2109#issuecomment-647956752","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2109","id":647956752,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Nzk1Njc1Mg==","user":{"login":"lampnick","id":15793076,"node_id":"MDQ6VXNlcjE1NzkzMDc2","avatar_url":"https://avatars.githubusercontent.com/u/15793076?v=4","gravatar_id":"","url":"https://api.github.com/users/lampnick","html_url":"https://github.com/lampnick","followers_url":"https://api.github.com/users/lampnick/followers","following_url":"https://api.github.com/users/lampnick/following{/other_user}","gists_url":"https://api.github.com/users/lampnick/gists{/gist_id}","starred_url":"https://api.github.com/users/lampnick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lampnick/subscriptions","organizations_url":"https://api.github.com/users/lampnick/orgs","repos_url":"https://api.github.com/users/lampnick/repos","events_url":"https://api.github.com/users/lampnick/events{/privacy}","received_events_url":"https://api.github.com/users/lampnick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T07:15:51Z","updated_at":"2020-06-23T07:15:51Z","author_association":"NONE","body":"@imaffe ok,thanks!","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/647956752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/648122815","html_url":"https://github.com/apache/rocketmq/issues/2117#issuecomment-648122815","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2117","id":648122815,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODEyMjgxNQ==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T12:48:06Z","updated_at":"2020-06-23T12:48:06Z","author_association":"CONTRIBUTOR","body":"> checkLocalTransaction\r\n\r\nIMO,  Broker can not immediately increase transaction message offset after transaction finished. You can refer to class TransactionalMessageServiceImpl & TransactionalMessageBridge.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/648122815/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/648697363","html_url":"https://github.com/apache/rocketmq/issues/2091#issuecomment-648697363","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2091","id":648697363,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODY5NzM2Mw==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T09:08:23Z","updated_at":"2020-06-24T09:08:23Z","author_association":"CONTRIBUTOR","body":"I will close this issue for now. But if you have any further questions or the solution provided above doesn't work for you, feel free to reopen this issue~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/648697363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/649897999","html_url":"https://github.com/apache/rocketmq/pull/2121#issuecomment-649897999","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2121","id":649897999,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTg5Nzk5OQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T01:28:11Z","updated_at":"2020-06-26T01:28:11Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/31698627/badge)](https://coveralls.io/builds/31698627)\n\nCoverage increased (+0.04%) to 50.891% when pulling **86526d03948b65a6b7b3dde39ed8c0cea116501e on biggerRice:master** into **e923a35393a6dfa83677335e96fdb4b063f10d32 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/649897999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650174738","html_url":"https://github.com/apache/rocketmq/pull/2122#issuecomment-650174738","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2122","id":650174738,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDE3NDczOA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T13:19:22Z","updated_at":"2020-06-26T13:19:22Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/31707115/badge)](https://coveralls.io/builds/31707115)\n\nCoverage increased (+0.006%) to 51.231% when pulling **91a1343f88efab3956b858a821cc333a1d8b5df9 on thenx-wei:develop** into **fac30c3596d5577cd80a52af9ad89a0839016137 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650174738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650661951","html_url":"https://github.com/apache/rocketmq/issues/2110#issuecomment-650661951","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2110","id":650661951,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDY2MTk1MQ==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T01:13:10Z","updated_at":"2020-06-28T01:13:10Z","author_association":"NONE","body":"4.7.0  still not work","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650661951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650664014","html_url":"https://github.com/apache/rocketmq/issues/2123#issuecomment-650664014","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2123","id":650664014,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDY2NDAxNA==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T01:26:20Z","updated_at":"2020-06-28T01:26:20Z","author_association":"CONTRIBUTOR","body":"IMO, implements this feature would modify producer's route and consumer's rebalance mechanism. Consumer holds a partition by rebalance. Let versioned consumer consume the corresponding versioned message,  producer will produce versioned message to specific versioned partition. Besides, consumer should hold its specific versioned partition.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650664014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650724092","html_url":"https://github.com/apache/rocketmq/issues/2123#issuecomment-650724092","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2123","id":650724092,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDcyNDA5Mg==","user":{"login":"yanglifan","id":11075372,"node_id":"MDQ6VXNlcjExMDc1Mzcy","avatar_url":"https://avatars.githubusercontent.com/u/11075372?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglifan","html_url":"https://github.com/yanglifan","followers_url":"https://api.github.com/users/yanglifan/followers","following_url":"https://api.github.com/users/yanglifan/following{/other_user}","gists_url":"https://api.github.com/users/yanglifan/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglifan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglifan/subscriptions","organizations_url":"https://api.github.com/users/yanglifan/orgs","repos_url":"https://api.github.com/users/yanglifan/repos","events_url":"https://api.github.com/users/yanglifan/events{/privacy}","received_events_url":"https://api.github.com/users/yanglifan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T09:26:56Z","updated_at":"2020-06-28T09:26:56Z","author_association":"NONE","body":"@lizhiboo currently RMQ producer's and consumer's routing mechanism are both based on the client side extension (`MessageQueueSelector`/`AllocateMessageQueueStrategy`). So the versioned message routing can be also implemented in the same way. But the downside is that producers and consumers have to be configured in the same approach, so routing in the broker side may be a good choice to support the feature like the versioned message routing.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650724092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650746465","html_url":"https://github.com/apache/rocketmq/issues/2125#issuecomment-650746465","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2125","id":650746465,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc0NjQ2NQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T12:31:49Z","updated_at":"2020-06-28T12:31:49Z","author_association":"CONTRIBUTOR","body":"Tomorrow. Voting has ended.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650746465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650747973","html_url":"https://github.com/apache/rocketmq/issues/2123#issuecomment-650747973","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2123","id":650747973,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDc0Nzk3Mw==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T12:41:53Z","updated_at":"2020-06-28T12:41:53Z","author_association":"CONTRIBUTOR","body":"> @lizhiboo currently RMQ producer's and consumer's routing mechanism are both based on the client side extension (`MessageQueueSelector`/`AllocateMessageQueueStrategy`). So the versioned message routing can be also implemented in the same way. But the downside is that producers and consumers have to be configured in the same approach, so routing in the broker side may be a good choice to support the feature like the versioned message routing.\r\n\r\nI agree with u, moving rebalance mechanism to broker is a good choice. Client will be light.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650747973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650864348","html_url":"https://github.com/apache/rocketmq/issues/2125#issuecomment-650864348","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2125","id":650864348,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDg2NDM0OA==","user":{"login":"Daniel-He-KX","id":3404500,"node_id":"MDQ6VXNlcjM0MDQ1MDA=","avatar_url":"https://avatars.githubusercontent.com/u/3404500?v=4","gravatar_id":"","url":"https://api.github.com/users/Daniel-He-KX","html_url":"https://github.com/Daniel-He-KX","followers_url":"https://api.github.com/users/Daniel-He-KX/followers","following_url":"https://api.github.com/users/Daniel-He-KX/following{/other_user}","gists_url":"https://api.github.com/users/Daniel-He-KX/gists{/gist_id}","starred_url":"https://api.github.com/users/Daniel-He-KX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daniel-He-KX/subscriptions","organizations_url":"https://api.github.com/users/Daniel-He-KX/orgs","repos_url":"https://api.github.com/users/Daniel-He-KX/repos","events_url":"https://api.github.com/users/Daniel-He-KX/events{/privacy}","received_events_url":"https://api.github.com/users/Daniel-He-KX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T02:10:42Z","updated_at":"2020-06-29T02:10:42Z","author_association":"NONE","body":"https://mvnrepository.com/   \r\nIt hasn't been updated yet.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650864348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650928011","html_url":"https://github.com/apache/rocketmq/issues/2124#issuecomment-650928011","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2124","id":650928011,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDkyODAxMQ==","user":{"login":"qaz3046921","id":46740159,"node_id":"MDQ6VXNlcjQ2NzQwMTU5","avatar_url":"https://avatars.githubusercontent.com/u/46740159?v=4","gravatar_id":"","url":"https://api.github.com/users/qaz3046921","html_url":"https://github.com/qaz3046921","followers_url":"https://api.github.com/users/qaz3046921/followers","following_url":"https://api.github.com/users/qaz3046921/following{/other_user}","gists_url":"https://api.github.com/users/qaz3046921/gists{/gist_id}","starred_url":"https://api.github.com/users/qaz3046921/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qaz3046921/subscriptions","organizations_url":"https://api.github.com/users/qaz3046921/orgs","repos_url":"https://api.github.com/users/qaz3046921/repos","events_url":"https://api.github.com/users/qaz3046921/events{/privacy}","received_events_url":"https://api.github.com/users/qaz3046921/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T05:57:05Z","updated_at":"2020-06-29T05:57:05Z","author_association":"NONE","body":"once modify,all configuration will needs to be configurable. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650928011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650994400","html_url":"https://github.com/apache/rocketmq/issues/1918#issuecomment-650994400","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1918","id":650994400,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDk5NDQwMA==","user":{"login":"gaoyf","id":10137071,"node_id":"MDQ6VXNlcjEwMTM3MDcx","avatar_url":"https://avatars.githubusercontent.com/u/10137071?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoyf","html_url":"https://github.com/gaoyf","followers_url":"https://api.github.com/users/gaoyf/followers","following_url":"https://api.github.com/users/gaoyf/following{/other_user}","gists_url":"https://api.github.com/users/gaoyf/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoyf/subscriptions","organizations_url":"https://api.github.com/users/gaoyf/orgs","repos_url":"https://api.github.com/users/gaoyf/repos","events_url":"https://api.github.com/users/gaoyf/events{/privacy}","received_events_url":"https://api.github.com/users/gaoyf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T07:51:38Z","updated_at":"2020-06-29T08:00:19Z","author_association":"CONTRIBUTOR","body":"@xiaoyuzxcasd  最近翻了一issue，发现了你这个问题。我之前也遇到过类似的，不知道你日志还保存着没有，有的话你可以**搜一下OutOfMemoryError，看看异常堆栈有没有关于PullMessageService的**。\r\n主要是你贴图里有好几处这样的日志：\r\n![image](https://user-images.githubusercontent.com/10137071/85987808-bbc21500-ba20-11ea-91f6-81ef399d2518.png)\r\n![image](https://user-images.githubusercontent.com/10137071/85987828-c67caa00-ba20-11ea-9aab-46366cd48bc4.png)\r\n\r\n下面说一下你引起这个问题的原因：\r\n![image](https://user-images.githubusercontent.com/10137071/85985285-1c4f5300-ba1d-11ea-8963-6c8ba37b6651.png)\r\n1 这个图对应的代码如下：\r\n```\r\nif (pq.isPullExpired()) {\r\n    switch (this.consumeType()) {\r\n        case CONSUME_ACTIVELY:\r\n            break;\r\n        case CONSUME_PASSIVELY:\r\n            pq.setDropped(true);\r\n            if (this.removeUnnecessaryMessageQueue(mq, pq)) {\r\n                it.remove();\r\n                changed = true;\r\n                log.error(\"[BUG]doRebalance, {}, remove unnecessary mq, {}, because pull is pause, so try to fixed it\",\r\n                    consumerGroup, mq);\r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n```\r\n即`pq.isPullExpired()`为true，而其对应的代码如下：\r\n```\r\npublic boolean isPullExpired() {\r\n    return (System.currentTimeMillis() - this.lastPullTimestamp) > PULL_MAX_IDLE_TIME;\r\n}\r\n```\r\n即lastPullTimestamp一直没有更新，那么lastPullTimestamp在哪更新的呢？参考代码[DefaultMQPushConsumerImpl.pullMessage()](https://github.com/apache/rocketmq/blob/master/client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java#L220)：\r\n\r\n2 而执行该方法的线程是[PullMessageService](https://github.com/apache/rocketmq/blob/master/client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullMessageService.java#L96)。\r\n其实说到这里，你应该也明白原因了，**即消息拉取的线程因为OOM停止了，所以不会更新lastPullTimestamp字段**。\r\n\r\n3 为啥会OOM?\r\n\r\n3.1 看你的贴图貌似有两个broker，broker上topic有8个队列，那么总共算来就是16个队列，默认rocketmq限流是每个队列最大拉取1000条消息，16*1000=16000，而单条消息最大为4M，那么客户端最大缓存64000M，即62.5G。\r\n当然，一般情况下单条消息通常小于512K，那么按此计算最大缓存8000M，即7.8G。\r\n所以，如果jvm设置堆不大的情况下，是存在可能把内存打爆的。\r\n\r\n3.2 当然还有一种可能，就是业务接到消息后执行的逻辑，需要从数据源大量获取数据到内存。我之前遇到的就是这种情况，业务接到消息后，一次性拉取到内存数据量过大，直接oom，导致拉消息线程退出。\r\n\r\n另外，@duhenglucky 建议把[PullMessageService.run()](https://github.com/apache/rocketmq/blob/master/client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullMessageService.java#L98)捕获的异常改为Throwable，当然，改下异常捕获并不能解决根本问题，但是对于问题定位大有裨益。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/650994400/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651086997","html_url":"https://github.com/apache/rocketmq/issues/2125#issuecomment-651086997","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2125","id":651086997,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTA4Njk5Nw==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T12:31:08Z","updated_at":"2020-06-29T12:31:08Z","author_association":"CONTRIBUTOR","body":"> https://mvnrepository.com/\r\n> It hasn't been updated yet.\r\n\r\nIt can now be obtained from the maven repository.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651086997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651462570","html_url":"https://github.com/apache/rocketmq/issues/2120#issuecomment-651462570","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2120","id":651462570,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2MjU3MA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:26:35Z","updated_at":"2020-06-30T01:26:35Z","author_association":"CONTRIBUTOR","body":"@lebron374 you can use updateSubGroup command to update or create the subscription, but maybe topicList -c(Listed subscription) command will give more help in this case.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651462570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651464501","html_url":"https://github.com/apache/rocketmq/issues/2117#issuecomment-651464501","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2117","id":651464501,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2NDUwMQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:32:30Z","updated_at":"2020-06-30T01:32:30Z","author_association":"CONTRIBUTOR","body":"@zzwlstarby when the broker crashed or restarted, the broker may repeat check the uncommitted or rollbacked messages to avoid prepare messages missed. but it indeed can do more work to reduce this redundant check, would you like to polish it？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651464501/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651466048","html_url":"https://github.com/apache/rocketmq/issues/2124#issuecomment-651466048","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2124","id":651466048,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2NjA0OA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:37:29Z","updated_at":"2020-06-30T01:37:29Z","author_association":"CONTRIBUTOR","body":"@jzdayz you can try to start the nameserver with the -c subcommand, eg. -c conf/namesrv.properties, set  _listenPort_ to  you want to use in this configuration file.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651466048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651466465","html_url":"https://github.com/apache/rocketmq/issues/2126#issuecomment-651466465","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2126","id":651466465,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2NjQ2NQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:38:56Z","updated_at":"2020-06-30T01:38:56Z","author_association":"CONTRIBUTOR","body":"@andyhewenhui The new version has enhanced the management and control of system topics, please refer to org.apache.rocketmq.common.topic.TopicValidator#RMQ_SYS_TRACE_TOPIC","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651466465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651467337","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-651467337","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":651467337,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ2NzMzNw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:41:53Z","updated_at":"2020-06-30T01:41:53Z","author_association":"CONTRIBUTOR","body":"@henrypoter would you like to provide more information(logs, env, etc.) about this issue？Did you turn off the automatic creation of topics and subscriptions? If yes, did you manually create it first?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651467337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651470711","html_url":"https://github.com/apache/rocketmq/issues/2120#issuecomment-651470711","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2120","id":651470711,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ3MDcxMQ==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T01:53:20Z","updated_at":"2020-06-30T01:53:20Z","author_association":"CONTRIBUTOR","body":"> @lebron374 you can use updateSubGroup command to update or create the subscription, but maybe topicList -c(Listed subscription) command will give more help in this case.\r\n\r\ntopicList only can help to provider topic info\r\nbut in my case we just need subscription.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651470711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651489503","html_url":"https://github.com/apache/rocketmq/issues/2124#issuecomment-651489503","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2124","id":651489503,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ4OTUwMw==","user":{"login":"jzdayz","id":35563513,"node_id":"MDQ6VXNlcjM1NTYzNTEz","avatar_url":"https://avatars.githubusercontent.com/u/35563513?v=4","gravatar_id":"","url":"https://api.github.com/users/jzdayz","html_url":"https://github.com/jzdayz","followers_url":"https://api.github.com/users/jzdayz/followers","following_url":"https://api.github.com/users/jzdayz/following{/other_user}","gists_url":"https://api.github.com/users/jzdayz/gists{/gist_id}","starred_url":"https://api.github.com/users/jzdayz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzdayz/subscriptions","organizations_url":"https://api.github.com/users/jzdayz/orgs","repos_url":"https://api.github.com/users/jzdayz/repos","events_url":"https://api.github.com/users/jzdayz/events{/privacy}","received_events_url":"https://api.github.com/users/jzdayz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T02:46:36Z","updated_at":"2020-06-30T02:46:36Z","author_association":"NONE","body":"> @jzdayz you can try to start the nameserver with the -c subcommand, eg. -c conf/namesrv.properties, set _listenPort_ to you want to use in this configuration file.\r\n\r\nthanks,i found that","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651489503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651494809","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-651494809","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":651494809,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTQ5NDgwOQ==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T03:00:52Z","updated_at":"2020-06-30T03:02:38Z","author_association":"NONE","body":"> @henrypoter would you like to provide more information(logs, env, etc.) about this issue？Did you turn off the automatic creation of topics and subscriptions? If yes, did you manually create it first?\r\n\r\nI have turn off the automatic creation of topics, and I created the topic manually.  I confirmed that the consumer group have been created automaticly. The subscription  state is ok.\r\n\r\nIt may be the offset table is empty caused the issue. \r\n\r\n## env\r\nbroker 4.6.0 dleger mode\r\nclient 4.6.0,4.6.1,4.7.0 \r\n\r\n## broker log when running the litePullConsumer \r\n\r\n`\r\n==> broker.log <==\r\n2020-06-30 10:49:44 INFO HeartbeatThread_3 - auto create a subscription group, SubscriptionGroupConfig [groupName=middleware-topic1-dr-group, consumeEnable=true, consumeFromMinEnable=true, consumeBroadcastEnable=true, retryQueueNums=1, retryMaxTimes=16, brokerId=0, whichBrokerWhenConsumeSlowly=1, notifyConsumerIdsChangedEnable=true]\r\n2020-06-30 10:49:44 INFO HeartbeatThread_3 - create new topic TopicConfig [topicName=%RETRY%middleware-topic1-dr-group, readQueueNums=1, writeQueueNums=1, perm=RW-, topicFilterType=SINGLE_TAG, topicSysFlag=0, order=false]\r\n2020-06-30 10:49:44 INFO brokerOutApi_thread_3 - register broker[0]to name server 192.168.11.182:9876 OK\r\n2020-06-30 10:49:44 INFO brokerOutApi_thread_4 - register broker[0]to name server 192.168.11.181:9876 OK\r\n2020-06-30 10:49:44 INFO brokerOutApi_thread_2 - register broker[0]to name server 192.168.11.180:9876 OK\r\n2020-06-30 10:49:44 INFO HeartbeatThread_3 - new consumer connected, group: middleware-topic1-dr-group CONSUME_ACTIVELY CLUSTERING channel: ClientChannelInfo [channel=[id: 0x6f069b95, L:/192.168.11.181:30911 - R:/192.168.11.123:58139], clientId=10.88.0.50@23332, language=JAVA, version=335, lastUpdateTimestamp=1593485384567]\r\n2020-06-30 10:49:44 INFO HeartbeatThread_3 - subscription changed, add new topic, group: middleware-topic1-dr-group SubscriptionData [classFilterMode=false, topic=middleware-topic, subString=*, tagsSet=[], codeSet=[], subVersion=1593485358956, expressionType=TAG]\r\n2020-06-30 10:49:44 INFO HeartbeatThread_3 - registerConsumer info changed ConsumerData [groupName=middleware-topic1-dr-group, consumeType=CONSUME_ACTIVELY, messageModel=CLUSTERING, consumeFromWhere=CONSUME_FROM_LAST_OFFSET, unitMode=false, subscriptionDataSet=[SubscriptionData [classFilterMode=false, topic=middleware-topic, subString=*, tagsSet=[], codeSet=[], subVersion=1593485358956, expressionType=TAG]]] 192.168.11.123:58139`\r\n\r\n## The litePullConsumer can not poll any messages, there are some messages in the topic:\r\n\r\n`List<MessageExt> messageExts = litePullConsumer.poll(30000);`\r\n                    \r\n##The litePullConsumer offset table is empty:\r\n` OffsetStore offsetStore = litePullConsumer.getOffsetStore();\r\nMap<MessageQueue, Long>  queueOffsetMap =  offsetStore.cloneOffsetTable(topic);`\r\n\r\n##  if I use the push consumer with the same consumer group name to subscribe the topic, it consumes normally.\r\nThen I kill the push consumer, run the litePullConsumer again, it works.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651494809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651716608","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-651716608","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":651716608,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTcxNjYwOA==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T10:47:52Z","updated_at":"2020-06-30T10:47:52Z","author_association":"NONE","body":"[1.log](https://github.com/apache/rocketmq/files/4851265/1.log)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651716608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651744475","html_url":"https://github.com/apache/rocketmq/pull/2122#issuecomment-651744475","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2122","id":651744475,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc0NDQ3NQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T11:53:03Z","updated_at":"2020-06-30T11:53:03Z","author_association":"CONTRIBUTOR","body":"This pull request seems to have no major effect, so I will close it. In addition, plz create an issue before submitting a pull request next time.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651744475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651748589","html_url":"https://github.com/apache/rocketmq/pull/2109#issuecomment-651748589","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2109","id":651748589,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc0ODU4OQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:03:06Z","updated_at":"2020-06-30T12:03:06Z","author_association":"CONTRIBUTOR","body":"I will close this pull request because there is some confusion in the current commit records. If you have any questions, you can resubmit the pull request. But Plz pay attention to the following points:\r\nFirstly, plz submit related issues to link this PR and explain the purpose of PR according to the format.\r\nSecond, you need to change the target branch to develop.\r\nFinally, plz name the pull request in the correct format.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651748589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651748972","html_url":"https://github.com/apache/rocketmq/pull/2104#issuecomment-651748972","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2104","id":651748972,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc0ODk3Mg==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:04:01Z","updated_at":"2020-06-30T12:04:01Z","author_association":"CONTRIBUTOR","body":"Plz name the pull request in the correct format next time.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651748972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651749841","html_url":"https://github.com/apache/rocketmq/pull/2093#issuecomment-651749841","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2093","id":651749841,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc0OTg0MQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:05:59Z","updated_at":"2020-06-30T12:05:59Z","author_association":"CONTRIBUTOR","body":"This pull request seems to have no major effect, so I will close it. \r\nIf you have any questions, you can resubmit the pull request. But Plz pay attention to the following points:\r\nFirstly, plz submit related issues to link this PR and explain the purpose of PR according to the format.\r\nSecond, you need to change the target branch to develop.\r\nFinally, plz name the pull request in the correct format.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651749841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651750111","html_url":"https://github.com/apache/rocketmq/pull/2092#issuecomment-651750111","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2092","id":651750111,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc1MDExMQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:06:34Z","updated_at":"2020-06-30T12:06:34Z","author_association":"CONTRIBUTOR","body":"I will close this pull request because there is some confusion in the current commit records. If you have any questions, you can resubmit the pull request. But Plz pay attention to the following points:\r\nFirstly, plz submit related issues to link this PR and explain the purpose of PR according to the format.\r\nSecond, you need to change the target branch to develop.\r\nFinally, plz name the pull request in the correct format.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651750111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651751488","html_url":"https://github.com/apache/rocketmq/pull/1996#issuecomment-651751488","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1996","id":651751488,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc1MTQ4OA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:09:53Z","updated_at":"2020-06-30T12:09:53Z","author_association":"CONTRIBUTOR","body":"I will close this pull request first If you have any questions, you can resubmit the pull request. But Plz pay attention to the following points:\r\nFirstly, plz submit related issues to link this PR and explain the purpose of PR according to the format.\r\nSecond,  plz name the pull request in the correct format.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651751488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651751806","html_url":"https://github.com/apache/rocketmq/pull/1970#issuecomment-651751806","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1970","id":651751806,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc1MTgwNg==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:10:41Z","updated_at":"2020-06-30T12:10:41Z","author_association":"CONTRIBUTOR","body":"This pull request seems to have no major effect, so I will close it. In addition, plz create an issue before submitting a pull request next time.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651751806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651753241","html_url":"https://github.com/apache/rocketmq/pull/1962#issuecomment-651753241","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1962","id":651753241,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc1MzI0MQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:14:03Z","updated_at":"2020-06-30T12:14:03Z","author_association":"CONTRIBUTOR","body":"I will close this pull request firstly.  If you have any questions, you can resubmit the pull request. But Plz submit related issues to link this PR and name the pull request in the correct format.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651753241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651754852","html_url":"https://github.com/apache/rocketmq/pull/1909#issuecomment-651754852","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1909","id":651754852,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc1NDg1Mg==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:17:44Z","updated_at":"2020-06-30T12:17:44Z","author_association":"CONTRIBUTOR","body":"I will close this pull request first. If you have any questions, you can resubmit the pull request. But Plz pay attention to the following points:\r\nFirstly, plz submit related issues to link this PR and explain the purpose of PR according to the format.\r\nSecond, you need to change the target branch to develop.\r\nFinally, plz name the pull request in the correct format.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651754852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651757074","html_url":"https://github.com/apache/rocketmq/pull/1887#issuecomment-651757074","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1887","id":651757074,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc1NzA3NA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:22:52Z","updated_at":"2020-06-30T12:22:52Z","author_association":"CONTRIBUTOR","body":"I will close this pull request If you have any questions, you can resubmit the pull request. But plz submit related issues to link this PR and  name the pull request in the correct format.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651757074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651885009","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-651885009","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":651885009,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTg4NTAwOQ==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T15:54:42Z","updated_at":"2020-06-30T15:55:09Z","author_association":"CONTRIBUTOR","body":"@henrypoter when you first run litePullConsumer, do you check the file config/subscriptionGroup.json.\r\nmaybe subscriptionGroup not exist will not consume message","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651885009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651892161","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-651892161","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":651892161,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTg5MjE2MQ==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T16:06:09Z","updated_at":"2020-06-30T16:06:09Z","author_association":"NONE","body":"> @henrypoter when you first run litePullConsumer, do you check the file config/subscriptionGroup.json.\r\n> maybe subscriptionGroup not exist will not consume message\r\n\r\nsubscriptionGroup exist.\r\n\r\n` \"middleware-topic1-dr-group\":{\r\n                        \"brokerId\":0,\r\n                        \"consumeBroadcastEnable\":true,\r\n                        \"consumeEnable\":true,\r\n                        \"consumeFromMinEnable\":true,\r\n                        \"groupName\":\"middleware-topic1-dr-group\",\r\n                        \"notifyConsumerIdsChangedEnable\":true,\r\n                        \"retryMaxTimes\":16,\r\n                        \"retryQueueNums\":1,\r\n                        \"whichBrokerWhenConsumeSlowly\":1\r\n  }` ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/651892161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652143230","html_url":"https://github.com/apache/rocketmq/pull/1887#issuecomment-652143230","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1887","id":652143230,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjE0MzIzMA==","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T02:05:40Z","updated_at":"2020-07-01T02:05:40Z","author_association":"MEMBER","body":"@RongtongJin IMO, you might let  RIP-14 be wider discussion in the dev mail list. ATMO, The vast majority of guys in the community are unaware of this convention:-)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652143230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652217517","html_url":"https://github.com/apache/rocketmq/pull/2115#issuecomment-652217517","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2115","id":652217517,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjIxNzUxNw==","user":{"login":"zongtanghu","id":5010883,"node_id":"MDQ6VXNlcjUwMTA4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/5010883?v=4","gravatar_id":"","url":"https://api.github.com/users/zongtanghu","html_url":"https://github.com/zongtanghu","followers_url":"https://api.github.com/users/zongtanghu/followers","following_url":"https://api.github.com/users/zongtanghu/following{/other_user}","gists_url":"https://api.github.com/users/zongtanghu/gists{/gist_id}","starred_url":"https://api.github.com/users/zongtanghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zongtanghu/subscriptions","organizations_url":"https://api.github.com/users/zongtanghu/orgs","repos_url":"https://api.github.com/users/zongtanghu/repos","events_url":"https://api.github.com/users/zongtanghu/events{/privacy}","received_events_url":"https://api.github.com/users/zongtanghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T06:23:12Z","updated_at":"2020-07-01T06:23:12Z","author_association":"CONTRIBUTOR","body":"Firstly, can you see the details of CI failed. @coder-zzzz ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652217517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652219940","html_url":"https://github.com/apache/rocketmq/pull/2115#issuecomment-652219940","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2115","id":652219940,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjIxOTk0MA==","user":{"login":"coder-zzzz","id":62043001,"node_id":"MDQ6VXNlcjYyMDQzMDAx","avatar_url":"https://avatars.githubusercontent.com/u/62043001?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-zzzz","html_url":"https://github.com/coder-zzzz","followers_url":"https://api.github.com/users/coder-zzzz/followers","following_url":"https://api.github.com/users/coder-zzzz/following{/other_user}","gists_url":"https://api.github.com/users/coder-zzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-zzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-zzzz/subscriptions","organizations_url":"https://api.github.com/users/coder-zzzz/orgs","repos_url":"https://api.github.com/users/coder-zzzz/repos","events_url":"https://api.github.com/users/coder-zzzz/events{/privacy}","received_events_url":"https://api.github.com/users/coder-zzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T06:29:31Z","updated_at":"2020-07-01T06:29:31Z","author_association":"CONTRIBUTOR","body":"> Firstly, can you see the details of CI failed. @coder-zzzz\r\n\r\n[ERROR] Failed to execute goal org.eluder.coveralls:coveralls-maven-plugin:4.3.0:report (default-cli) on project rocketmq-all: Processing of input or output data failed: Report submission to Coveralls API failed with HTTP status 422: Unprocessable Entity (service_job_id (701161567) must be unique for Travis Jobs not supplying a Coveralls Repo Token) -> [Help 1]\r\n[ERROR] \r\n@zongtanghu  can you help to check what is the problem? The project build successful. So I ignore this failure","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652219940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652235394","html_url":"https://github.com/apache/rocketmq/issues/690#issuecomment-652235394","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/690","id":652235394,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjIzNTM5NA==","user":{"login":"TerrellChen","id":39452477,"node_id":"MDQ6VXNlcjM5NDUyNDc3","avatar_url":"https://avatars.githubusercontent.com/u/39452477?v=4","gravatar_id":"","url":"https://api.github.com/users/TerrellChen","html_url":"https://github.com/TerrellChen","followers_url":"https://api.github.com/users/TerrellChen/followers","following_url":"https://api.github.com/users/TerrellChen/following{/other_user}","gists_url":"https://api.github.com/users/TerrellChen/gists{/gist_id}","starred_url":"https://api.github.com/users/TerrellChen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TerrellChen/subscriptions","organizations_url":"https://api.github.com/users/TerrellChen/orgs","repos_url":"https://api.github.com/users/TerrellChen/repos","events_url":"https://api.github.com/users/TerrellChen/events{/privacy}","received_events_url":"https://api.github.com/users/TerrellChen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T07:08:21Z","updated_at":"2020-07-01T07:08:21Z","author_association":"CONTRIBUTOR","body":"I've done this.\r\nThis feature relies on dledger, and the PR has been submited.\r\n\r\nhttps://github.com/openmessaging/openmessaging-storage-dledger/issues/64","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652235394/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652249813","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-652249813","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":652249813,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjI0OTgxMw==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T07:40:17Z","updated_at":"2020-07-01T07:40:17Z","author_association":"NONE","body":"Testcase to reproduce the problem \r\n[LitePullConsumerSubscribe3.java.txt](https://github.com/apache/rocketmq/files/4856365/LitePullConsumerSubscribe3.java.txt)\r\n\r\n\r\nWhen we call litePullConsumer.setMessageQueueListener(mql)  the consumer cannot poll( ) messages from broker.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652249813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652408521","html_url":"https://github.com/apache/rocketmq/pull/2128#issuecomment-652408521","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2128","id":652408521,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQwODUyMQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T13:09:37Z","updated_at":"2020-07-01T13:09:37Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/31799061/badge)](https://coveralls.io/builds/31799061)\n\nCoverage increased (+0.09%) to 51.318% when pulling **0ffb4bbf89c87c66b381d247554a4f02afaab8f6 on coder-zzzz:apache_features/#2095_ACL_MULTIP_FILES** into **fac30c3596d5577cd80a52af9ad89a0839016137 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652408521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652512414","html_url":"https://github.com/apache/rocketmq/pull/2130#issuecomment-652512414","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2130","id":652512414,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjUxMjQxNA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-01T16:12:37Z","updated_at":"2020-08-03T02:55:28Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/32491068/badge)](https://coveralls.io/builds/32491068)\n\nCoverage decreased (-0.07%) to 51.273% when pulling **55818b941afe8b64a71f8507f6afc68867f2280a on coder-zzzz:#2095_ACL_MULTIP_FILES** into **f5b79588d58a1cc2842d364e06a469c0b67cdb39 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652512414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652727656","html_url":"https://github.com/apache/rocketmq/pull/2130#issuecomment-652727656","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2130","id":652727656,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjcyNzY1Ng==","user":{"login":"coder-zzzz","id":62043001,"node_id":"MDQ6VXNlcjYyMDQzMDAx","avatar_url":"https://avatars.githubusercontent.com/u/62043001?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-zzzz","html_url":"https://github.com/coder-zzzz","followers_url":"https://api.github.com/users/coder-zzzz/followers","following_url":"https://api.github.com/users/coder-zzzz/following{/other_user}","gists_url":"https://api.github.com/users/coder-zzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-zzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-zzzz/subscriptions","organizations_url":"https://api.github.com/users/coder-zzzz/orgs","repos_url":"https://api.github.com/users/coder-zzzz/repos","events_url":"https://api.github.com/users/coder-zzzz/events{/privacy}","received_events_url":"https://api.github.com/users/coder-zzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T01:32:53Z","updated_at":"2020-07-02T01:32:53Z","author_association":"CONTRIBUTOR","body":"@zongtanghu hi, I have tried create a new pull request, the CI always failed. But see the CI's log , build are success. Could u help check out what's wrong with this pr?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652727656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652744998","html_url":"https://github.com/apache/rocketmq/issues/2129#issuecomment-652744998","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2129","id":652744998,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mjc0NDk5OA==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T02:35:40Z","updated_at":"2020-07-02T02:35:40Z","author_association":"MEMBER","body":"@yuanjinzhong can u give out the pages pictures can't be seen ?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652744998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652817614","html_url":"https://github.com/apache/rocketmq/issues/690#issuecomment-652817614","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/690","id":652817614,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjgxNzYxNA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T06:47:03Z","updated_at":"2020-07-02T06:47:03Z","author_association":"CONTRIBUTOR","body":"> I've done this.\r\n> This feature relies on dledger, and the PR has been submited.\r\n> \r\n> [openmessaging/openmessaging-storage-dledger#64](https://github.com/openmessaging/openmessaging-storage-dledger/issues/64)\r\n\r\nHi @TerrellChen  I will review the pr ASAP.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652817614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652885824","html_url":"https://github.com/apache/rocketmq/issues/1918#issuecomment-652885824","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1918","id":652885824,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mjg4NTgyNA==","user":{"login":"xiaoyuzxcasd","id":17265805,"node_id":"MDQ6VXNlcjE3MjY1ODA1","avatar_url":"https://avatars.githubusercontent.com/u/17265805?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoyuzxcasd","html_url":"https://github.com/xiaoyuzxcasd","followers_url":"https://api.github.com/users/xiaoyuzxcasd/followers","following_url":"https://api.github.com/users/xiaoyuzxcasd/following{/other_user}","gists_url":"https://api.github.com/users/xiaoyuzxcasd/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoyuzxcasd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoyuzxcasd/subscriptions","organizations_url":"https://api.github.com/users/xiaoyuzxcasd/orgs","repos_url":"https://api.github.com/users/xiaoyuzxcasd/repos","events_url":"https://api.github.com/users/xiaoyuzxcasd/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoyuzxcasd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T09:05:22Z","updated_at":"2020-07-02T09:05:22Z","author_association":"NONE","body":"@gaoyf \r\n非常感谢你对此问题的关注与答复\r\n问题的原因的确是如你所说那样的，PullMessageService线程挂了\r\n由于我的应用里启动了两个PullMessageService线程，只是挂掉了其中一个，还保留着一个，导致没有发现这个问题\r\n另外，当前保留的日志里没发现PullMessageService的oom报错\r\n也许是在更早的日志里，已无法追查了\r\n但问题原因基本上是明确了，再次感谢~~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/652885824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653044103","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-653044103","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":653044103,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzA0NDEwMw==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T14:36:55Z","updated_at":"2020-07-02T14:36:55Z","author_association":"CONTRIBUTOR","body":"> litePullConsumer\r\n\r\nlitePullConsumer.start() should after litePullConsumer.setMessageQueueListener(mql)???\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653044103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653265513","html_url":"https://github.com/apache/rocketmq/issues/2129#issuecomment-653265513","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2129","id":653265513,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzI2NTUxMw==","user":{"login":"hermitcai","id":45086633,"node_id":"MDQ6VXNlcjQ1MDg2NjMz","avatar_url":"https://avatars.githubusercontent.com/u/45086633?v=4","gravatar_id":"","url":"https://api.github.com/users/hermitcai","html_url":"https://github.com/hermitcai","followers_url":"https://api.github.com/users/hermitcai/followers","following_url":"https://api.github.com/users/hermitcai/following{/other_user}","gists_url":"https://api.github.com/users/hermitcai/gists{/gist_id}","starred_url":"https://api.github.com/users/hermitcai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hermitcai/subscriptions","organizations_url":"https://api.github.com/users/hermitcai/orgs","repos_url":"https://api.github.com/users/hermitcai/repos","events_url":"https://api.github.com/users/hermitcai/events{/privacy}","received_events_url":"https://api.github.com/users/hermitcai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-02T23:58:58Z","updated_at":"2020-07-02T23:58:58Z","author_association":"NONE","body":"what scene?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653265513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653267577","html_url":"https://github.com/apache/rocketmq/issues/2105#issuecomment-653267577","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2105","id":653267577,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzI2NzU3Nw==","user":{"login":"hermitcai","id":45086633,"node_id":"MDQ6VXNlcjQ1MDg2NjMz","avatar_url":"https://avatars.githubusercontent.com/u/45086633?v=4","gravatar_id":"","url":"https://api.github.com/users/hermitcai","html_url":"https://github.com/hermitcai","followers_url":"https://api.github.com/users/hermitcai/followers","following_url":"https://api.github.com/users/hermitcai/following{/other_user}","gists_url":"https://api.github.com/users/hermitcai/gists{/gist_id}","starred_url":"https://api.github.com/users/hermitcai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hermitcai/subscriptions","organizations_url":"https://api.github.com/users/hermitcai/orgs","repos_url":"https://api.github.com/users/hermitcai/repos","events_url":"https://api.github.com/users/hermitcai/events{/privacy}","received_events_url":"https://api.github.com/users/hermitcai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T00:09:03Z","updated_at":"2020-07-03T00:09:03Z","author_association":"NONE","body":"各个nameserver之间不尽兴网络通讯 broker会和每个nameserver保持长链接 每隔30s维护一次健康实例","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653267577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653275464","html_url":"https://github.com/apache/rocketmq/issues/2090#issuecomment-653275464","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2090","id":653275464,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzI3NTQ2NA==","user":{"login":"hermitcai","id":45086633,"node_id":"MDQ6VXNlcjQ1MDg2NjMz","avatar_url":"https://avatars.githubusercontent.com/u/45086633?v=4","gravatar_id":"","url":"https://api.github.com/users/hermitcai","html_url":"https://github.com/hermitcai","followers_url":"https://api.github.com/users/hermitcai/followers","following_url":"https://api.github.com/users/hermitcai/following{/other_user}","gists_url":"https://api.github.com/users/hermitcai/gists{/gist_id}","starred_url":"https://api.github.com/users/hermitcai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hermitcai/subscriptions","organizations_url":"https://api.github.com/users/hermitcai/orgs","repos_url":"https://api.github.com/users/hermitcai/repos","events_url":"https://api.github.com/users/hermitcai/events{/privacy}","received_events_url":"https://api.github.com/users/hermitcai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T00:48:32Z","updated_at":"2020-07-03T00:48:44Z","author_association":"NONE","body":"> #### 一 先说一下我遇到的问题：\r\n> 我的NameServer列表采用的是域名发现的方式，以便热更新。但有一次在更新NameServer列表后，导致客户端无法生产和消费\r\n\r\n\r\n请教下 您这里说的 nameserver列表采用域名发现的方式 具体是什么意思哦？ 为什么要 更新域名映射的NameServer列表为c,d，这具体是您的什么业务操作场景呢？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653275464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653278785","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-653278785","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":653278785,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzI3ODc4NQ==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T01:06:20Z","updated_at":"2020-07-03T01:08:40Z","author_association":"NONE","body":"> > litePullConsumer\r\n> \r\n> litePullConsumer.start() should after litePullConsumer.setMessageQueueListener(mql)???\r\n\r\nBoth not work.\r\nBelow is the workaround:\r\n`\r\nconsumer.subscribe(topic, \"*\");\r\nconsumer.start();\r\nconsumer.poll();\r\nconsumer.setMessageQueueListener(mql);\r\n`\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653278785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653613348","html_url":"https://github.com/apache/rocketmq/pull/2134#issuecomment-653613348","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2134","id":653613348,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzYxMzM0OA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T16:20:01Z","updated_at":"2020-07-03T16:20:01Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/31850963/badge)](https://coveralls.io/builds/31850963)\n\nCoverage decreased (-0.07%) to 51.16% when pulling **523d26a3e9d8569ee7fffc68a9ee7bfb1530ad3e on areyouok:fix_clean_tx_op_queue** into **fac30c3596d5577cd80a52af9ad89a0839016137 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653613348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653702287","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-653702287","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":653702287,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzcwMjI4Nw==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T00:48:49Z","updated_at":"2020-07-04T00:58:39Z","author_association":"CONTRIBUTOR","body":"> > > litePullConsumer\r\n> > \r\n> > \r\n> > litePullConsumer.start() should after litePullConsumer.setMessageQueueListener(mql)???\r\n> \r\n> Both not work.\r\n> Below is the workaround:\r\n> `consumer.subscribe(topic, \"*\"); consumer.start(); consumer.poll(); consumer.setMessageQueueListener(mql);`\r\n\r\nthe default MessageQueueListenerImpl like this,can you find some difference\r\n\r\n```\r\norg.apache.rocketmq.client.impl.consumer.DefaultLitePullConsumerImpl.MessageQueueListenerImpl\r\n\r\n    class MessageQueueListenerImpl implements MessageQueueListener {\r\n        @Override\r\n        public void messageQueueChanged(String topic, Set<MessageQueue> mqAll, Set<MessageQueue> mqDivided) {\r\n            MessageModel messageModel = defaultLitePullConsumer.getMessageModel();\r\n            switch (messageModel) {\r\n                case BROADCASTING:\r\n                    updateAssignedMessageQueue(topic, mqAll);\r\n                    updatePullTask(topic, mqAll);\r\n                    break;\r\n                case CLUSTERING:\r\n                    updateAssignedMessageQueue(topic, mqDivided);\r\n                    updatePullTask(topic, mqDivided);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653702287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653734347","html_url":"https://github.com/apache/rocketmq/issues/2090#issuecomment-653734347","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2090","id":653734347,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzczNDM0Nw==","user":{"login":"wqliang","id":6831968,"node_id":"MDQ6VXNlcjY4MzE5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/6831968?v=4","gravatar_id":"","url":"https://api.github.com/users/wqliang","html_url":"https://github.com/wqliang","followers_url":"https://api.github.com/users/wqliang/followers","following_url":"https://api.github.com/users/wqliang/following{/other_user}","gists_url":"https://api.github.com/users/wqliang/gists{/gist_id}","starred_url":"https://api.github.com/users/wqliang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wqliang/subscriptions","organizations_url":"https://api.github.com/users/wqliang/orgs","repos_url":"https://api.github.com/users/wqliang/repos","events_url":"https://api.github.com/users/wqliang/events{/privacy}","received_events_url":"https://api.github.com/users/wqliang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T07:39:17Z","updated_at":"2020-07-04T07:39:17Z","author_association":"CONTRIBUTOR","body":"该ISSUE描述的问题，我理解本质上是因为client、broker实例之间感知到namesrv地址列表变化并且生效的步调不一致，谁先生效谁后生效的问题。而@gaoyf 遇到的是broker先生效client后生效的场景，broker不再向namesrv-a报心跳，导致namesrv-a清除了该broker的路由，而此时client还连着namesrv-a。\r\n但对于分析中说的“但是此时NameServer a上的topic路由信息已经都没了，导致无法正常生产消费”我理解有点不一样，namesrv-a上的topic路由信息没了，client查询的时候namesrv会返回“No topic route info in name server for the topic”异常，client有一个数据保护机制是当查询异常时不会更新本地缓存的路由，所以至少会保留有一个broker关于这个topic的路由，理论上不会出现因为没有路由而收发不了消息的问题。\r\n因此，上述修改也只是尽量加快client端对变化的生效，仍然没有解决更新步调不一致，broker先于client生效的问题。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653734347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653734646","html_url":"https://github.com/apache/rocketmq/issues/2090#issuecomment-653734646","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2090","id":653734646,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzczNDY0Ng==","user":{"login":"wqliang","id":6831968,"node_id":"MDQ6VXNlcjY4MzE5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/6831968?v=4","gravatar_id":"","url":"https://api.github.com/users/wqliang","html_url":"https://github.com/wqliang","followers_url":"https://api.github.com/users/wqliang/followers","following_url":"https://api.github.com/users/wqliang/following{/other_user}","gists_url":"https://api.github.com/users/wqliang/gists{/gist_id}","starred_url":"https://api.github.com/users/wqliang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wqliang/subscriptions","organizations_url":"https://api.github.com/users/wqliang/orgs","repos_url":"https://api.github.com/users/wqliang/repos","events_url":"https://api.github.com/users/wqliang/events{/privacy}","received_events_url":"https://api.github.com/users/wqliang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T07:43:01Z","updated_at":"2020-07-04T07:43:01Z","author_association":"CONTRIBUTOR","body":"提供一个思路，client和broker更新namesrv地址列表分开两个接口管理，并且client接口返回的列表是broker接口返回的列表的子集。有namesrv变更时，先更新client接口的返回，等2个周期（client查询接口的周期）后在更新broker接口的值，使得过程平滑。同理，上线新namesrv实例顺序则是反过来，先加到broker列表里，带broker都上报过心跳后，在加到client列表里。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653734646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653778292","html_url":"https://github.com/apache/rocketmq/issues/2131#issuecomment-653778292","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2131","id":653778292,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzc3ODI5Mg==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T15:20:10Z","updated_at":"2020-07-04T15:20:10Z","author_association":"MEMBER","body":"what 's reactive API , restful api or rpc api ?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653778292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653779745","html_url":"https://github.com/apache/rocketmq/issues/2132#issuecomment-653779745","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2132","id":653779745,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzc3OTc0NQ==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T15:31:49Z","updated_at":"2020-07-04T15:33:55Z","author_association":"MEMBER","body":"@kayyellow \r\nmaybe brokerRole cause that\r\n\r\nif ASYNC_MASTER\r\n   send to master broker, return send-result to client , async to slave broker\r\n\r\nif SYNC_MASTER and  Property key isWaitStoreMsgOK == true (isWaitStoreMsgOK default value is true)\r\n   send to master broker and sync to slave broker, return send-result to client (tps is very low)\r\n\r\n`public enum BrokerRole {\r\n    ASYNC_MASTER,\r\n    SYNC_MASTER,\r\n    SLAVE;\r\n}`\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653779745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653790013","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-653790013","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":653790013,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzc5MDAxMw==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T17:10:24Z","updated_at":"2020-07-04T17:11:24Z","author_association":"NONE","body":"> > > > litePullConsumer\r\n> > > \r\n> > > \r\n> > > litePullConsumer.start() should after litePullConsumer.setMessageQueueListener(mql)???\r\n> > \r\n> > \r\n> > Both not work.\r\n> > Below is the workaround:\r\n> > `consumer.subscribe(topic, \"*\"); consumer.start(); consumer.poll(); consumer.setMessageQueueListener(mql);`\r\n> \r\n> the default MessageQueueListenerImpl like this,can you find some difference\r\n> \r\n> ```\r\n> org.apache.rocketmq.client.impl.consumer.DefaultLitePullConsumerImpl.MessageQueueListenerImpl\r\n> \r\n>     class MessageQueueListenerImpl implements MessageQueueListener {\r\n>         @Override\r\n>         public void messageQueueChanged(String topic, Set<MessageQueue> mqAll, Set<MessageQueue> mqDivided) {\r\n>             MessageModel messageModel = defaultLitePullConsumer.getMessageModel();\r\n>             switch (messageModel) {\r\n>                 case BROADCASTING:\r\n>                     updateAssignedMessageQueue(topic, mqAll);\r\n>                     updatePullTask(topic, mqAll);\r\n>                     break;\r\n>                 case CLUSTERING:\r\n>                     updateAssignedMessageQueue(topic, mqDivided);\r\n>                     updatePullTask(topic, mqDivided);\r\n>                     break;\r\n>                 default:\r\n>                     break;\r\n>             }\r\n>         }\r\n>     }\r\n> ```\r\n\r\nI custom the MessageQueueListener to monitor the consumer rebalance and reset offset of queues by myself.\r\nFrom the client code, the consumer will use the default MessageQueueListenerImpl when subscribe.\r\n```\r\n public synchronized void subscribe(String topic, String subExpression) throws MQClientException {\r\n        try {\r\n            if (topic == null || topic.equals(\"\")) {\r\n                throw new IllegalArgumentException(\"Topic can not be null or empty.\");\r\n            }\r\n            setSubscriptionType(SubscriptionType.SUBSCRIBE);\r\n            SubscriptionData subscriptionData = FilterAPI.buildSubscriptionData(defaultLitePullConsumer.getConsumerGroup(),\r\n                topic, subExpression);\r\n            this.rebalanceImpl.getSubscriptionInner().put(topic, subscriptionData);\r\n            this.defaultLitePullConsumer.setMessageQueueListener(new MessageQueueListenerImpl());\r\n            assignedMessageQueue.setRebalanceImpl(this.rebalanceImpl);\r\n            if (serviceState == ServiceState.RUNNING) {\r\n                this.mQClientFactory.sendHeartbeatToAllBrokerWithLock();\r\n                updateTopicSubscribeInfoWhenSubscriptionChanged();\r\n            }\r\n        } catch (Exception e) {\r\n            throw new MQClientException(\"subscribe exception\", e);\r\n        }\r\n    }\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653790013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653831053","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-653831053","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":653831053,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzgzMTA1Mw==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-05T01:40:40Z","updated_at":"2020-07-05T03:22:24Z","author_association":"CONTRIBUTOR","body":"in your example, with you own define MessageQueueListener, may be your consumer will not get any MessageQueue for consume。\r\n\r\njust some tips for help，you can ref https://www.jianshu.com/p/fc6e4cfe39cb\r\n\r\n```\r\ntry {\r\n            MessageQueueListener mql = new MessageQueueListener() {\r\n                @Override\r\n                public void messageQueueChanged(String topic, Set<MessageQueue> mqAll, Set<MessageQueue> mqDivided) {\r\n                    System.out.printf(\"=============messageQueueChanged topic:%s q:%s %n\",topic,JSON.toJSONString(mqDivided));\r\n\r\n                    System.out.printf(\"queue assigned to consumer[%s] are: %n\", litePullConsumer.getInstanceName());\r\n                    for(MessageQueue q: mqDivided){\r\n                        System.out.printf(\"%d \",q.getQueueId());\r\n                    }\r\n                    System.out.printf(\"%nmqAll:%s %n\",JSON.toJSONString(mqAll));\r\n                    //litePullConsumer.assign(mqDivided);\r\n                }\r\n            };\r\n            //当设置了messageQueueListener后，可能再也收不到消息了。。\r\n            //不设置messageQueueListener，可以正常收消息\r\n            //litePullConsumer.setMessageQueueListener(mql);\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653831053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653850750","html_url":"https://github.com/apache/rocketmq/issues/2135#issuecomment-653850750","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2135","id":653850750,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzg1MDc1MA==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-05T07:02:23Z","updated_at":"2020-07-05T07:02:23Z","author_association":"CONTRIBUTOR","body":"> when I run the command 'sh broker' of rocketmq-all-4.7.1-bin-release/bin, I find the memory usage is more and more bigger.A moments later ,the console shows ：\r\n> \r\n> Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c0000000, 805306368, 0) failed; error='Cannot allocate memory' (errno=12)\r\n> \r\n> # There is insufficient memory for the Java Runtime Environment to continue.\r\n> # Native memory allocation (mmap) failed to map 805306368 bytes for committing reserved memory.\r\n> # An error report file with more information is saved as:\r\n> # /home/luoxw/rocketmq-all-4.7.1-bin-release/bin/hs_err_pid3509.log\r\n> But the version 4.3.2 of RocketMQ has no such problem.\r\n> So the latest version of RocketMQ may has something wrong with a memory-leak BUG.\r\n> Hope to find and solve it quickly if u can see the issue.\r\n\r\nRunning environment is windows or *nux? Is the broker or namesrv OOM? Do you get some hints from heap dump?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653850750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653900836","html_url":"https://github.com/apache/rocketmq/issues/2135#issuecomment-653900836","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2135","id":653900836,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzkwMDgzNg==","user":{"login":"telephone6","id":36781346,"node_id":"MDQ6VXNlcjM2NzgxMzQ2","avatar_url":"https://avatars.githubusercontent.com/u/36781346?v=4","gravatar_id":"","url":"https://api.github.com/users/telephone6","html_url":"https://github.com/telephone6","followers_url":"https://api.github.com/users/telephone6/followers","following_url":"https://api.github.com/users/telephone6/following{/other_user}","gists_url":"https://api.github.com/users/telephone6/gists{/gist_id}","starred_url":"https://api.github.com/users/telephone6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/telephone6/subscriptions","organizations_url":"https://api.github.com/users/telephone6/orgs","repos_url":"https://api.github.com/users/telephone6/repos","events_url":"https://api.github.com/users/telephone6/events{/privacy}","received_events_url":"https://api.github.com/users/telephone6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-05T15:14:03Z","updated_at":"2020-07-05T15:15:27Z","author_association":"NONE","body":"> Running environment is windows or *nux? Is the broker or namesrv OOM? Do you get some hints from heap dump?\r\n\r\nThanks for your reply.Running in CentOS 7.4_x64.The namesrv is in a normal running.\r\nI retried to running it and get some info from dump.\r\n\r\n\"VM Arguments:\r\njvm_args: -Xms8g -Xmx8g -Xmn4g -XX:+UseG1GC -XX:G1HeapRegionSize=16m -XX:G1ReservePercent=25 -XX:InitiatingHeapOccupancyPercent=30 -XX:SoftRefLRUPolicyMSPerMB=0 -verbose:gc -Xloggc:/dev/shm/rmq_broker_gc_%p_%t.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCApplicationStoppedTime -XX:+PrintAdaptiveSizePolicy -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=30m -XX:-OmitStackTraceInFastThrow -XX:+AlwaysPreTouch -XX:MaxDirectMemorySize=15g -XX:-UseLargePages -XX:-UseBiasedLocking -Djava.ext.dirs=/usr/local/java/jdk1.8.0_181/jre/lib/ext:/home/luoxw/rocketmq-all-4.7.1-bin-release/bin/../lib:/usr/local/java/jdk1.8.0_181/lib/ext\r\njava_command: org.apache.rocketmq.broker.BrokerStartup\r\njava_class_path (initial): .:/home/luoxw/rocketmq-all-4.7.1-bin-release/bin/../conf:.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jar\r\nLauncher Type: SUN_STANDARD\"\r\n\r\nI think the memory which I allocated is only 8G is the cause of the problem.It may not has enough memory to run the Broker.But older version don't need such a big memory.And here has some unnormal from dump.Maybe the unknown thread use a lot of Memory.\r\n\"\r\nCurrent thread (0x00007f8390008f50):  JavaThread \"Unknown thread\" [_thread_in_vm, id=17296, stack(0x00007f8399d5b000,0x00007f8399e5b000)]\r\n\r\nStack: [0x00007f8399d5b000,0x00007f8399e5b000],  sp=0x00007f8399e58e10,  free space=1015k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nV  [libjvm.so+0xad21aa]  VMError::report_and_die()+0x2ba\r\nV  [libjvm.so+0x5022db]  report_vm_out_of_memory(char const*, int, unsigned long, VMErrorType, char const*)+0x8b\r\nV  [libjvm.so+0x92fe33]  os::Linux::commit_memory_impl(char*, unsigned long, bool)+0x123\r\nV  [libjvm.so+0x92ffa5]  os::pd_commit_memory_or_exit(char*, unsigned long, unsigned long, bool, char const*)+0x35\r\nV  [libjvm.so+0x927ca6]  os::commit_memory_or_exit(char*, unsigned long, unsigned long, bool, char const*)+0x26\r\nV  [libjvm.so+0x5ca13f]  G1PageBasedVirtualSpace::commit_internal(unsigned long, unsigned long)+0xbf\r\nV  [libjvm.so+0x5ca3cc]  G1PageBasedVirtualSpace::commit(unsigned long, unsigned long)+0x11c\r\nV  [libjvm.so+0x5cd0b0]  G1RegionsLargerThanCommitSizeMapper::commit_regions(unsigned int, unsigned long)+0x40\r\nV  [libjvm.so+0x631047]  HeapRegionManager::commit_regions(unsigned int, unsigned long)+0x77\r\nV  [libjvm.so+0x6322e1]  HeapRegionManager::make_regions_available(unsigned int, unsigned int)+0x31\r\nV  [libjvm.so+0x632860]  HeapRegionManager::expand_by(unsigned int)+0xb0\r\nV  [libjvm.so+0x5a12b9]  G1CollectedHeap::expand(unsigned long)+0x199\r\nV  [libjvm.so+0x5a75b5]  G1CollectedHeap::initialize()+0x895\r\nV  [libjvm.so+0xa9a1e3]  Universe::initialize_heap()+0xf3\r\nV  [libjvm.so+0xa9a74e]  universe_init()+0x3e\r\nV  [libjvm.so+0x644875]  init_globals()+0x65\r\nV  [libjvm.so+0xa7eefe]  Threads::create_vm(JavaVMInitArgs*, bool*)+0x23e\r\nV  [libjvm.so+0x6d8d74]  JNI_CreateJavaVM+0x74\r\nC  [libjli.so+0x797e]  JavaMain+0x9e\r\nC  [libpthread.so.0+0x7e25]  start_thread+0xc5\r\n\r\n\r\n---------------  P R O C E S S  ---------------\r\n\r\nJava Threads: ( => current thread )\r\n\r\nOther Threads:\r\n\r\n=>0x00007f8390008f50 (exited) JavaThread \"Unknown thread\" [_thread_in_vm, id=17296, stack(0x00007f8399d5b000,0x00007f8399e5b000)]\r\n\r\nVM state:not at safepoint (not fully initialized)\r\n\"\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653900836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653968175","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-653968175","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":653968175,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzk2ODE3NQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T01:14:12Z","updated_at":"2020-07-06T01:14:12Z","author_association":"CONTRIBUTOR","body":"> Testcase to reproduce the problem\r\n> [LitePullConsumerSubscribe3.java.txt](https://github.com/apache/rocketmq/files/4856365/LitePullConsumerSubscribe3.java.txt)\r\n> \r\n> When we call litePullConsumer.setMessageQueueListener(mql) the consumer cannot poll( ) messages from broker.\r\n\r\nThanks for your details about this issue, and I read your code listed above, Rocketmq's subscribe() mode does not support custom MessageQueueListener, because in subscribe mode, pull consumer will automatically do load balancing. If you change this, it will not work. If you don't want rocketmq to manage load balancing, assign() mode will be a better choice.\r\n\r\nBut this setMessageQueueListener() is really best to be hidden from users, are you willing to submit a PR to optimize it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/653968175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654005753","html_url":"https://github.com/apache/rocketmq/issues/2132#issuecomment-654005753","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2132","id":654005753,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDAwNTc1Mw==","user":{"login":"kayyellow","id":16550147,"node_id":"MDQ6VXNlcjE2NTUwMTQ3","avatar_url":"https://avatars.githubusercontent.com/u/16550147?v=4","gravatar_id":"","url":"https://api.github.com/users/kayyellow","html_url":"https://github.com/kayyellow","followers_url":"https://api.github.com/users/kayyellow/followers","following_url":"https://api.github.com/users/kayyellow/following{/other_user}","gists_url":"https://api.github.com/users/kayyellow/gists{/gist_id}","starred_url":"https://api.github.com/users/kayyellow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kayyellow/subscriptions","organizations_url":"https://api.github.com/users/kayyellow/orgs","repos_url":"https://api.github.com/users/kayyellow/repos","events_url":"https://api.github.com/users/kayyellow/events{/privacy}","received_events_url":"https://api.github.com/users/kayyellow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T04:16:47Z","updated_at":"2020-07-06T06:10:51Z","author_association":"NONE","body":"> @kayyellow\r\n> maybe brokerRole cause that\r\n> \r\n> if ASYNC_MASTER\r\n> send to master broker, return send-result to client , async to slave broker\r\n> \r\n> if SYNC_MASTER and Property key isWaitStoreMsgOK == true (isWaitStoreMsgOK default value is true)\r\n> send to master broker and sync to slave broker, return send-result to client (tps is very low)\r\n> \r\n> `public enum BrokerRole { ASYNC_MASTER, SYNC_MASTER, SLAVE; }`\r\n\r\nOK， thx, I will try it.\r\n\r\n##1515\r\n\r\nAccording to the issue above， upgrade to 4.7.x seems can alse improve the performance of SYNC_MASTER. Should I change the brokerRole to ASYNC_MASTER, alse upgrade to 4.7.x to improve the performance？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654005753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654047550","html_url":"https://github.com/apache/rocketmq/issues/2090#issuecomment-654047550","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2090","id":654047550,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA0NzU1MA==","user":{"login":"gaoyf","id":10137071,"node_id":"MDQ6VXNlcjEwMTM3MDcx","avatar_url":"https://avatars.githubusercontent.com/u/10137071?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoyf","html_url":"https://github.com/gaoyf","followers_url":"https://api.github.com/users/gaoyf/followers","following_url":"https://api.github.com/users/gaoyf/following{/other_user}","gists_url":"https://api.github.com/users/gaoyf/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoyf/subscriptions","organizations_url":"https://api.github.com/users/gaoyf/orgs","repos_url":"https://api.github.com/users/gaoyf/repos","events_url":"https://api.github.com/users/gaoyf/events{/privacy}","received_events_url":"https://api.github.com/users/gaoyf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T06:47:52Z","updated_at":"2020-07-06T06:54:15Z","author_association":"CONTRIBUTOR","body":"> namesrv-a上的topic路由信息没了，client查询的时候namesrv会返回“No topic route info in name server for the topic”异常，client有一个数据保护机制是当查询异常时不会更新本地缓存的路由，所以至少会保留有一个broker关于这个topic的路由，理论上不会出现因为没有路由而收发不了消息的问题。\r\n\r\n@wqliang 对，你说的`至少会保留有一个broker关于这个topic的路由` 没错，但是注意，我说的是 无法**正常**生产消费，比如下面的场景：\r\n1. 对于生产者(只持有一个broker的路由，此时集群管理员可能不知道处于这样状态的生产者)，如果这个时候broker更新(升级或下线)将影响消费发送。\r\n2. 对于消费者，同样的问题，某个实例可能只持有一个或几个broker的路由，那么这个实例将不再向其他broker(未持有路由的broker)发送心跳，这样导致的问题就是，同组的其他实例rebalance时拉取的clientId列表中将不包含这个有问题的实例，结果就是消息被重复消费。\r\n\r\n> 因此，上述修改也只是尽量加快client端对变化的生效，仍然没有解决更新步调不一致，broker先于client生效的问题。\r\n\r\n注意，官方之前的修复代码#2042，并不能完全解决上面说的有问题的情况，我最上面已经描述过了。而我说的解决方案，是最终一致性，即最终肯定会保持一致。\r\n\r\n> 提供一个思路，client和broker更新namesrv地址列表分开两个接口管理。。。\r\n\r\n另外，这个思路很不错，但是增加了运维的困难度。如果能在代码层面兼容岂不是更好些。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654047550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654076734","html_url":"https://github.com/apache/rocketmq/issues/2090#issuecomment-654076734","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2090","id":654076734,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA3NjczNA==","user":{"login":"gaoyf","id":10137071,"node_id":"MDQ6VXNlcjEwMTM3MDcx","avatar_url":"https://avatars.githubusercontent.com/u/10137071?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoyf","html_url":"https://github.com/gaoyf","followers_url":"https://api.github.com/users/gaoyf/followers","following_url":"https://api.github.com/users/gaoyf/following{/other_user}","gists_url":"https://api.github.com/users/gaoyf/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoyf/subscriptions","organizations_url":"https://api.github.com/users/gaoyf/orgs","repos_url":"https://api.github.com/users/gaoyf/repos","events_url":"https://api.github.com/users/gaoyf/events{/privacy}","received_events_url":"https://api.github.com/users/gaoyf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T07:53:13Z","updated_at":"2020-07-06T07:53:13Z","author_association":"CONTRIBUTOR","body":"> > #### 一 先说一下我遇到的问题：\r\n> > 我的NameServer列表采用的是域名发现的方式，以便热更新。但有一次在更新NameServer列表后，导致客户端无法生产和消费\r\n> \r\n> 请教下 您这里说的 nameserver列表采用域名发现的方式 具体是什么意思哦？ 为什么要 更新域名映射的NameServer列表为c,d，这具体是您的什么业务操作场景呢？\r\n\r\n请自行参考官方[最佳实践](https://github.com/apache/rocketmq/blob/master/docs/cn/best_practice.md#51-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F)里的说明。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654076734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654244474","html_url":"https://github.com/apache/rocketmq/issues/2141#issuecomment-654244474","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2141","id":654244474,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDI0NDQ3NA==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T13:39:31Z","updated_at":"2020-07-06T13:39:31Z","author_association":"CONTRIBUTOR","body":"the commitLog delete policy base on your retain time.will not delete randomly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654244474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654530146","html_url":"https://github.com/apache/rocketmq/issues/2132#issuecomment-654530146","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2132","id":654530146,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDUzMDE0Ng==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T00:29:51Z","updated_at":"2020-07-07T00:29:51Z","author_association":"MEMBER","body":"it depends on how reliable you want rmq is.  see the \"code\"","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654530146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654779706","html_url":"https://github.com/apache/rocketmq/issues/2141#issuecomment-654779706","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2141","id":654779706,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDc3OTcwNg==","user":{"login":"lajiaox","id":67897520,"node_id":"MDQ6VXNlcjY3ODk3NTIw","avatar_url":"https://avatars.githubusercontent.com/u/67897520?v=4","gravatar_id":"","url":"https://api.github.com/users/lajiaox","html_url":"https://github.com/lajiaox","followers_url":"https://api.github.com/users/lajiaox/followers","following_url":"https://api.github.com/users/lajiaox/following{/other_user}","gists_url":"https://api.github.com/users/lajiaox/gists{/gist_id}","starred_url":"https://api.github.com/users/lajiaox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lajiaox/subscriptions","organizations_url":"https://api.github.com/users/lajiaox/orgs","repos_url":"https://api.github.com/users/lajiaox/repos","events_url":"https://api.github.com/users/lajiaox/events{/privacy}","received_events_url":"https://api.github.com/users/lajiaox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T11:09:50Z","updated_at":"2020-07-07T11:09:50Z","author_association":"NONE","body":"> the commitLog delete policy base on your retain time.will not delete randomly.\r\n\r\nBut the fact is that it has been deleted. What I mainly mean is not random deletion, but why it was deleted","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654779706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654840080","html_url":"https://github.com/apache/rocketmq/issues/283#issuecomment-654840080","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/283","id":654840080,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDg0MDA4MA==","user":{"login":"xiaobing2017","id":32701623,"node_id":"MDQ6VXNlcjMyNzAxNjIz","avatar_url":"https://avatars.githubusercontent.com/u/32701623?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaobing2017","html_url":"https://github.com/xiaobing2017","followers_url":"https://api.github.com/users/xiaobing2017/followers","following_url":"https://api.github.com/users/xiaobing2017/following{/other_user}","gists_url":"https://api.github.com/users/xiaobing2017/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaobing2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaobing2017/subscriptions","organizations_url":"https://api.github.com/users/xiaobing2017/orgs","repos_url":"https://api.github.com/users/xiaobing2017/repos","events_url":"https://api.github.com/users/xiaobing2017/events{/privacy}","received_events_url":"https://api.github.com/users/xiaobing2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T13:00:13Z","updated_at":"2020-07-07T13:00:13Z","author_association":"NONE","body":"懵逼中。。。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/654840080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655233627","html_url":"https://github.com/apache/rocketmq/issues/2139#issuecomment-655233627","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2139","id":655233627,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIzMzYyNw==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T01:55:44Z","updated_at":"2020-07-08T01:55:44Z","author_association":"NONE","body":"dledger mode do not support batch messages","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655233627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655238278","html_url":"https://github.com/apache/rocketmq/issues/2127#issuecomment-655238278","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2127","id":655238278,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIzODI3OA==","user":{"login":"henrypoter","id":2194640,"node_id":"MDQ6VXNlcjIxOTQ2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2194640?v=4","gravatar_id":"","url":"https://api.github.com/users/henrypoter","html_url":"https://github.com/henrypoter","followers_url":"https://api.github.com/users/henrypoter/followers","following_url":"https://api.github.com/users/henrypoter/following{/other_user}","gists_url":"https://api.github.com/users/henrypoter/gists{/gist_id}","starred_url":"https://api.github.com/users/henrypoter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrypoter/subscriptions","organizations_url":"https://api.github.com/users/henrypoter/orgs","repos_url":"https://api.github.com/users/henrypoter/repos","events_url":"https://api.github.com/users/henrypoter/events{/privacy}","received_events_url":"https://api.github.com/users/henrypoter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T02:11:47Z","updated_at":"2020-07-09T10:28:12Z","author_association":"NONE","body":"> > Testcase to reproduce the problem\r\n> > [LitePullConsumerSubscribe3.java.txt](https://github.com/apache/rocketmq/files/4856365/LitePullConsumerSubscribe3.java.txt)\r\n> > When we call litePullConsumer.setMessageQueueListener(mql) the consumer cannot poll( ) messages from broker.\r\n> \r\n> Thanks for your details about this issue, and I read your code listed above, Rocketmq's subscribe() mode does not support custom MessageQueueListener, because in subscribe mode, pull consumer will automatically do load balancing. If you change this, it will not work. If you don't want rocketmq to manage load balancing, assign() mode will be a better choice.\r\n> \r\n> But this setMessageQueueListener() is really best to be hidden from users, are you willing to submit a PR to optimize it?\r\n\r\nI think the litePullConsumer should provide the ability to listen  queue rebalance event.\r\n\r\nI suggest to keep the messageQueueListener  in litePullConsumer. And let the original messageQueueListener  be a inner default messageQueueListenerInner ,  the RebalanceLitePullImpl call the messageQueueListenerInner (It will never be overrided by developer). Then the messageQueueListenerInner  call messageQueueListener seted by developer via litePullConsumer.setMessageQueueListener()  \r\n\r\nSth like this: \r\n```\r\n//DefaultLitePullConsumerImpl.java\r\nprivate MessageQueueListener messageQueueListenerInner = new MessageQueueListenerImpl();\r\nclass MessageQueueListenerImpl implements MessageQueueListener {\r\n\r\n        @Override\r\n        public void messageQueueChanged(String topic, Set<MessageQueue> mqAll, Set<MessageQueue> mqDivided) {\r\n            MessageModel messageModel = defaultLitePullConsumer.getMessageModel();\r\n            MessageQueueListener messageQueueListener = defaultLitePullConsumer.getMessageQueueListener();\r\n            switch (messageModel) {\r\n                case BROADCASTING:\r\n                    updateAssignedMessageQueue(topic, mqAll);\r\n                    updatePullTask(topic, mqAll);\r\n                    if(null != messageQueueListener){\r\n                        try {\r\n                            messageQueueListener.messageQueueChanged(topic,mqAll,mqDivided);\r\n                        } catch (Throwable e) {\r\n                            log.error(\"messageQueueChanged exception\", e);\r\n                        }\r\n                    }\r\n                    break;\r\n                case CLUSTERING:\r\n                    updateAssignedMessageQueue(topic, mqDivided);\r\n                    updatePullTask(topic, mqDivided);\r\n                    if(null != messageQueueListener){\r\n                        try {\r\n                            messageQueueListener.messageQueueChanged(topic,mqAll,mqDivided);\r\n                        } catch (Throwable e) {\r\n                            log.error(\"messageQueueChanged exception\", e);\r\n                        }\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n//RebalanceLitePullImpl.java\r\n@Override\r\n    public void messageQueueChanged(String topic, Set<MessageQueue> mqAll, Set<MessageQueue> mqDivided) {\r\n        MessageQueueListener messageQueueListener = this.litePullConsumerImpl./*getDefaultLitePullConsumer().*/getMessageQueueListenerInner();\r\n        if (messageQueueListener != null) {\r\n            try {\r\n                messageQueueListener.messageQueueChanged(topic, mqAll, mqDivided);\r\n            } catch (Throwable e) {\r\n                log.error(\"messageQueueChanged exception\", e);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655238278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655328388","html_url":"https://github.com/apache/rocketmq/issues/2143#issuecomment-655328388","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2143","id":655328388,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTMyODM4OA==","user":{"login":"zhangyangx","id":48794630,"node_id":"MDQ6VXNlcjQ4Nzk0NjMw","avatar_url":"https://avatars.githubusercontent.com/u/48794630?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyangx","html_url":"https://github.com/zhangyangx","followers_url":"https://api.github.com/users/zhangyangx/followers","following_url":"https://api.github.com/users/zhangyangx/following{/other_user}","gists_url":"https://api.github.com/users/zhangyangx/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyangx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyangx/subscriptions","organizations_url":"https://api.github.com/users/zhangyangx/orgs","repos_url":"https://api.github.com/users/zhangyangx/repos","events_url":"https://api.github.com/users/zhangyangx/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyangx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T06:59:55Z","updated_at":"2020-07-08T06:59:55Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/48794630/86887775-a8533000-c12b-11ea-8848-a495b0462602.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655328388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655395495","html_url":"https://github.com/apache/rocketmq/issues/2143#issuecomment-655395495","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2143","id":655395495,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTM5NTQ5NQ==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T09:11:59Z","updated_at":"2020-07-08T09:11:59Z","author_association":"NONE","body":"Could you please paste more infos like boker's configuration, broker's log?\r\nIs there sync or async mode between master and slave? Are u sure that slave is running correctly?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655395495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655869193","html_url":"https://github.com/apache/rocketmq/issues/2145#issuecomment-655869193","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2145","id":655869193,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg2OTE5Mw==","user":{"login":"lebron374","id":5032169,"node_id":"MDQ6VXNlcjUwMzIxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5032169?v=4","gravatar_id":"","url":"https://api.github.com/users/lebron374","html_url":"https://github.com/lebron374","followers_url":"https://api.github.com/users/lebron374/followers","following_url":"https://api.github.com/users/lebron374/following{/other_user}","gists_url":"https://api.github.com/users/lebron374/gists{/gist_id}","starred_url":"https://api.github.com/users/lebron374/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lebron374/subscriptions","organizations_url":"https://api.github.com/users/lebron374/orgs","repos_url":"https://api.github.com/users/lebron374/repos","events_url":"https://api.github.com/users/lebron374/events{/privacy}","received_events_url":"https://api.github.com/users/lebron374/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:04:15Z","updated_at":"2020-07-09T03:04:15Z","author_association":"CONTRIBUTOR","body":"i have some diffrent opinion，the originTopic can't write mean can not add new message，but old message still need be consume？so it's hard to make this decision","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655869193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655954894","html_url":"https://github.com/apache/rocketmq/issues/2145#issuecomment-655954894","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2145","id":655954894,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTk1NDg5NA==","user":{"login":"coder-zzzz","id":62043001,"node_id":"MDQ6VXNlcjYyMDQzMDAx","avatar_url":"https://avatars.githubusercontent.com/u/62043001?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-zzzz","html_url":"https://github.com/coder-zzzz","followers_url":"https://api.github.com/users/coder-zzzz/followers","following_url":"https://api.github.com/users/coder-zzzz/following{/other_user}","gists_url":"https://api.github.com/users/coder-zzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-zzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-zzzz/subscriptions","organizations_url":"https://api.github.com/users/coder-zzzz/orgs","repos_url":"https://api.github.com/users/coder-zzzz/repos","events_url":"https://api.github.com/users/coder-zzzz/events{/privacy}","received_events_url":"https://api.github.com/users/coder-zzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T07:29:05Z","updated_at":"2020-07-09T07:29:05Z","author_association":"CONTRIBUTOR","body":"> i have some diffrent opinion，the originTopic can't write mean can not add new message，but old message still need be consume？so it's hard to make this decision\r\n\r\nThe originTopic can't write just means this group can't write msg, but others can. If producer and consumer are different ak/sk, consumer's group can just only consume msg , then why conumer send msgs to its own retry topic need the originTopic's write perm?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/655954894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656475805","html_url":"https://github.com/apache/rocketmq/issues/2137#issuecomment-656475805","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2137","id":656475805,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQ3NTgwNQ==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T04:29:06Z","updated_at":"2020-07-10T04:29:06Z","author_association":"CONTRIBUTOR","body":" Since there is no direct documentation about this,I would assume DefaultMQProducerImpl#start() should be synchronized.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656475805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656476775","html_url":"https://github.com/apache/rocketmq/issues/2138#issuecomment-656476775","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2138","id":656476775,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQ3Njc3NQ==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T04:33:33Z","updated_at":"2020-07-10T04:33:33Z","author_association":"CONTRIBUTOR","body":"It seems that your disk is out of space. Usually for performance considerations we wouldn't allow the disk usage goes beyond 90% (actually we would suffer significant performance loss once the disk usage is above 60%, depends on your disk type). One workaround is using a more aggressive compaction/retention policy so your disk gets cleaned up more often.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656476775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656478151","html_url":"https://github.com/apache/rocketmq/issues/2141#issuecomment-656478151","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2141","id":656478151,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQ3ODE1MQ==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T04:39:53Z","updated_at":"2020-07-10T04:40:21Z","author_association":"CONTRIBUTOR","body":"Hello, we need more information  for us to investigate why it was deleted. Usually commitLog will only be deleted automatically by the compaction/retention mechanism. It might be possible that someone deleted the second file by mistake, and you can verify this by Linux auditing tools (like find out the commands executed, other logging info). If it is not human error then we might need you to reproduce this bug before we can dig further into it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656478151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656479643","html_url":"https://github.com/apache/rocketmq/issues/2142#issuecomment-656479643","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2142","id":656479643,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQ3OTY0Mw==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T04:46:15Z","updated_at":"2020-07-10T04:46:15Z","author_association":"CONTRIBUTOR","body":"Hi, It seems like the slave cannot connect with the master or the cluster properly. However this can have a lot of possible causes. You can verify if the slave is connected with network analysis tools, and verify if they both registered in the namesrv, if there is configuration typos... etc. If you already tried these, can you provide us a full guide to reproduce the bug like cluster settings, runtime environment, network settings and so on? Thanks ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656479643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656480381","html_url":"https://github.com/apache/rocketmq/issues/2143#issuecomment-656480381","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2143","id":656480381,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQ4MDM4MQ==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T04:48:58Z","updated_at":"2020-07-10T04:48:58Z","author_association":"CONTRIBUTOR","body":"Hi, It seems like the slave cannot connect with the master or the cluster properly. However this can have a lot of possible causes. You can verify if the slave is connected with network analysis tools, and verify if they both registered in the namesrv, if there is configuration typos... etc. If you already tried these, can you provide us a full guide to reproduce the bug like cluster settings, runtime environment, network settings and so on? Thanks","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656480381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656481115","html_url":"https://github.com/apache/rocketmq/issues/2146#issuecomment-656481115","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2146","id":656481115,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQ4MTExNQ==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T04:51:56Z","updated_at":"2020-07-10T04:51:56Z","author_association":"CONTRIBUTOR","body":"Hi, you're welcomed to submit a PR and we will review it. Also the community is proposing a new plugin mechanism and lifecycle hook mechanism that enables developers to customize their benchmark options by integrating with these lifecycle hooks. I think the RIP is coming out soon and if you are interested feel free to join the RIP.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656481115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656482382","html_url":"https://github.com/apache/rocketmq/issues/2147#issuecomment-656482382","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2147","id":656482382,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQ4MjM4Mg==","user":{"login":"imaffe","id":22848576,"node_id":"MDQ6VXNlcjIyODQ4NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22848576?v=4","gravatar_id":"","url":"https://api.github.com/users/imaffe","html_url":"https://github.com/imaffe","followers_url":"https://api.github.com/users/imaffe/followers","following_url":"https://api.github.com/users/imaffe/following{/other_user}","gists_url":"https://api.github.com/users/imaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/imaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imaffe/subscriptions","organizations_url":"https://api.github.com/users/imaffe/orgs","repos_url":"https://api.github.com/users/imaffe/repos","events_url":"https://api.github.com/users/imaffe/events{/privacy}","received_events_url":"https://api.github.com/users/imaffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T04:57:15Z","updated_at":"2020-07-10T04:57:15Z","author_association":"CONTRIBUTOR","body":"Issues are generally used for bug reports and feature requests, so if you have any questions about     Apache  RocketMQ, it is recommended to discuss it on the mailing list first, the mailing list [address]    (https://rocketmq.apache.org/about/contact). I will close the Issue first, but please feel free to   reopen it if you have any other issues.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656482382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656591675","html_url":"https://github.com/apache/rocketmq/issues/2146#issuecomment-656591675","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2146","id":656591675,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU5MTY3NQ==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T09:53:49Z","updated_at":"2020-07-10T09:53:49Z","author_association":"CONTRIBUTOR","body":"> Hi, you're welcomed to submit a PR and we will review it. Also the community is proposing a new plugin mechanism and lifecycle hook mechanism that enables developers to customize their benchmark options by integrating with these lifecycle hooks. I think the RIP is coming out soon and if you are interested feel free to join the RIP.\r\n\r\nHi, I've submitted a PR and very glad to make contribution to community.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656591675/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656592828","html_url":"https://github.com/apache/rocketmq/issues/2148#issuecomment-656592828","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2148","id":656592828,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU5MjgyOA==","user":{"login":"xiaobing395845388","id":17471464,"node_id":"MDQ6VXNlcjE3NDcxNDY0","avatar_url":"https://avatars.githubusercontent.com/u/17471464?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaobing395845388","html_url":"https://github.com/xiaobing395845388","followers_url":"https://api.github.com/users/xiaobing395845388/followers","following_url":"https://api.github.com/users/xiaobing395845388/following{/other_user}","gists_url":"https://api.github.com/users/xiaobing395845388/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaobing395845388/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaobing395845388/subscriptions","organizations_url":"https://api.github.com/users/xiaobing395845388/orgs","repos_url":"https://api.github.com/users/xiaobing395845388/repos","events_url":"https://api.github.com/users/xiaobing395845388/events{/privacy}","received_events_url":"https://api.github.com/users/xiaobing395845388/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T09:56:45Z","updated_at":"2020-07-10T09:56:45Z","author_association":"NONE","body":"I had summit pr","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656592828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656607129","html_url":"https://github.com/apache/rocketmq/pull/2150#issuecomment-656607129","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2150","id":656607129,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjYwNzEyOQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T10:33:40Z","updated_at":"2020-10-19T16:48:38Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/34287876/badge)](https://coveralls.io/builds/34287876)\n\nCoverage increased (+0.1%) to 51.542% when pulling **03ad01a4fa3b6cec3d51bef0be447d7500009acc on maixiaohai:benchmark** into **fd7da3502f3184fef1e1c7a5abdefb1af7b097b7 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656607129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656607929","html_url":"https://github.com/apache/rocketmq/pull/2151#issuecomment-656607929","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2151","id":656607929,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjYwNzkyOQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T10:35:45Z","updated_at":"2020-07-10T10:35:45Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/31987016/badge)](https://coveralls.io/builds/31987016)\n\nCoverage increased (+0.07%) to 51.295% when pulling **66420afe9f72455212f1e4869242bc5a09fdf713 on xiaobing395845388:master** into **fac30c3596d5577cd80a52af9ad89a0839016137 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/656607929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/657346129","html_url":"https://github.com/apache/rocketmq/issues/2152#issuecomment-657346129","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2152","id":657346129,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzM0NjEyOQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T04:00:39Z","updated_at":"2020-07-13T04:00:55Z","author_association":"CONTRIBUTOR","body":"IMO, it is necessary to add such a method. Could you submit a PR to fix it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/657346129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/657346358","html_url":"https://github.com/apache/rocketmq/issues/2154#issuecomment-657346358","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2154","id":657346358,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzM0NjM1OA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T04:01:39Z","updated_at":"2020-07-13T04:01:39Z","author_association":"CONTRIBUTOR","body":"Could you submit a PR to fix it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/657346358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/658035383","html_url":"https://github.com/apache/rocketmq/issues/2117#issuecomment-658035383","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2117","id":658035383,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODAzNTM4Mw==","user":{"login":"lstarby","id":1026575,"node_id":"MDQ6VXNlcjEwMjY1NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1026575?v=4","gravatar_id":"","url":"https://api.github.com/users/lstarby","html_url":"https://github.com/lstarby","followers_url":"https://api.github.com/users/lstarby/followers","following_url":"https://api.github.com/users/lstarby/following{/other_user}","gists_url":"https://api.github.com/users/lstarby/gists{/gist_id}","starred_url":"https://api.github.com/users/lstarby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lstarby/subscriptions","organizations_url":"https://api.github.com/users/lstarby/orgs","repos_url":"https://api.github.com/users/lstarby/repos","events_url":"https://api.github.com/users/lstarby/events{/privacy}","received_events_url":"https://api.github.com/users/lstarby/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T08:05:07Z","updated_at":"2020-07-14T08:05:07Z","author_association":"NONE","body":"> polish\r\n\r\nHow to avoid replay back check ah? When the Broker restarts","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/658035383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]