[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676055345","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676055345","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676055345,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjA1NTM0NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T09:51:27Z","updated_at":"2020-08-19T09:51:27Z","author_association":"CONTRIBUTOR","body":"Ah OK that looks a bug on doc, but could you please confirm changing `uri` to `warehouse` fixes your issue? Once you've confirmed, you are welcome to submit a PR to fix it (or if you mind I can do it). Thanks in advance!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676055345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676057020","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676057020","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676057020,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjA1NzAyMA==","user":{"login":"Heltman","id":44333070,"node_id":"MDQ6VXNlcjQ0MzMzMDcw","avatar_url":"https://avatars.githubusercontent.com/u/44333070?v=4","gravatar_id":"","url":"https://api.github.com/users/Heltman","html_url":"https://github.com/Heltman","followers_url":"https://api.github.com/users/Heltman/followers","following_url":"https://api.github.com/users/Heltman/following{/other_user}","gists_url":"https://api.github.com/users/Heltman/gists{/gist_id}","starred_url":"https://api.github.com/users/Heltman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Heltman/subscriptions","organizations_url":"https://api.github.com/users/Heltman/orgs","repos_url":"https://api.github.com/users/Heltman/repos","events_url":"https://api.github.com/users/Heltman/events{/privacy}","received_events_url":"https://api.github.com/users/Heltman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T09:53:42Z","updated_at":"2020-08-19T09:53:42Z","author_association":"CONTRIBUTOR","body":"It' s work! Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676057020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676060270","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676060270","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676060270,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjA2MDI3MA==","user":{"login":"Heltman","id":44333070,"node_id":"MDQ6VXNlcjQ0MzMzMDcw","avatar_url":"https://avatars.githubusercontent.com/u/44333070?v=4","gravatar_id":"","url":"https://api.github.com/users/Heltman","html_url":"https://github.com/Heltman","followers_url":"https://api.github.com/users/Heltman/followers","following_url":"https://api.github.com/users/Heltman/following{/other_user}","gists_url":"https://api.github.com/users/Heltman/gists{/gist_id}","starred_url":"https://api.github.com/users/Heltman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Heltman/subscriptions","organizations_url":"https://api.github.com/users/Heltman/orgs","repos_url":"https://api.github.com/users/Heltman/repos","events_url":"https://api.github.com/users/Heltman/events{/privacy}","received_events_url":"https://api.github.com/users/Heltman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T09:56:08Z","updated_at":"2020-08-19T09:56:08Z","author_association":"CONTRIBUTOR","body":"But a new problem:\r\n\r\n> scala> df.writeTo(\"local.iceberg_test1\").create()\r\n20/08/19 17:50:28 WARN BaseMetastoreTableOperations: Could not find the table during refresh, setting current metadata to null\r\norg.apache.iceberg.exceptions.NoSuchIcebergTableException: Not an iceberg table: spark_catalog.default.big_table (type=null)\r\n...\r\n\r\n> scala> spark.sql(\"select * from local.iceberg_test1\").show()\r\njava.lang.NoClassDefFoundError: org/apache/commons/compress/utils/Lists\r\n  at org.apache.iceberg.hadoop.HadoopInputFile.getBlockLocations(HadoopInputFile.java:182)\r\n  at org.apache.iceberg.hadoop.Util.blockLocations(Util.java:75)\r\n  at org.apache.iceberg.spark.source.SparkBatchScan$ReadTask.<init>(SparkBatchScan.java:322)\r\n  at org.apache.iceberg.spark.source.SparkBatchScan.planInputPartitions(SparkBatchScan.java:142)\r\n  at org.apache.spark.sql.execution.datasources.v2.BatchScanExec.partitions$lzycompute(BatchScanExec.scala:43)\r\n  at org.apache.spark.sql.execution.datasources.v2.BatchScanExec.partitions(BatchScanExec.scala:43)\r\n  at org.apache.spark.sql.execution.datasources.v2.DataSourceV2ScanExecBase.supportsColumnar(DataSourceV2ScanExecBase.scala:61)\r\n  at org.apache.spark.sql.execution.datasources.v2.DataSourceV2ScanExecBase.supportsColumnar$(DataSourceV2ScanExecBase.scala:60)\r\n  at org.apache.spark.sql.execution.datasources.v2.BatchScanExec.supportsColumnar(BatchScanExec.scala:29)\r\n  at org.apache.spark.sql.execution.datasources.v2.DataSourceV2Strategy.apply(DataSourceV2Strategy.scala:84)\r\n  at org.apache.spark.sql.catalyst.planning.QueryPlanner.$anonfun$plan$1(QueryPlanner.scala:63)\r\n  at scala.collection.Iterator$$anon$11.nextCur(Iterator.scala:484)\r\n  at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:490)\r\n  at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:489)\r\n  at org.apache.spark.sql.catalyst.planning.QueryPlanner.plan(QueryPlanner.scala:93)\r\n  at org.apache.spark.sql.execution.SparkStrategies.plan(SparkStrategies.scala:68)\r\n  at org.apache.spark.sql.catalyst.planning.QueryPlanner.$anonfun$plan$3(QueryPlanner.scala:78)\r\n  at scala.collection.TraversableOnce.$anonfun$foldLeft$1(TraversableOnce.scala:162)\r\n  at scala.collection.TraversableOnce.$anonfun$foldLeft$1$adapted(TraversableOnce.scala:162)\r\n  at scala.collection.Iterator.foreach(Iterator.scala:941)\r\n  at scala.collection.Iterator.foreach$(Iterator.scala:941)\r\n  at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)\r\n  at scala.collection.TraversableOnce.foldLeft(TraversableOnce.scala:162)\r\n  at scala.collection.TraversableOnce.foldLeft$(TraversableOnce.scala:160)\r\n  at scala.collection.AbstractIterator.foldLeft(Iterator.scala:1429)\r\n  at org.apache.spark.sql.catalyst.planning.QueryPlanner.$anonfun$plan$2(QueryPlanner.scala:75)\r\n  at scala.collection.Iterator$$anon$11.nextCur(Iterator.scala:484)\r\n  at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:490)\r\n  at org.apache.spark.sql.catalyst.planning.QueryPlanner.plan(QueryPlanner.scala:93)\r\n  at org.apache.spark.sql.execution.SparkStrategies.plan(SparkStrategies.scala:68)\r\n  at org.apache.spark.sql.execution.QueryExecution$.createSparkPlan(QueryExecution.scala:330)\r\n  at org.apache.spark.sql.execution.QueryExecution.$anonfun$sparkPlan$1(QueryExecution.scala:94)\r\n  at org.apache.spark.sql.catalyst.QueryPlanningTracker.measurePhase(QueryPlanningTracker.scala:111)\r\n  at org.apache.spark.sql.execution.QueryExecution.$anonfun$executePhase$1(QueryExecution.scala:133)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n  at org.apache.spark.sql.execution.QueryExecution.executePhase(QueryExecution.scala:133)\r\n  at org.apache.spark.sql.execution.QueryExecution.sparkPlan$lzycompute(QueryExecution.scala:94)\r\n  at org.apache.spark.sql.execution.QueryExecution.sparkPlan(QueryExecution.scala:87)\r\n  at org.apache.spark.sql.execution.QueryExecution.$anonfun$executedPlan$1(QueryExecution.scala:107)\r\n  at org.apache.spark.sql.catalyst.QueryPlanningTracker.measurePhase(QueryPlanningTracker.scala:111)\r\n  at org.apache.spark.sql.execution.QueryExecution.$anonfun$executePhase$1(QueryExecution.scala:133)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n  at org.apache.spark.sql.execution.QueryExecution.executePhase(QueryExecution.scala:133)\r\n  at org.apache.spark.sql.execution.QueryExecution.executedPlan$lzycompute(QueryExecution.scala:107)\r\n  at org.apache.spark.sql.execution.QueryExecution.executedPlan(QueryExecution.scala:100)\r\n  at org.apache.spark.sql.execution.QueryExecution.$anonfun$writePlans$5(QueryExecution.scala:199)\r\n  at org.apache.spark.sql.catalyst.plans.QueryPlan$.append(QueryPlan.scala:381)\r\n  at org.apache.spark.sql.execution.QueryExecution.org$apache$spark$sql$execution$QueryExecution$$writePlans(QueryExecution.scala:199)\r\n  at org.apache.spark.sql.execution.QueryExecution.toString(QueryExecution.scala:207)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:95)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n  at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3614)\r\n  at org.apache.spark.sql.Dataset.head(Dataset.scala:2695)\r\n  at org.apache.spark.sql.Dataset.take(Dataset.scala:2902)\r\n  at org.apache.spark.sql.Dataset.getRows(Dataset.scala:300)\r\n  at org.apache.spark.sql.Dataset.showString(Dataset.scala:337)\r\n  at org.apache.spark.sql.Dataset.show(Dataset.scala:824)\r\n  at org.apache.spark.sql.Dataset.show(Dataset.scala:783)\r\n  at org.apache.spark.sql.Dataset.show(Dataset.scala:792)\r\n  ... 47 elided\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.compress.utils.Lists\r\n  at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\nMaybe I need more test! \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676060270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676068946","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676068946","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676068946,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjA2ODk0Ng==","user":{"login":"Heltman","id":44333070,"node_id":"MDQ6VXNlcjQ0MzMzMDcw","avatar_url":"https://avatars.githubusercontent.com/u/44333070?v=4","gravatar_id":"","url":"https://api.github.com/users/Heltman","html_url":"https://github.com/Heltman","followers_url":"https://api.github.com/users/Heltman/followers","following_url":"https://api.github.com/users/Heltman/following{/other_user}","gists_url":"https://api.github.com/users/Heltman/gists{/gist_id}","starred_url":"https://api.github.com/users/Heltman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Heltman/subscriptions","organizations_url":"https://api.github.com/users/Heltman/orgs","repos_url":"https://api.github.com/users/Heltman/repos","events_url":"https://api.github.com/users/Heltman/events{/privacy}","received_events_url":"https://api.github.com/users/Heltman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T10:02:13Z","updated_at":"2020-08-19T10:02:13Z","author_association":"CONTRIBUTOR","body":"Thanks! for all.The doc may need you to fix, I will close this issue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676068946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676123167","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676123167","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676123167,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjEyMzE2Nw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T10:41:29Z","updated_at":"2020-08-19T10:41:29Z","author_association":"CONTRIBUTOR","body":"OK I'll provide the fix.\r\n\r\nBtw, when you use \"custom\" catalog, you'll need to provide full table identifier like `catalog_name.db_name.table_name` - in your case, `local.default.iceberg_test1`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676123167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676136550","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676136550","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676136550,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjEzNjU1MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T10:51:25Z","updated_at":"2020-08-19T10:51:25Z","author_association":"CONTRIBUTOR","body":"Looks like it's already fixed via #1259 but the site hasn't been updated yet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676136550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676468945","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-676468945","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":676468945,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjQ2ODk0NQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T14:41:41Z","updated_at":"2020-08-20T01:24:31Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi I used a Spark job to count the record after writing into the Iceberg table and it did not show the expected the number. By accident, I found that the version nuber in version-hint was not the same as the latest metadata json. \r\nA Flink job is used to write into Iceberg and I use MergeAppend and Transaction.commitTransaction() to do the commit. The table instance is not cached.\r\n\r\nSorry that I could not re-create it or recall all actions I made that day. I guess the incorrect read might be due to that ont only was version-hint not updated correctly, but at least one metadata json file is also not written correctly due to the improper permissions. \r\n\r\nAnother thing I would like to mention (but might not relate to that incorrect read) is that \"java.io.FileNotFoundException\" in the description is the error made on purpose so as to trigger the error in house in my dev environment, the actual error on our production system is the following `org.apache.hadoop.ipc.RemoteException` (we enabled Ranger aganist Hadoop):\r\n```\r\norg.apache.hadoop.ipc.RemoteException(org.apache.ranger.authorization.hadoop.exceptions.RangerAccessControlException): Permission denied: user=u_teg_tdbank, access=WRITE, inode=\"/xxxx/version-hint.text\"\r\n\tat org.apache.ranger.authorization.hadoop.RangerHdfsAuthorizer$RangerAccessControlEnforcer.checkPermission(RangerHdfsAuthorizer.java:442)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkPermission(FSPermissionChecker.java:190)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkPermission(FSDirectory.java:1663)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkPermission(FSDirectory.java:1647)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkPathAccess(FSDirectory.java:1597)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSDirWriteFileOp.resolvePathForStartFile(FSDirWriteFileOp.java:305)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFileInt(FSNamesystem.java:2284)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.startFile(FSNamesystem.java:2227)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.createOriginal(NameNodeRpcServer.java:745)\r\n\tat org.apache.hadoop.hdfs.server.namenode.ProtectionManager.create(ProtectionManager.java:326)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.create(NameNodeRpcServer.java:715)\r\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.create(ClientNamenodeProtocolServerSideTranslatorPB.java:421)\r\n\tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:447)\r\n\tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:991)\r\n\tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:866)\r\n\tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:809)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:2248)\r\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2574)\r\n\r\n\tat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1489)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1435)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1345)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:227)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\r\n\tat com.sun.proxy.$Proxy10.create(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.create(ClientNamenodeProtocolTranslatorPB.java:307)\r\n\tat sun.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:409)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:163)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:155)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:346)\r\n\tat com.sun.proxy.$Proxy11.create(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.DFSOutputStream.newStreamForCreate(DFSOutputStream.java:266)\r\n\tat org.apache.hadoop.hdfs.DFSClient.create(DFSClient.java:1308)\r\n\tat org.apache.hadoop.hdfs.DFSClient.create(DFSClient.java:1249)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$8.doCall(DistributedFileSystem.java:484)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$8.doCall(DistributedFileSystem.java:481)\r\n\tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:495)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:422)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:946)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:927)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:824)\r\n\tat org.apache.iceberg.hadoop.HadoopTableOperations.writeVersionHint(HadoopTableOperations.java:273)\r\n\tat org.apache.iceberg.hadoop.HadoopTableOperations.commit(HadoopTableOperations.java:162)\r\n\tat org.apache.iceberg.BaseTransaction.lambda$commitSimpleTransaction$5(BaseTransaction.java:344)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:403)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runSingleThreaded(Tasks.java:212)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:196)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:188)\r\n\tat org.apache.iceberg.BaseTransaction.commitSimpleTransaction(BaseTransaction.java:329)\r\n\tat org.apache.iceberg.BaseTransaction.commitTransaction(BaseTransaction.java:220)\r\n```\r\n`org.apache.hadoop.ipc.RemoteException` is a sub-class of IOException so it is swallowed and logged as expected","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676468945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676488569","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-676488569","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":676488569,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjQ4ODU2OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T15:14:43Z","updated_at":"2020-08-19T15:15:33Z","author_association":"MEMBER","body":"One issue here is not that the \"Day\" has to be in UTC, but that timestamps are in many cases transmitted without any timezone information, assuming that we can add that information back based on the System locale is going to essentially be buggy especially when we don't know where the System's running the code is and the location may change depending on deployment.\r\n\r\nOne could imagine if you have a system running in both China and in US East you would get different answers with the same timestamps and this to me is the crux of the problem. System locale should not effect data partitioning.\r\n\r\nThis is one of the (many) reasons that almost all modern apis for calculating Day or Day since Epoch don't represent the underlying time as a timestamp. There is just too much ambiguity in what the \"day\" should actually be. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676488569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676527401","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-676527401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":676527401,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjUyNzQwMQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T16:24:38Z","updated_at":"2020-08-19T16:24:38Z","author_association":"MEMBER","body":"I've rebased the patch and rewrite the unit tests by asserting readed records/RowData with the generated records/RowData. Also I add the ORC to the parameterized unit tests.  Let's see the result from travis.  If all tests pass,  @rdblue you may want to take a final look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676527401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676532109","html_url":"https://github.com/apache/iceberg/pull/1342#issuecomment-676532109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1342","id":676532109,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjUzMjEwOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T16:34:09Z","updated_at":"2020-08-19T16:34:09Z","author_association":"MEMBER","body":"@rdblue just a friendly ping, once this gets in I\"ll redo the ExpireSnapshots branch, that should be very straightforward","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676532109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676564915","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-676564915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":676564915,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjU2NDkxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T17:38:11Z","updated_at":"2020-08-19T17:38:11Z","author_association":"CONTRIBUTOR","body":"Looks like tests are failing because ORC wasn't added to the appender factory. Should be an easy fix?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676564915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676568076","html_url":"https://github.com/apache/iceberg/pull/1342#issuecomment-676568076","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1342","id":676568076,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjU2ODA3Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T17:45:04Z","updated_at":"2020-08-19T17:45:04Z","author_association":"CONTRIBUTOR","body":"Looks great! Thank you @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676568076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676579631","html_url":"https://github.com/apache/iceberg/pull/1342#issuecomment-676579631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1342","id":676579631,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjU3OTYzMQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T18:09:11Z","updated_at":"2020-08-19T18:09:11Z","author_association":"MEMBER","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676579631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676591216","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-676591216","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":676591216,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjU5MTIxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T18:33:49Z","updated_at":"2020-08-19T18:33:49Z","author_association":"CONTRIBUTOR","body":"> I don't think that such an operation changes the value of the time, and Iceberg does not change the real data of the time type, but only changes the value of the time partition directory to meet the user's current time zone.\r\n\r\nOkay, I see that you're just adjusting the time zone in the partition function. That's similar to a solution we may want to use, although I think we would need to do it differently: the partition function must be well-defined and cannot depend on the environment. I think we would want to add either 23 new functions (one for each offset) or add an offset parameter to the function, similar to the bucket width and truncation length.\r\n\r\nThe reason why the partitioning is UTC is that we just need to break data up into day-sized partitions. The actual partition boundaries would ideally not matter. If you need data split across files at some boundary for deletes, then we would normally recommend hourly partitioning to ensure that you can delete any hour individually.\r\n\r\n> I don't understand why iceberg must use UTC time zone in the time partition directory. The user's time data in other time zones is prone to the problems described in #1354 .\r\n\r\nThe requirement is that Iceberg must be consistent. Whatever one engine uses, all the others must as well. That's why I'm saying that the function would need to be parameterized and we would need to add the offsets to the spec.\r\n\r\nAlso, I should note that `dynamicOverwrite` is supported, but not considered a best practice. We don't recommend using `dynamicOverwrite` because it can lead to situations like what you hit in #1354. The problem is that the data being overwritten is _implicit_ based on the data written.\r\n\r\nIf your job had a bug and wrote a single record from another day -- even if the zone problem were fixed -- then that record would overwrite that day worth of data. This is why we added the `overwrite(Expression)` action in `DataFrameWriterV2`. That is explicit about what data is deleted when your job commits. That is a much more reliable pattern.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676591216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676616324","html_url":"https://github.com/apache/iceberg/pull/1344#issuecomment-676616324","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1344","id":676616324,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjYxNjMyNA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T19:27:06Z","updated_at":"2020-08-19T19:27:06Z","author_association":"MEMBER","body":"@aokolnychyi + @rdblue this is the followup to the StaticTableOperation ticket #1342 using the improvement inside ExpireSnapshotActions, now with no caching!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676616324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676733881","html_url":"https://github.com/apache/iceberg/pull/1344#issuecomment-676733881","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1344","id":676733881,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjczMzg4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T21:50:15Z","updated_at":"2020-08-19T21:50:15Z","author_association":"CONTRIBUTOR","body":"This looks great, @RussellSpitzer! I had a few minor comments about structure, but overall it has no major issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676733881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676818843","html_url":"https://github.com/apache/iceberg/pull/1245#issuecomment-676818843","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1245","id":676818843,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgxODg0Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T23:55:16Z","updated_at":"2020-08-19T23:55:16Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, are you still interested in this or should we close it now that #1264 is in?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676818843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676819765","html_url":"https://github.com/apache/iceberg/pull/1330#issuecomment-676819765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1330","id":676819765,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgxOTc2NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T23:58:54Z","updated_at":"2020-08-19T23:58:54Z","author_association":"CONTRIBUTOR","body":"Looks good. Thanks @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676819765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676826333","html_url":"https://github.com/apache/iceberg/pull/1340#issuecomment-676826333","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1340","id":676826333,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgyNjMzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T00:23:39Z","updated_at":"2020-08-20T00:23:39Z","author_association":"CONTRIBUTOR","body":"Thanks @JingsongLi, looks good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676826333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676829494","html_url":"https://github.com/apache/iceberg/pull/1245#issuecomment-676829494","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1245","id":676829494,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgyOTQ5NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T00:34:46Z","updated_at":"2020-08-20T00:34:46Z","author_association":"MEMBER","body":"I think we should close it out since I'm not sure there is much benefit\nwithout the other usecase\n\nOn Wed, Aug 19, 2020, 6:55 PM Ryan Blue <notifications@github.com> wrote:\n\n> @RussellSpitzer <https://github.com/RussellSpitzer>, are you still\n> interested in this or should we close it now that #1264\n> <https://github.com/apache/iceberg/pull/1264> is in?\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1245#issuecomment-676818843>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YJYDXSQVGF6S5Q5UMTSBRQ7DANCNFSM4PHD5P4Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676829494/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676829884","html_url":"https://github.com/apache/iceberg/pull/1266#issuecomment-676829884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1266","id":676829884,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgyOTg4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T00:36:09Z","updated_at":"2020-08-20T00:36:09Z","author_association":"CONTRIBUTOR","body":"The only remaining issue that I see is that this uses `Supplier` when I don't think it needs to, but we can follow up. I'll merge this to unblock the next steps.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676829884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676834553","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-676834553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":676834553,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgzNDU1Mw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T00:55:36Z","updated_at":"2020-08-20T00:55:36Z","author_association":"MEMBER","body":"Sure, let's see travis result again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676834553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676836925","html_url":"https://github.com/apache/iceberg/pull/1339#issuecomment-676836925","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1339","id":676836925,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgzNjkyNQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T01:04:47Z","updated_at":"2020-08-20T01:04:47Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @shardulm94 - I've updated the PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676836925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676902652","html_url":"https://github.com/apache/iceberg/issues/1341#issuecomment-676902652","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1341","id":676902652,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjkwMjY1Mg==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T03:02:21Z","updated_at":"2020-08-20T03:02:21Z","author_association":"CONTRIBUTOR","body":"Somehow it seems to be working now. I'll finish this question.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676902652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677119989","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-677119989","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":677119989,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzExOTk4OQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T05:23:16Z","updated_at":"2020-08-20T05:23:46Z","author_association":"CONTRIBUTOR","body":"ready to close this issue (work as design). Thanks for taking care of this!  @rdblue @RussellSpitzer @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677119989/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677154515","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-677154515","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":677154515,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzE1NDUxNQ==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T05:34:50Z","updated_at":"2020-08-20T05:34:50Z","author_association":"CONTRIBUTOR","body":">One could imagine if you have a system running in both China and in US East you would get different answers with the same timestamps and this to me is the crux of the problem. System locale should not effect data partitioning.\r\n\r\n@RussellSpitzer Thanks for your explanation, maybe I know why the community is using UTC time zone.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677154515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677169468","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-677169468","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":677169468,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzE2OTQ2OA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T05:40:02Z","updated_at":"2020-08-20T05:40:02Z","author_association":"CONTRIBUTOR","body":"@rdblue Thank you very much for your patience.\r\nAfter internal consideration of my team and I, we decided to privatize this function locally. At least so far, we have no internal problem of processing data across time zones. \r\nOf course, I am more looking forward to relevant modifications by the community, as you mentioned before, adding an offset parameter in the function. If you don't mind, maybe I'll take the time to provide a PR that supports the time zone parameter function.\r\n\r\nThe reason why I use 'dynamicOverwrite' is because of the problem from #1341 . However, when I want to reproduce the problem, I find that the problem no longer exists. Next, I'll use the recommended API `(overwrite(Expression))`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677169468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677179685","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-677179685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":677179685,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzE3OTY4NQ==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T05:43:34Z","updated_at":"2020-08-20T05:43:34Z","author_association":"CONTRIBUTOR","body":" I am now closing the relevant issue and this PR","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677179685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677263670","html_url":"https://github.com/apache/iceberg/pull/1357#issuecomment-677263670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1357","id":677263670,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzI2MzY3MA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T06:19:42Z","updated_at":"2020-08-20T06:19:42Z","author_association":"MEMBER","body":"@jzhuge   Did you find that the intellij IDE could not import the relocated guava classes after applied this patch ?  Once applied this patch in my own repo,  the relocated package (such as `org.apache.iceberg.relocated.com.google.common.base.Preconditions` ) could not be imported,  but I could run unit tests in my ide and build the project under my host. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677263670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677359166","html_url":"https://github.com/apache/iceberg/pull/1357#issuecomment-677359166","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1357","id":677359166,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzM1OTE2Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T06:51:11Z","updated_at":"2020-08-20T06:51:11Z","author_association":"MEMBER","body":"The simple pr (https://github.com/apache/iceberg/pull/1360) fixed my package import issue,  but i'm not familiar with gradle building,  is it the right direction to fix this issue ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677359166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677430580","html_url":"https://github.com/apache/iceberg/pull/1357#issuecomment-677430580","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1357","id":677430580,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzQzMDU4MA==","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T07:42:30Z","updated_at":"2020-08-20T07:42:30Z","author_association":"MEMBER","body":"Confirmed what you saw. Very strange. Anybody know why?\n\nYour PR LGTM.\n\nOn Wed, Aug 19, 2020 at 11:51 PM openinx <notifications@github.com> wrote:\n\n> The simple pr (#1360 <https://github.com/apache/iceberg/pull/1360>) fixed\n> my package import issue, but i'm not familiar with gradle building, is it\n> the right direction to fix this issue ?\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1357#issuecomment-677359166>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAOL5JCD4G47Z73NASBYYLDSBTBWZANCNFSM4QEBJXYQ>\n> .\n>\n\n\n-- \nJohn Zhuge\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677430580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677445102","html_url":"https://github.com/apache/iceberg/pull/1357#issuecomment-677445102","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1357","id":677445102,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzQ0NTEwMg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T08:06:32Z","updated_at":"2020-08-20T08:06:32Z","author_association":"MEMBER","body":"There's a `GuavaClasses` inside the empty jar.  Without that class, then `bundled-guava` won't reference any classes from guava ?  finally, the relocate  won't have effect in this module.  But I don't understand why could we build this project in terminal.\r\n\r\n```java\r\npublic class GuavaClasses {\r\n\r\n  /*\r\n   * Referencing Guava classes here includes them in the minimized and relocated Guava jar\r\n   */\r\n  static {\r\n    VisibleForTesting.class.getName();\r\n    Joiner.class.getName();\r\n    MoreObjects.class.getName();\r\n    Objects.class.getName();\r\n    Preconditions.class.getName();\r\n    Splitter.class.getName();\r\n    Throwables.class.getName();\r\n    BiMap.class.getName();\r\n    FluentIterable.class.getName();\r\n    ImmutableBiMap.class.getName();\r\n    ImmutableList.class.getName();\r\n    ImmutableMap.class.getName();\r\n    ImmutableSet.class.getName();\r\n    Iterables.class.getName();\r\n    Iterators.class.getName();\r\n    ListMultimap.class.getName();\r\n    Lists.class.getName();\r\n    MapMaker.class.getName();\r\n    Maps.class.getName();\r\n    Multimap.class.getName();\r\n    Multimaps.class.getName();\r\n    Ordering.class.getName();\r\n    Sets.class.getName();\r\n    Streams.class.getName();\r\n    Hasher.class.getName();\r\n    HashFunction.class.getName();\r\n    Hashing.class.getName();\r\n    Files.class.getName();\r\n    Bytes.class.getName();\r\n    MoreExecutors.class.getName();\r\n    ThreadFactoryBuilder.class.getName();\r\n    Iterables.class.getName();\r\n  }\r\n\r\n}\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/5028729/90732685-0adc4600-e2fe-11ea-9009-875ef9a40a8d.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677445102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677489380","html_url":"https://github.com/apache/iceberg/pull/1272#issuecomment-677489380","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1272","id":677489380,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzQ4OTM4MA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T09:31:53Z","updated_at":"2020-08-20T09:31:53Z","author_association":"COLLABORATOR","body":"@rdblue @openinx, Just rebased this and also added the follow-up from the reader side. Please take a look at your convenience. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677489380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677584145","html_url":"https://github.com/apache/iceberg/issues/104#issuecomment-677584145","issue_url":"https://api.github.com/repos/apache/iceberg/issues/104","id":677584145,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzU4NDE0NQ==","user":{"login":"NJordan72","id":5156166,"node_id":"MDQ6VXNlcjUxNTYxNjY=","avatar_url":"https://avatars.githubusercontent.com/u/5156166?v=4","gravatar_id":"","url":"https://api.github.com/users/NJordan72","html_url":"https://github.com/NJordan72","followers_url":"https://api.github.com/users/NJordan72/followers","following_url":"https://api.github.com/users/NJordan72/following{/other_user}","gists_url":"https://api.github.com/users/NJordan72/gists{/gist_id}","starred_url":"https://api.github.com/users/NJordan72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NJordan72/subscriptions","organizations_url":"https://api.github.com/users/NJordan72/orgs","repos_url":"https://api.github.com/users/NJordan72/repos","events_url":"https://api.github.com/users/NJordan72/events{/privacy}","received_events_url":"https://api.github.com/users/NJordan72/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T11:47:04Z","updated_at":"2020-08-20T11:47:04Z","author_association":"NONE","body":"FWIW, I'm seeing this again.\r\n\r\n```\r\n2020-08-20 07:39:48,421 WARN hadoop.HadoopStreams: Unclosed input stream created by:\r\n\torg.apache.iceberg.hadoop.HadoopStreams$HadoopSeekableInputStream.<init>(HadoopStreams.java:80)\r\n\torg.apache.iceberg.hadoop.HadoopStreams.wrap(HadoopStreams.java:55)\r\n\torg.apache.iceberg.hadoop.HadoopInputFile.newStream(HadoopInputFile.java:157)\r\n\torg.apache.iceberg.avro.AvroIterable.newFileReader(AvroIterable.java:101)\r\n\torg.apache.iceberg.avro.AvroIterable.iterator(AvroIterable.java:77)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:86)\r\n\torg.apache.iceberg.relocated.com.google.common.collect.Iterables$4.iterator(Iterables.java:559)\r\n\torg.apache.iceberg.io.CloseableIterable$2.iterator(CloseableIterable.java:74)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.ManifestReader.iterator(ManifestReader.java:227)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.spark.source.RowDataReader.open(RowDataReader.java:100)\r\n\torg.apache.iceberg.spark.source.BaseDataReader.next(BaseDataReader.java:81)\r\n\torg.apache.spark.sql.execution.datasources.v2.PartitionIterator.hasNext(DataSourceRDD.scala:79)\r\n\torg.apache.spark.sql.execution.datasources.v2.MetricsIterator.hasNext(DataSourceRDD.scala:112)\r\n\torg.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n\tscala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\torg.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n\torg.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n\torg.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:729)\r\n\torg.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:340)\r\n\torg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:872)\r\n\torg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:872)\r\n\torg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\torg.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:349)\r\n\torg.apache.spark.rdd.RDD.iterator(RDD.scala:313)\r\n\torg.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\torg.apache.spark.scheduler.Task.run(Task.scala:127)\r\n\torg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:444)\r\n\torg.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n\torg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:447)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tjava.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nIt happens when calling `Actions.forTable(table).removeOrphanFiles().execute()`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677584145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677651284","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-677651284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":677651284,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzY1MTI4NA==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T13:03:10Z","updated_at":"2020-08-20T13:03:10Z","author_association":"CONTRIBUTOR","body":"@rymurr This is ready for review whenever you have a chance.  The failed check looks like it's something on the java side, which this PR isn't touching.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677651284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677710648","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-677710648","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":677710648,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzcxMDY0OA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T14:46:21Z","updated_at":"2020-08-20T14:46:21Z","author_association":"MEMBER","body":"Timezones are the worst :( ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677710648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677735404","html_url":"https://github.com/apache/iceberg/pull/1360#issuecomment-677735404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1360","id":677735404,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzczNTQwNA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T15:28:41Z","updated_at":"2020-08-20T15:28:41Z","author_association":"MEMBER","body":":+1: Tested with archiveClassifier on my build, worked great.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677735404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677760886","html_url":"https://github.com/apache/iceberg/pull/1357#issuecomment-677760886","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1357","id":677760886,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc2MDg4Ng==","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:14:25Z","updated_at":"2020-08-20T16:14:25Z","author_association":"MEMBER","body":"The dependency on bundled-guava is declared using the following syntax\n(suggested by Shadow Plugin doc):\n\ncompile project(path: ':iceberg-bundled-guava', configuration: 'shadow')\n\nMaybe Idea does not interpret it properly?\n\n\nOn Thu, Aug 20, 2020 at 1:06 AM openinx <notifications@github.com> wrote:\n\n> There's a GuavaClasses inside the empty jar. Without that class, then\n> bundled-guava won't reference any classes from guava ? finally, the\n> relocate won't have effect in this module. But I don't understand why could\n> we build this project in terminal.\n>\n> public class GuavaClasses {\n>\n>   /*   * Referencing Guava classes here includes them in the minimized and relocated Guava jar   */\n>   static {\n>     VisibleForTesting.class.getName();\n>     Joiner.class.getName();\n>     MoreObjects.class.getName();\n>     Objects.class.getName();\n>     Preconditions.class.getName();\n>     Splitter.class.getName();\n>     Throwables.class.getName();\n>     BiMap.class.getName();\n>     FluentIterable.class.getName();\n>     ImmutableBiMap.class.getName();\n>     ImmutableList.class.getName();\n>     ImmutableMap.class.getName();\n>     ImmutableSet.class.getName();\n>     Iterables.class.getName();\n>     Iterators.class.getName();\n>     ListMultimap.class.getName();\n>     Lists.class.getName();\n>     MapMaker.class.getName();\n>     Maps.class.getName();\n>     Multimap.class.getName();\n>     Multimaps.class.getName();\n>     Ordering.class.getName();\n>     Sets.class.getName();\n>     Streams.class.getName();\n>     Hasher.class.getName();\n>     HashFunction.class.getName();\n>     Hashing.class.getName();\n>     Files.class.getName();\n>     Bytes.class.getName();\n>     MoreExecutors.class.getName();\n>     ThreadFactoryBuilder.class.getName();\n>     Iterables.class.getName();\n>   }\n>\n> }\n>\n> [image: image]\n> <https://user-images.githubusercontent.com/5028729/90732685-0adc4600-e2fe-11ea-9009-875ef9a40a8d.png>\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1357#issuecomment-677445102>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAOL5JFXRDLHZQ2QNMN2JULSBTKRNANCNFSM4QEBJXYQ>\n> .\n>\n\n\n-- \nJohn Zhuge\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677760886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677762557","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-677762557","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":677762557,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc2MjU1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:17:34Z","updated_at":"2020-08-20T16:17:34Z","author_association":"CONTRIBUTOR","body":"Thanks @openinx! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677762557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677764061","html_url":"https://github.com/apache/iceberg/pull/1350#issuecomment-677764061","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1350","id":677764061,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc2NDA2MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:20:06Z","updated_at":"2020-08-20T16:32:34Z","author_association":"MEMBER","body":"So the Issue with Right Curly is that in previous versions of check style it was broken.\r\nhttps://github.com/checkstyle/checkstyle/issues/6345\r\n\r\nWe use these directive\r\n\r\n```\r\n        <module name=\"RightCurly\"> <!-- Java Style Guide: Nonempty blocks: K & R style -->\r\n            <property name=\"option\" value=\"alone\"/>\r\n            <property name=\"tokens\" value=\"CLASS_DEF, METHOD_DEF, CTOR_DEF, LITERAL_FOR, LITERAL_WHILE, STATIC_INIT, INSTANCE_INIT\"/>\r\n        </module>\r\n\r\n```\r\nOn Constructors, which means every usage of `private Constructor(){}` is illegal. It just wasn't marked previously.\r\n\r\nSince we have decided that this is ok (It's present in dozens of files) I'm going to remove the \"CTOR_DEF\" check\r\n\r\nWe have a few other instances of methods failing to place their new } on a new line, but only about 4. So I'm going to fix those.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677764061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677764793","html_url":"https://github.com/apache/iceberg/pull/1357#issuecomment-677764793","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1357","id":677764793,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc2NDc5Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:21:32Z","updated_at":"2020-08-20T16:21:32Z","author_association":"CONTRIBUTOR","body":"Looks like IntelliJ relies on the 'empty' classifier somehow. Probably not worth the trouble to find out why when we can just add the classifier back. I've updated the PR to use `archiveClassifier` and will merge when it passes tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677764793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677765554","html_url":"https://github.com/apache/iceberg/pull/1351#issuecomment-677765554","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1351","id":677765554,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc2NTU1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:23:00Z","updated_at":"2020-08-20T16:23:00Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @aokolnychyi! Merging it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677765554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677767209","html_url":"https://github.com/apache/iceberg/pull/1344#issuecomment-677767209","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1344","id":677767209,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc2NzIwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:26:02Z","updated_at":"2020-08-20T16:26:02Z","author_association":"CONTRIBUTOR","body":"Merging. Looks good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677767209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677772657","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-677772657","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":677772657,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc3MjY1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:36:09Z","updated_at":"2020-08-20T16:36:09Z","author_association":"CONTRIBUTOR","body":"@zhangdove, thanks for bringing this up, I think it is a valuable discussion to have. I'm definitely open to adding date functions that are parameterized by a zone offset because there are times when the partition boundaries matter. If you're interested in that, it would be great to have you contribute them!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677772657/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677773273","html_url":"https://github.com/apache/iceberg/issues/104#issuecomment-677773273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/104","id":677773273,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc3MzI3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:37:27Z","updated_at":"2020-08-20T16:37:27Z","author_association":"CONTRIBUTOR","body":"Thanks for letting us know, @NJordan72. What version of Iceberg are you using? 0.9.1?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677773273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677774491","html_url":"https://github.com/apache/iceberg/pull/1272#issuecomment-677774491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1272","id":677774491,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc3NDQ5MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:40:01Z","updated_at":"2020-08-20T16:40:01Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, looks like this is conflicting again. Must have been one of the patches I merged this morning. Sorry about that!\r\n\r\nI'll take a look at this one next, thanks for your patience with reviews. I've been running behind on reviews lately.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677774491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677775120","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-677775120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":677775120,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc3NTEyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:41:18Z","updated_at":"2020-08-20T16:41:18Z","author_association":"CONTRIBUTOR","body":"I think this one is ready to review and commit, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677775120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677778450","html_url":"https://github.com/apache/iceberg/pull/1350#issuecomment-677778450","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1350","id":677778450,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc3ODQ1MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:47:19Z","updated_at":"2020-08-20T16:47:19Z","author_association":"MEMBER","body":"@kbendick I know you were interested in this, you can see from this build a large number of new warnings :) Some I think we can just turn off but I suggest that for this PR we probably just leave warnings as is and fix the warnings in subsequent PR's. \r\n\r\ncc: @aokolnychyi + @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677778450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677783597","html_url":"https://github.com/apache/iceberg/pull/1344#issuecomment-677783597","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1344","id":677783597,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzc4MzU5Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T16:57:32Z","updated_at":"2020-08-20T16:57:32Z","author_association":"MEMBER","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677783597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677809128","html_url":"https://github.com/apache/iceberg/pull/1245#issuecomment-677809128","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1245","id":677809128,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzgwOTEyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T17:50:46Z","updated_at":"2020-08-20T17:50:46Z","author_association":"CONTRIBUTOR","body":"Sounds good to me. I'll close it. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677809128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677809886","html_url":"https://github.com/apache/iceberg/pull/1360#issuecomment-677809886","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1360","id":677809886,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzgwOTg4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T17:52:24Z","updated_at":"2020-08-20T17:52:24Z","author_association":"CONTRIBUTOR","body":"Looks like `archiveClassifier` fails. Anyone know the right syntax?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677809886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677812528","html_url":"https://github.com/apache/iceberg/pull/1360#issuecomment-677812528","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1360","id":677812528,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzgxMjUyOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T17:57:44Z","updated_at":"2020-08-20T17:57:44Z","author_association":"MEMBER","body":"archiveClassifier = 'empty' worked for me\n\nOn Thu, Aug 20, 2020 at 12:52 PM Ryan Blue <notifications@github.com> wrote:\n\n> Looks like archiveClassifier fails. Anyone know the right syntax?\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1360#issuecomment-677809886>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YJJFEZK3JVEYVOXBIDSBVPGPANCNFSM4QFWYW5Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677812528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677814287","html_url":"https://github.com/apache/iceberg/pull/1332#issuecomment-677814287","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1332","id":677814287,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzgxNDI4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T18:01:15Z","updated_at":"2020-08-20T18:01:15Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks @JingsongLi!\r\n\r\nI think this seems like a reasonable way to load tables on tasks that need to. We should document how to supply your own catalog, though. I think it is common for people to override them.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677814287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677821159","html_url":"https://github.com/apache/iceberg/pull/1360#issuecomment-677821159","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1360","id":677821159,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzgyMTE1OQ==","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T18:16:00Z","updated_at":"2020-08-20T18:16:00Z","author_association":"MEMBER","body":"archiveClassifier = 'empty'\n\nOn Thu, Aug 20, 2020 at 10:52 AM Ryan Blue <notifications@github.com> wrote:\n\n> Looks like archiveClassifier fails. Anyone know the right syntax?\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1360#issuecomment-677809886>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAOL5JAEJD3EB7I2WIWBIFDSBVPGPANCNFSM4QFWYW5Q>\n> .\n>\n\n\n-- \nJohn Zhuge\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677821159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677842547","html_url":"https://github.com/apache/iceberg/issues/104#issuecomment-677842547","issue_url":"https://api.github.com/repos/apache/iceberg/issues/104","id":677842547,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzg0MjU0Nw==","user":{"login":"NJordan72","id":5156166,"node_id":"MDQ6VXNlcjUxNTYxNjY=","avatar_url":"https://avatars.githubusercontent.com/u/5156166?v=4","gravatar_id":"","url":"https://api.github.com/users/NJordan72","html_url":"https://github.com/NJordan72","followers_url":"https://api.github.com/users/NJordan72/followers","following_url":"https://api.github.com/users/NJordan72/following{/other_user}","gists_url":"https://api.github.com/users/NJordan72/gists{/gist_id}","starred_url":"https://api.github.com/users/NJordan72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NJordan72/subscriptions","organizations_url":"https://api.github.com/users/NJordan72/orgs","repos_url":"https://api.github.com/users/NJordan72/repos","events_url":"https://api.github.com/users/NJordan72/events{/privacy}","received_events_url":"https://api.github.com/users/NJordan72/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T19:01:10Z","updated_at":"2020-08-20T19:01:10Z","author_association":"NONE","body":"I was somewhere between 0.9.0 and 0.9.1, but I just confirmed it on 0.9.1.  Updated stack trace reflecting that here:\r\n\r\n```\r\n2020-08-20 14:59:56,308 WARN hadoop.HadoopStreams: Unclosed input stream created by:\r\n\torg.apache.iceberg.hadoop.HadoopStreams$HadoopSeekableInputStream.<init>(HadoopStreams.java:80)\r\n\torg.apache.iceberg.hadoop.HadoopStreams.wrap(HadoopStreams.java:55)\r\n\torg.apache.iceberg.hadoop.HadoopInputFile.newStream(HadoopInputFile.java:157)\r\n\torg.apache.iceberg.avro.AvroIterable.newFileReader(AvroIterable.java:95)\r\n\torg.apache.iceberg.avro.AvroIterable.iterator(AvroIterable.java:77)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:86)\r\n\torg.apache.iceberg.relocated.com.google.common.collect.Iterables$4.iterator(Iterables.java:559)\r\n\torg.apache.iceberg.io.CloseableIterable$2.iterator(CloseableIterable.java:74)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.ManifestReader.iterator(ManifestReader.java:227)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.io.CloseableIterable$3$1.<init>(CloseableIterable.java:95)\r\n\torg.apache.iceberg.io.CloseableIterable$3.iterator(CloseableIterable.java:94)\r\n\torg.apache.iceberg.spark.source.RowDataReader.open(RowDataReader.java:106)\r\n\torg.apache.iceberg.spark.source.BaseDataReader.next(BaseDataReader.java:73)\r\n\torg.apache.spark.sql.execution.datasources.v2.PartitionIterator.hasNext(DataSourceRDD.scala:79)\r\n\torg.apache.spark.sql.execution.datasources.v2.MetricsIterator.hasNext(DataSourceRDD.scala:112)\r\n\torg.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n\tscala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\torg.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n\torg.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n\torg.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:729)\r\n\torg.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:340)\r\n\torg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:872)\r\n\torg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:872)\r\n\torg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\torg.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:349)\r\n\torg.apache.spark.rdd.RDD.iterator(RDD.scala:313)\r\n\torg.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\torg.apache.spark.scheduler.Task.run(Task.scala:127)\r\n\torg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:444)\r\n\torg.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n\torg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:447)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tjava.lang.Thread.run(Thread.java:748)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677842547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677880415","html_url":"https://github.com/apache/iceberg/pull/1346#issuecomment-677880415","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1346","id":677880415,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzg4MDQxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T20:14:40Z","updated_at":"2020-08-20T20:14:40Z","author_association":"CONTRIBUTOR","body":"@JingsongLi, now that #1332 has been merged, could you update this one? It looks like this one is next to review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677880415/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677920750","html_url":"https://github.com/apache/iceberg/pull/1361#issuecomment-677920750","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1361","id":677920750,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzkyMDc1MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T21:41:38Z","updated_at":"2020-08-20T21:41:38Z","author_association":"MEMBER","body":"Probably all of these should be added to the action test suite as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677920750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677924763","html_url":"https://github.com/apache/iceberg/pull/1350#issuecomment-677924763","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1350","id":677924763,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzkyNDc2Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T21:50:55Z","updated_at":"2020-08-20T21:50:55Z","author_association":"CONTRIBUTOR","body":"Overall, looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677924763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677936351","html_url":"https://github.com/apache/iceberg/pull/1360#issuecomment-677936351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1360","id":677936351,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzkzNjM1MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T22:21:24Z","updated_at":"2020-08-20T22:21:24Z","author_association":"CONTRIBUTOR","body":"I'm merging this. Java 8 tests passed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677936351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677959065","html_url":"https://github.com/apache/iceberg/pull/1362#issuecomment-677959065","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1362","id":677959065,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk1OTA2NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T23:41:24Z","updated_at":"2020-08-20T23:41:24Z","author_association":"CONTRIBUTOR","body":"Thanks! That looks much better.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677959065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677960001","html_url":"https://github.com/apache/iceberg/pull/1362#issuecomment-677960001","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1362","id":677960001,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk2MDAwMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T23:45:03Z","updated_at":"2020-08-20T23:45:03Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, @aokolnychyi, if using the local iterator causes a job per task to be submitted to Spark, should we avoid using it?\r\n\r\nIf every file to delete takes up 500 bytes in memory, then the driver can hold 4 million files in 2GB. That seems reasonable to me, so we may be over-optimizing by using the iterator instead of just collecting the data back.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677960001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677961397","html_url":"https://github.com/apache/iceberg/pull/1362#issuecomment-677961397","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1362","id":677961397,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk2MTM5Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T23:50:21Z","updated_at":"2020-08-20T23:50:21Z","author_association":"MEMBER","body":"That was my original thought, but I think we wanted to air on the side of\ncaution. I think it would be fine if we just made it configurable. Add a\nswitch for \"lazy\" execution?\n\nOn Thu, Aug 20, 2020 at 6:45 PM Ryan Blue <notifications@github.com> wrote:\n\n> @RussellSpitzer <https://github.com/RussellSpitzer>, @aokolnychyi\n> <https://github.com/aokolnychyi>, if using the local iterator causes a\n> job per task to be submitted to Spark, should we avoid using it?\n>\n> If every file to delete takes up 500 bytes in memory, then the driver can\n> hold 4 million files in 2GB. That seems reasonable to me, so we may be\n> over-optimizing by using the iterator instead of just collecting the data\n> back.\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1362#issuecomment-677960001>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YJS5YZZKAHDXL4ZLSDSBWYQ3ANCNFSM4QGVJG7Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677961397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677963366","html_url":"https://github.com/apache/iceberg/pull/1362#issuecomment-677963366","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1362","id":677963366,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk2MzM2Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T23:58:10Z","updated_at":"2020-08-20T23:58:10Z","author_association":"CONTRIBUTOR","body":"That sounds good to me!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677963366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677984600","html_url":"https://github.com/apache/iceberg/pull/1272#issuecomment-677984600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1272","id":677984600,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk4NDYwMA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T01:16:51Z","updated_at":"2020-08-21T01:16:51Z","author_association":"COLLABORATOR","body":"@rdblue , Never mind, it is just a small conflict that already fixed. Take your time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677984600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677991898","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-677991898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":677991898,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk5MTg5OA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T01:45:40Z","updated_at":"2020-08-21T01:45:40Z","author_association":"MEMBER","body":"> I think this one is ready to review and commit, right?\r\n\r\nThat's right. ( After this DataStream sink,  the next patch is https://github.com/apache/iceberg/pull/1348).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/677991898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678013408","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-678013408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":678013408,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODAxMzQwOA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T03:11:19Z","updated_at":"2020-08-21T03:11:19Z","author_association":"MEMBER","body":"Rebased the master and did the things btw: \r\n1.  add ORC as a case in the unit tests; \r\n2. Since we've introduced the `CatalogLoader` and `TableLoader`, then  we could just use it inside `IcebergFilesCommitter` to load iceberg table lazily,  that looks more reasonable. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678013408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678024616","html_url":"https://github.com/apache/iceberg/pull/1346#issuecomment-678024616","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1346","id":678024616,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODAyNDYxNg==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T03:59:51Z","updated_at":"2020-08-21T03:59:51Z","author_association":"CONTRIBUTOR","body":"Hi @openinx and @rdblue , rebased and added case and fixed bug.\r\nI think this is ready to review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678024616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678063320","html_url":"https://github.com/apache/iceberg/issues/1319#issuecomment-678063320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1319","id":678063320,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODA2MzMyMA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T06:18:47Z","updated_at":"2020-08-21T06:18:47Z","author_association":"CONTRIBUTOR","body":"From my understanding, the current implementation of `HiveCatalog` will list all tables under specific db, that's why we will see non-iceberg table in iceberg catalog. I think it is doable to filter out non-iceberg table, but it requires to get the properties of each table, which may bring in extra cost for just table listing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678063320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678073729","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-678073729","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":678073729,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODA3MzcyOQ==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T06:46:19Z","updated_at":"2020-08-21T06:46:19Z","author_association":"CONTRIBUTOR","body":"Hi @openinx , for the API level, I think we can do more:\r\n- We can provide two API, one for RowData, one for Row, This can cover not only most users of `DataStream`, but also the requirements of SQL layer.\r\n- Users can just construct a sink from `DataStream` and `TableLoader`, other information can be inferred.\r\n\r\nJust like:\r\n```\r\npublic class FlinkSink {\r\n  private FlinkSink() {\r\n  }\r\n\r\n  public static Builder<Row> forRow(DataStream<Row> input) {\r\n    return new Builder<>(input);\r\n  }\r\n\r\n  public static Builder<RowData> forRowData(DataStream<RowData> input) {\r\n    return new Builder<>(input);\r\n  }\r\n\r\n  private static class Builder<T> {\r\n    private final DataStream<T> input;\r\n    private TableLoader loader;\r\n    private Configuration hadoopConf;\r\n    private Table table;\r\n    private TableSchema tableSchema;\r\n\r\n    // ---------- Required options ------------\r\n\r\n    private Builder(DataStream<T> input) {\r\n      this.input = input;\r\n    }\r\n\r\n    public Builder tableLoader(TableLoader loader) {\r\n      this.loader = loader;\r\n      return this;\r\n    }\r\n\r\n    // ---------- Optional options ------------\r\n\r\n    public Builder table(Table newTable) {\r\n      this.table = newTable;\r\n      return this;\r\n    }\r\n\r\n    public Builder hadoopConf(Configuration newConf) {\r\n      this.hadoopConf = newConf;\r\n      return this;\r\n    }\r\n\r\n    public Builder tableSchema(TableSchema newSchema) {\r\n      this.tableSchema = newSchema;\r\n      return this;\r\n    }\r\n\r\n    @SuppressWarnings(\"unchecked\")\r\n    public DataStreamSink<RowData> build() {\r\n      Preconditions.checkNotNull(input, \"Input data stream shouldn't be null\");\r\n      Preconditions.checkNotNull(loader, \"Table loader shouldn't be null\");\r\n\r\n      if (hadoopConf == null) {\r\n        // load cluster conf\r\n      }\r\n\r\n      if (table == null) {\r\n        // load table from table loader\r\n      }\r\n\r\n      // tableSchema can be optional\r\n\r\n      DataStream<RowData> inputStream;\r\n      Class<T> inputClass = input.getType().getTypeClass();\r\n      if (inputClass == Row.class) {\r\n        DataType type;\r\n        if (tableSchema != null) {\r\n          type = tableSchema.toRowDataType();\r\n        } else {\r\n          type = TypeConversions.fromLogicalToDataType(FlinkSchemaUtil.convert(table.schema()));\r\n        }\r\n        DataStructureConverter converter = DataStructureConverters.getConverter(type);\r\n        inputStream = input.map((MapFunction) converter::toInternal);\r\n      } else if (inputClass == RowData.class) {\r\n        inputStream = (DataStream<RowData>) input;\r\n      } else {\r\n        throw new IllegalArgumentException(\"Should be Row or RowData\");\r\n      }\r\n\r\n      // create writer form inputStream.\r\n      // create committer.\r\n      // return DataStreamSink.\r\n      return null;\r\n    }\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678073729/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678112074","html_url":"https://github.com/apache/iceberg/pull/1346#issuecomment-678112074","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1346","id":678112074,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODExMjA3NA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T08:21:32Z","updated_at":"2020-08-21T08:21:32Z","author_association":"MEMBER","body":"Fine,  I will take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678112074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678323110","html_url":"https://github.com/apache/iceberg/pull/1362#issuecomment-678323110","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1362","id":678323110,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODMyMzExMA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T14:34:53Z","updated_at":"2020-08-21T14:37:19Z","author_association":"MEMBER","body":"Another idea is that we could just move all the deletes to the executors\r\n... this would remove the need to configure something and all driver side\r\nwork entirely.\r\n\r\n\r\nThe only downsides I see to that are \r\n* we have to make a Serializable Consumer class for deletes (not a big deal)\r\n* we have to redo all the tests that use \"Collection::add\" to use an accumulator ... this should work\r\n* All logging about delete failures would be in executor logs so harder to actually see\r\nOn Thu, Aug 20, 2020 at 6:58 PM Ryan Blue <notifications@github.com> wrote:\r\n\r\n> That sounds good to me!\r\n>\r\n> â€”\r\n> You are receiving this because you were mentioned.\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/iceberg/pull/1362#issuecomment-677963366>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AADE2YKLRGNKVC2V7HZ7TQLSBW2B3ANCNFSM4QGVJG7Q>\r\n> .\r\n>\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678323110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678349777","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-678349777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":678349777,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODM0OTc3Nw==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T15:25:07Z","updated_at":"2020-08-21T15:25:07Z","author_association":"CONTRIBUTOR","body":"#1243 has now been merged so work can continue here. In the community sync we agreed to move the production of this jar out to a new subproject (tentatively entitled `iceberg-mr-runtime`) and model it on `iceberg-spark-runtime` (i.e. include more dependencies to produce a bigger jar and relocate where necessary to avoid execution engine classpath clashes). I'll hopefully have time to do this next week.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678349777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678394041","html_url":"https://github.com/apache/iceberg/pull/1363#issuecomment-678394041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1363","id":678394041,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODM5NDA0MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T17:04:47Z","updated_at":"2020-08-21T17:04:47Z","author_association":"CONTRIBUTOR","body":"Looks great! Thanks @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678394041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678394614","html_url":"https://github.com/apache/iceberg/pull/1361#issuecomment-678394614","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1361","id":678394614,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODM5NDYxNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T17:06:12Z","updated_at":"2020-08-21T17:06:12Z","author_association":"CONTRIBUTOR","body":"Looks like the test failure is the flaky Java 11 test: https://travis-ci.org/github/apache/iceberg/jobs/719767149#L2698-L2705\r\n\r\nI'm not sure what's going on there, but I've seen that test failing in other runs as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678394614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678400992","html_url":"https://github.com/apache/iceberg/pull/1350#issuecomment-678400992","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1350","id":678400992,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQwMDk5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T17:21:50Z","updated_at":"2020-08-21T17:21:50Z","author_association":"CONTRIBUTOR","body":"Is this still WIP? It looks about ready to me. We can always follow up with more.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678400992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678438023","html_url":"https://github.com/apache/iceberg/pull/1350#issuecomment-678438023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1350","id":678438023,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQzODAyMw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T18:49:54Z","updated_at":"2020-08-21T18:49:54Z","author_association":"MEMBER","body":"Updated even more rules,\r\nNo more single line constructors\r\nComments must not lead with a \"word\" character","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678438023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678440127","html_url":"https://github.com/apache/iceberg/pull/1361#issuecomment-678440127","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1361","id":678440127,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ0MDEyNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T18:54:18Z","updated_at":"2020-08-21T18:54:18Z","author_association":"CONTRIBUTOR","body":"It starts to worry me that we have test failures from time to time with JDK11. I've seen failures in at least 3 different suites and all of them look like a deviation from what was expected.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678440127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678445556","html_url":"https://github.com/apache/iceberg/pull/1361#issuecomment-678445556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1361","id":678445556,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ0NTU1Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T19:06:06Z","updated_at":"2020-08-21T19:06:06Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, I agree. I think the problem is in the `ParallelIterator` since this failure happened in job planning. I took a long look at it last night and didn't see what would cause it, but more eyes on that part of the code would help.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678445556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678468585","html_url":"https://github.com/apache/iceberg/pull/1350#issuecomment-678468585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1350","id":678468585,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ2ODU4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T20:02:51Z","updated_at":"2020-08-21T20:02:51Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @RussellSpitzer! Really good to have checks working automatically.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678468585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678469900","html_url":"https://github.com/apache/iceberg/pull/1361#issuecomment-678469900","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1361","id":678469900,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ2OTkwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T20:06:06Z","updated_at":"2020-08-21T20:06:06Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @RussellSpitzer & @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678469900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678476050","html_url":"https://github.com/apache/iceberg/pull/1350#issuecomment-678476050","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1350","id":678476050,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ3NjA1MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T20:21:12Z","updated_at":"2020-08-21T20:21:12Z","author_association":"MEMBER","body":"Thanks for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678476050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678478786","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-678478786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":678478786,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ3ODc4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T20:28:04Z","updated_at":"2020-08-21T20:28:04Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678478786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678548226","html_url":"https://github.com/apache/iceberg/issues/1302#issuecomment-678548226","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1302","id":678548226,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODU0ODIyNg==","user":{"login":"electrum","id":9230,"node_id":"MDQ6VXNlcjkyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/9230?v=4","gravatar_id":"","url":"https://api.github.com/users/electrum","html_url":"https://github.com/electrum","followers_url":"https://api.github.com/users/electrum/followers","following_url":"https://api.github.com/users/electrum/following{/other_user}","gists_url":"https://api.github.com/users/electrum/gists{/gist_id}","starred_url":"https://api.github.com/users/electrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrum/subscriptions","organizations_url":"https://api.github.com/users/electrum/orgs","repos_url":"https://api.github.com/users/electrum/repos","events_url":"https://api.github.com/users/electrum/events{/privacy}","received_events_url":"https://api.github.com/users/electrum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T22:54:03Z","updated_at":"2020-08-21T22:54:03Z","author_association":"CONTRIBUTOR","body":"Presto does have a first class UUID type: https://prestosql.io/docs/current/language/types.html#uuid\r\n\r\nIt would be straightforward to add this in the Presto Iceberg connector if we want to support it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678548226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678591337","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-678591337","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":678591337,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODU5MTMzNw==","user":{"login":"shangxinli","id":31421745,"node_id":"MDQ6VXNlcjMxNDIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31421745?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinli","html_url":"https://github.com/shangxinli","followers_url":"https://api.github.com/users/shangxinli/followers","following_url":"https://api.github.com/users/shangxinli/following{/other_user}","gists_url":"https://api.github.com/users/shangxinli/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinli/subscriptions","organizations_url":"https://api.github.com/users/shangxinli/orgs","repos_url":"https://api.github.com/users/shangxinli/repos","events_url":"https://api.github.com/users/shangxinli/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T04:14:59Z","updated_at":"2020-08-22T04:14:59Z","author_association":"CONTRIBUTOR","body":"I have the code working and I can see many pages filtered out now. I am going to add unit tests and create PR. I have one question for you. Does it make sense to change idToAlias(...) to findField(...).name() in the line \r\nhttps://github.com/apache/iceberg/blob/master/parquet/src/main/java/org/apache/iceberg/parquet/ParquetFilters.java#L120? Do you think it will work for nested fields? The reason for that is the variable 'aliasToId' in Schema class could be null. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678591337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678714919","html_url":"https://github.com/apache/iceberg/pull/1352#issuecomment-678714919","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1352","id":678714919,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODcxNDkxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T00:53:58Z","updated_at":"2020-08-23T00:53:58Z","author_association":"CONTRIBUTOR","body":"@shardulm94, could you take another look? I think I have this in a good state to commit.\r\n\r\nThere are a few things to fix in follow ups:\r\n* Add support for equality deletes by nested columns. This will require building a projection with additional fields in nested structs, not just top-level.\r\n* Add a wrapper to truncate generic rows\r\n* Add table configuration to control the number of position deletes held in memory before using a merge strategy","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678714919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678715233","html_url":"https://github.com/apache/iceberg/pull/1367#issuecomment-678715233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1367","id":678715233,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODcxNTIzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T00:59:02Z","updated_at":"2020-08-23T00:59:02Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, you might be interested in this. I think we've talked in the past about adding partition-level summaries to snapshot metadata.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678715233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678774677","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-678774677","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":678774677,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODc3NDY3Nw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T13:28:48Z","updated_at":"2020-08-23T13:28:48Z","author_association":"CONTRIBUTOR","body":"thanks for the review @rdblue! I have addressed your comments and made the code more pythonic. For some odd reason I thought keeping python close to Java was a good idea when I first raised the PR :-)\n\nAs for the metastore tests: adding an integration test with HMS has proved slightly more annoying than I hoped so we can either leave this open while I work on it or I can add it as part of another PR later","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678774677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678776115","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-678776115","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":678776115,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODc3NjExNQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T13:42:41Z","updated_at":"2020-08-23T13:42:41Z","author_association":"CONTRIBUTOR","body":"apologies for the delay @TGooch44, looking now!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678776115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678780832","html_url":"https://github.com/apache/iceberg/pull/1368#issuecomment-678780832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1368","id":678780832,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODc4MDgzMg==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T14:25:58Z","updated_at":"2020-08-23T14:25:58Z","author_association":"CONTRIBUTOR","body":"It's frustrating, Java8 compiles and Java11 fails.\r\nUhh..... My local environment is jdk1.8. Later I will change a jdk1.11 environment locally to debug the environment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678780832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678798042","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-678798042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":678798042,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODc5ODA0Mg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T16:56:51Z","updated_at":"2020-08-23T16:56:51Z","author_association":"CONTRIBUTOR","body":"Regarding Arrows dataset here is a **very** rough example of what I think we can do.\r\n\r\nThe filters from this PR, partition filtering, different filesystem types etc are handled here. Partitions by iceberg metadata and the rest by pyarrow. What do you guys think?\r\n\r\n``` python\r\nfrom iceberg.hive import HiveTables\r\nimport pyarrow as pa\r\nimport pyarrow.dataset as ds\r\nfrom pyarrow import fs\r\n\r\nif __name__ == '__main__':\r\n\r\n    conf = {\"hive.metastore.uris\": 'thrift://localhost:9083',\r\n            'hive.metastore.warehouse.dir': '/home/ryan/warehouse/iceberg/hive_test'}\r\n    tables = HiveTables(conf)\r\n\r\n    tbl = tables.load(\"testing.foo\")\r\n\r\n    # inspect metadata\r\n    print(tbl.schema())\r\n    print(tbl.spec())\r\n    print(int(tbl.current_snapshot().summary.get(\"total-records\")))\r\n\r\n    scan = tbl.new_scan() \\\r\n        .filter(\"symbol==AUDCHF\") \\\r\n        .select([\"Bid\", \"Ask\", \"Datetime\"])\r\n\r\n    projection = scan.schema\r\n    for task in scan.plan_tasks():\r\n        dataset = ds.FileSystemDataset.from_paths([i.file._file_path.replace(\"file:\",\"\") for i in task.files],\r\n                                                schema=pa.schema([(\"Bid\", pa.float64()), (\"Ask\", pa.float64()),\r\n                                                                  (\"DateTime\", pa.timestamp(\"us\", 'UTC'))]),\r\n                                                format=ds.ParquetFileFormat(),\r\n                                                filesystem=fs.LocalFileSystem())\r\n        pytbl = dataset.to_table(filter=ds.field(\"Bid\") > 0.75)\r\n        df = pytbl.to_pandas()\r\n        print(df)\r\n```\r\n\r\nOutput\r\n```\r\ntable {\r\n 1: DateTime: optional timestamptz(None)\r\n 2: Bid: optional double(None)\r\n 3: Ask: optional double(None)\r\n 4: symbol: optional string(None)\r\n}\r\n[\r\n 1000: DateTime_day: day(1)\r\n]\r\n846035\r\n            Bid      Ask                         DateTime\r\n0       0.75935  0.76156 2018-01-01 21:58:33.821000+00:00\r\n1       0.75940  0.76155 2018-01-01 21:58:34.821000+00:00\r\n2       0.75943  0.76154 2018-01-01 21:58:35.733000+00:00\r\n3       0.75945  0.76153 2018-01-01 21:58:36.734000+00:00\r\n4       0.75947  0.76152 2018-01-01 21:58:37.733000+00:00\r\n...         ...      ...                              ...\r\n388406  0.76612  0.76669 2018-01-05 21:59:00.070000+00:00\r\n388407  0.76611  0.76669 2018-01-05 21:59:00.336000+00:00\r\n388408  0.76611  0.76670 2018-01-05 21:59:00.809000+00:00\r\n388409  0.76524  0.76747 2018-01-05 21:59:01.011000+00:00\r\n388410  0.76534  0.76757 2018-01-05 21:59:12.367000+00:00\r\n\r\n[388411 rows x 3 columns]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678798042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678804534","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-678804534","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":678804534,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODgwNDUzNA==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T17:55:04Z","updated_at":"2020-08-23T17:55:04Z","author_association":"CONTRIBUTOR","body":"Let me review the additions to Dataset since it wasn't available when the bulk of our internal parquet code was written, the only reason for not more directly leveraging the arrow stuff was for enforcing schema evolution, eg. projecting nulls for columns that were added, renaming/reordering columns, etc.   \r\n\r\nI agree that this would work a lot better if the heavy lifting is done in the arrow C libs.  I think with some tweaking we can probably make it happen.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678804534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678895043","html_url":"https://github.com/apache/iceberg/pull/1352#issuecomment-678895043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1352","id":678895043,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODg5NTA0Mw==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T04:20:26Z","updated_at":"2020-08-24T04:20:26Z","author_association":"CONTRIBUTOR","body":"LGTM! There still seem to be some checkstyle failures. Can you have another look? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678895043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678955648","html_url":"https://github.com/apache/iceberg/issues/1341#issuecomment-678955648","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1341","id":678955648,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODk1NTY0OA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T07:22:08Z","updated_at":"2020-08-24T07:48:27Z","author_association":"CONTRIBUTOR","body":"I've done some more local tests and debug, and this phenomenon has to do with time zones. \r\n\r\n> Somehow it seems to be working now. I'll finish this question.\r\n\r\nWhen closing the Issue, It was because I used this PR #1355  to reproduce the problem at that time\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678955648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678969377","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-678969377","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":678969377,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODk2OTM3Nw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T07:52:46Z","updated_at":"2020-08-24T07:52:46Z","author_association":"MEMBER","body":"Ping @rdblue , we ( JingsongLi and I ) have reached a basic agreement about this patch.  Would you mind to take a look when you have time ? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678969377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678975559","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-678975559","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":678975559,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODk3NTU1OQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T08:06:02Z","updated_at":"2020-08-24T08:06:02Z","author_association":"CONTRIBUTOR","body":"I doubt the Arrow Dataset code will have thought as long and as hard about schema evolution as you guys have! If you find any gaps in the dataset code I would love to help get the changes merged into Arrow ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/678975559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679078003","html_url":"https://github.com/apache/iceberg/issues/1371#issuecomment-679078003","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1371","id":679078003,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTA3ODAwMw==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T11:45:32Z","updated_at":"2020-08-24T11:45:32Z","author_association":"CONTRIBUTOR","body":"Some of the Hive integration-style tests use HiveRunner but this doesn't currently support Hive 3.x, I looked into it a while ago and I don't think it's too much work to add this, see https://github.com/klarna/HiveRunner/issues/120. If we could get that merged into HiveRunner and released then we could support testing of both Hive 2 and 3.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679078003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679161954","html_url":"https://github.com/apache/iceberg/pull/1288#issuecomment-679161954","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1288","id":679161954,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTE2MTk1NA==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T14:30:17Z","updated_at":"2020-08-24T14:40:37Z","author_association":"CONTRIBUTOR","body":"Thanks again for this @rdblue , as you mentioned during the sync, the file index can be used to model any soft-delete mechanism that systems have had to build externally. cc @fbocse @mehtaashish23 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679161954/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679244957","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-679244957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":679244957,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI0NDk1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T16:52:37Z","updated_at":"2020-08-24T16:52:37Z","author_association":"CONTRIBUTOR","body":"@rymurr, thanks for the update. I think this is fine to commit without the integration tests, as long as someone has tested it by hand to make sure it actually works to create tables in Hive. It works, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679244957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679245897","html_url":"https://github.com/apache/iceberg/pull/1339#issuecomment-679245897","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1339","id":679245897,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI0NTg5Nw==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T16:54:40Z","updated_at":"2020-08-24T16:54:40Z","author_association":"CONTRIBUTOR","body":"@rdsr @aokolnychyi PTAL - do you have any comments?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679245897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679246500","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-679246500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":679246500,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI0NjUwMA==","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T16:55:51Z","updated_at":"2020-08-24T16:55:51Z","author_association":"NONE","body":"> It works, right?\r\n\r\nThis comment made my morning :)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/679246500/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]