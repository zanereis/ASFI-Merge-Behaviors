[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2563689500","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-2563689500","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":2563689500,"node_id":"IC_kwDOAAMmUc6Yzswc","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-27T13:11:46Z","updated_at":"2024-12-27T13:11:46Z","author_association":"CONTRIBUTOR","body":"Closing this, SpiderMonkey support for versions >91 was added with 2cfb0c3764ee811b70213df4dcea1de5618187fe.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2563689500/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2563692353","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-2563692353","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":2563692353,"node_id":"IC_kwDOAAMmUc6YztdB","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-27T13:15:17Z","updated_at":"2024-12-27T13:15:17Z","author_association":"CONTRIBUTOR","body":"QuickJS arrived with #4627, closing this. A big thx Nick!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2563692353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2566962392","html_url":"https://github.com/apache/couchdb/pull/5371#issuecomment-2566962392","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5371","id":2566962392,"node_id":"IC_kwDOAAMmUc6ZALzY","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T11:12:05Z","updated_at":"2025-01-01T11:12:05Z","author_association":"MEMBER","body":"noting need for a liveness check at the start (so the 'leader' is always a live node as of the invocation) and also to consider maintenance mode (receipt of that message from a 'leader' specifically)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2566962392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567774860","html_url":"https://github.com/apache/couchdb/issues/5029#issuecomment-2567774860","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5029","id":2567774860,"node_id":"IC_kwDOAAMmUc6ZDSKM","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-02T13:27:07Z","updated_at":"2025-01-02T13:27:07Z","author_association":"CONTRIBUTOR","body":"Hey,\r\n\r\nyou can see the default values of the config settings in the `default.ini` file. These internal settings aren't meant for configuration through end-users.\r\n\r\nThe `nodes_db` and `shards_db` are database names for storing the member nodes and nodes/shards mapping for each database. Both the nodes and shards are tracked in node-local couch databases.\r\n\r\nThe other two config values are for the internal replication between the cluster nodes for those databases.\r\n\r\nI'm closing this for now. If you have problems with your replication, please open a separate issue which describes your problem in detail or ask on our slack channel for help.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567774860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567796632","html_url":"https://github.com/apache/couchdb/issues/5195#issuecomment-2567796632","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5195","id":2567796632,"node_id":"IC_kwDOAAMmUc6ZDXeY","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-02T13:44:16Z","updated_at":"2025-01-02T13:44:16Z","author_association":"CONTRIBUTOR","body":"> Thanks for the hint! I tried using NODENAME, but the problem is that it sets the -name flag to couchdb@127.0.0.1 if NODENAME is 127.0.0.1 ... and that name is different from the one assigned on kubernetes ` -name couchdb` ....\r\n\r\nThis comes from [here](https://github.com/apache/couchdb-docker/blob/734c61f2a9421637ff58be225665477be52dd4b7/3.3.3/docker-entrypoint.sh#L62-L64). So you get two different `-name ...` settings, if you set it in `ERl_FLAGS` too.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567796632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567822159","html_url":"https://github.com/apache/couchdb/issues/5043#issuecomment-2567822159","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5043","id":2567822159,"node_id":"IC_kwDOAAMmUc6ZDdtP","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-02T14:02:26Z","updated_at":"2025-01-02T14:02:26Z","author_association":"CONTRIBUTOR","body":"Why don't you use the `heartbeat` parameter for continous replication anymore to keep the connection open? `timeout` will hold the connection open for the specified ms and then close the socket. More info in the [docs](https://docs.couchdb.org/en/stable/api/database/changes.html#continuous).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567822159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567832035","html_url":"https://github.com/apache/couchdb/pull/5373#issuecomment-2567832035","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5373","id":2567832035,"node_id":"IC_kwDOAAMmUc6ZDgHj","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-02T14:09:35Z","updated_at":"2025-01-02T14:09:52Z","author_association":"CONTRIBUTOR","body":"@nickva Maybe #4819 is related before your patch?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567832035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567883084","html_url":"https://github.com/apache/couchdb/pull/5373#issuecomment-2567883084","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5373","id":2567883084,"node_id":"IC_kwDOAAMmUc6ZDslM","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-02T14:45:13Z","updated_at":"2025-01-02T14:45:13Z","author_association":"CONTRIBUTOR","body":"> @nickva Maybe #4819 is related before your patch?\r\n\r\nAh could be, in the sense that we don’t checksum btree node structures and have a chance for corruption to sneak in that way. The pr doesn’t fix that, we just cleaned up, improved performance and some error handling. If we think we should add more checksums for btree or other metadata it should be a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2567883084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2568000574","html_url":"https://github.com/apache/couchdb/issues/4931#issuecomment-2568000574","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4931","id":2568000574,"node_id":"IC_kwDOAAMmUc6ZEJQ-","user":{"login":"thany","id":152227,"node_id":"MDQ6VXNlcjE1MjIyNw==","avatar_url":"https://avatars.githubusercontent.com/u/152227?v=4","gravatar_id":"","url":"https://api.github.com/users/thany","html_url":"https://github.com/thany","followers_url":"https://api.github.com/users/thany/followers","following_url":"https://api.github.com/users/thany/following{/other_user}","gists_url":"https://api.github.com/users/thany/gists{/gist_id}","starred_url":"https://api.github.com/users/thany/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thany/subscriptions","organizations_url":"https://api.github.com/users/thany/orgs","repos_url":"https://api.github.com/users/thany/repos","events_url":"https://api.github.com/users/thany/events{/privacy}","received_events_url":"https://api.github.com/users/thany/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-02T16:00:15Z","updated_at":"2025-01-02T16:00:15Z","author_association":"NONE","body":"You're confirming the problem and then proceed to close the issue? 🤨\r\n\r\nDiving into config files is not desirable, more so when config can be done in the UI. So another possibility is to add defaults in the UI, perhaps as a placeholder on the inputs. Since the defaults are obviously known, it shouldn't take much effort to display them.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2568000574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2568043521","html_url":"https://github.com/apache/couchdb/issues/4931#issuecomment-2568043521","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4931","id":2568043521,"node_id":"IC_kwDOAAMmUc6ZETwB","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-02T16:29:55Z","updated_at":"2025-01-02T16:29:55Z","author_association":"CONTRIBUTOR","body":"There is no problem in that sense. Most of the time, the defaults are shown in the config documentation and if you want to change something, you need to read the ini files to get an overview. But we are welcome any PRs which make things around CouchDB better. Maybe it's your first time contribution to CouchDB. ;-)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2568043521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569451642","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2569451642","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2569451642,"node_id":"IC_kwDOAAMmUc6ZJrh6","user":{"login":"muhdaizwan","id":192256378,"node_id":"U_kgDOC3WZeg","avatar_url":"https://avatars.githubusercontent.com/u/192256378?v=4","gravatar_id":"","url":"https://api.github.com/users/muhdaizwan","html_url":"https://github.com/muhdaizwan","followers_url":"https://api.github.com/users/muhdaizwan/followers","following_url":"https://api.github.com/users/muhdaizwan/following{/other_user}","gists_url":"https://api.github.com/users/muhdaizwan/gists{/gist_id}","starred_url":"https://api.github.com/users/muhdaizwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muhdaizwan/subscriptions","organizations_url":"https://api.github.com/users/muhdaizwan/orgs","repos_url":"https://api.github.com/users/muhdaizwan/repos","events_url":"https://api.github.com/users/muhdaizwan/events{/privacy}","received_events_url":"https://api.github.com/users/muhdaizwan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T15:53:01Z","updated_at":"2025-01-03T15:53:01Z","author_association":"NONE","body":"> [NOTE]: # ( ^^ Provide a general summary of the issue in the title above. ^^ )\n> ## Description\n> We are currently testing out Nouveau and are running into a blocker that I can't find a solution for.  After creating an index without any (visible) errors. All requests to it end with the following response from CouchDB:\n> \n> ```\n> {\n>   \"error\": \"bad_request\",\n>   \"reason\": \"This TopFieldCollectorManager was created without concurrency (supportsConcurrency=false), but multiple collectors are being created\"\n> }\n> ```\n> This seems to be related to the data in the index, other indexes are running fine.  First I thought that its related to the store flag (4th parameter of the index function) because one index that was failing with store:true worked well with store:false. \n> \n> [NOTE]: # ( Describe the problem you're encountering. )\n> [TIP]:  # ( Do NOT give us access or passwords to your actual CouchDB! )\n> ## Steps to Reproduce\n> \n> Create an index in a design document like:\n> ```\n> function(doc){\n>     var searchValue = \"\";\n>     if(doc.Name){\n>         searchValue += doc.Name;\n>     }\n>     if(doc.Description){\n>         searchValue += doc.Description;\n>     }\n>     if(doc.PerformedBy){\n>         searchValue += doc.PerformedBy;\n>     }\n>     if(doc.Component.Name){\n>         searchValue += doc.Component.Name;\n>     }\n>     if(doc.LastEditedBy){\n>         searchValue += doc.LastEditedBy;\n>     }\n>     \n>     index(\"text\", \"search\", searchValue, {\"store\": false});\n> }\n> ```\n> Run a query like:\n> `http://localhost:5984/vesse1220/_partition/1220-taskhistory/_design/history_search/_nouveau/default?q=search:clean*`\n> \n> Please note the database is using partitions.\n> \n> [NOTE]: # ( Include commands to reproduce, if possible. curl is preferred. )\n> ## Expected Behaviour\n> Getting the search results back.\n> \n> \n> ## Your Environment\n> * CouchDB version used: 3.4.1\n> * Browser name and version: Chrome 129.0.6668.60 \n> * Operating system and version: Windows 11 22621.4169\n> \n> ## Additional Context\n> Using openjdk jdk-17.0.8.101 to run the Nouveau  \n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569451642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569452604","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2569452604","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2569452604,"node_id":"IC_kwDOAAMmUc6ZJrw8","user":{"login":"muhdaizwan","id":192256378,"node_id":"U_kgDOC3WZeg","avatar_url":"https://avatars.githubusercontent.com/u/192256378?v=4","gravatar_id":"","url":"https://api.github.com/users/muhdaizwan","html_url":"https://github.com/muhdaizwan","followers_url":"https://api.github.com/users/muhdaizwan/followers","following_url":"https://api.github.com/users/muhdaizwan/following{/other_user}","gists_url":"https://api.github.com/users/muhdaizwan/gists{/gist_id}","starred_url":"https://api.github.com/users/muhdaizwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muhdaizwan/subscriptions","organizations_url":"https://api.github.com/users/muhdaizwan/orgs","repos_url":"https://api.github.com/users/muhdaizwan/repos","events_url":"https://api.github.com/users/muhdaizwan/events{/privacy}","received_events_url":"https://api.github.com/users/muhdaizwan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T15:53:45Z","updated_at":"2025-01-03T15:53:45Z","author_association":"NONE","body":"> sidenote, as you're not putting spaces between those values when you add them, I'm not sure you'll get the search results you're hoping for.\n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569452604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569626842","html_url":"https://github.com/apache/couchdb/pull/5376#issuecomment-2569626842","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5376","id":2569626842,"node_id":"IC_kwDOAAMmUc6ZKWTa","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T18:09:02Z","updated_at":"2025-01-03T18:09:02Z","author_association":"CONTRIBUTOR","body":"> It would be nice if we recorded a reason of why this change is meaningful to us, even if it just is “keep up with latest updates”\r\n\r\nYeah that’s totally fair! I updated the dependencies, because it was crashing the shell after `make html` with python 3.13.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569626842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569685775","html_url":"https://github.com/apache/couchdb/pull/5376#issuecomment-2569685775","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5376","id":2569685775,"node_id":"IC_kwDOAAMmUc6ZKksP","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T19:02:48Z","updated_at":"2025-01-03T19:02:48Z","author_association":"CONTRIBUTOR","body":"I think our full CI doesn’t like this change: https://ci-couchdb.apache.org/job/jenkins-cm1/job/FullPlatformMatrix/job/main/1448/pipeline-console/?selected-node=10\r\n\r\nIn general, some of the python deps are a bit tricky as they might be bounded by the lowest supported OS python. Usually RHEL 8 or so.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569685775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569697286","html_url":"https://github.com/apache/couchdb/pull/5376#issuecomment-2569697286","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5376","id":2569697286,"node_id":"IC_kwDOAAMmUc6ZKngG","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T19:13:55Z","updated_at":"2025-01-03T19:13:55Z","author_association":"CONTRIBUTOR","body":"> I think our full CI doesn’t like this change: https://ci-couchdb.apache.org/job/jenkins-cm1/job/FullPlatformMatrix/job/main/1448/pipeline-console/?selected-node=10\r\n> \r\n> In general, some of the python deps are a bit tricky as they might be bounded by the lowest supported OS python. Usually RHEL 8 or so.\r\n\r\nMhhh, okay, can weg get Python 3.10 in?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569697286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569703823","html_url":"https://github.com/apache/couchdb/pull/5376#issuecomment-2569703823","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5376","id":2569703823,"node_id":"IC_kwDOAAMmUc6ZKpGP","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T19:19:37Z","updated_at":"2025-01-03T19:19:37Z","author_association":"CONTRIBUTOR","body":"> > I think our full CI doesn’t like this change: https://ci-couchdb.apache.org/job/jenkins-cm1/job/FullPlatformMatrix/job/main/1448/pipeline-console/?selected-node=10\r\n> > In general, some of the python deps are a bit tricky as they might be bounded by the lowest supported OS python. Usually RHEL 8 or so.\r\n> \r\n> Mhhh, okay, can weg get Python 3.10 in?\r\n\r\nWe could try, I am not sure if python version is the reason here. I am traveling and cannot check  better.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569703823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569709897","html_url":"https://github.com/apache/couchdb/pull/5376#issuecomment-2569709897","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5376","id":2569709897,"node_id":"IC_kwDOAAMmUc6ZKqlJ","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T19:24:53Z","updated_at":"2025-01-03T19:24:53Z","author_association":"CONTRIBUTOR","body":"> We could try, I am not sure if python version is the reason here. I am traveling and cannot check better.\r\n\r\nYeah, the `Build Release Tarball` step uses the `debian:bullseye` image. I will make a PR to use `debian:bookworm` and see if this solves it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569709897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569725867","html_url":"https://github.com/apache/couchdb/pull/5376#issuecomment-2569725867","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5376","id":2569725867,"node_id":"IC_kwDOAAMmUc6ZKuer","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-03T19:39:42Z","updated_at":"2025-01-03T19:39:42Z","author_association":"CONTRIBUTOR","body":"> > We could try, I am not sure if python version is the reason here. I am traveling and cannot check better.\r\n> \r\n> Yeah, the `Build Release Tarball` step uses the `debian:bullseye` image. I will make a PR to use `debian:bookworm` and see if this solves it.\r\n\r\nAs long as the release will still work on older supported OS-es.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2569725867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2571174185","html_url":"https://github.com/apache/couchdb/pull/5376#issuecomment-2571174185","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5376","id":2571174185,"node_id":"IC_kwDOAAMmUc6ZQQEp","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-04T10:25:32Z","updated_at":"2025-01-04T10:25:32Z","author_association":"CONTRIBUTOR","body":"#5378 will solve this problem (when the Elixir issues are \"solved\" at the FreeBSD arm64 workers) ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2571174185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573685337","html_url":"https://github.com/apache/couchdb/pull/5371#issuecomment-2573685337","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5371","id":2573685337,"node_id":"IC_kwDOAAMmUc6ZZ1JZ","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-06T18:34:47Z","updated_at":"2025-01-06T18:34:47Z","author_association":"MEMBER","body":"I put the `acc` introduction in its own commit for exactly that reason and intend to keep those separate commits when merging.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573685337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573824569","html_url":"https://github.com/apache/couchdb/pull/5377#issuecomment-2573824569","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5377","id":2573824569,"node_id":"IC_kwDOAAMmUc6ZaXI5","user":{"login":"jiahuili430","id":54631519,"node_id":"MDQ6VXNlcjU0NjMxNTE5","avatar_url":"https://avatars.githubusercontent.com/u/54631519?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuili430","html_url":"https://github.com/jiahuili430","followers_url":"https://api.github.com/users/jiahuili430/followers","following_url":"https://api.github.com/users/jiahuili430/following{/other_user}","gists_url":"https://api.github.com/users/jiahuili430/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuili430/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuili430/subscriptions","organizations_url":"https://api.github.com/users/jiahuili430/orgs","repos_url":"https://api.github.com/users/jiahuili430/repos","events_url":"https://api.github.com/users/jiahuili430/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuili430/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-06T20:02:01Z","updated_at":"2025-01-06T20:02:01Z","author_association":"CONTRIBUTOR","body":"Thanks to Dave for upgrading Elixir to `1.17` on the FreeBSD workers, so close this PR.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573824569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573934769","html_url":"https://github.com/apache/couchdb/pull/5383#issuecomment-2573934769","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5383","id":2573934769,"node_id":"IC_kwDOAAMmUc6ZayCx","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-06T21:11:42Z","updated_at":"2025-01-06T21:11:42Z","author_association":"CONTRIBUTOR","body":"Fixed with Pygments version 2.19.1.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573934769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573935912","html_url":"https://github.com/apache/couchdb/pull/5384#issuecomment-2573935912","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5384","id":2573935912,"node_id":"IC_kwDOAAMmUc6ZayUo","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-06T21:12:30Z","updated_at":"2025-01-06T21:12:30Z","author_association":"CONTRIBUTOR","body":"Fixed in Pygments 2.19.1.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2573935912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574123137","html_url":"https://github.com/apache/couchdb/pull/5371#issuecomment-2574123137","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5371","id":2574123137,"node_id":"IC_kwDOAAMmUc6ZbgCB","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-06T23:44:07Z","updated_at":"2025-01-06T23:44:07Z","author_association":"CONTRIBUTOR","body":"> I put the `acc` introduction in its own commit for exactly that reason and intend to keep those separate commits when merging.\r\n\r\nThat would look nice when merging,  however since a bunch of notes and comments are related to just the acc change may still look nice to do a preliminary cleanup / #acc{} record PR and keep the the overall discussion concerning it in that PR then move on the main one.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574123137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574500997","html_url":"https://github.com/apache/couchdb/issues/5353#issuecomment-2574500997","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5353","id":2574500997,"node_id":"IC_kwDOAAMmUc6Zc8SF","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-07T06:43:07Z","updated_at":"2025-01-07T06:43:07Z","author_association":"CONTRIBUTOR","body":"@remcovanvugt What do you think, would Nicks suggestion be enough to clear your question?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574500997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574785513","html_url":"https://github.com/apache/couchdb/pull/5371#issuecomment-2574785513","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5371","id":2574785513,"node_id":"IC_kwDOAAMmUc6ZeBvp","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-07T09:23:17Z","updated_at":"2025-01-07T09:23:17Z","author_association":"MEMBER","body":"it's hard enough to get CI to run for one pull request. I'll do it this time but I really don't like this idea at all. I separated out the refactoring from the functional change within the PR and it makes little sense to commit one without the other.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574785513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574790142","html_url":"https://github.com/apache/couchdb/pull/5371#issuecomment-2574790142","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5371","id":2574790142,"node_id":"IC_kwDOAAMmUc6ZeC3-","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-07T09:25:34Z","updated_at":"2025-01-07T09:25:34Z","author_association":"MEMBER","body":"https://github.com/apache/couchdb/pull/5385 for acc record","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2574790142/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2575778127","html_url":"https://github.com/apache/couchdb/pull/5371#issuecomment-2575778127","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5371","id":2575778127,"node_id":"IC_kwDOAAMmUc6Zh0FP","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-07T16:49:13Z","updated_at":"2025-01-07T16:49:13Z","author_association":"CONTRIBUTOR","body":"> it's hard enough to get CI to run for one pull request. I'll do it this time but I really don't like this idea at all. I separated out the refactoring from the functional change within the PR and it makes little sense to commit one without the other.\r\n\r\nI think it's worthwhile. At least in this case the test failures do seem related to bulk_docs:\r\n\r\n```\r\n07:52:20  7) test bulk docs emits conflict error for duplicate doc `_id`s (BulkDocsTest)\r\n07:52:20       test/elixir/test/bulk_docs_test.exs:124\r\n07:52:20       Expected 201 and the same number of response rows as in request, but got\r\n07:52:20       %HTTPotion.Response{\r\n07:52:20         status_code: 500,\r\n07:52:20         body: [\r\n07:52:20           %{\r\n07:52:20             \"error\" => \"conflict\",\r\n07:52:20             \"id\" => \"0\",\r\n07:52:20             \"reason\" => \"Document update conflict.\"\r\n07:52:20           },\r\n07:52:20           %{\r\n07:52:20             \"error\" => \"conflict\",\r\n07:52:20             \"id\" => \"1\",\r\n07:52:20             \"reason\" => \"Document update conflict.\"\r\n07:52:20           },\r\n07:52:20           %{\r\n07:52:20             \"error\" => \"conflict\",\r\n07:52:20             \"id\" => \"1\",\r\n07:52:20             \"reason\" => \"Document update conflict.\"\r\n07:52:20           },\r\n07:52:20           %{\r\n07:52:20             \"error\" => \"error\",\r\n07:52:20             \"id\" => \"3\",\r\n07:52:20             \"reason\" => \"internal_server_error\"\r\n07:52:20           }\r\n07:52:20         ],\r\n```\r\nI keep an eye on flaky failures in the CI and this not a test that usually fails. `internal_server_error` seems worrying there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2575778127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2575831902","html_url":"https://github.com/apache/couchdb/issues/5342#issuecomment-2575831902","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5342","id":2575831902,"node_id":"IC_kwDOAAMmUc6ZiBNe","user":{"login":"aduchate","id":2221917,"node_id":"MDQ6VXNlcjIyMjE5MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2221917?v=4","gravatar_id":"","url":"https://api.github.com/users/aduchate","html_url":"https://github.com/aduchate","followers_url":"https://api.github.com/users/aduchate/followers","following_url":"https://api.github.com/users/aduchate/following{/other_user}","gists_url":"https://api.github.com/users/aduchate/gists{/gist_id}","starred_url":"https://api.github.com/users/aduchate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aduchate/subscriptions","organizations_url":"https://api.github.com/users/aduchate/orgs","repos_url":"https://api.github.com/users/aduchate/repos","events_url":"https://api.github.com/users/aduchate/events{/privacy}","received_events_url":"https://api.github.com/users/aduchate/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-07T17:15:08Z","updated_at":"2025-01-07T17:15:08Z","author_association":"NONE","body":"I have some update in this one. Using OTP 25 instead of OTP 27 seems to fix the issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2575831902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2576437891","html_url":"https://github.com/apache/couchdb/pull/5371#issuecomment-2576437891","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5371","id":2576437891,"node_id":"IC_kwDOAAMmUc6ZkVKD","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-07T23:48:17Z","updated_at":"2025-01-07T23:48:17Z","author_association":"MEMBER","body":"for sure, that indicates a bug here. It took 8 runs locally to get an internal_server_error so this will be fun to track down, but it needs to be found","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2576437891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2576451788","html_url":"https://github.com/apache/couchdb/issues/5342#issuecomment-2576451788","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5342","id":2576451788,"node_id":"IC_kwDOAAMmUc6ZkYjM","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-08T00:03:58Z","updated_at":"2025-01-08T00:03:58Z","author_association":"CONTRIBUTOR","body":"Thank you for the update, Antoine. That is an interesting find!\r\n\r\nWe have seen sometimes new Erlang version showing issues discovered by CouchDB code only, so that's certainly possibility. I guess it could be either OTP 26 or OTP 27. \r\n\r\nLet's keep this issue open to serve as a record/reminder in case we narrow down the cause. If you get a chance it might be interesting at least to see if it's 26 or 27. In 26 I believe there were some OTP changes related to terminal IO processing which would be related to talking to the indexer couchjs processes (either Spidermonkey or QuickJS, it's all stdio basically).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2576451788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2576912293","html_url":"https://github.com/apache/couchdb/pull/5369#issuecomment-2576912293","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5369","id":2576912293,"node_id":"IC_kwDOAAMmUc6ZmI-l","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-08T07:19:12Z","updated_at":"2025-01-08T07:40:31Z","author_association":"CONTRIBUTOR","body":"## Additional finding\r\n\r\n### Abbreviations\r\n\r\n`rvu` = `request_valid_user`\r\n`rvuefu` = `request_valid_user_except_for_up` \r\n\r\n### Before #5370 (use auth for live node checks)\r\n\r\n| rvu | rvuefu | start dev server |\r\n| - | - | - |\r\n| false | false | false |\r\n| true | false | false |\r\n| false | true | false |\r\n| true | true | false |\r\n\r\n### After #5370 \r\n\r\n| rvu | rvuefu | start dev server |\r\n| - | - | - |\r\n| false | false | true |\r\n| true | false | true |\r\n| false | true | false |\r\n| true | true | true |\r\n\r\n### With this PR \r\n\r\n| rvu | rvuefu | start dev server |\r\n| - | - | - |\r\n| false | false | true |\r\n| true | false | true |\r\n| false | true | true |\r\n| true | true | true |","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2576912293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2580130927","html_url":"https://github.com/apache/couchdb/pull/5391#issuecomment-2580130927","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5391","id":2580130927,"node_id":"IC_kwDOAAMmUc6Zyaxv","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-09T13:16:26Z","updated_at":"2025-01-09T13:19:01Z","author_association":"CONTRIBUTOR","body":"Hey @Deepanshu8945,\r\n\r\ncould you please rebase your PR against the curent main branch to see your changes?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2580130927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2586691876","html_url":"https://github.com/apache/couchdb/pull/5377#issuecomment-2586691876","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5377","id":2586691876,"node_id":"IC_kwDOAAMmUc6aLckk","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-13T10:11:49Z","updated_at":"2025-01-13T10:11:49Z","author_association":"CONTRIBUTOR","body":"> Thanks to Dave for upgrading Elixir to `1.17` on the FreeBSD workers, so close this PR.\r\n\r\nThis is not only about upgrading the corresponding workers.  I would instead say that what matters here is what the current version of the Elixir port is in the Ports Collection.  (That is, something that FreeBSD users could install without any further ado.)  Fortunately, that is 1.17 for [`lang/elixir`](https://www.freshports.org/lang/elixir/) and 1.18 for [`lang/elixir-devel`](https://www.freshports.org/lang/elixir-devel/), so we are indeed good to go.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2586691876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587772778","html_url":"https://github.com/apache/couchdb/pull/5397#issuecomment-2587772778","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5397","id":2587772778,"node_id":"IC_kwDOAAMmUc6aPkdq","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-13T17:43:47Z","updated_at":"2025-01-13T17:43:47Z","author_association":"CONTRIBUTOR","body":"I think the problem is the `-1` from\r\n```\r\nwarning: negative steps are not supported in String.slice/2, pass 14..-1//1 instead\r\n```\r\nThe index can't be negative in `String.slice` but it's Elixir ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587772778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587799096","html_url":"https://github.com/apache/couchdb/pull/5397#issuecomment-2587799096","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5397","id":2587799096,"node_id":"IC_kwDOAAMmUc6aPq44","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-13T17:56:25Z","updated_at":"2025-01-13T17:59:19Z","author_association":"CONTRIBUTOR","body":"> I think the problem is the `-1` from\r\n> \r\n> ```\r\n> warning: negative steps are not supported in String.slice/2, pass 14..-1//1 instead\r\n> ```\r\n> \r\n> The index can't be negative in `String.slice` but it's Elixir ...\r\n\r\nikr! it's kind of inconsistent how it works with ranges. I like python's slicing a bit better in general.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587799096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587879082","html_url":"https://github.com/apache/couchdb/issues/5386#issuecomment-2587879082","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5386","id":2587879082,"node_id":"IC_kwDOAAMmUc6aP-aq","user":{"login":"jiahuili430","id":54631519,"node_id":"MDQ6VXNlcjU0NjMxNTE5","avatar_url":"https://avatars.githubusercontent.com/u/54631519?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuili430","html_url":"https://github.com/jiahuili430","followers_url":"https://api.github.com/users/jiahuili430/followers","following_url":"https://api.github.com/users/jiahuili430/following{/other_user}","gists_url":"https://api.github.com/users/jiahuili430/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuili430/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuili430/subscriptions","organizations_url":"https://api.github.com/users/jiahuili430/orgs","repos_url":"https://api.github.com/users/jiahuili430/repos","events_url":"https://api.github.com/users/jiahuili430/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuili430/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-13T18:20:38Z","updated_at":"2025-01-13T18:20:38Z","author_association":"CONTRIBUTOR","body":"PR https://github.com/apache/couchdb/pull/5397 is merged, so close this issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587879082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587940107","html_url":"https://github.com/apache/couchdb/issues/5386#issuecomment-2587940107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5386","id":2587940107,"node_id":"IC_kwDOAAMmUc6aQNUL","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-13T18:50:59Z","updated_at":"2025-01-13T18:50:59Z","author_association":"CONTRIBUTOR","body":"Thx 🙏 Jessica.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2587940107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2588000283","html_url":"https://github.com/apache/couchdb/issues/5386#issuecomment-2588000283","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5386","id":2588000283,"node_id":"IC_kwDOAAMmUc6aQcAb","user":{"login":"jiahuili430","id":54631519,"node_id":"MDQ6VXNlcjU0NjMxNTE5","avatar_url":"https://avatars.githubusercontent.com/u/54631519?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuili430","html_url":"https://github.com/jiahuili430","followers_url":"https://api.github.com/users/jiahuili430/followers","following_url":"https://api.github.com/users/jiahuili430/following{/other_user}","gists_url":"https://api.github.com/users/jiahuili430/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuili430/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuili430/subscriptions","organizations_url":"https://api.github.com/users/jiahuili430/orgs","repos_url":"https://api.github.com/users/jiahuili430/repos","events_url":"https://api.github.com/users/jiahuili430/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuili430/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-13T19:21:49Z","updated_at":"2025-01-13T19:21:49Z","author_association":"CONTRIBUTOR","body":"np, thank you. :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2588000283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2589371439","html_url":"https://github.com/apache/couchdb/pull/5399#issuecomment-2589371439","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5399","id":2589371439,"node_id":"IC_kwDOAAMmUc6aVqwv","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-14T09:04:34Z","updated_at":"2025-01-14T09:04:34Z","author_association":"CONTRIBUTOR","body":"Ran an `erlfmt-format` to make the CI happy ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2589371439/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2590097421","html_url":"https://github.com/apache/couchdb/issues/5353#issuecomment-2590097421","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5353","id":2590097421,"node_id":"IC_kwDOAAMmUc6aYcAN","user":{"login":"remcovanvugt","id":7407934,"node_id":"MDQ6VXNlcjc0MDc5MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7407934?v=4","gravatar_id":"","url":"https://api.github.com/users/remcovanvugt","html_url":"https://github.com/remcovanvugt","followers_url":"https://api.github.com/users/remcovanvugt/followers","following_url":"https://api.github.com/users/remcovanvugt/following{/other_user}","gists_url":"https://api.github.com/users/remcovanvugt/gists{/gist_id}","starred_url":"https://api.github.com/users/remcovanvugt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remcovanvugt/subscriptions","organizations_url":"https://api.github.com/users/remcovanvugt/orgs","repos_url":"https://api.github.com/users/remcovanvugt/repos","events_url":"https://api.github.com/users/remcovanvugt/events{/privacy}","received_events_url":"https://api.github.com/users/remcovanvugt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-14T14:37:48Z","updated_at":"2025-01-14T14:37:48Z","author_association":"CONTRIBUTOR","body":"@nickva thanks for clarifying. I was thinking in terms of system limits. I filed a PR adding a little comment to clarify this in case it may help someone in the future.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2590097421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2590188749","html_url":"https://github.com/apache/couchdb/issues/5396#issuecomment-2590188749","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5396","id":2590188749,"node_id":"IC_kwDOAAMmUc6aYyTN","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-14T15:11:28Z","updated_at":"2025-01-16T10:08:51Z","author_association":"MEMBER","body":"~This is not functionality that CouchDB supports. What made you think this would work?~ I misread the question, apologies.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2590188749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2591592350","html_url":"https://github.com/apache/couchdb/issues/5396#issuecomment-2591592350","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5396","id":2591592350,"node_id":"IC_kwDOAAMmUc6aeI-e","user":{"login":"Pragrammist","id":81772795,"node_id":"MDQ6VXNlcjgxNzcyNzk1","avatar_url":"https://avatars.githubusercontent.com/u/81772795?v=4","gravatar_id":"","url":"https://api.github.com/users/Pragrammist","html_url":"https://github.com/Pragrammist","followers_url":"https://api.github.com/users/Pragrammist/followers","following_url":"https://api.github.com/users/Pragrammist/following{/other_user}","gists_url":"https://api.github.com/users/Pragrammist/gists{/gist_id}","starred_url":"https://api.github.com/users/Pragrammist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pragrammist/subscriptions","organizations_url":"https://api.github.com/users/Pragrammist/orgs","repos_url":"https://api.github.com/users/Pragrammist/repos","events_url":"https://api.github.com/users/Pragrammist/events{/privacy}","received_events_url":"https://api.github.com/users/Pragrammist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-15T03:56:34Z","updated_at":"2025-01-15T03:59:40Z","author_association":"NONE","body":"Well, startkey and endkey support json as value. And, important, if you read couchdb doc you see key is json, not a string.\n\n\nhttps://docs.couchdb.org/en/stable/api/ddoc/views.html\n\n And if it's not a json, why there's it's described as json, not a string.\nI spent several hours because of that\nDid you read couchdb doc?!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2591592350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2593584042","html_url":"https://github.com/apache/couchdb/issues/5396#issuecomment-2593584042","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5396","id":2593584042,"node_id":"IC_kwDOAAMmUc6alvOq","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-15T17:50:33Z","updated_at":"2025-01-15T17:50:33Z","author_association":"MEMBER","body":"hm, odd. I definitely expect exact lookup to work for a key that is a json object. It worked for me locally and is definitely intentionally supported. The collation specification even details the ordering that we apply for json objects (https://docs.couchdb.org/en/stable/ddocs/views/collation.html#collation-specification).\n\nNow, note that you would have to match the key, you couldn't find  a row with key of `{\"foo\":\"bar\", \"bar\":\"baz\"}` with just `?key={\"foo\":\"bar\"}`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2593584042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2595009290","html_url":"https://github.com/apache/couchdb/pull/5404#issuecomment-2595009290","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5404","id":2595009290,"node_id":"IC_kwDOAAMmUc6arLMK","user":{"login":"sysupbda","id":8740302,"node_id":"MDQ6VXNlcjg3NDAzMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8740302?v=4","gravatar_id":"","url":"https://api.github.com/users/sysupbda","html_url":"https://github.com/sysupbda","followers_url":"https://api.github.com/users/sysupbda/followers","following_url":"https://api.github.com/users/sysupbda/following{/other_user}","gists_url":"https://api.github.com/users/sysupbda/gists{/gist_id}","starred_url":"https://api.github.com/users/sysupbda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sysupbda/subscriptions","organizations_url":"https://api.github.com/users/sysupbda/orgs","repos_url":"https://api.github.com/users/sysupbda/repos","events_url":"https://api.github.com/users/sysupbda/events{/privacy}","received_events_url":"https://api.github.com/users/sysupbda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-16T09:33:10Z","updated_at":"2025-01-16T09:33:10Z","author_association":"CONTRIBUTOR","body":"I am not married to my typo fixes. I tried to minimize the number of characters I am changing to avoid causing more problems than I am solving. But I can easily imagine better wording than what I ended up with.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2595009290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2603132157","html_url":"https://github.com/apache/couchdb/pull/5399#issuecomment-2603132157","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5399","id":2603132157,"node_id":"IC_kwDOAAMmUc6bKKT9","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-20T19:40:43Z","updated_at":"2025-01-21T04:06:30Z","author_association":"CONTRIBUTOR","body":"Another benchmark with concurrent reads on a 12 node cluster. This one exercises concurrency but it's still reads only. So might not show the best parts of the PR - how readers can read without waiting on writes to complete but still shows a 40% improvement in requests per second (35k rps for `main` and 50rps for `preads` branch).\r\n\r\nEnvironment: Erlang 25, 12 node cluster, Debian 11, x86_64\r\n \r\nTest parameters:\r\n```\r\nConcurrency (number of clients): 2000\r\nQ: 64\r\nDoc count: 1000000\r\nLength: 1 hour\r\n\r\nConfig settings:\r\n  couchdb.max_dbs_open = 50000\r\n  ioq.bypass.db_update = true\r\n  ioq.bypass.interactive = true\r\n```\r\n\r\nSummary:\r\n  ops : number of get_doc operations completed in 1 hour\r\n  other times are in milliseconds\r\n\r\n|release | ops        | median |  p75   |    p90|    \r\n|------- | ---------- | -------| ------ | ----- | \r\n|MAIN    | 127701394  |  15469 |  21095 | 27490 | \r\n|PREADS  | 173440163  |   7595 |  18967 | 39236 |\r\n\r\n<img width=\"789\" alt=\"Screenshot 2025-01-20 at 2 28 13 PM\" src=\"https://github.com/user-attachments/assets/a1233cf1-759d-45d2-bf33-ca6629453253\" />\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2603132157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2608708310","html_url":"https://github.com/apache/couchdb/issues/5411#issuecomment-2608708310","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5411","id":2608708310,"node_id":"IC_kwDOAAMmUc6bfbrW","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-23T02:20:49Z","updated_at":"2025-01-23T02:20:49Z","author_association":"CONTRIBUTOR","body":"Thanks for reaching out @hadmut, and thanks for the neat idea! I think it might be interesting to have it, but yeah, agree, I  think it would depend first of all on a solid support from Erlang OTP + mochiweb (our web library) to be able to take a file descriptor from systemd.  I think it would be quite a bit for work implement that from scratch ourselves.\n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2608708310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2612368036","html_url":"https://github.com/apache/couchdb/pull/5413#issuecomment-2612368036","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5413","id":2612368036,"node_id":"IC_kwDOAAMmUc6btZKk","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-24T12:04:49Z","updated_at":"2025-01-24T12:05:24Z","author_association":"MEMBER","body":"before this, SM 1.8.5 would fail with:\r\n\r\n```\r\n> ./bin/couchjs -V\r\ncouchjs - Apache CouchDB 3.4.2-121ac7c (SpiderMonkey 1.8.5)\r\n[…]\r\n> ./bin/couchjs share/server/main.js \r\nReferenceError: Reflect is not defined\r\nStacktrace:\r\n\tdeepFreeze([object Object])@share/server/main.js:993\r\n\t()@share/server/main.js:1348\r\n\t@share/server/main.js:1\r\nFailed to execute script.\r\n> sed -n '1348p' share/server/main.js \r\ndeepFreeze(Couch);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2612368036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2613521024","html_url":"https://github.com/apache/couchdb/pull/5399#issuecomment-2613521024","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5399","id":2613521024,"node_id":"IC_kwDOAAMmUc6bxyqA","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-24T22:33:04Z","updated_at":"2025-01-25T11:58:57Z","author_association":"MEMBER","body":"I did some testing here as well, all this on a q=1 db on a single node. \r\n\r\nIt’s quite impressive. Especially in terms of added concurrency. main does 10k rps on a single node with a concurrency level of 10–15 requesting a single doc. It drops with larger concurrency. parallel_preads does 25k rps (!) and handily goes up to 200 concurrent requests. Couldn’t go further for ulimit reasons that I can’t bother to sort out tonight. But that’s quite the win\r\n\r\n—\r\n\r\nanother preads test: I»m using test/bench/benchbulk to write 1M 10byte docs in batches of 1000 into a db and ab to read the first inserted doc with concurrency 15 for 100k times. in both main an parallel_preads adding the reads slows the writes down noticeably, but the read rps roughly stays the same (only concurrent_preads roughly does 2x over main \r\n\r\ndialled it up to 1M reads, so read and write tests roughly have the same duration / effect on each other\r\n\r\ninserting 1M docs while reading the same doc 1M times with  15 concurrent readers under parallel_preads:\r\n\r\n```\r\nreal\t1m27.434s\r\nuser\t0m21.057s\r\nsys\t0m14.472s\r\n```\r\n\r\nreads test ran for 84.316 seconds vs 87.434 ^\r\n\r\njust inserting the docs without reads:\r\n\r\n```\r\nreal\t0m17.923s\r\nuser\t0m19.268s\r\nsys\t0m8.213s\r\n```\r\n\r\nfor the r/w test on main we come out at 7100rps, 2–3ms response times, with longest request 69ms\r\n\r\nvs parallel_preads: 11800rps, 1–2ms, worst case 67ms,\r\n\r\nso while quite a bit more throughput, concurrent reads and writes still block each other.\r\n\r\nthis is on an M4 Pro 14 core box with essentially infinite IOPS and memory for the sake of this test, 10 4.5GHz CPUs + 4 slower ones. (fastest consumer CPU on the market atm).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2613521024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2614737465","html_url":"https://github.com/apache/couchdb/pull/5414#issuecomment-2614737465","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5414","id":2614737465,"node_id":"IC_kwDOAAMmUc6b2bo5","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-27T02:22:50Z","updated_at":"2025-01-27T02:23:51Z","author_association":"CONTRIBUTOR","body":"> 100% coverage 🤩\r\n> \r\n> I was curious what the original motivation was for this feature, but all I found was [523191b](https://github.com/apache/couchdb/commit/523191b0a1701d397d8be018c1035a517500f9a3) which didn't seem to speak to the \"why\".\r\n\r\nI was curious as well. I think it was part of the old replicator. Something about pulling revisions from a unified missing revision queue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2614737465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2616698128","html_url":"https://github.com/apache/couchdb/issues/5342#issuecomment-2616698128","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5342","id":2616698128,"node_id":"IC_kwDOAAMmUc6b96UQ","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-27T19:21:56Z","updated_at":"2025-01-27T19:21:56Z","author_association":"CONTRIBUTOR","body":"> QuickJS scanner show no problem. The indexes used to build correctly with spidermonkey but in this current build, spidermonkey is broken so, I cannot check if the problem also arises with spidermonkey.\n\nCould you explain that a little bit more? Why doesn't SpiderMonkey work in that build?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2616698128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2616996078","html_url":"https://github.com/apache/couchdb/pull/5416#issuecomment-2616996078","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5416","id":2616996078,"node_id":"IC_kwDOAAMmUc6b_DDu","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-27T22:05:53Z","updated_at":"2025-01-27T22:05:53Z","author_association":"CONTRIBUTOR","body":"An example of how it looked previously (by adding debug logs and a smaller batching size)\r\n\r\n```\r\n[error] 2025-01-27T21:40:46.818623Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in process_docs Id:<<\"doc0000000020\">> Seq:22\r\n[error] 2025-01-27T21:40:46.819310Z node1@127.0.0.1 <0.21629.0> --------  ++Acc/=[]+++++ couch_mrview_updater:finish_update@138 11\r\n[error] 2025-01-27T21:40:46.819334Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:nil Seq:32\r\n[error] 2025-01-27T21:40:46.819346Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000030\">> Seq:32\r\n[error] 2025-01-27T21:40:46.819354Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000029\">> Seq:31\r\n[error] 2025-01-27T21:40:46.819372Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000028\">> Seq:30\r\n[error] 2025-01-27T21:40:46.819380Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000027\">> Seq:29\r\n[error] 2025-01-27T21:40:46.819387Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000026\">> Seq:28\r\n[error] 2025-01-27T21:40:46.819400Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000025\">> Seq:27\r\n[error] 2025-01-27T21:40:46.819406Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000024\">> Seq:26\r\n[error] 2025-01-27T21:40:46.819415Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000023\">> Seq:25\r\n[error] 2025-01-27T21:40:46.819423Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000022\">> Seq:24\r\n[error] 2025-01-27T21:40:46.819432Z node1@127.0.0.1 <0.21629.0> --------  enqueued item in finish Id:<<\"doc0000000021\">> Seq:23\r\n[error] 2025-01-27T21:40:46.820391Z node1@127.0.0.1 <0.21632.0> --------  +++doc queue dequeued++++ couch_mrview_updater:map_docs@165 len:22\r\n[error] 2025-01-27T21:40:46.820420Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000010\">> Seq:12\r\n[error] 2025-01-27T21:40:46.820439Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000011\">> Seq:13\r\n[error] 2025-01-27T21:40:46.820456Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000012\">> Seq:14\r\n[error] 2025-01-27T21:40:46.820498Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000013\">> Seq:15\r\n[error] 2025-01-27T21:40:46.820518Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000014\">> Seq:16\r\n[error] 2025-01-27T21:40:46.820531Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000015\">> Seq:17\r\n[error] 2025-01-27T21:40:46.820541Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000016\">> Seq:18\r\n[error] 2025-01-27T21:40:46.820555Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000017\">> Seq:19\r\n[error] 2025-01-27T21:40:46.820567Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000018\">> Seq:20\r\n[error] 2025-01-27T21:40:46.820594Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000019\">> Seq:21\r\n[error] 2025-01-27T21:40:46.820611Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000020\">> Seq:22\r\n[error] 2025-01-27T21:40:46.820625Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:nil Seq:32\r\n[error] 2025-01-27T21:40:46.820675Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000030\">> Seq:32\r\n[error] 2025-01-27T21:40:46.820681Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000029\">> Seq:31\r\n[error] 2025-01-27T21:40:46.820686Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000028\">> Seq:30\r\n[error] 2025-01-27T21:40:46.820710Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000027\">> Seq:29\r\n[error] 2025-01-27T21:40:46.820715Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000026\">> Seq:28\r\n[error] 2025-01-27T21:40:46.820720Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000025\">> Seq:27\r\n[error] 2025-01-27T21:40:46.820728Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000024\">> Seq:26\r\n[error] 2025-01-27T21:40:46.820734Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000023\">> Seq:25\r\n[error] 2025-01-27T21:40:46.820739Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000022\">> Seq:24\r\n[error] 2025-01-27T21:40:46.820746Z node1@127.0.0.1 <0.21632.0> --------  dequeued item Id:<<\"doc0000000021\">> Seq:23\r\n[error] 2025-01-27T21:40:46.822474Z node1@127.0.0.1 <0.21632.0> --------  +++doc queue closed++++ couch_mrview_updater:map_docs@161 closed\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2616996078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2617364783","html_url":"https://github.com/apache/couchdb/issues/5342#issuecomment-2617364783","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5342","id":2617364783,"node_id":"IC_kwDOAAMmUc6cAdEv","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-28T01:01:44Z","updated_at":"2025-01-28T01:02:43Z","author_association":"CONTRIBUTOR","body":"I wrote a small benchmark just running items through the couch_work_queue and 25 does seem to show better performance numbers:\n\nhttps://gist.github.com/nickva/f2175a6bee8399f7f9ed38d5e9d3be5d\n\n```\nErlang/OTP 25 [erts-13.2.2.11] [source] [64-bit] [smp:12:12] [ds:12:12:10] [async-threads:1] [jit:ns]\n\n(node1@127.0.0.1)1> bench:main({100000, 100000, 100, all, 10000}).\n#{c_dt => 103772749,imax_dt => 33037,imin_dt => 599,\n  p_dt => 103773912}\n(node1@127.0.0.1)2> bench:main({100000, 100000, 100, all, 10000}).\n#{c_dt => 69403578,imax_dt => 2242,imin_dt => 597,\n  p_dt => 69405621}\n(node1@127.0.0.1)3> bench:main({100000, 100000, 100, all, 10000}).\n#{c_dt => 85111027,imax_dt => 19165,imin_dt => 597,\n  p_dt => 85112678}\n```\n\n```\nErlang/OTP 27 [erts-15.1.2] [source] [64-bit] [smp:12:12] [ds:12:12:16] [async-threads:1]\n\n(node1@127.0.0.1)1> bench:main({100000, 100000, 100, all, 10000}).\n#{c_dt => 110633029,imax_dt => 63506,imin_dt => 702,\n  p_dt => 110634677}\n(node1@127.0.0.1)2> bench:main({100000, 100000, 100, all, 10000}).\n#{c_dt => 109516657,imax_dt => 75298,imin_dt => 696,\n  p_dt => 109518259}\n(node1@127.0.0.1)3> bench:main({100000, 100000, 100, all, 10000}).\n#{c_dt => 104687478,imax_dt => 16934,imin_dt => 925,\n  p_dt => 104688759}\n```\n\n\nThe best total 25 can do is 69 seconds and the best 27 can do is 104 seconds.\n\nThe max per item times are quite large as well: largest for 25 is 33 msec and for 27 is 75.\n\nThe best max per items for 25 is 2 msec and for 27 is 16 msec.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2617364783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2619623008","html_url":"https://github.com/apache/couchdb/issues/5342#issuecomment-2619623008","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5342","id":2619623008,"node_id":"IC_kwDOAAMmUc6cJEZg","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-28T17:21:50Z","updated_at":"2025-01-28T17:23:59Z","author_association":"CONTRIBUTOR","body":"A couchdb dev slack channel participant helpfully pointed out that there were a few OTP 27 issues that RabbitMQ encountered as well: https://github.com/rabbitmq/rabbitmq-server/pull/12508\n\nAnd it does involved garbage collection and binary refs and such, precisely what the work queue in the view app seems to deal with","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2619623008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2629077847","html_url":"https://github.com/apache/couchdb/issues/5420#issuecomment-2629077847","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5420","id":2629077847,"node_id":"IC_kwDOAAMmUc6ctItX","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-01T19:18:45Z","updated_at":"2025-02-01T19:18:45Z","author_association":"CONTRIBUTOR","body":"@jamesaimonetti thanks for reaching out\n\nBackups in the couch_server message queue are often due to frequent opens and closes, especially when the db handle lru is full and there are not enough idle handles to replace. \n\nSo a few things to try could be:\n \n  * Raise the [max_dbs_open](https://docs.couchdb.org/en/stable/maintenance/performance.html#max-dbs-open) if memory allows it.\n\n  * Disable idle_check_timeout. This setting was later removed altogether:`[couchdb]  idle_check_timeout = infinity`\n\n  * Try toggling `update_lru_on_read`:  `[couchdb] update_lru_on_read = false`. If it was set to true, trying setting to false, and vice-versa. It's kind of dependent on your traffic pattern.\n\n  * Increase the number of CPU (schedulers) available if possible.`couch_server` processes are sharded across the number of available schedulers. So having 32 schedulers vs 16 would spread the open calls and the lru across 32 couch_server processes.\n\n  * Inspect your logs to see if there is anything timing out or crashing constantly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2629077847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2629140616","html_url":"https://github.com/apache/couchdb/issues/5420#issuecomment-2629140616","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5420","id":2629140616,"node_id":"IC_kwDOAAMmUc6ctYCI","user":{"login":"jamesaimonetti","id":160921,"node_id":"MDQ6VXNlcjE2MDkyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/160921?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesaimonetti","html_url":"https://github.com/jamesaimonetti","followers_url":"https://api.github.com/users/jamesaimonetti/followers","following_url":"https://api.github.com/users/jamesaimonetti/following{/other_user}","gists_url":"https://api.github.com/users/jamesaimonetti/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesaimonetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesaimonetti/subscriptions","organizations_url":"https://api.github.com/users/jamesaimonetti/orgs","repos_url":"https://api.github.com/users/jamesaimonetti/repos","events_url":"https://api.github.com/users/jamesaimonetti/events{/privacy}","received_events_url":"https://api.github.com/users/jamesaimonetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-01T22:22:36Z","updated_at":"2025-02-01T22:22:36Z","author_association":"NONE","body":"@nickva thanks for the pointers!\n\nWe were able to halt/1 one of the couch VMs so we'll poke in the crash dump and see if anything jumps out.\n\nI'm also working on a test tool to load couch up like we were seeing and try to make this happen reliably. Will take your points above and incorporate them into our configs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2629140616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632100923","html_url":"https://github.com/apache/couchdb/issues/5418#issuecomment-2632100923","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5418","id":2632100923,"node_id":"IC_kwDOAAMmUc6c4qw7","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-03T21:20:03Z","updated_at":"2025-02-03T21:20:03Z","author_association":"MEMBER","body":"hm I think a pull request to add `aud` specifically would be fine (and should be fairly easy). Not sure bespoke checks are a good idea.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632100923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632107861","html_url":"https://github.com/apache/couchdb/issues/5415#issuecomment-2632107861","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5415","id":2632107861,"node_id":"IC_kwDOAAMmUc6c4sdV","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-03T21:24:03Z","updated_at":"2025-02-03T21:24:03Z","author_association":"MEMBER","body":"Sounds like you need to change ownership of the existing files from root to couchdb if you've changed the user that couchdb runs as since they were created.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632107861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632116181","html_url":"https://github.com/apache/couchdb/issues/5411#issuecomment-2632116181","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5411","id":2632116181,"node_id":"IC_kwDOAAMmUc6c4ufV","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-03T21:28:39Z","updated_at":"2025-02-03T21:28:39Z","author_association":"MEMBER","body":"Caching is vital to couchdb as is the processing we do when opening databases and indexes, it doesn't make sense to me for couchdb to start on demand.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632116181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632143502","html_url":"https://github.com/apache/couchdb/issues/5411#issuecomment-2632143502","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5411","id":2632143502,"node_id":"IC_kwDOAAMmUc6c41KO","user":{"login":"hadmut","id":941640,"node_id":"MDQ6VXNlcjk0MTY0MA==","avatar_url":"https://avatars.githubusercontent.com/u/941640?v=4","gravatar_id":"","url":"https://api.github.com/users/hadmut","html_url":"https://github.com/hadmut","followers_url":"https://api.github.com/users/hadmut/followers","following_url":"https://api.github.com/users/hadmut/following{/other_user}","gists_url":"https://api.github.com/users/hadmut/gists{/gist_id}","starred_url":"https://api.github.com/users/hadmut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hadmut/subscriptions","organizations_url":"https://api.github.com/users/hadmut/orgs","repos_url":"https://api.github.com/users/hadmut/repos","events_url":"https://api.github.com/users/hadmut/events{/privacy}","received_events_url":"https://api.github.com/users/hadmut/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-03T21:44:19Z","updated_at":"2025-02-03T21:44:19Z","author_association":"NONE","body":"Oh, it doesn't mean to restart it for every single request. And it doesn't mean terminating after a connection. Once started, it should run for a given time period after last use. \n\nBut if you do use CouchDB only occasionally, as I do,  why should it consume memory, boot time, battery power,  if it isn't used most of the time? After all, I am just asking for supporting it, not for enforcing it, thus leaving the decision to the admin.  \n\nEspecially for a non-centralized structure as couchdb has, it makes sense to start couchdb (e.g. on desktop machines, notebooks, ...) only if actually needed, and not on every boot. \n\nAnd, btw., that's what good 'ole inetd or modern systemd socket activation is made for. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632143502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632199601","html_url":"https://github.com/apache/couchdb/issues/5411#issuecomment-2632199601","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5411","id":2632199601,"node_id":"IC_kwDOAAMmUc6c5C2x","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-03T22:01:17Z","updated_at":"2025-02-03T22:01:17Z","author_association":"MEMBER","body":"Ok, I get it. It might be a nice (if niche) feature though I wouldn't want to tie it to systemd.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632199601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632321466","html_url":"https://github.com/apache/couchdb/issues/5411#issuecomment-2632321466","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5411","id":2632321466,"node_id":"IC_kwDOAAMmUc6c5gm6","user":{"login":"hadmut","id":941640,"node_id":"MDQ6VXNlcjk0MTY0MA==","avatar_url":"https://avatars.githubusercontent.com/u/941640?v=4","gravatar_id":"","url":"https://api.github.com/users/hadmut","html_url":"https://github.com/hadmut","followers_url":"https://api.github.com/users/hadmut/followers","following_url":"https://api.github.com/users/hadmut/following{/other_user}","gists_url":"https://api.github.com/users/hadmut/gists{/gist_id}","starred_url":"https://api.github.com/users/hadmut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hadmut/subscriptions","organizations_url":"https://api.github.com/users/hadmut/orgs","repos_url":"https://api.github.com/users/hadmut/repos","events_url":"https://api.github.com/users/hadmut/events{/privacy}","received_events_url":"https://api.github.com/users/hadmut/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-03T22:32:19Z","updated_at":"2025-02-03T22:32:19Z","author_association":"NONE","body":"Couchdb is already tied to systemd, because that's the way it is started on modern systems. We're not in the System V or BSD days anymore.  \n\nIt's just a modification of the way systemd starts couchdb, to make it even more modern. As an option. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2632321466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637580919","html_url":"https://github.com/apache/couchdb/issues/5411#issuecomment-2637580919","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5411","id":2637580919,"node_id":"IC_kwDOAAMmUc6dNkp3","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-05T17:31:31Z","updated_at":"2025-02-05T17:31:31Z","author_association":"CONTRIBUTOR","body":"> Couchdb is already tied to systemd, because that's the way it is started on modern systems. We're not in the System V or BSD days anymore.\n\nFor what it is worth, the [FreeBSD port of CouchDB](https://cgit.freebsd.org/ports/tree/databases/couchdb3) still uses an [`rc.d` script](https://docs.freebsd.org/en/articles/rc-scripting/) to start and stop the application.  I believe that is a different conversation to decide if FreeBSD constitutes a modern system, but it proves that CouchDB could be managed without `systemd`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637580919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637945055","html_url":"https://github.com/apache/couchdb/issues/5423#issuecomment-2637945055","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5423","id":2637945055,"node_id":"IC_kwDOAAMmUc6dO9jf","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-05T20:22:04Z","updated_at":"2025-02-05T20:22:04Z","author_association":"MEMBER","body":"As discussed in the linked issue, this appears to be a problem with Azure containers rewriting the request. I suggest you raise the issue with their support team, as it doesn't seem to be an issue with CouchDB specifically.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637945055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637950597","html_url":"https://github.com/apache/couchdb/issues/5423#issuecomment-2637950597","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5423","id":2637950597,"node_id":"IC_kwDOAAMmUc6dO-6F","user":{"login":"raje312","id":108887224,"node_id":"U_kgDOBn18uA","avatar_url":"https://avatars.githubusercontent.com/u/108887224?v=4","gravatar_id":"","url":"https://api.github.com/users/raje312","html_url":"https://github.com/raje312","followers_url":"https://api.github.com/users/raje312/followers","following_url":"https://api.github.com/users/raje312/following{/other_user}","gists_url":"https://api.github.com/users/raje312/gists{/gist_id}","starred_url":"https://api.github.com/users/raje312/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raje312/subscriptions","organizations_url":"https://api.github.com/users/raje312/orgs","repos_url":"https://api.github.com/users/raje312/repos","events_url":"https://api.github.com/users/raje312/events{/privacy}","received_events_url":"https://api.github.com/users/raje312/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-05T20:25:23Z","updated_at":"2025-02-05T20:25:23Z","author_association":"NONE","body":"thanks...will check azure azure support","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637950597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637969855","html_url":"https://github.com/apache/couchdb/issues/5411#issuecomment-2637969855","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5411","id":2637969855,"node_id":"IC_kwDOAAMmUc6dPDm_","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-05T20:36:16Z","updated_at":"2025-02-05T20:36:16Z","author_association":"MEMBER","body":"systemd certainly not a requirement for couchdb, and I agree that's a separate discussion.\n\nA pull request adding this as an option (off by default) against https://github.com/apache/couchdb-pkg seems the next step. we can review the details there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2637969855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2639720936","html_url":"https://github.com/apache/couchdb/issues/5418#issuecomment-2639720936","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5418","id":2639720936,"node_id":"IC_kwDOAAMmUc6dVvHo","user":{"login":"hubodz","id":11424487,"node_id":"MDQ6VXNlcjExNDI0NDg3","avatar_url":"https://avatars.githubusercontent.com/u/11424487?v=4","gravatar_id":"","url":"https://api.github.com/users/hubodz","html_url":"https://github.com/hubodz","followers_url":"https://api.github.com/users/hubodz/followers","following_url":"https://api.github.com/users/hubodz/following{/other_user}","gists_url":"https://api.github.com/users/hubodz/gists{/gist_id}","starred_url":"https://api.github.com/users/hubodz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hubodz/subscriptions","organizations_url":"https://api.github.com/users/hubodz/orgs","repos_url":"https://api.github.com/users/hubodz/repos","events_url":"https://api.github.com/users/hubodz/events{/privacy}","received_events_url":"https://api.github.com/users/hubodz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-06T12:41:08Z","updated_at":"2025-02-06T12:41:08Z","author_association":"NONE","body":"Hey, thanks for your answer. Can you tell me more about why the bespoke checks would be a bad idea (as long as it's a simple string comparison)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2639720936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2641805547","html_url":"https://github.com/apache/couchdb/issues/5422#issuecomment-2641805547","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5422","id":2641805547,"node_id":"IC_kwDOAAMmUc6ddsDr","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-07T02:46:00Z","updated_at":"2025-02-07T02:46:00Z","author_association":"CONTRIBUTOR","body":"Thanks for reaching out @slothtopus.\n\nI think what's happening is on second document update compaction doesn't kick in properly. We just fixed a bug on main related to this a few months ago https://github.com/apache/couchdb/pull/5347. Try compacting the db manually or configure your smoosh settings according to the pull request comment suggestion. We're planning to make an 3.4.3 release and that should have the fix as well.\n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2641805547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2641811326","html_url":"https://github.com/apache/couchdb/issues/5422#issuecomment-2641811326","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5422","id":2641811326,"node_id":"IC_kwDOAAMmUc6ddtd-","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-07T02:51:44Z","updated_at":"2025-02-07T02:54:21Z","author_association":"CONTRIBUTOR","body":"I confirmed it here as well: https://gist.github.com/nickva/08469fd72500031d96b2a0265f8f5ec4\n\nMany thanks for the reproducer script, btw, that was very helpful to quickly figure out the issue! I adapted it to my localhost dev cluster run and with my specific attachment/doc revs hashes.\n\nOn main when compaction does trigger:\n```\n1057125\n1057134\n```\n\nOn 3.4.2 where it doesn't\n\n```\n1057125\n2085227\n```\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2641811326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2645942530","html_url":"https://github.com/apache/couchdb/pull/5399#issuecomment-2645942530","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5399","id":2645942530,"node_id":"IC_kwDOAAMmUc6dteEC","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-08T21:10:15Z","updated_at":"2025-02-08T21:10:15Z","author_association":"CONTRIBUTOR","body":"A full CI run testing on a variety of OSes (FreeBSD, MacOS, RHEL-like):\r\n\r\nhttps://ci-couchdb.apache.org/job/jenkins-cm1/job/FullPlatformMatrix/job/jenkins-parallel-preads/3/pipeline-graph/\r\n\r\n![Screenshot from 2025-02-08 16-08-17](https://github.com/user-attachments/assets/d17805e5-c326-41be-bbb8-945cd757dd14)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2645942530/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2646548463","html_url":"https://github.com/apache/couchdb/issues/5422#issuecomment-2646548463","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5422","id":2646548463,"node_id":"IC_kwDOAAMmUc6dvx_v","user":{"login":"slothtopus","id":35488066,"node_id":"MDQ6VXNlcjM1NDg4MDY2","avatar_url":"https://avatars.githubusercontent.com/u/35488066?v=4","gravatar_id":"","url":"https://api.github.com/users/slothtopus","html_url":"https://github.com/slothtopus","followers_url":"https://api.github.com/users/slothtopus/followers","following_url":"https://api.github.com/users/slothtopus/following{/other_user}","gists_url":"https://api.github.com/users/slothtopus/gists{/gist_id}","starred_url":"https://api.github.com/users/slothtopus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slothtopus/subscriptions","organizations_url":"https://api.github.com/users/slothtopus/orgs","repos_url":"https://api.github.com/users/slothtopus/repos","events_url":"https://api.github.com/users/slothtopus/events{/privacy}","received_events_url":"https://api.github.com/users/slothtopus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-09T19:21:45Z","updated_at":"2025-02-09T19:21:45Z","author_association":"NONE","body":"Thanks for the reply and thanks for preemptively fixing this before I even raised the issue! I'm looking forward to the 3.4.3 release.\n\nIs there any way to avoid an attachment getting sent over again during replication even though it already exists in both databases?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2646548463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2648129732","html_url":"https://github.com/apache/couchdb/issues/5418#issuecomment-2648129732","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5418","id":2648129732,"node_id":"IC_kwDOAAMmUc6d10DE","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-10T14:18:43Z","updated_at":"2025-02-10T14:18:43Z","author_association":"MEMBER","body":"I wouldn't want to add something to couchdb with potential security risks or introduce any deliberate incompatibility with the JWT spec. Allowing bespoke checks might be safe, but not allowing them definitely is.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2648129732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2648921041","html_url":"https://github.com/apache/couchdb/issues/4400#issuecomment-2648921041","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4400","id":2648921041,"node_id":"IC_kwDOAAMmUc6d41PR","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-10T18:40:25Z","updated_at":"2025-02-10T18:40:25Z","author_association":"CONTRIBUTOR","body":"zstd support was merged to OTP 28 https://github.com/erlang/otp/pull/9316 and it has dictionary support\n\nIf it fares well there for a bit, and we'd really like it earlier say in OTP 26 or could bring in that NIF as is until we reach OTP 28 minimum.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2648921041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]