[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157887771","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-157887771","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":157887771,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg4Nzc3MQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-18T22:38:42Z","updated_at":"2015-11-18T22:38:42Z","author_association":"MEMBER","body":"+1 for LOCALE_ONE and DCAwareRoundRobinPolicy. absolutely.\n\n>  Now we have ~15Gb of data daily, and zipkin becomes unusable after 1-2 days.\n\nSomething else is the problem here. Increasing the timeout isn't a real solution, even though I can understand a user's sentiment of a quick fix.\n\n@drax68 can you provide output from `nodetool cfhistograms zipkin xxx` for each xxx=table in the zipkin keyspace. The output of `nodetool cfstats â€¦` and `nodetool compactionstats;`and `nodetool tpstats;` will also be useful.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157887771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157890620","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-157890620","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":157890620,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg5MDYyMA==","user":{"login":"drax68","id":763189,"node_id":"MDQ6VXNlcjc2MzE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/763189?v=4","gravatar_id":"","url":"https://api.github.com/users/drax68","html_url":"https://github.com/drax68","followers_url":"https://api.github.com/users/drax68/followers","following_url":"https://api.github.com/users/drax68/following{/other_user}","gists_url":"https://api.github.com/users/drax68/gists{/gist_id}","starred_url":"https://api.github.com/users/drax68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drax68/subscriptions","organizations_url":"https://api.github.com/users/drax68/orgs","repos_url":"https://api.github.com/users/drax68/repos","events_url":"https://api.github.com/users/drax68/events{/privacy}","received_events_url":"https://api.github.com/users/drax68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-18T22:51:34Z","updated_at":"2015-11-18T22:51:34Z","author_association":"CONTRIBUTOR","body":"Sure, attaching report here [832.report.txt](https://github.com/openzipkin/zipkin/files/38424/832.report.txt)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157890620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157893517","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-157893517","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":157893517,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg5MzUxNw==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-18T23:05:16Z","updated_at":"2015-11-18T23:06:57Z","author_association":"MEMBER","body":"The writes look healthy, and compactions are obviously keeping up.\n\nBut there basically no reads happening against this cluster?\nHow long has it been running for?\n\nIf it's recently been restarted, could you use the Zipkin UI for some time and then update that information again. (`nodetool cfstats zipkin` is only needed once).\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157893517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157894122","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-157894122","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":157894122,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg5NDEyMg==","user":{"login":"drax68","id":763189,"node_id":"MDQ6VXNlcjc2MzE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/763189?v=4","gravatar_id":"","url":"https://api.github.com/users/drax68","html_url":"https://github.com/drax68","followers_url":"https://api.github.com/users/drax68/followers","following_url":"https://api.github.com/users/drax68/following{/other_user}","gists_url":"https://api.github.com/users/drax68/gists{/gist_id}","starred_url":"https://api.github.com/users/drax68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drax68/subscriptions","organizations_url":"https://api.github.com/users/drax68/orgs","repos_url":"https://api.github.com/users/drax68/repos","events_url":"https://api.github.com/users/drax68/events{/privacy}","received_events_url":"https://api.github.com/users/drax68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-18T23:08:23Z","updated_at":"2015-11-18T23:08:23Z","author_association":"CONTRIBUTOR","body":"Yes, no reads. Uptime should be near 40 hours.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157894122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157897311","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-157897311","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":157897311,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg5NzMxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-18T23:25:49Z","updated_at":"2015-11-18T23:25:49Z","author_association":"MEMBER","body":"Will join gitter in a bit. By didn't work, you mean the value didn't take?\nOr that 15s didn't help?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157897311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157948203","html_url":"https://github.com/openzipkin/zipkin/pull/862#issuecomment-157948203","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/862","id":157948203,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzk0ODIwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-19T04:30:15Z","updated_at":"2015-11-19T04:30:15Z","author_association":"MEMBER","body":"thx\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/157948203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158003016","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-158003016","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":158003016,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODAwMzAxNg==","user":{"login":"drax68","id":763189,"node_id":"MDQ6VXNlcjc2MzE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/763189?v=4","gravatar_id":"","url":"https://api.github.com/users/drax68","html_url":"https://github.com/drax68","followers_url":"https://api.github.com/users/drax68/followers","following_url":"https://api.github.com/users/drax68/following{/other_user}","gists_url":"https://api.github.com/users/drax68/gists{/gist_id}","starred_url":"https://api.github.com/users/drax68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drax68/subscriptions","organizations_url":"https://api.github.com/users/drax68/orgs","repos_url":"https://api.github.com/users/drax68/repos","events_url":"https://api.github.com/users/drax68/events{/privacy}","received_events_url":"https://api.github.com/users/drax68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-19T09:34:16Z","updated_at":"2015-11-19T09:34:16Z","author_association":"CONTRIBUTOR","body":"I mean that value didn't applied. You can see that from stacktrace I posted earlier.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158003016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158104625","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-158104625","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":158104625,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODEwNDYyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-19T16:15:39Z","updated_at":"2015-11-19T16:15:39Z","author_association":"MEMBER","body":"I must be completely blind as I still can't find the timeout value logged\nin the error message. Anyway, thanks for clarifying!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158104625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158104986","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-158104986","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":158104986,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODEwNDk4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-19T16:16:54Z","updated_at":"2015-11-19T16:16:54Z","author_association":"MEMBER","body":"Oh never mind. The log timestamps indicate 12s duration. Don't mind me..\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158104986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158235994","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-158235994","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":158235994,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODIzNTk5NA==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-19T23:45:48Z","updated_at":"2015-11-19T23:45:48Z","author_association":"MEMBER","body":"any updates on getting that info with reads included @drax68 ?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158235994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158454769","html_url":"https://github.com/openzipkin/zipkin/pull/865#issuecomment-158454769","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/865","id":158454769,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODQ1NDc2OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-20T16:43:14Z","updated_at":"2015-11-20T16:43:14Z","author_association":"MEMBER","body":"cc @spencergibb @dsyer I'll eventually reproduce this doc, in terms of spring boot, but in case this is interesting to you\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158454769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158460232","html_url":"https://github.com/openzipkin/zipkin/pull/865#issuecomment-158460232","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/865","id":158460232,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODQ2MDIzMg==","user":{"login":"spencergibb","id":594085,"node_id":"MDQ6VXNlcjU5NDA4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/594085?v=4","gravatar_id":"","url":"https://api.github.com/users/spencergibb","html_url":"https://github.com/spencergibb","followers_url":"https://api.github.com/users/spencergibb/followers","following_url":"https://api.github.com/users/spencergibb/following{/other_user}","gists_url":"https://api.github.com/users/spencergibb/gists{/gist_id}","starred_url":"https://api.github.com/users/spencergibb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spencergibb/subscriptions","organizations_url":"https://api.github.com/users/spencergibb/orgs","repos_url":"https://api.github.com/users/spencergibb/repos","events_url":"https://api.github.com/users/spencergibb/events{/privacy}","received_events_url":"https://api.github.com/users/spencergibb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-20T17:00:55Z","updated_at":"2015-11-20T17:00:55Z","author_association":"NONE","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158460232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158731550","html_url":"https://github.com/openzipkin/zipkin/issues/864#issuecomment-158731550","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/864","id":158731550,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODczMTU1MA==","user":{"login":"danchia","id":1222141,"node_id":"MDQ6VXNlcjEyMjIxNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1222141?v=4","gravatar_id":"","url":"https://api.github.com/users/danchia","html_url":"https://github.com/danchia","followers_url":"https://api.github.com/users/danchia/followers","following_url":"https://api.github.com/users/danchia/following{/other_user}","gists_url":"https://api.github.com/users/danchia/gists{/gist_id}","starred_url":"https://api.github.com/users/danchia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danchia/subscriptions","organizations_url":"https://api.github.com/users/danchia/orgs","repos_url":"https://api.github.com/users/danchia/repos","events_url":"https://api.github.com/users/danchia/events{/privacy}","received_events_url":"https://api.github.com/users/danchia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-22T06:55:19Z","updated_at":"2015-11-22T06:55:19Z","author_association":"NONE","body":"@adriancole let me give this a stab.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158731550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158738628","html_url":"https://github.com/openzipkin/zipkin/issues/864#issuecomment-158738628","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/864","id":158738628,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODczODYyOA==","user":{"login":"danchia","id":1222141,"node_id":"MDQ6VXNlcjEyMjIxNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1222141?v=4","gravatar_id":"","url":"https://api.github.com/users/danchia","html_url":"https://github.com/danchia","followers_url":"https://api.github.com/users/danchia/followers","following_url":"https://api.github.com/users/danchia/following{/other_user}","gists_url":"https://api.github.com/users/danchia/gists{/gist_id}","starred_url":"https://api.github.com/users/danchia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danchia/subscriptions","organizations_url":"https://api.github.com/users/danchia/orgs","repos_url":"https://api.github.com/users/danchia/repos","events_url":"https://api.github.com/users/danchia/events{/privacy}","received_events_url":"https://api.github.com/users/danchia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-22T09:16:16Z","updated_at":"2015-11-22T09:16:16Z","author_association":"NONE","body":"So I took a quick stab at this, and it turns out it's not that easy.\n\nmomentjs supports ASP style durations (H:m:s), but not human readable ones like \"1 second\".\n\nEven worse is that their human readable forms of durations, e.g. `moment.duration(\"0:00::00:1\").humanize()` gives you `a few seconds` which is not parsable back into a duration.\n\nAny ideas?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158738628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158768577","html_url":"https://github.com/openzipkin/zipkin/issues/864#issuecomment-158768577","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/864","id":158768577,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODc2ODU3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-22T15:37:00Z","updated_at":"2015-11-22T15:37:00Z","author_association":"MEMBER","body":"might not work, but I was thinking the 2 arg methods, which look like they\naccept a number and a unit? (ex  'm' or 'minutes')\n\nhttp://momentjs.com/docs/#/manipulating/add/\nhttp://momentjs.com/docs/#/utilities/\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158768577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158777276","html_url":"https://github.com/openzipkin/zipkin/issues/864#issuecomment-158777276","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/864","id":158777276,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODc3NzI3Ng==","user":{"login":"danchia","id":1222141,"node_id":"MDQ6VXNlcjEyMjIxNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1222141?v=4","gravatar_id":"","url":"https://api.github.com/users/danchia","html_url":"https://github.com/danchia","followers_url":"https://api.github.com/users/danchia/followers","following_url":"https://api.github.com/users/danchia/following{/other_user}","gists_url":"https://api.github.com/users/danchia/gists{/gist_id}","starred_url":"https://api.github.com/users/danchia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danchia/subscriptions","organizations_url":"https://api.github.com/users/danchia/orgs","repos_url":"https://api.github.com/users/danchia/repos","events_url":"https://api.github.com/users/danchia/events{/privacy}","received_events_url":"https://api.github.com/users/danchia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-22T16:46:01Z","updated_at":"2015-11-22T16:46:01Z","author_association":"NONE","body":"Hm.. interesting. Still have to solve the bijection problem, but I have an idea..\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/158777276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159070672","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159070672","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159070672,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTA3MDY3Mg==","user":{"login":"drax68","id":763189,"node_id":"MDQ6VXNlcjc2MzE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/763189?v=4","gravatar_id":"","url":"https://api.github.com/users/drax68","html_url":"https://github.com/drax68","followers_url":"https://api.github.com/users/drax68/followers","following_url":"https://api.github.com/users/drax68/following{/other_user}","gists_url":"https://api.github.com/users/drax68/gists{/gist_id}","starred_url":"https://api.github.com/users/drax68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drax68/subscriptions","organizations_url":"https://api.github.com/users/drax68/orgs","repos_url":"https://api.github.com/users/drax68/repos","events_url":"https://api.github.com/users/drax68/events{/privacy}","received_events_url":"https://api.github.com/users/drax68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-23T21:28:44Z","updated_at":"2015-11-23T21:28:44Z","author_association":"CONTRIBUTOR","body":"Here is a trace \n[zipkin-cassie.trace.txt](https://github.com/openzipkin/zipkin/files/42071/zipkin-cassie.trace.txt)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159070672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159151407","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159151407","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159151407,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTE1MTQwNw==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T05:12:48Z","updated_at":"2015-11-24T05:14:06Z","author_association":"MEMBER","body":"@drax68 the stacktrace in the log indicates it's on the call to `repository.getSpanNames(serviceName)` \n\nie\n\n```\n....\norg.twitter.zipkin.storage.cassandra.Repository.lambda$getSpanNames$3(Repository.java:463) ~[zipkin-query-service-1.25.1-SNAPSHOT-all.jar:na]\n....\n```\n\nQuick questionâ€¦ \nWhat's your replication factor for the zipkin keyspace?\n\n**RF=1 is not recommended**, even though it's the default it's wise that you raise it once in production to RF=2 minimum or best RF=3.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159151407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159313329","html_url":"https://github.com/openzipkin/zipkin/issues/867#issuecomment-159313329","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/867","id":159313329,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTMxMzMyOQ==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T15:59:38Z","updated_at":"2015-11-24T15:59:38Z","author_association":"CONTRIBUTOR","body":"Considering that the `DependencyLink` is used almost in the final stage of the Spark job:\n\n```\n    val dependencies: Dependencies = aggregates\n      .map { case ((parent: String, child: String), callCount: Long) =>\n        Dependencies(0, 0, Seq(DependencyLink(parent = parent, child = child, callCount = callCount)))\n      }\n      .reduce(_ + _) // merge DLs under one Dependencies object, which overrides +\n\n    saveToCassandra(sc, dependencies)\n```\n\nA simple work around could be to define a local version of it as a normal, serializable `case class`. This should allow the  final `.reduce(_ + _)` step to succeed and produce a single in-memory object. Then in `saveToCassandra` method we can re-map it to the thrift-compatible class.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159313329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159322607","html_url":"https://github.com/openzipkin/zipkin/issues/867#issuecomment-159322607","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/867","id":159322607,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTMyMjYwNw==","user":{"login":"chemicL","id":2554306,"node_id":"MDQ6VXNlcjI1NTQzMDY=","avatar_url":"https://avatars.githubusercontent.com/u/2554306?v=4","gravatar_id":"","url":"https://api.github.com/users/chemicL","html_url":"https://github.com/chemicL","followers_url":"https://api.github.com/users/chemicL/followers","following_url":"https://api.github.com/users/chemicL/following{/other_user}","gists_url":"https://api.github.com/users/chemicL/gists{/gist_id}","starred_url":"https://api.github.com/users/chemicL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chemicL/subscriptions","organizations_url":"https://api.github.com/users/chemicL/orgs","repos_url":"https://api.github.com/users/chemicL/repos","events_url":"https://api.github.com/users/chemicL/events{/privacy}","received_events_url":"https://api.github.com/users/chemicL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T16:26:26Z","updated_at":"2015-11-24T16:26:26Z","author_association":"NONE","body":"I'll code a work around for now, but I suppose it would make sense to make the DependencyLink a serializable class, as it forms an interface for various uses.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159322607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159357235","html_url":"https://github.com/openzipkin/zipkin/issues/867#issuecomment-159357235","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/867","id":159357235,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTM1NzIzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T18:01:25Z","updated_at":"2015-11-24T18:01:25Z","author_association":"MEMBER","body":"So, the canonical serialization of zipkin objects are json or thrift, not java serialization. We have tests for the serialized for of json (used in query), for example, but that's also largely because case classes in scala are so hard to deal with.\n\nScrooge thrifts are marked as Serializable.. what would happen if you stored scrooge thrifts instead?\nhttps://github.com/openzipkin/zipkin/blob/master/zipkin-scrooge/src/main/scala/com/twitter/zipkin/conversions/thrift.scala#L156\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159357235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159384409","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159384409","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159384409,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTM4NDQwOQ==","user":{"login":"drax68","id":763189,"node_id":"MDQ6VXNlcjc2MzE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/763189?v=4","gravatar_id":"","url":"https://api.github.com/users/drax68","html_url":"https://github.com/drax68","followers_url":"https://api.github.com/users/drax68/followers","following_url":"https://api.github.com/users/drax68/following{/other_user}","gists_url":"https://api.github.com/users/drax68/gists{/gist_id}","starred_url":"https://api.github.com/users/drax68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drax68/subscriptions","organizations_url":"https://api.github.com/users/drax68/orgs","repos_url":"https://api.github.com/users/drax68/repos","events_url":"https://api.github.com/users/drax68/events{/privacy}","received_events_url":"https://api.github.com/users/drax68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T19:43:34Z","updated_at":"2015-11-24T19:43:34Z","author_association":"CONTRIBUTOR","body":"Replication factor is default and unchanged due to single-node cassandra setup.\nIssue repeatable with cassandra 2.2.3, after few hours of running. There is also very low read io rate (kilobytes), I assume that all data cached in-memory by cassandra.\n\nFrom traces \"Response received on stream 0 but no handler set anymore\" ~50ms after zipkin closed connection.\n\nAnything else to test?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159384409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159434894","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159434894","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159434894,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQzNDg5NA==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T23:08:44Z","updated_at":"2015-11-24T23:08:44Z","author_association":"MEMBER","body":" ok. i was under the impression you were running multiple nodes in this cluster. my bad.\n\n@drax68, if you couldâ€¦\n\n1) check a few different stack traces to confirm if the exception is always happening within `repository.getSpanNames(serviceName)`\n\n2) post the same info you had in 832.report.txt but after the timeout exception happens\n\nIf we can confirm (1) then i'll re-implement using buckets on the span_names table. Using buckets 0-9 was removed in commit 7f339b5  because the duplication of writes was removed. It might be here evident that single partitions (ie serviceName) simply have too many spanNames stored in them, and by using buckets 0-9 again we help break up the pagination of reads.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159434894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159438086","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159438086","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159438086,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQzODA4Ng==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T23:27:09Z","updated_at":"2015-11-24T23:27:09Z","author_association":"MEMBER","body":"@drax68 another thing you could experiment with here is \n\n3) turn on row caching for the span_names table. you can do this quickly in cqlsh with\n\n```\nALTER TABLE zipkin.span_names WITH caching = {'keys': 'ALL', 'rows_per_partition': \"ALL\"};\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159438086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159439323","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159439323","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159439323,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQzOTMyMw==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T23:34:12Z","updated_at":"2015-11-24T23:34:12Z","author_association":"CONTRIBUTOR","body":"@drax68 do you know how many span names per service name you have on average?  It could be the case that the cardinality of your span names is too high. For example, if you have a REST end point `/user/{used_id}`, then the span name should be just `get_user`. If you include user_id in the span name, you will get an explosion of span names that neither UI nor Cassandra would be happy with.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159439323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159442612","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159442612","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159442612,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQ0MjYxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-24T23:55:39Z","updated_at":"2015-11-24T23:55:39Z","author_association":"MEMBER","body":"You guys are awesome. I'm really thankful we have a team earnestly trying\nto solve this. Keep up the good work! :clap:\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159442612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159643550","html_url":"https://github.com/openzipkin/zipkin/issues/867#issuecomment-159643550","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/867","id":159643550,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTY0MzU1MA==","user":{"login":"chemicL","id":2554306,"node_id":"MDQ6VXNlcjI1NTQzMDY=","avatar_url":"https://avatars.githubusercontent.com/u/2554306?v=4","gravatar_id":"","url":"https://api.github.com/users/chemicL","html_url":"https://github.com/chemicL","followers_url":"https://api.github.com/users/chemicL/followers","following_url":"https://api.github.com/users/chemicL/following{/other_user}","gists_url":"https://api.github.com/users/chemicL/gists{/gist_id}","starred_url":"https://api.github.com/users/chemicL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chemicL/subscriptions","organizations_url":"https://api.github.com/users/chemicL/orgs","repos_url":"https://api.github.com/users/chemicL/repos","events_url":"https://api.github.com/users/chemicL/events{/privacy}","received_events_url":"https://api.github.com/users/chemicL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T15:37:36Z","updated_at":"2015-11-25T15:37:36Z","author_association":"NONE","body":"Thanks for the clarification, I suppose for Spark it makes sense to use the thrift wrappers. I noticed @yurishkuro faced the same problem with other classes and defined his own case classes, which seems more readable. I'll leave the implementation with his approach, but this can be revisited in the future.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159643550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159664056","html_url":"https://github.com/openzipkin/zipkin/issues/867#issuecomment-159664056","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/867","id":159664056,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTY2NDA1Ng==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T16:32:54Z","updated_at":"2015-11-25T16:32:54Z","author_association":"CONTRIBUTOR","body":"I suggest closing this issue.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159664056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159696008","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159696008","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159696008,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTY5NjAwOA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T18:34:23Z","updated_at":"2015-11-25T18:34:23Z","author_association":"CONTRIBUTOR","body":"I just ran into the same thing. \n\n```\n    FutureUtil.toFuture(repository.getDependencies(startEpochDayMillis, endEpochDayMillis))\n      .map { dependencies => dependencies.asScala\n          .map(codec.decode(_))\n          .map(thriftToDependencies(_).toDependencies)\n          .flatMap(_.links)\n      }\n```\n\nThe last `flatMap` there joins all edges from runs on different days. I don't think we want to do that, we just want to pick the entry with the latest timestamp, and only use its links.\n\ncc @adriancole \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159696008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159696780","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159696780","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159696780,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTY5Njc4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T18:37:47Z","updated_at":"2015-11-25T18:37:47Z","author_association":"MEMBER","body":"sounds good. most important will be to update DependencyStoreSpec to use\nthe least amount of dummy data to reproduce this.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159696780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159696946","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159696946","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159696946,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTY5Njk0Ng==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T18:38:32Z","updated_at":"2015-11-25T18:38:32Z","author_association":"CONTRIBUTOR","body":"This fixes it:\n\n```\n    FutureUtil.toFuture(repository.getDependencies(startEpochDayMillis, endEpochDayMillis))\n      .map { dependencies =>\n        dependencies.asScala\n          .map(codec.decode(_))\n          .map(thriftToDependencies(_).toDependencies)\n          .maxBy(_.endTs).links\n      }\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159696946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159697811","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159697811","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159697811,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTY5NzgxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T18:42:37Z","updated_at":"2015-11-25T18:42:37Z","author_association":"MEMBER","body":"Thanks, yuri. If no-one else can integrate this into a PR, I can probably\ndo so before the end of the day.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159697811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159723536","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159723536","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159723536,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTcyMzUzNg==","user":{"login":"drax68","id":763189,"node_id":"MDQ6VXNlcjc2MzE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/763189?v=4","gravatar_id":"","url":"https://api.github.com/users/drax68","html_url":"https://github.com/drax68","followers_url":"https://api.github.com/users/drax68/followers","following_url":"https://api.github.com/users/drax68/following{/other_user}","gists_url":"https://api.github.com/users/drax68/gists{/gist_id}","starred_url":"https://api.github.com/users/drax68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drax68/subscriptions","organizations_url":"https://api.github.com/users/drax68/orgs","repos_url":"https://api.github.com/users/drax68/repos","events_url":"https://api.github.com/users/drax68/events{/privacy}","received_events_url":"https://api.github.com/users/drax68/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T20:27:16Z","updated_at":"2015-11-25T20:27:16Z","author_association":"CONTRIBUTOR","body":"@michaelsembwever \n1. Confirmed, exception always contains org.twitter.zipkin.storage.cassandra.Repository.lambda$getSpanNames\n1. New version, just after fresh exception \n   [832.report2.txt](https://github.com/openzipkin/zipkin/files/44236/832.report2.txt)\n2. When caching enabled got same exception.\n3. 300000 span_names for single service. Need to sync up with service developers.\n\nGuys, you are extremly helpfull, thank you.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159723536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159732413","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159732413","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159732413,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTczMjQxMw==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T21:11:54Z","updated_at":"2015-11-25T21:11:54Z","author_association":"CONTRIBUTOR","body":"> 300000 span_names for single service.\n\nlol... there you go. A typical observability misuse problem: \"Why don't I include UUID in my metric name...\"\n\nThere is already a write cache `writtenNames` in the Repository for both service and span names. It's currently flat, but if we convert it to be a map by service name, than you can cap the number of span names per service, at least within the TTL interval of that cache (1hr by default, we're using 12hrs).  When span names exceed the cap, you can replace them with some fixed name like \"too-many-names\". Maybe add the original name as b-annotation. This will protect the service from misbehaving span senders.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159732413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159741959","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159741959","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159741959,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc0MTk1OQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T22:04:41Z","updated_at":"2015-11-25T22:05:06Z","author_association":"MEMBER","body":"> This will protect the service from misbehaving span senders.\n\nI'm more in favour of simply logging WARN or ERROR statements over complicating the code. \n\neg i'm for putting a limit on the select cql in getSpanNames(serviceName) (that's super simple).\n\nOtherwise until the user goes and addresses the fault the system won't work, so why pretend to make it workâ€¦?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159741959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159744354","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159744354","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159744354,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc0NDM1NA==","user":{"login":"chemicL","id":2554306,"node_id":"MDQ6VXNlcjI1NTQzMDY=","avatar_url":"https://avatars.githubusercontent.com/u/2554306?v=4","gravatar_id":"","url":"https://api.github.com/users/chemicL","html_url":"https://github.com/chemicL","followers_url":"https://api.github.com/users/chemicL/followers","following_url":"https://api.github.com/users/chemicL/following{/other_user}","gists_url":"https://api.github.com/users/chemicL/gists{/gist_id}","starred_url":"https://api.github.com/users/chemicL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chemicL/subscriptions","organizations_url":"https://api.github.com/users/chemicL/orgs","repos_url":"https://api.github.com/users/chemicL/repos","events_url":"https://api.github.com/users/chemicL/events{/privacy}","received_events_url":"https://api.github.com/users/chemicL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T22:19:19Z","updated_at":"2015-11-25T22:19:19Z","author_association":"NONE","body":"Not sure if that's a desired behaviour - assuming we select dependencies for two days, we should get an aggregation of all the spans in that period. That's why summing the counts would make more sense than selecting just the latest aggregation. Otherwise, if on day_1 there were 5 spans from A to B, and 3 on day_2, the above solution would show A -> B with count of 3, while there were total 8 spans.\nUnless I'm mistaken the sum approach would also be in line with the `AnormDependencyStore` implementation.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159744354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159747138","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159747138","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159747138,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc0NzEzOA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T22:37:28Z","updated_at":"2015-11-25T22:37:28Z","author_association":"CONTRIBUTOR","body":"No objection to logging errors and/or emitting metrics that bad things are happening, but the system should not let garbage data into the storage. We had to fight quite a few fires when bad players were bringing the system to its knees, affecting good citizens just the same as bad ones. It's a basic quota system. \n\nBesides, the way I suggest handling it does not make the system \"not work\", it just collapses garbage span names into one. The data is still there and can be searched.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159747138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159753958","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159753958","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159753958,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc1Mzk1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T23:23:46Z","updated_at":"2015-11-25T23:23:46Z","author_association":"MEMBER","body":"Thanks for the test case!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159753958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159753959","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159753959","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159753959,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc1Mzk1OQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-25T23:23:47Z","updated_at":"2015-11-25T23:43:22Z","author_association":"MEMBER","body":">  â€¦affecting good citizens just the same as bad ones.\n\nYes that's a good point, and does argues for changing the flat cache to map->map.\n\nBut what i'm thinking though is looking into what really are the problems hereâ€¦\n\nThe number of writes isn't a problem. \n\nThe size of the `writtenNames` cache isn't necessarily a problem. Is a map with 300000 strings a memory issue? (and if so the existing fix is to reduce the ttl interval).\n\nThe reads of the wide rows we know is a problem.\n\n>  but the system should not let garbage data into the storage\n\nHow are we to know what is garbage? \nIt's easy to say 300000 is obviously wrong, but where do we draw the line? Especially when a variable ttl interval in brought into the picture.\n1000 could be wrong for one installation and 100000 could be correct for another.\nAnd at the end of the day supporting wide rows is something Cassandra can do.\n\nThat's why i'm more in favour, because it's less presumptuous, in providing the \"cap\" on the select statement. \n\n>  We had to fight quite a few fires when bad players were bringing the system to its knees, â€¦ \n\nWhat were the fires you were experiencing? Was it that the data was actually in the system (data that will ttl away eventually anyway), or that the reads were bringing it down? \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159753959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159779010","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159779010","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159779010,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc3OTAxMA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-26T01:55:40Z","updated_at":"2015-11-26T01:55:40Z","author_association":"CONTRIBUTOR","body":"> 1000 could be wrong for one installation and 100000 could be correct for another.\n\nI am not sure I see a realistic scenario where 100k span names per service is correct. The only reason we collect span names is to show them in the second dropdown in the UI. I'd argue any number over 100 is an overkill, who's gonna want to scroll through that? If a service has over 100 legitimately unique operations, yeah perhaps this 100 const can be made tunable, but perhaps it's time to consider refactoring the service, as something is probably wrong with its abstractions, maybe a certain portion of the span name should really be in the service name.\n\nBesides these semantic considerations, however, there's a separate need to protect Zipkin storage from runaway emitters, by implementing a simple circuit-breaker.\n\n> What were the fires you were experiencing? \n\nThe fires weren't with the tracing systems, but with metrics. We use Cassandra as tsdb, and Elasticsearch for indexing metric names, e.g. to serve Graphite queries like `stats.counts.service.*.xxx.*.yyy.*.zzz.*.*`. From time to time some service would come up that emits metrics with UUID or timestamp or some other high cardinality value as part of the metric name, which explodes the writes to ES, and it's very difficult to build a pattern match that would separate good names from bad. But by capping the number of metrics per service we were able to get a handle on it and build alerts & circuit-breakers.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159779010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159788278","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159788278","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159788278,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc4ODI3OA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-26T02:54:04Z","updated_at":"2015-11-26T02:54:04Z","author_association":"CONTRIBUTOR","body":"I would prefer if the UI could simply display the time interval for which the aggregated results are shown. Adding multiple records together doesn't sound right to me - what if their startTs-endTs intervals overlap or are disjoint? The aggregate numbers wouldn't really make sense. At least if we're showing a single aggregate record we can guarantee that the counts are consistent.\n\nAlso, summing may work for counts, but once we start adding more measures, like p99, we won't be able to aggregate across multiple time intervals (maybe we'll need to go back to 'moments').\n\nIncidentally, the current Spark job impl leaves startTs/endTs==0, so the maxBY above won't quite work.\n\n```\n    val dependencies: Dependencies = aggregates\n      .map { case ((parent: String, child: String), callCount: Long) =>\n        Dependencies(0, 0, Seq(DependencyLink(parent = parent, child = child, callCount = callCount)))\n      }\n      .reduce(_ + _) // merge DLs under one Dependencies object, which overrides +\n```\n\nThe job also doesn't filter traces by timestamps, it just reads everything from the table, so a single record already presents fully aggregated result. If we want that job to generate data for adjacent time intervals, and considering that it clamps he timestamp to 24hrs, maybe it should be doing a filter on the traces. \n\n```\nstartTs = (ts floor 24hrs) - 24hr\nendTs = ts floor 24hrs\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159788278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159791111","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-159791111","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":159791111,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTc5MTExMQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-26T03:11:36Z","updated_at":"2015-12-02T02:04:46Z","author_association":"MEMBER","body":"> The only reason we collect span names is to show them in the second dropdown in the UI. I'd argue any number over 100 is an overkill, who's gonna want to scroll through that?\n\nIndeed this is the angle I'm seeing it from. That is there's really no point in returning so many from `getSpanNames(..)` when no one is going to scroll through such a large list.Therefore limiting the select statement  is what involves the smallest change in the code.\n\nBut thinking more about what you suggest makes sense. The only purpose to span_names is for that UI component, and if we can avoid writing \"hot\" partitions in C\\* we should do that.\n\n@yurishkuro interested in writing up a patch for what you're suggesting?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159791111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159810746","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-159810746","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":159810746,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTgxMDc0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-26T05:44:11Z","updated_at":"2015-11-26T05:44:11Z","author_association":"MEMBER","body":"> I would prefer if the UI could simply display the time interval for which\n> the aggregated results are shown.\n> That\n\nAdding multiple records together doesn't sound right to me - what if their\nstartTs-endTs intervals overlap or are disjoint? The aggregate numbers\nwouldn't really make sense. At least if we're showing a single aggregate\nrecord we can guarantee that the counts are consistent.\n\nThis sounds like edge case fishing. For example, this feature was\ndocumented as allowing backends to store a different granularity. Even to\nthe point of explaining what that meant, ex. How we expect to treat a look\nback that ends in-between grains. For example summing 2 days, if look back\nis 36hrs. This issue doesn't seem like a feature change to me, but your\nresponse to it does.\n\n> Also, summing may work for counts, but once we start adding more\n> measures, like p99, we won't be able to aggregate across multiple time\n> intervals (maybe we'll need to go back to 'moments').\n> This is really getting past the current feature. We have discussed that we\n> might add summable measures such as bucketed latency intervals. Average or\n> p99 is a distracting addition to this issue.\n> \n> Incidentally, the current Spark job impl leaves startTs/endTs==0, so the\n> maxBY above won't quite work.\n> \n> ```\n> val dependencies: Dependencies = aggregates\n>   .map { case ((parent: String, child: String), callCount: Long) =>\n>     Dependencies(0, 0, Seq(DependencyLink(parent = parent, child =\n> ```\n> \n> child, callCount = callCount)))\n>       }\n>       .reduce(_ + _) // merge DLs under one Dependencies object, which\n> overrides +\n> \n> The job also doesn't filter traces by timestamps, it just reads\n> everything from the table, so a single record already presents fully\n> aggregated result. If we want that job to generate data for adjacent time\n> intervals, and considering that it clamps he timestamp to 24hrs, maybe it\n> should be doing a filter on the traces.\n> \n> startTs = (ts floor 24hrs) - 24hr\n> endTs = ts floor 24hrs\n\nThis response is hard because it is tail wagging the dog. The spark job is\none implementation of the dependency api, and as far as I remember doesn't\neven run the tests.\n\nLet's focus on the feature we have today, fill missing tests and fix jobs\nthat implement the feature. If we want a new or different feature that\ntries to sum P99, that's cool, but seems distracting to do that in the\nmiddle of a big report.\n\nIn other words can we please put this train back on the rails.\n\nI am willing to help fix the bug, but not if that means reworking zipkin's\ncode around a ramble of new requirements and UI changes.\n\nWe have 2 bugs: here we have a bug which we should be explainable in the\njavadoc on DependencyStore and a DependencyStoreSpec\n\nThe other bug is that the spark job has no tests. This leads to\nhypothetical discussion around features which could be avoided if it ever\nactually ran our interop test. We shouldn't kite any more feature work\nbased on the assumptions baked into untested code. So, that's bug 2.\n\nOnce we fix the bugs I think we should start thinking about future features\nbut honestly the Cassandra related codebase has some serious tech debt to\npay off.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/159810746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160193565","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-160193565","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":160193565,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDE5MzU2NQ==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-27T19:25:38Z","updated_at":"2015-11-27T19:25:52Z","author_association":"CONTRIBUTOR","body":"If it's already established elsewhere that summing up multiple records is the expected behavior, then this would fix CassandraDependencyStore: https://github.com/openzipkin/zipkin/pull/869\n\n``` scala\n    FutureUtil.toFuture(repository.getDependencies(startEpochDayMillis, endEpochDayMillis))\n      .map { dependencies =>\n        dependencies.asScala\n          .map(codec.decode(_))\n          .map(thriftToDependencies(_).toDependencies)\n          .flatMap(_.links)\n          .groupBy(link => (link.parent, link.child))\n          .map {\n            case ((parent, child), links) => DependencyLink(parent, child, links.map(_.callCount).sum)\n          }.toSeq\n      }\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160193565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160193665","html_url":"https://github.com/openzipkin/zipkin/issues/868#issuecomment-160193665","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/868","id":160193665,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDE5MzY2NQ==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-27T19:26:52Z","updated_at":"2015-11-27T19:26:52Z","author_association":"CONTRIBUTOR","body":"But the Spark job would produce duplicate results until this is fixed: https://github.com/openzipkin/zipkin-dependencies-spark/issues/7\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160193665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160218232","html_url":"https://github.com/openzipkin/zipkin/pull/869#issuecomment-160218232","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/869","id":160218232,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDIxODIzMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-27T22:00:58Z","updated_at":"2015-11-27T22:00:58Z","author_association":"MEMBER","body":"Remember to cut a release, push a tag like 1.25.2\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160218232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160589617","html_url":"https://github.com/openzipkin/zipkin/issues/792#issuecomment-160589617","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/792","id":160589617,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDU4OTYxNw==","user":{"login":"MatMoore","id":87579,"node_id":"MDQ6VXNlcjg3NTc5","avatar_url":"https://avatars.githubusercontent.com/u/87579?v=4","gravatar_id":"","url":"https://api.github.com/users/MatMoore","html_url":"https://github.com/MatMoore","followers_url":"https://api.github.com/users/MatMoore/followers","following_url":"https://api.github.com/users/MatMoore/following{/other_user}","gists_url":"https://api.github.com/users/MatMoore/gists{/gist_id}","starred_url":"https://api.github.com/users/MatMoore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MatMoore/subscriptions","organizations_url":"https://api.github.com/users/MatMoore/orgs","repos_url":"https://api.github.com/users/MatMoore/repos","events_url":"https://api.github.com/users/MatMoore/events{/privacy}","received_events_url":"https://api.github.com/users/MatMoore/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-30T10:27:28Z","updated_at":"2015-11-30T10:28:19Z","author_association":"NONE","body":"Just to update - I did eventually manage to get it working using the fat jars from bintray.\n\nThis is just a small development deployment and last time I checked the mysql storage wasn't able to expire old data, so I went with redis instead. I also used scribe rather than kafka to keep things simple.\n\nI am running everything like this:\n\n```\njava  -jar zipkin-collector-service-1.25.1-all.jar  -f /collector-redis.scala\njava  -jar zipkin-query-service-1.25.1-all.jar  -f /query-redis.scala\njava -cp 'libs/' -jar zipkin-web-1.25.1-all.jar -zipkin.web.cacheResources=true\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/160589617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161231228","html_url":"https://github.com/openzipkin/zipkin/issues/786#issuecomment-161231228","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/786","id":161231228,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTIzMTIyOA==","user":{"login":"liyichao","id":2576762,"node_id":"MDQ6VXNlcjI1NzY3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2576762?v=4","gravatar_id":"","url":"https://api.github.com/users/liyichao","html_url":"https://github.com/liyichao","followers_url":"https://api.github.com/users/liyichao/followers","following_url":"https://api.github.com/users/liyichao/following{/other_user}","gists_url":"https://api.github.com/users/liyichao/gists{/gist_id}","starred_url":"https://api.github.com/users/liyichao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liyichao/subscriptions","organizations_url":"https://api.github.com/users/liyichao/orgs","repos_url":"https://api.github.com/users/liyichao/repos","events_url":"https://api.github.com/users/liyichao/events{/privacy}","received_events_url":"https://api.github.com/users/liyichao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-02T09:18:14Z","updated_at":"2015-12-02T09:18:14Z","author_association":"NONE","body":"We also encounter this in 1.25.1.\n\nAnother problem, when I select span name, and send the request, the page returns, with span name reset to all, which is unexpected. I expect the span name remains to be what I select.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161231228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161494887","html_url":"https://github.com/openzipkin/zipkin/issues/870#issuecomment-161494887","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/870","id":161494887,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTQ5NDg4Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T02:12:41Z","updated_at":"2015-12-03T02:12:41Z","author_association":"MEMBER","body":"are you failing to compile? or are you referring to the warning output.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161494887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161495026","html_url":"https://github.com/openzipkin/zipkin/issues/871#issuecomment-161495026","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/871","id":161495026,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTQ5NTAyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T02:13:46Z","updated_at":"2015-12-03T02:13:46Z","author_association":"MEMBER","body":"interesting. agreed.\n\nthough http://openzipkin.github.io/zipkin/ or better zipkin.io\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161495026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161495616","html_url":"https://github.com/openzipkin/zipkin/issues/786#issuecomment-161495616","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/786","id":161495616,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTQ5NTYxNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T02:18:46Z","updated_at":"2015-12-03T02:18:46Z","author_association":"MEMBER","body":"thanks for reporting! sounds like a valid problem. personally, I'm offline\nfor a week or so. If anyone else can help with this, please do!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/161495616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162386495","html_url":"https://github.com/openzipkin/zipkin/pull/869#issuecomment-162386495","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/869","id":162386495,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjM4NjQ5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-07T01:38:00Z","updated_at":"2015-12-07T01:38:00Z","author_association":"MEMBER","body":"releasing now as 1.25.2 cc @prat0318 \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162386495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162425858","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162425858","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162425858,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjQyNTg1OA==","user":{"login":"ccl0326","id":904084,"node_id":"MDQ6VXNlcjkwNDA4NA==","avatar_url":"https://avatars.githubusercontent.com/u/904084?v=4","gravatar_id":"","url":"https://api.github.com/users/ccl0326","html_url":"https://github.com/ccl0326","followers_url":"https://api.github.com/users/ccl0326/followers","following_url":"https://api.github.com/users/ccl0326/following{/other_user}","gists_url":"https://api.github.com/users/ccl0326/gists{/gist_id}","starred_url":"https://api.github.com/users/ccl0326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccl0326/subscriptions","organizations_url":"https://api.github.com/users/ccl0326/orgs","repos_url":"https://api.github.com/users/ccl0326/repos","events_url":"https://api.github.com/users/ccl0326/events{/privacy}","received_events_url":"https://api.github.com/users/ccl0326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-07T06:45:20Z","updated_at":"2015-12-07T06:45:20Z","author_association":"NONE","body":"Can anyone have a look it?Any optimize solution?Thx.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162425858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162448980","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162448980","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162448980,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjQ0ODk4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-07T08:41:04Z","updated_at":"2015-12-07T08:41:04Z","author_association":"MEMBER","body":"@michaelsembwever @yurishkuro any thoughts?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162448980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162551003","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162551003","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162551003,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjU1MTAwMw==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-07T15:08:57Z","updated_at":"2015-12-07T15:08:57Z","author_association":"CONTRIBUTOR","body":"beats me. The primary key has both a timestamp and a trace ID\n\n```\nPRIMARY KEY ((service_name, span_name, bucket), duration, ts, trace_id)\n```\n\nSince we index each span individually, perhaps we can add a span ID as well? \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162551003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162715562","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162715562","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162715562,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjcxNTU2Mg==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T00:34:12Z","updated_at":"2015-12-08T00:34:49Z","author_association":"MEMBER","body":"(still not getting github notifications, quite frustrating)\n\n@yurishkuro (i do believe) you can avoid this problem by `startTs = max(startTs,  TimeUnit.MILLISECONDS.toMicros(System.currentTimeMillis()) - TimeUnit.SECONDS.toMicros(ttl));` in Repository.getTraceIdsByDuration(..)\n\nThat is you can avoid queries going into those buckets that we already know are only going to be filled with tombstones.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162715562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162715737","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-162715737","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":162715737,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjcxNTczNw==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T00:35:27Z","updated_at":"2015-12-08T00:35:27Z","author_association":"MEMBER","body":"Are you on top of this @yurishkuro ?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162715737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162739891","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-162739891","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":162739891,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjczOTg5MQ==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T02:34:36Z","updated_at":"2015-12-08T02:34:36Z","author_association":"CONTRIBUTOR","body":"no, sorry, I am not, unlikely to get to it in the next couple of weeks, have a marathon project at work. \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162739891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162741204","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162741204","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162741204,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc0MTIwNA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T02:45:15Z","updated_at":"2015-12-08T02:45:15Z","author_association":"CONTRIBUTOR","body":"@michaelsembwever not sure I follow. The table's TTL should simply expire the records after N days and drop them during compactions. But they shouldn't create tombstones any more than with any other table in zipkin schema. Where I do see tombstones being possible is if the spans are sub-millisecond, i.e. true microseconds timestamps are different, but they are reported from a millisecond-precision language like JS, thus producing non-unique PKs.\n\nIs there a way in C\\* to read tombstoned data and compare it with live keys, to understand what exactly is different between the two and what causes the PKs to be overwritten?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162741204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162744279","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162744279","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162744279,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc0NDI3OQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T02:55:42Z","updated_at":"2015-12-08T02:58:42Z","author_association":"MEMBER","body":"@yurishkuro  In this situation we're talking about expired cells, rather than tombstones from explicit deletes. But it's the same thing, and they exist up until the compaction hits them.\n\nSo in the situation where compactions have not yet run (or where compactions are constantly executing and the \"tombstone compaction\" never gets to execute) then these queries will try to read from buckets that are filled with expired cells, resulting in the error message reported above.\n\n> But they shouldn't create tombstones any more than with any other table in zipkin schema.\n\nCorrect. But the other tables don't have read patterns against them that will hit rows with so many tombstones. \n\nWe know that Cassandra won't return cells that are expired, ie older than the TTL, so why include them in the query? \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162744279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162748725","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162748725","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162748725,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc0ODcyNQ==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T03:31:19Z","updated_at":"2015-12-08T03:31:19Z","author_association":"CONTRIBUTOR","body":"> In this situation we're talking about expired cells, rather than tombstones from explicit deletes.\n\nNot sure how C\\* does this, does it treat cells past TTL as tombstones as well?\n\nWe already filter by startTs:\n\n```\n                            return StreamSupport\n                                    .stream(it.spliterator(), false)\n                                    .map(DurationRow::new)\n                                    .filter((row) -> row.timestamp >= startTs && row.timestamp <= endTs)\n                                    .limit(limit)\n                                    .collect(Collectors.toList());\n```\n\nHowever, I am not sure it helps in this case since the `ts` column comes after the `duration`.\n\nIt could also be that @liyichao has his installation misconfigured where the lookback period is longer than TTL.\n\nIf it's the case that we're running into expired records, maybe @liyichao needs to tweak the settings to make sure expiration compactions are done reliably? What's `gc_grace_seconds` set to?  We have it set to 0, since zipkin schema doesn't do any updates.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162748725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162751886","html_url":"https://github.com/openzipkin/zipkin/issues/832#issuecomment-162751886","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/832","id":162751886,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc1MTg4Ng==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T03:56:54Z","updated_at":"2015-12-08T03:56:54Z","author_association":"MEMBER","body":"closing issue. minimal required patch is provided in pull request.\nfurther work on avoiding hot partitions can be raised in a subsequent ticket.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162751886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162752616","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162752616","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162752616,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc1MjYxNg==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T04:01:55Z","updated_at":"2015-12-08T04:01:55Z","author_association":"MEMBER","body":"> Not sure how C\\* does this, does it treat cells past TTL as tombstones as well?\n\nShort answer is yes :-)\n\n> We already filter by startTs: â€¦\n\nThis is too late. We want to prevent asking for data that won't ever be returned but still will cause Cassandra to churn and throw the error. \n\n> If it's the case that we're running into expired records, maybe @liyichao needs to tweak the settings to make sure expiration compactions are done reliably?\n\nHaving a datamodel and read pattern that's going to have to read and filter out so many TTL'd values is a known anti-pattern in Cassandra. It really is upon us to fix that.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162752616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162762340","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162762340","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162762340,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc2MjM0MA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T04:55:44Z","updated_at":"2015-12-08T04:55:44Z","author_association":"CONTRIBUTOR","body":"We have a dual filter in this query, d1 <= duration <= d2 and t1 <= timestamp <= t2, something that Cassandra cannot handle without client-side joins. The partition key `(service_name, span_name, bucket)` includes the time bucket, which is a timestamp floored to a certain precision (1hr by default). If the installation is configured with TTL > default lookback, the query should never look at expired cells. The client-side filter on the timestamp is actually no-op in most cases, except for the edge buckets. Sure, we can put a `min(ttl, lookback)` when calculating the startTs, which of course only helps if your ttl in the query service matches the actual TTL in the DB.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162762340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162762711","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162762711","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162762711,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc2MjcxMQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T04:59:16Z","updated_at":"2015-12-08T04:59:16Z","author_association":"MEMBER","body":">  If the installation is configured with TTL > default lookback, the query should never look at expired cells.\n\nThis aspect is a little unknown to me. But i'll put forth a patch and see what you think.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162762711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162774817","html_url":"https://github.com/openzipkin/zipkin/pull/874#issuecomment-162774817","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/874","id":162774817,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc3NDgxNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T05:46:33Z","updated_at":"2015-12-08T05:46:33Z","author_association":"MEMBER","body":"agreed. zipkin v1 design uses span name similar to a dimensional modeling label. Its only intent is users to scroll through and should not be so big.\n\nAny future design could alter this, particularly if path-based things are implemented, but that's pie-in-the-cloud https://docs.google.com/document/d/1ixxEs9TvhiGjJObGbRSPhSna3zHdadoUTQIZ5JKgLzU/edit\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162774817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162775505","html_url":"https://github.com/openzipkin/zipkin/issues/706#issuecomment-162775505","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/706","id":162775505,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc3NTUwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T05:49:29Z","updated_at":"2015-12-08T05:49:29Z","author_association":"MEMBER","body":"most relevant travis issue: https://github.com/travis-ci/travis-ci/issues/3952\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162775505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162783009","html_url":"https://github.com/openzipkin/zipkin/issues/872#issuecomment-162783009","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/872","id":162783009,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc4MzAwOQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T06:19:23Z","updated_at":"2015-12-08T06:19:23Z","author_association":"MEMBER","body":"closing. see PR.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162783009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162784357","html_url":"https://github.com/openzipkin/zipkin/pull/875#issuecomment-162784357","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/875","id":162784357,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc4NDM1Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T06:21:36Z","updated_at":"2015-12-08T06:21:36Z","author_association":"MEMBER","body":"+1 looks sensible to me even if the context to know to do this required a bit of experience!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162784357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162801283","html_url":"https://github.com/openzipkin/zipkin/pull/876#issuecomment-162801283","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/876","id":162801283,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjgwMTI4Mw==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T07:35:26Z","updated_at":"2015-12-08T07:35:26Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162801283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162829891","html_url":"https://github.com/openzipkin/zipkin/issues/706#issuecomment-162829891","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/706","id":162829891,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjgyOTg5MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T09:34:44Z","updated_at":"2015-12-08T09:34:44Z","author_association":"MEMBER","body":"Here's the latest workaround:\n\n``` yaml\n# Trusty Beta requires sudo per https://docs.travis-ci.com/user/ci-environment/\nsudo: required\ndist: trusty\n\n# Manually install cassandra until https://github.com/travis-ci/travis-ci/issues/3952\nbefore_install:\n  - curl -SL http://downloads.datastax.com/community/dsc-cassandra-2.2.3-bin.tar.gz | tar xz\n  - dsc-cassandra-*/bin/cassandra > /dev/null\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162829891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162831855","html_url":"https://github.com/openzipkin/zipkin/pull/875#issuecomment-162831855","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/875","id":162831855,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjgzMTg1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T09:41:30Z","updated_at":"2015-12-08T09:41:30Z","author_association":"MEMBER","body":"build fixed via https://github.com/openzipkin/zipkin/pull/877\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162831855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162874525","html_url":"https://github.com/openzipkin/zipkin/pull/875#issuecomment-162874525","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/875","id":162874525,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjg3NDUyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T13:05:35Z","updated_at":"2015-12-08T13:05:35Z","author_association":"MEMBER","body":"whoah.. just learned something!\nso we have 2 travis checkers on the pull request\nthe one ending in \"pr\" uses the travis config from that pull request\nthe one ending in \"push\" uses the previous travis config\nso .. if you raise a pull request, which affects travis config, you might end up with a christmas status\nthe \"pr\" passes\", but the \"push\" fails\n\nMerging because this actually makes sense, even though it is surprising enough to warrant revisiting. cc @abesto \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162874525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162878380","html_url":"https://github.com/openzipkin/zipkin/pull/875#issuecomment-162878380","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/875","id":162878380,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjg3ODM4MA==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T13:22:47Z","updated_at":"2015-12-08T13:22:47Z","author_association":"MEMBER","body":"Huh. That... is not something that should happen. Opened https://github.com/openzipkin/zipkin/issues/878\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162878380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162893046","html_url":"https://github.com/openzipkin/zipkin/pull/879#issuecomment-162893046","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/879","id":162893046,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjg5MzA0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T14:16:34Z","updated_at":"2015-12-08T14:16:34Z","author_association":"MEMBER","body":"cc @michaelsembwever \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162893046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162923950","html_url":"https://github.com/openzipkin/zipkin/pull/875#issuecomment-162923950","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/875","id":162923950,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjkyMzk1MA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-08T15:50:21Z","updated_at":"2015-12-08T15:50:21Z","author_association":"CONTRIBUTOR","body":"lgtm, let's see if it makes a difference for @liyichao\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/162923950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163084029","html_url":"https://github.com/openzipkin/zipkin/pull/875#issuecomment-163084029","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/875","id":163084029,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzA4NDAyOQ==","user":{"login":"liyichao","id":2576762,"node_id":"MDQ6VXNlcjI1NzY3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2576762?v=4","gravatar_id":"","url":"https://api.github.com/users/liyichao","html_url":"https://github.com/liyichao","followers_url":"https://api.github.com/users/liyichao/followers","following_url":"https://api.github.com/users/liyichao/following{/other_user}","gists_url":"https://api.github.com/users/liyichao/gists{/gist_id}","starred_url":"https://api.github.com/users/liyichao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liyichao/subscriptions","organizations_url":"https://api.github.com/users/liyichao/orgs","repos_url":"https://api.github.com/users/liyichao/repos","events_url":"https://api.github.com/users/liyichao/events{/privacy}","received_events_url":"https://api.github.com/users/liyichao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-09T02:08:40Z","updated_at":"2015-12-09T02:09:12Z","author_association":"NONE","body":"Have this released to https://repo1.maven.org/maven2/io/zipkin/ ?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163084029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163084363","html_url":"https://github.com/openzipkin/zipkin/pull/875#issuecomment-163084363","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/875","id":163084363,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzA4NDM2Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-09T02:09:52Z","updated_at":"2015-12-09T02:09:52Z","author_association":"MEMBER","body":"yes 1.25.3\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163084363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163086772","html_url":"https://github.com/openzipkin/zipkin/issues/786#issuecomment-163086772","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/786","id":163086772,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzA4Njc3Mg==","user":{"login":"liyichao","id":2576762,"node_id":"MDQ6VXNlcjI1NzY3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2576762?v=4","gravatar_id":"","url":"https://api.github.com/users/liyichao","html_url":"https://github.com/liyichao","followers_url":"https://api.github.com/users/liyichao/followers","following_url":"https://api.github.com/users/liyichao/following{/other_user}","gists_url":"https://api.github.com/users/liyichao/gists{/gist_id}","starred_url":"https://api.github.com/users/liyichao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liyichao/subscriptions","organizations_url":"https://api.github.com/users/liyichao/orgs","repos_url":"https://api.github.com/users/liyichao/repos","events_url":"https://api.github.com/users/liyichao/events{/privacy}","received_events_url":"https://api.github.com/users/liyichao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-09T02:27:48Z","updated_at":"2015-12-09T02:27:48Z","author_association":"NONE","body":"Any update? another problem, why the graph initially collapsed ?  It makes me click the `expand all` all the time.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163086772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163088017","html_url":"https://github.com/openzipkin/zipkin/issues/786#issuecomment-163088017","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/786","id":163088017,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzA4ODAxNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-09T02:37:55Z","updated_at":"2015-12-09T02:37:55Z","author_association":"MEMBER","body":"@liyichao If you'd like to have a stab at resolving your issue, this is open source: we'd welcome the hand.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163088017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163121180","html_url":"https://github.com/openzipkin/zipkin/issues/880#issuecomment-163121180","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/880","id":163121180,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzEyMTE4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-09T06:10:32Z","updated_at":"2015-12-09T06:10:32Z","author_association":"MEMBER","body":"cc @kristofa @eirslett @clehene @jamescway \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163121180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163907267","html_url":"https://github.com/openzipkin/zipkin/issues/515#issuecomment-163907267","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/515","id":163907267,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzkwNzI2Nw==","user":{"login":"dsyer","id":124075,"node_id":"MDQ6VXNlcjEyNDA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/124075?v=4","gravatar_id":"","url":"https://api.github.com/users/dsyer","html_url":"https://github.com/dsyer","followers_url":"https://api.github.com/users/dsyer/followers","following_url":"https://api.github.com/users/dsyer/following{/other_user}","gists_url":"https://api.github.com/users/dsyer/gists{/gist_id}","starred_url":"https://api.github.com/users/dsyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsyer/subscriptions","organizations_url":"https://api.github.com/users/dsyer/orgs","repos_url":"https://api.github.com/users/dsyer/repos","events_url":"https://api.github.com/users/dsyer/events{/privacy}","received_events_url":"https://api.github.com/users/dsyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-11T10:49:29Z","updated_at":"2015-12-11T10:49:29Z","author_association":"CONTRIBUTOR","body":"There is an embedded redis (Java) library that works on non-windows platforms. We use it in Spring Boot and Spring Cloud to test redis components with no assumptions if the platform supports it.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163907267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163925441","html_url":"https://github.com/openzipkin/zipkin/issues/515#issuecomment-163925441","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/515","id":163925441,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzkyNTQ0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-11T12:20:01Z","updated_at":"2015-12-11T12:20:01Z","author_association":"MEMBER","body":"Either way, but still probably need to move this out. Redis is scarcely\nmaintained, not tested in docker etc, and the main repo is already barely\nkeeping up with bugs.\n\nUnless I hear from someone that they will champion Redis (by working on\nthis scala code and keeping it up), I'm going to create a repo and make it\nindependent. Since we can now publish gradle projects (as done in\nzipkin-dependencies-spark), I think this is the right call, particularly as\nit allows us to focus on most used, and most owned components.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/163925441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164381091","html_url":"https://github.com/openzipkin/zipkin/issues/792#issuecomment-164381091","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/792","id":164381091,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDM4MTA5MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-14T08:53:52Z","updated_at":"2015-12-14T08:53:52Z","author_association":"MEMBER","body":"as this topic isn't concise enough to know when it is complete, I took what I could and made https://github.com/openzipkin/zipkin-redis/issues/2 out of it.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164381091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164600136","html_url":"https://github.com/openzipkin/zipkin/issues/881#issuecomment-164600136","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/881","id":164600136,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDYwMDEzNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-15T00:07:31Z","updated_at":"2015-12-15T00:07:31Z","author_association":"MEMBER","body":"looks like you have no data! this is a bug in our code, though.\n\n\"WHERE trace_id IN ()\"\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164600136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164605575","html_url":"https://github.com/openzipkin/zipkin/pull/882#issuecomment-164605575","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/882","id":164605575,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDYwNTU3NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-15T00:43:49Z","updated_at":"2015-12-15T00:43:49Z","author_association":"MEMBER","body":"FYI: @gneokleo you are the only recent contributor to this code, besides maintenance I've done.\n\ncc @dsyer @MatMoore and @skstronghold who have attempted to use this.\ncc @abesto @eirslett who have recently commented about this\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164605575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164607313","html_url":"https://github.com/openzipkin/zipkin/issues/515#issuecomment-164607313","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/515","id":164607313,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDYwNzMxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-15T00:54:56Z","updated_at":"2015-12-15T00:54:56Z","author_association":"MEMBER","body":"@eirslett here's the change to move this out: https://github.com/openzipkin/zipkin/pull/882\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/164607313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165221001","html_url":"https://github.com/openzipkin/zipkin/pull/886#issuecomment-165221001","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/886","id":165221001,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTIyMTAwMQ==","user":{"login":"jamescway","id":473680,"node_id":"MDQ6VXNlcjQ3MzY4MA==","avatar_url":"https://avatars.githubusercontent.com/u/473680?v=4","gravatar_id":"","url":"https://api.github.com/users/jamescway","html_url":"https://github.com/jamescway","followers_url":"https://api.github.com/users/jamescway/followers","following_url":"https://api.github.com/users/jamescway/following{/other_user}","gists_url":"https://api.github.com/users/jamescway/gists{/gist_id}","starred_url":"https://api.github.com/users/jamescway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamescway/subscriptions","organizations_url":"https://api.github.com/users/jamescway/orgs","repos_url":"https://api.github.com/users/jamescway/repos","events_url":"https://api.github.com/users/jamescway/events{/privacy}","received_events_url":"https://api.github.com/users/jamescway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-16T19:27:59Z","updated_at":"2015-12-16T19:27:59Z","author_association":"CONTRIBUTOR","body":":+1: \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165221001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165312068","html_url":"https://github.com/openzipkin/zipkin/issues/885#issuecomment-165312068","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/885","id":165312068,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTMxMjA2OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-17T01:51:50Z","updated_at":"2015-12-17T01:51:50Z","author_association":"MEMBER","body":"I'm thinking add: `MYSQL_USE_SSL` as this is easy enough to make portable and is sensible as a top-level concern. This would add `useSSL=true` to the query line. sg?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165312068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165363995","html_url":"https://github.com/openzipkin/zipkin/issues/885#issuecomment-165363995","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/885","id":165363995,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTM2Mzk5NQ==","user":{"login":"sunil-kumar3","id":1566607,"node_id":"MDQ6VXNlcjE1NjY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1566607?v=4","gravatar_id":"","url":"https://api.github.com/users/sunil-kumar3","html_url":"https://github.com/sunil-kumar3","followers_url":"https://api.github.com/users/sunil-kumar3/followers","following_url":"https://api.github.com/users/sunil-kumar3/following{/other_user}","gists_url":"https://api.github.com/users/sunil-kumar3/gists{/gist_id}","starred_url":"https://api.github.com/users/sunil-kumar3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunil-kumar3/subscriptions","organizations_url":"https://api.github.com/users/sunil-kumar3/orgs","repos_url":"https://api.github.com/users/sunil-kumar3/repos","events_url":"https://api.github.com/users/sunil-kumar3/events{/privacy}","received_events_url":"https://api.github.com/users/sunil-kumar3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-17T07:06:49Z","updated_at":"2015-12-17T07:06:49Z","author_association":"NONE","body":"Yes, that will do it\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165363995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165458249","html_url":"https://github.com/openzipkin/zipkin/issues/885#issuecomment-165458249","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/885","id":165458249,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTQ1ODI0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-17T13:53:52Z","updated_at":"2015-12-17T13:53:52Z","author_association":"MEMBER","body":"started looking into this, but it seems awkward to test as most of the time you need to setup custom certs. Ex. if using RDS, you need to download a pem file, etc. \n\nhttp://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_MariaDB.html#MariaDB.Concepts.SSLSupport\n\nIn other words there's more config than just the flag I think, and if we don't test this, then... well feels debty. Any thoughts on how to \"finish the job\" ex. patterns to stuff certs on disk in docker + self-signing one for mariadb? Or should we just open the flag and leave it to manual testing?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165458249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165461369","html_url":"https://github.com/openzipkin/zipkin/issues/885#issuecomment-165461369","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/885","id":165461369,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTQ2MTM2OQ==","user":{"login":"sunil-kumar3","id":1566607,"node_id":"MDQ6VXNlcjE1NjY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1566607?v=4","gravatar_id":"","url":"https://api.github.com/users/sunil-kumar3","html_url":"https://github.com/sunil-kumar3","followers_url":"https://api.github.com/users/sunil-kumar3/followers","following_url":"https://api.github.com/users/sunil-kumar3/following{/other_user}","gists_url":"https://api.github.com/users/sunil-kumar3/gists{/gist_id}","starred_url":"https://api.github.com/users/sunil-kumar3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunil-kumar3/subscriptions","organizations_url":"https://api.github.com/users/sunil-kumar3/orgs","repos_url":"https://api.github.com/users/sunil-kumar3/repos","events_url":"https://api.github.com/users/sunil-kumar3/events{/privacy}","received_events_url":"https://api.github.com/users/sunil-kumar3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-17T14:09:03Z","updated_at":"2015-12-17T14:09:03Z","author_association":"NONE","body":"All parameters required for MySQL SSL can be passed as system properties to the JVM trying to use Mysql over SSL.\n\nWe can accept JAVA_OPTS for collector/query via environment variable, in which user can configure these parameters as:\n\n```\n-Djavax.net.ssl.keyStore=path_to_keystore_file\n-Djavax.net.ssl.keyStorePassword=password\n-Djavax.net.ssl.trustStore=path_to_truststore_file\n-Djavax.net.ssl.trustStorePassword=password\n```\n\nPath to keystores can be mounted as a volume in container.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165461369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165464927","html_url":"https://github.com/openzipkin/zipkin/issues/885#issuecomment-165464927","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/885","id":165464927,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTQ2NDkyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-17T14:26:41Z","updated_at":"2015-12-17T14:26:41Z","author_association":"MEMBER","body":"good point! I think this can work.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/165464927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166140886","html_url":"https://github.com/openzipkin/zipkin/pull/821#issuecomment-166140886","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/821","id":166140886,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjE0MDg4Ng==","user":{"login":"nishantshobhit","id":3062198,"node_id":"MDQ6VXNlcjMwNjIxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3062198?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantshobhit","html_url":"https://github.com/nishantshobhit","followers_url":"https://api.github.com/users/nishantshobhit/followers","following_url":"https://api.github.com/users/nishantshobhit/following{/other_user}","gists_url":"https://api.github.com/users/nishantshobhit/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantshobhit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantshobhit/subscriptions","organizations_url":"https://api.github.com/users/nishantshobhit/orgs","repos_url":"https://api.github.com/users/nishantshobhit/repos","events_url":"https://api.github.com/users/nishantshobhit/events{/privacy}","received_events_url":"https://api.github.com/users/nishantshobhit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-20T17:53:18Z","updated_at":"2015-12-20T17:53:18Z","author_association":"NONE","body":"brave user here: The trace_id generate for a span generated from the local tracer is different from other spans for the same trace. may be that's the problem here?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166140886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166165215","html_url":"https://github.com/openzipkin/zipkin/pull/821#issuecomment-166165215","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/821","id":166165215,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjE2NTIxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-20T23:36:57Z","updated_at":"2015-12-20T23:36:57Z","author_association":"MEMBER","body":"@nishantshobhit feel free to hop on openzipkin/zipkin even if the questions are about brave.\n\nI have a working example of local tracer in the zipkin-java project. However, there's some important details about the implementation of span storage in brave you need to keep in mind. Look here for details: https://github.com/openzipkin/brave/blob/master/brave-core/src/main/java/com/github/kristofa/brave/LocalSpanState.java#L9\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166165215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166180666","html_url":"https://github.com/openzipkin/zipkin/issues/885#issuecomment-166180666","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/885","id":166180666,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjE4MDY2Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-21T02:24:43Z","updated_at":"2015-12-21T02:24:43Z","author_association":"MEMBER","body":"update: I've found what's needed to accomplish this, using spring-boot example for now. I've verified you only need 3 things:\n- append `&useSSL=true` to the mysql url\n- set `javax.net.ssl.trustStore` and `javax.net.ssl.trustStorePassword` JVM arguments\n\nI used Amazon RDS and zipkin-java to verify. I'll raise a pull request both here and there to make this possible.\n\n``` bash\n# download the region-specific cert in PEM format, and install it (default is $HOME/.keystore)\n# http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html\n$ keytool -import -alias mysqlServerCACertOR  -trustcacerts -file ~/Downloads/rds-ca-2015-us-west-2.pem\n\n# Tell the JVM you trust the cert, by specifying your trustStore and password.\n$ STORAGE_TYPE=mysql MYSQL_HOST=zipkin.abcdefg.us-west-2.rds.amazonaws.com MYSQL_USER=zipkin MYSQL_PASS=notetelling ./mvnw -pl zipkin-java-server spring-boot:run -Drun.jvmArguments=\"-Djavax.net.ssl.trustStore=/Users/acole/.keystore -Djavax.net.ssl.trustStorePassword=FOOBAR\"\n\n# check to make sure you are actually able to get data\n$ curl http://localhost:9411/api/v1/services|jq .\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166180666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166472227","html_url":"https://github.com/openzipkin/zipkin/issues/846#issuecomment-166472227","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/846","id":166472227,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjQ3MjIyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-22T01:19:40Z","updated_at":"2015-12-22T01:19:40Z","author_association":"MEMBER","body":"Update: I've reviewed tools and will spike this with apiblueprint https://apiblueprint.org/\n\nThis seems to fit the task of api portability and align with the fact that we have active contributors on markdown, who regularly get scared off when asked to look at scala or thrift files :package: \n\nMoreover, apiblueprint has a tool called dredd which can be used to test fixtures. I'm wondering if this could be leveraged to help test tracers...\nhttps://github.com/apiaryio/dredd\n\n@netmilk might ask you to help review something once I try this out. Short of it is that zipkin has 2 api server implementations at the moment, scala and java. We have clients (tracers) in many languages including scala, java, ruby, c#, python and some lesser maintained ones like node. Documenting the api is the first win, but a second one would be to use travis to test it.\n\ncc'ing folks who've expressed interest in or contributed to our docs: @abesto @kjoconnor @jfeltesse-mdsol @clehene @zfy0701 @dsyer @jamescway \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166472227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166585575","html_url":"https://github.com/openzipkin/zipkin/issues/846#issuecomment-166585575","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/846","id":166585575,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU4NTU3NQ==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-22T11:16:08Z","updated_at":"2015-12-22T11:16:08Z","author_association":"MEMBER","body":"Sounds like a good direction to me. I'm planning to factor out a general python client from https://github.com/prezi/django-zipkin and create Flask bindings early next year with @deathowl; we can turn that into a test-drive for this.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166585575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166610974","html_url":"https://github.com/openzipkin/zipkin/issues/846#issuecomment-166610974","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/846","id":166610974,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjYxMDk3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-22T12:58:55Z","updated_at":"2015-12-22T12:58:55Z","author_association":"MEMBER","body":"here's a start, cherry-picking the easiest methods while I get used to things https://github.com/openzipkin/zipkin/pull/888\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166610974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166709388","html_url":"https://github.com/openzipkin/zipkin/issues/846#issuecomment-166709388","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/846","id":166709388,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjcwOTM4OA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-22T19:28:27Z","updated_at":"2015-12-22T19:28:27Z","author_association":"CONTRIBUTOR","body":"@abesto I just finished python instrumentation for urllib2, sqlalchemy, and tornado async client, if there's interest. We're planning to open source that soon, although I'd prefer to adjust the API to match opentracing.  django-zipkin seems to only have the middleware, not the client call site instrumentation?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/166709388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]