[{"url":"https://api.github.com/repos/apache/solr/issues/comments/1488737279","html_url":"https://github.com/apache/solr/pull/1496#issuecomment-1488737279","issue_url":"https://api.github.com/repos/apache/solr/issues/1496","id":1488737279,"node_id":"IC_kwDOFFj3yM5YvFP_","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T14:30:19Z","updated_at":"2023-03-29T14:30:19Z","author_association":"CONTRIBUTOR","body":"> @risdenk going to comment here on `TestRandomFlRTGCloud`.\r\n> \r\n> That test does some \"interesting\" things in randomizing things that is actually quite different then other tests (and indeed may have some things like it's use of various `FlValidator` classes that we may want to use elsewhere).. The part I struggled with is that it randomly picks between `wt` JavaBin, Json, and XML, so I created SolrClients using the builder for each one. Those can be pointed at specific nodes... I just tweaked the Javadocs a bit to try and better explain:\r\n> \r\n> ```\r\n>    * returns a random SolrClient -- either a CloudSolrClient, or an HttpSolrClient pointed at a node\r\n>    * in our cluster.  We have different CLIENTS based on their wt setting for each node.\r\n> ```\r\n> \r\n> Honestly, I do find it a bit convoluted.. The test passes, but I don't love it. If you have some ideas on how to make it less convoluted, I'd love that ;-)\r\n\r\nOkay, I've made some changes..  I'd love another review, and if you are good with it, then we are ready to merge to main!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1488737279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1488915814","html_url":"https://github.com/apache/solr/pull/1499#issuecomment-1488915814","issue_url":"https://api.github.com/repos/apache/solr/issues/1499","id":1488915814,"node_id":"IC_kwDOFFj3yM5Yvw1m","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T16:20:21Z","updated_at":"2023-03-29T16:20:21Z","author_association":"CONTRIBUTOR","body":"> > For simple URL -> SolrClient (no further customization), I admit the STCJ4 method was nice. Can we keep these and just focus here on anything else?\r\n> \r\n> Sure! Do you think we keep this name?\r\n> \r\n> ```\r\n> collection1 = getHttpSolrClient(url + \"/collection1\");\r\n> ```\r\n> \r\n> or maybe change it to\r\n> \r\n> ```\r\n> collection1 = getSolrClient(url + \"/collection1\");\r\n> ```\r\n> \r\n> ?\r\n> \r\n> I guess I am wondering if the `Http` part matters... Thinking that if Http matters, then you should use a Builder...\r\n\r\n@dsmiley checkout out 47d7190b71eb68b6857506053ce91e296d3b77d0 where I went ahead and kept the use of Http2SolrClient, but used the helper method on SolrTestCaseJ4.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1488915814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489017276","html_url":"https://github.com/apache/solr/pull/1336#issuecomment-1489017276","issue_url":"https://api.github.com/repos/apache/solr/issues/1336","id":1489017276,"node_id":"IC_kwDOFFj3yM5YwJm8","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T17:29:46Z","updated_at":"2023-03-29T17:29:46Z","author_association":"CONTRIBUTOR","body":"Too far down the rabbit hole....","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489017276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489040473","html_url":"https://github.com/apache/solr/pull/1105#issuecomment-1489040473","issue_url":"https://api.github.com/repos/apache/solr/issues/1105","id":1489040473,"node_id":"IC_kwDOFFj3yM5YwPRZ","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T17:46:01Z","updated_at":"2023-03-29T17:46:01Z","author_association":"CONTRIBUTOR","body":"@risdenk @tflobbe I was looking at the rather long list of PR's I seem to have open on Solr, and want to get them either committed or closed..    I'm up for merging this one unless either of you has a reason to not?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489040473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489101406","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1489101406","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1489101406,"node_id":"IC_kwDOFFj3yM5YweJe","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T18:29:39Z","updated_at":"2023-03-31T17:29:28Z","author_association":"MEMBER","body":"Some (possibly) related jira tickets:\r\n* this seems familiar [SOLR-8122](https://issues.apache.org/jira/browse/SOLR-8122) but it's pretty dated.\r\n* And also [SOLR-7609](https://issues.apache.org/jira/browse/SOLR-7609) mentioning same line, but failing to identify missing version field as the one causing the NPE.\r\n* Also adding [SOLR-5117](https://issues.apache.org/jira/browse/SOLR-5117) which was the same, but closed as 'cannot reproduce'.\r\n\r\n[edit] thank you @risdenk for the jira help! will be going with SOLR-7609 as the main ticket for this PR.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489101406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489132628","html_url":"https://github.com/apache/solr/pull/1499#issuecomment-1489132628","issue_url":"https://api.github.com/repos/apache/solr/issues/1499","id":1489132628,"node_id":"IC_kwDOFFj3yM5YwlxU","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T18:53:37Z","updated_at":"2023-03-29T18:53:37Z","author_association":"CONTRIBUTOR","body":"I suggest leaving `getHttpSolrClient` (its name & single arg) be for now.  Just to limit the scope here and it's unclear what may become of this with further test infra improvements.  It's extremely popular to call this.  The \"Http\" part makes sense -- it *is* HTTP based.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489132628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489156596","html_url":"https://github.com/apache/solr/pull/1496#issuecomment-1489156596","issue_url":"https://api.github.com/repos/apache/solr/issues/1496","id":1489156596,"node_id":"IC_kwDOFFj3yM5Ywrn0","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T19:09:08Z","updated_at":"2023-03-29T19:09:08Z","author_association":"CONTRIBUTOR","body":"@epugh I pushed 9d509044238297b0b2fe7bcb7aef946f3f3034f1 which simplifies things I think a lot to just compute a random client if it hasn't already been created yet. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489156596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489162364","html_url":"https://github.com/apache/solr/pull/1488#issuecomment-1489162364","issue_url":"https://api.github.com/repos/apache/solr/issues/1488","id":1489162364,"node_id":"IC_kwDOFFj3yM5YwtB8","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T19:13:52Z","updated_at":"2023-03-29T19:13:52Z","author_association":"CONTRIBUTOR","body":"Definitely a schema (thus configSet) thing and not a node thing. Ideally just about anything one could specify in a configSet could have some general means of configuring globally but (a) I wouldn't want each feature having to \"do something\" to enable that (no custom solr.xml handling), (b) it's semi-possible already albeit with sys-prop substitution, and (c) and really it's a bigger issue than this specific one.\r\n\r\nBTW I have thoughts on \"schema version\" https://issues.apache.org/jira/browse/SOLR-12420 but don't let that stop you if you prefer to add yet another schema version.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489162364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489198684","html_url":"https://github.com/apache/solr/pull/1499#issuecomment-1489198684","issue_url":"https://api.github.com/repos/apache/solr/issues/1499","id":1489198684,"node_id":"IC_kwDOFFj3yM5Yw15c","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T19:42:32Z","updated_at":"2023-03-29T19:42:32Z","author_association":"CONTRIBUTOR","body":"> I suggest leaving `getHttpSolrClient` (its name & single arg) be for now. Just to limit the scope here and it's unclear what may become of this with further test infra improvements. It's extremely popular to call this. The \"Http\" part makes sense -- it _is_ HTTP based.\r\n\r\nOkay, done...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489198684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489227999","html_url":"https://github.com/apache/solr/pull/1499#issuecomment-1489227999","issue_url":"https://api.github.com/repos/apache/solr/issues/1499","id":1489227999,"node_id":"IC_kwDOFFj3yM5Yw9Df","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T20:02:32Z","updated_at":"2023-03-29T20:02:32Z","author_association":"CONTRIBUTOR","body":"Okay, at this point, we have two CloudSolrClient related methods remaining...\r\n\r\n```\r\nCloudSolrClient getCloudSolrClient(String zkHost)  --> 5 usages in 3 files\r\nCloudSolrClient getCloudSolrClient(MiniSolrCloudCluster cluster) --> 11 usages in 8 files\r\n\r\n```\r\n\r\nI think then this is probably ready for final review and merging!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489227999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489275643","html_url":"https://github.com/apache/solr/pull/1502#issuecomment-1489275643","issue_url":"https://api.github.com/repos/apache/solr/issues/1502","id":1489275643,"node_id":"IC_kwDOFFj3yM5YxIr7","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T20:37:32Z","updated_at":"2023-03-29T20:37:32Z","author_association":"CONTRIBUTOR","body":"There's also `JAVA_TOOL_OPTIONS` which is treated the same way, so there may be one extra line above the version line. See https://stackoverflow.com/questions/28327620/difference-between-java-options-java-tool-options-and-java-opts","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489275643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489280511","html_url":"https://github.com/apache/solr/pull/1502#issuecomment-1489280511","issue_url":"https://api.github.com/repos/apache/solr/issues/1502","id":1489280511,"node_id":"IC_kwDOFFj3yM5YxJ3_","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T20:41:33Z","updated_at":"2023-03-29T20:41:33Z","author_association":"CONTRIBUTOR","body":"> This made me wonder if there's a way to get just the version number from `java` more cleanly, but I don't see anything in the man page :-(\r\n\r\nYea, that's crazy - imagine all the parsing of versions in all kind of scripts that could be avoided. But I think there's no such option.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489280511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489281287","html_url":"https://github.com/apache/solr/pull/1502#issuecomment-1489281287","issue_url":"https://api.github.com/repos/apache/solr/issues/1502","id":1489281287,"node_id":"IC_kwDOFFj3yM5YxKEH","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T20:42:10Z","updated_at":"2023-03-29T20:42:10Z","author_association":"CONTRIBUTOR","body":"> There's also `JAVA_TOOL_OPTIONS` which is treated the same way, so there may be one extra line above the version line. See https://stackoverflow.com/questions/28327620/difference-between-java-options-java-tool-options-and-java-opts\r\n\r\nChanged the grep to `grep -v '_OPTIONS'` to handle this case too","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489281287/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489340812","html_url":"https://github.com/apache/solr/pull/1499#issuecomment-1489340812","issue_url":"https://api.github.com/repos/apache/solr/issues/1499","id":1489340812,"node_id":"IC_kwDOFFj3yM5YxYmM","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T21:20:14Z","updated_at":"2023-03-29T21:20:14Z","author_association":"CONTRIBUTOR","body":"> CloudSolrClient getCloudSolrClient(String zkHost)  --> 5 usages in 3 files\r\n\r\nLet's lose it.  \r\n\r\n> CloudSolrClient getCloudSolrClient(MiniSolrCloudCluster cluster) --> 11 usages in 8 files\r\n\r\nBegs for an instance method on MiniSolrCloudCluster then :-).  Also, I'd much prefer \"new\" instead of \"get\" because it's a new object that must be closed by the caller.  \"get\" implies zero responsibility on the caller's part as to the lifecycle.  A best-practice, really.  Yes there are other \"get\" methods violating this best-practice but leave for another day IMO.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489340812/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489473521","html_url":"https://github.com/apache/solr/pull/1488#issuecomment-1489473521","issue_url":"https://api.github.com/repos/apache/solr/issues/1488","id":1489473521,"node_id":"IC_kwDOFFj3yM5Yx4_x","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T23:35:32Z","updated_at":"2023-03-29T23:35:32Z","author_association":"CONTRIBUTOR","body":"I too feel that this should not be a node level property . I agree with @dsmiley @justinrsweeney  \r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489473521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489687637","html_url":"https://github.com/apache/solr/pull/1360#issuecomment-1489687637","issue_url":"https://api.github.com/repos/apache/solr/issues/1360","id":1489687637,"node_id":"IC_kwDOFFj3yM5YytRV","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T04:49:43Z","updated_at":"2023-03-30T04:49:43Z","author_association":"CONTRIBUTOR","body":"Lets get this updated and merged; ehh?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489687637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489754905","html_url":"https://github.com/apache/solr/pull/1360#issuecomment-1489754905","issue_url":"https://api.github.com/repos/apache/solr/issues/1360","id":1489754905,"node_id":"IC_kwDOFFj3yM5Yy9sZ","user":{"login":"vinayakphegde","id":58620771,"node_id":"MDQ6VXNlcjU4NjIwNzcx","avatar_url":"https://avatars.githubusercontent.com/u/58620771?v=4","gravatar_id":"","url":"https://api.github.com/users/vinayakphegde","html_url":"https://github.com/vinayakphegde","followers_url":"https://api.github.com/users/vinayakphegde/followers","following_url":"https://api.github.com/users/vinayakphegde/following{/other_user}","gists_url":"https://api.github.com/users/vinayakphegde/gists{/gist_id}","starred_url":"https://api.github.com/users/vinayakphegde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinayakphegde/subscriptions","organizations_url":"https://api.github.com/users/vinayakphegde/orgs","repos_url":"https://api.github.com/users/vinayakphegde/repos","events_url":"https://api.github.com/users/vinayakphegde/events{/privacy}","received_events_url":"https://api.github.com/users/vinayakphegde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T06:15:32Z","updated_at":"2023-03-30T06:15:32Z","author_association":"CONTRIBUTOR","body":"> Lets get this updated and merged; ehh?\r\n\r\nSure, need anything from my side? I mean, at this moment?\r\nI think I addressed all the previous comments!!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489754905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489819681","html_url":"https://github.com/apache/solr/pull/1502#issuecomment-1489819681","issue_url":"https://api.github.com/repos/apache/solr/issues/1502","id":1489819681,"node_id":"IC_kwDOFFj3yM5YzNgh","user":{"login":"andywebb1975","id":8749798,"node_id":"MDQ6VXNlcjg3NDk3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/8749798?v=4","gravatar_id":"","url":"https://api.github.com/users/andywebb1975","html_url":"https://github.com/andywebb1975","followers_url":"https://api.github.com/users/andywebb1975/followers","following_url":"https://api.github.com/users/andywebb1975/following{/other_user}","gists_url":"https://api.github.com/users/andywebb1975/gists{/gist_id}","starred_url":"https://api.github.com/users/andywebb1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andywebb1975/subscriptions","organizations_url":"https://api.github.com/users/andywebb1975/orgs","repos_url":"https://api.github.com/users/andywebb1975/repos","events_url":"https://api.github.com/users/andywebb1975/events{/privacy}","received_events_url":"https://api.github.com/users/andywebb1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T07:22:32Z","updated_at":"2023-03-30T07:22:32Z","author_association":"CONTRIBUTOR","body":"Removing the `head -1` means multiple lines will pass through - so if `java -version` changed to something along these lines we'd get a multi-line value back:\r\n\r\n```\r\nopenjdk version \"1.8.0_362\"\r\nOpenJDK Runtime Environment (build 1.8.0_362-b09)\r\nOpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)\r\nSomeOS version \"1.42.5\"\r\n```\r\n\r\nKeeping the `head -1` (after the `grep`) would protect against this - so I think that's worth putting back in.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1489819681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490213738","html_url":"https://github.com/apache/solr/pull/1485#issuecomment-1490213738","issue_url":"https://api.github.com/repos/apache/solr/issues/1485","id":1490213738,"node_id":"IC_kwDOFFj3yM5Y0ttq","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T12:25:22Z","updated_at":"2023-03-30T12:25:22Z","author_association":"CONTRIBUTOR","body":"> hen please share in the JIRA issue as there's a conversation there already.\r\n\r\nI shall submit a PR for the JIRA","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490213738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490371981","html_url":"https://github.com/apache/solr/pull/1496#issuecomment-1490371981","issue_url":"https://api.github.com/repos/apache/solr/issues/1496","id":1490371981,"node_id":"IC_kwDOFFj3yM5Y1UWN","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T14:07:54Z","updated_at":"2023-03-30T14:07:54Z","author_association":"CONTRIBUTOR","body":"> @epugh I pushed [9d50904](https://github.com/apache/solr/commit/9d509044238297b0b2fe7bcb7aef946f3f3034f1) which simplifies things I think a lot to just compute a random client if it hasn't already been created yet.\r\n\r\nI learned about \"Pair\"!   This is great, thansk...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490371981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490387080","html_url":"https://github.com/apache/solr/pull/1499#issuecomment-1490387080","issue_url":"https://api.github.com/repos/apache/solr/issues/1499","id":1490387080,"node_id":"IC_kwDOFFj3yM5Y1YCI","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T14:16:11Z","updated_at":"2023-03-30T14:16:11Z","author_association":"CONTRIBUTOR","body":"Tests ran for me @dsmiley...   What do you think?  Is this ready for merging?  It's the last sub ticket under SOLR-8975!!!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490387080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490433684","html_url":"https://github.com/apache/solr/pull/1506#issuecomment-1490433684","issue_url":"https://api.github.com/repos/apache/solr/issues/1506","id":1490433684,"node_id":"IC_kwDOFFj3yM5Y1jaU","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T14:44:48Z","updated_at":"2023-03-30T14:44:48Z","author_association":"CONTRIBUTOR","body":"Why JDK19/20 over JDK 17?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490433684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490441853","html_url":"https://github.com/apache/solr/pull/1506#issuecomment-1490441853","issue_url":"https://api.github.com/repos/apache/solr/issues/1506","id":1490441853,"node_id":"IC_kwDOFFj3yM5Y1lZ9","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T14:49:33Z","updated_at":"2023-03-30T14:49:33Z","author_association":"CONTRIBUTOR","body":"Mostly just testing it out to see if it works. I know there are some float issues with JDK 19 and errorprone - https://issues.apache.org/jira/browse/SOLR-16431 you can see it in the test above:\r\n\r\n```\r\n> Task :solr:core:forbiddenApisMain\r\n/home/runner/work/solr/solr/solr/core/src/test/org/apache/solr/legacy/TestLegacyNumericUtils.java:269: warning: [FloatingPointLiteralPrecision] Floating point literal loses precision\r\n\r\n          -9.9999999E+14f,\r\n           ^\r\n    (see https://errorprone.info/bugpattern/FloatingPointLiteralPrecision)\r\n  Did you mean '-1.0E+15f,'?\r\n/home/runner/work/solr/solr/solr/core/src/test/org/apache/solr/legacy/TestLegacyNumericUtils.java:278: warning: [FloatingPointLiteralPrecision] Floating point literal loses precision\r\n          9.9999999E+14f,\r\n          ^\r\n    (see https://errorprone.info/bugpattern/FloatingPointLiteralPrecision)\r\n  Did you mean '1.0E+15f,'?\r\nerror: warnings found and -Werror specified\r\n```\r\n\r\nso not excluding JDK 17 by any means was just curious","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490441853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490748459","html_url":"https://github.com/apache/solr/pull/1509#issuecomment-1490748459","issue_url":"https://api.github.com/repos/apache/solr/issues/1509","id":1490748459,"node_id":"IC_kwDOFFj3yM5Y2wQr","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T18:34:03Z","updated_at":"2023-03-30T18:34:03Z","author_association":"CONTRIBUTOR","body":"This is NOT ready to merge yet, but tagging some folks to at least look and see if this is something that we want to pursue. I think eventually we will need to go in this direction, but I don't think it needs to happen in Solr 9.x","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490748459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490802621","html_url":"https://github.com/apache/solr/pull/1510#issuecomment-1490802621","issue_url":"https://api.github.com/repos/apache/solr/issues/1510","id":1490802621,"node_id":"IC_kwDOFFj3yM5Y29e9","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T19:15:08Z","updated_at":"2023-03-30T19:15:08Z","author_association":"CONTRIBUTOR","body":"@HoustonPutman just because you asked here is an example of going to minimum JDK 17 :D","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490802621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490918161","html_url":"https://github.com/apache/solr/pull/1510#issuecomment-1490918161","issue_url":"https://api.github.com/repos/apache/solr/issues/1510","id":1490918161,"node_id":"IC_kwDOFFj3yM5Y3ZsR","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T20:36:22Z","updated_at":"2023-03-30T20:36:22Z","author_association":"CONTRIBUTOR","body":"Looks like it work ðŸ™‚ ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1490918161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1491075979","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1491075979","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1491075979,"node_id":"IC_kwDOFFj3yM5Y4AOL","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T23:03:21Z","updated_at":"2023-03-30T23:36:19Z","author_association":"MEMBER","body":"minor update. it seems that the 'delete' flow has some version checks in place https://github.com/apache/solr/blob/288e5123dec8f604fe57a9cb13e9770001c0ed57/solr/core/src/java/org/apache/solr/update/processor/DistributedUpdateProcessor.java#L1079, while the add flow is allowing the no-version save. an equivalent check could be added around this line  https://github.com/apache/solr/blob/288e5123dec8f604fe57a9cb13e9770001c0ed57/solr/core/src/java/org/apache/solr/update/processor/DistributedUpdateProcessor.java#L454\r\nat this point `versionOnUpdate` is zero because I think the update is coming from the leader and the current shard split piece is still in a weird state.\r\n\r\n[edit] it actually seems that on the new shard split the state is ACTIVE but the isLeader is (still?) false, so the version attaching part is not exercised because this is considered a leader command. I'm wondering if this only needs a isLeader refresh...\r\n\r\nI actually caught this flow in one run (the line numbers might not match due to some local logs I added)\r\n```\r\n  2> 12044 ERROR (qtp2034856562-109) [n:127.0.0.1:65414_l_lbs%2Fix c:collection1 s:shard1_1 r:core_node12 x:collection1_shard1_1_replica_n10] o.a.s.h.RequestHandlerBase org.apache.solr.common.SolrException: missing _version_ on update from leader\r\n  2>           => org.apache.solr.common.SolrException: missing _version_ on update from leader\r\n  2>    at org.apache.solr.update.processor.DistributedUpdateProcessor.versionDelete(DistributedUpdateProcessor.java:1105)\r\n  2> org.apache.solr.common.SolrException: missing _version_ on update from leader\r\n  2>    at org.apache.solr.update.processor.DistributedUpdateProcessor.versionDelete(DistributedUpdateProcessor.java:1105) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.DistributedUpdateProcessor.doDeleteById(DistributedUpdateProcessor.java:867) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.DistributedZkUpdateProcessor.doDeleteById(DistributedZkUpdateProcessor.java:376) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.DistributedUpdateProcessor.processDelete(DistributedUpdateProcessor.java:853) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.DistributedZkUpdateProcessor.processDelete(DistributedZkUpdateProcessor.java:353) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.LogUpdateProcessorFactory$LogUpdateProcessor.processDelete(LogUpdateProcessorFactory.java:134) ~[main/:?]\r\n  2>    at org.apache.solr.handler.loader.JavabinLoader.delete(JavabinLoader.java:222) ~[main/:?]\r\n  2>    at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:140) ~[main/:?]\r\n  2>    at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:74) ~[main/:?]\r\n  2>    at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:101) ~[main/:?]\r\n  2>    at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:84) ~[main/:?]\r\n  2>    at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:224) [main/:?]\r\n  2>    at org.apache.solr.core.SolrCore.execute(SolrCore.java:2892) [main/:?]\r\n  2>    at org.apache.solr.servlet.HttpSolrCall.executeCoreRequest(HttpSolrCall.java:866) [main/:?]\r\n  2>    at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:562) [main/:?]\r\n  2>    at org.apache.solr.servlet.SolrDispatchFilter.dispatch(SolrDispatchFilter.java:252) [main/:?]\r\n  2>    at org.apache.solr.servlet.SolrDispatchFilter.lambda$doFilter$0(SolrDispatchFilter.java:220) [main/:?]\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1491075979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1491630140","html_url":"https://github.com/apache/solr/pull/1502#issuecomment-1491630140","issue_url":"https://api.github.com/repos/apache/solr/issues/1502","id":1491630140,"node_id":"IC_kwDOFFj3yM5Y6Hg8","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T09:33:00Z","updated_at":"2023-03-31T09:33:00Z","author_association":"CONTRIBUTOR","body":"Yep, with your example you'd get this output:\r\n```\r\n8\r\n42\r\n```\r\nAgree it won't hurt adding back the head","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1491630140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492285957","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1492285957","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1492285957,"node_id":"IC_kwDOFFj3yM5Y8noF","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T17:10:13Z","updated_at":"2023-04-11T22:01:14Z","author_association":"MEMBER","body":"There is another weird error I saw while leaving this to run overnight. there are possibly more races, I will focus my proposal to the most common one, the doc addition (will be posting an update shortly).\r\n\r\nEdited to say this is the most common exception I am seeing now wit the fix in place, so it might make sense to add it to the investigation items list\r\n```\r\nRequest says it is coming from parent shard leader but we are in active state\r\n```\r\n\r\nServer side exception\r\n\r\n```\r\n  2> 16589 ERROR (qtp1836663979-137) [n:127.0.0.1:63709_kaig%2Fbf c:collection1 s:shard1_0 r:core_node11 x:collection1_shard1_0_replica_n9] o.a.s.h.RequestHandlerBase Server exception\r\n  2>           => org.apache.solr.common.SolrException: Request says it is coming from parent shard leader but we are in active state\r\n  2>    at org.apache.solr.update.processor.DistributedZkUpdateProcessor.doDefensiveChecks(DistributedZkUpdateProcessor.java:1158)\r\n  2> org.apache.solr.common.SolrException: Request says it is coming from parent shard leader but we are in active state\r\n  2>    at org.apache.solr.update.processor.DistributedZkUpdateProcessor.doDefensiveChecks(DistributedZkUpdateProcessor.java:1158) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.DistributedZkUpdateProcessor.setupRequest(DistributedZkUpdateProcessor.java:775) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.DistributedZkUpdateProcessor.setupRequest(DistributedZkUpdateProcessor.java:690) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.DistributedZkUpdateProcessor.processAdd(DistributedZkUpdateProcessor.java:272) ~[main/:?]\r\n  2>    at org.apache.solr.update.processor.LogUpdateProcessorFactory$LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:111) ~[main/:?]\r\n  2>    at org.apache.solr.handler.loader.JavabinLoader$1.update(JavabinLoader.java:123) ~[main/:?]\r\n```\r\n\r\nTest side exception:\r\n\r\n```\r\n   >     java.lang.AssertionError: Errors present while concurrently adding and removing docs [Error from server at http://127.0.0.1:63709/kaig/bf/collection1_shard1_replica_n2: Async exception during distributed update: Error from server at http://127.0.0.1:63709/kaig/bf/collection1_shard1_0_replica_n9/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F127.0.0.1%3A63709%2Fkaig%2Fbf%2Fcollection1_shard1_replica_n2%2F&distrib.from.parent=shard1&wt=javabin&version=2: Request says it is coming from parent shard leader but we are in active state]\r\n   >         at __randomizedtesting.SeedInfo.seed([598DD246C8834C9F:D1D9ED9C667F2167]:0)\r\n   >         at org.junit.Assert.fail(Assert.java:89)\r\n   >         at org.junit.Assert.assertTrue(Assert.java:42)\r\n   >         at org.apache.solr.cloud.api.collections.ShardSplitTest.splitByUniqueKeyTest(ShardSplitTest.java:934)\r\n   >         at org.apache.solr.cloud.api.collections.ShardSplitTest.test(ShardSplitTest.java:110)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492285957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492398190","html_url":"https://github.com/apache/solr/pull/1511#issuecomment-1492398190","issue_url":"https://api.github.com/repos/apache/solr/issues/1511","id":1492398190,"node_id":"IC_kwDOFFj3yM5Y9DBu","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:08:46Z","updated_at":"2023-03-31T18:09:08Z","author_association":"CONTRIBUTOR","body":"According to RBAP api, the [getUserRoles()](https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/security/RuleBasedAuthorizationPluginBase.java#L371) call should not return null but empty set. So I think that can be fixed too, by making [this](https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/security/RuleBasedAuthorizationPlugin.java#L65) null-safe.\r\n\r\nAfter coding Kotlin for a few years I really miss its not-null-by-default!\r\n\r\nBasically, this looks like a decent solution.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492398190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492423646","html_url":"https://github.com/apache/solr/pull/1501#issuecomment-1492423646","issue_url":"https://api.github.com/repos/apache/solr/issues/1501","id":1492423646,"node_id":"IC_kwDOFFj3yM5Y9JPe","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:32:07Z","updated_at":"2023-03-31T18:32:07Z","author_association":"CONTRIBUTOR","body":"Why do we want to get rid of `IOUtils.toString()`","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492423646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492432576","html_url":"https://github.com/apache/solr/pull/1501#issuecomment-1492432576","issue_url":"https://api.github.com/repos/apache/solr/issues/1501","id":1492432576,"node_id":"IC_kwDOFFj3yM5Y9LbA","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:40:44Z","updated_at":"2023-03-31T18:40:44Z","author_association":"CONTRIBUTOR","body":"> Why do we want to get rid of `IOUtils.toString()`\r\n\r\nThis is a specific version of IOUtils.toString() specifically one that deals with Java Reader. Basically limits usage of commons-io. Guava and commons-io both had methods converting a Java Reader to a String so added a simple helper to StrUtils to do that conversion.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492432576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492441639","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1492441639","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1492441639,"node_id":"IC_kwDOFFj3yM5Y9Non","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:47:31Z","updated_at":"2023-03-31T18:51:41Z","author_association":"MEMBER","body":"I have pushed a tentative patch for review and more importantly for discussion.\r\n\r\nI have ran this test extensively (hundreds of beast jobs) and it looks like this is the way to go, all 'add' exceptions are gone once the `isLeader` flag is updated. BUT I am not completely convinced this is the correct patch. possibly something could be made better in the `DistributedZkUpdateProcessor` area instead (where a lot of leader calculations are being made but the result is not correct in this edge case).\r\nWhile I am still evaluating a patch for `DistributedZkUpdateProcessor`, I would love some feedback on the observations so far.\r\n\r\nMore on the `isLeader` update: I have decided to only do this in the case where it can be used to avoid throwing an exception. this was to add a best-effort way correct an inconsistent state before bailing out, possibly a cleaner fix would compute the 'isLeader' flag in a way that this approach is no longer needed.\r\n\r\nTogether with the patch I have added a check which will not allow additions with no version. this is now consistent with the delete flows. although I must admit I am confused by the fact that this check was missing on this execution path, while the delete path had this from at least 8 years ago.\r\n\r\nOther points\r\n - in the current test, there are a few operations (add and deletes) that run parallel to the split operation. these can fail and this is where the bug is. because the exceptions are not correctly accounted for, the NPE popped up at a weird place. I added tracking and assertions on this part too (except for deletes, see below)\r\n - deletes can also cause exceptions, I don't have a good handle on how to fix this, so I removed the strict error check. this can be added once the confidence level is higher and this flow is accounted for. until then I will focus on the addition parts.\r\n - DistributedZkUpdateProcessor will call setupRequest twice. this is probably a minor nuisance for some future improvement PR.\r\n - finding the code very hard to read I took the decision to remove one variable that is not really needed (the `updateCommand`), this change is purely cosmetic and I can revert it if it adds too much noise to the current patch.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492441639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492444801","html_url":"https://github.com/apache/solr/pull/1501#issuecomment-1492444801","issue_url":"https://api.github.com/repos/apache/solr/issues/1501","id":1492444801,"node_id":"IC_kwDOFFj3yM5Y9OaB","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:50:59Z","updated_at":"2023-03-31T18:50:59Z","author_association":"CONTRIBUTOR","body":"> so added a simple helper to StrUtils to do that conversion.\r\n\r\nAhh ok I get that, but why do all of the readers need to be wrapped by `BufferedReader` first?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492444801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492448537","html_url":"https://github.com/apache/solr/pull/1512#issuecomment-1492448537","issue_url":"https://api.github.com/repos/apache/solr/issues/1512","id":1492448537,"node_id":"IC_kwDOFFj3yM5Y9PUZ","user":{"login":"tflobbe","id":496684,"node_id":"MDQ6VXNlcjQ5NjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/496684?v=4","gravatar_id":"","url":"https://api.github.com/users/tflobbe","html_url":"https://github.com/tflobbe","followers_url":"https://api.github.com/users/tflobbe/followers","following_url":"https://api.github.com/users/tflobbe/following{/other_user}","gists_url":"https://api.github.com/users/tflobbe/gists{/gist_id}","starred_url":"https://api.github.com/users/tflobbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tflobbe/subscriptions","organizations_url":"https://api.github.com/users/tflobbe/orgs","repos_url":"https://api.github.com/users/tflobbe/repos","events_url":"https://api.github.com/users/tflobbe/events{/privacy}","received_events_url":"https://api.github.com/users/tflobbe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:54:43Z","updated_at":"2023-03-31T18:56:13Z","author_association":"MEMBER","body":"It used to work before [this change](https://github.com/apache/solr/pull/460/files#diff-83579b1681fbe3ea47f7340796963b034594921405afb41c62d9415f52f5adcfR360)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492448537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492460113","html_url":"https://github.com/apache/solr/pull/1501#issuecomment-1492460113","issue_url":"https://api.github.com/repos/apache/solr/issues/1501","id":1492460113,"node_id":"IC_kwDOFFj3yM5Y9SJR","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T19:05:04Z","updated_at":"2023-03-31T19:05:04Z","author_association":"CONTRIBUTOR","body":"> Ahh ok I get that, but why do all of the readers need to be wrapped by BufferedReader first?\r\n\r\nyea so they don't that is left over from a previous iteration where I was using BufferedReader.lines() I can fix that.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492460113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492480511","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1492480511","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1492480511,"node_id":"IC_kwDOFFj3yM5Y9XH_","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T19:19:38Z","updated_at":"2023-03-31T20:42:30Z","author_association":"MEMBER","body":"seeing some local failures due to the newly added 0 version check.\r\n\r\n```\r\norg.apache.solr.search.TestRecovery > testLogReplayWithReorderedDBQByAsterixAndChildDocs FAILED\r\n    java.lang.Exception: org.apache.solr.common.SolrException: missing _version_ on update from leader\r\n        at __randomizedtesting.SeedInfo.seed([FE85400FD82E3172:9A3E186DD2648A17]:0)\r\n        at org.apache.solr.search.TestRecovery.testLogReplayWithReorderedDBQWrapper(TestRecovery.java:616)\r\n        at org.apache.solr.search.TestRecovery.testLogReplayWithReorderedDBQByAsterixAndChildDocs(TestRecovery.java:430)\r\n```\r\n[edit] fixed the above by making the artificial version used in the `TestRecovery ` test start at 1 instead of 0, so it doesn't trip the check anymore","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492480511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492585215","html_url":"https://github.com/apache/solr/pull/1512#issuecomment-1492585215","issue_url":"https://api.github.com/repos/apache/solr/issues/1512","id":1492585215,"node_id":"IC_kwDOFFj3yM5Y9wr_","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T20:41:52Z","updated_at":"2023-03-31T20:41:52Z","author_association":"CONTRIBUTOR","body":"Ah, I see :) ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492585215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492586901","html_url":"https://github.com/apache/solr/pull/1107#issuecomment-1492586901","issue_url":"https://api.github.com/repos/apache/solr/issues/1107","id":1492586901,"node_id":"IC_kwDOFFj3yM5Y9xGV","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T20:44:07Z","updated_at":"2023-03-31T20:44:07Z","author_association":"CONTRIBUTOR","body":"@stillalex @risdenk I'm starting to look at various PR's that I've had open for a long time, and trying to get them merged or closed.   \r\nAre we still happy with this one?   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492586901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492589453","html_url":"https://github.com/apache/solr/pull/1107#issuecomment-1492589453","issue_url":"https://api.github.com/repos/apache/solr/issues/1107","id":1492589453,"node_id":"IC_kwDOFFj3yM5Y9xuN","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T20:46:49Z","updated_at":"2023-03-31T20:46:49Z","author_association":"CONTRIBUTOR","body":"@stillalex can you push up to this PR the changes you were thinking about?   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492589453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492592317","html_url":"https://github.com/apache/solr/pull/1254#issuecomment-1492592317","issue_url":"https://api.github.com/repos/apache/solr/issues/1254","id":1492592317,"node_id":"IC_kwDOFFj3yM5Y9ya9","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T20:50:18Z","updated_at":"2023-03-31T20:50:18Z","author_association":"CONTRIBUTOR","body":"I am going to close this PR...   It doesn't make sense to check it if we don't have a good way to convert everything over first.   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492592317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492824628","html_url":"https://github.com/apache/solr/pull/1479#issuecomment-1492824628","issue_url":"https://api.github.com/repos/apache/solr/issues/1479","id":1492824628,"node_id":"IC_kwDOFFj3yM5Y-rI0","user":{"login":"MarcusSorealheis","id":2353608,"node_id":"MDQ6VXNlcjIzNTM2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/2353608?v=4","gravatar_id":"","url":"https://api.github.com/users/MarcusSorealheis","html_url":"https://github.com/MarcusSorealheis","followers_url":"https://api.github.com/users/MarcusSorealheis/followers","following_url":"https://api.github.com/users/MarcusSorealheis/following{/other_user}","gists_url":"https://api.github.com/users/MarcusSorealheis/gists{/gist_id}","starred_url":"https://api.github.com/users/MarcusSorealheis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarcusSorealheis/subscriptions","organizations_url":"https://api.github.com/users/MarcusSorealheis/orgs","repos_url":"https://api.github.com/users/MarcusSorealheis/repos","events_url":"https://api.github.com/users/MarcusSorealheis/events{/privacy}","received_events_url":"https://api.github.com/users/MarcusSorealheis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T04:11:57Z","updated_at":"2023-04-01T04:11:57Z","author_association":"CONTRIBUTOR","body":"As is the nature of these things, I need to blow away a lot of the work to take a different approach. As I mentioned before, it had been a while since I dusted off my JS chops. Looks like Create React Aoo has died after many years being the scaffolding leader. I'm going to take a new approach and I'm sure developers will be enthusiastic to work with the new framework and approach I will push up in a bit.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492824628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492972186","html_url":"https://github.com/apache/solr/pull/1513#issuecomment-1492972186","issue_url":"https://api.github.com/repos/apache/solr/issues/1513","id":1492972186,"node_id":"IC_kwDOFFj3yM5Y_PKa","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T13:35:27Z","updated_at":"2023-04-01T14:06:58Z","author_association":"CONTRIBUTOR","body":"There are a bunch of outstanding no error message logs as well:\r\n\r\n```\r\n# git grep -F 'log.error(\"\"'\r\nsolr/core/src/java/org/apache/solr/cloud/Overseer.java:          log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/OverseerTaskProcessor.java:        log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/RecoveryStrategy.java:        log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/ZkController.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/ZkController.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/ZkController.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/ZkController.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/ZkController.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/ZkController.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/cloud/ZkController.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/core/ZkContainer.java:        log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/core/ZkContainer.java:        log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/core/ZkContainer.java:              log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/core/ZkContainer.java:              log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/core/ZkContainer.java:                log.error(\"\", e1);\r\nsolr/core/src/java/org/apache/solr/core/ZkContainer.java:                log.error(\"\", e1);\r\nsolr/core/src/java/org/apache/solr/core/ZkContainer.java:              log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/filestore/DistribPackageStore.java:      log.error(\"\", e);\r\nsolr/core/src/java/org/apache/solr/schema/ZkIndexSchemaReader.java:        log.error(\"\", e);\r\nsolr/core/src/test/org/apache/solr/cloud/TestStressInPlaceUpdates.java:                log.error(\"\", e);\r\nsolr/core/src/test/org/apache/solr/cloud/TestStressInPlaceUpdates.java:                log.error(\"\", e);\r\nsolr/core/src/test/org/apache/solr/search/TestReloadDeadlock.java:                log.error(\"\", e);\r\nsolr/core/src/test/org/apache/solr/search/TestStressReorder.java:                log.error(\"\", e);\r\nsolr/core/src/test/org/apache/solr/search/TestStressReorder.java:                log.error(\"\", e);\r\nsolr/core/src/test/org/apache/solr/search/TestStressUserVersions.java:                log.error(\"\", e);\r\nsolr/core/src/test/org/apache/solr/search/TestStressUserVersions.java:                log.error(\"\", e);\r\nsolr/solrj-zookeeper/src/java/org/apache/solr/common/cloud/ConnectionManager.java:                    log.error(\"\", e);\r\nsolr/solrj-zookeeper/src/java/org/apache/solr/common/cloud/SolrZkClient.java:        log.error(\"\", e);\r\nsolr/solrj/src/java/org/apache/solr/client/solrj/impl/HttpClientUtil.java:                log.error(\"\", e);\r\nsolr/solrj/src/java/org/apache/solr/common/util/ObjectReleaseTracker.java:          log.error(\"\", t);\r\nsolr/solrj/src/java/org/apache/solr/common/util/ObjectReleaseTracker.java:          log.error(\"\", t);\r\n```\r\n\r\nI also like @dsmiley don't understand why. I tried to change the SolrException.log(\"\") to have some meaningful error message associated with it.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1492972186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493036839","html_url":"https://github.com/apache/solr/pull/1519#issuecomment-1493036839","issue_url":"https://api.github.com/repos/apache/solr/issues/1519","id":1493036839,"node_id":"IC_kwDOFFj3yM5Y_e8n","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T16:19:28Z","updated_at":"2023-04-01T16:19:28Z","author_association":"COLLABORATOR","body":"### Renovate Ignore Notification\n\nAs this PR has been closed unmerged, Renovate will now ignore this update (1.14.2). You will still receive a PR once a newer version is released, so if you wish to permanently ignore this dependency, please add it to the `ignoreDeps` array of your renovate config.\n\nIf this PR was closed by mistake or you changed your mind, you can simply rename this PR and you will soon get a fresh replacement PR opened.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493036839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493135072","html_url":"https://github.com/apache/solr/pull/1450#issuecomment-1493135072","issue_url":"https://api.github.com/repos/apache/solr/issues/1450","id":1493135072,"node_id":"IC_kwDOFFj3yM5Y_27g","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T21:53:33Z","updated_at":"2023-04-01T21:53:33Z","author_association":"CONTRIBUTOR","body":"I plan to merge end of Monday or so.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493135072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493140985","html_url":"https://github.com/apache/solr/pull/1522#issuecomment-1493140985","issue_url":"https://api.github.com/repos/apache/solr/issues/1522","id":1493140985,"node_id":"IC_kwDOFFj3yM5Y_4X5","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T22:15:56Z","updated_at":"2023-04-01T22:15:56Z","author_association":"COLLABORATOR","body":"### Edited/Blocked Notification\n\nRenovate will not automatically rebase this PR, because it does not recognize the last commit author and assumes somebody else may have edited the PR.\n\nYou can manually request rebase by checking the rebase/retry box above.\n\n âš  **Warning**: custom changes will be lost.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493140985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493173156","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1493173156","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1493173156,"node_id":"IC_kwDOFFj3yM5ZAAOk","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T23:45:53Z","updated_at":"2023-04-01T23:55:44Z","author_association":"MEMBER","body":"updated the patch with a better fix. I'm now using the `isSubShardLeader` flag which seems to have been introduced for the split shard scenario (not sure). will be running some more tests to determine what other errors I am seeing.\r\n\r\nre. deletes. I have tried to enable the delete flow as well but was not successful. I left a few TODOs in the code where this is needed. in short: currently the concurrent deletes will be rejected (which is not ideal), this change could make the check less strict by looking at the `isSubShardLeader` (basically using the same code for all flows). trying this approach makes the test fail (from time to time) because there is a delete that is reported successful, but not applied, so the integrity check at the end fails because there are too many documents found.\r\nThe tradeoff is: leave the deletes code 'as-is' and the exceptions untracked vs. update the deletes code, enable all assertions and possibly have this test be flaky (which is today's state, but I can't tell if this would be more flaky or less flaky).\r\n\r\nI think I would prefer to stabilize the 'add doc' flow and then open another PR for the deletes investigation.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493173156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493249446","html_url":"https://github.com/apache/solr/pull/1360#issuecomment-1493249446","issue_url":"https://api.github.com/repos/apache/solr/issues/1360","id":1493249446,"node_id":"IC_kwDOFFj3yM5ZAS2m","user":{"login":"vinayakphegde","id":58620771,"node_id":"MDQ6VXNlcjU4NjIwNzcx","avatar_url":"https://avatars.githubusercontent.com/u/58620771?v=4","gravatar_id":"","url":"https://api.github.com/users/vinayakphegde","html_url":"https://github.com/vinayakphegde","followers_url":"https://api.github.com/users/vinayakphegde/followers","following_url":"https://api.github.com/users/vinayakphegde/following{/other_user}","gists_url":"https://api.github.com/users/vinayakphegde/gists{/gist_id}","starred_url":"https://api.github.com/users/vinayakphegde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinayakphegde/subscriptions","organizations_url":"https://api.github.com/users/vinayakphegde/orgs","repos_url":"https://api.github.com/users/vinayakphegde/repos","events_url":"https://api.github.com/users/vinayakphegde/events{/privacy}","received_events_url":"https://api.github.com/users/vinayakphegde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T07:00:44Z","updated_at":"2023-04-02T07:20:05Z","author_association":"CONTRIBUTOR","body":"> You forgot [Uwe's comment](https://issues.apache.org/jira/browse/SOLR-16642?focusedCommentId=17683095&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17683095) out reverting the `--enable-preview`. I'll do this now.\r\n> \r\n> I'll also throw UOE as I suggested in this review.\r\n\r\nthanks @dsmiley for working on @uschindler comment\r\n \r\n> Can you comment on why org.apache.solr.update.processor.UpdateRequestProcessor#extractTypedNamedEntities needed to be updated? Did the API change and you just updated it to comply with the change? It's not apparently purely looking at the PR.\r\n> \r\n> I'll add a CHANGES.txt as well and probably merge Monday.\r\n\r\nDo you mean in `org.apache.solr.update.processor.OpenNLPExtractNamedEntitiesUpdateProcessorFactory#extractTypedNamedEntities()`?\r\nYes, API changed, I just updated it to comply with the change.\r\n\r\nIt was because of this Lucene change: https://github.com/apache/lucene/commit/3a04aa44c22aad7c63f806b436a79515285c6ea9\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493249446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493370781","html_url":"https://github.com/apache/solr/pull/1516#issuecomment-1493370781","issue_url":"https://api.github.com/repos/apache/solr/issues/1516","id":1493370781,"node_id":"IC_kwDOFFj3yM5ZAwed","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T15:20:30Z","updated_at":"2023-04-02T15:20:30Z","author_association":"CONTRIBUTOR","body":"Going to handle with https://github.com/apache/solr/pull/1517","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493370781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493370804","html_url":"https://github.com/apache/solr/pull/1524#issuecomment-1493370804","issue_url":"https://api.github.com/repos/apache/solr/issues/1524","id":1493370804,"node_id":"IC_kwDOFFj3yM5ZAwe0","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T15:20:36Z","updated_at":"2023-04-02T15:20:36Z","author_association":"CONTRIBUTOR","body":"Going to handle with https://github.com/apache/solr/pull/1517","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493370804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493370861","html_url":"https://github.com/apache/solr/pull/1517#issuecomment-1493370861","issue_url":"https://api.github.com/repos/apache/solr/issues/1517","id":1493370861,"node_id":"IC_kwDOFFj3yM5ZAwft","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T15:20:53Z","updated_at":"2023-04-02T15:20:53Z","author_association":"CONTRIBUTOR","body":"Going to handle spring and springboot here as well since they are all related to this.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493370861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493376344","html_url":"https://github.com/apache/solr/pull/1534#issuecomment-1493376344","issue_url":"https://api.github.com/repos/apache/solr/issues/1534","id":1493376344,"node_id":"IC_kwDOFFj3yM5ZAx1Y","user":{"login":"chandanpc","id":94785991,"node_id":"U_kgDOBaZRxw","avatar_url":"https://avatars.githubusercontent.com/u/94785991?v=4","gravatar_id":"","url":"https://api.github.com/users/chandanpc","html_url":"https://github.com/chandanpc","followers_url":"https://api.github.com/users/chandanpc/followers","following_url":"https://api.github.com/users/chandanpc/following{/other_user}","gists_url":"https://api.github.com/users/chandanpc/gists{/gist_id}","starred_url":"https://api.github.com/users/chandanpc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chandanpc/subscriptions","organizations_url":"https://api.github.com/users/chandanpc/orgs","repos_url":"https://api.github.com/users/chandanpc/repos","events_url":"https://api.github.com/users/chandanpc/events{/privacy}","received_events_url":"https://api.github.com/users/chandanpc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T15:46:51Z","updated_at":"2023-04-02T15:46:51Z","author_association":"NONE","body":"This is a fix for issue 1527","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493376344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493383687","html_url":"https://github.com/apache/solr/pull/1516#issuecomment-1493383687","issue_url":"https://api.github.com/repos/apache/solr/issues/1516","id":1493383687,"node_id":"IC_kwDOFFj3yM5ZAzoH","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T16:21:23Z","updated_at":"2023-04-02T16:21:23Z","author_association":"COLLABORATOR","body":"### Renovate Ignore Notification\n\nAs this PR has been closed unmerged, Renovate will now ignore this update (5.3.26). You will still receive a PR once a newer version is released, so if you wish to permanently ignore this dependency, please add it to the `ignoreDeps` array of your renovate config.\n\nIf this PR was closed by mistake or you changed your mind, you can simply rename this PR and you will soon get a fresh replacement PR opened.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493383687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493383694","html_url":"https://github.com/apache/solr/pull/1517#issuecomment-1493383694","issue_url":"https://api.github.com/repos/apache/solr/issues/1517","id":1493383694,"node_id":"IC_kwDOFFj3yM5ZAzoO","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T16:21:25Z","updated_at":"2023-04-02T16:21:25Z","author_association":"COLLABORATOR","body":"### Edited/Blocked Notification\n\nRenovate will not automatically rebase this PR, because it does not recognize the last commit author and assumes somebody else may have edited the PR.\n\nYou can manually request rebase by checking the rebase/retry box above.\n\n âš  **Warning**: custom changes will be lost.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493383694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493384471","html_url":"https://github.com/apache/solr/pull/1524#issuecomment-1493384471","issue_url":"https://api.github.com/repos/apache/solr/issues/1524","id":1493384471,"node_id":"IC_kwDOFFj3yM5ZAz0X","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T16:25:20Z","updated_at":"2023-04-02T16:25:20Z","author_association":"COLLABORATOR","body":"### Renovate Ignore Notification\n\nAs this PR has been closed unmerged, Renovate will now ignore this update (2.7.10). You will still receive a PR once a newer version is released, so if you wish to permanently ignore this dependency, please add it to the `ignoreDeps` array of your renovate config.\n\nIf this PR was closed by mistake or you changed your mind, you can simply rename this PR and you will soon get a fresh replacement PR opened.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493384471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493929189","html_url":"https://github.com/apache/solr/pull/1321#issuecomment-1493929189","issue_url":"https://api.github.com/repos/apache/solr/issues/1321","id":1493929189,"node_id":"IC_kwDOFFj3yM5ZC4zl","user":{"login":"colvinco","id":51863265,"node_id":"MDQ6VXNlcjUxODYzMjY1","avatar_url":"https://avatars.githubusercontent.com/u/51863265?v=4","gravatar_id":"","url":"https://api.github.com/users/colvinco","html_url":"https://github.com/colvinco","followers_url":"https://api.github.com/users/colvinco/followers","following_url":"https://api.github.com/users/colvinco/following{/other_user}","gists_url":"https://api.github.com/users/colvinco/gists{/gist_id}","starred_url":"https://api.github.com/users/colvinco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colvinco/subscriptions","organizations_url":"https://api.github.com/users/colvinco/orgs","repos_url":"https://api.github.com/users/colvinco/repos","events_url":"https://api.github.com/users/colvinco/events{/privacy}","received_events_url":"https://api.github.com/users/colvinco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T08:52:21Z","updated_at":"2023-04-03T08:52:21Z","author_association":"CONTRIBUTOR","body":"Where do you think this would fit best into the Reference Guide? I've not seen an obvious section to add it to, it doesn't feel big enough to get its own page, and I don't think there's a page that just lists out supported system properties / solr.in.sh options.\r\n\r\nIt could maybe slot in somewhere around here https://solr.apache.org/guide/solr/9_2/deployment-guide/taking-solr-to-production.html#zookeeper-chroot), or in https://solr.apache.org/guide/solr/9_2/deployment-guide/solrcloud-shards-indexing.html / https://solr.apache.org/guide/solr/9_2/deployment-guide/solrcloud-recoveries-and-write-tolerance.html\r\n\r\nIs there somewhere better you have in mind?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493929189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493981843","html_url":"https://github.com/apache/solr/pull/1321#issuecomment-1493981843","issue_url":"https://api.github.com/repos/apache/solr/issues/1321","id":1493981843,"node_id":"IC_kwDOFFj3yM5ZDFqT","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T09:25:25Z","updated_at":"2023-04-03T09:25:25Z","author_association":"CONTRIBUTOR","body":"Yea, good question.\r\n\r\nIf we decide to change the default to not delete (which I perhaps think we should), you'd for sure also add an entry to Major Changes in 9.3.\r\n\r\nThe feature is also self documenting in solr.in.sh of course, but a short mention in taking-solr-to-production would not hurt.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1493981843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494008705","html_url":"https://github.com/apache/solr/pull/1359#issuecomment-1494008705","issue_url":"https://api.github.com/repos/apache/solr/issues/1359","id":1494008705,"node_id":"IC_kwDOFFj3yM5ZDMOB","user":{"login":"ozlerhakan","id":1964927,"node_id":"MDQ6VXNlcjE5NjQ5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1964927?v=4","gravatar_id":"","url":"https://api.github.com/users/ozlerhakan","html_url":"https://github.com/ozlerhakan","followers_url":"https://api.github.com/users/ozlerhakan/followers","following_url":"https://api.github.com/users/ozlerhakan/following{/other_user}","gists_url":"https://api.github.com/users/ozlerhakan/gists{/gist_id}","starred_url":"https://api.github.com/users/ozlerhakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ozlerhakan/subscriptions","organizations_url":"https://api.github.com/users/ozlerhakan/orgs","repos_url":"https://api.github.com/users/ozlerhakan/repos","events_url":"https://api.github.com/users/ozlerhakan/events{/privacy}","received_events_url":"https://api.github.com/users/ozlerhakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T09:44:19Z","updated_at":"2023-04-03T09:46:42Z","author_association":"NONE","body":"Hi @janhoy, @epugh, and @risdenk , \r\n\r\nAfter we have upgraded our solr cloud to solr 9.2 cloud, which runs on k8s using the solr operator, this changes brings an exception as we follow this security.json mentioned at https://apache.github.io/solr-operator/docs/solr-cloud/solr-cloud-crd.html#authorization. The exception is \"Cannot invoke \"java.util.Set.stream()\" because \"roles\" is null\" :\r\n```\r\njava.lang.NullPointerException: Cannot invoke \"java.util.Set.stream()\" because \"roles\" is null\r\n\tat org.apache.solr.handler.admin.SystemInfoHandler.getSecurityInfo(SystemInfoHandler.java:347)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494008705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494356950","html_url":"https://github.com/apache/solr/pull/1359#issuecomment-1494356950","issue_url":"https://api.github.com/repos/apache/solr/issues/1359","id":1494356950,"node_id":"IC_kwDOFFj3yM5ZEhPW","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T13:48:44Z","updated_at":"2023-04-03T13:48:44Z","author_association":"CONTRIBUTOR","body":"See https://issues.apache.org/jira/browse/SOLR-16730","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494356950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494471486","html_url":"https://github.com/apache/solr/pull/1360#issuecomment-1494471486","issue_url":"https://api.github.com/repos/apache/solr/issues/1360","id":1494471486,"node_id":"IC_kwDOFFj3yM5ZE9M-","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T14:50:44Z","updated_at":"2023-04-03T14:50:44Z","author_association":"CONTRIBUTOR","body":"Thanks for the work all of y'all have put in here!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494471486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494472640","html_url":"https://github.com/apache/solr/pull/1517#issuecomment-1494472640","issue_url":"https://api.github.com/repos/apache/solr/issues/1517","id":1494472640,"node_id":"IC_kwDOFFj3yM5ZE9fA","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T14:51:24Z","updated_at":"2023-04-03T14:51:24Z","author_association":"CONTRIBUTOR","body":"I ran these tests locally and somehow missed this exception:\r\n\r\n```\r\n                    Caused by:\r\n                    com.fasterxml.jackson.databind.JsonMappingException: access denied (\"java.lang.RuntimePermission\" \"accessClassInPackage.sun.nio.fs\") (through reference chain: com.adobe.testing.s3mock.store.BucketMetadata[\"path\"])\r\n```\r\n\r\nI reverted it from main. new PR https://github.com/apache/solr/pull/1535","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494472640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494473979","html_url":"https://github.com/apache/solr/pull/1515#issuecomment-1494473979","issue_url":"https://api.github.com/repos/apache/solr/issues/1515","id":1494473979,"node_id":"IC_kwDOFFj3yM5ZE9z7","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T14:52:13Z","updated_at":"2023-04-03T14:52:13Z","author_association":"CONTRIBUTOR","body":"We can't they release a 3.4.0 ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494473979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494475882","html_url":"https://github.com/apache/solr/pull/1515#issuecomment-1494475882","issue_url":"https://api.github.com/repos/apache/solr/issues/1515","id":1494475882,"node_id":"IC_kwDOFFj3yM5ZE-Rq","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T14:53:26Z","updated_at":"2023-04-03T14:53:26Z","author_association":"CONTRIBUTOR","body":"yup idk :/","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494475882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494499904","html_url":"https://github.com/apache/solr/pull/1535#issuecomment-1494499904","issue_url":"https://api.github.com/repos/apache/solr/issues/1535","id":1494499904,"node_id":"IC_kwDOFFj3yM5ZFEJA","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T15:06:10Z","updated_at":"2023-04-03T15:06:10Z","author_association":"CONTRIBUTOR","body":"ðŸ˜® yeah for this and Jetty 11, it would be great to move away from the Spring requirement of the adobe s3-mock.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494499904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494527600","html_url":"https://github.com/apache/solr/pull/1535#issuecomment-1494527600","issue_url":"https://api.github.com/repos/apache/solr/issues/1535","id":1494527600,"node_id":"IC_kwDOFFj3yM5ZFK5w","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T15:22:00Z","updated_at":"2023-04-03T15:22:00Z","author_association":"CONTRIBUTOR","body":"@HoustonPutman can you take a look at 468310c4a856b2264e322f4b859d9599c372c406 - it does fix the tests, but I just feel weird adding/removing `/` from directories. I think there were other changes around this in the past?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494527600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494538121","html_url":"https://github.com/apache/solr/pull/1449#issuecomment-1494538121","issue_url":"https://api.github.com/repos/apache/solr/issues/1449","id":1494538121,"node_id":"IC_kwDOFFj3yM5ZFNeJ","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T15:28:57Z","updated_at":"2023-04-03T15:28:57Z","author_association":"CONTRIBUTOR","body":"Hi @sayandigital - sorry for the delay, this got buried in my Inbox for awhile.  But thanks for picking this up; will aim to review shortly!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494538121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494558122","html_url":"https://github.com/apache/solr/pull/1449#issuecomment-1494558122","issue_url":"https://api.github.com/repos/apache/solr/issues/1449","id":1494558122,"node_id":"IC_kwDOFFj3yM5ZFSWq","user":{"login":"sayandigital","id":24439178,"node_id":"MDQ6VXNlcjI0NDM5MTc4","avatar_url":"https://avatars.githubusercontent.com/u/24439178?v=4","gravatar_id":"","url":"https://api.github.com/users/sayandigital","html_url":"https://github.com/sayandigital","followers_url":"https://api.github.com/users/sayandigital/followers","following_url":"https://api.github.com/users/sayandigital/following{/other_user}","gists_url":"https://api.github.com/users/sayandigital/gists{/gist_id}","starred_url":"https://api.github.com/users/sayandigital/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sayandigital/subscriptions","organizations_url":"https://api.github.com/users/sayandigital/orgs","repos_url":"https://api.github.com/users/sayandigital/repos","events_url":"https://api.github.com/users/sayandigital/events{/privacy}","received_events_url":"https://api.github.com/users/sayandigital/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T15:42:35Z","updated_at":"2023-04-03T15:42:35Z","author_association":"CONTRIBUTOR","body":"> Hi @sayandigital - sorry for the delay, this got buried in my Inbox for awhile. But thanks for picking this up; will aim to review shortly!\r\n\r\nThank you @gerlowskija ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494558122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494771584","html_url":"https://github.com/apache/solr/pull/1511#issuecomment-1494771584","issue_url":"https://api.github.com/repos/apache/solr/issues/1511","id":1494771584,"node_id":"IC_kwDOFFj3yM5ZGGeA","user":{"login":"tflobbe","id":496684,"node_id":"MDQ6VXNlcjQ5NjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/496684?v=4","gravatar_id":"","url":"https://api.github.com/users/tflobbe","html_url":"https://github.com/tflobbe","followers_url":"https://api.github.com/users/tflobbe/followers","following_url":"https://api.github.com/users/tflobbe/following{/other_user}","gists_url":"https://api.github.com/users/tflobbe/gists{/gist_id}","starred_url":"https://api.github.com/users/tflobbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tflobbe/subscriptions","organizations_url":"https://api.github.com/users/tflobbe/orgs","repos_url":"https://api.github.com/users/tflobbe/repos","events_url":"https://api.github.com/users/tflobbe/events{/privacy}","received_events_url":"https://api.github.com/users/tflobbe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T18:18:00Z","updated_at":"2023-04-03T18:18:00Z","author_association":"MEMBER","body":"> Add a CHANGES entry\r\n\r\nYes, I typically avoid adding an entry until I'm ready to merge, to prevent conflicts :). Added now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494771584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494866351","html_url":"https://github.com/apache/solr/pull/1523#issuecomment-1494866351","issue_url":"https://api.github.com/repos/apache/solr/issues/1523","id":1494866351,"node_id":"IC_kwDOFFj3yM5ZGdmv","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T19:33:54Z","updated_at":"2023-04-03T19:33:54Z","author_association":"CONTRIBUTOR","body":"This should be updated when Hadoop upgrades - https://github.com/apache/hadoop/blob/branch-3.3.5/hadoop-project/pom.xml#L132","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494866351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494930699","html_url":"https://github.com/apache/solr/pull/1523#issuecomment-1494930699","issue_url":"https://api.github.com/repos/apache/solr/issues/1523","id":1494930699,"node_id":"IC_kwDOFFj3yM5ZGtUL","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T20:22:16Z","updated_at":"2023-12-08T10:17:33Z","author_association":"COLLABORATOR","body":"### Renovate Ignore Notification\n\nBecause you closed this PR without merging, Renovate will ignore this update (`1.1.1`). You will get a PR once a newer version is released. To ignore this dependency forever, add it to the `ignoreDeps` array of your Renovate config.\n\nIf you accidentally closed this PR, or if you changed your mind: rename this PR to get a fresh replacement PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1494930699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1495363648","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1495363648","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1495363648,"node_id":"IC_kwDOFFj3yM5ZIXBA","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T05:23:27Z","updated_at":"2023-04-04T05:23:27Z","author_association":"CONTRIBUTOR","body":"I'm glad you are digging into this test failure!  You've left lots of breadcrumbs for me to follow.\r\nI like adding more checks to insist there is a version if we're forwarded an update from a leader.  If some code paths don't verify it, it was likely forgotten.  It's not clear to me if you've root caused why it can be null.\r\n\r\nThere may be a relation to #1484 which I have yet to merge, as I'm trying to be real thorough first.  I thought maybe the change there might fix this one but no it doesn't.\r\n\r\n> there is a delete that is reported successful, but not applied\r\n\r\nClearly a problem.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1495363648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1495478235","html_url":"https://github.com/apache/solr/pull/1537#issuecomment-1495478235","issue_url":"https://api.github.com/repos/apache/solr/issues/1537","id":1495478235,"node_id":"IC_kwDOFFj3yM5ZIy_b","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T07:26:12Z","updated_at":"2023-04-04T07:26:12Z","author_association":"CONTRIBUTOR","body":"The consistent-versions plugin does not require sorted lines, but I guess we do to make it easier for devs to navigate the file. I think we'll come a long way just adding comments for special cases, but if we really wanted to we could also allow two (or more) \\n\\n separated sections in this file, where we apply the sort requirement per section instead of the entire file. But let's try with some comments first..","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1495478235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1495674869","html_url":"https://github.com/apache/solr/pull/1465#issuecomment-1495674869","issue_url":"https://api.github.com/repos/apache/solr/issues/1465","id":1495674869,"node_id":"IC_kwDOFFj3yM5ZJi_1","user":{"login":"murblanc","id":43050504,"node_id":"MDQ6VXNlcjQzMDUwNTA0","avatar_url":"https://avatars.githubusercontent.com/u/43050504?v=4","gravatar_id":"","url":"https://api.github.com/users/murblanc","html_url":"https://github.com/murblanc","followers_url":"https://api.github.com/users/murblanc/followers","following_url":"https://api.github.com/users/murblanc/following{/other_user}","gists_url":"https://api.github.com/users/murblanc/gists{/gist_id}","starred_url":"https://api.github.com/users/murblanc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/murblanc/subscriptions","organizations_url":"https://api.github.com/users/murblanc/orgs","repos_url":"https://api.github.com/users/murblanc/repos","events_url":"https://api.github.com/users/murblanc/events{/privacy}","received_events_url":"https://api.github.com/users/murblanc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T09:51:11Z","updated_at":"2023-04-04T09:51:11Z","author_association":"MEMBER","body":"@markrmiller @noblepaul I plan to merge this 5 days from now (April 9th) if there's no disagreement","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1495674869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496267050","html_url":"https://github.com/apache/solr/pull/1540#issuecomment-1496267050","issue_url":"https://api.github.com/repos/apache/solr/issues/1540","id":1496267050,"node_id":"IC_kwDOFFj3yM5ZLzkq","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T16:26:11Z","updated_at":"2023-04-04T16:26:11Z","author_association":"CONTRIBUTOR","body":"I'm not aware of CVEs for joda-time library.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496267050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496270123","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1496270123","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1496270123,"node_id":"IC_kwDOFFj3yM5ZL0Ur","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T16:28:46Z","updated_at":"2023-04-04T16:30:20Z","author_association":"MEMBER","body":"@dsmiley thanks for taking a look. I think we are looking at the same problem area but different lifecycles.\r\n\r\nYour summary on #1484 applies here as well:\r\n```\r\nA shard being split (a so-called parent shard) or that which recently completed (thus may have state INACTIVE) receives docs from a client (the test) and forwards to the sub-shards. \r\n```\r\nthe difference is you are seeing `ClusterState says we are the leader` while (one of) my errors are `Request says it is coming from parent shard leader but we are in active state`. I think you are seeing a pre-success shard split race window, while I am seeing a post-success shard split race wiondow. I am wondering if my fix will not cover your case as well. I am attempting to use the `isSubShardLeader` to decide if locally we could apply the leader behavior instead of the follower behavior (see https://github.com/apache/solr/pull/1504/files#diff-cd52c0b0fc5671f2e4817e9d0c8373da4b848e6791df1ab73c08289078b07a30R283). it seems to work well for the failures I am looking at.\r\n\r\nIt would be really nice to have a mapping between all possible state transitions, and build a unit-test-like verification for all transition states verifying if all cases are handled and no illegal state can sneak in (like persisting a null-version document).\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496270123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496284849","html_url":"https://github.com/apache/solr/pull/1484#issuecomment-1496284849","issue_url":"https://api.github.com/repos/apache/solr/issues/1484","id":1496284849,"node_id":"IC_kwDOFFj3yM5ZL36x","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T16:40:56Z","updated_at":"2023-04-04T16:40:56Z","author_association":"MEMBER","body":"for shard split testing we have ShardSplitTest, but it's rather flaky. I am trying to unpack the failures in the effort of getting it more stable #1504 it does simple things: split shard + concurrent adds and deletes. if there are things in your fork's test that are not covered, we could bring them over to that test.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496284849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496445221","html_url":"https://github.com/apache/solr/pull/1542#issuecomment-1496445221","issue_url":"https://api.github.com/repos/apache/solr/issues/1542","id":1496445221,"node_id":"IC_kwDOFFj3yM5ZMfEl","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T18:51:19Z","updated_at":"2023-04-04T18:51:19Z","author_association":"CONTRIBUTOR","body":"I added an SSL integration test, which hangs before this change and passes afterwards.\r\n\r\nYou can reproduce via:\r\n\r\n```\r\n./gradlew integrationTest --tests \"test_ssl.bats\"\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496445221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496519155","html_url":"https://github.com/apache/solr/pull/1543#issuecomment-1496519155","issue_url":"https://api.github.com/repos/apache/solr/issues/1543","id":1496519155,"node_id":"IC_kwDOFFj3yM5ZMxHz","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T19:58:41Z","updated_at":"2023-04-04T19:58:41Z","author_association":"CONTRIBUTOR","body":"Not specifically related to this PR, but I've been wondering whether there'd be any objection (unless there's a specific reason to upgrade gradle versions) to effectively treat gradle like a transitive dependency of Lucene. For the purpose of joint Solr/Lucene development this definitely makes things easier.\r\n\r\nThoughts?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496519155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496527037","html_url":"https://github.com/apache/solr/pull/1543#issuecomment-1496527037","issue_url":"https://api.github.com/repos/apache/solr/issues/1543","id":1496527037,"node_id":"IC_kwDOFFj3yM5ZMzC9","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T20:04:25Z","updated_at":"2023-04-04T20:04:25Z","author_association":"CONTRIBUTOR","body":"@magibney not sure I understand what you mean? Are you saying that Lucene Gradle upgrades should always come before Solr? That Solr and Lucene should always match Gradle versions?\r\n\r\nThere is a lot of sharing going back and forth between Lucene and Solr related to the build. I don't fully support only Lucene getting upgrades first to the build. The two projects are separate.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496527037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496554689","html_url":"https://github.com/apache/solr/pull/1541#issuecomment-1496554689","issue_url":"https://api.github.com/repos/apache/solr/issues/1541","id":1496554689,"node_id":"IC_kwDOFFj3yM5ZM5zB","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T20:21:20Z","updated_at":"2023-04-04T20:21:20Z","author_association":"CONTRIBUTOR","body":"Alright, tests and 'check' pass for me locally.  (Looks like crave builds only failed here because of its weird patch application thing.)\r\n\r\nGoing to target merging this midweek if no one has any feedback!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496554689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496555628","html_url":"https://github.com/apache/solr/pull/1543#issuecomment-1496555628","issue_url":"https://api.github.com/repos/apache/solr/issues/1543","id":1496555628,"node_id":"IC_kwDOFFj3yM5ZM6Bs","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T20:22:10Z","updated_at":"2023-04-04T20:22:10Z","author_association":"CONTRIBUTOR","body":"Purely as a convenience, for supporting dev workflows involving [Lucene dependency substitution](https://github.com/apache/solr/blob/32dd924b14ee7160cb3a47b75bbe9f51ee36a483/help/dependencies.txt#L111-L142).\r\n\r\nThe workflow requires the gradle versions be the same; when they are, joint development is _really_ straightforward. I'm suggesting that, from my own perspective, if Solr were to upgrade gradle in sync with Lucene, it would make certain things really easy (selfish, definitely!).\r\n\r\nI don't intend to make an issue of it -- but there are lots of things that are treated as transitive dependencies, so to some extent it's arbitrary when we upgrade. What I've done to date is backport gradle upgrades to Lucene if/when needed, which is pretty straightforward -- worst case I can continue doing that.\r\n\r\ncc @dweiss, @uschindler in case they have any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1496555628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497321076","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1497321076","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1497321076,"node_id":"IC_kwDOFFj3yM5ZP050","user":{"login":"bszabo97","id":79325622,"node_id":"MDQ6VXNlcjc5MzI1NjIy","avatar_url":"https://avatars.githubusercontent.com/u/79325622?v=4","gravatar_id":"","url":"https://api.github.com/users/bszabo97","html_url":"https://github.com/bszabo97","followers_url":"https://api.github.com/users/bszabo97/followers","following_url":"https://api.github.com/users/bszabo97/following{/other_user}","gists_url":"https://api.github.com/users/bszabo97/gists{/gist_id}","starred_url":"https://api.github.com/users/bszabo97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bszabo97/subscriptions","organizations_url":"https://api.github.com/users/bszabo97/orgs","repos_url":"https://api.github.com/users/bszabo97/repos","events_url":"https://api.github.com/users/bszabo97/events{/privacy}","received_events_url":"https://api.github.com/users/bszabo97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T11:18:56Z","updated_at":"2023-04-05T11:19:12Z","author_association":"CONTRIBUTOR","body":"Thank you @epugh for having a look at this!\r\n\r\nI was just about to do some manual testing and rebase this PR to the current main branch, unfortunately I had lots of other stuff on my plate recently and was not able to proceed with this. I hope I can do it tomorrow and also look into you recent review.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497321076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497426584","html_url":"https://github.com/apache/solr/pull/1479#issuecomment-1497426584","issue_url":"https://api.github.com/repos/apache/solr/issues/1479","id":1497426584,"node_id":"IC_kwDOFFj3yM5ZQOqY","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T12:44:28Z","updated_at":"2023-04-05T12:44:28Z","author_association":"CONTRIBUTOR","body":"Please reach out if you need insight into current Admin UI. As you may know, Solr backend is 100% stateless, so there is no \"login\" as such. The current Admin UI will do the auth, caching Authorization header in browser storage, and pass in on all subsequent reqeusts to Solr backend. \r\n\r\nQuestion: Is the goal still to host the entire Admin UI, including old non-ported angular-pages, from the new \"modern\" Admin App? Or do you plan to have two independent Admin apps and send users between them?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497426584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497454035","html_url":"https://github.com/apache/solr/pull/1545#issuecomment-1497454035","issue_url":"https://api.github.com/repos/apache/solr/issues/1545","id":1497454035,"node_id":"IC_kwDOFFj3yM5ZQVXT","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T13:05:20Z","updated_at":"2023-04-05T13:05:20Z","author_association":"CONTRIBUTOR","body":"FYI @gerlowskija and @HoustonPutman - no new changes yet just put this out there to make sure it doesn't get lost.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497454035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497461482","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1497461482","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1497461482,"node_id":"IC_kwDOFFj3yM5ZQXLq","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T13:10:12Z","updated_at":"2023-04-05T13:10:12Z","author_association":"CONTRIBUTOR","body":"Awesome!   I used the BATS tests for the first timeâ€¦.   You may find that\nitâ€™s worth adding more of them to cover anything requiring manual testingâ€¦.\n\nOn Wed, Apr 5, 2023 at 1:19 PM bszabo97 ***@***.***> wrote:\n\n> Thank you @epugh <https://github.com/epugh> for having a look at this!\n>\n> I was just about to do some manual testing and rebase this PR to the\n> current master, unfortunately I had lots of other stuff on my plate\n> recently and was not able to proceed with this. I hope I can do it tomorrow\n> and also look into you recent review.\n>\n> â€”\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/solr/pull/1182#issuecomment-1497321076>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAAFO647GNUIYWSECSIO47TW7VIKXANCNFSM6AAAAAASDTTERU>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497461482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497490149","html_url":"https://github.com/apache/solr/pull/1545#issuecomment-1497490149","issue_url":"https://api.github.com/repos/apache/solr/issues/1545","id":1497490149,"node_id":"IC_kwDOFFj3yM5ZQeLl","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T13:30:08Z","updated_at":"2023-04-05T13:30:08Z","author_association":"CONTRIBUTOR","body":"The default read timeout is 30s - https://github.com/aws/aws-sdk-java-v2/blob/master/http-client-spi/src/main/java/software/amazon/awssdk/http/SdkHttpConfigurationOption.java#L134 which seems like it should be plenty...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497490149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497528664","html_url":"https://github.com/apache/solr/pull/1545#issuecomment-1497528664","issue_url":"https://api.github.com/repos/apache/solr/issues/1545","id":1497528664,"node_id":"IC_kwDOFFj3yM5ZQnlY","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T13:54:44Z","updated_at":"2023-04-05T13:54:44Z","author_association":"CONTRIBUTOR","body":"As far as I can tell this fails always on the 10MB copy to s3mock:\r\n\r\n```\r\n// copy a 10Mb file\r\ncontent += \"1234567890\".repeat(1024 * 1024);\r\ndoTestCopyFileFrom(content);\r\ndoTestCopyFileTo(content);\r\n```\r\n\r\nI don't know what changed but there seems to be some reason that there is a hang when writing the file.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497528664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497529541","html_url":"https://github.com/apache/solr/pull/1542#issuecomment-1497529541","issue_url":"https://api.github.com/repos/apache/solr/issues/1542","id":1497529541,"node_id":"IC_kwDOFFj3yM5ZQnzF","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T13:55:19Z","updated_at":"2023-04-05T13:55:19Z","author_association":"CONTRIBUTOR","body":"I'm going to backport this to 9.2. This is a breaking change, so it will likely require a 9.2.1 release (even though users can fix it by updating the jetty context.)\r\n\r\nHow quickly do y'all think we should get 9.2.1 out there? I'm happy to do the release again since I make the bug.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497529541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497554636","html_url":"https://github.com/apache/solr/pull/1542#issuecomment-1497554636","issue_url":"https://api.github.com/repos/apache/solr/issues/1542","id":1497554636,"node_id":"IC_kwDOFFj3yM5ZQt7M","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T14:08:24Z","updated_at":"2023-04-05T14:08:24Z","author_association":"CONTRIBUTOR","body":"Makes sense to start planning for a 9.2.1, and backport all relevant bug fixes, from this list https://issues.apache.org/jira/issues/?jql=project%20%3D%20SOLR%20AND%20issuetype%20%3D%20Bug%20AND%20affectedVersion%20%3D%209.2","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497554636/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497580739","html_url":"https://github.com/apache/solr/pull/1542#issuecomment-1497580739","issue_url":"https://api.github.com/repos/apache/solr/issues/1542","id":1497580739,"node_id":"IC_kwDOFFj3yM5ZQ0TD","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T14:24:45Z","updated_at":"2023-04-05T14:24:45Z","author_association":"CONTRIBUTOR","body":"I'll send an email to @dev in a bit then.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497580739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497838599","html_url":"https://github.com/apache/solr/pull/1545#issuecomment-1497838599","issue_url":"https://api.github.com/repos/apache/solr/issues/1545","id":1497838599,"node_id":"IC_kwDOFFj3yM5ZRzQH","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T17:05:47Z","updated_at":"2023-04-05T17:05:47Z","author_association":"CONTRIBUTOR","body":"So found the issue I think (I don't know how it manifests itself more during the upgrade, but this is a big improvement):\r\n\r\nAwsChunkedDecodingInputStream (https://github.com/adobe/S3Mock/blame/main/server/src/main/java/com/adobe/testing/s3mock/util/AwsChunkedDecodingInputStream.java) is used during putObject and only implements read() which is a single byte read at a time. \r\n\r\nA quick fix is to wrap the input source in new BufferedInputStream which then speeds everything up. It took the test on my laptop from 11s to <1s easily.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497838599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497965161","html_url":"https://github.com/apache/solr/pull/1224#issuecomment-1497965161","issue_url":"https://api.github.com/repos/apache/solr/issues/1224","id":1497965161,"node_id":"IC_kwDOFFj3yM5ZSSJp","user":{"login":"iamsanjay","id":6595915,"node_id":"MDQ6VXNlcjY1OTU5MTU=","avatar_url":"https://avatars.githubusercontent.com/u/6595915?v=4","gravatar_id":"","url":"https://api.github.com/users/iamsanjay","html_url":"https://github.com/iamsanjay","followers_url":"https://api.github.com/users/iamsanjay/followers","following_url":"https://api.github.com/users/iamsanjay/following{/other_user}","gists_url":"https://api.github.com/users/iamsanjay/gists{/gist_id}","starred_url":"https://api.github.com/users/iamsanjay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamsanjay/subscriptions","organizations_url":"https://api.github.com/users/iamsanjay/orgs","repos_url":"https://api.github.com/users/iamsanjay/repos","events_url":"https://api.github.com/users/iamsanjay/events{/privacy}","received_events_url":"https://api.github.com/users/iamsanjay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T18:50:32Z","updated_at":"2023-04-05T18:50:32Z","author_association":"CONTRIBUTOR","body":"> Hi @iamsanjay , sorry for the delay in getting to this. I've been mostly attending to a blocker for the JAX-RS and v2 API work, [SOLR-16531](https://issues.apache.org/jira/browse/SOLR-16531). But with that recently cleared away I'm turning back to these API conversions. Hopefully the delay hasn't put you off of collaborating here!\r\n> \r\n> Going to test your change out locally today and hopefully we can understand why the response format doesn't look quite right.\r\n\r\nI am glad that things back on track. I will go through your comments and then work on the changes you have suggested. Thank you so much for getting back on this.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1497965161/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1498411973","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1498411973","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1498411973,"node_id":"IC_kwDOFFj3yM5ZT_PF","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T02:41:27Z","updated_at":"2023-04-06T02:41:27Z","author_association":"CONTRIBUTOR","body":"Tests pass.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1498411973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1498439957","html_url":"https://github.com/apache/solr/pull/1471#issuecomment-1498439957","issue_url":"https://api.github.com/repos/apache/solr/issues/1471","id":1498439957,"node_id":"IC_kwDOFFj3yM5ZUGEV","user":{"login":"jdurham2843","id":7634533,"node_id":"MDQ6VXNlcjc2MzQ1MzM=","avatar_url":"https://avatars.githubusercontent.com/u/7634533?v=4","gravatar_id":"","url":"https://api.github.com/users/jdurham2843","html_url":"https://github.com/jdurham2843","followers_url":"https://api.github.com/users/jdurham2843/followers","following_url":"https://api.github.com/users/jdurham2843/following{/other_user}","gists_url":"https://api.github.com/users/jdurham2843/gists{/gist_id}","starred_url":"https://api.github.com/users/jdurham2843/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdurham2843/subscriptions","organizations_url":"https://api.github.com/users/jdurham2843/orgs","repos_url":"https://api.github.com/users/jdurham2843/repos","events_url":"https://api.github.com/users/jdurham2843/events{/privacy}","received_events_url":"https://api.github.com/users/jdurham2843/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T03:25:08Z","updated_at":"2023-04-06T03:26:23Z","author_association":"CONTRIBUTOR","body":"Hi @gerlowskija - I believe I've addressed the most of the concerns listed above along with adding some unit tests that cover the Create and Delete collection snapshot endpoints. You mentioned in the jira ticket comments that the actual creation and deletion of snapshots was tested elsewhere, so I think just supplying unit tests may be all that's needed here. Spinning up a full cloud test case may be a little overkill! The only issue I haven't tackled yet is that V1 ListSnapshots serialization weirdness.\r\n\r\nI'm still looking into the documentation portion of this work. It may be worth adding the API docs to collection-management.adoc like you mentioned, but I'll need to read through the backup-restore.adoc to see how I'd want to work them into there.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1498439957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499143172","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1499143172","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1499143172,"node_id":"IC_kwDOFFj3yM5ZWxwE","user":{"login":"bszabo97","id":79325622,"node_id":"MDQ6VXNlcjc5MzI1NjIy","avatar_url":"https://avatars.githubusercontent.com/u/79325622?v=4","gravatar_id":"","url":"https://api.github.com/users/bszabo97","html_url":"https://github.com/bszabo97","followers_url":"https://api.github.com/users/bszabo97/followers","following_url":"https://api.github.com/users/bszabo97/following{/other_user}","gists_url":"https://api.github.com/users/bszabo97/gists{/gist_id}","starred_url":"https://api.github.com/users/bszabo97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bszabo97/subscriptions","organizations_url":"https://api.github.com/users/bszabo97/orgs","repos_url":"https://api.github.com/users/bszabo97/repos","events_url":"https://api.github.com/users/bszabo97/events{/privacy}","received_events_url":"https://api.github.com/users/bszabo97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T14:19:44Z","updated_at":"2023-04-06T14:19:44Z","author_association":"CONTRIBUTOR","body":"gradle check was successful, I pushed the rebased commits. I am starting the manual testing now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499143172/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499209989","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1499209989","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1499209989,"node_id":"IC_kwDOFFj3yM5ZXCEF","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T14:59:24Z","updated_at":"2023-04-06T14:59:24Z","author_association":"CONTRIBUTOR","body":"@bszabo97 in the future, its much better to merge `main` into your branch then to do a rebase. That way we keep the history of all comments.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499209989/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499266749","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1499266749","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1499266749,"node_id":"IC_kwDOFFj3yM5ZXP69","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T15:39:14Z","updated_at":"2023-04-06T15:39:14Z","author_association":"CONTRIBUTOR","body":"> I am right now running the tests locally after the rebase to check if everything is still working then I will execute some manual testing. I push the changes and post and update with the results later today.\r\n> \r\n> Thank you @dsmiley and @epugh for the great suggestions and for pushing this PR forward :)\r\n\r\nI think you are right about the HttpClient thing...   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499266749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499347557","html_url":"https://github.com/apache/solr/pull/1160#issuecomment-1499347557","issue_url":"https://api.github.com/repos/apache/solr/issues/1160","id":1499347557,"node_id":"IC_kwDOFFj3yM5ZXjpl","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T16:47:35Z","updated_at":"2023-04-06T16:47:35Z","author_association":"CONTRIBUTOR","body":"Alright, thanks for getting the ball rolling on this @calvnce !  I pushed up some changes that take your starting point and add the remaining APIs, tests and docs.\r\n\r\nCurious if you have any thoughts or if this helps explain anything that was confusing before?  Lmk!  I'll aim to merge some time next week pending any major review feedback here.  (I've credited you in our 'CHANGES.txt' file as 'Calvince Otieno' - let me know if you'd prefer something different.) Thanks again Calvince!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1499347557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500206592","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1500206592","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1500206592,"node_id":"IC_kwDOFFj3yM5Za1YA","user":{"login":"bszabo97","id":79325622,"node_id":"MDQ6VXNlcjc5MzI1NjIy","avatar_url":"https://avatars.githubusercontent.com/u/79325622?v=4","gravatar_id":"","url":"https://api.github.com/users/bszabo97","html_url":"https://github.com/bszabo97","followers_url":"https://api.github.com/users/bszabo97/followers","following_url":"https://api.github.com/users/bszabo97/following{/other_user}","gists_url":"https://api.github.com/users/bszabo97/gists{/gist_id}","starred_url":"https://api.github.com/users/bszabo97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bszabo97/subscriptions","organizations_url":"https://api.github.com/users/bszabo97/orgs","repos_url":"https://api.github.com/users/bszabo97/repos","events_url":"https://api.github.com/users/bszabo97/events{/privacy}","received_events_url":"https://api.github.com/users/bszabo97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T11:33:38Z","updated_at":"2023-04-07T11:33:38Z","author_association":"CONTRIBUTOR","body":"I have exported my notes about the testing that I have executed, in the beginning there are the failed tests which I will have to look into, later there are all the tests with the command and the output of the command. \r\n\r\nThe tests that failed are:\r\n* Export prints 0 documents were exported although there was 1. The exported file is correct, though.\r\n* Restart command messes up something around the zookeeper connection in cloud mode. Lots of functionalities are not working correctly. Stop + Start is working fine interestingly.\r\n* Create core in standalone mode return with error, core is visible but not functional.\r\n\r\n[Manual testing for SolrCLI.pdf](https://github.com/apache/solr/files/11178548/Manual.testing.for.SolrCLI.pdf)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500206592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500331674","html_url":"https://github.com/apache/solr/pull/1508#issuecomment-1500331674","issue_url":"https://api.github.com/repos/apache/solr/issues/1508","id":1500331674,"node_id":"IC_kwDOFFj3yM5ZbT6a","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T14:18:07Z","updated_at":"2023-04-07T14:18:07Z","author_association":"CONTRIBUTOR","body":"I think the classloader needs to be used in both `createZkCredentialsToAddAutomatically` and `createZkACLProvider` as well.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500331674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]