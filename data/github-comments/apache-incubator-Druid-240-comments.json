[{"url":"https://api.github.com/repos/apache/druid/issues/comments/494194629","html_url":"https://github.com/apache/druid/pull/7710#issuecomment-494194629","issue_url":"https://api.github.com/repos/apache/druid/issues/7710","id":494194629,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE5NDYyOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T00:21:53Z","updated_at":"2019-05-21T00:21:53Z","author_association":"CONTRIBUTOR","body":"Can we add a unit test that checks this function fails with a single operand?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494194629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494198938","html_url":"https://github.com/apache/druid/pull/7692#issuecomment-494198938","issue_url":"https://api.github.com/repos/apache/druid/issues/7692","id":494198938,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE5ODkzOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T00:49:11Z","updated_at":"2019-05-21T00:49:11Z","author_association":"CONTRIBUTOR","body":"I'm merging this PR. @drcrallen Please let me know if you have more comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494198938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494200891","html_url":"https://github.com/apache/druid/pull/7710#issuecomment-494200891","issue_url":"https://api.github.com/repos/apache/druid/issues/7710","id":494200891,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIwMDg5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T01:01:36Z","updated_at":"2019-05-21T01:01:36Z","author_association":"CONTRIBUTOR","body":"I thought about doing that, but we don't have tests like that for any other functions, so I didn't. But since you asked, I just added one ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494200891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494238196","html_url":"https://github.com/apache/druid/pull/7241#issuecomment-494238196","issue_url":"https://api.github.com/repos/apache/druid/issues/7241","id":494238196,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIzODE5Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T04:50:01Z","updated_at":"2019-05-21T04:50:01Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494238196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494255230","html_url":"https://github.com/apache/druid/issues/7623#issuecomment-494255230","issue_url":"https://api.github.com/repos/apache/druid/issues/7623","id":494255230,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI1NTIzMA==","user":{"login":"prabakarankrishnan","id":47737674,"node_id":"MDQ6VXNlcjQ3NzM3Njc0","avatar_url":"https://avatars.githubusercontent.com/u/47737674?v=4","gravatar_id":"","url":"https://api.github.com/users/prabakarankrishnan","html_url":"https://github.com/prabakarankrishnan","followers_url":"https://api.github.com/users/prabakarankrishnan/followers","following_url":"https://api.github.com/users/prabakarankrishnan/following{/other_user}","gists_url":"https://api.github.com/users/prabakarankrishnan/gists{/gist_id}","starred_url":"https://api.github.com/users/prabakarankrishnan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabakarankrishnan/subscriptions","organizations_url":"https://api.github.com/users/prabakarankrishnan/orgs","repos_url":"https://api.github.com/users/prabakarankrishnan/repos","events_url":"https://api.github.com/users/prabakarankrishnan/events{/privacy}","received_events_url":"https://api.github.com/users/prabakarankrishnan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T06:18:54Z","updated_at":"2019-05-21T06:18:54Z","author_association":"NONE","body":"I am also getting same error in Druid 0.14.0 version... Any update","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494255230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494266591","html_url":"https://github.com/apache/druid/issues/7714#issuecomment-494266591","issue_url":"https://api.github.com/repos/apache/druid/issues/7714","id":494266591,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI2NjU5MQ==","user":{"login":"wangshulun","id":2246840,"node_id":"MDQ6VXNlcjIyNDY4NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2246840?v=4","gravatar_id":"","url":"https://api.github.com/users/wangshulun","html_url":"https://github.com/wangshulun","followers_url":"https://api.github.com/users/wangshulun/followers","following_url":"https://api.github.com/users/wangshulun/following{/other_user}","gists_url":"https://api.github.com/users/wangshulun/gists{/gist_id}","starred_url":"https://api.github.com/users/wangshulun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangshulun/subscriptions","organizations_url":"https://api.github.com/users/wangshulun/orgs","repos_url":"https://api.github.com/users/wangshulun/repos","events_url":"https://api.github.com/users/wangshulun/events{/privacy}","received_events_url":"https://api.github.com/users/wangshulun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T07:04:48Z","updated_at":"2019-05-21T07:06:27Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/2246840/58075187-a782d600-7bd9-11e9-8788-72d7a4d30b21.png)\r\n\r\nthe task failed,then click the failed log but the web return http 500 error","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494266591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494267528","html_url":"https://github.com/apache/druid/pull/7676#issuecomment-494267528","issue_url":"https://api.github.com/repos/apache/druid/issues/7676","id":494267528,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI2NzUyOA==","user":{"login":"sanastas","id":12136181,"node_id":"MDQ6VXNlcjEyMTM2MTgx","avatar_url":"https://avatars.githubusercontent.com/u/12136181?v=4","gravatar_id":"","url":"https://api.github.com/users/sanastas","html_url":"https://github.com/sanastas","followers_url":"https://api.github.com/users/sanastas/followers","following_url":"https://api.github.com/users/sanastas/following{/other_user}","gists_url":"https://api.github.com/users/sanastas/gists{/gist_id}","starred_url":"https://api.github.com/users/sanastas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanastas/subscriptions","organizations_url":"https://api.github.com/users/sanastas/orgs","repos_url":"https://api.github.com/users/sanastas/repos","events_url":"https://api.github.com/users/sanastas/events{/privacy}","received_events_url":"https://api.github.com/users/sanastas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T07:07:56Z","updated_at":"2019-05-21T07:07:56Z","author_association":"NONE","body":"@fjy , thanks for being interested, we are going to publish some Druid benchmarks soon","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494267528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494268977","html_url":"https://github.com/apache/druid/issues/7714#issuecomment-494268977","issue_url":"https://api.github.com/repos/apache/druid/issues/7714","id":494268977,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI2ODk3Nw==","user":{"login":"wangshulun","id":2246840,"node_id":"MDQ6VXNlcjIyNDY4NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2246840?v=4","gravatar_id":"","url":"https://api.github.com/users/wangshulun","html_url":"https://github.com/wangshulun","followers_url":"https://api.github.com/users/wangshulun/followers","following_url":"https://api.github.com/users/wangshulun/following{/other_user}","gists_url":"https://api.github.com/users/wangshulun/gists{/gist_id}","starred_url":"https://api.github.com/users/wangshulun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangshulun/subscriptions","organizations_url":"https://api.github.com/users/wangshulun/orgs","repos_url":"https://api.github.com/users/wangshulun/repos","events_url":"https://api.github.com/users/wangshulun/events{/privacy}","received_events_url":"https://api.github.com/users/wangshulun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T07:13:00Z","updated_at":"2019-05-21T07:13:00Z","author_association":"NONE","body":"few minutes gone, the data in realnode disappear","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494268977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494279941","html_url":"https://github.com/apache/druid/issues/7623#issuecomment-494279941","issue_url":"https://api.github.com/repos/apache/druid/issues/7623","id":494279941,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI3OTk0MQ==","user":{"login":"DockerLive","id":16477531,"node_id":"MDQ6VXNlcjE2NDc3NTMx","avatar_url":"https://avatars.githubusercontent.com/u/16477531?v=4","gravatar_id":"","url":"https://api.github.com/users/DockerLive","html_url":"https://github.com/DockerLive","followers_url":"https://api.github.com/users/DockerLive/followers","following_url":"https://api.github.com/users/DockerLive/following{/other_user}","gists_url":"https://api.github.com/users/DockerLive/gists{/gist_id}","starred_url":"https://api.github.com/users/DockerLive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DockerLive/subscriptions","organizations_url":"https://api.github.com/users/DockerLive/orgs","repos_url":"https://api.github.com/users/DockerLive/repos","events_url":"https://api.github.com/users/DockerLive/events{/privacy}","received_events_url":"https://api.github.com/users/DockerLive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T07:49:00Z","updated_at":"2019-05-21T07:49:00Z","author_association":"NONE","body":"I solved this problem, but it's not a problem because we misunderstand our own configuration\r\n\r\nThe configuration unique to each role should be configured in the \"runtime.properties\" file of the corresponding role.And the public monitor similar to \"JvmMonitor\" needs to be added to the role profile, otherwise the common configuration will be overridden by the \"runtime.properties\" configuration","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494279941/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494300561","html_url":"https://github.com/apache/druid/pull/7676#issuecomment-494300561","issue_url":"https://api.github.com/repos/apache/druid/issues/7676","id":494300561,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDMwMDU2MQ==","user":{"login":"sanastas","id":12136181,"node_id":"MDQ6VXNlcjEyMTM2MTgx","avatar_url":"https://avatars.githubusercontent.com/u/12136181?v=4","gravatar_id":"","url":"https://api.github.com/users/sanastas","html_url":"https://github.com/sanastas","followers_url":"https://api.github.com/users/sanastas/followers","following_url":"https://api.github.com/users/sanastas/following{/other_user}","gists_url":"https://api.github.com/users/sanastas/gists{/gist_id}","starred_url":"https://api.github.com/users/sanastas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanastas/subscriptions","organizations_url":"https://api.github.com/users/sanastas/orgs","repos_url":"https://api.github.com/users/sanastas/repos","events_url":"https://api.github.com/users/sanastas/events{/privacy}","received_events_url":"https://api.github.com/users/sanastas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T08:49:30Z","updated_at":"2019-05-21T08:49:30Z","author_association":"NONE","body":"Hi Slim (@b-slim ),\r\n\r\nI am impressed with such a thorough review! Thanks! It looks like the issue of lock-free programming and lock-free memory management is as close to your heart as it is close to mine! This is the reason I did PhD in this field :) I am glad to find an ally! What was your PhD thesis about? I have some answers below. If I understand something wrongly, I would be happy to hear and learn.\r\n\r\n> that is simple not true, some of those locks are part of allocate calls and some are part of iterator loop to do some stuff that i doubt it is static ...\r\n\r\nI would be happy to speak with you about internal Oak implementation. As it is time consuming to discuss it via chat, I suggest us to arrange us an off-line discussion via Hangouts for example. Let me know what time-slots suit you.\r\n\r\n> Looking at the allocator briefly i see bunch of red flags, like possible internal fragmentations up to factor 2 and not clear way to deal with external fragmentations â€¦ Memory Management is a very hard thing in general and make it lock free is not going to be simple task .... \r\n\r\nWe're very well aware that the full lock-free Memory Management is a hard thing and actually not available yet. However, the Druid's usage of IncrementalIndex is a restricted one, IMHO. For example, there are no concurrent deletions, thus dealing with internal fragmentation should not be an issue. Dealing with external fragmentation might be an issue of tuning per specific Block size and common workloads. Bottom line, we had no intent to write a perfect general-purpose full lock-free Memory Management, but a specialized memory management. Not to say that it is not final and can be fixed/replaced if some objective issues are found. \r\n\r\n> Writing one form scratch is a common source of bugs, In fact most of the big data projects avoid this task and use the Netty allocator.\r\n\r\nAs you have seen our memory manager and memory allocator is quite restricted. So we believe it can perform faster and it can be easier to find bugs there. Thanks for referring to the Netty Allocator. I have taken a brief look on Netty Allocator, it appears to be based on reference-counting and their underlying data structure is their own ByteBuf (not ByteBuffer). It is assumed that epoch-based GC is more efficient in performance than reference-counting. But mostly important, I am not sure we can convert ByteBuf into ByteBuffer without any complications or performance issues. Nor can we require Druid to start working with Netty ByteBufs. However, we will continue investigation and if Netty Allocator can be used and gives a better performance, no problems to switch to it.\r\n\r\n> The take our of this, current state is not lock free thus lets avoid confusion, (FYI even on the oak github page i do not see it called lock-free so not sure why you are calling it lock free).\r\n\r\nGenerally speaking lock-free is about the data structure not about the underlying memory management. As a full lock-free memory management (GC+allocation) isnâ€™t available yet, not any of currently existing lock-free data structures can be called lock-free and neither their performance results are validâ€¦ Huge amount of scientific papers wasted :) .  But I will remove the \"lock-freeâ€ term from anywhere it appears here.\r\n\r\nAs I said, I am a big fan of lock-free programming, and I will be the first one to fight to eliminate any lock anywhere. But in reality what does matter is the final performance results and in order to see gains from lock-free programming we need big contention of multi-threading, is it the case in Druidâ€™s IncrementalIndex? All the benchmarks are single threadedâ€¦\r\n\r\nI am OK with lock not on the hot path and with lock that doesn't impact the performance at all.\r\n\r\n> But the most important thing to add here is how OKA memory management will fit with how Druid manages Direct memory.\r\n\r\nExactly! This is the mostly important! And here we need your input! How does Druid manages Direct memory? Is there some policy? Documentation to read? Pointers to code?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494300561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494310929","html_url":"https://github.com/apache/druid/pull/6988#issuecomment-494310929","issue_url":"https://api.github.com/repos/apache/druid/issues/6988","id":494310929,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDMxMDkyOQ==","user":{"login":"JackyYangPassion","id":13795366,"node_id":"MDQ6VXNlcjEzNzk1MzY2","avatar_url":"https://avatars.githubusercontent.com/u/13795366?v=4","gravatar_id":"","url":"https://api.github.com/users/JackyYangPassion","html_url":"https://github.com/JackyYangPassion","followers_url":"https://api.github.com/users/JackyYangPassion/followers","following_url":"https://api.github.com/users/JackyYangPassion/following{/other_user}","gists_url":"https://api.github.com/users/JackyYangPassion/gists{/gist_id}","starred_url":"https://api.github.com/users/JackyYangPassion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JackyYangPassion/subscriptions","organizations_url":"https://api.github.com/users/JackyYangPassion/orgs","repos_url":"https://api.github.com/users/JackyYangPassion/repos","events_url":"https://api.github.com/users/JackyYangPassion/events{/privacy}","received_events_url":"https://api.github.com/users/JackyYangPassion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T09:18:36Z","updated_at":"2019-05-21T09:18:36Z","author_association":"NONE","body":"apply this pr to 0.12.1\r\n`https://github.com/JackyYangPassion/incubator-druid/tree/0.12.1-fast-restart-historical`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494310929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494413285","html_url":"https://github.com/apache/druid/pull/7676#issuecomment-494413285","issue_url":"https://api.github.com/repos/apache/druid/issues/7676","id":494413285,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQxMzI4NQ==","user":{"login":"sanastas","id":12136181,"node_id":"MDQ6VXNlcjEyMTM2MTgx","avatar_url":"https://avatars.githubusercontent.com/u/12136181?v=4","gravatar_id":"","url":"https://api.github.com/users/sanastas","html_url":"https://github.com/sanastas","followers_url":"https://api.github.com/users/sanastas/followers","following_url":"https://api.github.com/users/sanastas/following{/other_user}","gists_url":"https://api.github.com/users/sanastas/gists{/gist_id}","starred_url":"https://api.github.com/users/sanastas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanastas/subscriptions","organizations_url":"https://api.github.com/users/sanastas/orgs","repos_url":"https://api.github.com/users/sanastas/repos","events_url":"https://api.github.com/users/sanastas/events{/privacy}","received_events_url":"https://api.github.com/users/sanastas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T14:23:11Z","updated_at":"2019-05-21T14:23:11Z","author_association":"NONE","body":"Here we have some results for org.apache.druid.benchmark.indexing.IndexIngestionBenchmark (IndexIngestionBenchmark)\r\n\r\nWe try to insert 3M rows, that should be about 4GB data. We try to give the same amount of data for Oak case and for native Druid IncrementalIndex. Pay attention that as IndexIngestionBenchmark is written the rows are generated prior to the benchmark and hold almost 4GB of on-heap memory anyway. So native Druid IncrementalIndex has some advantage, as it just needs to reference something already on-heap, but Oak needs to copy and needs additional memory. Also many on-heap space goes to StringIndexer and other structures.\r\n\r\n[IngestionOakvsIncrIdx.pdf](https://github.com/apache/incubator-druid/files/3203010/IngestionOakvsIncrIdx.pdf)\r\n\r\nFinally, this is single threaded. We see that we can give much more advantage in a multithreaded case, which we will describe shortly.\r\n\r\nThe command lines for reference:\r\n```\r\njava -Xmx15g -XX:MaxDirectMemorySize=0g -jar benchmarks/target/benchmarks.jar IndexIngestionBenchmark -p rowsPerSegment=3000000 -p indexType=onheap\r\njava -Xmx9g -XX:MaxDirectMemorySize=6g -jar benchmarks/target/benchmarks.jar IndexIngestionBenchmark -p rowsPerSegment=3000000 -p indexType=oak\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494413285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494443286","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-494443286","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":494443286,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ0MzI4Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T15:35:11Z","updated_at":"2019-05-21T15:35:11Z","author_association":"MEMBER","body":"Added to 0.15 milestone because If `SegmentWithOvershadowedStatus` will leak into Druid 0.15 API, it will be much harder to remove it from later (it will require transition PRs through several consecutive Druid versions, and temporary glue code). So I would really like to see it go away before Druid 0.15 if other people agree that needs to be done. Please provide arguments if you disagree.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494443286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494444252","html_url":"https://github.com/apache/druid/pull/7653#issuecomment-494444252","issue_url":"https://api.github.com/repos/apache/druid/issues/7653","id":494444252,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ0NDI1Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T15:37:34Z","updated_at":"2019-05-21T15:37:34Z","author_association":"MEMBER","body":"@gianm @surekhasaharan @dampcake @egor-ryashin could you please review this PR (at least respective parts for which you are mentioned in the first message)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494444252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494505841","html_url":"https://github.com/apache/druid/pull/7722#issuecomment-494505841","issue_url":"https://api.github.com/repos/apache/druid/issues/7722","id":494505841,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNTg0MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:30:06Z","updated_at":"2019-05-21T18:30:06Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494505841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494505997","html_url":"https://github.com/apache/druid/pull/7721#issuecomment-494505997","issue_url":"https://api.github.com/repos/apache/druid/issues/7721","id":494505997,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNTk5Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:30:29Z","updated_at":"2019-05-21T18:30:29Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494505997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506099","html_url":"https://github.com/apache/druid/pull/7720#issuecomment-494506099","issue_url":"https://api.github.com/repos/apache/druid/issues/7720","id":494506099,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNjA5OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:30:43Z","updated_at":"2019-05-21T18:30:43Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506314","html_url":"https://github.com/apache/druid/pull/7712#issuecomment-494506314","issue_url":"https://api.github.com/repos/apache/druid/issues/7712","id":494506314,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNjMxNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:31:17Z","updated_at":"2019-05-21T18:31:17Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506428","html_url":"https://github.com/apache/druid/pull/7711#issuecomment-494506428","issue_url":"https://api.github.com/repos/apache/druid/issues/7711","id":494506428,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNjQyOA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:31:34Z","updated_at":"2019-05-21T18:31:34Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506569","html_url":"https://github.com/apache/druid/pull/7707#issuecomment-494506569","issue_url":"https://api.github.com/repos/apache/druid/issues/7707","id":494506569,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNjU2OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:31:59Z","updated_at":"2019-05-21T18:31:59Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506736","html_url":"https://github.com/apache/druid/pull/7710#issuecomment-494506736","issue_url":"https://api.github.com/repos/apache/druid/issues/7710","id":494506736,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNjczNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:32:31Z","updated_at":"2019-05-21T18:32:31Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494506736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494509467","html_url":"https://github.com/apache/druid/pull/7704#issuecomment-494509467","issue_url":"https://api.github.com/repos/apache/druid/issues/7704","id":494509467,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwOTQ2Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:40:41Z","updated_at":"2019-05-21T18:40:41Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494509467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494510520","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-494510520","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":494510520,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUxMDUyMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:43:25Z","updated_at":"2019-05-21T18:43:25Z","author_association":"CONTRIBUTOR","body":"> Added to 0.15 milestone because If SegmentWithOvershadowedStatus will leak into Druid 0.15 API, it will be much harder to remove it from later\r\n\r\nThis sounds like going back to feature-based release instead of time-based one. Per the [discussion](https://groups.google.com/forum/#!msg/druid-development/QPZUIzLtZ2I/hc3jkMATCgAJ;context-place=searchin/druid-development/roman%7Csort:date) you started, we are trying to freeze code every 3 months. After code freeze, we are backporting only regression bug fixes, security bug fixes, and doc changes if necessary. If you want to talk about a better release policy, please start a discussion on dev mailing list.\r\n\r\nSince this issue is not any of bug fix or doc change, I don't think this issue should be necessarily a blocker for 0.15.0 release. IMO, if it's not done yet before code freeze, it simply should wait for the next release. This is the least controversial way to choose features to add to each release I think. Especially for this issue, even the discussion on the proper solution is still ongoing.\r\n\r\n> Regarding DataSegment's immutability, it might need to go away anyway, as #6358 should be fixed (note @surekhasaharan: you can fix that problem, incl. across Coordinator -> Broker segment streaming, in the same PR). \r\n\r\nI agree the current way that DataSegment is updated and maintained is somewhat unintuitive. However, still I think it's not a good idea to make it immutable. Currently the variables can be updated in DataSegment are `loadSpec` and `size`, and the update happens only one time after the segment created by stream ingestion tasks is published. So, it's not the update of state, but update of metadata.\r\n\r\n`overshadowedStatus` is different. It represents a state of a dataSegment which can have different values depending on the context. This means, the `overshadowedStatus` must be computed correctly before it's used. If it's added to DataSegment as a mutable variable, I guess it would be very confusing unless there is a way to figure out under what context that state was computed.\r\n\r\nSo, I'm also curious about the benefit we can when `DataSegment` becomes mutable. Is there anything else except memory savings?\r\n\r\nFinally, I don't think it's a good idea to recommend to fix several problems in a single PR. It makes the PR complicated which in turn making review harder. I would say, if the author wants to fix several problems in a single PR, I'm ok with that if the PR is not much complicated and large. But, I think simple PRs more likely get reviewed because they are easy to review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494510520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494513344","html_url":"https://github.com/apache/druid/issues/2320#issuecomment-494513344","issue_url":"https://api.github.com/repos/apache/druid/issues/2320","id":494513344,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUxMzM0NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:51:33Z","updated_at":"2019-05-21T18:51:33Z","author_association":"CONTRIBUTOR","body":"@vsharathchandra you can put same in kafka supervisor context and it would be propagated to all the launched KafkaIndexTasks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494513344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494514407","html_url":"https://github.com/apache/druid/pull/7709#issuecomment-494514407","issue_url":"https://api.github.com/repos/apache/druid/issues/7709","id":494514407,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUxNDQwNw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:54:30Z","updated_at":"2019-05-21T18:54:30Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494514407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494514859","html_url":"https://github.com/apache/druid/pull/7706#issuecomment-494514859","issue_url":"https://api.github.com/repos/apache/druid/issues/7706","id":494514859,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUxNDg1OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:55:50Z","updated_at":"2019-05-21T18:55:50Z","author_association":"CONTRIBUTOR","body":"@surekhasaharan which release is this for?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494514859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494514888","html_url":"https://github.com/apache/druid/pull/7706#issuecomment-494514888","issue_url":"https://api.github.com/repos/apache/druid/issues/7706","id":494514888,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUxNDg4OA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:55:55Z","updated_at":"2019-05-21T18:55:55Z","author_association":"CONTRIBUTOR","body":"Merging given that TC is broken.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494514888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494516109","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-494516109","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":494516109,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUxNjEwOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:59:24Z","updated_at":"2019-05-21T18:59:24Z","author_association":"CONTRIBUTOR","body":"For the metadata of segment, perhaps it's better to have different data structures for segments which are actively generated by stream ingestion tasks and others. For example, the former might not have `loadSpec` and `size` fields to reduce confusion. For interning properly, we might need two maps (segmentId -> segment metadata) for each data structure which their keys are never overlapped.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494516109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494535952","html_url":"https://github.com/apache/druid/pull/7706#issuecomment-494535952","issue_url":"https://api.github.com/repos/apache/druid/issues/7706","id":494535952,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUzNTk1Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T19:59:33Z","updated_at":"2019-05-21T19:59:33Z","author_association":"CONTRIBUTOR","body":"@fjy this bug was introduced in https://github.com/apache/incubator-druid/pull/7654.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494535952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494628398","html_url":"https://github.com/apache/druid/pull/7706#issuecomment-494628398","issue_url":"https://api.github.com/repos/apache/druid/issues/7706","id":494628398,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYyODM5OA==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T02:30:36Z","updated_at":"2019-05-22T02:30:36Z","author_association":"NONE","body":"@fjy this is for 0.16 i think.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494628398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494628884","html_url":"https://github.com/apache/druid/pull/7676#issuecomment-494628884","issue_url":"https://api.github.com/repos/apache/druid/issues/7676","id":494628884,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYyODg4NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T02:33:18Z","updated_at":"2019-05-22T02:33:51Z","author_association":"CONTRIBUTOR","body":"> Exactly! This is the mostly important! And here we need your input! How does Druid manages Direct memory? Is there some policy? Documentation to read? Pointers to code?\r\n\r\nI don't think there is bunch of docs but in nutshell Druid uses 3 kind of memory resources.\r\n\r\n1.  Mapped memory for all the immutable data and it is managed by the OS\r\n2. DirectByte Buffers used for Decompression and Query Execution (Aggregate / merging) managed by common resource pool.  \r\n3. OnHeap stuff used by the rest including what you are working on the realtime in memory DS managed by the JVM\r\nI recommend you take a look on how we use those buffers for query processing, it is all coming from io.druid.guice.DruidProcessingModule you can track this `io.druid.guice.DruidProcessingModule#getMergeBufferPool`\r\n\r\nNot sure how you want to hook into this but maybe the Druid Processing module can be one of your block providers.\r\nThis doc might help as well-> http://druid.io/docs/latest/operations/performance-faq.html\r\nAs a side note: \r\n- Netty buffers are backed by byteBuffers, they just add some wrappers around the buffer but you still can get the reference to it thought.\r\n- You might wanna have a flag to turn off unsafe reads most of the Druid users i know they prefer to run 10% slower and not wanting to deal with JVM seg fault stuff. \r\n\r\nSorry for short answer! will try touch base. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494628884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494643903","html_url":"https://github.com/apache/druid/issues/2320#issuecomment-494643903","issue_url":"https://api.github.com/repos/apache/druid/issues/2320","id":494643903,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDY0MzkwMw==","user":{"login":"vsharathchandra","id":12689380,"node_id":"MDQ6VXNlcjEyNjg5Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/12689380?v=4","gravatar_id":"","url":"https://api.github.com/users/vsharathchandra","html_url":"https://github.com/vsharathchandra","followers_url":"https://api.github.com/users/vsharathchandra/followers","following_url":"https://api.github.com/users/vsharathchandra/following{/other_user}","gists_url":"https://api.github.com/users/vsharathchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/vsharathchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vsharathchandra/subscriptions","organizations_url":"https://api.github.com/users/vsharathchandra/orgs","repos_url":"https://api.github.com/users/vsharathchandra/repos","events_url":"https://api.github.com/users/vsharathchandra/events{/privacy}","received_events_url":"https://api.github.com/users/vsharathchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T04:04:33Z","updated_at":"2019-05-22T04:04:33Z","author_association":"NONE","body":"Thanks.Tried it it's working.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494643903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494654440","html_url":"https://github.com/apache/druid/pull/7595#issuecomment-494654440","issue_url":"https://api.github.com/repos/apache/druid/issues/7595","id":494654440,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDY1NDQ0MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T05:10:49Z","updated_at":"2019-05-22T05:11:14Z","author_association":"CONTRIBUTOR","body":"> For the concern about DruidCoordinatorRuleRunner seeing a stale view, do you foresee issues with that acting on an older view of the overshadowed segments?\r\n\r\nIt's not just a view of overshadowed segments, right? The entire timeline would be an older snapshot. I think as long as it's not 'surprisingly rolled back' then it is OK. Meaning: no run should use an older snapshot than a prior run.\r\n\r\nWithin any given coordinator leadership epoch, the snapshot at time T will be newer than the snapshot at previous times < T. So avoiding surprising rollbacks really boils down to avoiding a situation where the _new leader_ uses an older snapshot than the _old leader_. I think the best way to avoid this is to make sure that any snapshot used in a given leadership epoch must have been taken after the start of that epoch. (If it was from prior to the start of the epoch, it might be out of date and using it might lead to a surprising rollback.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494654440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494655199","html_url":"https://github.com/apache/druid/pull/7653#issuecomment-494655199","issue_url":"https://api.github.com/repos/apache/druid/issues/7653","id":494655199,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDY1NTE5OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T05:15:15Z","updated_at":"2019-05-22T05:15:15Z","author_association":"CONTRIBUTOR","body":"I'll take a look at the SQLMetadataSegmentManager changes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494655199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494659852","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-494659852","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":494659852,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDY1OTg1Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T05:40:41Z","updated_at":"2019-05-22T05:40:41Z","author_association":"CONTRIBUTOR","body":"> Added to 0.15 milestone because If SegmentWithOvershadowedStatus will leak into Druid 0.15 API, it will be much harder to remove it from later (it will require transition PRs through several consecutive Druid versions, and temporary glue code). So I would really like to see it go away before Druid 0.15 if other people agree that needs to be done. Please provide arguments if you disagree.\r\n\r\n@leventov - which API leak are you concerned about? From context I'm guessing it's the HTTP API. I suggest we address that by not documenting it and treating it as an internal API. The info is still exposed through system tables (the original motivation for creating this HTTP API), and that won't change even if we end up wanting to alter the underlying API.\r\n\r\nBy the way, I'm still not really sure that a mutable DataSegment is the way to go. It just feels wrong. It's a class that is meant to represent the 'payload' in the druid_segments table and the announcement in ZK of an available segment. In my experience these sorts of widely used modeling classes work best when they are immutable. Also, if we added mutable fields like 'isOvershadowed', it would often be invalid (for example: in code that is reading or writing an individual segment announcement in ZK, where the overshadowedness concept does not have meaning).\r\n\r\nBesides, I don't think that having mutable DataSegments would really do too much to reduce churn. DataSegments aren't updated very often. Most are either never updated, or are just updated once (during realtime-to-historical handoff). If someone is doing a deep storage migration they might update all their segments, but this would be quite infrequent. If we use wrappers in situations that want to track extra state, like overshadowedness, then those wrappers could be mutable to avoid churn in the wrappers. (Meaning: we could make SegmentWithOvershadowedStatus mutable.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494659852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494687467","html_url":"https://github.com/apache/druid/pull/7676#issuecomment-494687467","issue_url":"https://api.github.com/repos/apache/druid/issues/7676","id":494687467,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDY4NzQ2Nw==","user":{"login":"sanastas","id":12136181,"node_id":"MDQ6VXNlcjEyMTM2MTgx","avatar_url":"https://avatars.githubusercontent.com/u/12136181?v=4","gravatar_id":"","url":"https://api.github.com/users/sanastas","html_url":"https://github.com/sanastas","followers_url":"https://api.github.com/users/sanastas/followers","following_url":"https://api.github.com/users/sanastas/following{/other_user}","gists_url":"https://api.github.com/users/sanastas/gists{/gist_id}","starred_url":"https://api.github.com/users/sanastas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanastas/subscriptions","organizations_url":"https://api.github.com/users/sanastas/orgs","repos_url":"https://api.github.com/users/sanastas/repos","events_url":"https://api.github.com/users/sanastas/events{/privacy}","received_events_url":"https://api.github.com/users/sanastas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T07:30:58Z","updated_at":"2019-05-22T07:30:58Z","author_association":"NONE","body":"Thank you for your input!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494687467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494711696","html_url":"https://github.com/apache/druid/issues/7724#issuecomment-494711696","issue_url":"https://api.github.com/repos/apache/druid/issues/7724","id":494711696,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcxMTY5Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T08:44:35Z","updated_at":"2019-05-22T08:44:35Z","author_association":"CONTRIBUTOR","body":"I think this is happening because the overlord doesn't load lookups and doesn't have a lookup module, and so, it doesn't know about the `lookup` function. Something here should be lazier than it isâ€¦ the overlord shouldn't need to be instantiating parsers.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494711696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494718031","html_url":"https://github.com/apache/druid/issues/7724#issuecomment-494718031","issue_url":"https://api.github.com/repos/apache/druid/issues/7724","id":494718031,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcxODAzMQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T09:02:42Z","updated_at":"2019-05-22T09:02:42Z","author_association":"MEMBER","body":"Potentially related #5727 and #7082","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494718031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494723333","html_url":"https://github.com/apache/druid/issues/7724#issuecomment-494723333","issue_url":"https://api.github.com/repos/apache/druid/issues/7724","id":494723333,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcyMzMzMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T09:18:32Z","updated_at":"2019-05-22T09:18:32Z","author_association":"CONTRIBUTOR","body":"I raised https://github.com/apache/incubator-druid/pull/7729 which makes the runner and parser initialization lazy, so it won't happen on the overlord. I think this is good even if we end up fixing #5727 some other way, since it's senseless for the overlord to be making these objects.\r\n\r\nBy the way, I don't think that #7729 would fix #5727 too. That's happening because the overlord can't figure out how to make a LookupReferencesManager. Maybe a nice way to address that would be to extend #7222 to put the LookupSerdeModule on the overlord and MM too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494723333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494723741","html_url":"https://github.com/apache/druid/issues/7724#issuecomment-494723741","issue_url":"https://api.github.com/repos/apache/druid/issues/7724","id":494723741,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcyMzc0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T09:19:42Z","updated_at":"2019-05-22T09:19:42Z","author_association":"CONTRIBUTOR","body":"> Maybe a nice way to address that would be to extend #7222 to put the LookupSerdeModule on the overlord and MM too.\r\n\r\nAh, it seems like you already had the same idea @clintropolis: https://github.com/apache/incubator-druid/pull/7082#discussion_r264888771","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494723741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494742065","html_url":"https://github.com/apache/druid/pull/7674#issuecomment-494742065","issue_url":"https://api.github.com/repos/apache/druid/issues/7674","id":494742065,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDc0MjA2NQ==","user":{"login":"giom-l","id":29728596,"node_id":"MDQ6VXNlcjI5NzI4NTk2","avatar_url":"https://avatars.githubusercontent.com/u/29728596?v=4","gravatar_id":"","url":"https://api.github.com/users/giom-l","html_url":"https://github.com/giom-l","followers_url":"https://api.github.com/users/giom-l/followers","following_url":"https://api.github.com/users/giom-l/following{/other_user}","gists_url":"https://api.github.com/users/giom-l/gists{/gist_id}","starred_url":"https://api.github.com/users/giom-l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giom-l/subscriptions","organizations_url":"https://api.github.com/users/giom-l/orgs","repos_url":"https://api.github.com/users/giom-l/repos","events_url":"https://api.github.com/users/giom-l/events{/privacy}","received_events_url":"https://api.github.com/users/giom-l/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T10:14:46Z","updated_at":"2019-05-22T10:14:46Z","author_association":"CONTRIBUTOR","body":"Should i do something about the build not passing ? Seems like a timeout during tests","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494742065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494742673","html_url":"https://github.com/apache/druid/pull/7674#issuecomment-494742673","issue_url":"https://api.github.com/repos/apache/druid/issues/7674","id":494742673,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDc0MjY3Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T10:16:40Z","updated_at":"2019-05-22T10:16:40Z","author_association":"CONTRIBUTOR","body":"I restarted that one, it might have flaked out.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494742673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494753005","html_url":"https://github.com/apache/druid/pull/7674#issuecomment-494753005","issue_url":"https://api.github.com/repos/apache/druid/issues/7674","id":494753005,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDc1MzAwNQ==","user":{"login":"giom-l","id":29728596,"node_id":"MDQ6VXNlcjI5NzI4NTk2","avatar_url":"https://avatars.githubusercontent.com/u/29728596?v=4","gravatar_id":"","url":"https://api.github.com/users/giom-l","html_url":"https://github.com/giom-l","followers_url":"https://api.github.com/users/giom-l/followers","following_url":"https://api.github.com/users/giom-l/following{/other_user}","gists_url":"https://api.github.com/users/giom-l/gists{/gist_id}","starred_url":"https://api.github.com/users/giom-l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giom-l/subscriptions","organizations_url":"https://api.github.com/users/giom-l/orgs","repos_url":"https://api.github.com/users/giom-l/repos","events_url":"https://api.github.com/users/giom-l/events{/privacy}","received_events_url":"https://api.github.com/users/giom-l/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T10:52:14Z","updated_at":"2019-05-22T10:52:14Z","author_association":"CONTRIBUTOR","body":"Thanks, it worked !","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494753005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494820707","html_url":"https://github.com/apache/druid/pull/7701#issuecomment-494820707","issue_url":"https://api.github.com/repos/apache/druid/issues/7701","id":494820707,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDgyMDcwNw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T14:12:51Z","updated_at":"2019-05-22T14:12:51Z","author_association":"CONTRIBUTOR","body":"Rebased against master","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494820707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494850783","html_url":"https://github.com/apache/druid/pull/7728#issuecomment-494850783","issue_url":"https://api.github.com/repos/apache/druid/issues/7728","id":494850783,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDg1MDc4Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T15:23:09Z","updated_at":"2019-05-22T15:23:09Z","author_association":"CONTRIBUTOR","body":"@hellobabygogo thanks for the contrib. Just an FYI that select query is now deprecated in favor of Scan query.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494850783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494883301","html_url":"https://github.com/apache/druid/issues/7609#issuecomment-494883301","issue_url":"https://api.github.com/repos/apache/druid/issues/7609","id":494883301,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDg4MzMwMQ==","user":{"login":"sashidhar","id":287761,"node_id":"MDQ6VXNlcjI4Nzc2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/287761?v=4","gravatar_id":"","url":"https://api.github.com/users/sashidhar","html_url":"https://github.com/sashidhar","followers_url":"https://api.github.com/users/sashidhar/followers","following_url":"https://api.github.com/users/sashidhar/following{/other_user}","gists_url":"https://api.github.com/users/sashidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/sashidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sashidhar/subscriptions","organizations_url":"https://api.github.com/users/sashidhar/orgs","repos_url":"https://api.github.com/users/sashidhar/repos","events_url":"https://api.github.com/users/sashidhar/events{/privacy}","received_events_url":"https://api.github.com/users/sashidhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T16:47:23Z","updated_at":"2019-05-22T17:01:45Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\n1. This is the match pattern I'm currently using for Local Variable names `'^[a-z_](_?[a-zA-Z0-9_]+)*$'`considering variables starting with and ending with underscores as well. Let me know if this is fine.\r\n\r\n2. There are several occurrences of variables which are not constants (non final) and have variables all capitalized for instance,    Pattern DOT_OR_WHITESPACE = Pattern.compile(\"[\\\\s]+|[.]+\");    etc. I'm changing these to lower case. Is that fine ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494883301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494899188","html_url":"https://github.com/apache/druid/issues/7609#issuecomment-494899188","issue_url":"https://api.github.com/repos/apache/druid/issues/7609","id":494899188,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDg5OTE4OA==","user":{"login":"sashidhar","id":287761,"node_id":"MDQ6VXNlcjI4Nzc2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/287761?v=4","gravatar_id":"","url":"https://api.github.com/users/sashidhar","html_url":"https://github.com/sashidhar","followers_url":"https://api.github.com/users/sashidhar/followers","following_url":"https://api.github.com/users/sashidhar/following{/other_user}","gists_url":"https://api.github.com/users/sashidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/sashidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sashidhar/subscriptions","organizations_url":"https://api.github.com/users/sashidhar/orgs","repos_url":"https://api.github.com/users/sashidhar/repos","events_url":"https://api.github.com/users/sashidhar/events{/privacy}","received_events_url":"https://api.github.com/users/sashidhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T17:39:45Z","updated_at":"2019-05-22T17:39:45Z","author_association":"CONTRIBUTOR","body":"@leventov,\r\n\r\n3. For local final variables example here http://checkstyle.sourceforge.net/config_naming.html#LocalFinalVariableName suggests names that are only upper case letters and digits `\"^[A-Z][A-Z0-9]*$\"`.  \r\n\r\nAs per this pattern, following variable should be changed  from\r\nfinal ObjectMapper mapper = new ObjectMapper(); to\r\nfinal ObjectMapper MAPPER = new ObjectMapper();\r\n\r\nI'm not sure if this makes sense changing non static variable names to all caps !!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494899188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494931501","html_url":"https://github.com/apache/druid/pull/7731#issuecomment-494931501","issue_url":"https://api.github.com/repos/apache/druid/issues/7731","id":494931501,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDkzMTUwMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T19:16:20Z","updated_at":"2019-05-22T19:16:20Z","author_association":"CONTRIBUTOR","body":"LGTM in general. But I had a thought of adding following method to AggregatorFactory\r\n\r\n```\r\n@Nullable\r\npublic final Object finalizeComputationWithNull(@Nullable Object object)\r\n{\r\n    return object == null ? null : finalizeComputation(object);\r\n}\r\n```\r\n\r\nand use above in all of druid code instead of `finalizeComputation(..)` . This would fix the problem for extensions not in druid codebase and also one less thing to worry by future aggregator factory writers.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494931501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494951826","html_url":"https://github.com/apache/druid/pull/7669#issuecomment-494951826","issue_url":"https://api.github.com/repos/apache/druid/issues/7669","id":494951826,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk1MTgyNg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T20:09:02Z","updated_at":"2019-05-22T20:09:02Z","author_association":"CONTRIBUTOR","body":"Yay, this finally passed all the tests!\r\nThis is good to go as far as I am concerned ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494951826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494957996","html_url":"https://github.com/apache/druid/pull/7731#issuecomment-494957996","issue_url":"https://api.github.com/repos/apache/druid/issues/7731","id":494957996,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk1Nzk5Ng==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T20:25:22Z","updated_at":"2019-05-22T20:26:14Z","author_association":"MEMBER","body":"> ...use above in all of druid code instead of finalizeComputation(..) . This would fix the problem for extensions not in druid codebase and also one less thing to worry by future aggregator factory writers.\r\n\r\nI considered that as well, but didn't initially make the change because it would be taking a stronger position to mean that aggregators are not allowed to transform a null into a different value when finalizing a computation. My initial commit failed tests because I didn't realize that the cardinality/hyperunique aggregator were doing this in the `HyperUniquesAggregatorFactory.estimateCardinality` method, because it wasn't marked as nullable so I assumed it was non-null.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494957996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494982136","html_url":"https://github.com/apache/druid/pull/7174#issuecomment-494982136","issue_url":"https://api.github.com/repos/apache/druid/issues/7174","id":494982136,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk4MjEzNg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T21:33:36Z","updated_at":"2019-05-22T21:33:36Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494982136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494988305","html_url":"https://github.com/apache/druid/pull/7731#issuecomment-494988305","issue_url":"https://api.github.com/repos/apache/druid/issues/7731","id":494988305,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk4ODMwNQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T21:53:26Z","updated_at":"2019-05-22T21:53:26Z","author_association":"MEMBER","body":"I think cardinality/hyperunique behavior also raises another thing to consider, is that maybe we should try to make this behavior consistent for the same types of aggregators, like for example `HllSketchAggregatorFactory.finalizeComputation` should maybe return 0 instead of null when faced with null to behave the same way. Reasoning this through is maybe a bit more involved than fixing the null pointer exceptions, so it might be better suited to a follow-up PR to try to make similar aggregators behave consistently?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494988305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/494997860","html_url":"https://github.com/apache/druid/issues/7609#issuecomment-494997860","issue_url":"https://api.github.com/repos/apache/druid/issues/7609","id":494997860,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk5Nzg2MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T22:29:14Z","updated_at":"2019-05-22T22:29:14Z","author_association":"CONTRIBUTOR","body":"> There are several occurrences of variables which are not constants (i.e non static fields) which have variables all capitalized for instance, Pattern DOT_OR_WHITESPACE = Pattern.compile(\"[\\s]+|[.]+\"); etc. I'm changing these to lower case. Is that fine ?\r\n\r\nFor some of these, it might be an indication that the variable was intended to be a static constant, but the original developer just forgot to include the static keyword. So I would approach these with an open mind to fixing bugs like that too, not necessarily just fixing the names to match the current state.\r\n\r\n> For local final variables example here http://checkstyle.sourceforge.net/config_naming.html#LocalFinalVariableName suggests names that are only upper case letters and digits \"^[A-Z][A-Z0-9]*$\".\r\n\r\nIMO, this is silly, I don't see a reason to require this pattern. In fact, I'd be more inclined to require the _opposite_ (local final variables should start with lowercase letters).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/494997860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495014170","html_url":"https://github.com/apache/druid/pull/7731#issuecomment-495014170","issue_url":"https://api.github.com/repos/apache/druid/issues/7731","id":495014170,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxNDE3MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:42:15Z","updated_at":"2019-05-22T23:42:15Z","author_association":"CONTRIBUTOR","body":"@clintropolis yeah , I forgot that default behavior might be dependent on the aggregation being considered. this PR is fine on its own.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495014170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495016935","html_url":"https://github.com/apache/druid/pull/7728#issuecomment-495016935","issue_url":"https://api.github.com/repos/apache/druid/issues/7728","id":495016935,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxNjkzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:56:38Z","updated_at":"2019-05-22T23:56:38Z","author_association":"CONTRIBUTOR","body":"How about instead fixing this by keeping time in `timestamp`, but then also dropping any dimension/metric that is named `timestamp` (instead of overwriting the time)? That would mean there's no incompatibility.\r\n\r\nI don't think the API churn is a good thing in this case. It will make migration tough. If we're going to force people to change their API calls, they might as well switch to Scan, which is better than Select.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495016935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495017202","html_url":"https://github.com/apache/druid/issues/7733#issuecomment-495017202","issue_url":"https://api.github.com/repos/apache/druid/issues/7733","id":495017202,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxNzIwMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:57:59Z","updated_at":"2019-05-22T23:57:59Z","author_association":"CONTRIBUTOR","body":"It sounds useful to me. If it's not computationally or memory intensive to compute, I don't see why not.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495017202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495018165","html_url":"https://github.com/apache/druid/pull/7701#issuecomment-495018165","issue_url":"https://api.github.com/repos/apache/druid/issues/7701","id":495018165,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxODE2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T00:02:47Z","updated_at":"2019-05-23T00:02:47Z","author_association":"CONTRIBUTOR","body":"Jackson and Guava are two libraries that always seem to cause dependency nightmares in connection with Hadoop. I would want to test this out with various Hadoop distributions before pulling the trigger. I know it's a pain but we have been burned here before. Is there any chance you are willing to do some of these tests?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495018165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495018328","html_url":"https://github.com/apache/druid/issues/7726#issuecomment-495018328","issue_url":"https://api.github.com/repos/apache/druid/issues/7726","id":495018328,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxODMyOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T00:03:39Z","updated_at":"2019-05-23T00:03:39Z","author_association":"CONTRIBUTOR","body":"What would SQL standard behavior be?\r\n\r\nI think we're not standard for query (2), it should probably return `null`. I'm not sure what query (1) should return.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495018328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495034525","html_url":"https://github.com/apache/druid/pull/7728#issuecomment-495034525","issue_url":"https://api.github.com/repos/apache/druid/issues/7728","id":495034525,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAzNDUyNQ==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T01:37:14Z","updated_at":"2019-05-23T01:37:14Z","author_association":"NONE","body":"> How about instead fixing this by keeping time in `timestamp`, but then also dropping any dimension/metric that is named `timestamp` (instead of overwriting the time)? That would mean there's no incompatibility.\r\n> \r\n> I don't think the API churn is a good thing in this case. It will make migration tough. If we're going to force people to change their API calls, they might as well switch to Scan, which is better than Select.\r\n\r\nhi gianm\r\nBecause our users need sorting, so the scan query can not replace select","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495034525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495041803","html_url":"https://github.com/apache/druid/pull/7728#issuecomment-495041803","issue_url":"https://api.github.com/repos/apache/druid/issues/7728","id":495041803,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTA0MTgwMw==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T02:18:11Z","updated_at":"2019-05-23T02:18:11Z","author_association":"NONE","body":"> @hellobabygogo thanks for the contrib. Just an FYI that select query is now deprecated in favor of Scan query.\r\n\r\n@fjy , hi fangjin\r\n\r\nThanks for your reply! Because our users need sorting, so the scan query can not replace select","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495041803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495053991","html_url":"https://github.com/apache/druid/pull/7728#issuecomment-495053991","issue_url":"https://api.github.com/repos/apache/druid/issues/7728","id":495053991,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTA1Mzk5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T03:29:29Z","updated_at":"2019-05-23T03:29:29Z","author_association":"CONTRIBUTOR","body":"In master, Scan supports time ordering, and this will be released in 0.15.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495053991/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495151132","html_url":"https://github.com/apache/druid/pull/7642#issuecomment-495151132","issue_url":"https://api.github.com/repos/apache/druid/issues/7642","id":495151132,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTE1MTEzMg==","user":{"login":"blugowski","id":22055014,"node_id":"MDQ6VXNlcjIyMDU1MDE0","avatar_url":"https://avatars.githubusercontent.com/u/22055014?v=4","gravatar_id":"","url":"https://api.github.com/users/blugowski","html_url":"https://github.com/blugowski","followers_url":"https://api.github.com/users/blugowski/followers","following_url":"https://api.github.com/users/blugowski/following{/other_user}","gists_url":"https://api.github.com/users/blugowski/gists{/gist_id}","starred_url":"https://api.github.com/users/blugowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blugowski/subscriptions","organizations_url":"https://api.github.com/users/blugowski/orgs","repos_url":"https://api.github.com/users/blugowski/repos","events_url":"https://api.github.com/users/blugowski/events{/privacy}","received_events_url":"https://api.github.com/users/blugowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T09:55:10Z","updated_at":"2019-05-23T09:55:10Z","author_association":"CONTRIBUTOR","body":"@himanshug, @surekhasaharan thanks for code review!\r\n\r\n@jihoonson I think it's not related.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495151132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495244946","html_url":"https://github.com/apache/druid/issues/7609#issuecomment-495244946","issue_url":"https://api.github.com/repos/apache/druid/issues/7609","id":495244946,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTI0NDk0Ng==","user":{"login":"sashidhar","id":287761,"node_id":"MDQ6VXNlcjI4Nzc2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/287761?v=4","gravatar_id":"","url":"https://api.github.com/users/sashidhar","html_url":"https://github.com/sashidhar","followers_url":"https://api.github.com/users/sashidhar/followers","following_url":"https://api.github.com/users/sashidhar/following{/other_user}","gists_url":"https://api.github.com/users/sashidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/sashidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sashidhar/subscriptions","organizations_url":"https://api.github.com/users/sashidhar/orgs","repos_url":"https://api.github.com/users/sashidhar/repos","events_url":"https://api.github.com/users/sashidhar/events{/privacy}","received_events_url":"https://api.github.com/users/sashidhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T14:34:01Z","updated_at":"2019-05-23T14:34:01Z","author_association":"CONTRIBUTOR","body":"How do I create a pull request ? I've made changes in a local branch and unable to commit the local branch to remote. I was thinking to push local branch to remote and then raise a pull request.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495244946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495288920","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-495288920","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":495288920,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTI4ODkyMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T16:23:49Z","updated_at":"2019-05-23T16:23:49Z","author_association":"MEMBER","body":"@jihoonson \r\n\r\n> This sounds like going back to feature-based release instead of time-based one. Per the discussion you started, we are trying to freeze code every 3 months.\r\n\r\nNote that I unblocked #7425 only on the condition that people agree with the proposed approach and it's being implemented immediately: https://github.com/apache/incubator-druid/pull/7425#discussion_r279823676. If I knew that new round of debate will start, I wouldn't unblock that PR and insisted on completely resolving that question before merging.\r\n\r\n@gianm \r\n\r\n> From context I'm guessing it's the HTTP API. I suggest we address that by not documenting it and treating it as an internal API. \r\n\r\nInternal API cannot be broken either to ensure there is a safe rolling upgrade/downgrade plan. So version 0.16 would need to add alternative implementation while fully supporting the old `SegmentWithOvershadowedStatus`, and only 0.17 can remove `SegmentWithOvershadowedStatus`.\r\n\r\n---\r\n\r\nI think the main reason why I proposed mutable `isOvershadowed` field was that I initially proposed to compute it lazily, on demand in `SQLMetadataSegmentManager`. However, later I agreed ([in this thread](#issuecomment-488330261), actually) that it can also be eager. So I think immutable would work fine.\r\n\r\n> I'm also curious about the benefit we can when DataSegment becomes mutable. Is there anything else except memory savings?\r\n\r\nMemory and concurrency (see #7595).\r\n\r\nSo what about the following:\r\n\r\n - Immutable, but extensible `DataSegment`.\r\n - Immutable `SegmentWithOvershadowedStatus` which extends `DataSegment` (note: they also have different JSON representations).\r\n - Although immutable, both are decidedly *containers*, not \"data classes\". They both prohibit `equals()` and `hashCode()` as described [here](https://github.com/apache/incubator-druid/issues/6358#issuecomment-489102183).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495288920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495289289","html_url":"https://github.com/apache/druid/pull/7734#issuecomment-495289289","issue_url":"https://api.github.com/repos/apache/druid/issues/7734","id":495289289,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTI4OTI4OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T16:24:53Z","updated_at":"2019-05-23T16:24:53Z","author_association":"CONTRIBUTOR","body":"@jihoonson do you mind helping me backport this to 0.15?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495289289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495294723","html_url":"https://github.com/apache/druid/pull/7681#issuecomment-495294723","issue_url":"https://api.github.com/repos/apache/druid/issues/7681","id":495294723,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTI5NDcyMw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T16:40:42Z","updated_at":"2019-05-23T16:40:53Z","author_association":"MEMBER","body":"@lml2468 thanks for the contribution!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495294723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495295982","html_url":"https://github.com/apache/druid/issues/7609#issuecomment-495295982","issue_url":"https://api.github.com/repos/apache/druid/issues/7609","id":495295982,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTI5NTk4Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T16:44:13Z","updated_at":"2019-05-23T16:44:13Z","author_association":"MEMBER","body":"@sashidhar it looks like there is a collision and @lml2468 has already solved this problem. In general, please consult to Github Help and web search to resolve such questions: https://help.github.com/en/articles/creating-a-pull-request","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495295982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495302516","html_url":"https://github.com/apache/druid/pull/7734#issuecomment-495302516","issue_url":"https://api.github.com/repos/apache/druid/issues/7734","id":495302516,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMwMjUxNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T17:03:15Z","updated_at":"2019-05-23T17:03:15Z","author_association":"CONTRIBUTOR","body":"Sure, raised https://github.com/apache/incubator-druid/pull/7739.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495302516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495314738","html_url":"https://github.com/apache/druid/issues/7628#issuecomment-495314738","issue_url":"https://api.github.com/repos/apache/druid/issues/7628","id":495314738,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMxNDczOA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T17:38:10Z","updated_at":"2019-05-23T17:38:10Z","author_association":"CONTRIBUTOR","body":"What is stopping this release? It has been two weeks since release candidate.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495314738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495314956","html_url":"https://github.com/apache/druid/issues/7628#issuecomment-495314956","issue_url":"https://api.github.com/repos/apache/druid/issues/7628","id":495314956,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMxNDk1Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T17:38:49Z","updated_at":"2019-05-23T17:38:49Z","author_association":"CONTRIBUTOR","body":"We still need 2 more +1 votes: https://lists.apache.org/list.html?general@incubator.apache.org","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495314956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495331651","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-495331651","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":495331651,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMzMTY1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T18:26:00Z","updated_at":"2019-05-23T18:26:00Z","author_association":"CONTRIBUTOR","body":"> Note that I unblocked #7425 only on the condition that people agree with the proposed approach and it's being implemented immediately: #7425 (comment). If I knew that new round of debate will start, I wouldn't unblock that PR and insisted on completely resolving that question before merging.\r\n\r\n@leventov thank you for additional context. I didn't notice this before. This sounds like Both https://github.com/apache/incubator-druid/pull/7425 and https://github.com/apache/incubator-druid/pull/7595 are supposed to be done in a single PR, but they are separate for the sake of convenience of the author and reviewers. And I like to avoid two potential problems in https://github.com/apache/incubator-druid/pull/7425, i.e., slow API performance and internal API mismatch between versions. So, I think it makes sense to add this to 0.15.0 as long as https://github.com/apache/incubator-druid/pull/7595 won't take long time.\r\n\r\n> So what about the following:\r\n>\r\n> - Immutable, but extensible DataSegment.\r\n> - Immutable SegmentWithOvershadowedStatus which extends DataSegment (note: they also have different JSON representations).\r\n> - Although immutable, both are decidedly containers, not \"data classes\". They both prohibit equals() and hashCode() as described here.\r\n\r\nYour suggestion sounds good to me. \r\n\r\n> Memory and concurrency (see #7595).\r\n\r\nhttps://github.com/apache/incubator-druid/pull/7595 looks about eager computation of overshadowed segments rather than mutable segments. Would you tell me more how the mutable segment helps concurrency?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495331651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495353746","html_url":"https://github.com/apache/druid/issues/7736#issuecomment-495353746","issue_url":"https://api.github.com/repos/apache/druid/issues/7736","id":495353746,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM1Mzc0Ng==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T19:30:03Z","updated_at":"2019-05-23T19:30:03Z","author_association":"CONTRIBUTOR","body":"sounds like expected behavior: it takes time for coordinator to notice removal of a segment in metadataStore and then asking the historical node to drop a segment, it should go away after a while. if it never goes away then there is something fishy going on.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495353746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495357873","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-495357873","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":495357873,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM1Nzg3Mw==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T19:41:20Z","updated_at":"2019-05-23T19:41:20Z","author_association":"NONE","body":"@leventov @jihoonson @gianm thanks for the discussion, I will work on this PR tomorrow and hopefully we can get it closed before 0.15. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495357873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495364906","html_url":"https://github.com/apache/druid/issues/7741#issuecomment-495364906","issue_url":"https://api.github.com/repos/apache/druid/issues/7741","id":495364906,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM2NDkwNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T20:03:57Z","updated_at":"2019-05-23T20:03:57Z","author_association":"CONTRIBUTOR","body":"I see some differences between two specs in the size of thetaSketch and partitionSpec. The thetaSketch gives an approximate result, and so I guess maybe the different result comes from the mismatch in size and the partitionSpec which is expected?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495364906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495367228","html_url":"https://github.com/apache/druid/pull/7729#issuecomment-495367228","issue_url":"https://api.github.com/repos/apache/druid/issues/7729","id":495367228,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM2NzIyOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T20:11:24Z","updated_at":"2019-05-23T20:11:24Z","author_association":"CONTRIBUTOR","body":"To me, this bug doesn't look critical enough to backport to 0.15.0. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495367228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495380923","html_url":"https://github.com/apache/druid/pull/7723#issuecomment-495380923","issue_url":"https://api.github.com/repos/apache/druid/issues/7723","id":495380923,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM4MDkyMw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T20:52:51Z","updated_at":"2019-05-23T20:52:51Z","author_association":"CONTRIBUTOR","body":"Could you please make the splitter match the style that it had prior to this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495380923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495405097","html_url":"https://github.com/apache/druid/pull/7742#issuecomment-495405097","issue_url":"https://api.github.com/repos/apache/druid/issues/7742","id":495405097,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQwNTA5Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T22:17:58Z","updated_at":"2019-05-23T22:17:58Z","author_association":"CONTRIBUTOR","body":"Please remove the branch once this PR is merged.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495405097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495419811","html_url":"https://github.com/apache/druid/pull/7735#issuecomment-495419811","issue_url":"https://api.github.com/repos/apache/druid/issues/7735","id":495419811,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQxOTgxMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T23:27:21Z","updated_at":"2019-05-23T23:27:21Z","author_association":"CONTRIBUTOR","body":"@gianm thanks for reminding me. I think I have to do some tests before adding the draft for release notes. I'm especially not sure about what happens if a task which was running with an old version is restored as a new version. I think it should just work as expected with the new version, but will try to make sure.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495419811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495423632","html_url":"https://github.com/apache/druid/pull/7642#issuecomment-495423632","issue_url":"https://api.github.com/repos/apache/druid/issues/7642","id":495423632,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQyMzYzMg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T23:48:20Z","updated_at":"2019-05-23T23:48:20Z","author_association":"CONTRIBUTOR","body":"Thank you for updating the web console / typescript parts so promptly to reflect the new spec tests!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495423632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495423914","html_url":"https://github.com/apache/druid/issues/6214#issuecomment-495423914","issue_url":"https://api.github.com/repos/apache/druid/issues/6214","id":495423914,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQyMzkxNA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T23:49:51Z","updated_at":"2019-05-23T23:49:51Z","author_association":"MEMBER","body":"Resolved by #7642 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495423914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495464403","html_url":"https://github.com/apache/druid/issues/7628#issuecomment-495464403","issue_url":"https://api.github.com/repos/apache/druid/issues/7628","id":495464403,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ2NDQwMw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T04:01:34Z","updated_at":"2019-05-24T04:01:34Z","author_association":"MEMBER","body":"The vote has passed, release artifacts are currently propagating to mirrors and maven, announcement should happen in the next 24 hours or so","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495464403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495469068","html_url":"https://github.com/apache/druid/pull/7723#issuecomment-495469068","issue_url":"https://api.github.com/repos/apache/druid/issues/7723","id":495469068,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ2OTA2OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T04:35:04Z","updated_at":"2019-05-24T04:35:04Z","author_association":"CONTRIBUTOR","body":"Thank you for all the changes. This is good to go ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495469068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495477094","html_url":"https://github.com/apache/druid/pull/7751#issuecomment-495477094","issue_url":"https://api.github.com/repos/apache/druid/issues/7751","id":495477094,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ3NzA5NA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T05:27:07Z","updated_at":"2019-05-24T05:27:07Z","author_association":"CONTRIBUTOR","body":"Oh damn, should I code review all of jQuery?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495477094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495479620","html_url":"https://github.com/apache/druid/issues/7506#issuecomment-495479620","issue_url":"https://api.github.com/repos/apache/druid/issues/7506","id":495479620,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ3OTYyMA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T05:42:00Z","updated_at":"2019-05-24T05:42:00Z","author_association":"CONTRIBUTOR","body":"I believe that with the changes in #7528 this can be considered closed ( @clintropolis )\r\n\r\n![image](https://user-images.githubusercontent.com/177816/58305156-e7011c00-7dab-11e9-9b0f-f2e98bf244bc.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495479620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495479957","html_url":"https://github.com/apache/druid/issues/3334#issuecomment-495479957","issue_url":"https://api.github.com/repos/apache/druid/issues/3334","id":495479957,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ3OTk1Nw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T05:44:05Z","updated_at":"2019-05-24T05:44:05Z","author_association":"CONTRIBUTOR","body":"I believe that https://github.com/apache/incubator-druid/pull/7703 addresses this","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495479957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495523047","html_url":"https://github.com/apache/druid/issues/7736#issuecomment-495523047","issue_url":"https://api.github.com/repos/apache/druid/issues/7736","id":495523047,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTUyMzA0Nw==","user":{"login":"sh-homelab","id":7791422,"node_id":"MDQ6VXNlcjc3OTE0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7791422?v=4","gravatar_id":"","url":"https://api.github.com/users/sh-homelab","html_url":"https://github.com/sh-homelab","followers_url":"https://api.github.com/users/sh-homelab/followers","following_url":"https://api.github.com/users/sh-homelab/following{/other_user}","gists_url":"https://api.github.com/users/sh-homelab/gists{/gist_id}","starred_url":"https://api.github.com/users/sh-homelab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sh-homelab/subscriptions","organizations_url":"https://api.github.com/users/sh-homelab/orgs","repos_url":"https://api.github.com/users/sh-homelab/repos","events_url":"https://api.github.com/users/sh-homelab/events{/privacy}","received_events_url":"https://api.github.com/users/sh-homelab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T08:34:13Z","updated_at":"2019-05-24T08:34:13Z","author_association":"NONE","body":"So coordinator is watching on metadataStore table ( druid_segments table is now empty ) and when the correspondent record referred to segment removed it will initiate historical node to clean the cache and coordinator itself managed by *druid.coordinator.period* and *druid.coordinator.startDelay*. \r\nI have never seen when historical drop the cache. \r\nIs there any way to check it? \r\nThank you. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495523047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495530085","html_url":"https://github.com/apache/druid/issues/7506#issuecomment-495530085","issue_url":"https://api.github.com/repos/apache/druid/issues/7506","id":495530085,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTUzMDA4NQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T08:55:58Z","updated_at":"2019-05-24T08:55:58Z","author_association":"MEMBER","body":"Resolved by #7528","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495530085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495666407","html_url":"https://github.com/apache/druid/pull/7751#issuecomment-495666407","issue_url":"https://api.github.com/repos/apache/druid/issues/7751","id":495666407,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTY2NjQwNw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T14:58:11Z","updated_at":"2019-05-24T14:58:11Z","author_association":"CONTRIBUTOR","body":"LGTM :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495666407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495727790","html_url":"https://github.com/apache/druid/pull/7752#issuecomment-495727790","issue_url":"https://api.github.com/repos/apache/druid/issues/7752","id":495727790,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTcyNzc5MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T17:45:55Z","updated_at":"2019-05-24T17:45:55Z","author_association":"CONTRIBUTOR","body":"This fixes a bug introduced in #7222 (the router used to know about the `lookup` function, but now it doesn't) so it's a regression in 0.15.0. It should be included.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495727790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495734214","html_url":"https://github.com/apache/druid/issues/7736#issuecomment-495734214","issue_url":"https://api.github.com/repos/apache/druid/issues/7736","id":495734214,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTczNDIxNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:02:26Z","updated_at":"2019-05-24T18:02:26Z","author_association":"CONTRIBUTOR","body":"yes, you can see the coordinator logs printed for corresponding segment name , as coordinator does stuff they would show up there.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495734214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495738096","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-495738096","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":495738096,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTczODA5Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:12:32Z","updated_at":"2019-05-24T18:12:32Z","author_association":"MEMBER","body":"@jihoonson the concurrency discussion started here: https://github.com/apache/incubator-druid/pull/7595#discussion_r282159218. @jon-wei argued that type of concurrent inconsistency is OK, but I'm not sure and don't want to verify that. That issue can be worked around relatively easily by creating an object `DataSourcesAndOvershadowedSegments` inside `SQLSegmentMetadataManager` and update a field with it atomically, rather than having two separate fields `dataSources` and `overshadowedSegments`, but this problem naturally goes away itself when `SQLSegmentMetadataManager` will store `SegmentWithOvershadowedStatus` objects in `dataSources` in the first place.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495738096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495740843","html_url":"https://github.com/apache/druid/pull/7705#issuecomment-495740843","issue_url":"https://api.github.com/repos/apache/druid/issues/7705","id":495740843,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc0MDg0Mw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:19:34Z","updated_at":"2019-05-24T18:19:34Z","author_association":"CONTRIBUTOR","body":"Looks good to go now ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495740843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495742150","html_url":"https://github.com/apache/druid/pull/7703#issuecomment-495742150","issue_url":"https://api.github.com/repos/apache/druid/issues/7703","id":495742150,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc0MjE1MA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:22:52Z","updated_at":"2019-05-24T18:22:52Z","author_association":"CONTRIBUTOR","body":"Looks good to go ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495742150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495748465","html_url":"https://github.com/apache/druid/issues/7741#issuecomment-495748465","issue_url":"https://api.github.com/repos/apache/druid/issues/7741","id":495748465,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc0ODQ2NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:39:19Z","updated_at":"2019-05-24T18:39:19Z","author_association":"CONTRIBUTOR","body":"from a cursory look it does look like the behavior due to sketch merge unpredictability and unrelated to #6743 .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495748465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495800919","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-495800919","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":495800919,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgwMDkxOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T22:08:24Z","updated_at":"2019-05-24T22:08:24Z","author_association":"CONTRIBUTOR","body":"> Immutable SegmentWithOvershadowedStatus which extends DataSegment (note: they also have different JSON representations).\r\n\r\nI guess this means we need to get rid of DataSegmentInterner (DataSegment objects cannot be interned effectively if they are being subclassed and have `overshadowed` fields that need to be changed). So we would want to add some other way of sharing objects between the broker's timeline (ServerSelector) and the metadata segment cache (MetadataSegmentView). We could perhaps have those two things store SegmentId objects rather than DataSegment objects, and have them use a shared registry object that stores the actual DataSegments.\r\n\r\nHowever, there are some wrinkles here:\r\n\r\n1. The 'shared registry object' would probably be some kind of wrapper around `Map<SegmentId, SegmentWithOvershadowedStatus>`. But when ServerSelector needs to register a DataSegment, it _doesn't have_ a valid overshadowed status. (It's just coming from a segment announcement, not a timeline, and 'overshadowed status' only makes sense in the context of a timeline.)\r\n2. There are not one, but _two_ timelines: the timeline of published segments, and the timeline of available segments. They don't always match up 100%. So in the single SegmentWithOvershadowedStatus object, which timeline is being referred to?\r\n\r\nOne way to answer these questions is:\r\n\r\n1. The 'shared registry' should wrap a `Map<SegmentId, DataSegment>`, where the DataSegments may be SegmentWithOvershadowedStatus or they may be the base class DataSegment. If they are the base class, it means we lack information about overshadowed status (maybe, so far, we've only seen it in a segment announcement). If they are the class SegmentWithOvershadowedStatus, it means we do have that information. We'll need to differentiate with `instanceof` checks.\r\n2. It should refer to the timeline of published segments. (That was the original motivation for introducing all this stuff in the first place.)\r\n\r\nWhat do you all think - @leventov, @surekhasaharan, @jihoonson, @jon-wei?\r\n\r\nBy the way, the JSON representations would just be different in that SegmentWithOvershadowedStatus has some extra fields, right?\r\n\r\n> Although immutable, both are decidedly containers, not \"data classes\". They both prohibit equals() and hashCode() as described here (https://github.com/apache/incubator-druid/issues/6358#issuecomment-489102183).\r\n\r\nWhat do you mean by 'prohibit' @leventov? I followed the link, and I don't see a suggestion about prohibiting equals and hashCode. (Just about prohibiting using DataSegments as keys in a map, which seems reasonable, given that _usually_ people probably meant to use SegmentId.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495800919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495802350","html_url":"https://github.com/apache/druid/pull/7705#issuecomment-495802350","issue_url":"https://api.github.com/repos/apache/druid/issues/7705","id":495802350,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgwMjM1MA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T22:16:22Z","updated_at":"2019-05-24T22:16:22Z","author_association":"MEMBER","body":"travis failure looks possible legit: https://travis-ci.org/apache/incubator-druid/jobs/536948848#L1700","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495802350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495806548","html_url":"https://github.com/apache/druid/pull/7725#issuecomment-495806548","issue_url":"https://api.github.com/repos/apache/druid/issues/7725","id":495806548,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgwNjU0OA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T22:41:47Z","updated_at":"2019-05-24T22:41:47Z","author_association":"MEMBER","body":"Should there be some sort of text or warning .. somewhere .. that not all lookups support introspection so this functionality might not work depending on the type of lookup?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495806548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495806987","html_url":"https://github.com/apache/druid/pull/7725#issuecomment-495806987","issue_url":"https://api.github.com/repos/apache/druid/issues/7725","id":495806987,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgwNjk4Nw==","user":{"login":"mcbrewster","id":37322608,"node_id":"MDQ6VXNlcjM3MzIyNjA4","avatar_url":"https://avatars.githubusercontent.com/u/37322608?v=4","gravatar_id":"","url":"https://api.github.com/users/mcbrewster","html_url":"https://github.com/mcbrewster","followers_url":"https://api.github.com/users/mcbrewster/followers","following_url":"https://api.github.com/users/mcbrewster/following{/other_user}","gists_url":"https://api.github.com/users/mcbrewster/gists{/gist_id}","starred_url":"https://api.github.com/users/mcbrewster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcbrewster/subscriptions","organizations_url":"https://api.github.com/users/mcbrewster/orgs","repos_url":"https://api.github.com/users/mcbrewster/repos","events_url":"https://api.github.com/users/mcbrewster/events{/privacy}","received_events_url":"https://api.github.com/users/mcbrewster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T22:44:29Z","updated_at":"2019-05-24T22:44:56Z","author_association":"CONTRIBUTOR","body":"> Should there be some sort of text or warning .. somewhere .. that not all lookups support introspection so this functionality might not work depending on the type of lookup?\r\n\r\nI ended up having to remove everything that had to do with introspection, apparently that part of the api is being removed in the near future. All that is left is edit and kill are under the wrench icon now. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495806987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495810515","html_url":"https://github.com/apache/druid/pull/7725#issuecomment-495810515","issue_url":"https://api.github.com/repos/apache/druid/issues/7725","id":495810515,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgxMDUxNQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T23:07:34Z","updated_at":"2019-05-24T23:07:34Z","author_association":"MEMBER","body":">I ended up having to remove everything that had to do with introspection, apparently that part of the api is being removed in the near future. All that is left is edit and kill are under the wrench icon now.\r\n\r\nOops, I did not refresh my browser before looking through this code and was seeing the old stuff, it looks a lot different now :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495810515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/495819641","html_url":"https://github.com/apache/druid/pull/7725#issuecomment-495819641","issue_url":"https://api.github.com/repos/apache/druid/issues/7725","id":495819641,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgxOTY0MQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-25T00:31:01Z","updated_at":"2019-05-25T00:31:01Z","author_association":"CONTRIBUTOR","body":"looks good to me after travis ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/495819641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]