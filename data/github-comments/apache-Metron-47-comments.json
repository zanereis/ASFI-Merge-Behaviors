[{"url":"https://api.github.com/repos/apache/metron/issues/comments/342560667","html_url":"https://github.com/apache/metron/pull/834#issuecomment-342560667","issue_url":"https://api.github.com/repos/apache/metron/issues/834","id":342560667,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjU2MDY2Nw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T17:34:09Z","updated_at":"2017-11-07T17:34:09Z","author_association":"CONTRIBUTOR","body":"my comment was re: \"It appears to me that we cannot add new templates via the current Ambari mechanism without modifying a release/MPack\"","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342560667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342593454","html_url":"https://github.com/apache/metron/pull/834#issuecomment-342593454","issue_url":"https://api.github.com/repos/apache/metron/issues/834","id":342593454,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjU5MzQ1NA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T19:24:44Z","updated_at":"2017-11-07T19:24:44Z","author_association":"CONTRIBUTOR","body":"@ottobackwards I need to think through the use cases and implications more (e.g. what about a non-ES situation?), but I think your points are valid.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342593454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342597729","html_url":"https://github.com/apache/metron/pull/835#issuecomment-342597729","issue_url":"https://api.github.com/repos/apache/metron/issues/835","id":342597729,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjU5NzcyOQ==","user":{"login":"CUGCR","id":31705587,"node_id":"MDQ6VXNlcjMxNzA1NTg3","avatar_url":"https://avatars.githubusercontent.com/u/31705587?v=4","gravatar_id":"","url":"https://api.github.com/users/CUGCR","html_url":"https://github.com/CUGCR","followers_url":"https://api.github.com/users/CUGCR/followers","following_url":"https://api.github.com/users/CUGCR/following{/other_user}","gists_url":"https://api.github.com/users/CUGCR/gists{/gist_id}","starred_url":"https://api.github.com/users/CUGCR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CUGCR/subscriptions","organizations_url":"https://api.github.com/users/CUGCR/orgs","repos_url":"https://api.github.com/users/CUGCR/repos","events_url":"https://api.github.com/users/CUGCR/events{/privacy}","received_events_url":"https://api.github.com/users/CUGCR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T19:38:49Z","updated_at":"2017-11-07T19:38:49Z","author_association":"NONE","body":"@ottobackwards back to you!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342597729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342597876","html_url":"https://github.com/apache/metron/pull/834#issuecomment-342597876","issue_url":"https://api.github.com/repos/apache/metron/issues/834","id":342597876,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjU5Nzg3Ng==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T19:39:26Z","updated_at":"2017-11-07T19:39:26Z","author_association":"CONTRIBUTOR","body":"  My comment is more 'big picture'.  I don't think it nec. applies to how this PR is resolved.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342597876/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342598587","html_url":"https://github.com/apache/metron/pull/835#issuecomment-342598587","issue_url":"https://api.github.com/repos/apache/metron/issues/835","id":342598587,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjU5ODU4Nw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T19:41:52Z","updated_at":"2017-11-07T19:41:52Z","author_association":"CONTRIBUTOR","body":"thank you @brianhurley.\r\n\r\n+1, I will commit","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342598587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342693259","html_url":"https://github.com/apache/metron/pull/338#issuecomment-342693259","issue_url":"https://api.github.com/repos/apache/metron/issues/338","id":342693259,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY5MzI1OQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T02:46:17Z","updated_at":"2017-11-08T02:46:17Z","author_association":"CONTRIBUTOR","body":"What is the status of this effort?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342693259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342693557","html_url":"https://github.com/apache/metron/pull/822#issuecomment-342693557","issue_url":"https://api.github.com/repos/apache/metron/issues/822","id":342693557,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY5MzU1Nw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T02:48:03Z","updated_at":"2017-11-08T02:48:03Z","author_association":"CONTRIBUTOR","body":"Since this has been landed in the other PR, can you close this one please?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342693557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342695821","html_url":"https://github.com/apache/metron/pull/774#issuecomment-342695821","issue_url":"https://api.github.com/repos/apache/metron/issues/774","id":342695821,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY5NTgyMQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T03:02:03Z","updated_at":"2017-11-08T03:02:03Z","author_association":"CONTRIBUTOR","body":"@mattf-horton I have added some more documentation, and I think the bundles-testing project provides a simple, integrated example.  @nickwallen and I talked it over, and he is going to try that.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342695821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342831751","html_url":"https://github.com/apache/metron/pull/824#issuecomment-342831751","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":342831751,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjgzMTc1MQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T14:22:32Z","updated_at":"2017-11-08T14:22:32Z","author_association":"CONTRIBUTOR","body":"Do we know why the partial update doesn't work?  I'm not necessarily opposed to doing this as a short term fix, but I'd like to know root cause.\r\n\r\nIt seems like overkill to submit a full object update on every alert that goes into a metaalert (e.g. that could be a hundred+ full document reindexes happening every time)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342831751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342844725","html_url":"https://github.com/apache/metron/pull/774#issuecomment-342844725","issue_url":"https://api.github.com/repos/apache/metron/issues/774","id":342844725,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mjg0NDcyNQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T15:04:29Z","updated_at":"2017-11-08T15:04:29Z","author_association":"CONTRIBUTOR","body":"I checkout your PR and then attempt to do an install and the build fails.\r\n```\r\n$ mvn clean install\r\n[INFO] Scanning for projects...\r\nDownloading: https://repo.maven.apache.org/maven2/org/apache/metron/bundles-maven-plugin/0.4.2/bundles-maven-plugin-0.4.2.pom\r\n[WARNING] The POM for org.apache.metron:bundles-maven-plugin:jar:0.4.2 is missing, no dependency information available\r\nDownloading: https://repo.maven.apache.org/maven2/org/apache/metron/bundles-maven-plugin/0.4.2/bundles-maven-plugin-0.4.2.jar\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[ERROR] Unresolveable build extension: Plugin org.apache.metron:bundles-maven-plugin:0.4.2 or one of its dependencies could not be resolved: Could not find artifact org.apache.metron:bundles-maven-plugin:jar:0.4.2 in central (https://repo.maven.apache.org/maven2) @\r\n @\r\n[ERROR] The build could not read 1 project -> [Help 1]\r\n[ERROR]\r\n[ERROR]   The project org.apache.metron:bundles-testing:0.4.2 (/Users/nallen/tmp/metron-pr774/bundles-testing/pom.xml) has 1 error\r\n[ERROR]     Unresolveable build extension: Plugin org.apache.metron:bundles-maven-plugin:0.4.2 or one of its dependencies could not be resolved: Could not find artifact org.apache.metron:bundles-maven-plugin:jar:0.4.2 in central (https://repo.maven.apache.org/maven2) -> [Help 2]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginManagerException\r\n```\r\n\r\nI noticed that you changed the .travis build instructions so that you have to manually go into the `bundles-maven-plugin` project and install that first.  \r\n```\r\n$ git diff origin/master -- .travis.yml\r\ndiff --git a/.travis.yml b/.travis.yml\r\nindex f5edfb27..8023830a 100644\r\n--- a/.travis.yml\r\n+++ b/.travis.yml\r\n@@ -33,6 +33,7 @@ before_install:\r\n   - npm config set prefix $HOME/.npm-prefix --global\r\n\r\n install:\r\n+  - cd bundles-maven-plugin && mvn -q install && cd ..\r\n   - time mvn -q -T 2C -DskipTests clean install\r\n\r\n script:\r\n```\r\n\r\nIdeally we need to be able to just build Metron by running an install from the root directory.  Is there no way around this?  What troubles did you run into that caused you to have to do this?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342844725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342849651","html_url":"https://github.com/apache/metron/pull/774#issuecomment-342849651","issue_url":"https://api.github.com/repos/apache/metron/issues/774","id":342849651,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mjg0OTY1MQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T15:19:49Z","updated_at":"2017-11-08T15:19:49Z","author_association":"CONTRIBUTOR","body":"I'm sorry nick, the instruction for 'how to build metron' from the top level readme didn't get pulled over when I did the reconstruction.\r\n\r\nThe plugin is not in any repo for maven to install from.  I don't know how to get it installed since we don't publish it.  I will check my list history, but I think we (not you necessarily) talked about doing it this way until we figured out if we were going to publish the plugin.\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342849651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342856115","html_url":"https://github.com/apache/metron/pull/836#issuecomment-342856115","issue_url":"https://api.github.com/repos/apache/metron/issues/836","id":342856115,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mjg1NjExNQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T15:39:40Z","updated_at":"2017-11-08T15:39:40Z","author_association":"MEMBER","body":"So, answering your questions en-masse we use the following similar to how they exist in regex:\r\n* `*` - `0` or `n` instances\r\n* `?` - `0` or `1` instance\r\n* `+` - `1` or `n` instances\r\n\r\nIn retrospect, this may not be as obvious as it seemed at the time. Think we need a key that indicates this? ;)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342856115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342862116","html_url":"https://github.com/apache/metron/pull/836#issuecomment-342862116","issue_url":"https://api.github.com/repos/apache/metron/issues/836","id":342862116,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mjg2MjExNg==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T15:57:47Z","updated_at":"2017-11-08T15:57:47Z","author_association":"MEMBER","body":"I think I'm more of a fan of being explicit than providing a key, given this only happens a few times through the whole doc.  Also, like I mentioned, the \\*s are being suppressed, so they're not actually in either form of the documentation ([here](https://metron.apache.org/current-book/metron-stellar/stellar-common/index.html) and [here](https://github.com/apache/metron/blob/master/metron-stellar/stellar-common/README.md)) which we've seen bite us numerous times in the past in our docs.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342862116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/342923033","html_url":"https://github.com/apache/metron/pull/836#issuecomment-342923033","issue_url":"https://api.github.com/repos/apache/metron/issues/836","id":342923033,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjkyMzAzMw==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T18:58:33Z","updated_at":"2017-11-08T18:58:33Z","author_association":"MEMBER","body":"I just took a stab at an update, @cestella can you take a look when you get a second","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/342923033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343150680","html_url":"https://github.com/apache/metron/pull/837#issuecomment-343150680","issue_url":"https://api.github.com/repos/apache/metron/issues/837","id":343150680,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE1MDY4MA==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T13:14:25Z","updated_at":"2017-11-09T13:14:25Z","author_association":"MEMBER","body":"This is ready for review.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343150680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343165195","html_url":"https://github.com/apache/metron/pull/812#issuecomment-343165195","issue_url":"https://api.github.com/repos/apache/metron/issues/812","id":343165195,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE2NTE5NQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T14:09:57Z","updated_at":"2017-11-09T14:09:57Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\n@JonZeolla You should be good to go, if you're still going to be the one to push it through.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343165195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343169506","html_url":"https://github.com/apache/metron/pull/810#issuecomment-343169506","issue_url":"https://api.github.com/repos/apache/metron/issues/810","id":343169506,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE2OTUwNg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T14:24:36Z","updated_at":"2017-11-09T14:24:36Z","author_association":"CONTRIBUTOR","body":"@dbist Looks like this did get merged in (commit cf404f77d16daca5692f6197575bcc56c58fc2a9), but the PR is still open.  I don't see anything wrong with the commit.  Can you just close this PR after @cestella confirms we're in the clear (since I think he merged it)?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343169506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343191031","html_url":"https://github.com/apache/metron/pull/837#issuecomment-343191031","issue_url":"https://api.github.com/repos/apache/metron/issues/837","id":343191031,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE5MTAzMQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T15:32:24Z","updated_at":"2017-11-09T15:32:24Z","author_association":"CONTRIBUTOR","body":"+1  Followed instructions, everything worked as expected.  One question, but mostly out of curiosity","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343191031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343191103","html_url":"https://github.com/apache/metron/pull/837#issuecomment-343191103","issue_url":"https://api.github.com/repos/apache/metron/issues/837","id":343191103,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE5MTEwMw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T15:32:36Z","updated_at":"2017-11-09T15:32:36Z","author_association":"CONTRIBUTOR","body":"Great job @JonZeolla ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343191103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343206425","html_url":"https://github.com/apache/metron/pull/824#issuecomment-343206425","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":343206425,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzIwNjQyNQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T16:17:23Z","updated_at":"2017-11-09T16:17:23Z","author_association":"CONTRIBUTOR","body":"@merrimanr For the findAllLatest, can we add a default implementation to the interface that would cover HBase (i.e. just do a for loop lookup), even if it's not efficient.  Otherwise, it should just be a MultiGet right if we want to do something more efficient / HBase specific, right?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343206425/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343207492","html_url":"https://github.com/apache/metron/pull/824#issuecomment-343207492","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":343207492,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzIwNzQ5Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T16:20:28Z","updated_at":"2017-11-09T16:20:28Z","author_association":"MEMBER","body":"I agree with @justinleet.  I think this is well within the scope of this PR since you're introducing a new method at an interface level.  In that situation, we should have either a default implementation or a specific implementation for every datastore where it makes sense to do the operation.  In this case, HBase certainly can and should have a `findAllLatest` implementation.  As Justin said, I'd be ok with a default implementation at the interface level.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343207492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343210087","html_url":"https://github.com/apache/metron/pull/824#issuecomment-343210087","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":343210087,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzIxMDA4Nw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T16:28:16Z","updated_at":"2017-11-09T16:28:16Z","author_association":"CONTRIBUTOR","body":"No problem.  I am still actively working on this PR and will add the HBaseDao.findAllLatest implementation task to my list.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343210087/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343222732","html_url":"https://github.com/apache/metron/pull/827#issuecomment-343222732","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":343222732,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzIyMjczMg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T17:06:59Z","updated_at":"2017-11-09T17:07:15Z","author_association":"CONTRIBUTOR","body":"I submitted a PR against your branch that adds a specific test case in the integration tests for this defect.  I validated that this test fails in master, but passes with your fix.  Feel free to include in your PR.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343222732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343233761","html_url":"https://github.com/apache/metron/pull/774#issuecomment-343233761","issue_url":"https://api.github.com/repos/apache/metron/issues/774","id":343233761,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzIzMzc2MQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T17:43:04Z","updated_at":"2017-11-09T17:51:49Z","author_association":"CONTRIBUTOR","body":"Bringing over this from #530, \r\n\r\nhttps://github.com/apache/nifi/commit/d90cf846b9dcd49acdeac7bb5fcd13ee80dcdba6#diff-83e1afb34470ca47809f82aa1caf2138\r\n\r\nis the commit in nifi for the nar-utils to diff.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343233761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343241541","html_url":"https://github.com/apache/metron/pull/838#issuecomment-343241541","issue_url":"https://api.github.com/repos/apache/metron/issues/838","id":343241541,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzI0MTU0MQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T18:10:27Z","updated_at":"2017-11-09T18:10:27Z","author_association":"MEMBER","body":"yeesh, good catch @nickwallen +1 by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343241541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343262346","html_url":"https://github.com/apache/metron/pull/838#issuecomment-343262346","issue_url":"https://api.github.com/repos/apache/metron/issues/838","id":343262346,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzI2MjM0Ng==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T19:20:07Z","updated_at":"2017-11-09T19:20:07Z","author_association":"CONTRIBUTOR","body":"+1 by inspection. Thanks for the fix","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343262346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343319933","html_url":"https://github.com/apache/metron/pull/824#issuecomment-343319933","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":343319933,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzMxOTkzMw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T22:59:49Z","updated_at":"2017-11-09T22:59:49Z","author_association":"CONTRIBUTOR","body":"The 2nd most recent commits updates the MetaAlertDao interface by adding additional methods for interacting with metaalerts.   This should make it easier to use and make the underlying implementation simpler and easier to understand by eliminating the need for complex logic that must catch all of the different use cases in the MetaAlertDao.update.  The high-level changes include:\r\n- dedicated methods that allow adding/removing alerts to/from a metaalert\r\n- dedicated method for changing the status of a metaalert\r\n- direct updates through IndexDao.update are no longer allowed on metaalerts, the other MetaAlertDao methods must be used instead\r\n\r\nThe latest commit updates the ElasticsearchMetaAlertIntegrationTest with several changes:\r\n- test data setup and test style is now consistent across all tests\r\n- test cases for the new interface methods were added\r\n- old test cases were reconciled with the new test cases\r\n- test coverage for ElasticsearchMetaAlertDao is now close to 100% with tests added for all the bugs found so far\r\n\r\nI am still working on adding these changes:\r\n- updated javadocs and comments in all relevant classes and tests\r\n- an HBaseDao.getAllLatest implementation and test\r\n- updated ElasticsearchMetaAlertDaoTest adapted for the new MetaAlertDao interface (it's currently all commented out for the purpose of running the integration tests)\r\n\r\nFor now reviewers can start looking at the new MetaAlertDao interface methods and the accompanying integration tests in ElasticsearchMetaAlertIntegrationTest.  Hope to have the rest pushed out soon.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343319933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343390045","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343390045","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343390045,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzM5MDA0NQ==","user":{"login":"alinazemian","id":8438293,"node_id":"MDQ6VXNlcjg0MzgyOTM=","avatar_url":"https://avatars.githubusercontent.com/u/8438293?v=4","gravatar_id":"","url":"https://api.github.com/users/alinazemian","html_url":"https://github.com/alinazemian","followers_url":"https://api.github.com/users/alinazemian/followers","following_url":"https://api.github.com/users/alinazemian/following{/other_user}","gists_url":"https://api.github.com/users/alinazemian/gists{/gist_id}","starred_url":"https://api.github.com/users/alinazemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alinazemian/subscriptions","organizations_url":"https://api.github.com/users/alinazemian/orgs","repos_url":"https://api.github.com/users/alinazemian/repos","events_url":"https://api.github.com/users/alinazemian/events{/privacy}","received_events_url":"https://api.github.com/users/alinazemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T06:55:17Z","updated_at":"2017-11-10T06:55:17Z","author_association":"NONE","body":"It might not be completely related to this PR, but since _timestamp is removed in ES 5.x, can we add a specific time of indexing at indexing bolt to capture time of indexing. It is useful for the purpose of benchmarking as well as evaluation of SLA.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343390045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343390623","html_url":"https://github.com/apache/metron/pull/831#issuecomment-343390623","issue_url":"https://api.github.com/repos/apache/metron/issues/831","id":343390623,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzM5MDYyMw==","user":{"login":"alinazemian","id":8438293,"node_id":"MDQ6VXNlcjg0MzgyOTM=","avatar_url":"https://avatars.githubusercontent.com/u/8438293?v=4","gravatar_id":"","url":"https://api.github.com/users/alinazemian","html_url":"https://github.com/alinazemian","followers_url":"https://api.github.com/users/alinazemian/followers","following_url":"https://api.github.com/users/alinazemian/following{/other_user}","gists_url":"https://api.github.com/users/alinazemian/gists{/gist_id}","starred_url":"https://api.github.com/users/alinazemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alinazemian/subscriptions","organizations_url":"https://api.github.com/users/alinazemian/orgs","repos_url":"https://api.github.com/users/alinazemian/repos","events_url":"https://api.github.com/users/alinazemian/events{/privacy}","received_events_url":"https://api.github.com/users/alinazemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T06:59:12Z","updated_at":"2017-11-10T06:59:12Z","author_association":"NONE","body":"That sounds great. We had a huge headache to find good tuning parameters for \"indexing\" topology. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343390623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343489632","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343489632","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343489632,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzQ4OTYzMg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T14:37:51Z","updated_at":"2017-11-10T14:37:51Z","author_association":"MEMBER","body":"@mraliagha Yeah, absolutely.   This task purposefully leaves out major changes that we could do to improve things (e.g. moving back to `.` separated fields instead of `:`).  The attempt is to touch as few things as possible.  Your ask makes a lot of sense and we should add it as a follow-on task.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343489632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343508254","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343508254","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343508254,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUwODI1NA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T15:46:49Z","updated_at":"2017-11-10T15:46:49Z","author_association":"CONTRIBUTOR","body":"Are there any required changes to the ansible roles?  I thought we injected the templates from there.  Or has the indexing service injection landed?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343508254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343508292","html_url":"https://github.com/apache/metron/pull/810#issuecomment-343508292","issue_url":"https://api.github.com/repos/apache/metron/issues/810","id":343508292,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUwODI5Mg==","user":{"login":"dbist","id":461296,"node_id":"MDQ6VXNlcjQ2MTI5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/461296?v=4","gravatar_id":"","url":"https://api.github.com/users/dbist","html_url":"https://github.com/dbist","followers_url":"https://api.github.com/users/dbist/followers","following_url":"https://api.github.com/users/dbist/following{/other_user}","gists_url":"https://api.github.com/users/dbist/gists{/gist_id}","starred_url":"https://api.github.com/users/dbist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbist/subscriptions","organizations_url":"https://api.github.com/users/dbist/orgs","repos_url":"https://api.github.com/users/dbist/repos","events_url":"https://api.github.com/users/dbist/events{/privacy}","received_events_url":"https://api.github.com/users/dbist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T15:46:58Z","updated_at":"2017-11-10T15:46:58Z","author_association":"CONTRIBUTOR","body":"@justinleet thanks for looking into this, as soon as I get a confirmation, I'll close it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343508292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343508962","html_url":"https://github.com/apache/metron/pull/810#issuecomment-343508962","issue_url":"https://api.github.com/repos/apache/metron/issues/810","id":343508962,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUwODk2Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T15:49:18Z","updated_at":"2017-11-10T15:49:18Z","author_association":"MEMBER","body":"It's merged.  The commit message looks acceptable too.  Not sure why it didn't automatically close.  Please close @dbist ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343508962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343509972","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343509972","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343509972,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUwOTk3Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T15:52:48Z","updated_at":"2017-11-10T15:52:48Z","author_association":"CONTRIBUTOR","body":"@ottobackwards thanks for the review! The templates themselves changed, but the deployment of those templates is the same. I discovered that with a host change in Kibana, I broke the Ambari Blueprint for running up full dev. I found the issue and am running it up now and should have that committed shortly.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343509972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343511435","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343511435","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343511435,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUxMTQzNQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T15:57:56Z","updated_at":"2017-11-10T15:57:56Z","author_association":"CONTRIBUTOR","body":"@ottobackwards Oh, afa the data pruner, I believe we can use Curator now as a built-in mechanism for pruning data. Steps will be added to the documentation.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/curator/current/index.html","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343511435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343511451","html_url":"https://github.com/apache/metron/pull/839#issuecomment-343511451","issue_url":"https://api.github.com/repos/apache/metron/issues/839","id":343511451,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUxMTQ1MQ==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T15:57:59Z","updated_at":"2017-11-10T15:57:59Z","author_association":"CONTRIBUTOR","body":"+1 (non-binding) works fine, and a much needed fix as well ! If for some reason, we were not able to install the templates during the startup, it would be caught by the service check. \r\n\r\nValidated this on a full dev environment. For a successful service check, I see this now:\r\n```\r\n2017-11-10 15:48:06,150 - Checking Elasticsearch templates for Indexing\r\n2017-11-10 15:48:06,151 - Execute['curl -s -XGET \"http://node1:9200/_template/yaf_index\" | grep -o yaf_index'] {'logoutput': True, 'path': ['/usr/sbin:/sbin:/usr/local/bin:/bin:/usr/bin'], 'tries': 3, 'user': 'metron', 'try_sleep': 5}\r\nyaf_index\r\nyaf_index\r\n2017-11-10 15:48:06,343 - Execute['curl -s -XGET \"http://node1:9200/_template/error_index\" | grep -o error_index'] {'logoutput': True, 'path': ['/usr/sbin:/sbin:/usr/local/bin:/bin:/usr/bin'], 'tries': 3, 'user': 'metron', 'try_sleep': 5}\r\nerror_index\r\nerror_index\r\n2017-11-10 15:48:06,385 - Execute['curl -s -XGET \"http://node1:9200/_template/snort_index\" | grep -o snort_index'] {'logoutput': True, 'path': ['/usr/sbin:/sbin:/usr/local/bin:/bin:/usr/bin'], 'tries': 3, 'user': 'metron', 'try_sleep': 5}\r\nsnort_index\r\nsnort_index\r\n2017-11-10 15:48:06,433 - Execute['curl -s -XGET \"http://node1:9200/_template/bro_index\" | grep -o bro_index'] {'logoutput': True, 'path': ['/usr/sbin:/sbin:/usr/local/bin:/bin:/usr/bin'], 'tries': 3, 'user': 'metron', 'try_sleep': 5}\r\nbro_index\r\nbro_index\r\n2017-11-10 15:48:06,491 - Execute['curl -s -XGET \"http://node1:9200/_template/metaalert_index\" | grep -o metaalert_index'] {'logoutput': True, 'path': ['/usr/sbin:/sbin:/usr/local/bin:/bin:/usr/bin'], 'tries': 3, 'user': 'metron', 'try_sleep': 5}\r\nmetaalert_index\r\n```\r\n\r\nAnd the service check fails when I delete the ES template file. \r\n```\r\nTraceback (most recent call last):\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.4.2/package/scripts/service_check.py\", line 78, in <module>\r\n    ServiceCheck().execute()\r\n  File \"/usr/lib/python2.6/site-packages/resource_management/libraries/script/script.py\", line 280, in execute\r\n    method(env)\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.4.2/package/scripts/service_check.py\", line 51, in service_check\r\n    indexing_cmds.service_check(env)\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.4.2/package/scripts/indexing_commands.py\", line 264, in service_check\r\n    self.check_elasticsearch_templates()\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.4.2/package/scripts/indexing_commands.py\", line 179, in check_elasticsearch_templates\r\n    metron_service.execute(cmd, user=self.__params.metron_user, err_msg=err_msg)\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.4.2/package/scripts/metron_service.py\", line 257, in execute\r\n    raise Fail(err_msg)\r\nresource_management.core.exceptions.Fail: Missing Elasticsearch index template: name=yaf_index\r\n```\r\n\r\n@nickwallen -  I see two conflicting files for the commit. Guess this would be need to be resolved first?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343511451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343512766","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343512766","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343512766,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUxMjc2Ng==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T16:02:48Z","updated_at":"2017-11-10T16:02:48Z","author_association":"CONTRIBUTOR","body":"Ok, killing my vagrant up then, until your commit","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343512766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343512967","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343512967","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343512967,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUxMjk2Nw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T16:03:33Z","updated_at":"2017-11-10T16:03:33Z","author_association":"CONTRIBUTOR","body":"Can you call the curator stuff out in your checklist above?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343512967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343513586","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343513586","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343513586,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUxMzU4Ng==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T16:05:40Z","updated_at":"2017-11-10T16:05:40Z","author_association":"CONTRIBUTOR","body":"@mraliagha @cestella agreed on timestamp.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343513586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343518654","html_url":"https://github.com/apache/metron/pull/839#issuecomment-343518654","issue_url":"https://api.github.com/repos/apache/metron/issues/839","id":343518654,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUxODY1NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T16:23:59Z","updated_at":"2017-11-10T16:23:59Z","author_association":"CONTRIBUTOR","body":"Thanks @anandsubbu .  I resolved the merge conflicts from master.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343518654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343531008","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343531008","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343531008,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUzMTAwOA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T17:09:38Z","updated_at":"2017-11-10T17:09:38Z","author_association":"CONTRIBUTOR","body":"Thanks @mmiklavc, those changes look good.  Running up in full dev","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343531008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343534252","html_url":"https://github.com/apache/metron/pull/839#issuecomment-343534252","issue_url":"https://api.github.com/repos/apache/metron/issues/839","id":343534252,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzUzNDI1Mg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T17:22:25Z","updated_at":"2017-11-10T17:22:25Z","author_association":"CONTRIBUTOR","body":"I ran this through another full test after merge with master.  Everything looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343534252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343549903","html_url":"https://github.com/apache/metron/pull/837#issuecomment-343549903","issue_url":"https://api.github.com/repos/apache/metron/issues/837","id":343549903,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzU0OTkwMw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T18:27:55Z","updated_at":"2017-11-10T18:27:55Z","author_association":"CONTRIBUTOR","body":"+1 LGTM.  Thanks!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343549903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343556356","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343556356","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343556356,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzU1NjM1Ng==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T18:54:41Z","updated_at":"2017-11-10T18:54:41Z","author_association":"CONTRIBUTOR","body":"Ok, looks like 2 more minor issues.\r\n1. params.py missing the kibana_server_host, so it's not making its way to kibana.yml\r\n2. The default index mapping template that ES creates when I index the Kibana configuration is not compatible with Kibana.\r\n\r\nI'm done fixing 1 already and have the solution for 2. I'm going to blow away the .kibana index, let Kibana recreate it with the expected template, and then extract that into a template file that's used during the Kibana server install. The only hitch is that this is one more thing that potentially needs to be modified/updated on future upgrades of ES and Kibana.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343556356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343561677","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343561677","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343561677,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzU2MTY3Nw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T19:17:59Z","updated_at":"2017-11-10T19:17:59Z","author_association":"CONTRIBUTOR","body":"I got full_dev failure on connecting to metron web.  Can you post when you think full dev is ready and I'll try again then?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343561677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343610529","html_url":"https://github.com/apache/metron/pull/824#issuecomment-343610529","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":343610529,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYxMDUyOQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T23:07:23Z","updated_at":"2017-11-10T23:07:23Z","author_association":"CONTRIBUTOR","body":"The latest commits address some outstanding tasks and address a couple other issues:\r\n- disabling updates to meta alert objects means we can't update a meta alert name or comments (or other fields that may be added in the future).  The patch implementation was added to the ElasticsearchMetaAlertDao to allow updates to fields other than `alert` and `status` which require special handling and have dedicated endpoints\r\n- a `getAllLatest` implementation was added to the HBaseDao along with an integration test\r\n- a bug was discovered where the number of search results returned defaults to 10 meaning changes to alerts are only propagated to the first 10 meta alerts and vice-versa.  This was corrected in the ElasticsearchDao.searchByGuids by explicitly setting the size and fixed in the alert/meta alert lookup queries by paging through all the results if necessary.  A test was added to the integration test to catch this case in the future.\r\n\r\nI feel like this PR is in pretty good shape from a functional perspective.  Still working on javadocs/documentation but it's ready for functional testing/code review.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343610529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343615360","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343615360","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343615360,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYxNTM2MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T23:39:18Z","updated_at":"2017-11-10T23:39:18Z","author_association":"CONTRIBUTOR","body":"@ottobackwards You should be good to try it now.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343615360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343627820","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343627820","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343627820,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYyNzgyMA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T01:16:07Z","updated_at":"2017-11-11T01:16:07Z","author_association":"CONTRIBUTOR","body":"Ran up in full dev, everything running normally, kibana dashboard has data.  Is the color scheme supposed to be so 'miami vice'?\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343627820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343629663","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343629663","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343629663,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYyOTY2Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T01:35:19Z","updated_at":"2017-11-11T01:35:19Z","author_association":"CONTRIBUTOR","body":"Whew, that's great news!\r\n\r\nHahahahaha, that's the default colors from the Kibana widgets... I usually refrain from bringing it up, but I'm partially colorblind (even though I used to do a fair amount of Photoshop graphic design work on the side, but it's a bit more effort for me). Anyhow, Kibana had no easy way to pick color names or supply RGB values, so I punted on it for now because I figured that's an easy change. If you would be willing to take a screenshot or the xy coordinate of colors in the color picker that you'd prefer, I'd be more than happy to change it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343629663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343641659","html_url":"https://github.com/apache/metron/pull/840#issuecomment-343641659","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":343641659,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzY0MTY1OQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T05:12:42Z","updated_at":"2017-11-11T05:12:42Z","author_association":"CONTRIBUTOR","body":"The only issue with it, is if we did that in the old version, then this would be a regression.  Other than that, I'm just waiting to review the docs ;)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343641659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343680157","html_url":"https://github.com/apache/metron/pull/839#issuecomment-343680157","issue_url":"https://api.github.com/repos/apache/metron/issues/839","id":343680157,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzY4MDE1Nw==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T17:25:46Z","updated_at":"2017-11-11T17:25:46Z","author_association":"CONTRIBUTOR","body":"+1 (non-binding). Validated again on full-dev. Works fine, @nickwallen !","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343680157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/343980756","html_url":"https://github.com/apache/metron/pull/824#issuecomment-343980756","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":343980756,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzk4MDc1Ng==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T16:46:31Z","updated_at":"2017-11-13T16:46:31Z","author_association":"CONTRIBUTOR","body":"@merrimanr Can you merge master into this PR? There is at least one fix in here that caused me problems spinning this up that's in master, so I'd like to have it pulled in so testing is as stable as possible.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/343980756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344031361","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344031361","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344031361,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDAzMTM2MQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T19:32:06Z","updated_at":"2017-11-13T19:32:06Z","author_association":"MEMBER","body":" whoops, nevermind, I see you already merged master.  my bad. :)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344031361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344048532","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344048532","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344048532,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDA0ODUzMg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T20:32:21Z","updated_at":"2017-11-13T20:32:21Z","author_association":"CONTRIBUTOR","body":"I've spun this up, and `add/alert` throws this exception:\r\n```\r\n{\r\n  \"responseCode\": 500,\r\n  \"message\": \"class org.apache.metron.elasticsearch.dao.ElasticsearchDao: ElasticsearchDao upsert failed: failure in bulk execution:\r\n[1]: index [metaalert_index], type [null_doc], id [be44748e-6471-465f-bd08-7f2c164b6755], message [java.lang.IllegalArgumentException: object mapping [alert] can't be changed from nested to non-nested]\r\njava.io.IOException: ElasticsearchDao upsert failed: failure in bulk execution:\r\n[1]: index [metaalert_index], type [null_doc], id [be44748e-6471-465f-bd08-7f2c164b6755], message [java.lang.IllegalArgumentException: object mapping [alert] can't be changed from nested to non-nested]\r\n\tat org.apache.metron.elasticsearch.dao.ElasticsearchDao.batchUpdate(ElasticsearchDao.java:368)\r\n\tat org.apache.metron.indexing.dao.MultiIndexDao.lambda$batchUpdate$3(MultiIndexDao.java:79)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:747)\r\n\tat java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:721)\r\n\tat java.util.stream.AbstractTask.compute(AbstractTask.java:316)\r\n\tat java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\",\r\n  \"fullMessage\": \"IOException: class org.apache.metron.elasticsearch.dao.ElasticsearchDao: ElasticsearchDao upsert failed: failure in bulk execution:\r\n[1]: index [metaalert_index], type [null_doc], id [be44748e-6471-465f-bd08-7f2c164b6755], message [java.lang.IllegalArgumentException: object mapping [alert] can't be changed from nested to non-nested]\r\njava.io.IOException: ElasticsearchDao upsert failed: failure in bulk execution:\r\n[1]: index [metaalert_index], type [null_doc], id [be44748e-6471-465f-bd08-7f2c164b6755], message [java.lang.IllegalArgumentException: object mapping [alert] can't be changed from nested to non-nested]\r\n\tat org.apache.metron.elasticsearch.dao.ElasticsearchDao.batchUpdate(ElasticsearchDao.java:368)\r\n\tat org.apache.metron.indexing.dao.MultiIndexDao.lambda$batchUpdate$3(MultiIndexDao.java:79)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:747)\r\n\tat java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:721)\r\n\tat java.util.stream.AbstractTask.compute(AbstractTask.java:316)\r\n\tat java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\"\r\n}\r\n```\r\n\r\nRequest\r\n```\r\n{\r\n  \"alertGuids\": [\r\n\"9b2e9b29-41a5-45fc-aabe-fd49c63af943\",\r\n\"0fbea2b2-c4f3-43a8-a717-8ceb3467ae10\",\r\n\"698289ca-43cf-4add-bf35-2a391ae1c244\"\r\n],\r\n  \"metaAlertGuid\": \"be44748e-6471-465f-bd08-7f2c164b6755\",\r\n  \"sensorTypes\": [\r\n\"bro\"\r\n]\r\n}\r\n```\r\n\r\nI'll dig into it a bit, but I assume something isn't quite being constructed properly.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344048532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344089276","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344089276","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344089276,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDA4OTI3Ng==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T23:04:06Z","updated_at":"2017-11-13T23:04:06Z","author_association":"CONTRIBUTOR","body":"The latest commit fixes the bug in the previous comment.  The root cause was that HBaseDao.getAllLatest was not properly returning the sensor type and causing subsequent updates in Elasticsearch to fail.  The solution was simple:  look up the sensor type from the document and add it to the return Document.  I added a constant for this field (essentially a copy of ElasticsearchMetaAlertDao.SOURCE_TYPE) to the HBaseDao in anticipation of the ES 5 upgrade where it will no longer be required to change .'s to :'s.  At that point we can just change the constant to Constants.SENSOR_TYPE and it should continue to function.  \r\n\r\nThere are a couple other solutions to this problem that I can think of:\r\n- change the getAllLatest interface to include guid/sensorType mappings instead of separate guid and sensorType lists\r\n- add a column family to store the sensor type\r\n- other more complicated ways of getting the correct sensor type field name\r\n\r\nI felt this temporary constant was the simplest but feel free to give opinions on other options.  I also update the HBaseDaoIntegrationTest to expect this field to be returned.\r\n\r\nThe PR description has been updated to reflect the various interface changes and new testing procedure.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344089276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344096600","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344096600","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344096600,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDA5NjYwMA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T23:41:54Z","updated_at":"2017-11-13T23:41:54Z","author_association":"CONTRIBUTOR","body":"I also found what I believe are 2 fairly significant architectural issues with our DAO abstraction:\r\n- https://issues.apache.org/jira/browse/METRON-1314\r\n- https://issues.apache.org/jira/browse/METRON-1315\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344096600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344266958","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344266958","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344266958,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDI2Njk1OA==","user":{"login":"iraghumitra","id":15019012,"node_id":"MDQ6VXNlcjE1MDE5MDEy","avatar_url":"https://avatars.githubusercontent.com/u/15019012?v=4","gravatar_id":"","url":"https://api.github.com/users/iraghumitra","html_url":"https://github.com/iraghumitra","followers_url":"https://api.github.com/users/iraghumitra/followers","following_url":"https://api.github.com/users/iraghumitra/following{/other_user}","gists_url":"https://api.github.com/users/iraghumitra/gists{/gist_id}","starred_url":"https://api.github.com/users/iraghumitra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iraghumitra/subscriptions","organizations_url":"https://api.github.com/users/iraghumitra/orgs","repos_url":"https://api.github.com/users/iraghumitra/repos","events_url":"https://api.github.com/users/iraghumitra/events{/privacy}","received_events_url":"https://api.github.com/users/iraghumitra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T13:58:46Z","updated_at":"2017-11-14T13:59:03Z","author_association":"CONTRIBUTOR","body":"@merrimanr tested the new API's they are working fine the only issue I see is \r\n>>When a meta alert is created the meta alert is returned as part of the group api which was not the case before.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344266958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344284011","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344284011","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344284011,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDI4NDAxMQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T14:55:50Z","updated_at":"2017-11-14T14:55:50Z","author_association":"CONTRIBUTOR","body":"@iraghumitra Do you have the specific metaalerts and calls that you made?  I'm spinning this up again, but it'll be a bit before I can test something myself.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344284011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344332711","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344332711","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344332711,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDMzMjcxMQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T17:22:54Z","updated_at":"2017-11-14T17:24:09Z","author_association":"CONTRIBUTOR","body":"@iraghumitra I'm unable to duplicate the grouping on the current code (although I admittedly ran through a pretty basic example). Here's what I did, so let me know if I missed something, or you have a particular query you made.\r\n\r\n### Find an alert\r\n```\r\n/api/v1/search/search\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"fields\": [\r\n    \"guid\"\r\n  ],\r\n  \"from\": 0,\r\n  \"indices\": [\r\n    \"snort\"\r\n  ],\r\n  \"query\": \"ip_dst_addr:192.168.66.121\",\r\n  \"size\": 1\r\n}' 'http://node1:8082/api/v1/search/search'\r\n```\r\n\r\nIn this case, I just grabbed one:\r\n```\r\n\"d29925a7-da80-49d0-b7b5-0663380d526f\":\"snort_index_2017.11.14.15\"\r\n```\r\n\r\n### Retrieve that alert from findOne to get something to group by\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"d29925a7-da80-49d0-b7b5-0663380d526f\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\nI'll group, arbitrarily, with:\r\n```\r\n\"ip_dst_addr\": \"192.168.66.121\"\r\n```\r\n\r\n### Run a group by\r\n```\r\n/api/v1/search/group\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"groups\": [\r\n    {\r\n      \"field\": \"ip_dst_addr\"\r\n    }\r\n  ],\r\n  \"indices\": [\r\n    \"snort\",\r\n    \"metaalert\"\r\n  ],\r\n  \"query\":\"ip_dst_addr:192.168.66.121\"\r\n}' 'http://node1:8082/api/v1/search/group'\r\n```\r\n\r\nResults in:\r\n```\r\n{\r\n  \"groupedBy\": \"ip_dst_addr\",\r\n  \"groupResults\": [\r\n    {\r\n      \"key\": \"192.168.66.121\",\r\n      \"total\": 1299,\r\n      \"score\": null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Create a metaalert with that GUID\r\n```\r\n/api/v1/metaalert/create\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"groups\": [\r\n    \"test\"\r\n  ],\r\n  \"guidToIndices\": {\r\n\"adf65dbb-73fd-4347-a61d-a990166fbbb1\":\"snort_index_2017.11.14.15\"\r\n}\r\n}' 'http://node1:8082/api/v1/metaalert/create'\r\n```\r\n\r\nIt returns the guid, in this case:\r\n```\r\n715538d9-7f4f-4316-b149-a9659df06de4\r\n```\r\n\r\n### (Optionally) Look up the metaalert to double check it was created as expected.\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"715538d9-7f4f-4316-b149-a9659df06de4\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Run the group by from before\r\n```\r\n/api/v1/search/group\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"groups\": [\r\n    {\r\n      \"field\": \"ip_dst_addr\"\r\n    }\r\n  ],\r\n  \"indices\": [\r\n    \"snort\",\r\n    \"metaalert\"\r\n  ],\r\n  \"query\":\"ip_dst_addr:192.168.66.121\"\r\n}' 'http://node1:8082/api/v1/search/group'\r\n```\r\n\r\nValidate that the count has gone down by one (since the metaalert doesn't return and the child alert is now hidden:\r\n```\r\n{\r\n  \"groupedBy\": \"ip_dst_addr\",\r\n  \"groupResults\": [\r\n    {\r\n      \"key\": \"3232252537\",\r\n      \"total\": 1298,\r\n      \"score\": null\r\n    }\r\n  ]\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344332711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344432681","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344432681","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344432681,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQzMjY4MQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T23:17:48Z","updated_at":"2017-11-14T23:17:48Z","author_association":"CONTRIBUTOR","body":"@justinleet looking at your results I would expect the count to go down by 2 instead of 1:  1 for the alert that was added to the meta alert and another for the meta alert itself since they shouldn't be included in group by queries.  I think the bug @iraghumitra reported is valid.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344432681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344434720","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344434720","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344434720,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQzNDcyMA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T23:27:43Z","updated_at":"2017-11-14T23:27:43Z","author_association":"CONTRIBUTOR","body":"The latest commit fixes the group by bug found by @iraghumitra and addresses the feedback [above](https://github.com/apache/metron/pull/824#pullrequestreview-76466048).\r\n\r\nThe group by fix was simple.  We are now just excluding the \"metaalert\" sensor type from group by queries.\r\n\r\nRefactoring the HBaseDao was more involved.  One of the side effects of storing the sensorType in the row key is that now we require a map of guids to sensorTypes for an IndexDao.getAllLatest call.  These means the IndexDao.getAllLatest interface needed to change.  It made sense to just create a standard interface that can be used for looking up records since it is used in many different places and can be confusing as to what is needed to perform an operation on a document.  So this PR introduces a GetRequest that has the following structure:\r\n```\r\n{\r\n  \"guid\": \"some guid\",\r\n  \"sensorType\" : \" some sensor type\",\r\n  \"index\": \"some optional index, not required\"\r\n}\r\n```\r\n\r\nSince now keep the sensorType in the row key it is required for a look up.  HBase still doesn't have any concept of an index so that is kept optional.  In the ElasticsearchDao this is handled by using the index of a GetRequest if present or looking it up in Elasticsearch if not.  Now it should be clear what is needed to get a document since the interface is more consistent across that DAO methods.\r\n\r\nBecause of the GetRequest change the testing process and REST interface has changed slightly.  The PR description has been updated to reflect the changes.  I am still planning on doing a fresh vagrant build but this should be ready for testing.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344434720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344459396","html_url":"https://github.com/apache/metron/pull/840#issuecomment-344459396","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":344459396,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQ1OTM5Ng==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T01:46:00Z","updated_at":"2017-11-15T01:46:00Z","author_association":"CONTRIBUTOR","body":"6.0 was released, should we consider going to that while we are at it?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344459396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344460644","html_url":"https://github.com/apache/metron/pull/840#issuecomment-344460644","issue_url":"https://api.github.com/repos/apache/metron/issues/840","id":344460644,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQ2MDY0NA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T01:53:06Z","updated_at":"2017-11-15T01:53:06Z","author_association":"CONTRIBUTOR","body":"I was looking at that today as well, and I think that should be a follow-on\nconsidering how large the change is moving from 2.x to 5.x. The changes\nI've implemented (and Casey and Nick) for 5.x should make moving to 6.x\nmuch easier once we're ready for it, but we should probably stabilize\nmaster on this before another upgrade. Also, we have a number of fixes to\nmeta alerts that I need to merge with this branch, which will also take\nsome time. There are also some enhancements to the dashboard that we're\ntossing around as well.\n\nOn Nov 14, 2017 6:46 PM, \"ottobackwards\" <notifications@github.com> wrote:\n\n> 6.0 was released, should we consider going to that while we are at it?\n>\n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/metron/pull/840#issuecomment-344459396>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAoMCxHosc6Ndi3z6K68IWCZWRA71tuuks5s2kJZgaJpZM4QZFWa>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344460644/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344578517","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344578517","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344578517,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDU3ODUxNw==","user":{"login":"iraghumitra","id":15019012,"node_id":"MDQ6VXNlcjE1MDE5MDEy","avatar_url":"https://avatars.githubusercontent.com/u/15019012?v=4","gravatar_id":"","url":"https://api.github.com/users/iraghumitra","html_url":"https://github.com/iraghumitra","followers_url":"https://api.github.com/users/iraghumitra/followers","following_url":"https://api.github.com/users/iraghumitra/following{/other_user}","gists_url":"https://api.github.com/users/iraghumitra/gists{/gist_id}","starred_url":"https://api.github.com/users/iraghumitra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iraghumitra/subscriptions","organizations_url":"https://api.github.com/users/iraghumitra/orgs","repos_url":"https://api.github.com/users/iraghumitra/repos","events_url":"https://api.github.com/users/iraghumitra/events{/privacy}","received_events_url":"https://api.github.com/users/iraghumitra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T12:30:56Z","updated_at":"2017-11-15T12:30:56Z","author_association":"CONTRIBUTOR","body":"+1 for functionality all the API's are working fine. Great job @merrimanr   ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344578517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344610924","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344610924","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344610924,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDYxMDkyNA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T14:35:57Z","updated_at":"2017-11-15T14:35:57Z","author_association":"CONTRIBUTOR","body":"@merrimanr I'm okay with excluding metaalerts (although I need to review what you did there).  I wouldn't expect it to go down by two though.\r\n\r\nSay I have two matches, I put one in a metaalert (so it should be hidden).  I make the query again.  I would still expect to get the remaining, standalone match. The metaalert should never have showed up and the child alert should be hidden. So one result.  ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344610924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344611586","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344611586","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344611586,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDYxMTU4Ng==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T14:38:04Z","updated_at":"2017-11-15T14:38:04Z","author_association":"CONTRIBUTOR","body":"Double check me on that logic though. I could definitely be masking an off by one error there.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344611586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344657303","html_url":"https://github.com/apache/metron/pull/774#issuecomment-344657303","issue_url":"https://api.github.com/repos/apache/metron/issues/774","id":344657303,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDY1NzMwMw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T16:57:35Z","updated_at":"2017-11-15T16:57:35Z","author_association":"CONTRIBUTOR","body":"@nickwallen I have added a usage document in the last commit.  Is this what you are looking for?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344657303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344682784","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344682784","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344682784,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDY4Mjc4NA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T18:23:01Z","updated_at":"2017-11-15T18:23:01Z","author_association":"CONTRIBUTOR","body":"## Adding alerts and adding a preexisting alert\r\n\r\n### Find two alerts\r\n```\r\n/api/v1/search/search\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"fields\": [\r\n    \"guid\"\r\n  ],\r\n  \"from\": 0,\r\n  \"indices\": [\r\n    \"snort\"\r\n  ],\r\n  \"query\": \"ip_dst_addr:192.168.66.121\",\r\n  \"size\": 2\r\n}' 'http://node1:8082/api/v1/search/search'\r\n```\r\nResults in two guids:\r\n\r\n```\r\n8b8314d4-277b-44dc-a75b-04b0cdcedb40\r\n4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\r\n```\r\n\r\n### Create a metaalert with only one of the alerts\r\n```\r\n/api/v1/metaalert/create\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n  ],\r\n  \"groups\": [\r\n    \"test\"\r\n  ]\r\n}' 'http://node1:8082/api/v1/metaalert/create'\r\n```\r\n\r\nMake sure to get the resulting guid from the response.\r\n```\r\n6a4affe4-02ce-4d25-80b1-bfc4ca53f557\r\n```\r\n\r\n### Retrieve the meta alert and ensure it contains the provided alert\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"6a4affe4-02ce-4d25-80b1-bfc4ca53f557\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Retrieve the child alert and ensure the 'metaalerts' field contains the new GUID of the new metaalert\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Add the same alert to the meta alert\r\n```\r\n/api/v1/metaalert/add/alert\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n  ],\r\n  \"metaAlertGuid\": \"6a4affe4-02ce-4d25-80b1-bfc4ca53f557\"\r\n}' 'http://node1:8082/api/v1/metaalert/add/alert'\r\n```\r\n\r\nIt should return \"false\" as no alerts have been added.  The meta alert should be retrieved again to validate.\r\n\r\n### Run the add alert again but with the second alert\r\n```\r\n/api/v1/metaalert/add/alert\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n  ],\r\n  \"metaAlertGuid\": \"6a4affe4-02ce-4d25-80b1-bfc4ca53f557\"\r\n}' 'http://node1:8082/api/v1/metaalert/add/alert'\r\n```\r\n\r\nIt should return true, because the second alert will be added.  The meta alert should be retrieved again to validate.\r\n\r\n### Retrieve the child alerts\r\nEnsure they have the 'metaalerts' field populated with their parent.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344682784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344685760","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344685760","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344685760,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDY4NTc2MA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T18:33:52Z","updated_at":"2017-11-15T18:33:52Z","author_association":"CONTRIBUTOR","body":"## Removing alerts and removing an already removed alert\r\n\r\n### Find two alerts\r\n```\r\n/api/v1/search/search\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"fields\": [\r\n    \"guid\"\r\n  ],\r\n  \"from\": 0,\r\n  \"indices\": [\r\n    \"snort\"\r\n  ],\r\n  \"query\": \"ip_dst_addr:192.168.66.121\",\r\n  \"size\": 2\r\n}' 'http://node1:8082/api/v1/search/search'\r\n```\r\nResults in two guids:\r\n\r\n```\r\n8b8314d4-277b-44dc-a75b-04b0cdcedb40\r\n4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\r\n```\r\n\r\n### Create a metaalert with the alerts\r\n```\r\n/api/v1/metaalert/create\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n\r\n  ],\r\n  \"groups\": [\r\n    \"test\"\r\n  ]\r\n}' 'http://node1:8082/api/v1/metaalert/create'\r\n\r\n```\r\n\r\nMake sure to get the resulting guid from the response.\r\n```\r\nb25b663e-39c9-42d5-a52c-e6380235d43f\r\n```\r\n\r\n### Retrieve the meta alert and ensure it contains the provided alerts\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"b25b663e-39c9-42d5-a52c-e6380235d43f\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Remove one of the alerts\r\n```\r\n/api/v1/metaalert/remove/alert\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n  ],\r\n  \"metaAlertGuid\": \"b25b663e-39c9-42d5-a52c-e6380235d43f\"\r\n}' 'http://node1:8082/api/v1/metaalert/remove/alert'\r\n```\r\n\r\n### Retrieve the meta alert again, and ensure it only contains the second alert.\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"b25b663e-39c9-42d5-a52c-e6380235d43f\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Rerun the delete\r\n```\r\n/api/v1/metaalert/remove/alert\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n  ],\r\n  \"metaAlertGuid\": \"b25b663e-39c9-42d5-a52c-e6380235d43f\"\r\n}' 'http://node1:8082/api/v1/metaalert/remove/alert'\r\n```\r\n\r\n### Retrieve the meta alert again, and ensure it only contains the second alert.\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"b25b663e-39c9-42d5-a52c-e6380235d43f\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Retrieve the child alerts\r\nEnsure only the second alert has the 'metaalerts' field populated with the parent met alert.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344685760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344689729","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344689729","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344689729,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDY4OTcyOQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T18:47:25Z","updated_at":"2017-11-15T18:47:25Z","author_association":"CONTRIBUTOR","body":"## Changing Metaalert status\r\n\r\n### Find two alerts\r\n```\r\n/api/v1/search/search\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"fields\": [\r\n    \"guid\"\r\n  ],\r\n  \"from\": 0,\r\n  \"indices\": [\r\n    \"snort\"\r\n  ],\r\n  \"query\": \"ip_dst_addr:192.168.66.121\",\r\n  \"size\": 2\r\n}' 'http://node1:8082/api/v1/search/search'\r\n```\r\nResults in two guids:\r\n\r\n```\r\n8b8314d4-277b-44dc-a75b-04b0cdcedb40\r\n4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\r\n```\r\n\r\n### Create a metaalert with the alerts\r\n```\r\n/api/v1/metaalert/create\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n\r\n  ],\r\n  \"groups\": [\r\n    \"test\"\r\n  ]\r\n}' 'http://node1:8082/api/v1/metaalert/create'\r\n\r\n```\r\n\r\nMake sure to get the resulting guid from the response.\r\n```\r\nda60ccc9-9e79-45c5-be07-0a322c8791f0\r\n```\r\n\r\n### Retrieve the meta alert and ensure it contains the provided alerts\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"da60ccc9-9e79-45c5-be07-0a322c8791f0\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Change the meta alert status to active\r\nThis makes sure nothing happens when we set active status to the same active status.\r\n```\r\n/api/v1/metaalert/update/status/{guid}/{status}\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' 'http://node1:8082/api/v1/metaalert/update/status/da60ccc9-9e79-45c5-be07-0a322c8791f0/active'\r\n```\r\n\r\nIt should return false, as no status has changed.\r\n\r\n### Retrieve the metaalert and ensure it is still active\r\nLook for the 'status' field.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"da60ccc9-9e79-45c5-be07-0a322c8791f0\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Retrieve the child alerts\r\nEnsure both alerts have the 'metaalerts' field populated with the parent meta alert.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Change the meta alert status to inactive\r\nLook for the 'status' field.  Running this once will set it to 'inactive'.  Subsequent runs have no effect ('inactive' -> 'inactive' does nothing).\r\n```\r\n/api/v1/metaalert/update/status/{guid}/{status}\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' 'http://node1:8082/api/v1/metaalert/update/status/da60ccc9-9e79-45c5-be07-0a322c8791f0/inactive'\r\n```\r\n\r\nIt should return true, because the status has changed.\r\n\r\n### Retrieve the metaalert and ensure it is inactive\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"da60ccc9-9e79-45c5-be07-0a322c8791f0\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Retrieve the child alerts\r\nEnsure neither alert has the 'metaalerts' field populated with the parent meta alert.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Change status back to active\r\n```\r\n/api/v1/metaalert/update/status/{guid}/{status}\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' 'http://node1:8082/api/v1/metaalert/update/status/da60ccc9-9e79-45c5-be07-0a322c8791f0/active'\r\n```\r\n\r\nIt should return false, as no status has changed.\r\n\r\n### Retrieve the metaalert and ensure it is active again\r\nLook for the 'status' field.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"da60ccc9-9e79-45c5-be07-0a322c8791f0\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Retrieve the child alerts\r\nEnsure both alerts have the 'metaalerts' field populated with the parent meta alert.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"8b8314d4-277b-44dc-a75b-04b0cdcedb40\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"4ac26cf7-ab93-4940-9a0e-8e7f4d67736d\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344689729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344692908","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344692908","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344692908,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDY5MjkwOA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T18:57:55Z","updated_at":"2017-11-15T18:57:55Z","author_association":"CONTRIBUTOR","body":"## Create meta alert with more than 10 alerts\r\n\r\n### Find more than 10 alerts alerts\r\n\r\n```\r\n/api/v1/search/search\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"fields\": [\r\n    \"guid\"\r\n  ],\r\n  \"from\": 0,\r\n  \"indices\": [\r\n    \"snort\"\r\n  ],\r\n  \"query\": \"ip_dst_addr:192.168.66.121\",\r\n  \"size\": 11\r\n}' 'http://node1:8082/api/v1/search/search'\r\n```\r\n\r\nNote the alerts that come back\r\n```\r\n62a53a5f-78e6-417a-8078-fb850baa3e84\r\n876b72cb-9d72-4706-ac99-46cf91a8f359\r\n5fd8b0a0-1f68-494a-ae20-633542a7045d\r\naee597a0-4255-499a-a4e2-ec7d756babb2\r\nbf9e0e73-e64c-4759-b4f7-efad0a60be82\r\n\r\n5ab9ce98-30db-45b2-a4e6-6489f136c839\r\n0a4a7019-04f8-4a8c-af0b-d2e3908ecdc9\r\n3423fdca-cefa-402a-b57d-60b75a15f046\r\n2eb63002-e5f2-467a-8675-30b653ae145b\r\n53f38cfd-aa89-4e49-ba5f-827eb73774cd\r\n\r\n5f71a515-4976-4b0d-be85-bb6879b1e151\r\n```\r\n\r\n### Create a metaalert with the alerts\r\n```\r\n/api/v1/metaalert/create\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"alerts\": [\r\n    {\r\n      \"guid\": \"62a53a5f-78e6-417a-8078-fb850baa3e84\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"876b72cb-9d72-4706-ac99-46cf91a8f359\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n    {\r\n      \"guid\": \"5fd8b0a0-1f68-494a-ae20-633542a7045d\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n    {\r\n      \"guid\": \"aee597a0-4255-499a-a4e2-ec7d756babb2\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"bf9e0e73-e64c-4759-b4f7-efad0a60be82\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n    {\r\n      \"guid\": \"5ab9ce98-30db-45b2-a4e6-6489f136c839\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"0a4a7019-04f8-4a8c-af0b-d2e3908ecdc9\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n    {\r\n      \"guid\": \"3423fdca-cefa-402a-b57d-60b75a15f046\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n    {\r\n      \"guid\": \"2eb63002-e5f2-467a-8675-30b653ae145b\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"53f38cfd-aa89-4e49-ba5f-827eb73774cd\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    },\r\n     {\r\n      \"guid\":\"5f71a515-4976-4b0d-be85-bb6879b1e151\",\r\n      \"index\": \"snort_index_2017.11.15.17\",\r\n      \"sensorType\": \"snort\"\r\n    }\r\n  ],\r\n  \"groups\": [\r\n    \"test\"\r\n  ]\r\n}' 'http://node1:8082/api/v1/metaalert/create'\r\n```\r\n\r\n\r\nMake sure to get the resulting guid from the response.\r\n```\r\n00eae5ba-6137-4601-ae3a-fbf0003e58e6\r\n```\r\n\r\n### Retrieve the meta alert and ensure it contains the provided alerts\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"00eae5ba-6137-4601-ae3a-fbf0003e58e6\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n\r\n### Retrieve the child alerts\r\nEnsure all alerts have the 'metaalerts' field populated with the parent meta alert.\r\n\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\":\"62a53a5f-78e6-417a-8078-fb850baa3e84\",\r\n  \"sensorType\": \"snort\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n\r\n... // 10 more times\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344692908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344697044","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344697044","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344697044,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDY5NzA0NA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T19:12:21Z","updated_at":"2017-11-15T19:12:21Z","author_association":"CONTRIBUTOR","body":"## Patch alert and status\r\nCreate a metaalerts and get the GUID for the following steps.\r\n\r\n### Attempt to update status field\r\n```\r\n/api/v1/update/patch\r\n\r\ncurl -X PATCH --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"00eae5ba-6137-4601-ae3a-fbf0003e58e6\",\r\n  \"index\": \"metaalert_index\",\r\n  \"patch\": [\r\n    {\r\n      \"op\": \"replace\"\r\n        , \"path\": \"/status\"\r\n        , \"value\": \"failure\"\r\n    }\r\n  ],\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/update/patch'\r\n```\r\n\r\nShould return \r\n```\r\n{\r\n  \"responseCode\": 500,\r\n  \"message\": \"Meta alert patches are not allowed for /alert or /status paths.  Please use the add/remove alert or update status functions instead.\",\r\n  \"fullMessage\": \"IllegalArgumentException: Meta alert patches are not allowed for /alert or /status paths.  Please use the add/remove alert or update status functions instead.\"\r\n}\r\n```\r\n\r\n### Attempt to update the alert list\r\n```\r\n/api/v1/update/patch\r\n\r\ncurl -X PATCH --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"00eae5ba-6137-4601-ae3a-fbf0003e58e6\",\r\n  \"index\": \"metaalert_index\",\r\n  \"patch\": [\r\n    {\r\n      \"op\": \"replace\"\r\n        , \"path\": \"/alert\"\r\n        , \"value\": [{\r\n            \"alertOne\":\"test\"\r\n        },\r\n        {\r\n             \"alertTwo\":\"test\"\r\n        }\r\n        ]\r\n    }\r\n  ],\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/update/patch'\r\n```\r\n\r\nShould return \r\n```\r\n{\r\n  \"responseCode\": 500,\r\n  \"message\": \"Meta alert patches are not allowed for /alert or /status paths.  Please use the add/remove alert or update status functions instead.\",\r\n  \"fullMessage\": \"IllegalArgumentException: Meta alert patches are not allowed for /alert or /status paths.  Please use the add/remove alert or update status functions instead.\"\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344697044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344697864","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344697864","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344697864,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDY5Nzg2NA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T19:15:07Z","updated_at":"2017-11-15T19:15:07Z","author_association":"CONTRIBUTOR","body":"## Patch neither alert and status\r\nCreate a metaalerts and get the GUID for the following steps.\r\n\r\n### Patch in new field\r\n```\r\n/api/v1/update/patch\r\n\r\ncurl -X PATCH --header 'Content-Type: application/json' --header 'Accept: */*' -d '{\r\n  \"guid\": \"00eae5ba-6137-4601-ae3a-fbf0003e58e6\",\r\n  \"index\": \"metaalert_index\",\r\n  \"patch\": [\r\n    {\r\n      \"op\": \"add\"\r\n        , \"path\": \"/name\"\r\n        , \"value\": \"My new meta alert name\"\r\n    }\r\n  ],\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/update/patch'\r\n```\r\n\r\n### Retrieve the meta alert and ensure it contains the new 'name' field\r\n```\r\n/api/v1/search/findOne\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"guid\": \"00eae5ba-6137-4601-ae3a-fbf0003e58e6\",\r\n  \"index\": \"metaalert_index\",\r\n  \"sensorType\": \"metaalert\"\r\n}' 'http://node1:8082/api/v1/search/findOne'\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344697864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344715577","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344715577","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344715577,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDcxNTU3Nw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T20:18:03Z","updated_at":"2017-11-15T20:18:03Z","author_association":"CONTRIBUTOR","body":"Code-wise, I'm pretty good at this point.  Once the docs come in, I'll give them a once-over and hopefully we're good to go soon.\r\n\r\nThanks a lot for the hard work here!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344715577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344716153","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344716153","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344716153,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDcxNjE1Mw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T20:20:10Z","updated_at":"2017-11-15T20:20:16Z","author_association":"MEMBER","body":"@justinleet same here.  My +1 is imminent, pending docs.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344716153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344737150","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344737150","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344737150,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDczNzE1MA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T21:39:04Z","updated_at":"2017-11-15T21:39:04Z","author_association":"MEMBER","body":"This looks good to me.  I will not require attribution to my PR against this branch and I give this a +1 pending travis.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344737150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344758132","html_url":"https://github.com/apache/metron/pull/824#issuecomment-344758132","issue_url":"https://api.github.com/repos/apache/metron/issues/824","id":344758132,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDc1ODEzMg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T23:00:30Z","updated_at":"2017-11-15T23:00:30Z","author_association":"CONTRIBUTOR","body":"+1, looks good. Thanks for all the work on the supplemental fixes. Feel free to skip attribution on the testing PR.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344758132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344797210","html_url":"https://github.com/apache/metron/pull/839#issuecomment-344797210","issue_url":"https://api.github.com/repos/apache/metron/issues/839","id":344797210,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDc5NzIxMA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T02:37:07Z","updated_at":"2017-11-16T02:37:07Z","author_association":"CONTRIBUTOR","body":"+1 by inspection. Thanks @nickwallen!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344797210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344833696","html_url":"https://github.com/apache/metron/pull/841#issuecomment-344833696","issue_url":"https://api.github.com/repos/apache/metron/issues/841","id":344833696,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDgzMzY5Ng==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T07:00:36Z","updated_at":"2017-11-16T07:00:36Z","author_association":"CONTRIBUTOR","body":"Hi @nickwallen , tested on the vagrant fastcapa deployment. Deployed fine, and I was able to see this message as well:\r\n```\r\nTASK [debug] *******************************************************************\r\nok: [source] => {\r\n    \"msg\": \"Successfully received packets sent from pcap-replay!\"\r\n}\r\n```\r\nDuring the deployment, I noticed the following message. I was not sure if this can be ignored or needs to be looked at.\r\n\r\n```\r\nTASK [fastcapa : Restart for modified kernel params] ***************************\r\nfatal: [sink]: FAILED! => {\"changed\": false, \"failed\": true, \"module_stderr\": \"\", \"module_stdout\": \"\", \"msg\": \"MODULE FAILURE\", \"parsed\": false}\r\n...ignoring\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344833696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344928451","html_url":"https://github.com/apache/metron/pull/841#issuecomment-344928451","issue_url":"https://api.github.com/repos/apache/metron/issues/841","id":344928451,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDkyODQ1MQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T13:51:55Z","updated_at":"2017-11-16T13:51:55Z","author_association":"CONTRIBUTOR","body":"> During the deployment, I noticed the following message. I was not sure if this can be ignored or needs to be looked at.\r\n\r\nHi Anand - Thanks for testing!  I saw that a few times also.  During deployment it has to reboot the VM to pickup new kernel options.  Sometimes Ansible fails to wait long enough for the reboot.  If this error does happen, running `vagrant provision` it will continue the progress.  That is what I did during my testing.  \r\n\r\nI am not sure exactly what the problem is, but the same condition occurs in master.  I would call this a pre-existing condition that we can handle with a separate PR.  \r\n\r\nOf course that is just my opinion and you or others may feel differently.  Let me know what you think.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344928451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344928580","html_url":"https://github.com/apache/metron/pull/825#issuecomment-344928580","issue_url":"https://api.github.com/repos/apache/metron/issues/825","id":344928580,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDkyODU4MA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T13:52:27Z","updated_at":"2017-11-16T13:52:27Z","author_association":"CONTRIBUTOR","body":"@merrimanr This is already taken care of by the various refactoring in https://github.com/apache/metron/pull/824, right? Can you close this (and the associated jira) if that's accurate?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344928580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344929709","html_url":"https://github.com/apache/metron/pull/825#issuecomment-344929709","issue_url":"https://api.github.com/repos/apache/metron/issues/825","id":344929709,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDkyOTcwOQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T13:56:31Z","updated_at":"2017-11-16T13:56:31Z","author_association":"CONTRIBUTOR","body":"Even if the functionality is addressed, are there tests that cover this condition that we can pull in from this PR?  I don't think we ever got a proper integration test to cover this issue, but maybe @merrimanr had created one on his private branch?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344929709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344938744","html_url":"https://github.com/apache/metron/pull/832#issuecomment-344938744","issue_url":"https://api.github.com/repos/apache/metron/issues/832","id":344938744,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDkzODc0NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T14:28:46Z","updated_at":"2017-11-16T14:28:46Z","author_association":"CONTRIBUTOR","body":"I merged with the latest changed from #824 ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344938744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344960221","html_url":"https://github.com/apache/metron/pull/825#issuecomment-344960221","issue_url":"https://api.github.com/repos/apache/metron/issues/825","id":344960221,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDk2MDIyMQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T15:36:01Z","updated_at":"2017-11-16T15:36:01Z","author_association":"CONTRIBUTOR","body":"@nickwallen I'm about to open a PR with an updated integration test.  We should be able to close this one, since the changes here aren't relevant anymore.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344960221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344961338","html_url":"https://github.com/apache/metron/pull/825#issuecomment-344961338","issue_url":"https://api.github.com/repos/apache/metron/issues/825","id":344961338,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDk2MTMzOA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T15:39:20Z","updated_at":"2017-11-16T15:39:20Z","author_association":"CONTRIBUTOR","body":"@nickwallen https://github.com/apache/metron/pull/842\r\n@merrimanr If you're good with that PR, feel free to close this one.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344961338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344962525","html_url":"https://github.com/apache/metron/pull/825#issuecomment-344962525","issue_url":"https://api.github.com/repos/apache/metron/issues/825","id":344962525,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDk2MjUyNQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T15:42:50Z","updated_at":"2017-11-16T15:42:50Z","author_association":"CONTRIBUTOR","body":"Sounds good.  I will take a look at #842.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344962525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344962532","html_url":"https://github.com/apache/metron/pull/826#issuecomment-344962532","issue_url":"https://api.github.com/repos/apache/metron/issues/826","id":344962532,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDk2MjUzMg==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T15:42:51Z","updated_at":"2017-11-16T15:44:51Z","author_association":"CONTRIBUTOR","body":"The latest commit address the issue of making the Kafka security protocol configurable.  I tested this in full dev after enabling Kerberos.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344962532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/344971588","html_url":"https://github.com/apache/metron/pull/842#issuecomment-344971588","issue_url":"https://api.github.com/repos/apache/metron/issues/842","id":344971588,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDk3MTU4OA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T16:09:20Z","updated_at":"2017-11-16T16:09:20Z","author_association":"CONTRIBUTOR","body":"+1 LGTM\r\n\r\nTests pass as-is.  Then I commented out [the core fix for this issue](https://github.com/apache/metron/blob/fd896fbebe9d5e77eb11d1ce953ab2b55cc84387/metron-platform/metron-elasticsearch/src/main/java/org/apache/metron/elasticsearch/dao/ElasticsearchDao.java#L316) and the tests failed as expected.  \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/344971588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345007122","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345007122","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345007122,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAwNzEyMg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T18:02:33Z","updated_at":"2017-11-16T18:02:33Z","author_association":"CONTRIBUTOR","body":"How does `getCommonColumnMetadata` behave when we have a mismatched field (aka a field named the same in two different indices, but with different types)?  Do we need similar mismatch handling?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345007122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345035370","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345035370","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345035370,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAzNTM3MA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T19:26:03Z","updated_at":"2017-11-16T19:26:03Z","author_association":"CONTRIBUTOR","body":"I don't think that method is even used anymore but I will add the mismatch handling just in case.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345035370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345038129","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345038129","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345038129,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAzODEyOQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T19:35:28Z","updated_at":"2017-11-16T19:35:28Z","author_association":"CONTRIBUTOR","body":"Even better then.  Can we just get rid of it?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345038129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345038583","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345038583","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345038583,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAzODU4Mw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T19:37:00Z","updated_at":"2017-11-16T19:37:00Z","author_association":"CONTRIBUTOR","body":"Actually the more I think about it, I would not consider a field to be common between indices when the types mismatch.  Hard to say what the right answer is because there is no real requirement driving this.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345038583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345038900","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345038900","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345038900,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAzODkwMA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T19:38:02Z","updated_at":"2017-11-16T19:38:02Z","author_association":"CONTRIBUTOR","body":"Was commenting while your comment posted.  I think your latest suggestion is the right answer :)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345038900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345043400","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345043400","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345043400,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTA0MzQwMA==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T19:53:50Z","updated_at":"2017-11-16T19:54:00Z","author_association":"MEMBER","body":"I didn't get myself intimately familiar with this PR, but I wanted to mention that assuming two fields with the same name but different types between indexes are not the same may not always hold.  For instance, in bro there are a couple of field names that overlap between bro logs, and so the type in the bro index needs to be one that can commonly work (usually string), but if there was no overlap it would be a different type ([Example](https://github.com/JonZeolla/metron/blob/master/metron-deployment/packaging/ambari/metron-mpack/src/main/resources/common-services/METRON/CURRENT/package/files/bro_index.template#L131-L134)).  Not even positive this is relevant (especially given `getCommonColumnMetadata` may just get removed), but in case it is I wanted to mention it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345043400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345056652","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345056652","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345056652,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTA1NjY1Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T20:44:16Z","updated_at":"2017-11-16T20:44:16Z","author_association":"CONTRIBUTOR","body":"I tried hitting the `/api/v1/search/column/metadata` endpoint on fulldev with `[\"madeupindex\"]`; e.g.\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '[\"madeupindex\"]' 'http://node1:8082/api/v1/search/column/metadata'\r\n\r\nI would expect this to return no results, because the index doesn't exist, but instead I get back a lot of fields.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345056652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345057735","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345057735","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345057735,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTA1NzczNQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T20:48:39Z","updated_at":"2017-11-16T20:48:39Z","author_association":"CONTRIBUTOR","body":"For the search, I ran,\r\n```\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\r\n  \"facetFields\": [\r\n    \"ip_src_addr\"\r\n  ],\r\n  \"fields\": [\r\n    \"guid\", \"ip_src_addr\"\r\n  ],\r\n  \"from\": 0,\r\n  \"indices\": [\r\n    \"bro\"\r\n  ],\r\n  \"query\": \"*\",\r\n  \"size\": 5\r\n}' 'http://node1:8082/api/v1/search/search'\r\n```\r\n\r\nand returned \r\n\r\n```\r\n...// Search results\r\n  \"facetCounts\": {\r\n    \"ip_src_addr\": {\r\n      \"192.168.138.158\": 5861,\r\n      \"192.168.66.1\": 2439\r\n    }\r\n  }\r\n```\r\n\r\n@merrimanr The problem before was that those weren't in string format right?  This is what's expected with fix?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345057735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345065254","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345065254","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345065254,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTA2NTI1NA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T21:16:59Z","updated_at":"2017-11-16T21:16:59Z","author_association":"CONTRIBUTOR","body":"@JonZeolla I think we should just remove it for now and I've done that in the latest commit.  I'm not entirely clear on what we should expect in this case and we don't need it right now anyways.  Better to implement it the right way once we are clear on how it should behave in my opinion.\r\n\r\nGood catch @justinleet!  I did not think of this test case and to my surprise the Elasticsearch API returns ALL field mappings if you pass in an empty array of indices.  I will fix this and add a test case.  You are correct in that we should expect correctly formatted ip addresses in \"facetCounts\".  Before this PR they would have been in long format when you include an index that does not have a mapping for the ip_src_addr field.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345065254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345092779","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345092779","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345092779,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTA5Mjc3OQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T23:09:48Z","updated_at":"2017-11-16T23:09:48Z","author_association":"CONTRIBUTOR","body":"The latest commit fixes the bug @justinleet found and adds some test cases to cover it.  \r\n\r\nI also removed an \"ignoredIndices\" variable from the ElasticsearchDao class.  This was being used to exclude certain indices but I believe we've moved towards a white list approach for specifying indices so this no longer makes sense.  I can revert if anyone disagrees.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345092779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345261138","html_url":"https://github.com/apache/metron/pull/826#issuecomment-345261138","issue_url":"https://api.github.com/repos/apache/metron/issues/826","id":345261138,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTI2MTEzOA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T14:39:49Z","updated_at":"2017-11-17T14:39:49Z","author_association":"MEMBER","body":"+1 by inspection, great job.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345261138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/345266353","html_url":"https://github.com/apache/metron/pull/827#issuecomment-345266353","issue_url":"https://api.github.com/repos/apache/metron/issues/827","id":345266353,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTI2NjM1Mw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T14:58:35Z","updated_at":"2017-11-17T14:58:35Z","author_association":"CONTRIBUTOR","body":"I ran a request giving sensors:\r\n```\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '[\"snort\", \"bro\"]' 'http://node1:8082/api/v1/search/column/metadata'\r\n```\r\nwhich returns fine\r\n```\r\n{\r\n  \"TTLs\": \"double\",\r\n  \"bro_timestamp\": \"string\",\r\n  \"enrichments:geo:ip_dst_addr:location_point\": \"other\",\r\n  \"sha256\": \"string\",\r\n  \"enrichmentjoinbolt:joiner:ts\": \"date\",\r\n  \"certificate:version\": \"integer\",\r\n...\r\n}\r\n```\r\n\r\nbut giving the actual indices returns nothing, e.g.\r\n```\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '[\"bro_index_2017.11.17.14\"]' 'http://node1:8082/api/v1/search/column/metadata'\r\n```\r\n\r\nI assume it's intentional that indices don't actually return data, which I'm fine with, but we need to rename things from indices to sensor or something.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/345266353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]