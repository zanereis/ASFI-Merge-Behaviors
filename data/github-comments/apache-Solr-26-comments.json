[{"url":"https://api.github.com/repos/apache/solr/issues/comments/1293963646","html_url":"https://github.com/apache/solr/pull/1126#issuecomment-1293963646","issue_url":"https://api.github.com/repos/apache/solr/issues/1126","id":1293963646,"node_id":"IC_kwDOFFj3yM5NIFF-","user":{"login":"jdurham2843","id":7634533,"node_id":"MDQ6VXNlcjc2MzQ1MzM=","avatar_url":"https://avatars.githubusercontent.com/u/7634533?v=4","gravatar_id":"","url":"https://api.github.com/users/jdurham2843","html_url":"https://github.com/jdurham2843","followers_url":"https://api.github.com/users/jdurham2843/followers","following_url":"https://api.github.com/users/jdurham2843/following{/other_user}","gists_url":"https://api.github.com/users/jdurham2843/gists{/gist_id}","starred_url":"https://api.github.com/users/jdurham2843/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdurham2843/subscriptions","organizations_url":"https://api.github.com/users/jdurham2843/orgs","repos_url":"https://api.github.com/users/jdurham2843/repos","events_url":"https://api.github.com/users/jdurham2843/events{/privacy}","received_events_url":"https://api.github.com/users/jdurham2843/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T19:22:08Z","updated_at":"2022-10-27T19:22:08Z","author_association":"CONTRIBUTOR","body":"I believe I've covered most of your first round of comments @gerlowskija , aside from tests and the uses of the squash method on the ListSnapshotAPI. I also responded to your thoughts on the async handling code back on the jira ticket as well. I'll work to add some tests focused on this new CoreSnapshotAPI class while we work through the our async game plan.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1293963646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294024484","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294024484","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294024484,"node_id":"IC_kwDOFFj3yM5NIT8k","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T20:24:10Z","updated_at":"2022-10-27T20:24:10Z","author_association":"CONTRIBUTOR","body":"@risdenk, thanks for the commits on this! I pulled all the latest and things look good. \r\n\r\nDoes the solrj build.gradle need to refer to solrj-streaming so 9x users don't have a back compat issue?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294024484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294043754","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294043754","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294043754,"node_id":"IC_kwDOFFj3yM5NIYpq","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T20:45:27Z","updated_at":"2022-10-27T20:45:27Z","author_association":"CONTRIBUTOR","body":"@joel-bernstein I'd do that separately on branch_9x only - similar to https://github.com/apache/solr/commit/80889178990369617bb5edb0b284ad24e34d5ad3","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294043754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294085546","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294085546","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294085546,"node_id":"IC_kwDOFFj3yM5NIi2q","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T21:31:39Z","updated_at":"2022-10-27T21:31:39Z","author_association":"CONTRIBUTOR","body":"I don't have the merge button. Let me see if I can figure out why.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294085546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294121660","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294121660","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294121660,"node_id":"IC_kwDOFFj3yM5NIrq8","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T21:53:12Z","updated_at":"2022-10-27T21:53:12Z","author_association":"CONTRIBUTOR","body":"I checked my account at id.apache.org and my github account is there. So this may take a jira to infra to sort out.\r\n\r\nI have this branch squash merged to main locally and am running tests. I can push it out from my local repo or @risdenk you can merge from here. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294121660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294123389","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294123389","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294123389,"node_id":"IC_kwDOFFj3yM5NIsF9","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T21:54:05Z","updated_at":"2022-10-27T21:54:05Z","author_association":"CONTRIBUTOR","body":"Do you have 2FA enabled for your GitHub account?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294123389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294129147","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294129147","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294129147,"node_id":"IC_kwDOFFj3yM5NItf7","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T21:57:16Z","updated_at":"2022-10-27T21:57:16Z","author_association":"CONTRIBUTOR","body":"2FA is enabled on github.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294129147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294135600","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294135600","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294135600,"node_id":"IC_kwDOFFj3yM5NIvEw","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T22:00:32Z","updated_at":"2022-10-27T22:00:32Z","author_association":"CONTRIBUTOR","body":"I am also a member of the apache organization on github.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294135600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294358452","html_url":"https://github.com/apache/solr/pull/464#issuecomment-1294358452","issue_url":"https://api.github.com/repos/apache/solr/issues/464","id":1294358452,"node_id":"IC_kwDOFFj3yM5NJle0","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T02:16:52Z","updated_at":"2022-10-28T02:16:52Z","author_association":"CONTRIBUTOR","body":"> This is only really applicable to SolrJ where the client might provide an executor; right? So I have some doubt about making a sweeping change across the codebase for a fringe case only in SolrJ.\r\n\r\nso maybe. In the \"normal\" case nothing changes here - `isShutdown()` is called just like it would have been. This simplifies everywhere we use an executor to check isShutdown or isTerminated to use `ExecutorUtil`. I can think of a few reasons this is beneficial:\r\n* we can guarantee that all executors operate the same way\r\n* we can add any logic to affect all the executors at once\r\n\r\nIdeally when I went through this we should use `ExecutorUtil` `awaitTermination` and `shutdownAndAwaitTermination` in a few more places. This would handle `InterruptedException` and a few other things more nicely than we do today. Centralizing this in `ExecutorUtil` at least gives us a place to make these improvements instead of doing it all over the code base. Making these changes is going to be separate from this improvement.\r\n\r\n> Regardless, I feel we need someone to truly test this solution with the intended functionality to see it actually works as intended.\r\n\r\nYea that would be nice. @sammyhk can you test this PR? have you tested these changes in your environment?\r\n\r\nEven if we don't get this tested, we don't make things worse than they are today.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294358452/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294361637","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294361637","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294361637,"node_id":"IC_kwDOFFj3yM5NJmQl","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T02:22:00Z","updated_at":"2022-10-28T02:22:00Z","author_association":"CONTRIBUTOR","body":"@joel-bernstein I don't see you listed here https://github.com/orgs/apache/teams/solr-committers/members?query=joel - its a private list if you are on it you can see it. I see your username here https://whimsy.apache.org/roster/committer/jbernste\r\n\r\nso not sure what is going on","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294361637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294419167","html_url":"https://github.com/apache/solr/pull/1139#issuecomment-1294419167","issue_url":"https://api.github.com/repos/apache/solr/issues/1139","id":1294419167,"node_id":"IC_kwDOFFj3yM5NJ0Tf","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T03:56:38Z","updated_at":"2022-10-28T03:56:38Z","author_association":"CONTRIBUTOR","body":"TBH, I can't see any value add from adding that one line","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294419167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294522253","html_url":"https://github.com/apache/solr/pull/1114#issuecomment-1294522253","issue_url":"https://api.github.com/repos/apache/solr/issues/1114","id":1294522253,"node_id":"IC_kwDOFFj3yM5NKNeN","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T06:31:31Z","updated_at":"2022-10-28T06:31:31Z","author_association":"CONTRIBUTOR","body":"Maybe the gist of the networking page can be summarized as “Running distributed Zookeeper requires stable host names and IP addresses. Although possible, we discourage rolling your own zookeeper cluster in Docker. Dev/test instances can use a single node.”\r\n\r\nMaybe we can link to somewhere in the zookeeper project?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294522253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294751649","html_url":"https://github.com/apache/solr/pull/1141#issuecomment-1294751649","issue_url":"https://api.github.com/repos/apache/solr/issues/1141","id":1294751649,"node_id":"IC_kwDOFFj3yM5NLFeh","user":{"login":"henrik242","id":129931,"node_id":"MDQ6VXNlcjEyOTkzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/129931?v=4","gravatar_id":"","url":"https://api.github.com/users/henrik242","html_url":"https://github.com/henrik242","followers_url":"https://api.github.com/users/henrik242/followers","following_url":"https://api.github.com/users/henrik242/following{/other_user}","gists_url":"https://api.github.com/users/henrik242/gists{/gist_id}","starred_url":"https://api.github.com/users/henrik242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henrik242/subscriptions","organizations_url":"https://api.github.com/users/henrik242/orgs","repos_url":"https://api.github.com/users/henrik242/repos","events_url":"https://api.github.com/users/henrik242/events{/privacy}","received_events_url":"https://api.github.com/users/henrik242/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T09:21:21Z","updated_at":"2022-10-28T09:21:21Z","author_association":"NONE","body":"@cpoerschke @risdenk Thanks! Any hope of getting this into 9.1?  I see RC1 is out now...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294751649/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294778348","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294778348","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294778348,"node_id":"IC_kwDOFFj3yM5NLL_s","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T09:44:15Z","updated_at":"2022-10-28T09:44:15Z","author_association":"CONTRIBUTOR","body":"I'm not able to see  https://github.com/orgs/apache/teams/solr-committers/members?query=joel which must be the reason I'm not seeing the merge button. Is this something that infra needs to fix or does the Solr pmc manage this list?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294778348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294788724","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294788724","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294788724,"node_id":"IC_kwDOFFj3yM5NLOh0","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T09:53:22Z","updated_at":"2022-10-28T09:53:22Z","author_association":"CONTRIBUTOR","body":"@dsmiley I believe Solrj no long needs the hsql dependency. The solrj-streaming dependency on solr:modules:sql I believe is only there to support tests for the JDBCStream and JDBC driver. Both of which could eventually be moved to solrj-jdbc. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294788724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294941143","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1294941143","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1294941143,"node_id":"IC_kwDOFFj3yM5NLzvX","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T12:30:10Z","updated_at":"2022-10-28T12:30:10Z","author_association":"CONTRIBUTOR","body":"Shouldn't those tests move out of solrj(core) now?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1294941143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295006402","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1295006402","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1295006402,"node_id":"IC_kwDOFFj3yM5NMDrC","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:32:54Z","updated_at":"2022-10-28T13:32:54Z","author_association":"CONTRIBUTOR","body":"> I assume this is the PR that will stay in main branch, since there is no dependency added in solrj's build.gradle to depend on solrj-streaming?\r\n\r\n@janhoy yes - will add to branch_9x like solrj-zookeeper did - see https://github.com/apache/solr/pull/1099#issuecomment-1294043754. @dsmiley asked the same question on the Jira.\r\n\r\n> Should there not be some refguide docs in streaming about the need to add solrj-streaming as a dependency to your app if you need the IO classes?\r\n\r\ngood catch will need to update.\r\n\r\n> I also assume there will be a backport PR that adds the transitive dependency from solrj to solrj-zookeeper, perhaps along with a note in the Upgrade Notes for 9.2 that you can now opt out of solrj-streaming on client if you don't use it, simply by excluding the coordinates in your POM.\r\n\r\nyup makes sense.\r\n\r\n> solrj/build.gradle shouldn't need hsqldb anymore; right? And it shouldn't depend on 'solr:modules:sql' if the corresponding tests have been moved.\r\n\r\n@joel-bernstein I can help take another look at the dependencies.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295006402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295010247","html_url":"https://github.com/apache/solr/pull/1128#issuecomment-1295010247","issue_url":"https://api.github.com/repos/apache/solr/issues/1128","id":1295010247,"node_id":"IC_kwDOFFj3yM5NMEnH","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:36:33Z","updated_at":"2022-10-28T13:36:33Z","author_association":"CONTRIBUTOR","body":"one last rebase to latest main to keep all the commit messages. no code changes in the PR. running tests again before merging.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295010247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295019929","html_url":"https://github.com/apache/solr/pull/1128#issuecomment-1295019929","issue_url":"https://api.github.com/repos/apache/solr/issues/1128","id":1295019929,"node_id":"IC_kwDOFFj3yM5NMG-Z","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:45:18Z","updated_at":"2022-10-28T13:45:18Z","author_association":"CONTRIBUTOR","body":"> SOLR-16427: Evaluate and fix errorprone rules - BadShiftAmount, as I didn't udnerstand how you got those magic numbers\r\n\r\nwell I didn't do the calculations :) errorprone did. The idea is that there is wraparound so the shifts can only be within a certain range. See https://errorprone.info/bugpattern/BadShiftAmount for an explanation.\r\n\r\n> I also don't love that the way we look up our log is via private static final Logger log = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\r\n\r\nso historically logging in Solr was even more of a mess since the logger would point to the wrong class with copy/paste. This pattern at least ensures that the logger in one class will apply to that class - even if you copy paste to new code. So yea its a bit wonky but I'm a fan.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295019929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295027828","html_url":"https://github.com/apache/solr/pull/1108#issuecomment-1295027828","issue_url":"https://api.github.com/repos/apache/solr/issues/1108","id":1295027828,"node_id":"IC_kwDOFFj3yM5NMI50","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:52:21Z","updated_at":"2022-10-28T13:52:21Z","author_association":"CONTRIBUTOR","body":"Fixed a different way in SOLR-16353","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295027828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295074740","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1295074740","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1295074740,"node_id":"IC_kwDOFFj3yM5NMUW0","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T14:32:01Z","updated_at":"2022-10-28T14:32:01Z","author_association":"CONTRIBUTOR","body":"Added a note to solrj refguide for solrj-streaming.\r\n\r\n```\r\ngit grep -F hsql | grep -Fv -e 'solr/solrj-streaming'\r\nNOTICE.txt:HSQL Database (HSQLDB): http://hsqldb.org/\r\nNOTICE.txt:License: http://hsqldb.org/web/hsqlLicense.html\r\nNOTICE.txt:For work added by the HSQL Development Group (a.k.a. hsqldb_lic.txt):\r\nsolr/solrj/build.gradle:  testRuntimeOnly \"org.hsqldb:hsqldb\" // runtime because via JDBC reflection\r\nversions.lock:org.hsqldb:hsqldb:2.4.0 (1 constraints: 08050136)\r\nversions.props:org.hsqldb:hsqldb=2.4.0\r\n```\r\n\r\nhsqldb does not look to be used in solr/solrj anymore so will remove and run tests. \r\n\r\nneed to check on sql module still.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295074740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295084688","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1295084688","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1295084688,"node_id":"IC_kwDOFFj3yM5NMWyQ","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T14:40:55Z","updated_at":"2022-10-28T14:40:55Z","author_association":"CONTRIBUTOR","body":"removed hsqldb and sql module from solrj core. both solrj core and solrj streaming tests pass. Rerunning the whole test suite now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295084688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295087385","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1295087385","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1295087385,"node_id":"IC_kwDOFFj3yM5NMXcZ","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T14:43:25Z","updated_at":"2022-10-28T14:43:25Z","author_association":"CONTRIBUTOR","body":"@dsmiley / @janhoy I think I addressed your concerns so far. The only one not addressed (yet) is only for branch_9x to add upgrade notes and opting out of solrj-streaming.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295087385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295088837","html_url":"https://github.com/apache/solr/pull/1142#issuecomment-1295088837","issue_url":"https://api.github.com/repos/apache/solr/issues/1142","id":1295088837,"node_id":"IC_kwDOFFj3yM5NMXzF","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T14:44:41Z","updated_at":"2022-10-28T14:44:41Z","author_association":"CONTRIBUTOR","body":"> I am not sure if \"MMapDirectory V2\" is a good term to describe it in the message. Maybe remove the message at all. Because Lucene logs a message anyways.\r\n\r\nso I want to at least leave a message that we enabled preview features and that we added a flag to the JDK. I'm open to calling it something other than `MMapDirectory V2`. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295088837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295100327","html_url":"https://github.com/apache/solr/pull/1144#issuecomment-1295100327","issue_url":"https://api.github.com/repos/apache/solr/issues/1144","id":1295100327,"node_id":"IC_kwDOFFj3yM5NMamn","user":{"login":"joshgog","id":114599057,"node_id":"U_kgDOBtSkkQ","avatar_url":"https://avatars.githubusercontent.com/u/114599057?v=4","gravatar_id":"","url":"https://api.github.com/users/joshgog","html_url":"https://github.com/joshgog","followers_url":"https://api.github.com/users/joshgog/followers","following_url":"https://api.github.com/users/joshgog/following{/other_user}","gists_url":"https://api.github.com/users/joshgog/gists{/gist_id}","starred_url":"https://api.github.com/users/joshgog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshgog/subscriptions","organizations_url":"https://api.github.com/users/joshgog/orgs","repos_url":"https://api.github.com/users/joshgog/repos","events_url":"https://api.github.com/users/joshgog/events{/privacy}","received_events_url":"https://api.github.com/users/joshgog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T14:54:53Z","updated_at":"2022-10-28T14:54:53Z","author_association":"CONTRIBUTOR","body":"Requesting review of the progress made so far.\r\n`\r\n curl -X GET http://localhost:8983/api/cluster/zookeeper/files` gives me \r\n\r\n```\r\n{\r\n    \"responseHeader\": {\r\n        \"status\": 0,\r\n        \"QTime\": 50\r\n    },\r\n    \"zookeeperFiles\": {\r\n        \"content\": {\r\n            \"detail\": false,\r\n            \"dump\": false,\r\n            \"pagingSupport\": {},\r\n            \"contentType\": \"application/json; charset=UTF-8\",\r\n            \"stream\"\r\n        }\r\n    }\r\n}\r\n```\r\nI think I have not handled the printstream response well\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295100327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295115394","html_url":"https://github.com/apache/solr/pull/1142#issuecomment-1295115394","issue_url":"https://api.github.com/repos/apache/solr/issues/1142","id":1295115394,"node_id":"IC_kwDOFFj3yM5NMeSC","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:08:31Z","updated_at":"2022-10-28T15:08:31Z","author_association":"CONTRIBUTOR","body":"> > I am not sure if \"MMapDirectory V2\" is a good term to describe it in the message. Maybe remove the message at all. Because Lucene logs a message anyways.\r\n> \r\n> so I want to at least leave a message that we enabled preview features and that we added a flag to the JDK. I'm open to calling it something other than `MMapDirectory V2`.\r\n\r\nMaybe call it \"Java $JAVA_VER_NUM detected. Added --enable-preview to enable MemorySegment support in MMapDirectory. See SOLR-16500\"","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295115394/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295124192","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1295124192","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1295124192,"node_id":"IC_kwDOFFj3yM5NMgbg","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:16:33Z","updated_at":"2022-10-28T15:16:33Z","author_association":"CONTRIBUTOR","body":"Looked through the gradle stuff and it looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295124192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295129586","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1295129586","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1295129586,"node_id":"IC_kwDOFFj3yM5NMhvy","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:21:30Z","updated_at":"2022-10-28T15:21:30Z","author_association":"CONTRIBUTOR","body":"`./gradlew check -Pvalidation.errorprone=true` passed with changes pushed so far.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295129586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295133564","html_url":"https://github.com/apache/solr/pull/1142#issuecomment-1295133564","issue_url":"https://api.github.com/repos/apache/solr/issues/1142","id":1295133564,"node_id":"IC_kwDOFFj3yM5NMit8","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:25:06Z","updated_at":"2022-10-28T15:25:06Z","author_association":"CONTRIBUTOR","body":"Addressed wording in 346c884","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295133564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295272732","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295272732","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295272732,"node_id":"IC_kwDOFFj3yM5NNEsc","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:37:17Z","updated_at":"2022-10-28T17:37:17Z","author_association":"NONE","body":"Thanks to @DennisBerger1984's help, we met to step through the debug session of the cache in this invalid state. Dennis captured this [jstack output](https://github.com/apache/solr/files/9890391/stack.txt). We confirmed the findings that the filterCache is stuck in an infinite loop due to retrieving a dead entry. When pairing on a code walkthrough, we came up with a scenario that could explain this problem and would require some Solr experts to advise us on.\r\n\r\nIn short, is the cache key stable in filter cache? This is a `org.apache.lucene.search.Query` object and appears to be mutable. Can a query be modified after it was inserted into the cache? If so, then the cache might fail to remove it during eviction, eagerly mark it as dead, and rediscover it later by a lookup. As modifiable keys are violations to the Map contract it is not detected or handled.\r\n\r\nDuring eviction, Caffeine uses a `computeIfPresent` to remove the victim entry. If the entry was not found in the map, then we assume it was due to an explicit, concurrent removal. This allows the cache to eagerly decrement the current size and avoid unnecessary additional evictions to be within bounds. If a concurrent removal then a `RemovalTask` is queued and will no-op when run. However if the key's hash/equals were modified then eviction would instead leave a dead entry in the map, and a subsequent lookup might discover it by a map lookup.\r\n\r\n@DennisBerger1984 suggested that the filter cache could use an immutable cache key object. Given the subtypes, Is there an easy way to do this? Would using `toString()` result in a key with the right uniqueness properties? If we can apply this change then Dennis will retest and we'll see if our hypothesis holds.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295272732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295276855","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295276855","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295276855,"node_id":"IC_kwDOFFj3yM5NNFs3","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:41:08Z","updated_at":"2022-10-28T17:41:08Z","author_association":"CONTRIBUTOR","body":"Query is by default an immutable object. So there should not be a separate cache key.\r\nIf you found a buggy query with unstable hashcode/equals, please report this at Lucene. This is a bug. Please no workarounds here!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295276855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295282499","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295282499","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295282499,"node_id":"IC_kwDOFFj3yM5NNHFD","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:47:34Z","updated_at":"2022-10-28T17:47:34Z","author_association":"NONE","body":"Thanks @uschindler. I think we need to confirm this hypothesis first. Is there an easy way to make an immutable copy for us to test with? The actual fix might be different, but this would be the easiest way to verify our guess.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295282499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295287661","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295287661","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295287661,"node_id":"IC_kwDOFFj3yM5NNIVt","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:52:46Z","updated_at":"2022-10-28T17:52:46Z","author_association":"CONTRIBUTOR","body":"There is no clone method for queries, sorry. I don't know what the best way is to solve this. What type of query was causing this?\r\n\r\nBut the bug with infinite loop should be fixed, so it throws some exception.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295287661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295291167","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295291167","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295291167,"node_id":"IC_kwDOFFj3yM5NNJMf","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:54:19Z","updated_at":"2022-10-28T17:54:19Z","author_association":"CONTRIBUTOR","body":"You may temporary use toString as cache key. But this is not working safely for all query types.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295291167/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295298468","html_url":"https://github.com/apache/solr/pull/1145#issuecomment-1295298468","issue_url":"https://api.github.com/repos/apache/solr/issues/1145","id":1295298468,"node_id":"IC_kwDOFFj3yM5NNK-k","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:58:45Z","updated_at":"2022-10-28T17:58:45Z","author_association":"CONTRIBUTOR","body":"This should help with things like https://issues.apache.org/jira/browse/SOLR-16431","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295298468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295301391","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295301391","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295301391,"node_id":"IC_kwDOFFj3yM5NNLsP","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:02:18Z","updated_at":"2022-10-28T18:02:18Z","author_association":"NONE","body":"I believe it was a `WrappedQuery` holding a complex BooleanQuery, but we did not look enough. I only recall that the key equality was complex with hashmap comparisons, and when we inspected the key it had setters and non-final fields. We didn't think of capturing screenshots of the object states when debugging. Dennis might be able to offer more details.\r\n\r\nI will think more about how to handle the infinite loop in this scenario. A retry is needed if a stale read, e.g. the reader might lookup the entry, be context switched, it evicted, and then observe it to be dead. That's fine and a subsequent re-read should cause it to see a fresh result. I may be able to handle this case a little better, but since it can happen safely it is tricky.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295301391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295305765","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1295305765","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1295305765,"node_id":"IC_kwDOFFj3yM5NNMwl","user":{"login":"joel-bernstein","id":5747955,"node_id":"MDQ6VXNlcjU3NDc5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5747955?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-bernstein","html_url":"https://github.com/joel-bernstein","followers_url":"https://api.github.com/users/joel-bernstein/followers","following_url":"https://api.github.com/users/joel-bernstein/following{/other_user}","gists_url":"https://api.github.com/users/joel-bernstein/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-bernstein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-bernstein/subscriptions","organizations_url":"https://api.github.com/users/joel-bernstein/orgs","repos_url":"https://api.github.com/users/joel-bernstein/repos","events_url":"https://api.github.com/users/joel-bernstein/events{/privacy}","received_events_url":"https://api.github.com/users/joel-bernstein/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:07:45Z","updated_at":"2022-10-28T18:07:45Z","author_association":"CONTRIBUTOR","body":"The merge button has appeared for me. Anything more to do or should we merge?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295305765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295306427","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295306427","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295306427,"node_id":"IC_kwDOFFj3yM5NNM67","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:08:38Z","updated_at":"2022-10-28T18:09:40Z","author_association":"CONTRIBUTOR","body":"WrappedQuery is a solr class. Many of the queries there are old and we're never checked for final fields and correctness.\r\nThis would be a good job to start fixing the - sorry to be harsh - heavily broken legacy query bullshit in Solr. Solr should only use Lucene queries and not add those useless wrappers causing trouble.\r\nIn Lucene every query only has final fields and setters are forbidden. We had some problematic ones but this was fixed long ago.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295306427/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295310470","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295310470","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295310470,"node_id":"IC_kwDOFFj3yM5NNN6G","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:13:06Z","updated_at":"2022-10-28T18:13:06Z","author_association":"CONTRIBUTOR","body":"This query must die, please make fieldss final and remove the setter: https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/search/WrappedQuery.java","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295310470/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295311727","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295311727","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295311727,"node_id":"IC_kwDOFFj3yM5NNONv","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:14:40Z","updated_at":"2022-10-28T18:17:15Z","author_association":"CONTRIBUTOR","body":"@uschindler to make sure I understand - anything in Solr that extends from https://github.com/apache/lucene/blob/main/lucene/core/src/java/org/apache/lucene/search/Query.java should have no setters and final fields. effectively immutable. makes sense to me\r\n\r\nI filed https://issues.apache.org/jira/browse/SOLR-16509 to fix these.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295311727/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295313752","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295313752","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295313752,"node_id":"IC_kwDOFFj3yM5NNOtY","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:17:12Z","updated_at":"2022-10-29T08:22:35Z","author_association":"CONTRIBUTOR","body":"The superclass is also broken, but not problematic as the fields are mutable only to control caching. But all of that should really be fixed!\r\nWe should also have a review of other Query subclasses in Solr for immutability and correct equals/hashcode.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295313752/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295315124","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295315124","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295315124,"node_id":"IC_kwDOFFj3yM5NNPC0","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:18:39Z","updated_at":"2022-10-28T18:18:39Z","author_association":"CONTRIBUTOR","body":"> @uschindler to make sure I understand - anything in Solr that extends from https://github.com/apache/lucene/blob/main/lucene/core/src/java/org/apache/lucene/search/Query.java should have no setters and final fields. effectively immutable. makes sense to me\r\n> \r\n> I filed https://issues.apache.org/jira/browse/SOLR-16509 to fix these.\r\n\r\nYes. Thanks. The lucene query cache also uses queries as key. They should really be immutable! ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295315124/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295333521","html_url":"https://github.com/apache/solr/pull/1147#issuecomment-1295333521","issue_url":"https://api.github.com/repos/apache/solr/issues/1147","id":1295333521,"node_id":"IC_kwDOFFj3yM5NNTiR","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T18:40:21Z","updated_at":"2022-10-28T18:40:21Z","author_association":"CONTRIBUTOR","body":"Here are the errors so far:\r\n\r\n```\r\n➜  solr git:(SOLR-16508) ./gradlew clean\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.6-milestone-1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* Where:\r\nScript '/Users/risdenk/repos/apache/solr/gradle/testing/alternative-jdk-support.gradle' line: 89\r\n\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n> No signature of method: org.gradle.internal.jvm.inspection.CachingJvmMetadataDetector.getMetadata() is applicable for argument types: (File) values: [/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home]\r\n  Possible solutions: getMetadata(org.gradle.jvm.toolchain.internal.InstallationLocation), getMetaClass()\r\n\r\n* Try:\r\n> Run with --stacktrace option to get the stack trace.\r\n> Run with --info or --debug option to get more log output.\r\n> Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* Where:\r\nScript '/Users/risdenk/repos/apache/solr/gradle/java/javac.gradle' line: 58\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project ':solr:benchmark'.\r\n> Failed to apply plugin class 'org.gradle.api.plugins.JavaPlugin'.\r\n   > Could not get unknown property 'runtimeJavaVersion' for root project 'solr-root' of type org.gradle.api.Project.\r\n\r\n* Try:\r\n> Run with --stacktrace option to get the stack trace.\r\n> Run with --info or --debug option to get more log output.\r\n> Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295333521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295355000","html_url":"https://github.com/apache/solr/pull/1146#issuecomment-1295355000","issue_url":"https://api.github.com/repos/apache/solr/issues/1146","id":1295355000,"node_id":"IC_kwDOFFj3yM5NNYx4","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T19:05:46Z","updated_at":"2022-10-28T19:05:46Z","author_association":"CONTRIBUTOR","body":"I proactively added reviewers to raise awareness of this. I am working through the changes now. I figured reviewers would get notified when it was put in \"ready for review\" - sorry for the noise :/","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295355000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295364124","html_url":"https://github.com/apache/solr/pull/1108#issuecomment-1295364124","issue_url":"https://api.github.com/repos/apache/solr/issues/1108","id":1295364124,"node_id":"IC_kwDOFFj3yM5NNbAc","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T19:16:26Z","updated_at":"2022-10-28T19:16:26Z","author_association":"CONTRIBUTOR","body":"@risdenk, @gezapeti is already aware; this is complementary.  Ideally you could easily globally disable it, but maybe there is a scenario for toggling on a specific request (personally I don't care about the latter; maybe @gezapeti does).\r\n\r\nMeanwhile, my colleague @heythm is working on a new Solr utility that would try to make settings like this more regularized so we have it both ways all the time (set via request, or system property, or env variable, or maybe other ways).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295364124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295445117","html_url":"https://github.com/apache/solr/pull/1146#issuecomment-1295445117","issue_url":"https://api.github.com/repos/apache/solr/issues/1146","id":1295445117,"node_id":"IC_kwDOFFj3yM5NNux9","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T20:41:00Z","updated_at":"2022-10-28T20:41:00Z","author_association":"CONTRIBUTOR","body":"FWIW looks like can enforce this with https://errorprone.info/bugpattern/Immutable - will check on that in a bit","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295445117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295452667","html_url":"https://github.com/apache/solr/pull/1146#issuecomment-1295452667","issue_url":"https://api.github.com/repos/apache/solr/issues/1146","id":1295452667,"node_id":"IC_kwDOFFj3yM5NNwn7","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T20:50:59Z","updated_at":"2022-10-28T20:50:59Z","author_association":"CONTRIBUTOR","body":"> FWIW looks like can enforce this with https://errorprone.info/bugpattern/Immutable - will check on that in a bit\r\n\r\nwell this check is WAY more thorough than just final fields. It expects Immutable to be on all the fields as well (to actually make sure classes are immutable this makes sense). sadly this means we have a lot more classes to try to annotate then.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295452667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295681759","html_url":"https://github.com/apache/solr/pull/1148#issuecomment-1295681759","issue_url":"https://api.github.com/repos/apache/solr/issues/1148","id":1295681759,"node_id":"IC_kwDOFFj3yM5NOojf","user":{"login":"sonatype-lift[bot]","id":37194012,"node_id":"MDM6Qm90MzcxOTQwMTI=","avatar_url":"https://avatars.githubusercontent.com/in/9843?v=4","gravatar_id":"","url":"https://api.github.com/users/sonatype-lift%5Bbot%5D","html_url":"https://github.com/apps/sonatype-lift","followers_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/followers","following_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/repos","events_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T01:37:47Z","updated_at":"2022-10-29T01:37:47Z","author_association":"NONE","body":":warning: **314 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/solr/01GGGMT824KRZSKH6JKF88Z7C4?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\\%20solr) for more details.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295681759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295767609","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295767609","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295767609,"node_id":"IC_kwDOFFj3yM5NO9g5","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T08:18:26Z","updated_at":"2022-10-29T08:18:26Z","author_association":"CONTRIBUTOR","body":"Did we in the meantime figure out which of the query classes caused the issue? WrappedQuery.setQuery() was never used. It would be good to get a full toString dump of the query that caused the issue.\r\nDid you made a screenshot while debugging?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295767609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295810270","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295810270","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295810270,"node_id":"IC_kwDOFFj3yM5NPH7e","user":{"login":"DennisBerger1984","id":69144692,"node_id":"MDQ6VXNlcjY5MTQ0Njky","avatar_url":"https://avatars.githubusercontent.com/u/69144692?v=4","gravatar_id":"","url":"https://api.github.com/users/DennisBerger1984","html_url":"https://github.com/DennisBerger1984","followers_url":"https://api.github.com/users/DennisBerger1984/followers","following_url":"https://api.github.com/users/DennisBerger1984/following{/other_user}","gists_url":"https://api.github.com/users/DennisBerger1984/gists{/gist_id}","starred_url":"https://api.github.com/users/DennisBerger1984/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DennisBerger1984/subscriptions","organizations_url":"https://api.github.com/users/DennisBerger1984/orgs","repos_url":"https://api.github.com/users/DennisBerger1984/repos","events_url":"https://api.github.com/users/DennisBerger1984/events{/privacy}","received_events_url":"https://api.github.com/users/DennisBerger1984/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T11:35:46Z","updated_at":"2022-10-29T16:43:03Z","author_association":"NONE","body":"I'd need to investigate this on tuesday. I think there was also [Querqy](https://github.com/querqy/querqy) involved, so let me check that again, I'll take shots stackdumps etc… to really pinpoint the problem.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295810270/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295894185","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295894185","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295894185,"node_id":"IC_kwDOFFj3yM5NPcap","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T16:35:10Z","updated_at":"2022-10-29T16:47:17Z","author_association":"NONE","body":"Reviewing the Query hierarchy and I see mutations that impact equality. Here's the list that I found, but being unfamiliar I might have missed some cases. Hope it helps.\r\n- LTRQuery's `scoringQuery` is mutable (`originalQuery`)\r\n- ExportQuery's `mainQuery`\r\n- PointSetQuery's `maxDocFreq`\r\n- GraphQuery's `traversalFilter`, `maxDepth`, etc\r\n- LTRScoringQuery's `originalQuery`\r\n- AbstractReRankQuery's `mainQuery` is used by subtypes for equality\r\n  - Subtypes: ReRankQuery, LTRQuery, LTRScoringQuery\r\n- Feature's `name`, `index`, etc\r\n  - Subtypes: FieldLengthFeature, FieldValueFeature, OriginalScoreFeature, SolrFeature, ValueFeature\r\n- LTRInterleavingQuery's `rerankingQueries`","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295894185/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295966527","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1295966527","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1295966527,"node_id":"IC_kwDOFFj3yM5NPuE_","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T20:35:43Z","updated_at":"2022-10-29T20:35:43Z","author_association":"CONTRIBUTOR","body":"@ben-manes thanks your list matches mine - I've been fixing most of these here - https://github.com/apache/solr/pull/1146 as part of https://issues.apache.org/jira/browse/SOLR-16509","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1295966527/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296296319","html_url":"https://github.com/apache/solr/pull/1144#issuecomment-1296296319","issue_url":"https://api.github.com/repos/apache/solr/issues/1144","id":1296296319,"node_id":"IC_kwDOFFj3yM5NQ-l_","user":{"login":"joshgog","id":114599057,"node_id":"U_kgDOBtSkkQ","avatar_url":"https://avatars.githubusercontent.com/u/114599057?v=4","gravatar_id":"","url":"https://api.github.com/users/joshgog","html_url":"https://github.com/joshgog","followers_url":"https://api.github.com/users/joshgog/followers","following_url":"https://api.github.com/users/joshgog/following{/other_user}","gists_url":"https://api.github.com/users/joshgog/gists{/gist_id}","starred_url":"https://api.github.com/users/joshgog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshgog/subscriptions","organizations_url":"https://api.github.com/users/joshgog/orgs","repos_url":"https://api.github.com/users/joshgog/repos","events_url":"https://api.github.com/users/joshgog/events{/privacy}","received_events_url":"https://api.github.com/users/joshgog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T16:28:33Z","updated_at":"2022-10-30T16:28:33Z","author_association":"CONTRIBUTOR","body":"I have changed the response property to NamedList<Object> and the result I'm getting is now \r\n\r\n`{\"responseHeader\":{\"status\":0,\"QTime\":267},\"zookeeperFiles\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":`","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296296319/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296329111","html_url":"https://github.com/apache/solr/pull/1099#issuecomment-1296329111","issue_url":"https://api.github.com/repos/apache/solr/issues/1099","id":1296329111,"node_id":"IC_kwDOFFj3yM5NRGmX","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T19:06:55Z","updated_at":"2022-10-30T19:07:01Z","author_association":"CONTRIBUTOR","body":"I think this is good to go. Just need to do follow up on branch_9x after this is merged and backported to branch_9x - https://github.com/apache/solr/pull/1099#issuecomment-1294043754","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296329111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296336565","html_url":"https://github.com/apache/solr/pull/371#issuecomment-1296336565","issue_url":"https://api.github.com/repos/apache/solr/issues/371","id":1296336565,"node_id":"IC_kwDOFFj3yM5NRIa1","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T19:45:48Z","updated_at":"2022-10-30T19:45:48Z","author_association":"CONTRIBUTOR","body":"Synched with main and moved CHANGES entry to 9.2. WIll merge soon.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296336565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296351305","html_url":"https://github.com/apache/solr/pull/749#issuecomment-1296351305","issue_url":"https://api.github.com/repos/apache/solr/issues/749","id":1296351305,"node_id":"IC_kwDOFFj3yM5NRMBJ","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T21:07:52Z","updated_at":"2022-10-30T21:07:52Z","author_association":"CONTRIBUTOR","body":"Abandoning","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296351305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296369814","html_url":"https://github.com/apache/solr/pull/1147#issuecomment-1296369814","issue_url":"https://api.github.com/repos/apache/solr/issues/1147","id":1296369814,"node_id":"IC_kwDOFFj3yM5NRQiW","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T22:53:38Z","updated_at":"2022-10-30T22:53:38Z","author_association":"CONTRIBUTOR","body":"This should all be working now :)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296369814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296377963","html_url":"https://github.com/apache/solr/pull/1147#issuecomment-1296377963","issue_url":"https://api.github.com/repos/apache/solr/issues/1147","id":1296377963,"node_id":"IC_kwDOFFj3yM5NRShr","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T23:28:34Z","updated_at":"2022-10-30T23:28:34Z","author_association":"CONTRIBUTOR","body":"Hmm running into floating point stuff w/ JDK 19 - https://inside.java/2022/09/23/quality-heads-up/","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296377963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296493503","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1296493503","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1296493503,"node_id":"IC_kwDOFFj3yM5NRuu_","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T03:30:36Z","updated_at":"2022-10-31T03:30:36Z","author_association":"NONE","body":"I have [added](https://github.com/ben-manes/caffeine/commit/9cd509c69344e304eb3ff99fe61cd8810957e6e8) detection for the scenario when the key's equality has changed and corrupted the mapping. For put, putIfAbsent replace, remove, and computes this will throw an exception, whereas clear and eviction will log at the error level.\r\n\r\nThe put's loop remains indefinite, but after a spin wait threshold it will fallback to a map computation. For the common case it adds no overhead, for a taxed system this yields so that the remover thread may be granted a time slice to finish its work, and for the corruption case it gives us a chance to terminate with a validation error.\r\n\r\nThese changes are available in `3.1.2-SNAPSHOT` from the sonatype repository.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1296493503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297143336","html_url":"https://github.com/apache/solr/pull/935#issuecomment-1297143336","issue_url":"https://api.github.com/repos/apache/solr/issues/935","id":1297143336,"node_id":"IC_kwDOFFj3yM5NUNYo","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T14:05:02Z","updated_at":"2022-10-31T14:05:02Z","author_association":"CONTRIBUTOR","body":"@joel-bernstein I was going to merge this today, but I realized that might conflict with your work on seperating out the streaming code?   Should I wait?  Do you want to add this to your list of tickets to merge once that work is done?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297143336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297144760","html_url":"https://github.com/apache/solr/pull/936#issuecomment-1297144760","issue_url":"https://api.github.com/repos/apache/solr/issues/936","id":1297144760,"node_id":"IC_kwDOFFj3yM5NUNu4","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T14:06:09Z","updated_at":"2022-10-31T14:06:09Z","author_association":"CONTRIBUTOR","body":"FYI, Joel is going to merge this once the new jar for streaming is completed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297144760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297173107","html_url":"https://github.com/apache/solr/pull/1149#issuecomment-1297173107","issue_url":"https://api.github.com/repos/apache/solr/issues/1149","id":1297173107,"node_id":"IC_kwDOFFj3yM5NUUpz","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T14:26:57Z","updated_at":"2022-10-31T14:26:57Z","author_association":"CONTRIBUTOR","body":"For fun, I applied the pattern to another unit test, `TestReplicationHandler` to see how it looked...   I like that we hid the `HttpSolrClient` away!   Thoughts @dsmiley ?  Are we on the right track?   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297173107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297175272","html_url":"https://github.com/apache/solr/pull/1080#issuecomment-1297175272","issue_url":"https://api.github.com/repos/apache/solr/issues/1080","id":1297175272,"node_id":"IC_kwDOFFj3yM5NUVLo","user":{"login":"AAnakhe","id":93340132,"node_id":"U_kgDOBZBB5A","avatar_url":"https://avatars.githubusercontent.com/u/93340132?v=4","gravatar_id":"","url":"https://api.github.com/users/AAnakhe","html_url":"https://github.com/AAnakhe","followers_url":"https://api.github.com/users/AAnakhe/followers","following_url":"https://api.github.com/users/AAnakhe/following{/other_user}","gists_url":"https://api.github.com/users/AAnakhe/gists{/gist_id}","starred_url":"https://api.github.com/users/AAnakhe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AAnakhe/subscriptions","organizations_url":"https://api.github.com/users/AAnakhe/orgs","repos_url":"https://api.github.com/users/AAnakhe/repos","events_url":"https://api.github.com/users/AAnakhe/events{/privacy}","received_events_url":"https://api.github.com/users/AAnakhe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T14:28:27Z","updated_at":"2022-10-31T14:28:27Z","author_association":"CONTRIBUTOR","body":"Okay thanks, I will fix that shortly\n\nOn Mon, Oct 31, 2022 at 3:21 PM Jason Gerlowski ***@***.***>\nwrote:\n\n> ***@***.**** commented on this pull request.\n> ------------------------------\n>\n> In\n> solr/core/src/test/org/apache/solr/handler/admin/api/V2CollectionAPIMappingTest.java\n> <https://github.com/apache/solr/pull/1080#discussion_r1009477355>:\n>\n> > @@ -85,6 +85,18 @@ public void testGetCollectionStatus() throws Exception {\n>      assertEquals(\"shard2\", v1Params.get(SHARD));\n>    }\n>\n> +\n> +  @Test\n> +  public void testRenameCollectionAllParams() throws Exception {\n> +    final SolrParams v1Params = captureConvertedV1Params(\n> +            \"/collections/collName\", \"POST\", \"{\\\"rename\\\": {\\\"to\\\": \\\"targetColl\\\"}}\");\n>\n> The first thing that jumps out at me in this test code is that you\n> restructured the API endpoint to look the way we discussed. (i.e. now it\n> looks like POST /collections/collName/commands/rename)....but this test\n> still uses the old appearance/syntax. The path, request-body, etc. that\n> gets sent into captureConvertedV1Params is all using the old syntax we\n> moved away from. If you fix that, I'm betting this error will go away!\n>\n> As a general note on \"process\": generally speaking its easier for me (or\n> others) to help review if you push up the code changes you've made, even if\n> things aren't 100% working yet. That makes it easier for me to comment on\n> particular lines. It makes it easier for me to pull the code down and run\n> that test myself, etc. It saves you from having to paste your code in a\n> comment box and fight the markdown/formatting, etc.\n>\n> Totally fine if you had reasons for not doing that here; just figured I'd\n> mention the convention as a \"heads up\" in case it's helpful since you're\n> newer to the community\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/solr/pull/1080#discussion_r1009477355>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AWIEDZG2KINRYWJVZZDM74TWF7IYLANCNFSM6AAAAAARGAWM5E>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297175272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297329730","html_url":"https://github.com/apache/solr/pull/1126#issuecomment-1297329730","issue_url":"https://api.github.com/repos/apache/solr/issues/1126","id":1297329730,"node_id":"IC_kwDOFFj3yM5NU65C","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T16:12:09Z","updated_at":"2022-10-31T16:12:09Z","author_association":"CONTRIBUTOR","body":"Awesome; thanks John.  I replied on JIRA, about the async stuff as well, so I think that's everything.  Lmk if I missed a question though!\r\n\r\nFeel free to push up whatever you've got from time to time if you're interested in a sanity check on the  \"delta\", even if it's not quite \"finished\" yet.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297329730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297404759","html_url":"https://github.com/apache/solr/pull/1144#issuecomment-1297404759","issue_url":"https://api.github.com/repos/apache/solr/issues/1144","id":1297404759,"node_id":"IC_kwDOFFj3yM5NVNNX","user":{"login":"joshgog","id":114599057,"node_id":"U_kgDOBtSkkQ","avatar_url":"https://avatars.githubusercontent.com/u/114599057?v=4","gravatar_id":"","url":"https://api.github.com/users/joshgog","html_url":"https://github.com/joshgog","followers_url":"https://api.github.com/users/joshgog/followers","following_url":"https://api.github.com/users/joshgog/following{/other_user}","gists_url":"https://api.github.com/users/joshgog/gists{/gist_id}","starred_url":"https://api.github.com/users/joshgog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshgog/subscriptions","organizations_url":"https://api.github.com/users/joshgog/orgs","repos_url":"https://api.github.com/users/joshgog/repos","events_url":"https://api.github.com/users/joshgog/events{/privacy}","received_events_url":"https://api.github.com/users/joshgog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T17:11:01Z","updated_at":"2022-10-31T17:11:01Z","author_association":"CONTRIBUTOR","body":"Accessing Zookeeper status gives me the following error. I'm still debugging the error\r\n\r\n```\r\nSEVERE: An I/O error has occurred while writing a response message entity to the container output stream.\r\norg.glassfish.jersey.server.internal.process.MappableException: com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: org.apache.solr.handler.admin.api.ZookeeperAPI$ZookeeperStatus[\"zookeeperStatus\"]->org.apache.solr.common.util.NamedList[\"immutableCopy\"]->org.apache.solr.common.util.NamedList[\"immutableCopy\"]->org.apache.solr.common.util.NamedList[\"immutableCopy\"]->org.apache.solr.common.util.NamedList[\"immutableCopy\"]->org.apache.solr.common.util.NamedList[\"immutableCopy\"]-\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297404759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297503312","html_url":"https://github.com/apache/solr/pull/1115#issuecomment-1297503312","issue_url":"https://api.github.com/repos/apache/solr/issues/1115","id":1297503312,"node_id":"IC_kwDOFFj3yM5NVlRQ","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T18:32:02Z","updated_at":"2022-10-31T18:32:02Z","author_association":"CONTRIBUTOR","body":"> The error received is 500.\r\n\r\nMake sure you register `CatchAllExceptionMapper.class` in your JerseyTest's `configure()` method...that makes it much easier to see what's going on here.  When I add that to your test class, put a debugger break-point in CatchAllExceptionMapper and re-run, I get the following error:\r\n\r\n```\r\nSolr instance is not running in SolrCloud mode.\r\n```\r\n\r\nWhich makes sense - one of the first things that ReplaceNodeAPI does is call `fetchAndValidateZooKeeperAwareCoreContainer`, and the `mockCoreContainer` your test uses isn't configured to say that it's ZK-aware.  I fixed that by adding the line:\r\n\r\n```\r\n        when(mockCoreContainer.isZooKeeperAware()).thenReturn(true);\r\n```\r\nto the test, which lets us get further until we hit a different mock related error later on.  But, that's progress.\r\n\r\nAnyway, hope that helps!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297503312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297522684","html_url":"https://github.com/apache/solr/pull/1115#issuecomment-1297522684","issue_url":"https://api.github.com/repos/apache/solr/issues/1115","id":1297522684,"node_id":"IC_kwDOFFj3yM5NVp_8","user":{"login":"joshgog","id":114599057,"node_id":"U_kgDOBtSkkQ","avatar_url":"https://avatars.githubusercontent.com/u/114599057?v=4","gravatar_id":"","url":"https://api.github.com/users/joshgog","html_url":"https://github.com/joshgog","followers_url":"https://api.github.com/users/joshgog/followers","following_url":"https://api.github.com/users/joshgog/following{/other_user}","gists_url":"https://api.github.com/users/joshgog/gists{/gist_id}","starred_url":"https://api.github.com/users/joshgog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshgog/subscriptions","organizations_url":"https://api.github.com/users/joshgog/orgs","repos_url":"https://api.github.com/users/joshgog/repos","events_url":"https://api.github.com/users/joshgog/events{/privacy}","received_events_url":"https://api.github.com/users/joshgog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T18:49:09Z","updated_at":"2022-10-31T18:49:09Z","author_association":"CONTRIBUTOR","body":"Quite helpful information. Will decide between the Jersey test and the remote message test","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297522684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297557561","html_url":"https://github.com/apache/solr/pull/1104#issuecomment-1297557561","issue_url":"https://api.github.com/repos/apache/solr/issues/1104","id":1297557561,"node_id":"IC_kwDOFFj3yM5NVyg5","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T19:19:32Z","updated_at":"2022-10-31T19:19:32Z","author_association":"CONTRIBUTOR","body":"Thanks @HoustonPutman for the advice...  I honestly had gotten frustrated with the build, so your feedback got me moving again!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1297557561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1298227224","html_url":"https://github.com/apache/solr/pull/1144#issuecomment-1298227224","issue_url":"https://api.github.com/repos/apache/solr/issues/1144","id":1298227224,"node_id":"IC_kwDOFFj3yM5NYWAY","user":{"login":"joshgog","id":114599057,"node_id":"U_kgDOBtSkkQ","avatar_url":"https://avatars.githubusercontent.com/u/114599057?v=4","gravatar_id":"","url":"https://api.github.com/users/joshgog","html_url":"https://github.com/joshgog","followers_url":"https://api.github.com/users/joshgog/followers","following_url":"https://api.github.com/users/joshgog/following{/other_user}","gists_url":"https://api.github.com/users/joshgog/gists{/gist_id}","starred_url":"https://api.github.com/users/joshgog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshgog/subscriptions","organizations_url":"https://api.github.com/users/joshgog/orgs","repos_url":"https://api.github.com/users/joshgog/repos","events_url":"https://api.github.com/users/joshgog/events{/privacy}","received_events_url":"https://api.github.com/users/joshgog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T08:51:10Z","updated_at":"2022-11-01T08:51:24Z","author_association":"CONTRIBUTOR","body":"> I have changed the response property to NamedList and the result I'm getting is now\r\n> \r\n> `{\"responseHeader\":{\"status\":0,\"QTime\":267},\"zookeeperFiles\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":{\"immutableCopy\":`\r\n\r\nSince the handler response is an OutputStream I'm thinking of getting the OutputStrem into a String that would be returned as the response.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1298227224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1298315534","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1298315534","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1298315534,"node_id":"IC_kwDOFFj3yM5NYrkO","user":{"login":"tboeghk","id":557264,"node_id":"MDQ6VXNlcjU1NzI2NA==","avatar_url":"https://avatars.githubusercontent.com/u/557264?v=4","gravatar_id":"","url":"https://api.github.com/users/tboeghk","html_url":"https://github.com/tboeghk","followers_url":"https://api.github.com/users/tboeghk/followers","following_url":"https://api.github.com/users/tboeghk/following{/other_user}","gists_url":"https://api.github.com/users/tboeghk/gists{/gist_id}","starred_url":"https://api.github.com/users/tboeghk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tboeghk/subscriptions","organizations_url":"https://api.github.com/users/tboeghk/orgs","repos_url":"https://api.github.com/users/tboeghk/repos","events_url":"https://api.github.com/users/tboeghk/events{/privacy}","received_events_url":"https://api.github.com/users/tboeghk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T10:19:40Z","updated_at":"2022-11-01T10:19:40Z","author_association":"CONTRIBUTOR","body":"@ben-manes we can confirm that your change with `3.1.2-SNAPSHOT` is working! \r\n\r\nWe removed our fix from the SolrCache and can confirm that no threads inside Solr are spinning anymore. We see the following exceptions in the Solr log (I had to remove some key details as they are sensitive):\r\n\r\n```\r\njava.lang.IllegalStateException: An invalid state was detected that occurs if the key's equals or hashCode was modified while it resided in the map. This violation of the Map contract can lead to non-deterministic behavior (key: ((indexed_dimensions:dame^5000.0 | MatchNoDocsQuery(\"\") | MatchNoDocsQuery(\"\") | selling_points:dame^1000.0 | MatchNoDocsQuery(\"\") | MatchNoDocsQuery(\"\") | indexed_filter_values:dame^10000.0 | target_group:dame^50000.0 | [...] text:trigema^10000.0)~0.2)~3).\r\nat com.github.benmanes.caffeine.cache.Caffeine.requireState(Caffeine.java:204)\r\nat com.github.benmanes.caffeine.cache.BoundedLocalCache.requireIsAlive(BoundedLocalCache.java:288)\r\nat com.github.benmanes.caffeine.cache.BoundedLocalCache.lambda$put$8(BoundedLocalCache.java:2293)\r\nat java.base/java.util.concurrent.ConcurrentHashMap.computeIfPresent(ConcurrentHashMap.java:1852)\r\nat com.github.benmanes.caffeine.cache.BoundedLocalCache.put(BoundedLocalCache.java:2292)\r\nat com.github.benmanes.caffeine.cache.BoundedLocalCache.put(BoundedLocalCache.java:2212)\r\nat com.github.benmanes.caffeine.cache.LocalAsyncCache$AsMapView.put(LocalAsyncCache.java:689)\r\nat org.apache.solr.search.CaffeineCache.put(CaffeineCache.java:267)\r\nat org.apache.solr.search.SolrIndexSearcher.getDocListC(SolrIndexSearcher.java:1437)\r\nat org.apache.solr.search.SolrIndexSearcher.search(SolrIndexSearcher.java:596)\r\n[...]\r\n```\r\n\r\nWe'll check what exact `Query` implementation is inserted into the cache.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1298315534/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299286090","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1299286090","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1299286090,"node_id":"IC_kwDOFFj3yM5NcYhK","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T22:03:50Z","updated_at":"2022-11-01T22:03:50Z","author_association":"CONTRIBUTOR","body":"@risdenk I'd love some input on the way I did deprecation.  Since the whole class is kind of deprecated, I didn't provide a bunch of `@deprecation` in the javadocs, or add the `since` tag...   Do you think I should?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299286090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299363456","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1299363456","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1299363456,"node_id":"IC_kwDOFFj3yM5NcraA","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T23:44:42Z","updated_at":"2022-11-01T23:44:42Z","author_association":"CONTRIBUTOR","body":"I'd love another set of eyes on eb13c64057c000326087915e5810c3eea5339adf @risdenk, I *think* I simplified the test which meant I could remove the `setParser` code...   But maybe I lost what the test was all about...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299363456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299465793","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1299465793","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1299465793,"node_id":"IC_kwDOFFj3yM5NdEZB","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T02:14:23Z","updated_at":"2022-11-02T02:14:23Z","author_association":"CONTRIBUTOR","body":"Can't figure out how to use builder pattern in `TestSmileRequest` ;-(","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299465793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299471494","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1299471494","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1299471494,"node_id":"IC_kwDOFFj3yM5NdFyG","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T02:21:59Z","updated_at":"2022-11-02T02:21:59Z","author_association":"CONTRIBUTOR","body":"If this all looks in the right direction, then I can tackle `Http2SolrClient` and `ConcurrentUpdateHttp2SolrClient`, moving them to builder pattern.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299471494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299671194","html_url":"https://github.com/apache/solr/pull/1159#issuecomment-1299671194","issue_url":"https://api.github.com/repos/apache/solr/issues/1159","id":1299671194,"node_id":"IC_kwDOFFj3yM5Nd2ia","user":{"login":"sonatype-lift[bot]","id":37194012,"node_id":"MDM6Qm90MzcxOTQwMTI=","avatar_url":"https://avatars.githubusercontent.com/in/9843?v=4","gravatar_id":"","url":"https://api.github.com/users/sonatype-lift%5Bbot%5D","html_url":"https://github.com/apps/sonatype-lift","followers_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/followers","following_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/repos","events_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/sonatype-lift%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T07:02:10Z","updated_at":"2022-11-02T07:02:10Z","author_association":"NONE","body":":warning: **314 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/solr/01GGVFBCD8A8Z030NN5SM6B5Z9?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\\%20solr) for more details.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299671194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299722332","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1299722332","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1299722332,"node_id":"IC_kwDOFFj3yM5NeDBc","user":{"login":"DennisBerger1984","id":69144692,"node_id":"MDQ6VXNlcjY5MTQ0Njky","avatar_url":"https://avatars.githubusercontent.com/u/69144692?v=4","gravatar_id":"","url":"https://api.github.com/users/DennisBerger1984","html_url":"https://github.com/DennisBerger1984","followers_url":"https://api.github.com/users/DennisBerger1984/followers","following_url":"https://api.github.com/users/DennisBerger1984/following{/other_user}","gists_url":"https://api.github.com/users/DennisBerger1984/gists{/gist_id}","starred_url":"https://api.github.com/users/DennisBerger1984/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DennisBerger1984/subscriptions","organizations_url":"https://api.github.com/users/DennisBerger1984/orgs","repos_url":"https://api.github.com/users/DennisBerger1984/repos","events_url":"https://api.github.com/users/DennisBerger1984/events{/privacy}","received_events_url":"https://api.github.com/users/DennisBerger1984/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T07:51:55Z","updated_at":"2022-11-02T07:51:55Z","author_association":"NONE","body":"![Screenshot_20221102_084057](https://user-images.githubusercontent.com/69144692/199430736-8210ff3c-0eb6-40d5-889d-aaad853d1bcb.png)\r\nIt's a WrappedQuery Object.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299722332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299774688","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1299774688","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1299774688,"node_id":"IC_kwDOFFj3yM5NePzg","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T08:14:24Z","updated_at":"2022-11-02T08:14:24Z","author_association":"NONE","body":"Lucerne’s BooleanQuery clauseSets is externally mutable. The getClauses method returns a mutable collection (hashset) so the caller might add to it. I don’t see an occurrence, but some unexpected inner mutability is an easy mistake. The idea in the related issue above of using `@Immutable` to assert deeply would be a nice goal.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299774688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299799324","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1299799324","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1299799324,"node_id":"IC_kwDOFFj3yM5NeV0c","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T08:25:21Z","updated_at":"2022-11-02T08:25:21Z","author_association":"CONTRIBUTOR","body":"The clauses should not be modifyable from outside and I don't know any code doing this. BooleanQuery is designed to be immutable, the problem is more that there seems to be a getter that returns the non-wrapped list.\r\nBut I don't think this is the problem here. I have the feeling one of the inner queries is the bad guy. Can you post the fill clauses contents as tree?\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299799324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299803390","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1299803390","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1299803390,"node_id":"IC_kwDOFFj3yM5NeWz-","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T08:27:09Z","updated_at":"2022-11-02T08:27:09Z","author_association":"CONTRIBUTOR","body":"Anyways, we should figure out if not the WrappedQuery is changing its hashCode, because this one was explicitely mutable. But the setter is never called from Solr (dead code according to @risdenk, right?)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299803390/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299808362","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1299808362","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1299808362,"node_id":"IC_kwDOFFj3yM5NeYBq","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T08:29:16Z","updated_at":"2022-11-02T08:29:16Z","author_association":"CONTRIBUTOR","body":"For booleanQuery we have many tests in Lucene core and its own cache implementation. So it is three cases where it may break:\r\n- somebody calls getClauses() and modifies them (adding entries). We should prevent that by making the clauses unmodifiable in Lucene. I'll open an issue.\r\n- somebody modified one query inside the clauses. I would need to get all clauses of the above example\r\n- the WrappedQuery itsself is the issue. I would start there, see above.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299808362/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299968926","html_url":"https://github.com/apache/solr/pull/1159#issuecomment-1299968926","issue_url":"https://api.github.com/repos/apache/solr/issues/1159","id":1299968926,"node_id":"IC_kwDOFFj3yM5Ne_Oe","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T09:59:29Z","updated_at":"2022-11-02T09:59:29Z","author_association":"MEMBER","body":"Seems fine. Couldn't find review button, btw. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1299968926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300178646","html_url":"https://github.com/apache/solr/pull/1159#issuecomment-1300178646","issue_url":"https://api.github.com/repos/apache/solr/issues/1159","id":1300178646,"node_id":"IC_kwDOFFj3yM5NfybW","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T11:42:04Z","updated_at":"2022-11-02T11:42:04Z","author_association":"CONTRIBUTOR","body":"> Seems fine. Couldn't find review button, btw.\r\n\r\nI think if you go to the \"files\" tab , it's on the top right","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300178646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300514827","html_url":"https://github.com/apache/solr/pull/1156#issuecomment-1300514827","issue_url":"https://api.github.com/repos/apache/solr/issues/1156","id":1300514827,"node_id":"IC_kwDOFFj3yM5NhEgL","user":{"login":"mpetris","id":1111999,"node_id":"MDQ6VXNlcjExMTE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1111999?v=4","gravatar_id":"","url":"https://api.github.com/users/mpetris","html_url":"https://github.com/mpetris","followers_url":"https://api.github.com/users/mpetris/followers","following_url":"https://api.github.com/users/mpetris/following{/other_user}","gists_url":"https://api.github.com/users/mpetris/gists{/gist_id}","starred_url":"https://api.github.com/users/mpetris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpetris/subscriptions","organizations_url":"https://api.github.com/users/mpetris/orgs","repos_url":"https://api.github.com/users/mpetris/repos","events_url":"https://api.github.com/users/mpetris/events{/privacy}","received_events_url":"https://api.github.com/users/mpetris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T14:21:46Z","updated_at":"2022-11-02T14:21:46Z","author_association":"CONTRIBUTOR","body":"> Hey, this looks excellent! The code looks a bit deja-vu... do you think we could & should factorize out anything common?\r\n\r\n@dsmiley We could factorize out most of `SlowCompositeReaderWrapper::getSortedDocValues` and `SlowCompositeReaderWrapper::getSortedSetDocValues` to `MultiDocValues` just like it was. But to me it looks like as the two `MultiDocValues` methods were used in `SlowCompositeReaderWrapper` only. So I'm not sure that it would be worth the effort. Moreover since the usage of `MultiDocValues` seems to be discouraged anyway.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300514827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300573313","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1300573313","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1300573313,"node_id":"IC_kwDOFFj3yM5NhSyB","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T14:46:51Z","updated_at":"2022-11-02T14:46:51Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/solr/search?q=setWrappedQuery is definitely not used in Solr main.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300573313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300604173","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1300604173","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1300604173,"node_id":"IC_kwDOFFj3yM5NhaUN","user":{"login":"DennisBerger1984","id":69144692,"node_id":"MDQ6VXNlcjY5MTQ0Njky","avatar_url":"https://avatars.githubusercontent.com/u/69144692?v=4","gravatar_id":"","url":"https://api.github.com/users/DennisBerger1984","html_url":"https://github.com/DennisBerger1984","followers_url":"https://api.github.com/users/DennisBerger1984/followers","following_url":"https://api.github.com/users/DennisBerger1984/following{/other_user}","gists_url":"https://api.github.com/users/DennisBerger1984/gists{/gist_id}","starred_url":"https://api.github.com/users/DennisBerger1984/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DennisBerger1984/subscriptions","organizations_url":"https://api.github.com/users/DennisBerger1984/orgs","repos_url":"https://api.github.com/users/DennisBerger1984/repos","events_url":"https://api.github.com/users/DennisBerger1984/events{/privacy}","received_events_url":"https://api.github.com/users/DennisBerger1984/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T14:59:11Z","updated_at":"2022-11-02T14:59:11Z","author_association":"NONE","body":"@uschindler does this help?\r\n\r\n![1](https://user-images.githubusercontent.com/69144692/199523879-cdddb7e3-f23c-4c5d-9cde-7099f35dd870.png)\r\n![2](https://user-images.githubusercontent.com/69144692/199523888-e922fda3-086d-4a01-afdd-e68606457ae2.png)\r\n![3](https://user-images.githubusercontent.com/69144692/199523899-d8cd980a-4e81-4f70-97bd-953020b426dd.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300604173/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300609618","html_url":"https://github.com/apache/solr/pull/1154#issuecomment-1300609618","issue_url":"https://api.github.com/repos/apache/solr/issues/1154","id":1300609618,"node_id":"IC_kwDOFFj3yM5NhbpS","user":{"login":"rseitz","id":232979,"node_id":"MDQ6VXNlcjIzMjk3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/232979?v=4","gravatar_id":"","url":"https://api.github.com/users/rseitz","html_url":"https://github.com/rseitz","followers_url":"https://api.github.com/users/rseitz/followers","following_url":"https://api.github.com/users/rseitz/following{/other_user}","gists_url":"https://api.github.com/users/rseitz/gists{/gist_id}","starred_url":"https://api.github.com/users/rseitz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rseitz/subscriptions","organizations_url":"https://api.github.com/users/rseitz/orgs","repos_url":"https://api.github.com/users/rseitz/repos","events_url":"https://api.github.com/users/rseitz/events{/privacy}","received_events_url":"https://api.github.com/users/rseitz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T15:01:15Z","updated_at":"2022-11-02T15:01:15Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @risdenk and thanks to @dsmiley for feedback on the JIRA ticket. I have reworked this PR in accordance with that feedback. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300609618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300772734","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1300772734","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1300772734,"node_id":"IC_kwDOFFj3yM5NiDd-","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T16:04:13Z","updated_at":"2022-11-02T16:04:13Z","author_association":"CONTRIBUTOR","body":"Yes this helps. Interestingly: The \"clauses\" of a BooleanQuery are non-mutable, it is already wrapped with Collections.unmodifiableList(). So nobody can change the clauses after calling BooleanQuery.getCauses().","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300772734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300803918","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1300803918","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1300803918,"node_id":"IC_kwDOFFj3yM5NiLFO","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T16:15:43Z","updated_at":"2022-11-02T16:18:18Z","author_association":"NONE","body":"oh yes, I did not notice that `Collection<Query> getClauses(Occur occur)` is package-private. This is returning a mutable collection from `clauseSets`, but since it is not public then that is safe (maybe package-private for testing).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300803918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300811132","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1300811132","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1300811132,"node_id":"IC_kwDOFFj3yM5NiM18","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T16:18:32Z","updated_at":"2022-11-02T16:18:32Z","author_association":"CONTRIBUTOR","body":"This is a non-Lucene or non-Solr query from the external Querqy plugin.\r\n\r\nhttps://github.com/querqy/querqy/blob/1dbafde2eddc0938b309bbe955f127148671fd41/querqy-for-lucene/querqy-lucene/src/main/java/querqy/lucene/rewrite/FieldBoostTermQueryBuilder.java\r\n\r\nIt looks fine, too. It also implements equals and hashCode.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300811132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300831545","html_url":"https://github.com/apache/solr/pull/1118#issuecomment-1300831545","issue_url":"https://api.github.com/repos/apache/solr/issues/1118","id":1300831545,"node_id":"IC_kwDOFFj3yM5NiR05","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T16:26:51Z","updated_at":"2022-11-02T16:26:51Z","author_association":"CONTRIBUTOR","body":"DisjunctionMaxQuery unfortunately has a getDisjuncts that returns a mutable Multiset (a Lucene collection subclass): https://github.com/apache/lucene/blob/main/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxQuery.java","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300831545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300871894","html_url":"https://github.com/apache/solr/pull/1156#issuecomment-1300871894","issue_url":"https://api.github.com/repos/apache/solr/issues/1156","id":1300871894,"node_id":"IC_kwDOFFj3yM5NibrW","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T16:43:06Z","updated_at":"2022-11-02T16:43:06Z","author_association":"CONTRIBUTOR","body":"I don't mean change Lucene code, I mean change SlowCompositeReaderWrapper internals only.  Yeah Multi-stuff is kind of discouraged... more of a  -- hey, use this if your algorithm can't easily loop over segments, which is probably what you should do if you cant. These Multi-classes are not going away.\r\n\r\nIt's also okay to accept some duplication if you are only duplicating the Lucene code since at least then it's easier to verify we are keeping in sync with possible changes in Lucene.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1300871894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1301979984","html_url":"https://github.com/apache/solr/pull/1156#issuecomment-1301979984","issue_url":"https://api.github.com/repos/apache/solr/issues/1156","id":1301979984,"node_id":"IC_kwDOFFj3yM5NmqNQ","user":{"login":"mpetris","id":1111999,"node_id":"MDQ6VXNlcjExMTE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1111999?v=4","gravatar_id":"","url":"https://api.github.com/users/mpetris","html_url":"https://github.com/mpetris","followers_url":"https://api.github.com/users/mpetris/followers","following_url":"https://api.github.com/users/mpetris/following{/other_user}","gists_url":"https://api.github.com/users/mpetris/gists{/gist_id}","starred_url":"https://api.github.com/users/mpetris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpetris/subscriptions","organizations_url":"https://api.github.com/users/mpetris/orgs","repos_url":"https://api.github.com/users/mpetris/repos","events_url":"https://api.github.com/users/mpetris/events{/privacy}","received_events_url":"https://api.github.com/users/mpetris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T11:43:26Z","updated_at":"2022-11-03T11:43:26Z","author_association":"CONTRIBUTOR","body":"OK, got it. We refactored the implementation a bit to seperate the algorithm from the access to SortedDocValues and SortedSetDocValues. This allows us to have the algorithm only once. It is a different style now compared to the style from MultiDocValues. I like the refactored one better but it depends a bit on ones taste.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1301979984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302158328","html_url":"https://github.com/apache/solr/pull/1141#issuecomment-1302158328","issue_url":"https://api.github.com/repos/apache/solr/issues/1141","id":1302158328,"node_id":"IC_kwDOFFj3yM5NnVv4","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T14:00:29Z","updated_at":"2022-11-03T14:00:29Z","author_association":"CONTRIBUTOR","body":"> @cpoerschke @risdenk Thanks! Any hope of getting this into 9.1? I see RC1 is out now...\r\n\r\nLooks like there's gonna be an RC2 -- https://lists.apache.org/thread/scd8b4pks4b9xnkppv4cz1hf05zlpxq8 is to ask about including this change in that.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302158328/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302223617","html_url":"https://github.com/apache/solr/pull/1157#issuecomment-1302223617","issue_url":"https://api.github.com/repos/apache/solr/issues/1157","id":1302223617,"node_id":"IC_kwDOFFj3yM5NnlsB","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T14:45:49Z","updated_at":"2022-11-03T14:45:49Z","author_association":"CONTRIBUTOR","body":"This makes sense to me; seems like maybe just an oversight rather than an intentional decision. @anshumg could you take a quick look and confirm/contradict?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302223617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302395229","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1302395229","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1302395229,"node_id":"IC_kwDOFFj3yM5NoPld","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T16:51:18Z","updated_at":"2022-11-03T16:51:18Z","author_association":"CONTRIBUTOR","body":"So...   `LBHttp2SolrClient` doesn't have a Builder pattern...   Should it?   I'm worried about never getting this PR to a committable shape by adding more....   On the other hand, maybe to commit this, we need `LBHttp2SolrClient` to have a Builder?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302395229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302466510","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1302466510","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1302466510,"node_id":"IC_kwDOFFj3yM5Nog_O","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T17:47:58Z","updated_at":"2022-11-03T17:47:58Z","author_association":"CONTRIBUTOR","body":"While you are changing these lines of code, why not use Http2 as well?  Put differently, work on making Http2 Builder's more comprehensive... and may or may not get to the deprecated clients.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302466510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302471764","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1302471764","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1302471764,"node_id":"IC_kwDOFFj3yM5NoiRU","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T17:52:40Z","updated_at":"2022-11-03T17:52:40Z","author_association":"CONTRIBUTOR","body":"The \"LB\" variants, I think of as being rather internal.  Thus true immutability is not very important if we can see that within Solr's codebase, the setters are only ever invoked immediately after construction and not at arbitrary points afterwards.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302471764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302480360","html_url":"https://github.com/apache/solr/pull/1158#issuecomment-1302480360","issue_url":"https://api.github.com/repos/apache/solr/issues/1158","id":1302480360,"node_id":"IC_kwDOFFj3yM5NokXo","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T17:59:52Z","updated_at":"2022-11-03T17:59:52Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nSo I'm clear, you are suggesting that where we create a `HttpSolrClient` in tests that just need a `SolrClient`, look to move to Http2SolrClient?   I can do that, it looks like `SolrJettyTestBase` is a candidate for that...  I worry that will make this PR not mergable..   On the other hand, I'm happy to keep going! ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302480360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302673179","html_url":"https://github.com/apache/solr/pull/1160#issuecomment-1302673179","issue_url":"https://api.github.com/repos/apache/solr/issues/1160","id":1302673179,"node_id":"IC_kwDOFFj3yM5NpTcb","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T21:16:33Z","updated_at":"2022-11-03T21:16:33Z","author_association":"CONTRIBUTOR","body":"Hi Calvnce.  I guess you're off to a good start but obviously more to do.  You have a new source file here but nothing calls it; I don't think Solr uses any auto-registration based on scanning annotations (as some platforms might do).  For example AddReplicaPropertyAPI is registered in CollectionsHandler.  You'll want to test this of course, both an automated test but actually try it.  I recommend looking at other recent PRs pertaining to the V2 APIs.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302673179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302683368","html_url":"https://github.com/apache/solr/pull/585#issuecomment-1302683368","issue_url":"https://api.github.com/repos/apache/solr/issues/585","id":1302683368,"node_id":"IC_kwDOFFj3yM5NpV7o","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T21:27:50Z","updated_at":"2022-11-03T21:27:50Z","author_association":"CONTRIBUTOR","body":"> Btw we need to upgrade, as we are seeing https://github.com/eclipse/jetty.project/issues/8558 in our failing tests, and need an upgrade path when Jetty 10.0.13 is released.\r\n\r\nyup this also affects Jetty 9.4.x from what I gather from SOLR-16099 ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1302683368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]